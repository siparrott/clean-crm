const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DBmf890M.js","assets/vendor-DZkXyRe8.js","assets/router-5hN9ru4p.js"])))=>i.map(i=>d[i]);
var mQ=Object.defineProperty;var sP=e=>{throw TypeError(e)};var pQ=(e,t,r)=>t in e?mQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ke=(e,t,r)=>pQ(e,typeof t!="symbol"?t+"":t,r),o5=(e,t,r)=>t.has(e)||sP("Cannot "+r);var Oe=(e,t,r)=>(o5(e,t,"read from private field"),r?r.call(e):t.get(e)),Wt=(e,t,r)=>t.has(e)?sP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_t=(e,t,r,s)=>(o5(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Pr=(e,t,r)=>(o5(e,t,"access private method"),r);var Bb=(e,t,r,s)=>({set _(a){_t(e,t,a,r)},get _(){return Oe(e,t,s)}});import{r as _,a as Mv,c as ul,g as hn,b as ve,R as VF,d as gQ}from"./vendor-DZkXyRe8.js";import{u as H2,L as $t,a as En,b as xQ,c as Uo,N as aA,B as yQ,R as vQ,d as gt}from"./router-5hN9ru4p.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var qF={exports:{}},G2={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bQ=_,wQ=Symbol.for("react.element"),jQ=Symbol.for("react.fragment"),NQ=Object.prototype.hasOwnProperty,SQ=bQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_Q={key:!0,ref:!0,__self:!0,__source:!0};function WF(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)NQ.call(t,s)&&!_Q.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:wQ,type:e,key:i,ref:o,props:a,_owner:SQ.current}}G2.Fragment=jQ;G2.jsx=WF;G2.jsxs=WF;qF.exports=G2;var n=qF.exports,HF,aP=Mv;HF=aP.createRoot,aP.hydrateRoot;var Nx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},km=typeof window>"u"||"Deno"in globalThis;function Ti(){}function AQ(e,t){return typeof e=="function"?e(t):e}function YS(e){return typeof e=="number"&&e>=0&&e!==1/0}function GF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Lh(e,t){return typeof e=="function"?e(t):e}function dl(e,t){return typeof e=="function"?e(t):e}function iP(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==iA(o,t.options))return!1}else if(!Py(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function oP(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Cm(t.options.mutationKey)!==Cm(i))return!1}else if(!Py(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function iA(e,t){return(t?.queryKeyHashFn||Cm)(e)}function Cm(e){return JSON.stringify(e,(t,r)=>ZS(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Py(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Py(e[r],t[r])):!1}function KF(e,t){if(e===t)return e;const r=lP(e)&&lP(t);if(r||ZS(e)&&ZS(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=KF(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function Q1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function lP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ZS(e){if(!cP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!cP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function cP(e){return Object.prototype.toString.call(e)==="[object Object]"}function kQ(e){return new Promise(t=>{setTimeout(t,e)})}function XS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?KF(e,t):t}function CQ(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function PQ(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var oA=Symbol();function YF(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===oA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ZF(e,t){return typeof e=="function"?e(...t):!!e}var hm,vh,jg,VD,TQ=(VD=class extends Nx{constructor(){super();Wt(this,hm);Wt(this,vh);Wt(this,jg);_t(this,jg,t=>{if(!km&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Oe(this,vh)||this.setEventListener(Oe(this,jg))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,vh))==null||t.call(this),_t(this,vh,void 0))}setEventListener(t){var r;_t(this,jg,t),(r=Oe(this,vh))==null||r.call(this),_t(this,vh,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Oe(this,hm)!==t&&(_t(this,hm,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof Oe(this,hm)=="boolean"?Oe(this,hm):globalThis.document?.visibilityState!=="hidden"}},hm=new WeakMap,vh=new WeakMap,jg=new WeakMap,VD),lA=new TQ,Ng,bh,Sg,qD,EQ=(qD=class extends Nx{constructor(){super();Wt(this,Ng,!0);Wt(this,bh);Wt(this,Sg);_t(this,Sg,t=>{if(!km&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Oe(this,bh)||this.setEventListener(Oe(this,Sg))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,bh))==null||t.call(this),_t(this,bh,void 0))}setEventListener(t){var r;_t(this,Sg,t),(r=Oe(this,bh))==null||r.call(this),_t(this,bh,t(this.setOnline.bind(this)))}setOnline(t){Oe(this,Ng)!==t&&(_t(this,Ng,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Oe(this,Ng)}},Ng=new WeakMap,bh=new WeakMap,Sg=new WeakMap,qD),J1=new EQ;function QS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function OQ(e){return Math.min(1e3*2**e,3e4)}function XF(e){return(e??"online")==="online"?J1.isOnline():!0}var QF=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function JF(e){let t=!1,r=0,s;const a=QS(),i=()=>a.status!=="pending",o=g=>{i()||(p(new QF(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>lA.isFocused()&&(e.networkMode==="always"||J1.isOnline())&&e.canRun(),u=()=>XF(e.networkMode)&&e.canRun(),h=g=>{i()||(s?.(),a.resolve(g))},p=g=>{i()||(s?.(),a.reject(g))},f=()=>new Promise(g=>{s=v=>{(i()||d())&&g(v)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),y=()=>{if(i())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{if(i())return;const S=e.retry??(km?0:3),N=e.retryDelay??OQ,w=typeof N=="function"?N(r,b):N,C=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,b);if(t||!C){p(b);return}r++,e.onFail?.(r,b),kQ(w).then(()=>d()?void 0:f()).then(()=>{t?p(b):y()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s?.(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():f().then(y),a)}}var LQ=e=>setTimeout(e,0);function IQ(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=LQ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var xa=IQ(),fm,WD,eR=(WD=class{constructor(){Wt(this,fm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YS(this.gcTime)&&_t(this,fm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(km?1/0:5*60*1e3))}clearGcTimeout(){Oe(this,fm)&&(clearTimeout(Oe(this,fm)),_t(this,fm,void 0))}},fm=new WeakMap,WD),_g,Ag,ll,mm,Ca,Ev,pm,Wl,Fd,HD,MQ=(HD=class extends eR{constructor(t){super();Wt(this,Wl);Wt(this,_g);Wt(this,Ag);Wt(this,ll);Wt(this,mm);Wt(this,Ca);Wt(this,Ev);Wt(this,pm);_t(this,pm,!1),_t(this,Ev,t.defaultOptions),this.setOptions(t.options),this.observers=[],_t(this,mm,t.client),_t(this,ll,Oe(this,mm).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_t(this,_g,DQ(this.options)),this.state=t.state??Oe(this,_g),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Oe(this,Ca)?.promise}setOptions(t){this.options={...Oe(this,Ev),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Oe(this,ll).remove(this)}setData(t,r){const s=XS(this.state.data,t,this.options);return Pr(this,Wl,Fd).call(this,{data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(t,r){Pr(this,Wl,Fd).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=Oe(this,Ca)?.promise;return Oe(this,Ca)?.cancel(t),r?r.then(Ti).catch(Ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Oe(this,_g))}isActive(){return this.observers.some(t=>dl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Lh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!GF(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Oe(this,Ca)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Oe(this,Ca)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Oe(this,ll).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Oe(this,Ca)&&(Oe(this,pm)?Oe(this,Ca).cancel({revert:!0}):Oe(this,Ca).cancelRetry()),this.scheduleGc()),Oe(this,ll).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pr(this,Wl,Fd).call(this,{type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&Oe(this,Ca)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(Oe(this,Ca))return Oe(this,Ca).continueRetry(),Oe(this,Ca).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(_t(this,pm,!0),s.signal)})},i=()=>{const c=YF(this.options,r),u=(()=>{const h={client:Oe(this,mm),queryKey:this.queryKey,meta:this.meta};return a(h),h})();return _t(this,pm,!1),this.options.persister?this.options.persister(c,u,this):c(u)},l=(()=>{const c={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Oe(this,mm),state:this.state,fetchFn:i};return a(c),c})();this.options.behavior?.onFetch(l,this),_t(this,Ag,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&Pr(this,Wl,Fd).call(this,{type:"fetch",meta:l.fetchOptions?.meta}),_t(this,Ca,JF({initialPromise:r?.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onFail:(c,d)=>{Pr(this,Wl,Fd).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{Pr(this,Wl,Fd).call(this,{type:"pause"})},onContinue:()=>{Pr(this,Wl,Fd).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const c=await Oe(this,Ca).start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),Oe(this,ll).config.onSuccess?.(c,this),Oe(this,ll).config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof QF){if(c.silent)return Oe(this,Ca).promise;if(c.revert){if(this.setState({...Oe(this,Ag),fetchStatus:"idle"}),this.state.data===void 0)throw c;return this.state.data}}throw Pr(this,Wl,Fd).call(this,{type:"error",error:c}),Oe(this,ll).config.onError?.(c,this),Oe(this,ll).config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}},_g=new WeakMap,Ag=new WeakMap,ll=new WeakMap,mm=new WeakMap,Ca=new WeakMap,Ev=new WeakMap,pm=new WeakMap,Wl=new WeakSet,Fd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...tR(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _t(this,Ag,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),xa.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Oe(this,ll).notify({query:this,type:"updated",action:t})})},HD);function tR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Dc,GD,FQ=(GD=class extends Nx{constructor(t={}){super();Wt(this,Dc);this.config=t,_t(this,Dc,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??iA(a,r);let o=this.get(i);return o||(o=new MQ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Oe(this,Dc).has(t.queryHash)||(Oe(this,Dc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Oe(this,Dc).get(t.queryHash);r&&(t.destroy(),r===t&&Oe(this,Dc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Oe(this,Dc).get(t)}getAll(){return[...Oe(this,Dc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>iP(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>iP(t,s)):r}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dc=new WeakMap,GD),Fc,ki,gm,Rc,lh,KD,RQ=(KD=class extends eR{constructor(t){super();Wt(this,Rc);Wt(this,Fc);Wt(this,ki);Wt(this,gm);this.mutationId=t.mutationId,_t(this,ki,t.mutationCache),_t(this,Fc,[]),this.state=t.state||rR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Oe(this,Fc).includes(t)||(Oe(this,Fc).push(t),this.clearGcTimeout(),Oe(this,ki).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_t(this,Fc,Oe(this,Fc).filter(r=>r!==t)),this.scheduleGc(),Oe(this,ki).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Oe(this,Fc).length||(this.state.status==="pending"?this.scheduleGc():Oe(this,ki).remove(this))}continue(){return Oe(this,gm)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{Pr(this,Rc,lh).call(this,{type:"continue"})};_t(this,gm,JF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{Pr(this,Rc,lh).call(this,{type:"failed",failureCount:i,error:o})},onPause:()=>{Pr(this,Rc,lh).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Oe(this,ki).canRun(this)}));const s=this.state.status==="pending",a=!Oe(this,gm).canStart();try{if(s)r();else{Pr(this,Rc,lh).call(this,{type:"pending",variables:t,isPaused:a}),await Oe(this,ki).config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&Pr(this,Rc,lh).call(this,{type:"pending",context:o,variables:t,isPaused:a})}const i=await Oe(this,gm).start();return await Oe(this,ki).config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await Oe(this,ki).config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),Pr(this,Rc,lh).call(this,{type:"success",data:i}),i}catch(i){try{throw await Oe(this,ki).config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await Oe(this,ki).config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{Pr(this,Rc,lh).call(this,{type:"error",error:i})}}finally{Oe(this,ki).runNext(this)}}},Fc=new WeakMap,ki=new WeakMap,gm=new WeakMap,Rc=new WeakSet,lh=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xa.batch(()=>{Oe(this,Fc).forEach(s=>{s.onMutationUpdate(t)}),Oe(this,ki).notify({mutation:this,type:"updated",action:t})})},KD);function rR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ud,Hl,Ov,YD,$Q=(YD=class extends Nx{constructor(t={}){super();Wt(this,Ud);Wt(this,Hl);Wt(this,Ov);this.config=t,_t(this,Ud,new Set),_t(this,Hl,new Map),_t(this,Ov,0)}build(t,r,s){const a=new RQ({mutationCache:this,mutationId:++Bb(this,Ov)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){Oe(this,Ud).add(t);const r=zb(t);if(typeof r=="string"){const s=Oe(this,Hl).get(r);s?s.push(t):Oe(this,Hl).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Oe(this,Ud).delete(t)){const r=zb(t);if(typeof r=="string"){const s=Oe(this,Hl).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&Oe(this,Hl).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zb(t);if(typeof r=="string"){const a=Oe(this,Hl).get(r)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const r=zb(t);return typeof r=="string"?Oe(this,Hl).get(r)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){xa.batch(()=>{Oe(this,Ud).forEach(t=>{this.notify({type:"removed",mutation:t})}),Oe(this,Ud).clear(),Oe(this,Hl).clear()})}getAll(){return Array.from(Oe(this,Ud))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>oP(r,s))}findAll(t={}){return this.getAll().filter(r=>oP(t,r))}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xa.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ti))))}},Ud=new WeakMap,Hl=new WeakMap,Ov=new WeakMap,YD);function zb(e){return e.options.scope?.id}function dP(e){return{onFetch:(t,r)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},p=YF(t.options,t.fetchOptions),f=async(y,g,v)=>{if(u)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const S=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return h(L),L})(),N=await p(S),{maxPages:w}=t.options,C=v?PQ:CQ;return{pages:C(y.pages,N,w),pageParams:C(y.pageParams,g,w)}};if(a&&i.length){const y=a==="backward",g=y?BQ:uP,v={pages:i,pageParams:o},b=g(s,v);l=await f(v,b,y)}else{const y=e??i.length;do{const g=c===0?o[0]??s.initialPageParam:uP(s,l);if(c>0&&g==null)break;l=await f(l,g),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function uP(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function BQ(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Cs,wh,jh,kg,Cg,Nh,Pg,Tg,ZD,zQ=(ZD=class{constructor(e={}){Wt(this,Cs);Wt(this,wh);Wt(this,jh);Wt(this,kg);Wt(this,Cg);Wt(this,Nh);Wt(this,Pg);Wt(this,Tg);_t(this,Cs,e.queryCache||new FQ),_t(this,wh,e.mutationCache||new $Q),_t(this,jh,e.defaultOptions||{}),_t(this,kg,new Map),_t(this,Cg,new Map),_t(this,Nh,0)}mount(){Bb(this,Nh)._++,Oe(this,Nh)===1&&(_t(this,Pg,lA.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,Cs).onFocus())})),_t(this,Tg,J1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,Cs).onOnline())})))}unmount(){var e,t;Bb(this,Nh)._--,Oe(this,Nh)===0&&((e=Oe(this,Pg))==null||e.call(this),_t(this,Pg,void 0),(t=Oe(this,Tg))==null||t.call(this),_t(this,Tg,void 0))}isFetching(e){return Oe(this,Cs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Oe(this,wh).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return Oe(this,Cs).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Oe(this,Cs).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Lh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Oe(this,Cs).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=Oe(this,Cs).get(s.queryHash)?.state.data,o=AQ(t,i);if(o!==void 0)return Oe(this,Cs).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xa.batch(()=>Oe(this,Cs).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return Oe(this,Cs).get(t.queryHash)?.state}removeQueries(e){const t=Oe(this,Cs);xa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Oe(this,Cs);return xa.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=xa.batch(()=>Oe(this,Cs).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Ti).catch(Ti)}invalidateQueries(e,t={}){return xa.batch(()=>(Oe(this,Cs).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=xa.batch(()=>Oe(this,Cs).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ti)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ti)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Oe(this,Cs).build(this,t);return r.isStaleByTime(Lh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ti).catch(Ti)}fetchInfiniteQuery(e){return e.behavior=dP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ti).catch(Ti)}ensureInfiniteQueryData(e){return e.behavior=dP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return J1.isOnline()?Oe(this,wh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Oe(this,Cs)}getMutationCache(){return Oe(this,wh)}getDefaultOptions(){return Oe(this,jh)}setDefaultOptions(e){_t(this,jh,e)}setQueryDefaults(e,t){Oe(this,kg).set(Cm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Oe(this,kg).values()],r={};return t.forEach(s=>{Py(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){Oe(this,Cg).set(Cm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Oe(this,Cg).values()],r={};return t.forEach(s=>{Py(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Oe(this,jh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=iA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...Oe(this,jh).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Oe(this,Cs).clear(),Oe(this,wh).clear()}},Cs=new WeakMap,wh=new WeakMap,jh=new WeakMap,kg=new WeakMap,Cg=new WeakMap,Nh=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,ZD),Zi,Hr,Lv,Ci,xm,Eg,Vd,Sh,Iv,Og,Lg,ym,vm,_h,Ig,vn,Z0,JS,e_,t_,r_,n_,s_,a_,nR,XD,UQ=(XD=class extends Nx{constructor(t,r){super();Wt(this,vn);Wt(this,Zi);Wt(this,Hr);Wt(this,Lv);Wt(this,Ci);Wt(this,xm);Wt(this,Eg);Wt(this,Vd);Wt(this,Sh);Wt(this,Iv);Wt(this,Og);Wt(this,Lg);Wt(this,ym);Wt(this,vm);Wt(this,_h);Wt(this,Ig,new Set);this.options=r,_t(this,Zi,t),_t(this,Sh,null),_t(this,Vd,QS()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Oe(this,Hr).addObserver(this),hP(Oe(this,Hr),this.options)?Pr(this,vn,Z0).call(this):this.updateResult(),Pr(this,vn,r_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return i_(Oe(this,Hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return i_(Oe(this,Hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pr(this,vn,n_).call(this),Pr(this,vn,s_).call(this),Oe(this,Hr).removeObserver(this)}setOptions(t){const r=this.options,s=Oe(this,Hr);if(this.options=Oe(this,Zi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dl(this.options.enabled,Oe(this,Hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pr(this,vn,a_).call(this),Oe(this,Hr).setOptions(this.options),r._defaulted&&!Q1(this.options,r)&&Oe(this,Zi).getQueryCache().notify({type:"observerOptionsUpdated",query:Oe(this,Hr),observer:this});const a=this.hasListeners();a&&fP(Oe(this,Hr),s,this.options,r)&&Pr(this,vn,Z0).call(this),this.updateResult(),a&&(Oe(this,Hr)!==s||dl(this.options.enabled,Oe(this,Hr))!==dl(r.enabled,Oe(this,Hr))||Lh(this.options.staleTime,Oe(this,Hr))!==Lh(r.staleTime,Oe(this,Hr)))&&Pr(this,vn,JS).call(this);const i=Pr(this,vn,e_).call(this);a&&(Oe(this,Hr)!==s||dl(this.options.enabled,Oe(this,Hr))!==dl(r.enabled,Oe(this,Hr))||i!==Oe(this,_h))&&Pr(this,vn,t_).call(this,i)}getOptimisticResult(t){const r=Oe(this,Zi).getQueryCache().build(Oe(this,Zi),t),s=this.createResult(r,t);return qQ(this,s)&&(_t(this,Ci,s),_t(this,Eg,this.options),_t(this,xm,Oe(this,Hr).state)),s}getCurrentResult(){return Oe(this,Ci)}trackResult(t,r){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),r?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&Oe(this,Vd).status==="pending"&&Oe(this,Vd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){Oe(this,Ig).add(t)}getCurrentQuery(){return Oe(this,Hr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Oe(this,Zi).defaultQueryOptions(t),s=Oe(this,Zi).getQueryCache().build(Oe(this,Zi),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Pr(this,vn,Z0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Oe(this,Ci)))}createResult(t,r){const s=Oe(this,Hr),a=this.options,i=Oe(this,Ci),o=Oe(this,xm),l=Oe(this,Eg),d=t!==s?t.state:Oe(this,Lv),{state:u}=t;let h={...u},p=!1,f;if(r._optimisticResults){const P=this.hasListeners(),B=!P&&hP(t,r),T=P&&fP(t,s,r,a);(B||T)&&(h={...h,...tR(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:v}=h;f=h.data;let b=!1;if(r.placeholderData!==void 0&&f===void 0&&v==="pending"){let P;i?.isPlaceholderData&&r.placeholderData===l?.placeholderData?(P=i.data,b=!0):P=typeof r.placeholderData=="function"?r.placeholderData(Oe(this,Lg)?.state.data,Oe(this,Lg)):r.placeholderData,P!==void 0&&(v="success",f=XS(i?.data,P,r),p=!0)}if(r.select&&f!==void 0&&!b)if(i&&f===o?.data&&r.select===Oe(this,Iv))f=Oe(this,Og);else try{_t(this,Iv,r.select),f=r.select(f),f=XS(i?.data,f,r),_t(this,Og,f),_t(this,Sh,null)}catch(P){_t(this,Sh,P)}Oe(this,Sh)&&(y=Oe(this,Sh),f=Oe(this,Og),g=Date.now(),v="error");const S=h.fetchStatus==="fetching",N=v==="pending",w=v==="error",C=N&&S,L=f!==void 0,A={status:v,fetchStatus:h.fetchStatus,isPending:N,isSuccess:v==="success",isError:w,isInitialLoading:C,isLoading:C,data:f,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:w&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:w&&L,isStale:cA(t,r),refetch:this.refetch,promise:Oe(this,Vd),isEnabled:dl(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{A.status==="error"?I.reject(A.error):A.data!==void 0&&I.resolve(A.data)},B=()=>{const I=_t(this,Vd,A.promise=QS());P(I)},T=Oe(this,Vd);switch(T.status){case"pending":t.queryHash===s.queryHash&&P(T);break;case"fulfilled":(A.status==="error"||A.data!==T.value)&&B();break;case"rejected":(A.status!=="error"||A.error!==T.reason)&&B();break}}return A}updateResult(){const t=Oe(this,Ci),r=this.createResult(Oe(this,Hr),this.options);if(_t(this,xm,Oe(this,Hr).state),_t(this,Eg,this.options),Oe(this,xm).data!==void 0&&_t(this,Lg,Oe(this,Hr)),Q1(r,t))return;_t(this,Ci,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Oe(this,Ig).size)return!0;const o=new Set(i??Oe(this,Ig));return this.options.throwOnError&&o.add("error"),Object.keys(Oe(this,Ci)).some(l=>{const c=l;return Oe(this,Ci)[c]!==t[c]&&o.has(c)})};Pr(this,vn,nR).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pr(this,vn,r_).call(this)}},Zi=new WeakMap,Hr=new WeakMap,Lv=new WeakMap,Ci=new WeakMap,xm=new WeakMap,Eg=new WeakMap,Vd=new WeakMap,Sh=new WeakMap,Iv=new WeakMap,Og=new WeakMap,Lg=new WeakMap,ym=new WeakMap,vm=new WeakMap,_h=new WeakMap,Ig=new WeakMap,vn=new WeakSet,Z0=function(t){Pr(this,vn,a_).call(this);let r=Oe(this,Hr).fetch(this.options,t);return t?.throwOnError||(r=r.catch(Ti)),r},JS=function(){Pr(this,vn,n_).call(this);const t=Lh(this.options.staleTime,Oe(this,Hr));if(km||Oe(this,Ci).isStale||!YS(t))return;const s=GF(Oe(this,Ci).dataUpdatedAt,t)+1;_t(this,ym,setTimeout(()=>{Oe(this,Ci).isStale||this.updateResult()},s))},e_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Oe(this,Hr)):this.options.refetchInterval)??!1},t_=function(t){Pr(this,vn,s_).call(this),_t(this,_h,t),!(km||dl(this.options.enabled,Oe(this,Hr))===!1||!YS(Oe(this,_h))||Oe(this,_h)===0)&&_t(this,vm,setInterval(()=>{(this.options.refetchIntervalInBackground||lA.isFocused())&&Pr(this,vn,Z0).call(this)},Oe(this,_h)))},r_=function(){Pr(this,vn,JS).call(this),Pr(this,vn,t_).call(this,Pr(this,vn,e_).call(this))},n_=function(){Oe(this,ym)&&(clearTimeout(Oe(this,ym)),_t(this,ym,void 0))},s_=function(){Oe(this,vm)&&(clearInterval(Oe(this,vm)),_t(this,vm,void 0))},a_=function(){const t=Oe(this,Zi).getQueryCache().build(Oe(this,Zi),this.options);if(t===Oe(this,Hr))return;const r=Oe(this,Hr);_t(this,Hr,t),_t(this,Lv,t.state),this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))},nR=function(t){xa.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Oe(this,Ci))}),Oe(this,Zi).getQueryCache().notify({query:Oe(this,Hr),type:"observerResultsUpdated"})})},XD);function VQ(e,t){return dl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hP(e,t){return VQ(e,t)||e.state.data!==void 0&&i_(e,t,t.refetchOnMount)}function i_(e,t,r){if(dl(t.enabled,e)!==!1&&Lh(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&cA(e,t)}return!1}function fP(e,t,r,s){return(e!==t||dl(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cA(e,r)}function cA(e,t){return dl(t.enabled,e)!==!1&&e.isStaleByTime(Lh(t.staleTime,e))}function qQ(e,t){return!Q1(e.getCurrentResult(),t)}var Ah,kh,Xi,qd,tu,C1,o_,QD,WQ=(QD=class extends Nx{constructor(r,s){super();Wt(this,tu);Wt(this,Ah);Wt(this,kh);Wt(this,Xi);Wt(this,qd);_t(this,Ah,r),this.setOptions(s),this.bindMethods(),Pr(this,tu,C1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const s=this.options;this.options=Oe(this,Ah).defaultMutationOptions(r),Q1(this.options,s)||Oe(this,Ah).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Oe(this,Xi),observer:this}),s?.mutationKey&&this.options.mutationKey&&Cm(s.mutationKey)!==Cm(this.options.mutationKey)?this.reset():Oe(this,Xi)?.state.status==="pending"&&Oe(this,Xi).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Oe(this,Xi)?.removeObserver(this)}onMutationUpdate(r){Pr(this,tu,C1).call(this),Pr(this,tu,o_).call(this,r)}getCurrentResult(){return Oe(this,kh)}reset(){Oe(this,Xi)?.removeObserver(this),_t(this,Xi,void 0),Pr(this,tu,C1).call(this),Pr(this,tu,o_).call(this)}mutate(r,s){return _t(this,qd,s),Oe(this,Xi)?.removeObserver(this),_t(this,Xi,Oe(this,Ah).getMutationCache().build(Oe(this,Ah),this.options)),Oe(this,Xi).addObserver(this),Oe(this,Xi).execute(r)}},Ah=new WeakMap,kh=new WeakMap,Xi=new WeakMap,qd=new WeakMap,tu=new WeakSet,C1=function(){const r=Oe(this,Xi)?.state??rR();_t(this,kh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},o_=function(r){xa.batch(()=>{if(Oe(this,qd)&&this.hasListeners()){const s=Oe(this,kh).variables,a=Oe(this,kh).context;r?.type==="success"?(Oe(this,qd).onSuccess?.(r.data,s,a),Oe(this,qd).onSettled?.(r.data,null,s,a)):r?.type==="error"&&(Oe(this,qd).onError?.(r.error,s,a),Oe(this,qd).onSettled?.(void 0,r.error,s,a))}this.listeners.forEach(s=>{s(Oe(this,kh))})})},QD),sR=_.createContext(void 0),dA=e=>{const t=_.useContext(sR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},HQ=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(sR.Provider,{value:e,children:t})),aR=_.createContext(!1),GQ=()=>_.useContext(aR);aR.Provider;function KQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var YQ=_.createContext(KQ()),ZQ=()=>_.useContext(YQ),XQ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},QQ=e=>{_.useEffect(()=>{e.clearReset()},[e])},JQ=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||ZF(r,[e.error,s])),eJ=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},tJ=(e,t)=>e.isLoading&&e.isFetching&&!t,rJ=(e,t)=>e?.suspense&&t.isPending,mP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nJ(e,t,r){const s=GQ(),a=ZQ(),i=dA(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",eJ(o),XQ(o,a),QQ(a);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!s&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(h=>{const p=u?c.subscribe(xa.batchCalls(h)):Ti;return c.updateResult(),p},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),rJ(o,d))throw mP(o,c,a);if(JQ({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!km&&tJ(d,s)&&(l?mP(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Ti).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function P1(e,t){return nJ(e,UQ)}function X0(e,t){const r=dA(),[s]=_.useState(()=>new WQ(r,e));_.useEffect(()=>{s.setOptions(e)},[s,e]);const a=_.useSyncExternalStore(_.useCallback(o=>s.subscribe(xa.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=_.useCallback((o,l)=>{s.mutate(o,l).catch(Ti)},[s]);if(a.error&&ZF(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const sJ=new zQ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),aJ=async(e,t)=>{const r=await fetch(e,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!r.ok){const s=await r.json().catch(()=>({message:"Request failed"}));throw new Error(s.message||`HTTP ${r.status}`)}return r.json()},l5=[{id:"1",title:"New Age Fotografie",logo:"https://imgur.com/jvVH1ja.jpg",description:"Professionelle Fotoshootings für jeden Anlass."},{id:"2",title:"Dreams Hotel",logo:"https://imgur.com/gTX0qyn.jpg",description:"Luxuriöse Unterkünfte für Ihren perfekten Aufenthalt."},{id:"3",title:"EventWorks",logo:"https://imgur.com/2EsZmcP.jpg",description:"Full-Service Eventplanung und Management."}],iJ=["Familie","Baby","Hochzeit","Business","Event"],Q0=[{id:"1",title:"Vatertag Spezial Familienshooting",category:"Familie",partner:l5[0],description:"Spezielles Vatertag-Fotoshooting, das die besondere Bindung zwischen Vätern und ihren Kindern feiert. Inklusive Outdoor-Location mit natürlichem Licht und authentischen Momenten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/EOgBzhL.jpg",terms:"2 Jahre ab Kaufdatum gültig. Vatertag-Spezialpaket beinhaltet 15 bearbeitete Fotos und einen Premium-Print.",stock:20,slug:"vatertag-spezial"},{id:"2",title:"Babybauch bis Baby Paket",category:"Baby",partner:l5[0],description:"Begleiten Sie Ihre Reise von der Schwangerschaft bis zum Neugeborenen mit zwei professionellen Fotoshootings. Beinhaltet ein Schwangerschaftsshooting (32.-36. Woche) und ein Neugeborenen-Shooting (innerhalb der ersten 14 Tage).",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/QcHVj4A.jpg",terms:"18 Monate ab Kaufdatum gültig. Beinhaltet sowohl Schwangerschafts- als auch Neugeborenen-Shooting mit je 20 bearbeiteten Fotos.",stock:15,slug:"babybauch-bis-baby"},{id:"3",title:"Erster Geburtstag & Großeltern Spezial",category:"Baby",partner:l5[0],description:"Feiern Sie den ersten Geburtstag Ihres Kleinen mit einem besonderen Fotoshooting zusammen mit den Großeltern. Perfekt um drei Generationen und diese kostbaren Meilenstein-Momente festzuhalten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/puVF0cD.jpg",terms:"2 Jahre ab Kaufdatum gültig. Beinhaltet Cake-Smash-Setup und Familienporträts mit Großeltern. 25 bearbeitete Fotos inklusive.",stock:25,slug:"erster-geburtstag-grosseltern"}],oJ=[{id:"1",voucher:Q0[0],quantity:1,totalPrice:Q0[0].discountPrice,purchaserName:"John Doe",purchaserEmail:"john@example.com",status:"paid",voucherCode:"FAM12345",createdAt:"2025-01-15"},{id:"2",voucher:Q0[1],quantity:1,totalPrice:Q0[1].discountPrice,purchaserName:"Jane Smith",purchaserEmail:"jane@example.com",status:"pending",voucherCode:"ROM67890",createdAt:"2025-01-20"}],lJ={id:"1",email:"user@example.com",name:"Demo User"},iR=_.createContext(void 0),cJ=({children:e})=>{const[t]=_.useState(Q0),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState([]),u=r?t.filter(S=>S.category===r):t,h=S=>t.find(N=>N.slug===S),p=S=>t.find(N=>N.id===S),f=S=>{const N={...S,id:`order-${Date.now()}`,voucherCode:y(S.voucher.category),createdAt:new Date().toISOString().split("T")[0]};return d(w=>[...w,N]),N},y=S=>{const N=S.substring(0,3).toUpperCase(),w=Math.random().toString(36).substring(2,8).toUpperCase();return`${N}-${w}`},b={vouchers:t,filteredVouchers:u,categories:iJ,selectedCategory:r,setSelectedCategory:s,user:a,orders:c,getVoucherBySlug:h,getVoucherById:p,addOrder:f,isLoggedIn:o,login:()=>{i(lJ),l(!0),d(oJ)},logout:()=>{i(null),l(!1),d([])}};return n.jsx(iR.Provider,{value:b,children:e})},Km=()=>{const e=_.useContext(iR);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},Kr={auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),getUser:()=>Promise.resolve({data:{user:null},error:null}),signInWithPassword:()=>Promise.resolve({data:null,error:{message:"Supabase auth disabled - use Express sessions"}}),signOut:()=>Promise.resolve({error:null}),onAuthStateChange:e=>(e("SIGNED_OUT",null),{data:{subscription:{unsubscribe:()=>{}}},error:null})},from:e=>({select:t=>({eq:()=>Promise.resolve({data:[],error:null}),filter:()=>Promise.resolve({data:[],error:null}),order:()=>Promise.resolve({data:[],error:null}),limit:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null}),then:r=>r({data:[],error:null})}),insert:t=>({select:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null})}),update:t=>({eq:()=>({select:()=>Promise.resolve({data:[],error:null})})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:null})}),upsert:t=>({select:()=>Promise.resolve({data:[],error:null})})}),storage:{from:e=>({upload:()=>Promise.resolve({data:null,error:{message:"Supabase storage disabled - use local file storage"}}),getPublicUrl:t=>({data:{publicUrl:""}}),list:()=>Promise.resolve({data:[],error:null}),remove:()=>Promise.resolve({data:null,error:null})})},functions:{invoke:(e,t)=>Promise.resolve({data:null,error:{message:`Supabase Edge Function '${e}' disabled - migrate to internal API`}})}},pP=async()=>({active:!1,error:"Supabase project status disabled - app uses Neon database only",statusCode:0}),c5=e=>!1,oR=_.createContext(void 0),dJ=({children:e})=>{const[t,r]=_.useState(null),[s,a]=_.useState(!1),[i,o]=_.useState(!0);_.useEffect(()=>{Kr.auth.getSession().then(({data:{session:p},error:f})=>{r(p?.user??null),l(p?.user??null),o(!1)});const{data:{subscription:h}}=Kr.auth.onAuthStateChange((p,f)=>{r(f?.user??null),l(f?.user??null),o(!1)});return()=>h.unsubscribe()},[]);const l=async h=>{if(!h){a(!1);return}try{const{data:p,error:f}=await Kr.from("admin_users").select("is_admin").eq("user_id",h.id).single();if(f){a(!1);return}a(p?.is_admin??!1)}catch{a(!1)}},c=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await pP();if(!f?.active)throw new Error(f?.error||"Supabase project is not accessible");const{data:y,error:g}=await Kr.auth.signInWithPassword({email:h,password:p});if(g){if(g.message&&c5({message:g.message}))throw new Error(`Your Supabase project appears to be paused or experiencing database issues. Please:

1. Visit your Supabase dashboard (https://supabase.com/dashboard)
2. Check if your project is paused due to inactivity
3. If paused, click "Resume" to reactivate your project
4. Verify your project is on an active billing plan
5. Check the project logs for any specific error details

Once your project is active, try logging in again.`);const v=g.message||"";throw v.toLowerCase().includes("database error querying schema")?new Error(`Database connection error. Your Supabase project may be paused or experiencing issues. Please:

1. Check your Supabase dashboard to ensure the project is active
2. Verify your environment variables match your project settings
3. Check Supabase project logs for more details
4. Try refreshing the page and attempting login again`):v.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):v.toLowerCase().includes("email not confirmed")?new Error("Please confirm your email address before signing in."):v.toLowerCase().includes("unexpected_failure")?new Error(`Supabase service error. This usually indicates:

1. Your project may be paused (check Supabase dashboard)
2. Database connectivity issues
3. Service maintenance

Please try again in a few minutes or check your Supabase project status.`):g.status===500?new Error(`Server error occurred. Please check:

1. Supabase project status in your dashboard
2. Project logs for specific error details
3. Try again in a few minutes`):g}}catch(f){throw f}},d=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await pP();if(!f?.active)throw f?.error&&c5({message:f.error})?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):new Error(f?.error||"Supabase project is not accessible");const{error:y}=await Kr.auth.signUp({email:h,password:p,options:{emailRedirectTo:`${window.location.origin}/gallery`}});if(y)throw y.message&&c5(y)?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):y}catch(f){throw f}},u=async()=>{const{error:h}=await Kr.auth.signOut();if(h)throw h};return n.jsx(oR.Provider,{value:{user:t,isAdmin:s,loading:i,signIn:c,signUp:d,signOut:u},children:e})},K2=()=>{const e=_.useContext(oR);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},lR=_.createContext(void 0),uJ=({children:e})=>{const[t,r]=_.useState(null),[s,a]=_.useState(!1),[i,o]=_.useState(!0),l=_.useRef(!1);_.useRef(0),_.useEffect(()=>{c()},[]);const c=async()=>{if(!l.current){l.current=!0;try{const p=localStorage.getItem("admin_user");if(p)try{const y=JSON.parse(p);console.log("✅ Found stored user:",y.email,y.role),r(y),a(y.role==="admin"||y.role==="super_admin"),o(!1),l.current=!1;return}catch{console.log("❌ Failed to parse stored user, removing"),localStorage.removeItem("admin_user")}const f=await fetch("/api/auth/verify",{method:"GET",credentials:"include"});if(f.ok){const y=await f.json();y.success&&y.user?(console.log("✅ Server verified user:",y.user.email),r(y.user),a(y.user.role==="admin"||y.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(y.user))):(r(null),a(!1))}else r(null),a(!1)}catch(p){console.error("Auth check failed:",p),localStorage.getItem("admin_user")||(r(null),a(!1))}finally{o(!1),l.current=!1}}},h={user:t,isAdmin:s,loading:i,login:async(p,f)=>{try{const g=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p,password:f})})).json();return g.success&&g.user?(r(g.user),a(g.user.role==="admin"||g.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(g.user)),{success:!0}):{success:!1,error:g.error||"Login failed"}}catch{return{success:!1,error:"Network error: Unable to connect to server"}}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{r(null),a(!1),localStorage.removeItem("admin_user")}}};return n.jsx(lR.Provider,{value:h,children:e})},hJ=()=>{const e=_.useContext(lR);if(e===void 0)throw new Error("useNeonAuth must be used within a NeonAuthProvider");return e},cR=_.createContext(void 0),fJ=({children:e})=>{const[t,r]=_.useState([]),s=d=>{r(u=>[...u,{...d,id:`${d.title}-${Date.now()}`}])},a=d=>{r(u=>u.filter(h=>h.id!==d))},i=(d,u)=>{r(h=>h.map(p=>p.id===d?{...p,quantity:u}:p))},o=()=>{r([])},l=t.reduce((d,u)=>d+u.price*u.quantity,0),c=t.reduce((d,u)=>d+u.quantity,0);return n.jsx(cR.Provider,{value:{items:t,addItem:s,addToCart:s,removeItem:a,updateQuantity:i,clearCart:o,total:l,itemCount:c},children:e})},Sx=()=>{const e=_.useContext(cR);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},gP={en:{"nav.home":"Home","nav.photoshoots":"Photoshoots","nav.vouchers":"Vouchers","nav.blog":"Blog","nav.waitlist":"Waitlist","nav.contact":"Contact","nav.gallery":"My Gallery","nav.login":"Login","nav.logout":"Logout","nav.admin":"Admin Dashboard","nav.galleries":"Client Galleries","nav.myGallery":"My Gallery","newsletter.signup":"Sign up for newsletter","newsletter.thanks":"Thank you for signing up! Please check your email for the voucher.","newsletter.button":"Sign up","newsletter.placeholder":"Your email address","newsletter.error":"An error occurred. Please try again later.","admin.dashboard":"Admin Dashboard","admin.clients":"Clients","admin.invoices":"Invoices","admin.galleries":"Galleries","admin.blog":"Blog Posts","admin.surveys":"Surveys","admin.reports":"Reports","admin.digitalFiles":"Digital Files","action.create":"Create","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.cancel":"Cancel","action.view":"View","action.search":"Search","action.filter":"Filter","action.sort":"Sort","action.import":"Import","action.export":"Export","action.duplicate":"Duplicate","action.preview":"Preview","action.download":"Download","action.upload":"Upload","action.submit":"Submit","action.confirm":"Confirm","action.close":"Close","action.back":"Back","action.next":"Next","action.previous":"Previous","action.add":"Add","action.remove":"Remove","action.update":"Update","status.active":"Active","status.inactive":"Inactive","status.draft":"Draft","status.published":"Published","status.scheduled":"Scheduled","status.archived":"Archived","status.pending":"Pending","status.completed":"Completed","status.cancelled":"Cancelled","status.paid":"Paid","status.unpaid":"Unpaid","status.overdue":"Overdue","status.sent":"Sent","status.shared":"Shared","form.title":"Title","form.name":"Name","form.email":"Email","form.phone":"Phone","form.address":"Address","form.description":"Description","form.notes":"Notes","form.date":"Date","form.time":"Time","form.price":"Price","form.quantity":"Quantity","form.total":"Total","form.status":"Status","form.category":"Category","form.tags":"Tags","form.required":"Required","form.optional":"Optional","form.password":"Password","form.confirmPassword":"Confirm Password","message.success":"Success","message.error":"Error","message.warning":"Warning","message.info":"Information","message.loading":"Loading...","message.saving":"Saving...","message.deleting":"Deleting...","message.noData":"No data available","message.noResults":"No results found","message.confirmDelete":"Are you sure you want to delete this item?","message.unsavedChanges":"You have unsaved changes","page.home":"Home","page.contact":"Contact","page.about":"About","page.services":"Services","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galleries","page.invoices":"Invoices","page.clients":"Clients","page.dashboard":"Dashboard","page.reports":"Reports","page.settings":"Settings","page.profile":"Profile","page.login":"Login","page.register":"Register","gallery.create":"Create Gallery","gallery.edit":"Edit Gallery","gallery.images":"Images","gallery.upload":"Upload Images","gallery.password":"Password Protection","gallery.downloadEnabled":"Download Enabled","gallery.settings":"Gallery Settings","gallery.preview":"Gallery Preview","gallery.share":"Share Gallery","gallery.noImages":"No images uploaded yet","blog.create":"Create Post","blog.edit":"Edit Post","blog.manage_content":"Manage your blog content","blog.search_posts":"Search posts...","blog.no_excerpt":"No excerpt","blog.no_image":"No img","blog.post":"Post","blog.publish":"Publish","blog.unpublish":"Unpublish","blog.no_posts_found":"No posts found matching your criteria.","blog.create_first_post":"Create your first post","pagination.showing":"Showing","pagination.of":"of","pagination.results":"results","modal.confirm_deletion":"Confirm Deletion","modal.delete_post_warning":"Are you sure you want to delete this post? This action cannot be undone.","table.actions":"Actions","filter.all_statuses":"All Statuses","clients.add":"Add Client","clients.search":"Search clients...","clients.import_logs":"Import Logs","clients.more_filters":"More Filters","clients.no_phone":"No phone number","clients.since":"Client since","clients.manage_database":"Manage your client database","clients.sort_by_name":"Sort by Name","clients.sort_by_date":"Sort by Date Added","clients.ascending":"Ascending","clients.descending":"Descending","clients.clients":"clients","clients.unnamed_client":"Unnamed Client","clients.no_clients_found":"No clients found matching your criteria.","message.error.failed_to_update_post_status":"Failed to update post status. Please try again.","invoice.create":"Create Invoice","invoice.edit":"Edit Invoice","invoice.items":"Invoice Items","invoice.summary":"Invoice Summary","invoice.total":"Total","invoice.subtotal":"Subtotal","invoice.tax":"Tax","invoice.discount":"Discount","invoice.dueDate":"Due Date","invoice.paymentTerms":"Payment Terms","invoice.clientDetails":"Client Details","invoice.invoiceDetails":"Invoice Details","invoice.lineItems":"Line Items","invoice.management":"Invoice Management","invoice.totalInvoiced":"Total Invoiced","invoice.paidAmount":"Paid Amount","invoice.overdueAmount":"Overdue Amount","survey.create":"Create Survey","survey.edit":"Edit Survey","survey.questions":"Questions","survey.responses":"Responses","survey.analytics":"Analytics","survey.publish":"Publish","survey.unpublish":"Unpublish","survey.builder":"Survey Builder","survey.preview":"Preview Survey","survey.loadError":"Unable to Load Survey","survey.progress":"Progress","calendar.title":"Calendar","calendar.create":"Create Event","calendar.edit":"Edit Event","calendar.delete":"Delete Event","calendar.export":"Export Calendar","calendar.import":"Import Calendar","calendar.integration":"Calendar Integration","calendar.sync":"Sync Settings","calendar.autoSync":"Auto Sync","calendar.visibility":"Visibility","calendar.priority":"Priority","calendar.repeat":"Repeat","calendar.daily":"Daily","calendar.weekly":"Weekly","calendar.monthly":"Monthly","calendar.yearly":"Yearly","calendar.public":"Public","calendar.private":"Private","calendar.confidential":"Confidential","calendar.low":"Low","calendar.normal":"Normal","calendar.high":"High","email.inbox":"Inbox","email.compose":"Compose","email.send":"Send","email.reply":"Reply","email.forward":"Forward","email.delete":"Delete","email.archive":"Archive","email.star":"Star","email.unread":"Unread","email.read":"Read","email.subject":"Subject","email.from":"From","email.to":"To","email.cc":"CC","email.bcc":"BCC","email.priority":"Priority","email.attachment":"Attachment","email.noEmails":"No emails found","email.selectEmail":"Select an email","email.accounts":"Accounts","email.folders":"Folders","email.settings":"Email Settings","email.sync":"Sync","email.assistant":"AI Email Assistant","email.automation":"Automation Hub","file.upload":"Upload File","file.choose":"Choose File","file.dragDrop":"or drag and drop them here","file.processing":"Processing file...","file.error":"File upload error","file.success":"File uploaded successfully","common.all":"All","common.none":"None","common.yes":"Yes","common.no":"No","common.or":"or","common.and":"and","common.of":"of","common.in":"in","common.on":"on","common.at":"at","categories.family":"Family","categories.baby":"Baby","categories.wedding":"Wedding","categories.business":"Business","categories.event":"Event","common.by":"by","common.from":"from","common.to":"to","common.with":"with","common.without":"without","common.today":"Today","common.yesterday":"Yesterday","common.tomorrow":"Tomorrow","common.week":"Week","common.month":"Month","common.year":"Year","common.date":"Date","common.time":"Time","common.language":"Language","common.currency":"Currency","common.timezone":"Timezone","gallery.publicTitle":"My Gallery","gallery.publicDescription":"Discover our professional photo galleries. Search for your personal gallery and experience your special moments.","gallery.searchPlaceholder":"Search gallery...","gallery.loading":"Galleries are loading...","gallery.found":"found","gallery.galleryFound":"gallery","gallery.galleriesFound":"galleries","gallery.viewGallery":"View Gallery","gallery.openGallery":"Open Gallery","gallery.noPreview":"No preview","gallery.noGalleriesFound":"No galleries found","gallery.noGalleriesAvailable":"No galleries available","gallery.noGalleriesDescription":"No galleries match your search for","gallery.noGalleriesAvailableDescription":"There are currently no public galleries available.","gallery.showAllGalleries":"Show all galleries","gallery.notFoundTitle":"Your gallery not found?","gallery.notFoundDescription":"If you cannot find your personal gallery, please contact us. We are happy to help you access your photos.","gallery.contactUs":"Contact us","voucher.yourContactDetails":"Your Contact Details","voucher.paymentSystemSetup":"Payment system is being set up","voucher.paymentSystemMessage":"Our payment system is currently being configured. Please try again later or contact us directly.","voucher.backToHome":"Back to Home","voucher.paymentSuccessful":"Payment Successful!","voucher.thankYouMessage":"Thank you for your purchase! Your voucher has been successfully created and will be sent by email shortly.","voucher.whatHappensNext":"What happens next?","voucher.emailReceived":"You will receive an email with your voucher in a few minutes","voucher.validity":"The voucher is valid for 2 years from now","voucher.bookingContact":"For appointment bookings, contact us at +43 677 933 99210","voucher.moreVouchers":"More Vouchers","voucher.bookAppointment":"Book Appointment","voucher.questionsAboutVoucher":"Do you have questions about your voucher?","voucher.phone":"Phone","voucher.email":"Email","voucher.openingHours":"Opening Hours","voucher.openingTimes":"Fri-Sun: 09:00 - 17:00","home.heroTitle":"Family & Newborn Photographer in Vienna You Can Trust","home.heroSubtitle":"Finally a photo studio...","home.heroDescription":"that delivers spontaneous, natural and individual portraits of your family...","home.bookShootingButton":"Book Shooting Now","home.description":"As a family photographer in Vienna and specialized newborn photographer in Vienna, we create timeless memories in a relaxed studio atmosphere. Even if you are camera-shy or have unpredictable children, we create family portraits that you will treasure forever.","home.happyFamilies":"Happy Families","home.portraitsCaptured":"Portraits Captured","home.yearsExperience":"Years of Experience","home.pregnancyAndFamilyTitle":"Pregnancy Shoot & Family Portraits","home.pregnancyDescription1":"We create a comfortable environment and guide you through the entire session so you feel relaxed and confident. Our gallery with family photo examples shows the quality of our work.","home.pregnancyDescription2":"Our expertise in finding flattering angles and capturing natural, authentic expressions ensures that your photos look and feel genuine. Vienna offers unique photo spots for outdoor shoots.","home.pregnancyDescription3":"We offer flexible scheduling with available appointments on weekends, including Sundays. This makes it easy to find a suitable time for your photo session.","home.businessHeadshotsTitle":"Business Headshots & Prices","home.businessDescription1":"Experience customized photo shoots in our customer-oriented studio. We pay great attention to detail and create a comfortable environment.","home.businessDescription2":"Our professional photographers find the most flattering angles and capture authentic expressions. Our timeless photos become valuable memories.","home.businessDescription3":"As a family-friendly studio, we provide a relaxed and stress-free atmosphere for unforgettable shoots. Contact us today!","home.familyPortraitsTitle":"Family Portraits in Vienna & Zurich","home.familyPortraitsDescription":"Our family sessions are all about capturing the unique bond you share. From candid moments to posed portraits, we create images you'll treasure forever.","home.pregnancyPhotographyTitle":"Pregnancy Photography in Vienna & Zurich","home.pregnancyPhotographyDescription":"Celebrate the beauty of motherhood with our pregnancy sessions. We create stunning images that highlight this special time in your life.","home.newbornPhotographyTitle":"Newborn Photography in Vienna & Zurich","home.newbornPhotographyDescription":"There's nothing more delicate than the first days of a newborn's life. Our newborn sessions focus on capturing these fleeting moments with tenderness and care.","home.businessPhotographyTitle":"Corporate Photography in Vienna & Zurich","home.businessPhotographyDescription":"Enhance your professional image with our corporate photography services. From headshots to team photos, we help you present your business in the best light.","home.eventPhotographyTitle":"Event Photography in Vienna & Zurich","home.eventPhotographyDescription":"There's nothing more exciting than the unforgettable moments at events. Our event photography focuses on capturing these special moments with creativity and professionalism.","home.weddingPhotographyTitle":"Wedding Photography in Vienna & Zurich","home.weddingPhotographyDescription":"There's nothing more beautiful than the magic of a wedding day. Our wedding photography captures these magical moments with attention to detail and artistic flair.","home.portraitStudioTitle":"Premier Portrait Studio in Vienna & Zurich | Family, Newborn, Pregnancy & Corporate Photography","home.pregnancyShootingTitle":"Pregnancy Shooting","home.pregnancyShootingDescription":"Professional photography for expecting mothers","home.familyShootingTitle":"Family Shooting","home.familyShootingDescription":"Unforgettable moments for the whole family","home.newbornShootingTitle":"Newborn Shooting","home.newbornShootingDescription":"First moments of your little miracle","home.bookNowButton":"Book Now","home.testimonialsTitle":"What Our Customers Say","home.faqTitle":"FAQs - Frequently Asked Questions","home.faq1Text":"Our passion for authentic moments and our commitment to quality. We understand family as more than just a group of people; it's the relationships and love that we capture in every image. Our approach combines artistic vision with personal care to create photos that tell your family story.","home.faq2Text":"Our photo shoots take place exclusively in our studio in Vienna. There we have the perfect environment and professional lighting – ideal for natural and stylish family portraits.","home.faq3Text":"After booking, you will receive detailed preparation instructions from us – from selecting clothing to tips for designing the shoot. Our goal is to make you feel comfortable and have fun.","home.faq4Text":"Our family photo shoots typically last up to one hour. We take enough time to ensure beautiful, natural shots are created – completely relaxed and without rush.","home.faq5Text":"Absolutely! Pets are an important part of the family and are warmly welcome.","home.faq6Text":"We know: not everyone likes being in front of the camera. But that's exactly our strength! With empathy, humor and a relaxed atmosphere, we help both young and old to relax. With us you can laugh, be silly and be authentic – this is how the most natural family photos are created.","home.testimonial1Role":"Family Shooting","home.testimonial1Text":"A wonderful experience! The photos turned out absolutely dreamy and the atmosphere was super relaxed. Our children felt comfortable immediately.","home.testimonial2Role":"Business Portrait","home.testimonial2Text":"Professional, creative and efficient. The business portraits turned out exactly as I imagined. Highly recommended!","home.testimonial3Role":"Wedding Photography","home.testimonial3Text":"Our wedding photos are simply magical! Every special moment was captured perfectly. We are overjoyed with the result.","home.testimonial4Role":"Pregnancy Shooting","home.testimonial4Text":"The pregnancy photos turned out beautiful. I felt very comfortable during the shoot and the pictures perfectly reflect this special time.","home.testimonial5Role":"Newborn Shooting","home.testimonial5Text":"The photos of our newborn are priceless. The patience and professionalism during the shoot was impressive. Every image is a work of art!","home.testimonial6Role":"Event Photography","home.testimonial6Text":"The photos from our company event are fantastic. Every important moment was captured without looking staged. Absolutely recommendable!","home.faqQuestion1":"What makes New Age Photography unique?","home.faqQuestion2":"Where do the photo shoots take place?","home.faqQuestion3":"How do we prepare for the photo shoot?","home.faqQuestion4":"How long does a family photo shoot last?","home.faqQuestion5":"Can we bring pets to the photo shoot?","home.faqQuestion6":"How do you ensure we feel comfortable in front of the camera?","photoshoots.title":"Photoshoots Vienna - Family & Newborn Photography","photoshoots.subtitle":"Professional photoshoots in Vienna: Family portraits, pregnancy photos, newborn pictures & business headshots","photoshoots.familyTitle":"Family Portraits in Vienna & Zurich","photoshoots.familyDescription":"Our family sessions are all about capturing the unique bond you share. From candid moments to posed portraits, we create images you'll treasure forever.","photoshoots.pregnancyTitle":"Pregnancy Photography in Vienna & Zurich","photoshoots.pregnancyDescription":"Celebrate the beauty of motherhood with our pregnancy sessions. We create stunning images that highlight this special time in your life.","photoshoots.newbornTitle":"Newborn Photography in Vienna & Zurich","photoshoots.newbornDescription":"There's nothing more delicate than the first days of a newborn's life. Our newborn sessions focus on capturing these fleeting moments with tenderness and care.","photoshoots.businessTitle":"Corporate Photography in Vienna & Zurich","photoshoots.businessDescription":"Enhance your professional image with our corporate photography services. From headshots to team photos, we help you present your business in the best light.","photoshoots.eventTitle":"Event Photography in Vienna & Zurich","photoshoots.eventDescription":"There's nothing more exciting than the unforgettable moments at events. Our event photography focuses on capturing these special moments with creativity and professionalism.","photoshoots.weddingTitle":"Wedding Photography in Vienna & Zurich","photoshoots.weddingDescription":"There's nothing more beautiful than the magic of a wedding day. Our wedding photography captures these magical moments with attention to detail and artistic flair.","photoshoots.learnMore":"Learn More","photoshoots.flexibleAppointments":"Flexible Appointments","photoshoots.flexibleDescription":"We offer flexible scheduling, including weekends","photoshoots.wholeFamily":"For the Whole Family","photoshoots.wholeFamilyDescription":"Suitable for families of any size, including pets","photoshoots.professionalEquipment":"Professional Equipment","photoshoots.professionalDescription":"State-of-the-art camera equipment for best results","waitlist.title":"Request Photoshoot Appointment in Vienna","waitlist.subtitle":"Professional family photographer in Vienna with flexible appointments. We offer photoshoots on weekends - contact us for availability.","waitlist.fullName":"Full Name","waitlist.fullNamePlaceholder":"Your full name","waitlist.preferredDate":"Preferred Date","waitlist.email":"Email","waitlist.emailPlaceholder":"your@email.com","waitlist.phone":"Phone","waitlist.message":"Message","waitlist.messagePlaceholder":"Tell us about your desired photoshoot...","waitlist.submit":"Request Appointment","waitlist.submitting":"Submitting...","waitlist.successTitle":"Request Sent!","waitlist.successMessage":"Thank you for your inquiry! We will contact you within 24 hours to coordinate your photoshoot appointment.","vouchers.title":"Photoshoot Vouchers Vienna","vouchers.subtitle":"Photoshoot vouchers as the perfect gift idea","vouchers.searchPlaceholder":"Search vouchers...","vouchers.filterByCategory":"Filter by Category","vouchers.loadingError":"Error loading vouchers","vouchers.loadingErrorMessage":"The vouchers could not be loaded. Please try again later.","vouchers.noVouchersFound":"No vouchers found","vouchers.noVouchersAvailable":"No vouchers available yet","vouchers.noVouchersFoundMessage":"We could not find any vouchers that match your criteria.","vouchers.noVouchersAvailableMessage":"Our photoshoot vouchers will be available soon.","vouchers.validUntil":"Valid until","vouchers.validityPeriod":"2 years","vouchers.available":"available","vouchers.soldOut":"Sold out","vouchers.resetFilters":"Reset filters","category.Familie":"Family","category.Baby":"Baby","category.Hochzeit":"Wedding","category.Business":"Business","category.Event":"Event","blog.title":"Photography Blog - Tips & Inspiration","blog.subtitle":"Discover photography tips, behind-the-scenes content and inspiration for perfect family photos","blog.searchPlaceholder":"Search blog posts...","blog.noPostsFound":"No posts found","blog.noPostsMatchCriteria":"No posts match your search criteria. Try adjusting your filters.","blog.noPostsYet":"We haven't published any blog posts yet. Check back soon!","contact.title":"Contact - Family Photographer Vienna","contact.subtitle":"Schedule your personal photoshoot in Vienna","contact.studioTitle":"Photo Studio Vienna - Contact Information","contact.contactForm":"Contact Form","contact.fullName":"Full Name","contact.email":"Email","contact.phone":"Phone","contact.message":"Message","contact.messagePlaceholder":"Your message...","contact.submit":"Send Message","contact.submitting":"Sending...","contact.successMessage":"Your message has been sent successfully. We will get back to you soon.","contact.openingHours":"Fri-Sun: 09:00 - 17:00","contact.officeAddress":"Office and Correspondence Address","contact.addressNote":"Entrance corner Schönbrunnerstraße","contact.studioAddress":"Studio: Wehrgasse 11A/2+5, 1050 Wien","contact.transport":"Transportation","contact.trainInfo":"5 minutes from Kettenbrückengasse","contact.streetParking":"Street parking available","contact.mapTitle":"Studio Location","footer.quickLinks":"Quick Links","footer.contact":"Contact","footer.categories":"Categories","footer.officeAddress":"Office & Correspondence Address","footer.fullContactDetails":"Full Contact Details","footer.family":"Family","footer.baby":"Baby","footer.wedding":"Wedding","footer.business":"Business","footer.event":"Event","footer.gallery":"Gallery","reviews.viewAllOnGoogle":"View All Reviews on Google","nav.dashboard":"Dashboard","nav.newLeads":"New Leads","nav.onlineVoucherSales":"Online Voucher Sales","nav.clients":"Clients","nav.topClients":"Top Clients","nav.galleriesAdmin":"Galleries","nav.invoices":"Invoices","nav.calendar":"Calendar","nav.digitalFiles":"Digital Files","nav.blogAdmin":"Blog","nav.aiAutoblog":"AI AutoBlog","nav.emailCampaigns":"Email Campaigns","nav.communications":"Communications","nav.inbox":"Inbox","nav.questionnaires":"Questionnaires","nav.reports":"Reports","nav.crmAssistant":"CRM Operations Assistant","nav.knowledgeBase":"Knowledge Base","nav.testChat":"Test Chat","nav.settings":"Settings","nav.customization":"Customization","nav.studioTemplates":"Studio Templates","nav.websiteWizard":"Website Wizard","nav.websiteAnalyzer":"Website Analyzer","nav.viewWebsite":"View Website","nav.signOut":"Sign Out"},de:{"nav.home":"Startseite","nav.photoshoots":"Fotoshootings","nav.vouchers":"Gutscheine","nav.blog":"Blog","nav.waitlist":"Warteliste","nav.contact":"Kontakt","nav.gallery":"Meine Galerie","nav.login":"Anmelden","nav.logout":"Abmelden","nav.admin":"Admin-Dashboard","nav.galleries":"Kundengalerien","nav.myGallery":"Meine Galerie","newsletter.signup":"Sichern Sie sich einen Fotoshooting-Gutschein im Wert von €50 Print Guthaben.","newsletter.thanks":"Vielen Dank für Ihre Anmeldung! Bitte prüfen Sie Ihre E-Mails für den Gutschein.","newsletter.button":"Anmelden","newsletter.placeholder":"Ihre E-Mail-Adresse","newsletter.error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.","admin.dashboard":"Admin-Dashboard","admin.clients":"Kunden","admin.invoices":"Rechnungen","admin.galleries":"Galerien","admin.blog":"Blog-Beiträge","admin.surveys":"Umfragen","admin.reports":"Berichte","admin.digitalFiles":"Digitale Dateien","action.create":"Erstellen","action.edit":"Bearbeiten","action.delete":"Löschen","action.save":"Speichern","action.cancel":"Abbrechen","action.view":"Anzeigen","action.search":"Suchen","action.filter":"Filtern","action.sort":"Sortieren","action.import":"Importieren","action.export":"Exportieren","action.duplicate":"Duplizieren","action.preview":"Vorschau","action.download":"Herunterladen","action.upload":"Hochladen","action.submit":"Senden","action.confirm":"Bestätigen","action.close":"Schließen","action.back":"Zurück","action.next":"Weiter","action.previous":"Zurück","action.add":"Hinzufügen","action.remove":"Entfernen","action.update":"Aktualisieren","status.active":"Aktiv","status.inactive":"Inaktiv","status.draft":"Entwurf","status.published":"Veröffentlicht","status.scheduled":"Geplant","status.archived":"Archiviert","status.pending":"Ausstehend","status.completed":"Abgeschlossen","status.cancelled":"Storniert","status.paid":"Bezahlt","status.unpaid":"Unbezahlt","status.overdue":"Überfällig","status.sent":"Gesendet","status.shared":"Geteilt","form.title":"Titel","form.name":"Name","form.email":"E-Mail","form.phone":"Telefon","form.address":"Adresse","form.description":"Beschreibung","form.notes":"Notizen","form.date":"Datum","form.time":"Zeit","form.price":"Preis","form.quantity":"Anzahl","form.total":"Gesamt","form.status":"Status","form.category":"Kategorie","form.tags":"Tags","form.required":"Erforderlich","form.optional":"Optional","form.password":"Passwort","form.confirmPassword":"Passwort bestätigen","message.success":"Erfolgreich","message.error":"Fehler","message.warning":"Warnung","message.info":"Information","message.loading":"Lädt...","message.saving":"Speichert...","message.deleting":"Löscht...","message.noData":"Keine Daten verfügbar","message.noResults":"Keine Ergebnisse gefunden","message.confirmDelete":"Sind Sie sicher, dass Sie dieses Element löschen möchten?","message.unsavedChanges":"Sie haben ungespeicherte Änderungen","page.home":"Startseite","page.contact":"Kontakt","page.about":"Über uns","page.services":"Dienstleistungen","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galerien","page.invoices":"Rechnungen","page.clients":"Kunden","page.dashboard":"Dashboard","page.reports":"Berichte","page.settings":"Einstellungen","page.profile":"Profil","page.login":"Anmelden","page.register":"Registrieren","gallery.create":"Galerie erstellen","gallery.edit":"Galerie bearbeiten","gallery.images":"Bilder","gallery.upload":"Bilder hochladen","gallery.password":"Passwort-Schutz","gallery.downloadEnabled":"Download aktiviert","gallery.settings":"Galerie-Einstellungen","gallery.preview":"Galerie-Vorschau","gallery.share":"Galerie teilen","gallery.noImages":"Noch keine Bilder hochgeladen","invoice.create":"Rechnung erstellen","invoice.edit":"Rechnung bearbeiten","invoice.items":"Rechnungsposten","invoice.summary":"Rechnungsübersicht","invoice.total":"Gesamt","invoice.subtotal":"Zwischensumme","invoice.tax":"Steuer","invoice.discount":"Rabatt","invoice.dueDate":"Fälligkeitsdatum","invoice.paymentTerms":"Zahlungsbedingungen","invoice.clientDetails":"Kundendetails","invoice.invoiceDetails":"Rechnungsdetails","invoice.lineItems":"Positionen","invoice.management":"Rechnungsverwaltung","invoice.totalInvoiced":"Gesamt in Rechnung gestellt","invoice.paidAmount":"Bezahlter Betrag","invoice.overdueAmount":"Überfälliger Betrag","survey.create":"Umfrage erstellen","survey.edit":"Umfrage bearbeiten","survey.questions":"Fragen","survey.responses":"Antworten","survey.analytics":"Analytik","survey.publish":"Veröffentlichen","survey.unpublish":"Unveröffentlichen","survey.builder":"Umfrage-Builder","survey.preview":"Umfrage-Vorschau","survey.loadError":"Umfrage konnte nicht geladen werden","survey.progress":"Fortschritt","calendar.title":"Kalender","calendar.create":"Termin erstellen","calendar.edit":"Termin bearbeiten","calendar.delete":"Termin löschen","calendar.export":"Kalender exportieren","calendar.import":"Kalender importieren","calendar.integration":"Kalender-Integration","calendar.sync":"Sync-Einstellungen","calendar.autoSync":"Auto-Sync","calendar.visibility":"Sichtbarkeit","calendar.priority":"Priorität","calendar.repeat":"Wiederholen","calendar.daily":"Täglich","calendar.weekly":"Wöchentlich","calendar.monthly":"Monatlich","calendar.yearly":"Jährlich","calendar.public":"Öffentlich","calendar.private":"Privat","calendar.confidential":"Vertraulich","calendar.low":"Niedrig","calendar.normal":"Normal","calendar.high":"Hoch","email.inbox":"Posteingang","email.compose":"Verfassen","email.send":"Senden","email.reply":"Antworten","email.forward":"Weiterleiten","email.delete":"Löschen","email.archive":"Archivieren","email.star":"Markieren","email.unread":"Ungelesen","email.read":"Gelesen","email.subject":"Betreff","email.from":"Von","email.to":"An","email.cc":"CC","email.bcc":"BCC","email.priority":"Priorität","email.attachment":"Anhang","email.noEmails":"Keine E-Mails gefunden","email.selectEmail":"E-Mail auswählen","email.accounts":"Konten","email.folders":"Ordner","email.settings":"E-Mail-Einstellungen","email.sync":"Synchronisieren","email.assistant":"KI E-Mail-Assistent","email.automation":"Automatisierungs-Hub","file.upload":"Datei hochladen","file.choose":"Datei auswählen","file.dragDrop":"oder hier hineinziehen","file.processing":"Datei wird verarbeitet...","file.error":"Datei-Upload-Fehler","file.success":"Datei erfolgreich hochgeladen","common.all":"Alle","common.none":"Keine","common.yes":"Ja","common.no":"Nein","common.or":"oder","common.and":"und","common.of":"von","common.in":"in","common.on":"am","common.at":"um","common.by":"von","common.from":"von","common.to":"zu","common.with":"mit","common.without":"ohne","common.today":"Heute","common.yesterday":"Gestern","common.tomorrow":"Morgen","common.week":"Woche","common.month":"Monat","common.year":"Jahr","common.date":"Datum","common.time":"Zeit","common.language":"Sprache","common.currency":"Währung","common.timezone":"Zeitzone","blog.create":"Beitrag erstellen","blog.edit":"Beitrag bearbeiten","blog.manage_content":"Verwalten Sie Ihre Blog-Inhalte","blog.search_posts":"Beiträge suchen...","blog.no_excerpt":"Kein Auszug","blog.no_image":"Kein Bild","blog.post":"Beitrag","blog.publish":"Veröffentlichen","blog.unpublish":"Unveröffentlichen","blog.no_posts_found":"Keine Beiträge gefunden, die Ihren Kriterien entsprechen.","blog.create_first_post":"Erstellen Sie Ihren ersten Beitrag","table.actions":"Aktionen","filter.all_statuses":"Alle Status","clients.add":"Kunde hinzufügen","clients.search":"Kunden suchen...","clients.import_logs":"Import-Protokolle","clients.more_filters":"Weitere Filter","clients.no_phone":"Keine Telefonnummer","clients.since":"Kunde seit","clients.manage_database":"Verwalten Sie Ihre Kundendatenbank","clients.sort_by_name":"Nach Name sortieren","clients.sort_by_date":"Nach Datum sortieren","clients.ascending":"Aufsteigend","clients.descending":"Absteigend","clients.clients":"Kunden","clients.unnamed_client":"Unbenannter Kunde","clients.no_clients_found":"Keine Kunden gefunden, die Ihren Kriterien entsprechen.","pagination.showing":"Zeige","pagination.of":"von","pagination.results":"Ergebnisse","modal.confirm_deletion":"Löschung bestätigen","modal.delete_post_warning":"Sind Sie sicher, dass Sie diesen Beitrag löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.","message.error.failed_to_update_post_status":"Fehler beim Aktualisieren des Beitragsstatus. Bitte versuchen Sie es erneut.","gallery.publicTitle":"Meine Galerie","gallery.publicDescription":"Entdecken Sie unsere professionellen Fotogalerien. Suchen Sie nach Ihrer persönlichen Galerie und erleben Sie Ihre besonderen Momente.","gallery.searchPlaceholder":"Galerie suchen...","gallery.loading":"Galerien werden geladen...","gallery.found":"gefunden","gallery.galleryFound":"Galerie","gallery.galleriesFound":"Galerien","gallery.viewGallery":"Galerie ansehen","gallery.openGallery":"Galerie öffnen","gallery.noPreview":"Keine Vorschau","gallery.noGalleriesFound":"Keine Galerien gefunden","gallery.noGalleriesAvailable":"Keine Galerien verfügbar","gallery.noGalleriesDescription":"Keine Galerien entsprechen Ihrer Suche nach","gallery.noGalleriesAvailableDescription":"Es sind derzeit keine öffentlichen Galerien verfügbar.","gallery.showAllGalleries":"Alle Galerien anzeigen","gallery.notFoundTitle":"Ihre Galerie nicht gefunden?","gallery.notFoundDescription":"Falls Sie Ihre persönliche Galerie nicht finden können, kontaktieren Sie uns bitte. Wir helfen Ihnen gerne beim Zugang zu Ihren Fotos.","gallery.contactUs":"Kontakt aufnehmen","voucher.yourContactDetails":"Ihre Kontaktdaten","voucher.paymentSystemSetup":"Zahlungssystem wird eingerichtet","voucher.paymentSystemMessage":"Unser Zahlungssystem wird gerade konfiguriert. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns direkt.","voucher.backToHome":"Zur Startseite","voucher.paymentSuccessful":"Zahlung erfolgreich!","voucher.thankYouMessage":"Vielen Dank für Ihren Kauf! Ihr Gutschein wurde erfolgreich erstellt und wird in Kürze per E-Mail versendet.","voucher.whatHappensNext":"Was passiert als nächstes?","voucher.emailReceived":"Sie erhalten in wenigen Minuten eine E-Mail mit Ihrem Gutschein","voucher.validity":"Der Gutschein ist ab sofort 2 Jahre gültig","voucher.bookingContact":"Für Terminbuchungen kontaktieren Sie uns unter +43 677 933 99210","voucher.moreVouchers":"Weitere Gutscheine","voucher.bookAppointment":"Termin buchen","voucher.questionsAboutVoucher":"Haben Sie Fragen zu Ihrem Gutschein?","voucher.phone":"Telefon","voucher.email":"E-Mail","voucher.openingHours":"Öffnungszeiten","voucher.openingTimes":"Fr-So: 09:00 - 17:00","home.heroTitle":"Familien- & Neugeborenenfotograf in Wien, dem Sie vertrauen können","home.heroSubtitle":"Endlich ein Fotostudio...","home.heroDescription":"das spontane, natürliche und individuelle Porträts Ihrer Familie liefert...","home.bookShootingButton":"Jetzt Shooting Buchen","home.description":"Als Familienfotograf in Wien und spezialisierter Neugeborenenfotograf in Wien schaffen wir zeitlose Erinnerungen in entspannter Studioatmosphäre. Selbst wenn Sie kamerascheu sind oder unberechenbare Kinder haben, erstellen wir Familienporträts, die Sie für immer schätzen werden.","home.happyFamilies":"Glückliche Familien","home.portraitsCaptured":"Porträts eingefangen","home.yearsExperience":"Jahre Berufserfahrung","home.pregnancyAndFamilyTitle":"Babybauch-Shooting & Familienporträts","home.pregnancyDescription1":"Wir schaffen eine komfortable Umgebung und führen Sie durch die gesamte Sitzung, damit Sie sich entspannt und selbstbewusst fühlen. Unsere Galerie mit Beispielen Familienfotos zeigt die Qualität unserer Arbeit.","home.pregnancyDescription2":"Unsere Expertise, schmeichelhafte Winkel zu finden und natürliche, authentische Ausdrücke einzufangen, stellt sicher, dass Ihre Fotos echt aussehen und sich auch so anfühlen. Wien bietet einzigartige Fotospots für Outdoor-Shootings.","home.pregnancyDescription3":"Wir bieten flexible Terminplanung mit verfügbaren Terminen an Wochenenden, einschließlich Sonntagen. Dadurch finden Sie leicht eine passende Zeit für Ihre Fotosession.","home.businessHeadshotsTitle":"Business-Headshots & Preise","home.businessDescription1":"Erleben Sie maßgeschneiderte Fotoshootings in unserem kundenorientierten Studio. Wir legen großen Wert auf Details und schaffen eine komfortable Umgebung.","home.businessDescription2":"Unsere professionellen Fotografen finden die schmeichelhaftesten Winkel und fangen authentische Ausdrücke ein. Unsere zeitlosen Fotos werden zu wertvollen Erinnerungen.","home.businessDescription3":"Als familienfreundliches Studio bieten wir eine entspannte und stressfreie Atmosphäre für unvergessliche Shootings. Kontaktieren Sie uns noch heute!","home.familyPortraitsTitle":"Familienporträts in Wien & Zurich","home.familyPortraitsDescription":"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden.","home.pregnancyPhotographyTitle":"Schwangerschaftsfotografie in Wien & Zurich","home.pregnancyPhotographyDescription":"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben.","home.newbornPhotographyTitle":"Neugeborenenfotografie in Wien & Zurich","home.newbornPhotographyDescription":"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen.","home.businessPhotographyTitle":"Firmenfotografie in Wien & Zurich","home.businessPhotographyDescription":"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren.","home.eventPhotographyTitle":"Eventfotografie in Wien & Zurich","home.eventPhotographyDescription":"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten.","home.weddingPhotographyTitle":"Hochzeitsfotografie in Wien & Zurich","home.weddingPhotographyDescription":"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein.","home.portraitStudioTitle":"Erstklassiges Portraitstudio in Wien & Zürich | Familien-, Neugeborenen-, Schwangerschafts- & Unternehmensfotografie","home.pregnancyShootingTitle":"Schwangerschafts-Shooting","home.pregnancyShootingDescription":"Professionelle Fotografie für werdende Mütter","home.familyShootingTitle":"Familien-Shooting","home.familyShootingDescription":"Unvergessliche Momente für die ganze Familie","home.newbornShootingTitle":"Neugeborenen-Shooting","home.newbornShootingDescription":"Erste Momente Ihres kleinen Wunders","home.bookNowButton":"Jetzt Buchen","home.testimonialsTitle":"Was unsere Kunden sagen","home.faqTitle":"FAQs - Häufig gestellte Fragen","home.faq1Text":"Unsere Leidenschaft für authentische Momente und unser Engagement für Qualität. Wir verstehen Familie als mehr als nur eine Gruppe von Menschen; es sind die Beziehungen und Liebe, die wir in jedem Bild festhalten. Unser Ansatz verbindet künstlerische Vision mit persönlicher Betreuung, um Fotos zu erschaffen, die Ihre Familiengeschichte erzählen.","home.faq2Text":"Unsere Fotoshootings finden ausschließlich in unserem Studio in Wien statt. Dort haben wir die perfekte Umgebung und professionelles Licht – ideal für natürliche und stilvolle Familienporträts.","home.faq3Text":"Nach der Buchung erhalten Sie von uns eine detaillierte Anleitung zur Vorbereitung – von der Auswahl der Kleidung bis hin zu Tipps für die Gestaltung des Shootings. Unser Ziel ist es, dass Sie sich wohl fühlen und Spaß haben.","home.faq4Text":"Unsere Familienfotoshootings dauern in der Regel bis zu einer Stunde. Wir nehmen uns genug Zeit, um sicherzustellen, dass schöne, natürliche Aufnahmen entstehen – ganz entspannt und ohne Eile.","home.faq5Text":"Absolut! Haustiere sind ein wichtiger Teil der Familie und herzlich willkommen.","home.faq6Text":"Wir wissen: Nicht jeder steht gerne vor der Kamera. Aber genau das ist unsere Stärke! Mit viel Einfühlungsvermögen, Humor und einer lockeren Atmosphäre helfen wir Groß und Klein, sich zu entspannen. Bei uns darf gelacht, gealbert und echt sein – so entstehen die natürlichsten Familienfotos.","home.testimonial1Role":"Familienshooting","home.testimonial1Text":"Ein wundervolles Erlebnis! Die Fotos sind einfach traumhaft geworden und die Atmosphäre war super entspannt. Unsere Kinder haben sich sofort wohlgefühlt.","home.testimonial2Role":"Business Portrait","home.testimonial2Text":"Professionell, kreativ und effizient. Die Business Portraits sind genau so geworden, wie ich sie mir vorgestellt habe. Sehr zu empfehlen!","home.testimonial3Role":"Hochzeitsfotografie","home.testimonial3Text":"Unsere Hochzeitsfotos sind einfach magisch! Jeder besondere Moment wurde perfekt eingefangen. Wir sind überglücklich mit dem Ergebnis.","home.testimonial4Role":"Schwangerschaftsshooting","home.testimonial4Text":"Die Schwangerschaftsfotos sind wunderschön geworden. Ich fühlte mich während des Shootings sehr wohl und die Bilder spiegeln genau diese besondere Zeit wider.","home.testimonial5Role":"Neugeborenen-Shooting","home.testimonial5Text":"Die Fotos unseres Neugeborenen sind unbezahlbar. Die Geduld und Professionalität während des Shootings war beeindruckend. Jedes Bild ist ein Kunstwerk!","home.testimonial6Role":"Event-Fotografie","home.testimonial6Text":"Die Fotos von unserer Firmenveranstaltung sind fantastisch. Jeder wichtige Moment wurde festgehalten, ohne dass es gestellt wirkt. Absolut empfehlenswert!","home.faqQuestion1":"Was macht New Age Fotografie einzigartig?","home.faqQuestion2":"Wo finden die Fotoshootings statt?","home.faqQuestion3":"Wie bereiten wir uns auf das Fotoshooting vor?","home.faqQuestion4":"Wie lange dauert ein Familienfotoshooting?","home.faqQuestion5":"Können wir Haustiere zum Fotoshooting mitbringen?","home.faqQuestion6":"Wie sorgt ihr dafür, dass wir uns vor der Kamera wohlfühlen?","photoshoots.title":"Fotoshootings Wien - Familien & Neugeborenen Fotografie","photoshoots.subtitle":"Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder & Business-Headshots","photoshoots.familyTitle":"Familienporträts in Wien & Zürich","photoshoots.familyDescription":"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden.","photoshoots.pregnancyTitle":"Schwangerschaftsfotografie in Wien & Zürich","photoshoots.pregnancyDescription":"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben.","photoshoots.newbornTitle":"Neugeborenenfotografie in Wien & Zürich","photoshoots.newbornDescription":"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen.","photoshoots.businessTitle":"Firmenfotografie in Wien & Zürich","photoshoots.businessDescription":"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren.","photoshoots.eventTitle":"Eventfotografie in Wien & Zürich","photoshoots.eventDescription":"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten.","photoshoots.weddingTitle":"Hochzeitsfotografie in Wien & Zürich","photoshoots.weddingDescription":"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein.","photoshoots.learnMore":"Mehr erfahren","photoshoots.flexibleAppointments":"Flexible Termine","photoshoots.flexibleDescription":"Wir bieten flexible Terminvereinbarung an, auch an Wochenenden","photoshoots.wholeFamily":"Für die ganze Familie","photoshoots.wholeFamilyDescription":"Geeignet für Familien jeder Größe, inklusive Haustiere","photoshoots.professionalEquipment":"Professionelle Ausrüstung","photoshoots.professionalDescription":"Modernste Kameraausrüstung für beste Ergebnisse","waitlist.title":"Fotoshooting Termin in Wien anfragen","waitlist.subtitle":"Professioneller Familienfotograf in Wien mit flexiblen Terminen. Wir bieten Fotoshootings an Wochenenden - kontaktieren Sie uns für die Verfügbarkeit.","waitlist.fullName":"Vollname","waitlist.fullNamePlaceholder":"Ihr vollständiger Name","waitlist.preferredDate":"Wunschtermin","waitlist.email":"E-Mail","waitlist.emailPlaceholder":"ihre@email.com","waitlist.phone":"Telefon","waitlist.message":"Nachricht","waitlist.messagePlaceholder":"Erzählen Sie uns von Ihrem gewünschten Fotoshooting...","waitlist.submit":"Termin anfragen","waitlist.submitting":"Wird gesendet...","waitlist.successTitle":"Anfrage gesendet!","waitlist.successMessage":"Vielen Dank für Ihre Anfrage! Wir werden uns innerhalb von 24 Stunden bei Ihnen melden, um Ihren Fotoshooting-Termin zu koordinieren.","vouchers.title":"Fotoshooting Gutscheine Wien","vouchers.subtitle":"Fotoshooting Gutscheine als perfekte Geschenkidee","vouchers.searchPlaceholder":"Gutscheine suchen...","vouchers.filterByCategory":"Nach Kategorie filtern","vouchers.loadingError":"Fehler beim Laden der Gutscheine","vouchers.loadingErrorMessage":"Die Gutscheine konnten nicht geladen werden. Bitte versuchen Sie es später erneut.","vouchers.noVouchersFound":"Keine Gutscheine gefunden","vouchers.noVouchersAvailable":"Noch keine Gutscheine verfügbar","vouchers.noVouchersFoundMessage":"Wir konnten keine Gutscheine finden, die Ihren Kriterien entsprechen.","vouchers.noVouchersAvailableMessage":"Unsere Fotoshooting-Gutscheine werden bald verfügbar sein.","vouchers.validUntil":"Gültig bis","vouchers.validityPeriod":"2 Jahre","vouchers.available":"verfügbar","vouchers.soldOut":"Ausverkauft","vouchers.resetFilters":"Filter zurücksetzen","blog.title":"Fotografie Blog - Tipps & Inspiration","blog.subtitle":"Entdecken Sie Fotografie-Tipps, Behind-the-Scenes und Inspiration für perfekte Familienfotos","blog.searchPlaceholder":"Blog-Beiträge suchen...","blog.noPostsFound":"Keine Beiträge gefunden","blog.noPostsMatchCriteria":"Keine Beiträge entsprechen Ihren Suchkriterien. Versuchen Sie, Ihre Filter anzupassen.","blog.noPostsYet":"Wir haben noch keine Blog-Beiträge veröffentlicht. Schauen Sie bald wieder vorbei!","contact.title":"Kontakt - Familienfotograf Wien","contact.subtitle":"Vereinbaren Sie Ihr persönliches Fotoshooting in Wien","contact.studioTitle":"Fotostudio Wien - Kontaktinformationen","contact.contactForm":"Kontaktformular","contact.fullName":"Name","contact.email":"E-Mail","contact.phone":"Telefon","contact.message":"Nachricht","contact.messagePlaceholder":"Ihre Nachricht...","contact.submit":"Nachricht senden","contact.submitting":"Wird gesendet...","contact.successMessage":"Ihre Nachricht wurde erfolgreich gesendet. Wir werden uns bald bei Ihnen melden.","contact.openingHours":"Fr-So: 09:00 - 17:00","contact.officeAddress":"Büro- und Korrespondenzadresse","contact.addressNote":"Eingang Ecke Schönbrunnerstraße","contact.studioAddress":"Studio: Wehrgasse 11A/2+5, 1050 Wien","contact.transport":"Anfahrt","contact.trainInfo":"5 Minuten von Kettenbrückengasse","contact.streetParking":"Straßenparkplätze verfügbar","contact.mapTitle":"Studio Location","footer.quickLinks":"Schnelllinks","footer.contact":"Kontakt","footer.categories":"Kategorien","footer.officeAddress":"Büro- und Korrespondenzadresse","footer.fullContactDetails":"Vollständige Kontaktdaten","footer.family":"Familie","footer.baby":"Baby","footer.wedding":"Hochzeit","footer.business":"Business","footer.event":"Event","footer.gallery":"Galerie","reviews.viewAllOnGoogle":"Alle Bewertungen auf Google ansehen","nav.dashboard":"Dashboard","nav.newLeads":"Neue Leads","nav.onlineVoucherSales":"Online Gutschein-Verkäufe","nav.clients":"Kunden","nav.topClients":"Top Kunden","nav.galleriesAdmin":"Galerien","nav.invoices":"Rechnungen","nav.calendar":"Kalender","nav.digitalFiles":"Digitale Dateien","nav.blogAdmin":"Blog","nav.aiAutoblog":"KI AutoBlog","nav.emailCampaigns":"E-Mail Kampagnen","nav.communications":"Kommunikation","nav.inbox":"Posteingang","nav.questionnaires":"Fragebögen","nav.reports":"Berichte","nav.crmAssistant":"CRM-Assistent","nav.knowledgeBase":"Wissensdatenbank","nav.testChat":"Test Chat","nav.settings":"Einstellungen","nav.customization":"Anpassung","nav.studioTemplates":"Studio Vorlagen","nav.websiteWizard":"Website-Assistent","nav.websiteAnalyzer":"Website-Analyse","nav.viewWebsite":"Website anzeigen","nav.signOut":"Abmelden"}},dR=_.createContext(void 0),mJ=({children:e})=>{const[t,r]=_.useState(()=>{const a=localStorage.getItem("language");return a==="en"||a==="de"?a:(navigator.language||navigator.languages?.[0]||"").toLowerCase().startsWith("de")?"de":"en"});_.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const s=a=>{const i=gP[t][a];return i||gP.en[a]||a};return n.jsx(dR.Provider,{value:{language:t,setLanguage:r,t:s},children:e})},wa=()=>{const e=_.useContext(dR);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),He=(e,t)=>{const r=_.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>_.createElement("svg",{ref:u,...pJ,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${gJ(e)}`,l].join(" "),...d},[...t.map(([h,p])=>_.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=He("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=He("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=He("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=He("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=He("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=He("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=He("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=He("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=He("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=He("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=He("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=He("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=He("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=He("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=He("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=He("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=He("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=He("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=He("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=He("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=He("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=He("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=He("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=He("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=He("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=He("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=He("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=He("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=He("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=He("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=He("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=He("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=He("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=He("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=He("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=He("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=He("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=He("Indent",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=He("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=He("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=He("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=He("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=He("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=He("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=He("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=He("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=He("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=He("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=He("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=He("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=He("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=He("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=He("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=He("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=He("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=He("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=He("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=He("Outdent",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=He("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=He("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=He("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=He("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=He("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=He("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=He("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=He("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=He("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=He("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=He("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=He("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=He("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=He("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=He("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=He("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=He("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=He("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=He("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=He("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=He("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=He("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=He("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=He("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=He("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=He("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=He("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=He("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=He("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=He("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=He("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=He("TestTube2",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01v0a2.83 2.83 0 0 1 0-4L17 3",key:"dg8b2p"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=He("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=He("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=He("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=He("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=He("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=He("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=He("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=He("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=He("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=He("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=He("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=He("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=He("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=He("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),kee=()=>{const[e,t]=_.useState(!1),r=H2(),{language:s,setLanguage:a,t:i}=wa(),o=()=>{t(!e)},l=()=>{a(s==="en"?"de":"en")},c=h=>r.pathname===h,d=h=>{window.scrollTo({top:0,behavior:"smooth"})},u=[{path:"/",label:i("nav.home")},{path:"/fotoshootings",label:i("nav.photoshoots")},{path:"/vouchers",label:i("nav.vouchers")},{path:"/blog",label:i("nav.blog")},{path:"/warteliste",label:i("nav.waitlist")},{path:"/kontakt",label:i("nav.contact")}];return n.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:["      ",n.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[n.jsx($t,{to:"/",className:"flex items-center",children:n.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-24 w-auto"})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[u.map(h=>n.jsx($t,{to:h.path,onClick:()=>d(h.path),className:`text-gray-700 hover:text-purple-600 transition-colors ${c(h.path)?"text-purple-600 font-semibold":""}`,children:h.label},h.path)),n.jsxs("button",{onClick:l,className:"text-gray-700 hover:text-purple-600 transition-colors flex items-center","aria-label":"Toggle language",children:[n.jsx(Bo,{size:18,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:s})]})]}),n.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:o,children:n.jsx(wR,{size:24})})]}),e&&n.jsx("div",{className:"md:hidden bg-white shadow-lg",children:n.jsxs("div",{className:"container mx-auto px-4 py-2 flex flex-col",children:[u.map(h=>n.jsx($t,{to:h.path,className:`py-2 text-gray-700 hover:text-purple-600 transition-colors ${c(h.path)?"text-purple-600 font-semibold":""}`,onClick:()=>{d(h.path),t(!1)},children:h.label},h.path)),n.jsxs("button",{onClick:()=>{l(),t(!1)},className:"py-2 text-left text-gray-700 hover:text-purple-600 transition-colors flex items-center",children:[n.jsx(Bo,{size:18,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:s})]})]})})]})};async function Cee(e){try{const t=await fetch("undefined/functions/v1/public/contact/kontakt",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(e)});return t.ok?await t.json():await NP(e)}catch{return await NP(e)}}async function Pee(e){try{const t=await fetch("undefined/functions/v1/public/contact/warteliste",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(e)});return t.ok?await t.json():await SP(e)}catch{return await SP(e)}}async function NP(e){try{const t=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.fullName,email:e.email,phone:e.phone||null,message:e.message,source:"KONTAKT",status:"new"})});if(!t.ok)throw new Error("Failed to submit contact form");return await t.json()}catch{throw new Error("Failed to submit contact form")}}async function SP(e){const t=`Preferred Date: ${e.preferredDate}${e.message?`

Message: `+e.message:""}`;try{const r=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.fullName,email:e.email,phone:e.phone||null,message:t,source:"WARTELISTE",status:"new"})});if(!r.ok)throw new Error("Failed to submit waitlist form");return await r.json()}catch{throw new Error("Failed to submit waitlist form")}}async function Tee(e){try{const t=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Newsletter Subscriber",email:e,phone:null,message:"Newsletter signup - €50 Print Gutschein interest",source:"NEWSLETTER",status:"new"})});if(!t.ok)throw new Error("Failed to submit newsletter signup");return{success:!0,data:await t.json(),message:"Newsletter signup successful!"}}catch{throw new Error("Failed to process newsletter signup - please try again later")}}const Eee=()=>{const{t:e}=wa(),{user:t,signOut:r}=K2(),[s,a]=_.useState(""),i=()=>{window.scrollTo({top:0,behavior:"smooth"})},[o,l]=_.useState(!1),[c,d]=_.useState(null),[u,h]=_.useState(!1),p=async f=>{if(f.preventDefault(),!s.trim()){d("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())){d("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}l(!0),d(null);try{const g=await Tee(s.trim());if(g.success)h(!0),a(""),setTimeout(()=>h(!1),5e3);else throw new Error(g.message||"Signup failed")}catch(g){const v=g instanceof Error?g.message:"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.";d(v)}finally{l(!1)}};return n.jsx("footer",{className:"bg-gray-800 text-white mt-12",children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:["          ",n.jsxs("div",{className:"md:col-span-2",children:[n.jsx($t,{to:"/",onClick:i,className:"text-white text-xl font-bold mb-4 block",children:"New Age Fotografie"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Professional photography and CRM solutions for modern businesses."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(EJ,{size:20})}),n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(VJ,{size:20})}),n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(bee,{size:20})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.quickLinks")}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx($t,{to:"/",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("nav.home")})}),n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("nav.photoshoots")})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.contact")}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsx("li",{children:n.jsxs("span",{className:"text-sm",children:[e("footer.officeAddress"),":"]})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"Julius Tandler Platz 5 / 13"})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"1090 Wien, Austria"})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"Tel/WhatsApp: +43 677 633 99210"})}),n.jsx("li",{children:n.jsx($t,{to:"/kontakt",onClick:i,className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:e("footer.fullContactDetails")})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.categories")}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings?category=Familie",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("footer.family")})}),n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings?category=Baby",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("footer.baby")})}),n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings?category=Hochzeit",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("footer.wedding")})}),n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings?category=Business",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("footer.business")})}),n.jsx("li",{children:n.jsx($t,{to:"/fotoshootings?category=Event",onClick:i,className:"text-gray-300 hover:text-white transition-colors",children:e("footer.event")})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("footer.gallery")}),n.jsxs("ul",{className:"space-y-2",children:[t?n.jsxs(n.Fragment,{children:[n.jsx("li",{children:n.jsxs($t,{to:"/gallery",onClick:i,className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Do,{size:18,className:"mr-2"}),e("nav.gallery")]})}),n.jsx("li",{children:n.jsxs("button",{onClick:()=>r(),className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(vR,{size:18,className:"mr-2"}),e("nav.logout")]})})]}):n.jsx("li",{children:n.jsxs($t,{to:"/gallery",onClick:i,className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Do,{size:18,className:"mr-2"}),e("nav.login")]})}),n.jsx("li",{children:n.jsxs($t,{to:"/admin/login",className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Do,{size:18,className:"mr-2"}),"Admin Login"]})})]})]}),n.jsx("div",{className:"md:col-span-5 mt-8",children:n.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("newsletter.signup")}),u?n.jsxs("div",{className:"text-green-400 flex items-center",children:[n.jsx(Ur,{className:"mr-2"}),e("newsletter.thanks")]}):n.jsxs("form",{onSubmit:p,className:"flex gap-4",children:[n.jsx("input",{type:"email",value:s,onChange:f=>a(f.target.value),placeholder:e("newsletter.placeholder"),required:!0,className:"flex-1 px-4 py-2 rounded-lg bg-gray-600 text-white placeholder-gray-400 border border-gray-500 focus:outline-none focus:border-purple-500"}),n.jsx("button",{type:"submit",disabled:o,className:`px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity ${o?"opacity-50 cursor-not-allowed":""}`,children:o?"Wird gesendet...":e("newsletter.button")})]}),"              ",c&&n.jsx("p",{className:"mt-2 text-red-400 text-sm",children:c})]})})]}),"        ",n.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300",children:[n.jsx("p",{children:"© 2025 New Age Fotografie. All Rights Reserved"}),n.jsx("p",{className:"mt-2 text-sm",children:n.jsx("a",{href:"https://www.togninja.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Powered By TogNinja"})})]})]})})},Oee=()=>{const e=[{url:"https://i.postimg.cc/bJGQXcx9/1626165386655.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/xT9cMVXp/217447.png",alt:"Partner logo"},{url:"https://i.postimg.cc/hPRVYYfV/bank-austria-edvfiasko-kostet-bank-austria20121107201134.jpg",alt:"Bank Austria"},{url:"https://i.postimg.cc/26PnrcTR/cropped-logo-web-text1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/2jhZnx2y/download.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/MHVVT7rc/download-1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SNLcbGM3/download-2.png",alt:"Partner logo"},{url:"https://i.postimg.cc/sfhpwzDV/download-2.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Qd05HxSq/download-3.png",alt:"Partner logo"},{url:"https://i.postimg.cc/s2xWSdNC/download-4.png",alt:"Partner logo"},{url:"https://i.postimg.cc/3xKm8DjR/download-4.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Gpfyx7W8/download-5.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rmttnGTh/download-6.png",alt:"Partner logo"},{url:"https://i.postimg.cc/mkf10c2T/download-7.png",alt:"Partner logo"},{url:"https://i.postimg.cc/1XGVP9fw/download-8.png",alt:"Partner logo"},{url:"https://i.postimg.cc/ZKLvM5kh/erste.jpg",alt:"Erste Bank"},{url:"https://i.postimg.cc/wTzs2sGV/Eurovision.jpg",alt:"Eurovision"},{url:"https://i.postimg.cc/jSdn0YKn/Google-Trusted-Photographer-Badge.jpg",alt:"Google Trusted Photographer"},{url:"https://i.postimg.cc/DzSW0QS2/IGEPHA-Logo-transparent.png",alt:"IGEPHA"},{url:"https://i.postimg.cc/g01xZwh3/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/Jz6DRY46/images-3.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/wvJ7c65Z/kieninger-lagler-gmbh-full-1510837544.jpg",alt:"Kieninger Lagler"},{url:"https://i.postimg.cc/xTgqPpHf/kl-herzen-logo4c-ohnetext.jpg",alt:"KL Herzen"},{url:"https://i.postimg.cc/gjWrgfNJ/logo-300x141.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SRfR3DvG/Porr-svg.png",alt:"Porr"},{url:"https://i.postimg.cc/PfWCC558/RB4PRNY.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Hx2RcMcL/images.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/BbnyxvHB/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rwrHG303/Leier-International-logo-svg.png",alt:"Leier International"},{url:"https://i.postimg.cc/PrccwTx1/Logo-BB-svg.png",alt:"BB Logo"},{url:"https://i.postimg.cc/vT2KXdvF/mydays-logo-png-seeklogo-357684.png",alt:"MyDays"},{url:"https://i.postimg.cc/66MFBdxj/QAP.png",alt:"QAP"},{url:"https://i.postimg.cc/QxVwCHXX/RIH-logo-90-90-90-300x152.jpg",alt:"RIH"},{url:"https://i.postimg.cc/FKXBTp0R/stekovics-tomaten-chili.jpg",alt:"Stekovics"}];return n.jsx("section",{className:"bg-gray-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"Our Partners"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8",children:e.map((t,r)=>n.jsx("div",{className:"bg-white rounded-lg p-4 flex items-center justify-center shadow-sm hover:shadow-md transition-shadow",children:n.jsx("img",{src:t.url,alt:t.alt,className:"max-h-16 w-auto object-contain transition-transform hover:scale-105"})},r))})]})})},Lee=()=>{const{t:e}=wa(),[t,r]=_.useState([{author_name:"Sabine Schuster",rating:5,text:"Matt ist ein wunderbarer Fotograf, der es versteht, die Persönlichkeit der Menschen einzufangen. Wir haben uns sehr wohl gefühlt und die Bilder sind einfach toll geworden. Sehr zu empfehlen!",profile_photo_url:"https://images.unsplash.com/photo-1494790108755-2616b345de9e?w=60&h=60&fit=crop&crop=face&auto=format",time:16867296e5},{author_name:"Katharina Müller",rating:5,text:"Wir hatten ein Familienshooting mit Matt und sind begeistert! Die Atmosphäre war super entspannt und die Bilder sind einfach wunderschön geworden. Besonders toll fanden wir, wie geduldig er mit unseren Kindern war. Absolute Empfehlung!",profile_photo_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=60&h=60&fit=crop&crop=face&auto=format",time:1692144e6},{author_name:"Thomas Wagner",rating:5,text:"Professionelles Business-Shooting mit hervorragenden Ergebnissen. Matt hat es geschafft, dass ich mich vor der Kamera wohl gefühlt habe, obwohl ich normalerweise nicht gerne fotografiert werde. Die Bilder nutze ich jetzt für meine Website und LinkedIn - top Qualität!",profile_photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face&auto=format",time:16894656e5},{author_name:"Lisa Huber",rating:5,text:"Unser Neugeborenen-Shooting mit Matt war ein wunderschönes Erlebnis. Er hat sich so viel Zeit genommen und war unglaublich einfühlsam mit unserem kleinen Sohn. Die Fotos sind traumhaft schön geworden und werden uns immer an diese besondere Zeit erinnern.",profile_photo_url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=60&h=60&fit=crop&crop=face&auto=format",time:16935264e5},{author_name:"Michael Bauer",rating:5,text:"Matt hat unsere Hochzeit fotografiert und wir sind mehr als zufrieden! Er hat alle wichtigen Momente eingefangen, ohne dabei aufdringlich zu sein. Die Bilder erzählen die Geschichte unseres Tages perfekt. Danke für diese wunderbaren Erinnerungen!",profile_photo_url:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=60&h=60&fit=crop&crop=face&auto=format",time:1688256e6},{author_name:"Anna Steiner",rating:5,text:"Mein Schwangerschaftsshooting mit Matt war ein tolles Erlebnis. Er hat eine sehr angenehme Art und schafft es, dass man sich sofort wohlfühlt. Die Bilder sind wunderschön geworden und zeigen genau die Emotionen, die ich mir gewünscht habe. Sehr empfehlenswert!",profile_photo_url:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=60&h=60&fit=crop&crop=face&auto=format",time:16915392e5}]),[s,a]=_.useState(0),[i,o]=_.useState([]);_.useEffect(()=>{const h=()=>{let p=1;window.innerWidth>=1024?p=3:window.innerWidth>=768&&(p=2);const f=[];for(let y=0;y<p;y++){const g=(s+y)%t.length;f.push(t[g])}o(f)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[s,t]);const l=()=>{a(h=>(h+1)%t.length)},c=()=>{a(h=>(h-1+t.length)%t.length)},d=h=>new Date(h).toLocaleDateString("de-DE",{year:"numeric",month:"long"}),u=h=>Array(5).fill(0).map((p,f)=>n.jsx(Mo,{size:16,className:f<h?"text-yellow-500 fill-yellow-500":"text-gray-300"},f));return n.jsx("section",{className:"bg-gray-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Was unsere Kunden sagen"}),n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx("div",{className:"flex",children:u(5)}),n.jsx("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",children:"4.9 auf Google (253 Bewertungen)"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((h,p)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:h.profile_photo_url,alt:h.author_name,className:"w-12 h-12 rounded-full mr-4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:h.author_name}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex mr-2",children:u(h.rating)}),n.jsx("span",{className:"text-gray-500 text-sm",children:d(h.time)})]})]})]}),n.jsx("p",{className:"text-gray-600 line-clamp-4",children:h.text}),n.jsx("div",{className:"mt-4",children:n.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm inline-flex items-center",children:["Auf Google Maps ansehen",n.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]},p))}),n.jsx("button",{onClick:c,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Previous review",children:n.jsx(Dv,{size:24})}),n.jsx("button",{onClick:l,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Next review",children:n.jsx(Hc,{size:24})})]}),n.jsx("div",{className:"flex justify-center mt-8",children:n.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors inline-flex items-center",children:[e("reviews.viewAllOnGoogle"),n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})},ns=({children:e})=>(wa(),n.jsxs("div",{className:"flex flex-col min-h-screen",style:{position:"static",overflow:"visible"},children:[n.jsx(kee,{}),n.jsx("main",{className:"flex-grow",style:{position:"static",overflow:"visible"},children:e}),n.jsx(Lee,{}),n.jsx(Oee,{}),n.jsx(Eee,{})]})),Ub=({src:e,alt:t,className:r="",onError:s,loading:a="lazy"})=>{const[i,o]=_.useState(!1),[l,c]=_.useState(1),[d,u]=_.useState({x:0,y:0}),[h,p]=_.useState(!1),[f,y]=_.useState({x:0,y:0}),[g,v]=_.useState(!1),[b,S]=_.useState(0),N=_.useRef(null),w=_.useRef(null);_.useEffect(()=>{i&&(c(1),u({x:0,y:0}))},[i]),_.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]);const C=()=>{o(!0)},L=()=>{o(!1)},k=q=>{q.preventDefault();const Y=q.deltaY>0?.9:1.1,ie=Math.max(.5,Math.min(5,l*Y));c(ie)},A=(q,Y)=>Math.sqrt(Math.pow(Y.clientX-q.clientX,2)+Math.pow(Y.clientY-q.clientY,2)),P=q=>{if(q.touches.length===1)p(!0),y({x:q.touches[0].clientX,y:q.touches[0].clientY});else if(q.touches.length===2){v(!0),p(!1);const Y=A(q.touches[0],q.touches[1]);S(Y)}},B=q=>{if(q.preventDefault(),q.touches.length===1&&h&&!g){const Y=q.touches[0].clientX-f.x,ie=q.touches[0].clientY-f.y;u(W=>({x:W.x+Y,y:W.y+ie})),y({x:q.touches[0].clientX,y:q.touches[0].clientY})}else if(q.touches.length===2&&g){const Y=A(q.touches[0],q.touches[1]),ie=Y/b,W=Math.max(.5,Math.min(5,l*ie));c(W),S(Y)}},T=q=>{q.touches.length===0?(p(!1),v(!1)):q.touches.length===1&&(v(!1),p(!0),y({x:q.touches[0].clientX,y:q.touches[0].clientY}))},I=q=>{p(!0),y({x:q.clientX,y:q.clientY})},M=q=>{if(!h)return;const Y=q.clientX-f.x,ie=q.clientY-f.y;u(W=>({x:W.x+Y,y:W.y+ie})),y({x:q.clientX,y:q.clientY})},D=()=>{p(!1)},V=()=>{c(1),u({x:0,y:0})},z=()=>{c(q=>Math.min(5,q*1.2))},X=()=>{c(q=>Math.max(.5,q*.8))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`relative group cursor-pointer ${r}`,children:[n.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover transition-transform group-hover:scale-105",onError:s,loading:a,onClick:C}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:n.jsx(Aee,{className:"h-8 w-8 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})]}),i&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[n.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[n.jsx("button",{onClick:X,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Zoom out",children:n.jsx("span",{className:"text-lg",children:"−"})}),n.jsx("button",{onClick:z,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Zoom in",children:n.jsx("span",{className:"text-lg",children:"+"})}),n.jsx("button",{onClick:V,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Reset zoom",children:n.jsx(cee,{className:"h-4 w-4"})}),n.jsx("button",{onClick:L,className:"bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all","aria-label":"Close",children:n.jsx(rs,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[Math.round(l*100),"%"]}),n.jsx("div",{ref:w,className:"w-full h-full flex items-center justify-center overflow-hidden",onWheel:k,onTouchStart:P,onTouchMove:B,onTouchEnd:T,onMouseDown:I,onMouseMove:M,onMouseUp:D,onMouseLeave:D,style:{cursor:h?"grabbing":"grab"},children:n.jsx("img",{ref:N,src:e,alt:t,className:"max-w-none select-none",style:{transform:`scale(${l}) translate(${d.x/l}px, ${d.y/l}px)`,transition:h||g?"none":"transform 0.2s ease-out"},draggable:!1,onError:s})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-full text-sm text-center",children:[n.jsx("div",{className:"hidden md:block",children:"Scroll to zoom • Drag to pan • Click outside to close"}),n.jsx("div",{className:"block md:hidden",children:"Pinch to zoom • Drag to pan • Tap X to close"})]})]})]})};var _R={exports:{}};(function(e,t){(function(r,s){e.exports=s(_)})(typeof self<"u"?self:ul,r=>(()=>{var s={2:(l,c,d)=>{var u=d(2199),h=d(4664),p=d(5950);l.exports=function(f){return u(f,p,h)}},79:(l,c,d)=>{var u=d(3702),h=d(80),p=d(4739),f=d(8655),y=d(1175);function g(v){var b=-1,S=v==null?0:v.length;for(this.clear();++b<S;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=y,l.exports=g},80:(l,c,d)=>{var u=d(6025),h=Array.prototype.splice;l.exports=function(p){var f=this.__data__,y=u(f,p);return!(y<0||(y==f.length-1?f.pop():h.call(f,y,1),--this.size,0))}},270:(l,c,d)=>{var u=d(7068),h=d(346);l.exports=function p(f,y,g,v,b){return f===y||(f==null||y==null||!h(f)&&!h(y)?f!=f&&y!=y:u(f,y,g,v,p,b))}},289:(l,c,d)=>{var u=d(2651);l.exports=function(h){return u(this,h).get(h)}},294:l=>{l.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},317:l=>{l.exports=function(c){var d=-1,u=Array(c.size);return c.forEach(function(h,p){u[++d]=[p,h]}),u}},346:l=>{l.exports=function(c){return c!=null&&typeof c=="object"}},361:l=>{var c=/^(?:0|[1-9]\d*)$/;l.exports=function(d,u){var h=typeof d;return!!(u=u??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(d))&&d>-1&&d%1==0&&d<u}},392:l=>{l.exports=function(c,d){return c?.[d]}},659:(l,c,d)=>{var u=d(1873),h=Object.prototype,p=h.hasOwnProperty,f=h.toString,y=u?u.toStringTag:void 0;l.exports=function(g){var v=p.call(g,y),b=g[y];try{g[y]=void 0;var S=!0}catch{}var N=f.call(g);return S&&(v?g[y]=b:delete g[y]),N}},689:(l,c,d)=>{var u=d(2),h=Object.prototype.hasOwnProperty;l.exports=function(p,f,y,g,v,b){var S=1&y,N=u(p),w=N.length;if(w!=u(f).length&&!S)return!1;for(var C=w;C--;){var L=N[C];if(!(S?L in f:h.call(f,L)))return!1}var k=b.get(p),A=b.get(f);if(k&&A)return k==f&&A==p;var P=!0;b.set(p,f),b.set(f,p);for(var B=S;++C<w;){var T=p[L=N[C]],I=f[L];if(g)var M=S?g(I,T,L,f,p,b):g(T,I,L,p,f,b);if(!(M===void 0?T===I||v(T,I,y,g,b):M)){P=!1;break}B||(B=L=="constructor")}if(P&&!B){var D=p.constructor,V=f.constructor;D==V||!("constructor"in p)||!("constructor"in f)||typeof D=="function"&&D instanceof D&&typeof V=="function"&&V instanceof V||(P=!1)}return b.delete(p),b.delete(f),P}},695:(l,c,d)=>{var u=d(8096),h=d(2428),p=d(6449),f=d(3656),y=d(361),g=d(7167),v=Object.prototype.hasOwnProperty;l.exports=function(b,S){var N=p(b),w=!N&&h(b),C=!N&&!w&&f(b),L=!N&&!w&&!C&&g(b),k=N||w||C||L,A=k?u(b.length,String):[],P=A.length;for(var B in b)!S&&!v.call(b,B)||k&&(B=="length"||C&&(B=="offset"||B=="parent")||L&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||y(B,P))||A.push(B);return A}},938:l=>{l.exports=function(c){var d=this.__data__,u=d.delete(c);return this.size=d.size,u}},945:(l,c,d)=>{var u=d(79),h=d(8223),p=d(3661);l.exports=function(f,y){var g=this.__data__;if(g instanceof u){var v=g.__data__;if(!h||v.length<199)return v.push([f,y]),this.size=++g.size,this;g=this.__data__=new p(v)}return g.set(f,y),this.size=g.size,this}},1042:(l,c,d)=>{var u=d(6110)(Object,"create");l.exports=u},1175:(l,c,d)=>{var u=d(6025);l.exports=function(h,p){var f=this.__data__,y=u(f,h);return y<0?(++this.size,f.push([h,p])):f[y][1]=p,this}},1380:l=>{l.exports=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},1420:(l,c,d)=>{var u=d(79);l.exports=function(){this.__data__=new u,this.size=0}},1459:l=>{l.exports=function(c){return this.__data__.has(c)}},1549:(l,c,d)=>{var u=d(2032),h=d(3862),p=d(6721),f=d(2749),y=d(5749);function g(v){var b=-1,S=v==null?0:v.length;for(this.clear();++b<S;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=y,l.exports=g},1873:(l,c,d)=>{var u=d(9325).Symbol;l.exports=u},1882:(l,c,d)=>{var u=d(2552),h=d(3805);l.exports=function(p){if(!h(p))return!1;var f=u(p);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},1986:(l,c,d)=>{var u=d(1873),h=d(7828),p=d(5288),f=d(5911),y=d(317),g=d(4247),v=u?u.prototype:void 0,b=v?v.valueOf:void 0;l.exports=function(S,N,w,C,L,k,A){switch(w){case"[object DataView]":if(S.byteLength!=N.byteLength||S.byteOffset!=N.byteOffset)return!1;S=S.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(S.byteLength!=N.byteLength||!k(new h(S),new h(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+S,+N);case"[object Error]":return S.name==N.name&&S.message==N.message;case"[object RegExp]":case"[object String]":return S==N+"";case"[object Map]":var P=y;case"[object Set]":var B=1&C;if(P||(P=g),S.size!=N.size&&!B)return!1;var T=A.get(S);if(T)return T==N;C|=2,A.set(S,N);var I=f(P(S),P(N),C,L,k,A);return A.delete(S),I;case"[object Symbol]":if(b)return b.call(S)==b.call(N)}return!1}},2032:(l,c,d)=>{var u=d(1042);l.exports=function(){this.__data__=u?u(null):{},this.size=0}},2199:(l,c,d)=>{var u=d(4528),h=d(6449);l.exports=function(p,f,y){var g=f(p);return h(p)?g:u(g,y(p))}},2404:(l,c,d)=>{var u=d(270);l.exports=function(h,p){return u(h,p)}},2428:(l,c,d)=>{var u=d(7534),h=d(346),p=Object.prototype,f=p.hasOwnProperty,y=p.propertyIsEnumerable,g=u(function(){return arguments}())?u:function(v){return h(v)&&f.call(v,"callee")&&!y.call(v,"callee")};l.exports=g},2552:(l,c,d)=>{var u=d(1873),h=d(659),p=d(9350),f=u?u.toStringTag:void 0;l.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?h(y):p(y)}},2651:(l,c,d)=>{var u=d(4218);l.exports=function(h,p){var f=h.__data__;return u(p)?f[typeof p=="string"?"string":"hash"]:f.map}},2749:(l,c,d)=>{var u=d(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;return u?f[p]!==void 0:h.call(f,p)}},2804:(l,c,d)=>{var u=d(6110)(d(9325),"Promise");l.exports=u},2949:(l,c,d)=>{var u=d(2651);l.exports=function(h,p){var f=u(this,h),y=f.size;return f.set(h,p),this.size+=f.size==y?0:1,this}},3040:(l,c,d)=>{var u=d(1549),h=d(79),p=d(8223);l.exports=function(){this.size=0,this.__data__={hash:new u,map:new(p||h),string:new u}}},3146:(l,c,d)=>{for(var u=d(3491),h=typeof window>"u"?d.g:window,p=["moz","webkit"],f="AnimationFrame",y=h["request"+f],g=h["cancel"+f]||h["cancelRequest"+f],v=0;!y&&v<p.length;v++)y=h[p[v]+"Request"+f],g=h[p[v]+"Cancel"+f]||h[p[v]+"CancelRequest"+f];if(!y||!g){var b=0,S=0,N=[],w=1e3/60;y=function(C){if(N.length===0){var L=u(),k=Math.max(0,w-(L-b));b=k+L,setTimeout(function(){var A=N.slice(0);N.length=0;for(var P=0;P<A.length;P++)if(!A[P].cancelled)try{A[P].callback(b)}catch(B){setTimeout(function(){throw B},0)}},Math.round(k))}return N.push({handle:++S,callback:C,cancelled:!1}),S},g=function(C){for(var L=0;L<N.length;L++)N[L].handle===C&&(N[L].cancelled=!0)}}l.exports=function(C){return y.call(h,C)},l.exports.cancel=function(){g.apply(h,arguments)},l.exports.polyfill=function(C){C||(C=h),C.requestAnimationFrame=y,C.cancelAnimationFrame=g}},3345:l=>{l.exports=function(){return[]}},3491:function(l){(function(){var c,d,u,h,p,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(c()-p)/1e6},d=process.hrtime,h=(c=function(){var y;return 1e9*(y=d())[0]+y[1]})(),f=1e9*process.uptime(),p=h-f):Date.now?(l.exports=function(){return Date.now()-u},u=Date.now()):(l.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},3605:l=>{l.exports=function(c){return this.__data__.get(c)}},3650:(l,c,d)=>{var u=d(4335)(Object.keys,Object);l.exports=u},3656:(l,c,d)=>{l=d.nmd(l);var u=d(9325),h=d(9935),p=c&&!c.nodeType&&c,f=p&&l&&!l.nodeType&&l,y=f&&f.exports===p?u.Buffer:void 0,g=(y?y.isBuffer:void 0)||h;l.exports=g},3661:(l,c,d)=>{var u=d(3040),h=d(7670),p=d(289),f=d(4509),y=d(2949);function g(v){var b=-1,S=v==null?0:v.length;for(this.clear();++b<S;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=u,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=y,l.exports=g},3702:l=>{l.exports=function(){this.__data__=[],this.size=0}},3805:l=>{l.exports=function(c){var d=typeof c;return c!=null&&(d=="object"||d=="function")}},3862:l=>{l.exports=function(c){var d=this.has(c)&&delete this.__data__[c];return this.size-=d?1:0,d}},4218:l=>{l.exports=function(c){var d=typeof c;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?c!=="__proto__":c===null}},4247:l=>{l.exports=function(c){var d=-1,u=Array(c.size);return c.forEach(function(h){u[++d]=h}),u}},4248:l=>{l.exports=function(c,d){for(var u=-1,h=c==null?0:c.length;++u<h;)if(d(c[u],u,c))return!0;return!1}},4335:l=>{l.exports=function(c,d){return function(u){return c(d(u))}}},4509:(l,c,d)=>{var u=d(2651);l.exports=function(h){return u(this,h).has(h)}},4528:l=>{l.exports=function(c,d){for(var u=-1,h=d.length,p=c.length;++u<h;)c[p+u]=d[u];return c}},4664:(l,c,d)=>{var u=d(9770),h=d(3345),p=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,y=f?function(g){return g==null?[]:(g=Object(g),u(f(g),function(v){return p.call(g,v)}))}:h;l.exports=y},4739:(l,c,d)=>{var u=d(6025);l.exports=function(h){var p=this.__data__,f=u(p,h);return f<0?void 0:p[f][1]}},4840:(l,c,d)=>{var u=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g;l.exports=u},4894:(l,c,d)=>{var u=d(1882),h=d(294);l.exports=function(p){return p!=null&&h(p.length)&&!u(p)}},4901:(l,c,d)=>{var u=d(2552),h=d(294),p=d(346),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,l.exports=function(y){return p(y)&&h(y.length)&&!!f[u(y)]}},5083:(l,c,d)=>{var u=d(1882),h=d(7296),p=d(3805),f=d(7473),y=/^\[object .+?Constructor\]$/,g=Function.prototype,v=Object.prototype,b=g.toString,S=v.hasOwnProperty,N=RegExp("^"+b.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(w){return!(!p(w)||h(w))&&(u(w)?N:y).test(f(w))}},5288:l=>{l.exports=function(c,d){return c===d||c!=c&&d!=d}},5481:(l,c,d)=>{var u=d(9325)["__core-js_shared__"];l.exports=u},5527:l=>{var c=Object.prototype;l.exports=function(d){var u=d&&d.constructor;return d===(typeof u=="function"&&u.prototype||c)}},5580:(l,c,d)=>{var u=d(6110)(d(9325),"DataView");l.exports=u},5749:(l,c,d)=>{var u=d(1042);l.exports=function(h,p){var f=this.__data__;return this.size+=this.has(h)?0:1,f[h]=u&&p===void 0?"__lodash_hash_undefined__":p,this}},5861:(l,c,d)=>{var u=d(5580),h=d(8223),p=d(2804),f=d(6545),y=d(8303),g=d(2552),v=d(7473),b="[object Map]",S="[object Promise]",N="[object Set]",w="[object WeakMap]",C="[object DataView]",L=v(u),k=v(h),A=v(p),P=v(f),B=v(y),T=g;(u&&T(new u(new ArrayBuffer(1)))!=C||h&&T(new h)!=b||p&&T(p.resolve())!=S||f&&T(new f)!=N||y&&T(new y)!=w)&&(T=function(I){var M=g(I),D=M=="[object Object]"?I.constructor:void 0,V=D?v(D):"";if(V)switch(V){case L:return C;case k:return b;case A:return S;case P:return N;case B:return w}return M}),l.exports=T},5911:(l,c,d)=>{var u=d(8859),h=d(4248),p=d(9219);l.exports=function(f,y,g,v,b,S){var N=1&g,w=f.length,C=y.length;if(w!=C&&!(N&&C>w))return!1;var L=S.get(f),k=S.get(y);if(L&&k)return L==y&&k==f;var A=-1,P=!0,B=2&g?new u:void 0;for(S.set(f,y),S.set(y,f);++A<w;){var T=f[A],I=y[A];if(v)var M=N?v(I,T,A,y,f,S):v(T,I,A,f,y,S);if(M!==void 0){if(M)continue;P=!1;break}if(B){if(!h(y,function(D,V){if(!p(B,V)&&(T===D||b(T,D,g,v,S)))return B.push(V)})){P=!1;break}}else if(T!==I&&!b(T,I,g,v,S)){P=!1;break}}return S.delete(f),S.delete(y),P}},5950:(l,c,d)=>{var u=d(695),h=d(8984),p=d(4894);l.exports=function(f){return p(f)?u(f):h(f)}},6009:(l,c,d)=>{l=d.nmd(l);var u=d(4840),h=c&&!c.nodeType&&c,p=h&&l&&!l.nodeType&&l,f=p&&p.exports===h&&u.process,y=function(){try{return p&&p.require&&p.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();l.exports=y},6025:(l,c,d)=>{var u=d(5288);l.exports=function(h,p){for(var f=h.length;f--;)if(u(h[f][0],p))return f;return-1}},6110:(l,c,d)=>{var u=d(5083),h=d(392);l.exports=function(p,f){var y=h(p,f);return u(y)?y:void 0}},6449:l=>{var c=Array.isArray;l.exports=c},6545:(l,c,d)=>{var u=d(6110)(d(9325),"Set");l.exports=u},6721:(l,c,d)=>{var u=d(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;if(u){var y=f[p];return y==="__lodash_hash_undefined__"?void 0:y}return h.call(f,p)?f[p]:void 0}},7068:(l,c,d)=>{var u=d(7217),h=d(5911),p=d(1986),f=d(689),y=d(5861),g=d(6449),v=d(3656),b=d(7167),S="[object Arguments]",N="[object Array]",w="[object Object]",C=Object.prototype.hasOwnProperty;l.exports=function(L,k,A,P,B,T){var I=g(L),M=g(k),D=I?N:y(L),V=M?N:y(k),z=(D=D==S?w:D)==w,X=(V=V==S?w:V)==w,q=D==V;if(q&&v(L)){if(!v(k))return!1;I=!0,z=!1}if(q&&!z)return T||(T=new u),I||b(L)?h(L,k,A,P,B,T):p(L,k,D,A,P,B,T);if(!(1&A)){var Y=z&&C.call(L,"__wrapped__"),ie=X&&C.call(k,"__wrapped__");if(Y||ie){var W=Y?L.value():L,F=ie?k.value():k;return T||(T=new u),B(W,F,A,P,T)}}return!!q&&(T||(T=new u),f(L,k,A,P,B,T))}},7167:(l,c,d)=>{var u=d(4901),h=d(7301),p=d(6009),f=p&&p.isTypedArray,y=f?h(f):u;l.exports=y},7217:(l,c,d)=>{var u=d(79),h=d(1420),p=d(938),f=d(3605),y=d(9817),g=d(945);function v(b){var S=this.__data__=new u(b);this.size=S.size}v.prototype.clear=h,v.prototype.delete=p,v.prototype.get=f,v.prototype.has=y,v.prototype.set=g,l.exports=v},7296:(l,c,d)=>{var u,h=d(5481),p=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";l.exports=function(f){return!!p&&p in f}},7301:l=>{l.exports=function(c){return function(d){return c(d)}}},7473:l=>{var c=Function.prototype.toString;l.exports=function(d){if(d!=null){try{return c.call(d)}catch{}try{return d+""}catch{}}return""}},7534:(l,c,d)=>{var u=d(2552),h=d(346);l.exports=function(p){return h(p)&&u(p)=="[object Arguments]"}},7670:(l,c,d)=>{var u=d(2651);l.exports=function(h){var p=u(this,h).delete(h);return this.size-=p?1:0,p}},7828:(l,c,d)=>{var u=d(9325).Uint8Array;l.exports=u},8096:l=>{l.exports=function(c,d){for(var u=-1,h=Array(c);++u<c;)h[u]=d(u);return h}},8223:(l,c,d)=>{var u=d(6110)(d(9325),"Map");l.exports=u},8303:(l,c,d)=>{var u=d(6110)(d(9325),"WeakMap");l.exports=u},8655:(l,c,d)=>{var u=d(6025);l.exports=function(h){return u(this.__data__,h)>-1}},8859:(l,c,d)=>{var u=d(3661),h=d(1380),p=d(1459);function f(y){var g=-1,v=y==null?0:y.length;for(this.__data__=new u;++g<v;)this.add(y[g])}f.prototype.add=f.prototype.push=h,f.prototype.has=p,l.exports=f},8984:(l,c,d)=>{var u=d(5527),h=d(3650),p=Object.prototype.hasOwnProperty;l.exports=function(f){if(!u(f))return h(f);var y=[];for(var g in Object(f))p.call(f,g)&&g!="constructor"&&y.push(g);return y}},9155:l=>{l.exports=r},9219:l=>{l.exports=function(c,d){return c.has(d)}},9325:(l,c,d)=>{var u=d(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,p=u||h||Function("return this")();l.exports=p},9350:l=>{var c=Object.prototype.toString;l.exports=function(d){return c.call(d)}},9770:l=>{l.exports=function(c,d){for(var u=-1,h=c==null?0:c.length,p=0,f=[];++u<h;){var y=c[u];d(y,u,c)&&(f[p++]=y)}return f}},9817:l=>{l.exports=function(c){return this.__data__.has(c)}},9905:(l,c,d)=>{d.d(c,{default:()=>q});var u=d(3146),h=d.n(u);const p=function(Y){return new RegExp(/<[a-z][\s\S]*>/i).test(Y)},f=function(Y,ie){return Math.floor(Math.random()*(ie-Y+1))+Y};var y="TYPE_CHARACTER",g="REMOVE_CHARACTER",v="REMOVE_ALL",b="REMOVE_LAST_VISIBLE_NODE",S="PAUSE_FOR",N="CALL_FUNCTION",w="ADD_HTML_TAG_ELEMENT",C="CHANGE_DELETE_SPEED",L="CHANGE_DELAY",k="CHANGE_CURSOR",A="PASTE_STRING",P="HTML_TAG";function B(Y){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},B(Y)}function T(Y,ie){var W=Object.keys(Y);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(Y);ie&&(F=F.filter(function(Z){return Object.getOwnPropertyDescriptor(Y,Z).enumerable})),W.push.apply(W,F)}return W}function I(Y){for(var ie=1;ie<arguments.length;ie++){var W=arguments[ie]!=null?arguments[ie]:{};ie%2?T(Object(W),!0).forEach(function(F){z(Y,F,W[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(W)):T(Object(W)).forEach(function(F){Object.defineProperty(Y,F,Object.getOwnPropertyDescriptor(W,F))})}return Y}function M(Y){return function(ie){if(Array.isArray(ie))return D(ie)}(Y)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(Y)||function(ie,W){if(ie){if(typeof ie=="string")return D(ie,W);var F={}.toString.call(ie).slice(8,-1);return F==="Object"&&ie.constructor&&(F=ie.constructor.name),F==="Map"||F==="Set"?Array.from(ie):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?D(ie,W):void 0}}(Y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(Y,ie){(ie==null||ie>Y.length)&&(ie=Y.length);for(var W=0,F=Array(ie);W<ie;W++)F[W]=Y[W];return F}function V(Y,ie){for(var W=0;W<ie.length;W++){var F=ie[W];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(Y,X(F.key),F)}}function z(Y,ie,W){return(ie=X(ie))in Y?Object.defineProperty(Y,ie,{value:W,enumerable:!0,configurable:!0,writable:!0}):Y[ie]=W,Y}function X(Y){var ie=function(W){if(B(W)!="object"||!W)return W;var F=W[Symbol.toPrimitive];if(F!==void 0){var Z=F.call(W,"string");if(B(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(Y);return B(ie)=="symbol"?ie:ie+""}const q=function(){function Y(F,Z){var Q=this;if(function(de,ge){if(!(de instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,Y),z(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),z(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),z(this,"setupWrapperElement",function(){Q.state.elements.container&&(Q.state.elements.wrapper.className=Q.options.wrapperClassName,Q.state.elements.cursor.className=Q.options.cursorClassName,Q.state.elements.cursor.innerHTML=Q.options.cursor,Q.state.elements.container.innerHTML="",Q.state.elements.container.appendChild(Q.state.elements.wrapper),Q.state.elements.container.appendChild(Q.state.elements.cursor))}),z(this,"start",function(){return Q.state.eventLoopPaused=!1,Q.runEventLoop(),Q}),z(this,"pause",function(){return Q.state.eventLoopPaused=!0,Q}),z(this,"stop",function(){return Q.state.eventLoop&&((0,u.cancel)(Q.state.eventLoop),Q.state.eventLoop=null),Q}),z(this,"pauseFor",function(de){return Q.addEventToQueue(S,{ms:de}),Q}),z(this,"typeOutAllStrings",function(){return typeof Q.options.strings=="string"?(Q.typeString(Q.options.strings).pauseFor(Q.options.pauseFor),Q):(Q.options.strings.forEach(function(de){Q.typeString(de).pauseFor(Q.options.pauseFor).deleteAll(Q.options.deleteSpeed)}),Q)}),z(this,"typeString",function(de){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(p(de))return Q.typeOutHTMLString(de,ge);if(de){var Se=(Q.options||{}).stringSplitter,J=typeof Se=="function"?Se(de):de.split("");Q.typeCharacters(J,ge)}return Q}),z(this,"pasteString",function(de){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p(de)?Q.typeOutHTMLString(de,ge,!0):(de&&Q.addEventToQueue(A,{character:de,node:ge}),Q)}),z(this,"typeOutHTMLString",function(de){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Se=arguments.length>2?arguments[2]:void 0,J=function(ke){var Ne=document.createElement("div");return Ne.innerHTML=ke,Ne.childNodes}(de);if(J.length>0)for(var he=0;he<J.length;he++){var ee=J[he],le=ee.innerHTML;ee&&ee.nodeType!==3?(ee.innerHTML="",Q.addEventToQueue(w,{node:ee,parentNode:ge}),Se?Q.pasteString(le,ee):Q.typeString(le,ee)):ee.textContent&&(Se?Q.pasteString(ee.textContent,ge):Q.typeString(ee.textContent,ge))}return Q}),z(this,"deleteAll",function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return Q.addEventToQueue(v,{speed:de}),Q}),z(this,"changeDeleteSpeed",function(de){if(!de)throw new Error("Must provide new delete speed");return Q.addEventToQueue(C,{speed:de}),Q}),z(this,"changeDelay",function(de){if(!de)throw new Error("Must provide new delay");return Q.addEventToQueue(L,{delay:de}),Q}),z(this,"changeCursor",function(de){if(!de)throw new Error("Must provide new cursor");return Q.addEventToQueue(k,{cursor:de}),Q}),z(this,"deleteChars",function(de){if(!de)throw new Error("Must provide amount of characters to delete");for(var ge=0;ge<de;ge++)Q.addEventToQueue(g);return Q}),z(this,"callFunction",function(de,ge){if(!de||typeof de!="function")throw new Error("Callback must be a function");return Q.addEventToQueue(N,{cb:de,thisArg:ge}),Q}),z(this,"typeCharacters",function(de){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!de||!Array.isArray(de))throw new Error("Characters must be an array");return de.forEach(function(Se){Q.addEventToQueue(y,{character:Se,node:ge})}),Q}),z(this,"removeCharacters",function(de){if(!de||!Array.isArray(de))throw new Error("Characters must be an array");return de.forEach(function(){Q.addEventToQueue(g)}),Q}),z(this,"addEventToQueue",function(de,ge){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Q.addEventToStateProperty(de,ge,Se,"eventQueue")}),z(this,"addReverseCalledEvent",function(de,ge){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Q.options.loop?Q.addEventToStateProperty(de,ge,Se,"reverseCalledEvents"):Q}),z(this,"addEventToStateProperty",function(de,ge){var Se=arguments.length>2&&arguments[2]!==void 0&&arguments[2],J=arguments.length>3?arguments[3]:void 0,he={eventName:de,eventArgs:ge||{}};return Q.state[J]=Se?[he].concat(M(Q.state[J])):[].concat(M(Q.state[J]),[he]),Q}),z(this,"runEventLoop",function(){Q.state.lastFrameTime||(Q.state.lastFrameTime=Date.now());var de=Date.now(),ge=de-Q.state.lastFrameTime;if(!Q.state.eventQueue.length){if(!Q.options.loop)return;Q.state.eventQueue=M(Q.state.calledEvents),Q.state.calledEvents=[],Q.options=I({},Q.state.initialOptions)}if(Q.state.eventLoop=h()(Q.runEventLoop),!Q.state.eventLoopPaused){if(Q.state.pauseUntil){if(de<Q.state.pauseUntil)return;Q.state.pauseUntil=null}var Se,J=M(Q.state.eventQueue),he=J.shift();if(!(ge<=(Se=he.eventName===b||he.eventName===g?Q.options.deleteSpeed==="natural"?f(40,80):Q.options.deleteSpeed:Q.options.delay==="natural"?f(120,160):Q.options.delay))){var ee=he.eventName,le=he.eventArgs;switch(Q.logInDevMode({currentEvent:he,state:Q.state,delay:Se}),ee){case A:case y:var ke=le.character,Ne=le.node,G=document.createTextNode(ke),Ae=G;Q.options.onCreateTextNode&&typeof Q.options.onCreateTextNode=="function"&&(Ae=Q.options.onCreateTextNode(ke,G)),Ae&&(Ne?Ne.appendChild(Ae):Q.state.elements.wrapper.appendChild(Ae)),Q.state.visibleNodes=[].concat(M(Q.state.visibleNodes),[{type:"TEXT_NODE",character:ke,node:Ae}]);break;case g:J.unshift({eventName:b,eventArgs:{removingCharacterNode:!0}});break;case S:var ze=he.eventArgs.ms;Q.state.pauseUntil=Date.now()+parseInt(ze);break;case N:var Be=he.eventArgs,qe=Be.cb,H=Be.thisArg;qe.call(H,{elements:Q.state.elements});break;case w:var te=he.eventArgs,ye=te.node,Ce=te.parentNode;Ce?Ce.appendChild(ye):Q.state.elements.wrapper.appendChild(ye),Q.state.visibleNodes=[].concat(M(Q.state.visibleNodes),[{type:P,node:ye,parentNode:Ce||Q.state.elements.wrapper}]);break;case v:var Pe=Q.state.visibleNodes,Ee=le.speed,Ve=[];Ee&&Ve.push({eventName:C,eventArgs:{speed:Ee,temp:!0}});for(var tt=0,it=Pe.length;tt<it;tt++)Ve.push({eventName:b,eventArgs:{removingCharacterNode:!1}});Ee&&Ve.push({eventName:C,eventArgs:{speed:Q.options.deleteSpeed,temp:!0}}),J.unshift.apply(J,Ve);break;case b:var ft=he.eventArgs.removingCharacterNode;if(Q.state.visibleNodes.length){var mt=Q.state.visibleNodes.pop(),ut=mt.type,zt=mt.node,er=mt.character;Q.options.onRemoveNode&&typeof Q.options.onRemoveNode=="function"&&Q.options.onRemoveNode({node:zt,character:er}),zt&&zt.parentNode.removeChild(zt),ut===P&&ft&&J.unshift({eventName:b,eventArgs:{}})}break;case C:Q.options.deleteSpeed=he.eventArgs.speed;break;case L:Q.options.delay=he.eventArgs.delay;break;case k:Q.options.cursor=he.eventArgs.cursor,Q.state.elements.cursor.innerHTML=he.eventArgs.cursor}Q.options.loop&&(he.eventName===b||he.eventArgs&&he.eventArgs.temp||(Q.state.calledEvents=[].concat(M(Q.state.calledEvents),[he]))),Q.state.eventQueue=J,Q.state.lastFrameTime=de}}}),F)if(typeof F=="string"){var ae=document.querySelector(F);if(!ae)throw new Error("Could not find container element");this.state.elements.container=ae}else this.state.elements.container=F;Z&&(this.options=I(I({},this.options),Z)),this.state.initialOptions=I({},this.options),this.init()}var ie,W;return ie=Y,(W=[{key:"init",value:function(){var F,Z;this.setupWrapperElement(),this.addEventToQueue(k,{cursor:this.options.cursor},!0),this.addEventToQueue(v,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(F=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(Z=document.createElement("style")).appendChild(document.createTextNode(F)),document.head.appendChild(Z),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(F){this.options.devMode&&console.log(F)}}])&&V(ie.prototype,W),Object.defineProperty(ie,"prototype",{writable:!1}),Y}()},9935:l=>{l.exports=function(){return!1}}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={id:l,loaded:!1,exports:{}};return s[l].call(d.exports,d,d.exports,i),d.loaded=!0,d.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var d in c)i.o(c,d)&&!i.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:c[d]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var o={};return(()=>{i.d(o,{default:()=>w});var l=i(9155),c=i.n(l),d=i(9905),u=i(2404),h=i.n(u);function p(C){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},p(C)}function f(C,L){for(var k=0;k<L.length;k++){var A=L[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,S(A.key),A)}}function y(C,L){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,A){return k.__proto__=A,k},y(C,L)}function g(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function v(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!C})()}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},b(C)}function S(C){var L=function(k){if(p(k)!="object"||!k)return k;var A=k[Symbol.toPrimitive];if(A!==void 0){var P=A.call(k,"string");if(p(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(C);return p(L)=="symbol"?L:L+""}var N=function(C){(function(B,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(T&&T.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),T&&y(B,T)})(P,C);var L,k,A=function(B){var T=v();return function(){var I,M=b(B);if(T){var D=b(this).constructor;I=Reflect.construct(M,arguments,D)}else I=M.apply(this,arguments);return function(V,z){if(z&&(p(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(V)}(this,I)}}(P);function P(){var B,T,I,M;(function(X,q){if(!(X instanceof q))throw new TypeError("Cannot call a class as a function")})(this,P);for(var D=arguments.length,V=new Array(D),z=0;z<D;z++)V[z]=arguments[z];return T=g(B=A.call.apply(A,[this].concat(V))),M={instance:null},(I=S(I="state"))in T?Object.defineProperty(T,I,{value:M,enumerable:!0,configurable:!0,writable:!0}):T[I]=M,B}return L=P,(k=[{key:"componentDidMount",value:function(){var B=this,T=new d.default(this.typewriter,this.props.options);this.setState({instance:T},function(){var I=B.props.onInit;I&&I(T)})}},{key:"componentDidUpdate",value:function(B){h()(this.props.options,B.options)||this.setState({instance:new d.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,T=this.props.component;return c().createElement(T,{ref:function(I){return B.typewriter=I},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&f(L.prototype,k),Object.defineProperty(L,"prototype",{writable:!1}),P}(l.Component);N.defaultProps={component:"div"};const w=N})(),o.default})())})(_R);var Iee=_R.exports;const Mee=hn(Iee);var mA={},f_={exports:{}};(function(e,t){(function(r,s){s(t)})(ul,function(r){var s=function(){return s=Object.assign||function(i){for(var o,l=1,c=arguments.length;l<c;l++)for(var d in o=arguments[l])Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d]);return i},s.apply(this,arguments)},a=function(){function i(o,l,c){var d=this;this.endVal=l,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){d.startTime||(d.startTime=u);var h=u-d.startTime;d.remaining=d.duration-h,d.useEasing?d.countDown?d.frameVal=d.startVal-d.easingFn(h,0,d.startVal-d.endVal,d.duration):d.frameVal=d.easingFn(h,d.startVal,d.endVal-d.startVal,d.duration):d.frameVal=d.startVal+(d.endVal-d.startVal)*(h/d.duration);var p=d.countDown?d.frameVal<d.endVal:d.frameVal>d.endVal;d.frameVal=p?d.endVal:d.frameVal,d.frameVal=Number(d.frameVal.toFixed(d.options.decimalPlaces)),d.printValue(d.frameVal),h<d.duration?d.rAF=requestAnimationFrame(d.count):d.finalEndVal!==null?d.update(d.finalEndVal):d.options.onCompleteCallback&&d.options.onCompleteCallback()},this.formatNumber=function(u){var h,p,f,y,g=u<0?"-":"";h=Math.abs(u).toFixed(d.options.decimalPlaces);var v=(h+="").split(".");if(p=v[0],f=v.length>1?d.options.decimal+v[1]:"",d.options.useGrouping){y="";for(var b=3,S=0,N=0,w=p.length;N<w;++N)d.options.useIndianSeparators&&N===4&&(b=2,S=1),N!==0&&S%b==0&&(y=d.options.separator+y),S++,y=p[w-N-1]+y;p=y}return d.options.numerals&&d.options.numerals.length&&(p=p.replace(/[0-9]/g,function(C){return d.options.numerals[+C]}),f=f.replace(/[0-9]/g,function(C){return d.options.numerals[+C]})),g+d.options.prefix+p+f+d.options.suffix},this.easeOutExpo=function(u,h,p,f){return p*(1-Math.pow(2,-10*u/f))*1024/1023+h},this.options=s(s({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return d.handleScroll(d)}),window.onscroll=function(){window.onScrollFns.forEach(function(u){return u()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(o){if(o&&window&&!o.once){var l=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),d=c.top+window.pageYOffset,u=c.top+c.height+window.pageYOffset;u<l&&u>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>u||d>l)&&!o.paused&&o.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var l=o-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(o){var l;if(this.el){var c=this.formattingFn(o);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},i.prototype.validateValue=function(o){var l=Number(o);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(o){var l=function(h){return h.replace(/([.,'  ])/g,"\\$1")},c=l(this.options.separator),d=l(this.options.decimal),u=o.replace(new RegExp(c,"g"),"").replace(new RegExp(d,"g"),".");return parseFloat(u)},i}();r.CountUp=a})})(f_,f_.exports);var Dee=f_.exports;Object.defineProperty(mA,"__esModule",{value:!0});var Ea=_,Fee=Dee;function Ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(s){zee(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:String(t)}function zee(e,t,r){return t=Bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m_(){return m_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},m_.apply(this,arguments)}function Uee(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function AR(e,t){if(e==null)return{};var r=Uee(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Vee(e,t){return qee(e)||Ree(e,t)||Wee(e,t)||Hee()}function qee(e){if(Array.isArray(e))return e}function Wee(e,t){if(e){if(typeof e=="string")return AP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(e,t)}}function AP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Gee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ea.useLayoutEffect:Ea.useEffect;function ql(e){var t=Ea.useRef(e);return Gee(function(){t.current=e}),Ea.useCallback(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.current.apply(void 0,s)},[])}var Kee=function(t,r){var s=r.decimal,a=r.decimals,i=r.duration,o=r.easingFn,l=r.end,c=r.formattingFn,d=r.numerals,u=r.prefix,h=r.separator,p=r.start,f=r.suffix,y=r.useEasing,g=r.useGrouping,v=r.useIndianSeparators,b=r.enableScrollSpy,S=r.scrollSpyDelay,N=r.scrollSpyOnce,w=r.plugin;return new Fee.CountUp(t,l,{startVal:p,duration:i,decimal:s,decimalPlaces:a,easingFn:o,formattingFn:c,numerals:d,separator:h,prefix:u,suffix:f,plugin:w,useEasing:y,useIndianSeparators:v,useGrouping:g,enableScrollSpy:b,scrollSpyDelay:S,scrollSpyOnce:N})},Yee=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Zee={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},kR=function(t){var r=Object.fromEntries(Object.entries(t).filter(function(P){var B=Vee(P,2),T=B[1];return T!==void 0})),s=Ea.useMemo(function(){return nw(nw({},Zee),r)},[t]),a=s.ref,i=s.startOnMount,o=s.enableReinitialize,l=s.delay,c=s.onEnd,d=s.onStart,u=s.onPauseResume,h=s.onReset,p=s.onUpdate,f=AR(s,Yee),y=Ea.useRef(),g=Ea.useRef(),v=Ea.useRef(!1),b=ql(function(){return Kee(typeof a=="string"?a:a.current,f)}),S=ql(function(P){var B=y.current;if(B&&!P)return B;var T=b();return y.current=T,T}),N=ql(function(){var P=function(){return S(!0).start(function(){c?.({pauseResume:w,reset:C,start:k,update:L})})};l&&l>0?g.current=setTimeout(P,l*1e3):P(),d?.({pauseResume:w,reset:C,update:L})}),w=ql(function(){S().pauseResume(),u?.({reset:C,start:k,update:L})}),C=ql(function(){S().el&&(g.current&&clearTimeout(g.current),S().reset(),h?.({pauseResume:w,start:k,update:L}))}),L=ql(function(P){S().update(P),p?.({pauseResume:w,reset:C,start:k})}),k=ql(function(){C(),N()}),A=ql(function(P){i&&(P&&C(),N())});return Ea.useEffect(function(){v.current?o&&A(!0):(v.current=!0,A())},[o,v,A,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Ea.useEffect(function(){return function(){C()}},[C]),{start:k,pauseResume:w,reset:C,update:L,getCountUp:S}},Xee=["className","redraw","containerProps","children","style"],Qee=function(t){var r=t.className,s=t.redraw,a=t.containerProps,i=t.children,o=t.style,l=AR(t,Xee),c=Ea.useRef(null),d=Ea.useRef(!1),u=kR(nw(nw({},l),{},{ref:c,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),h=u.start,p=u.reset,f=u.update,y=u.pauseResume,g=u.getCountUp,v=ql(function(){h()}),b=ql(function(w){t.preserveValue||p(),f(w)}),S=ql(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}g()});Ea.useEffect(function(){S()},[S]),Ea.useEffect(function(){d.current&&b(t.end)},[t.end,b]);var N=s&&t;return Ea.useEffect(function(){s&&d.current&&v()},[v,s,N]),Ea.useEffect(function(){!s&&d.current&&v()},[v,s,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Ea.useEffect(function(){d.current=!0},[]),typeof i=="function"?i({countUpRef:c,start:h,reset:p,update:f,pauseResume:y,getCountUp:g}):Ea.createElement("span",m_({className:r,ref:c,style:o},a),typeof t.start<"u"?g().formattingFn(t.start):"")},d5=mA.default=Qee;mA.useCountUp=kR;const Jee="/assets/photo-grid-B3_rTPhv.jpg",u5=()=>{const e=En(),{t,language:r}=wa(),{addToCart:s}=Sx(),a=[{name:"Sarah M.",image:"https://i.imgur.com/BScsxGX.jpg",role:t("home.testimonial1Role"),text:t("home.testimonial1Text")},{name:"Michael K.",image:"https://i.imgur.com/HGZGIGX.jpg",role:t("home.testimonial2Role"),text:t("home.testimonial2Text")},{name:"Lisa & Tom",image:"https://i.imgur.com/fcFwAhs.jpg",role:t("home.testimonial3Role"),text:t("home.testimonial3Text")},{name:"Anna W.",image:"https://i.imgur.com/xx3UWL7.jpg",role:t("home.testimonial4Role"),text:t("home.testimonial4Text")},{name:"Maria & Peter",image:"https://i.imgur.com/9d98SBH.jpg",role:t("home.testimonial5Role"),text:t("home.testimonial5Text")},{name:"Christina R.",image:"https://i.imgur.com/8HD86CW.jpg",role:t("home.testimonial6Role"),text:t("home.testimonial6Text")}],i=[{title:t("home.faqQuestion1"),image:"https://i.postimg.cc/D09JNp5m/00014518.jpg",alt:"Unique photography style"},{title:t("home.faqQuestion2"),image:"https://i.postimg.cc/YqFdbhxq/00505458.jpg",alt:"Studio and outdoor locations"},{title:t("home.faqQuestion3"),image:"https://i.postimg.cc/66k02BNs/00509892.jpg",alt:"Photoshoot preparation"},{title:t("home.faqQuestion4"),image:"https://i.postimg.cc/W1Pq6KhH/00015672.jpg",alt:"Family photoshoot duration"},{title:t("home.faqQuestion5"),image:"https://i.postimg.cc/7Y1g57V7/RJGOQBO.jpg",alt:"Pets in photoshoot"},{title:t("home.faqQuestion6"),image:"https://i.postimg.cc/Wb070x2d/brother-sister-close-up-30x20-L.jpg",alt:"Comfortable atmosphere"}];return n.jsxs(ns,{children:[n.jsx("section",{className:"bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"max-w-2xl md:w-3/5 mb-8 md:mb-0",children:[n.jsx("h1",{className:"mb-4 leading-tight text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:t("home.heroTitle")}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:n.jsx(Mee,{options:{strings:[t("home.heroSubtitle")],autoStart:!0,loop:!0,cursor:"",delay:50,deleteSpeed:50}})}),n.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold text-gray-900 tracking-tighter animate-fade-in-up",children:t("home.heroDescription")})]}),n.jsx("button",{onClick:()=>e("/warteliste"),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-medium py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:t("home.bookShootingButton")})]}),n.jsx("div",{className:"md:w-2/5",children:n.jsx(Ub,{src:"https://i.postimg.cc/wTdZVLdC/photo-grid.jpg",alt:"Comprehensive family portrait showcase featuring various photography styles including family groups, couples, newborns, maternity, and lifestyle sessions",className:"w-full rounded-lg shadow-lg",onError:o=>{o.currentTarget.src=Jee},loading:"lazy"})})]})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto text-center",children:n.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:t("home.description")})})})}),n.jsx("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(d5,{end:27156,duration:2.5,separator:","})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.happyFamilies")})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(d5,{end:5431977,duration:2.5,separator:","})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.portraitsCaptured")})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(d5,{end:27,duration:2.5})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:t("home.yearsExperience")})]})]})})}),n.jsx("section",{className:"py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-16",children:[n.jsx("div",{className:"md:w-1/3",children:n.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg shadow-lg",children:n.jsx(Ub,{src:"https://i.postimg.cc/J7bDNtGx/Familienportrat-Wien-Krchnavy-Stolz-0105-1024x683-1.jpg",alt:"Familienfotografie Wien - Professionelle Familienporträts im Studio",className:"w-full h-full object-cover",loading:"lazy"})})}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:t("home.pregnancyAndFamilyTitle")}),n.jsx("p",{className:"text-gray-700 mb-4",children:t("home.pregnancyDescription1")}),n.jsx("p",{className:"text-gray-700 mb-4",children:t("home.pregnancyDescription2")}),n.jsx("p",{className:"text-gray-700",children:t("home.pregnancyDescription3")})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[n.jsx("div",{className:"md:w-1/3",children:n.jsx("div",{className:"aspect-[4/5] max-w-xs mx-auto overflow-hidden rounded-lg shadow-lg",children:n.jsx(Ub,{src:"https://i.postimg.cc/NMqvfKv7/4S8A6958.jpg",alt:"Business Headshots Wien - Professionelle Businessfotografie im Studio",className:"w-full h-full object-cover object-center",loading:"lazy"})})}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:t("home.businessHeadshotsTitle")}),n.jsx("p",{className:"text-gray-700 mb-4",children:t("home.businessDescription1")}),n.jsx("p",{className:"text-gray-700 mb-4",children:t("home.businessDescription2")}),n.jsx("p",{className:"text-gray-700",children:t("home.businessDescription3")})]})]})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.postimg.cc/V6TFF8rC/00508749.jpg",alt:"Familienporträts Wien - Natürliche Familienfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.familyPortraitsTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.familyPortraitsDescription")})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/AMnhw6w.jpg",alt:r==="en"?"Maternity Photography Vienna - Professional Pregnancy Photoshoot":"Babybauch Fotografie Wien - Schwangerschaftsfotos im Studio",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.pregnancyPhotographyTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.pregnancyPhotographyDescription")})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/VLYZQof.jpg",alt:r==="en"?"Newborn Photography Vienna - Professional Baby Photoshoot":"Neugeborenenfotos im Studio Wien - Professionelle Babyfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.newbornPhotographyTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.newbornPhotographyDescription")})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx(Ub,{src:"https://i.postimg.cc/T2tqtjpN/9RaPUSK.jpg",alt:"Business Photography Wien - Professionelle Businessfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.businessPhotographyTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.businessPhotographyDescription")})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/0KAHvWd.jpg",alt:"Event photography",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.eventPhotographyTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.eventPhotographyDescription")})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://images.pexels.com/photos/1024993/pexels-photo-1024993.jpeg",alt:"Wedding photography",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.weddingPhotographyTitle")}),n.jsx("p",{className:"text-gray-600",children:t("home.weddingPhotographyDescription")})]})]})]})})}),n.jsx("section",{className:"py-12",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.portraitStudioTitle")}),n.jsx("p",{className:"text-center text-gray-700 mb-12 max-w-2xl mx-auto",children:"Schenken Sie unvergessliche Momente! Unsere personalisierbaren Fotoshooting-Gutscheine sind das perfekte Geschenk für jeden Anlass."})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/Vd6xtPg.jpg",alt:"Pregnancy photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.pregnancyShootingTitle")}),n.jsx("p",{className:"text-gray-600 mb-4",children:t("home.pregnancyShootingDescription")}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-lg text-gray-500 line-through",children:"€195"}),n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€95"})]}),n.jsx("button",{onClick:()=>{e("/gutschein/maternity"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/4m5hoL9.jpg",alt:"Family photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.familyShootingTitle")}),n.jsx("p",{className:"text-gray-600 mb-4",children:t("home.familyShootingDescription")}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-lg text-gray-500 line-through",children:"€295"}),n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€195"})]}),n.jsx("button",{onClick:()=>{e("/gutschein/family"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/QWOgLqX.jpg",alt:"Newborn photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:t("home.newbornShootingTitle")}),n.jsx("p",{className:"text-gray-600 mb-4",children:t("home.newbornShootingDescription")}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-lg text-gray-500 line-through",children:"€395"}),n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€295"})]}),n.jsx("button",{onClick:()=>{e("/gutschein/newborn"),window.scrollTo({top:0,behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.testimonialsTitle")}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((o,l)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:o.image,alt:o.name,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:o.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:o.role})]})]}),n.jsx("p",{className:"text-gray-700",children:o.text})]},l))})]})}),n.jsx("section",{className:"py-16 bg-purple-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:"Geschenkgutscheine"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-700 p-6 text-white",children:[n.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Flexibler Gutschein"}),n.jsx("p",{className:"text-purple-100",children:"Wunschbetrag"})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:"€100"}),n.jsxs("ul",{className:"text-gray-600 mb-6 space-y-2",children:[n.jsx("li",{children:"• Freie Betragsauswahl"}),n.jsx("li",{children:"• Anrechenbar auf alle Services"}),n.jsx("li",{children:"• 2 Jahre gültig"}),n.jsx("li",{children:"• Individuell gestaltbar"})]}),n.jsx("button",{onClick:()=>{s({title:"Flexibler Wertgutschein",packageType:"Flexibler Geschenkgutschein",price:100,quantity:1,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>e("/cart"),500)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"In den Warenkorb"})]})]})})}),n.jsx("div",{className:"text-center mt-12",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:"Warum unsere Gutscheine?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl mb-2",children:"🎨"}),n.jsx("h4",{className:"font-semibold text-purple-700",children:"Personalisierbar"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Eigene Fotos & Nachrichten"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl mb-2",children:"📦"}),n.jsx("h4",{className:"font-semibold text-purple-700",children:"Flexible Zustellung"}),n.jsx("p",{className:"text-sm text-gray-600",children:"PDF, Post oder Geschenkbox"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl mb-2",children:"⏰"}),n.jsx("h4",{className:"font-semibold text-purple-700",children:"Sofort verfügbar"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Auch last-minute bestellbar"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-3xl mb-2",children:"💝"}),n.jsx("h4",{className:"font-semibold text-purple-700",children:"Perfektes Geschenk"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Für jeden Anlass geeignet"})]})]})]})})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:t("home.faqTitle")}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((o,l)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg mb-6",children:n.jsx("img",{src:o.image,alt:o.alt,className:"w-full h-full object-cover"})}),n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:o.title}),n.jsxs("p",{className:"text-gray-700",children:[l===0&&t("home.faq1Text"),l===1&&t("home.faq2Text"),l===2&&t("home.faq3Text"),l===3&&t("home.faq4Text"),l===4&&t("home.faq5Text"),l===5&&t("home.faq6Text")]})]},l))})]})})]})},ete=()=>{const e=En(),{t}=wa(),r=()=>{window.scrollTo({top:0,behavior:"smooth"})};_.useEffect(()=>{document.title="Fotoshootings Wien - Familien & Neugeborenen Fotografie | New Age Fotografie";let a=document.querySelector('meta[name="description"]');a||(a=document.createElement("meta"),a.setAttribute("name","description"),document.head.appendChild(a)),a.setAttribute("content","Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder, Business-Headshots. Erfahrener Fotograf mit Studio in 1050 Wien.");let i=document.querySelector('meta[property="og:title"]');return i||(i=document.createElement("meta"),i.setAttribute("property","og:title"),document.head.appendChild(i)),i.setAttribute("content","Fotoshootings Wien - Professionelle Fotografie | New Age Fotografie"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const s=[{title:t("photoshoots.familyTitle"),description:t("photoshoots.familyDescription"),image:"https://i.postimg.cc/gcKwDrqv/Baby-Pink-Bubbles-20x20.jpg",link:"/gutschein/family"},{title:t("photoshoots.pregnancyTitle"),description:t("photoshoots.pregnancyDescription"),image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:t("photoshoots.newbornTitle"),description:t("photoshoots.newbornDescription"),image:"https://i.postimg.cc/43YQ9VD4/4-S8-A4770-105-1024x683-Copy.jpg",link:"/gutschein/newborn"},{title:t("photoshoots.businessTitle"),description:t("photoshoots.businessDescription"),image:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",link:"/fotoshootings/business"},{title:t("photoshoots.eventTitle"),description:t("photoshoots.eventDescription"),image:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",link:"/fotoshootings/event"},{title:t("photoshoots.weddingTitle"),description:t("photoshoots.weddingDescription"),image:"https://i.postimg.cc/j50XzC6p/4S8A7207.jpg",link:"/fotoshootings/wedding"}];return n.jsxs(ns,{children:[n.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:t("photoshoots.title")}),n.jsx("p",{className:"text-purple-100 text-lg",children:t("photoshoots.subtitle")})]})})}),n.jsx("section",{className:"py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((a,i)=>n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-4",children:a.title}),n.jsx("p",{className:"text-gray-600",children:a.description})]}),n.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden mb-8",children:[n.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:n.jsx("button",{onClick:()=>{r(),e(a.link)},className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-8 rounded-lg transition-colors transform hover:scale-105",children:t("photoshoots.learnMore")})})]})]},i))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.flexibleAppointments")}),n.jsx("p",{className:"text-gray-600",children:t("photoshoots.flexibleDescription")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.wholeFamily")}),n.jsx("p",{className:"text-gray-600",children:t("photoshoots.wholeFamilyDescription")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Vs,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:t("photoshoots.professionalEquipment")}),n.jsx("p",{className:"text-gray-600",children:t("photoshoots.professionalDescription")})]})]})]})})]})},tte=()=>{const e=En();_.useEffect(()=>{document.title="Gutscheine für Fotoshootings Wien - Familien & Baby | New Age Fotografie";let r=document.querySelector('meta[name="description"]');return r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content","Fotoshooting-Gutscheine für Wien: Familienfotografie, Schwangerschaftsfotos, Neugeborenenbilder. Das perfekte Geschenk für besondere Momente."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const t=[{title:"Familien Fotoshooting",description:"Unvergessliche Momente für die ganze Familie",icon:Vs,image:"https://i.imgur.com/4m5hoL9.jpg",link:"/gutschein/family"},{title:"Schwangerschafts Fotoshooting",description:"Magische Momente Ihrer Schwangerschaft",icon:Tn,image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:"Neugeborenen Fotoshooting",description:"Die ersten kostbaren Momente Ihres Babys",icon:SJ,image:"https://i.imgur.com/QWOgLqX.jpg",link:"/gutschein/newborn"}];return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-purple-900 mb-8 text-center",children:"Fotoshooting Gutscheine Wien - Das perfekte Geschenk"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,s)=>{const a=r.icon;return n.jsxs("div",{onClick:()=>e(r.link),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-all hover:-translate-y-1 hover:shadow-xl",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-4 right-4 bg-white p-2 rounded-full shadow-lg",children:n.jsx(a,{className:"text-purple-600",size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),n.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Mehr erfahren"})]})]},s)})})]})})},rte=()=>{const{t:e,language:t}=wa(),[r,s]=xQ(),[a,i]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState(!0),[u,h]=_.useState(null),[p,f]=_.useState(0),[y,g]=_.useState(1),v=parseInt(r.get("page")||"1"),b=r.get("tag")||"",S=r.get("search")||"";_.useEffect(()=>{N()},[v,b,S]),_.useEffect(()=>{document.title="Blog - Fotografie Tipps & Inspiration | New Age Fotografie Wien";let k=document.querySelector('meta[name="description"]');k||(k=document.createElement("meta"),k.setAttribute("name","description"),document.head.appendChild(k)),k.setAttribute("content","Fotografie-Blog mit Tipps für Familienfotos, Neugeborenenbilder und Schwangerschaftsfotos. Inspiration und Beratung vom Wiener Familienfotograf.");let A=document.querySelector('meta[property="og:title"]');return A||(A=document.createElement("meta"),A.setAttribute("property","og:title"),document.head.appendChild(A)),A.setAttribute("content","Fotografie Blog - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const N=async()=>{try{d(!0),h(null);const k=new URLSearchParams;k.append("published","true"),k.append("language",t),b&&k.append("tag",b),S&&k.append("search",S),k.append("page",v.toString()),k.append("limit","10");const A=await fetch(`/api/blog/posts?${k.toString()}`);if(!A.ok)throw new Error("Failed to fetch blog posts");const P=await A.json(),B=P.posts||[];if(i(B),f(P.count||0),g(Math.ceil((P.count||0)/10)),o.length===0&&B.length>0){const T=B.flatMap(M=>M.tags||[]),I=Array.from(new Set(T)).map(M=>({id:M,name:M,slug:M}));l(I)}}catch{h("Failed to load blog posts. Please try again later.")}finally{d(!1)}},w=k=>{const A=new URLSearchParams(r);k.target.value?A.set("search",k.target.value):A.delete("search"),A.set("page","1"),s(A)},C=k=>{const A=new URLSearchParams(r);k===b?A.delete("tag"):A.set("tag",k),A.set("page","1"),s(A)},L=k=>k?new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return n.jsxs(ns,{children:[n.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e("blog.title")}),n.jsx("p",{className:"text-purple-100 text-lg",children:e("blog.subtitle")})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"lg:col-span-3",children:[n.jsxs("div",{className:"mb-8 relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:e("blog.searchPlaceholder"),value:S,onChange:w,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),c?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading posts..."})]}):u?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}):a.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:a.map(k=>n.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:shadow-lg hover:-translate-y-1",children:[n.jsx($t,{to:`/blog/${k.slug}`,className:"block aspect-[16/9] overflow-hidden bg-gray-100",children:k.imageUrl?n.jsx("img",{src:k.imageUrl,alt:k.title,className:"w-full h-full object-cover transition-transform hover:scale-105",loading:"lazy",onError:A=>{A.currentTarget.style.display="none";const P=A.currentTarget.parentElement;P&&!P.querySelector(".placeholder-shown")&&(P.innerHTML=`
                                <div class="placeholder-shown w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center">
                                  <div class="text-center">
                                    <svg class="w-12 h-12 text-purple-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <p class="text-purple-600 text-sm font-medium">${k.title.substring(0,30)}...</p>
                                  </div>
                                </div>
                              `)}}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("p",{className:"text-purple-600 text-sm font-medium",children:[k.title.substring(0,30),"..."]})]})})}),n.jsxs("div",{className:"p-6",children:[k.tags&&k.tags.length>0&&n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(nu,{size:16,className:"text-purple-600 mr-2"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:k.tags.map((A,P)=>{const B=o.find(T=>T.name===A);return B?n.jsxs("span",{className:"text-sm text-purple-600 cursor-pointer hover:text-purple-800",onClick:()=>C(B.slug),children:[A,P<k.tags.length-1&&", "]},P):null})})]}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:n.jsx($t,{to:`/blog/${k.slug}`,className:"hover:text-purple-600 transition-colors",children:k.title})}),k.excerpt&&n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:k.excerpt}),n.jsx("div",{className:"flex flex-wrap items-center text-sm text-gray-500 mb-3 gap-4",children:k.publishedAt&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{size:14,className:"mr-1"}),L(k.publishedAt)]})}),n.jsxs($t,{to:`/blog/${k.slug}`,className:"text-purple-600 hover:text-purple-800 font-medium text-sm inline-flex items-center",children:["Read more",n.jsx(Hc,{size:16,className:"ml-1"})]})]})]},k.id))}):n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:e("blog.noPostsFound")}),n.jsx("p",{className:"text-gray-600 mb-4",children:e(S||b?"blog.noPostsMatchCriteria":"blog.noPostsYet")}),(S||b)&&n.jsx("button",{onClick:()=>{s(new URLSearchParams)},className:"text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}),y>1&&n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs("nav",{className:"inline-flex rounded-md shadow",children:[n.jsx("button",{onClick:()=>{if(v>1){const k=new URLSearchParams(r);k.set("page",(v-1).toString()),s(k)}},disabled:v===1,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 ${v===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:y},(k,A)=>A+1).map(k=>n.jsx("button",{onClick:()=>{const A=new URLSearchParams(r);A.set("page",k.toString()),s(A)},className:`px-4 py-2 text-sm font-medium ${k===v?"bg-purple-600 text-white border border-purple-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:k},k)),n.jsx("button",{onClick:()=>{if(v<y){const k=new URLSearchParams(r);k.set("page",(v+1).toString()),s(k)}},disabled:v===y,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 ${v===y?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Categories"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs("button",{onClick:()=>C(""),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${b===""?"text-purple-600 font-medium":""}`,children:[n.jsx(Hc,{size:16,className:"mr-2"}),"All Categories"]})}),o.map(k=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>C(k.slug),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${b===k.slug?"text-purple-600 font-medium":""}`,children:[n.jsx(Hc,{size:16,className:"mr-2"}),k.name]})},k.id))]})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Newsletter"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Stay updated with our latest photography tips and special offers."}),n.jsxs("form",{className:"space-y-4",children:[n.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),n.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Subscribe"})]})]})]})]})})]})};var CR={exports:{}},nte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ste=nte,ate=ste;function PR(){}function TR(){}TR.resetWarningCache=PR;var ite=function(){function e(s,a,i,o,l,c){if(c!==ate){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TR,resetWarningCache:PR};return r.PropTypes=r,r};CR.exports=ite();var ote=CR.exports;const xt=hn(ote);function lte(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ER=_,cte=lte(ER);function kP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dte(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ute=!!(typeof window<"u"&&window.document&&window.document.createElement);function hte(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(u){return u.props})),d.canUseDOM?t(l):r&&(l=r(l))}var d=function(u){dte(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,o=[],y};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var y=o.indexOf(this);o.splice(y,1),c()},p.render=function(){return cte.createElement(i,this.props)},h}(ER.PureComponent);return kP(d,"displayName","SideEffect("+s(i)+")"),kP(d,"canUseDOM",ute),d}}var fte=hte;const mte=hn(fte);var pte=typeof Element<"u",gte=typeof Map=="function",xte=typeof Set=="function",yte=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function L1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!L1(e[s],t[s]))return!1;return!0}var i;if(gte&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!L1(s.value[1],t.get(s.value[0])))return!1;return!0}if(xte&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(yte&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(pte&&e instanceof Element)return!1;for(s=r;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!L1(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var vte=function(t,r){try{return L1(t,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const bte=hn(vte);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var CP=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable;function Nte(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Ste(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _te=Ste()?Object.assign:function(e,t){for(var r,s=Nte(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)wte.call(r,o)&&(s[o]=r[o]);if(CP){a=CP(r);for(var l=0;l<a.length;l++)jte.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s};const Ate=hn(_te);var bm={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},vr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(vr).map(function(e){return vr[e]});var ds={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},sw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Oy={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},kte=Object.keys(sw).reduce(function(e,t){return e[sw[t]]=t,e},{}),Cte=[vr.NOSCRIPT,vr.SCRIPT,vr.STYLE],Jl="data-react-helmet",Pte=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tte=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ete=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ote=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},PP=function(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r},Lte=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},p_=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ite=function(t){var r=cg(t,vr.TITLE),s=cg(t,Oy.TITLE_TEMPLATE);if(s&&r)return s.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=cg(t,Oy.DEFAULT_TITLE);return r||a||void 0},Mte=function(t){return cg(t,Oy.ON_CHANGE_CLIENT_STATE)||function(){}},h5=function(t,r){return r.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,a){return Yi({},s,a)},{})},Dte=function(t,r){return r.filter(function(s){return typeof s[vr.BASE]<"u"}).map(function(s){return s[vr.BASE]}).reverse().reduce(function(s,a){if(!s.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return s.concat(a)}return s},[])},S0=function(t,r,s){var a={};return s.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Bte("Helmet: "+t+' should be of type "Array". Instead found type "'+Pte(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(p){for(var f=void 0,y=Object.keys(p),g=0;g<y.length;g++){var v=y[g],b=v.toLowerCase();r.indexOf(b)!==-1&&!(f===ds.REL&&p[f].toLowerCase()==="canonical")&&!(b===ds.REL&&p[b].toLowerCase()==="stylesheet")&&(f=b),r.indexOf(v)!==-1&&(v===ds.INNER_HTML||v===ds.CSS_TEXT||v===ds.ITEM_PROP)&&(f=v)}if(!f||!p[f])return!1;var S=p[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][S]?!1:(l[f][S]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=Ate({},a[u],l[u]);a[u]=h}return i},[]).reverse()},cg=function(t,r){for(var s=t.length-1;s>=0;s--){var a=t[s];if(a.hasOwnProperty(r))return a[r]}return null},Fte=function(t){return{baseTag:Dte([ds.HREF,ds.TARGET],t),bodyAttributes:h5(bm.BODY,t),defer:cg(t,Oy.DEFER),encode:cg(t,Oy.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:h5(bm.HTML,t),linkTags:S0(vr.LINK,[ds.REL,ds.HREF],t),metaTags:S0(vr.META,[ds.NAME,ds.CHARSET,ds.HTTPEQUIV,ds.PROPERTY,ds.ITEM_PROP],t),noscriptTags:S0(vr.NOSCRIPT,[ds.INNER_HTML],t),onChangeClientState:Mte(t),scriptTags:S0(vr.SCRIPT,[ds.SRC,ds.INNER_HTML],t),styleTags:S0(vr.STYLE,[ds.CSS_TEXT],t),title:Ite(t),titleAttributes:h5(bm.TITLE,t)}},g_=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){g_(t)},0)}}(),TP=function(t){return clearTimeout(t)},Rte=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||g_:global.requestAnimationFrame||g_,$te=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||TP:global.cancelAnimationFrame||TP,Bte=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},_0=null,zte=function(t){_0&&$te(_0),t.defer?_0=Rte(function(){EP(t,function(){_0=null})}):(EP(t),_0=null)},EP=function(t,r){var s=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.onChangeClientState,u=t.scriptTags,h=t.styleTags,p=t.title,f=t.titleAttributes;x_(vr.BODY,a),x_(vr.HTML,i),Ute(p,f);var y={baseTag:Op(vr.BASE,s),linkTags:Op(vr.LINK,o),metaTags:Op(vr.META,l),noscriptTags:Op(vr.NOSCRIPT,c),scriptTags:Op(vr.SCRIPT,u),styleTags:Op(vr.STYLE,h)},g={},v={};Object.keys(y).forEach(function(b){var S=y[b],N=S.newTags,w=S.oldTags;N.length&&(g[b]=N),w.length&&(v[b]=y[b].oldTags)}),r&&r(),d(t,g,v)},OR=function(t){return Array.isArray(t)?t.join(""):t},Ute=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=OR(t)),x_(vr.TITLE,r)},x_=function(t,r){var s=document.getElementsByTagName(t)[0];if(s){for(var a=s.getAttribute(Jl),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var d=l[c],u=r[d]||"";s.getAttribute(d)!==u&&s.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var p=o.length-1;p>=0;p--)s.removeAttribute(o[p]);i.length===o.length?s.removeAttribute(Jl):s.getAttribute(Jl)!==l.join(",")&&s.setAttribute(Jl,l.join(","))}},Op=function(t,r){var s=document.head||document.querySelector(vr.HEAD),a=s.querySelectorAll(t+"["+Jl+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var d=document.createElement(t);for(var u in c)if(c.hasOwnProperty(u))if(u===ds.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===ds.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(Jl,"true"),i.some(function(p,f){return l=f,d.isEqualNode(p)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:o}},LR=function(t){return Object.keys(t).reduce(function(r,s){var a=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return r?r+" "+a:a},"")},Vte=function(t,r,s,a){var i=LR(s),o=OR(r);return i?"<"+t+" "+Jl+'="true" '+i+">"+p_(o,a)+"</"+t+">":"<"+t+" "+Jl+'="true">'+p_(o,a)+"</"+t+">"},qte=function(t,r,s){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===ds.INNER_HTML||d===ds.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+p_(i[u],s)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=Cte.indexOf(t)===-1;return a+"<"+t+" "+Jl+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},IR=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[sw[a]||a]=t[a],s},r)},Wte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[kte[a]||a]=t[a],s},r)},Hte=function(t,r,s){var a,i=(a={key:r},a[Jl]=!0,a),o=IR(s,i);return[ve.createElement(vr.TITLE,o,r)]},Gte=function(t,r){return r.map(function(s,a){var i,o=(i={key:a},i[Jl]=!0,i);return Object.keys(s).forEach(function(l){var c=sw[l]||l;if(c===ds.INNER_HTML||c===ds.CSS_TEXT){var d=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=s[l]}),ve.createElement(t,o)})},Td=function(t,r,s){switch(t){case vr.TITLE:return{toComponent:function(){return Hte(t,r.title,r.titleAttributes)},toString:function(){return Vte(t,r.title,r.titleAttributes,s)}};case bm.BODY:case bm.HTML:return{toComponent:function(){return IR(r)},toString:function(){return LR(r)}};default:return{toComponent:function(){return Gte(t,r)},toString:function(){return qte(t,r,s)}}}},MR=function(t){var r=t.baseTag,s=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,d=t.scriptTags,u=t.styleTags,h=t.title,p=h===void 0?"":h,f=t.titleAttributes;return{base:Td(vr.BASE,r,a),bodyAttributes:Td(bm.BODY,s,a),htmlAttributes:Td(bm.HTML,i,a),link:Td(vr.LINK,o,a),meta:Td(vr.META,l,a),noscript:Td(vr.NOSCRIPT,c,a),script:Td(vr.SCRIPT,d,a),style:Td(vr.STYLE,u,a),title:Td(vr.TITLE,{title:p,titleAttributes:f},a)}},Kte=function(t){var r,s;return s=r=function(a){Ote(i,a);function i(){return Tte(this,i),Lte(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!bte(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case vr.SCRIPT:case vr.NOSCRIPT:return{innerHTML:c};case vr.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,p=l.nestedChildren;return Yi({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[Yi({},h,this.mapNestedChildrenToProps(d,p))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,p=l.newChildProps,f=l.nestedChildren;switch(u.type){case vr.TITLE:return Yi({},h,(c={},c[u.type]=f,c.titleAttributes=Yi({},p),c));case vr.BODY:return Yi({},h,{bodyAttributes:Yi({},p)});case vr.HTML:return Yi({},h,{htmlAttributes:Yi({},p)})}return Yi({},h,(d={},d[u.type]=Yi({},p),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=Yi({},c);return Object.keys(l).forEach(function(u){var h;d=Yi({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return ve.Children.forEach(l,function(h){if(!(!h||!h.props)){var p=h.props,f=p.children,y=PP(p,["children"]),g=Wte(y);switch(d.warnOnInvalidChildren(h,f),h.type){case vr.LINK:case vr.META:case vr.NOSCRIPT:case vr.SCRIPT:case vr.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:g,nestedChildren:f});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=PP(l,["children"]),u=Yi({},d);return c&&(u=this.mapChildrenToProps(c,u)),ve.createElement(t,u)},Ete(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(ve.Component),r.propTypes={base:xt.object,bodyAttributes:xt.object,children:xt.oneOfType([xt.arrayOf(xt.node),xt.node]),defaultTitle:xt.string,defer:xt.bool,encodeSpecialCharacters:xt.bool,htmlAttributes:xt.object,link:xt.arrayOf(xt.object),meta:xt.arrayOf(xt.object),noscript:xt.arrayOf(xt.object),onChangeClientState:xt.func,script:xt.arrayOf(xt.object),style:xt.arrayOf(xt.object),title:xt.string,titleAttributes:xt.object,titleTemplate:xt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=MR({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},s},Yte=function(){return null},Zte=mte(Fte,zte,MR)(Yte),y_=Kte(Zte);y_.renderStatic=y_.rewind;const Xte=()=>{const{slug:e}=Uo(),[t,r]=_.useState(null),[s,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{e&&d(e)},[e]);const d=async p=>{try{o(!0);const f=await fetch(`/api/blog/posts/${p}`);if(!f.ok){f.status===404?c("Blog post not found"):c("Failed to load blog post");return}const y=await f.json();r(y),u(y.id)}catch{c("Failed to load blog post. Please try again later.")}finally{o(!1)}},u=async p=>{try{const f=await fetch(`/api/blog/posts?published=true&limit=3&exclude=${p}`);if(f.ok){const y=await f.json();a(y.posts||[])}}catch{}},h=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i?n.jsx(ns,{children:n.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):l||!t?n.jsx(ns,{children:n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:l||"Blog post not found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),n.jsxs($t,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[n.jsx(Wn,{size:16,className:"mr-2"}),"Back to blog"]})]})})}):n.jsxs(ns,{children:[n.jsxs(y_,{children:[n.jsxs("title",{children:[t.title," | New Age Fotografie Blog"]}),n.jsx("meta",{name:"description",content:t.excerpt||`Read about ${t.title}`}),n.jsx("meta",{property:"og:title",content:t.title}),n.jsx("meta",{property:"og:description",content:t.excerpt||`Read about ${t.title}`}),t.imageUrl&&n.jsx("meta",{property:"og:image",content:t.imageUrl}),n.jsx("meta",{property:"og:type",content:"article"}),n.jsx("link",{rel:"canonical",href:`https://newagefotografie.com/blog/${t.slug}`}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,image:t.imageUrl?[t.imageUrl]:[],datePublished:t.publishedAt,dateModified:t.publishedAt,author:{"@type":"Person",name:"New Age Fotografie"},publisher:{"@type":"Organization",name:"New Age Fotografie",logo:{"@type":"ImageObject",url:"https://www.newagefotografie.com/logo.png"}},description:t.excerpt||`Read about ${t.title}`})})]}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs($t,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[n.jsx(Wn,{size:16,className:"mr-2"}),"Back to blog"]}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),n.jsxs("div",{className:"flex flex-wrap items-center text-gray-600 mb-6",children:[n.jsxs("div",{className:"flex items-center mr-6",children:[n.jsx(an,{size:16,className:"mr-1"}),n.jsx("span",{children:h(t.publishedAt)})]}),t.author&&n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{children:["By ",t.author.email.split("@")[0]]})})]})]}),t.imageUrl&&n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full rounded-xl shadow-lg mb-8",loading:"lazy",onError:p=>{const f=p.currentTarget.parentElement;f&&(f.innerHTML=`
                      <div class="w-full h-48 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-lg flex items-center justify-center">
                        <div class="text-center">
                          <svg class="w-16 h-16 text-purple-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2V4a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2z"></path>
                          </svg>
                          <p class="text-purple-600 font-medium">${t.title}</p>
                        </div>
                      </div>
                    `)}})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8 mb-8",children:t.contentHtml||t.content?n.jsxs("div",{className:"max-w-none",children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                  .blog-post-content {
                    line-height: 1.8;
                    color: #374151;
                  }
                  .blog-post-content h1 {
                    font-size: 2.25rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding-bottom: 0.5rem;
                    border-bottom: 3px solid #a855f7;
                  }
                  .blog-post-content h2 {
                    font-size: 1.875rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding: 1rem 1.5rem;
                    border-left: 4px solid #a855f7;
                    background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(168, 85, 247, 0.1);
                  }
                  .blog-post-content h3 {
                    font-size: 1.5rem;
                    font-weight: 600;
                    color: #374151;
                    margin: 1.5rem 0 0.75rem 0;
                  }
                  .blog-post-content p {
                    margin: 1rem 0;
                    text-align: justify;
                    line-height: 1.7;
                  }
                  .blog-post-content ul, .blog-post-content ol {
                    margin: 1rem 0;
                    padding-left: 2rem;
                  }
                  .blog-post-content ul {
                    list-style-type: disc;
                  }
                  .blog-post-content li {
                    margin: 0.5rem 0;
                    line-height: 1.6;
                  }
                  .blog-post-content img {
                    margin: 2rem auto;
                    border-radius: 12px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                    max-width: 100%;
                    height: auto;
                    display: block;
                  }
                  .blog-post-content blockquote {
                    border-left: 4px solid #a855f7;
                    background: #faf5ff;
                    padding: 1rem 1.5rem;
                    margin: 1.5rem 0;
                    border-radius: 0 8px 8px 0;
                    font-style: italic;
                  }
                  .blog-post-content strong {
                    font-weight: 700;
                    color: #1f2937;
                  }
                  .blog-post-content a {
                    color: #a855f7;
                    text-decoration: underline;
                    transition: color 0.2s ease;
                  }
                  .blog-post-content a:hover {
                    color: #9333ea;
                  }
                  .section-divider {
                    height: 1px;
                    background: linear-gradient(to right, transparent, #e5e7eb, transparent);
                    margin: 3rem 0;
                  }
                `}}),n.jsx("div",{className:"blog-post-content prose prose-purple max-w-none",dangerouslySetInnerHTML:{__html:t.contentHtml||t.content}})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Content Coming Soon"}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.excerpt||"This blog post is being prepared. Please check back soon for the full content."}),n.jsxs($t,{to:"/blog",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(Wn,{size:16,className:"mr-2"}),"Back to Blog"]})]})}),s.length>0&&n.jsxs("div",{className:"mt-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Posts"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(p=>n.jsxs($t,{to:`/blog/${p.slug}`,className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"h-40 overflow-hidden",children:p.imageUrl?n.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.classList.add("bg-gray-200"),f.currentTarget.parentElement.classList.add("flex"),f.currentTarget.parentElement.classList.add("items-center"),f.currentTarget.parentElement.classList.add("justify-center")}}):n.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:n.jsx(Os,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:p.title}),n.jsx("span",{className:"text-purple-600 text-sm",children:"Read more"})]})]},p.id))})]})]})]})]})},Qte=()=>{const{t:e}=wa(),[t,r]=_.useState({fullName:"",preferredDate:"",email:"",phone:"",message:""}),[s,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(null);_.useEffect(()=>{document.title="Termin anfragen - Fotoshooting Wien buchen | New Age Fotografie";let h=document.querySelector('meta[name="description"]');return h||(h=document.createElement("meta"),h.setAttribute("name","description"),document.head.appendChild(h)),h.setAttribute("content","Fotoshooting-Termin in Wien anfragen. Verfügbare Termine an Wochenenden für Familien-, Schwangerschafts- und Neugeborenen-Fotografie."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const d=async h=>{h.preventDefault(),a(!0),c(null);try{await Pee(t),o(!0),r({fullName:"",preferredDate:"",email:"",phone:"",message:""})}catch{c("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{a(!1)}},u=h=>{r({...t,[h.target.name]:h.target.value})};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-12",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-600 mb-4",children:e("waitlist.title")}),n.jsx("p",{className:"text-xl text-gray-600",children:e("waitlist.subtitle")})]}),n.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[i&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6",children:e("waitlist.successMessage")}),l&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:l}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[n.jsx(Do,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.fullName")," ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"Ihr vollständiger Name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[n.jsx(an,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.preferredDate")," ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"date",name:"preferredDate",value:t.preferredDate,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[n.jsx(Ur,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.email")," ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:e("waitlist.emailPlaceholder")})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center text-gray-700 font-medium mb-2",children:[n.jsx(Ym,{size:18,className:"mr-2 text-purple-600"}),e("waitlist.phone")," ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"+43 "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:e("waitlist.message")}),n.jsx("textarea",{name:"message",value:t.message,onChange:u,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:e("waitlist.messagePlaceholder")})]}),n.jsx("button",{type:"submit",disabled:s,className:`w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors ${s?"opacity-50 cursor-not-allowed":""}`,children:e(s?"waitlist.submitting":"waitlist.submit")}),n.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[n.jsx("span",{className:"text-purple-600",children:"*"})," Pflichtfelder"]})]})]})]})})},Jte=()=>{const{t:e}=wa(),[t,r]=_.useState({fullName:"",email:"",phone:"",message:""}),[s,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(null);_.useEffect(()=>{document.title="Kontakt - Familienfotograf Wien | New Age Fotografie";let h=document.querySelector('meta[name="description"]');h||(h=document.createElement("meta"),h.setAttribute("name","description"),document.head.appendChild(h)),h.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. Studio: Eingang Ecke Schönbrunnerstraße, Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 933 99210. Öffnungszeiten Fr-So 09:00-17:00.");let p=document.querySelector('meta[property="og:title"]');p||(p=document.createElement("meta"),p.setAttribute("property","og:title"),document.head.appendChild(p)),p.setAttribute("content","Kontakt - Familienfotograf Wien | New Age Fotografie");let f=document.querySelector('meta[property="og:description"]');return f||(f=document.createElement("meta"),f.setAttribute("property","og:description"),document.head.appendChild(f)),f.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. Studio: Eingang Ecke Schönbrunnerstraße, Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 933 99210."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const d=async h=>{h.preventDefault(),a(!0),c(null);try{await Cee(t),o(!0),r({fullName:"",email:"",phone:"",message:""})}catch{c("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{a(!1)}},u=h=>{r({...t,[h.target.name]:h.target.value})};return n.jsxs(ns,{children:[n.jsx("div",{className:"bg-gray-50 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:e("contact.title")}),n.jsx("p",{className:"mt-4 text-xl text-gray-600",children:e("contact.subtitle")})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:e("contact.studioTitle")}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Ur,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"hallo@newagefotografie.com"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Ym,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"+43 677 633 99210"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Os,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:e("contact.openingHours")})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ru,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{className:"text-gray-700",children:[n.jsx("div",{className:"font-medium",children:e("contact.officeAddress")}),n.jsx("div",{children:"Julius Tandler Platz 5 / 13, 1090 Wien, Austria"}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e("contact.addressNote")}),n.jsx("div",{className:"text-sm text-gray-600",children:e("contact.studioAddress")})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e("contact.transport")}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vee,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:e("contact.trainInfo")})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(kJ,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:e("contact.streetParking")})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e("contact.mapTitle")}),n.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm border",children:n.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2659.8!2d16.3608!3d48.1865!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x476d0774b3d4e1ab%3A0x123456789abcdef0!2sWehrgasse%2011A%2C%201050%20Wien%2C%20Austria!5e0!3m2!1sen!2sat!4v1625075400000!5m2!1sen!2sat",width:"100%",height:"300",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"New Age Fotografie Studio Location - Wehrgasse 11A/2+5, 1050 Wien"})})]})]}),n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:e("contact.contactForm")}),i?n.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:n.jsx("p",{className:"text-green-800",children:e("contact.successMessage")})}):n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:e("contact.fullName")}),n.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:e("contact.email")}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:u,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:e("contact.phone")}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:e("contact.message")}),n.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:u,required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l&&n.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:n.jsx("p",{className:"text-red-800",children:l})}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:e(s?"contact.submitting":"contact.submit")})]})]})]})})]})},ere=()=>{const{categories:e,selectedCategory:t,setSelectedCategory:r}=Km(),{t:s}=wa(),a=o=>{r(o)},i=o=>{switch(o){case"Familie":return s("categories.family");case"Baby":return s("categories.baby");case"Hochzeit":return s("categories.wedding");case"Business":return s("categories.business");case"Event":return s("categories.event");default:return o}};return n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:s("vouchers.filterByCategory")}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>a(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===null?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s("common.all")}),e.map(o=>n.jsx("button",{onClick:()=>a(o),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===o?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:i(o)},o))]})]})},tre=()=>{const{selectedCategory:e}=Km(),{t,language:r}=wa(),s=En(),[a,i]=ve.useState(""),o=_.useMemo(()=>{const h=t("vouchers.title");return h&&h!=="vouchers.title"?h:r==="en"?"Photoshoot Vouchers Vienna":"Fotoshooting Gutscheine Wien"},[t,r]),l=[{id:"pregnancy-shooting",name:t("home.pregnancyShootingTitle"),description:t("home.pregnancyShootingDescription"),originalPrice:195,price:95,image:"https://i.imgur.com/Vd6xtPg.jpg",category:"pregnancy",route:"/gutschein/maternity"},{id:"family-shooting",name:t("home.familyShootingTitle"),description:t("home.familyShootingDescription"),originalPrice:295,price:195,image:"https://i.imgur.com/4m5hoL9.jpg",category:"family",route:"/gutschein/family"},{id:"newborn-shooting",name:t("home.newbornShootingTitle"),description:t("home.newbornShootingDescription"),originalPrice:395,price:295,image:"https://i.imgur.com/QWOgLqX.jpg",category:"newborn",route:"/gutschein/newborn"}];_.useEffect(()=>{const h=r==="en"?"Photoshoot Vouchers Vienna - Gift Ideas | New Age Photography":"Fotoshooting Gutscheine Wien - Geschenkideen | New Age Fotografie";document.title=h;let p=document.querySelector('meta[name="description"]');p||(p=document.createElement("meta"),p.setAttribute("name","description"),document.head.appendChild(p));const f=r==="en"?"Photoshoot vouchers as the perfect gift idea. Family, pregnancy and newborn photoshoots in Vienna for gifting.":"Fotoshooting Gutscheine als perfekte Geschenkidee. Familien-, Schwangerschafts- und Neugeborenen-Fotoshootings in Wien zum Verschenken.";p.setAttribute("content",f)},[r]);const c=e&&e!=="Alle"?l.filter(h=>{const p=h.name.toLowerCase(),f=h.category.toLowerCase();switch(e.toLowerCase()){case"familie":return f.includes("family")||p.includes("famil");case"baby":return f.includes("newborn")||p.includes("neugeboren")||p.includes("baby");case"schwangerschaft":return f.includes("pregnancy")||p.includes("schwanger");default:return!0}}):l,d=a?c.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.description.toLowerCase().includes(a.toLowerCase())):c,u=h=>{s(h.route),window.scrollTo({top:0,behavior:"smooth"})};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-8",children:n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("img",{src:"/company-logo.svg",alt:"New Age Fotografie Logo",className:"h-16 w-auto mr-4",onError:h=>{const p=h.target;p.src="/logo.png"}}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 leading-tight",children:"NEW AGE FOTOGRAFIE"}),n.jsx("p",{className:"text-lg text-purple-600 font-medium",children:o})]})]})})}),n.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:t("common.search")}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:t("vouchers.searchPlaceholder"),value:a,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"}),n.jsx(Ha,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),n.jsx(ere,{})]}),n.jsx("div",{className:"lg:col-span-3",children:d.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(h=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[n.jsx("div",{className:"relative",children:n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover"})})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:h.name}),n.jsx("p",{className:"text-gray-600 mb-4",children:h.description}),n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("span",{className:"text-sm text-gray-500",children:[t("vouchers.validUntil")," ",t("vouchers.validityPeriod")]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["€",h.originalPrice]}),n.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["€",h.price]})]}),n.jsx("button",{onClick:()=>u(h),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:t("home.bookNowButton")})]})]})]},h.id))}):n.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[n.jsx(og,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:t(a||e!==null?"vouchers.noVouchersFound":"vouchers.noVouchersAvailable")}),n.jsx("p",{className:"text-gray-600 mb-4",children:t(a||e!==null?"vouchers.noVouchersFoundMessage":"vouchers.noVouchersAvailableMessage")}),(a||e!==null)&&n.jsx("button",{onClick:()=>{i("")},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:t("vouchers.resetFilters")})]})})]})]})})},rre=()=>{const{slug:e}=Uo(),t=En(),{getVoucherBySlug:r}=Km(),[s,a]=_.useState(1),i=r(e||"");if(!i)return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(Zr,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Gutschein nicht gefunden"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Der gesuchte Gutschein konnte nicht gefunden werden."}),n.jsx("button",{onClick:()=>t("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Gutscheine durchsuchen"})]})});const o=i.stock>0,l=new Date,d=new Date(i.validUntil)>l,u=p=>{const f=parseInt(p.target.value);f>=1&&f<=i.stock&&a(f)},h=()=>{t(`/checkout/${i.id}`,{state:{quantity:s}})};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[n.jsx(Wn,{size:16,className:"mr-1"})," Zurück zu den Gutscheinen"]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"md:grid md:grid-cols-2",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"md:col-span-1 p-6 md:p-8",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(nu,{size:16,className:"text-purple-600 mr-2"}),n.jsx("span",{className:"text-sm font-semibold text-purple-600 uppercase",children:i.category})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:i.title}),n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsxs("div",{className:"mr-6 flex items-center",children:[n.jsx(an,{size:16,className:"text-gray-500 mr-1"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Gültig bis ",new Date(i.validUntil).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${d?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-sm text-gray-500",children:d?"Aktiv":"Abgelaufen"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-500 line-through text-lg",children:["€",i.price.toFixed(2)]}),n.jsxs("span",{className:"text-purple-600 font-bold text-3xl ml-2",children:["€",i.discountPrice.toFixed(2)]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:i.description}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("p",{className:"text-gray-700 mb-2",children:[n.jsx("span",{className:"font-semibold",children:"Anbieter:"})," ",i.partner.title]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-semibold",children:"Verfügbar:"})," Noch ",i.stock," Gutscheine"]})]}),o&&d?n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Anzahl"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"number",min:"1",max:i.stock,value:s,onChange:u,className:"w-20 px-3 py-2 border border-gray-300 rounded-lg mr-4 focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),n.jsxs("button",{onClick:h,className:"flex-grow bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(rd,{size:18,className:"mr-2"}),"Jetzt kaufen - €",(i.discountPrice*s).toFixed(2)]})]})]}):n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Zr,{size:20,className:"text-red-500 mr-2 mt-0.5"}),n.jsx("p",{className:"text-red-700",children:o?"Dieser Gutschein ist abgelaufen und nicht mehr verfügbar.":"Dieser Gutschein ist derzeit ausverkauft."})]})}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(UJ,{size:20,className:"text-gray-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Geschäftsbedingungen"}),n.jsx("p",{className:"text-gray-700 text-sm",children:i.terms})]})]})})]})]})})]})})};function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(s){DR(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function I1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I1=function(t){return typeof t}:I1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function DR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function sre(e,t){if(e==null)return{};var r=nre(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function are(e,t){return ire(e)||ore(e,t)||lre(e,t)||cre()}function ire(e){if(Array.isArray(e))return e}function ore(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var s=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return s}}function lre(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var No=function(t,r,s){var a=!!s,i=ve.useRef(s);ve.useEffect(function(){i.current=s},[s]),ve.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[a,r,t,i])},dre=function(t){var r=ve.useRef(t);return ve.useEffect(function(){r.current=t},[t]),r.current},aw=function(t){return t!==null&&I1(t)==="object"},MP="[object Object]",ure=function e(t,r){if(!aw(t)||!aw(r))return t===r;var s=Array.isArray(t),a=Array.isArray(r);if(s!==a)return!1;var i=Object.prototype.toString.call(t)===MP,o=Object.prototype.toString.call(r)===MP;if(i!==o)return!1;if(!i&&!s)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var p=Object.keys(d);if(p.length!==l.length)return!1;var f=t,y=r,g=function(b){return e(f[b],y[b])};return p.every(g)},hre=function(t,r,s){return aw(t)?Object.keys(t).reduce(function(a,i){var o=!aw(r)||!ure(t[i],r[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?LP(LP({},a||{}),{},DR({},i,t[i])):a},null):null},FR=ve.createContext(null);FR.displayName="ElementsContext";var fre=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t};xt.any,xt.object;xt.func.isRequired;var RR=ve.createContext(null);RR.displayName="CheckoutSdkContext";var mre=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},pre=ve.createContext(null);pre.displayName="CheckoutContext";xt.any,xt.shape({fetchClientSecret:xt.func.isRequired,elementsOptions:xt.object}).isRequired;var DP=function(t){var r=ve.useContext(RR),s=ve.useContext(FR);if(r&&s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?mre(r,t):fre(s,t)},gre=["mode"],xre=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Hs=function(t,r){var s="".concat(xre(t),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,p=h===void 0?{}:h,f=c.onBlur,y=c.onFocus,g=c.onReady,v=c.onChange,b=c.onEscape,S=c.onClick,N=c.onLoadError,w=c.onLoaderStart,C=c.onNetworksChange,L=c.onConfirm,k=c.onCancel,A=c.onShippingAddressChange,P=c.onShippingRateChange,B=DP("mounts <".concat(s,">")),T="elements"in B?B.elements:null,I="checkoutSdk"in B?B.checkoutSdk:null,M=ve.useState(null),D=are(M,2),V=D[0],z=D[1],X=ve.useRef(null),q=ve.useRef(null);No(V,"blur",f),No(V,"focus",y),No(V,"escape",b),No(V,"click",S),No(V,"loaderror",N),No(V,"loaderstart",w),No(V,"networkschange",C),No(V,"confirm",L),No(V,"cancel",k),No(V,"shippingaddresschange",A),No(V,"shippingratechange",P),No(V,"change",v);var Y;g&&(t==="expressCheckout"?Y=g:Y=function(){g(V)}),No(V,"ready",Y),ve.useLayoutEffect(function(){if(X.current===null&&q.current!==null&&(T||I)){var W=null;if(I)switch(t){case"payment":W=I.createPaymentElement(p);break;case"address":if("mode"in p){var F=p.mode,Z=sre(p,gre);if(F==="shipping")W=I.createShippingAddressElement(Z);else if(F==="billing")W=I.createBillingAddressElement(Z);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=I.createExpressCheckoutElement(p);break;case"currencySelector":W=I.createCurrencySelectorElement();break;case"taxId":W=I.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&(W=T.create(t,p));X.current=W,z(W),W&&W.mount(q.current)}},[T,I,p]);var ie=dre(p);return ve.useEffect(function(){if(X.current){var W=hre(p,ie,["paymentRequest"]);W&&"update"in X.current&&X.current.update(W)}},[p,ie]),ve.useLayoutEffect(function(){return function(){if(X.current&&typeof X.current.destroy=="function")try{X.current.destroy(),X.current=null}catch{}}},[]),ve.createElement("div",{id:d,className:u,ref:q})},i=function(c){DP("mounts <".concat(s,">"));var d=c.id,u=c.className;return ve.createElement("div",{id:d,className:u})},o=r?i:a;return o.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},o.displayName=s,o.__elementType=t,o},Gs=typeof window>"u",yre=ve.createContext(null);yre.displayName="EmbeddedCheckoutProviderContext";Hs("auBankAccount",Gs);Hs("card",Gs);Hs("cardNumber",Gs);Hs("cardExpiry",Gs);Hs("cardCvc",Gs);Hs("fpxBank",Gs);Hs("iban",Gs);Hs("idealBank",Gs);Hs("p24Bank",Gs);Hs("epsBank",Gs);Hs("payment",Gs);Hs("expressCheckout",Gs);Hs("currencySelector",Gs);Hs("paymentRequestButton",Gs);Hs("linkAuthentication",Gs);Hs("address",Gs);Hs("shippingAddress",Gs);Hs("paymentMethodMessaging",Gs);Hs("affirmMessage",Gs);Hs("afterpayClearpayMessage",Gs);Hs("taxId",Gs);var vre="basil",$R="https://js.stripe.com",bre="".concat($R,"/").concat(vre,"/stripe.js"),wre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,jre=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,FP="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Nre=function(t){return wre.test(t)||jre.test(t)},Sre=function(){for(var t=document.querySelectorAll('script[src^="'.concat($R,'"]')),r=0;r<t.length;r++){var s=t[r];if(Nre(s.src))return s}return null},RP=function(t){var r="",s=document.createElement("script");s.src="".concat(bre).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},A0=null,Vb=null,qb=null,_re=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},Are=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},kre=function(t){return A0!==null?A0:(A0=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(FP),window.Stripe){r(window.Stripe);return}try{var a=Sre();if(a&&t)console.warn(FP);else if(!a)a=RP(t);else if(a&&qb!==null&&Vb!==null){var i;a.removeEventListener("load",qb),a.removeEventListener("error",Vb),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=RP(t)}qb=Are(r,s),Vb=_re(s),a.addEventListener("load",qb),a.addEventListener("error",Vb)}catch(o){s(o);return}}),A0.catch(function(r){return A0=null,Promise.reject(r)}))},k0,Cre=function(){return k0||(k0=kre(null).catch(function(t){return k0=null,Promise.reject(t)}),k0)};Promise.resolve().then(function(){return Cre()}).catch(function(e){console.warn(e)});function BR(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=BR(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function gr(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=BR(e))&&(s&&(s+=" "),s+=t);return s}const pA="-",Pre=e=>{const t=Ere(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(pA);return l[0]===""&&l.length!==1&&l.shift(),zR(l,t)||Tre(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},zR=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?zR(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(pA);return t.validators.find(({validator:o})=>o(i))?.classGroupId},$P=/^\[(.+)\]$/,Tre=e=>{if($P.test(e)){const t=$P.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ere=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Lre(Object.entries(e.classGroups),r).forEach(([i,o])=>{v_(o,s,i,t)}),s},v_=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:BP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Ore(a)){v_(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{v_(o,BP(t,i),r,s)})})},BP=(e,t)=>{let r=e;return t.split(pA).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Ore=e=>e.isThemeGetter,Lre=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Ire=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},UR="!",Mre=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(d===0){if(b===a&&(s||l.slice(v,v+i)===t)){c.push(l.slice(u,v)),u=v+i;continue}if(b==="/"){h=v;continue}}b==="["?d++:b==="]"&&d--}const p=c.length===0?l:l.substring(u),f=p.startsWith(UR),y=f?p.substring(1):p,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Dre=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Fre=e=>({cache:Ire(e.cacheSize),parseClassName:Mre(e),...Pre(e)}),Rre=/\s+/,$re=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Rre);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(d);let y=!!f,g=s(y?p.substring(0,f):p);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=s(p),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const v=Dre(u).join(":"),b=h?v+UR:v,S=b+g;if(i.includes(S))continue;i.push(S);const N=a(g,y);for(let w=0;w<N.length;++w){const C=N[w];i.push(b+C)}l=d+(l.length>0?" "+l:l)}return l};function Bre(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=VR(t))&&(s&&(s+=" "),s+=r);return s}const VR=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=VR(e[s]))&&(r&&(r+=" "),r+=t);return r};function zre(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=Fre(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=$re(c,r);return a(c,u),u}return function(){return i(Bre.apply(null,arguments))}}const Xn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qR=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ure=/^\d+\/\d+$/,Vre=new Set(["px","full","screen"]),qre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ed=e=>dg(e)||Vre.has(e)||Ure.test(e),nh=e=>_x(e,"length",rne),dg=e=>!!e&&!Number.isNaN(Number(e)),f5=e=>_x(e,"number",dg),C0=e=>!!e&&Number.isInteger(Number(e)),Yre=e=>e.endsWith("%")&&dg(e.slice(0,-1)),Nr=e=>qR.test(e),sh=e=>qre.test(e),Zre=new Set(["length","size","percentage"]),Xre=e=>_x(e,Zre,WR),Qre=e=>_x(e,"position",WR),Jre=new Set(["image","url"]),ene=e=>_x(e,Jre,sne),tne=e=>_x(e,"",nne),P0=()=>!0,_x=(e,t,r)=>{const s=qR.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},rne=e=>Wre.test(e)&&!Hre.test(e),WR=()=>!1,nne=e=>Gre.test(e),sne=e=>Kre.test(e),ane=()=>{const e=Xn("colors"),t=Xn("spacing"),r=Xn("blur"),s=Xn("brightness"),a=Xn("borderColor"),i=Xn("borderRadius"),o=Xn("borderSpacing"),l=Xn("borderWidth"),c=Xn("contrast"),d=Xn("grayscale"),u=Xn("hueRotate"),h=Xn("invert"),p=Xn("gap"),f=Xn("gradientColorStops"),y=Xn("gradientColorStopPositions"),g=Xn("inset"),v=Xn("margin"),b=Xn("opacity"),S=Xn("padding"),N=Xn("saturate"),w=Xn("scale"),C=Xn("sepia"),L=Xn("skew"),k=Xn("space"),A=Xn("translate"),P=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Nr,t],I=()=>[Nr,t],M=()=>["",Ed,nh],D=()=>["auto",dg,Nr],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Nr],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[dg,Nr];return{cacheSize:500,separator:":",theme:{colors:[P0],spacing:[Ed,nh],blur:["none","",sh,Nr],brightness:W(),borderColor:[e],borderRadius:["none","","full",sh,Nr],borderSpacing:I(),borderWidth:M(),contrast:W(),grayscale:Y(),hueRotate:W(),invert:Y(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Yre,nh],inset:T(),margin:T(),opacity:W(),padding:I(),saturate:W(),scale:W(),sepia:Y(),skew:W(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Nr]}],container:["container"],columns:[{columns:[sh]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Nr]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",C0,Nr]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Nr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",C0,Nr]}],"grid-cols":[{"grid-cols":[P0]}],"col-start-end":[{col:["auto",{span:["full",C0,Nr]},Nr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[P0]}],"row-start-end":[{row:["auto",{span:[C0,Nr]},Nr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Nr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Nr,t]}],"min-w":[{"min-w":[Nr,t,"min","max","fit"]}],"max-w":[{"max-w":[Nr,t,"none","full","min","max","fit","prose",{screen:[sh]},sh]}],h:[{h:[Nr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Nr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Nr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Nr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sh,nh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",f5]}],"font-family":[{font:[P0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Nr]}],"line-clamp":[{"line-clamp":["none",dg,f5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ed,Nr]}],"list-image":[{"list-image":["none",Nr]}],"list-style-type":[{list:["none","disc","decimal",Nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ed,nh]}],"underline-offset":[{"underline-offset":["auto",Ed,Nr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Qre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ene]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Ed,Nr]}],"outline-w":[{outline:[Ed,nh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ed,nh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sh,tne]}],"shadow-color":[{shadow:[P0]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sh,Nr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Nr]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Nr]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[C0,Nr]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Nr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ed,nh,f5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ine=zre(ane);function Bn(...e){return ine(gr(e))}const dr=ve.forwardRef(({className:e,variant:t="default",size:r="default",...s},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o={default:"bg-primary text-primary-foreground hover:bg-primary/90 bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground border-gray-300 hover:bg-gray-50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-accent hover:text-accent-foreground hover:bg-gray-100",link:"text-primary underline-offset-4 hover:underline text-blue-600"},l={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return n.jsx("button",{className:Bn(i,o[t],l[r],e),ref:a,...s})});dr.displayName="Button";const Oi=ve.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Bn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));Oi.displayName="Input";function zP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function HR(...e){return t=>{let r=!1;const s=e.map(a=>{const i=zP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():zP(e[a],null)}}}}function ss(...e){return _.useCallback(HR(...e),e)}function Ly(e){const t=one(e),r=_.forwardRef((s,a)=>{const{children:i,...o}=s,l=_.Children.toArray(i),c=l.find(cne);if(c){const d=c.props.children,u=l.map(h=>h===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:h);return n.jsx(t,{...o,ref:a,children:_.isValidElement(d)?_.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function one(e){const t=_.forwardRef((r,s)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=une(a),l=dne(i,a.props);return a.type!==_.Fragment&&(l.ref=s?HR(s,o):o),_.cloneElement(a,l)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lne=Symbol("radix.slottable");function cne(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lne}function dne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function une(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fn=hne.reduce((e,t)=>{const r=Ly(`Primitive.${t}`),s=_.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function fne(e,t){e&&Mv.flushSync(()=>e.dispatchEvent(t))}var mne="Label",GR=_.forwardRef((e,t)=>n.jsx(fn.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));GR.displayName=mne;var KR=GR;const UP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,VP=gr,YR=(e,t)=>r=>{var s;if(t?.variants==null)return VP(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r?.[d],h=i?.[d];if(u===null)return null;const p=UP(u)||UP(h);return a[d][p]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,p]=u;return p===void 0||(d[h]=p),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...d,h,p]:d},[]);return VP(e,o,c,r?.class,r?.className)},pne=YR("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ea=_.forwardRef(({className:e,...t},r)=>n.jsx(KR,{ref:r,className:Bn(pne(),e),...t}));ea.displayName=KR.displayName;function gne(e,t){const r=_.createContext(t),s=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Ax(e,t=[]){let r=[];function s(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const d=h=>{const{scope:p,children:f,...y}=h,g=p?.[e]?.[c]||l,v=_.useMemo(()=>y,Object.values(y));return n.jsx(g.Provider,{value:v,children:f})};d.displayName=i+"Provider";function u(h,p){const f=p?.[e]?.[c]||l,y=_.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=l?.[e]||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,xne(a,...t)]}function xne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Pn(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var fi=globalThis?.document?_.useLayoutEffect:()=>{},yne=VF[" useInsertionEffect ".trim().toString()]||fi;function Iy({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=vne({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=_.useCallback(u=>{if(l){const h=bne(u)?u(e):u;h!==e&&o.current?.(h)}else i(u)},[l,e,i,o]);return[c,d]}function vne({defaultProp:e,onChange:t}){const[r,s]=_.useState(e),a=_.useRef(r),i=_.useRef(t);return yne(()=>{i.current=t},[t]),_.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function bne(e){return typeof e=="function"}function gA(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function xA(e){const[t,r]=_.useState(void 0);return fi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}function wne(e,t){return _.useReducer((r,s)=>t[r][s]??r,e)}var Fv=e=>{const{present:t,children:r}=e,s=jne(t),a=typeof r=="function"?r({present:s.isPresent}):_.Children.only(r),i=ss(s.ref,Nne(a));return typeof r=="function"||s.isPresent?_.cloneElement(a,{ref:i}):null};Fv.displayName="Presence";function jne(e){const[t,r]=_.useState(),s=_.useRef(null),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=Wb(s.current);i.current=l==="mounted"?d:"none"},[l]),fi(()=>{const d=s.current,u=a.current;if(u!==e){const p=i.current,f=Wb(d);e?c("MOUNT"):f==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fi(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const g=Wb(s.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=f=>{f.target===t&&(i.current=Wb(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function Wb(e){return e?.animationName||"none"}function Nne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var X2="Checkbox",[Sne,C$e]=Ax(X2),[_ne,yA]=Sne(X2);function Ane(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[p,f]=Iy({prop:r,defaultProp:a??!1,onChange:c,caller:X2}),[y,g]=_.useState(null),[v,b]=_.useState(null),S=_.useRef(!1),N=y?!!o||!!y.closest("form"):!0,w={checked:p,disabled:i,setChecked:f,control:y,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:S,required:d,defaultChecked:Fh(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:b};return n.jsx(_ne,{scope:t,...w,children:kne(h)?h(w):s})}var ZR="CheckboxTrigger",XR=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:y}=yA(ZR,e),g=ss(a,u),v=_.useRef(c);return _.useEffect(()=>{const b=i?.form;if(b){const S=()=>h(v.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[i,h]),n.jsx(fn.button,{type:"button",role:"checkbox","aria-checked":Fh(c)?"mixed":c,"aria-required":d,"data-state":r9(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:Pn(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Pn(r,b=>{h(S=>Fh(S)?!0:!S),y&&f&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});XR.displayName=ZR;var vA=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return n.jsx(Ane,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>n.jsxs(n.Fragment,{children:[n.jsx(XR,{...h,ref:t,__scopeCheckbox:r}),p&&n.jsx(t9,{__scopeCheckbox:r})]})})});vA.displayName=X2;var QR="CheckboxIndicator",JR=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=yA(QR,r);return n.jsx(Fv,{present:s||Fh(i.checked)||i.checked===!0,children:n.jsx(fn.span,{"data-state":r9(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});JR.displayName=QR;var e9="CheckboxBubbleInput",t9=_.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:p,setBubbleInput:f}=yA(e9,e),y=ss(r,f),g=gA(i),v=xA(s);_.useEffect(()=>{const S=p;if(!S)return;const N=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(N,"checked").set,L=!a.current;if(g!==i&&C){const k=new Event("click",{bubbles:L});S.indeterminate=Fh(i),C.call(S,Fh(i)?!1:i),S.dispatchEvent(k)}},[p,g,i,a]);const b=_.useRef(Fh(i)?!1:i);return n.jsx(fn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:y,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});t9.displayName=e9;function kne(e){return typeof e=="function"}function Fh(e){return e==="indeterminate"}function r9(e){return Fh(e)?"indeterminate":e?"checked":"unchecked"}const Cne=_.forwardRef(({className:e,...t},r)=>n.jsx(vA,{ref:r,className:Bn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(JR,{className:Bn("flex items-center justify-center text-current"),children:n.jsx(ba,{className:"h-4 w-4"})})}));Cne.displayName=vA.displayName;let Pne=0,Q2=[],M1=[];const n9=e=>{Q2=e,M1.forEach(t=>t(e))},Tne=e=>{const t=`toast-${++Pne}`,s=[{...e,id:t},...Q2].slice(0,5);return n9(s),setTimeout(()=>{s9(t)},5e3),{id:t}},s9=e=>{const t=Q2.filter(r=>r.id!==e);n9(t)},Ene=e=>Tne(e),One=()=>{const[e,t]=_.useState(Q2);return _.useEffect(()=>(M1.push(t),()=>{const r=M1.indexOf(t);r>-1&&M1.splice(r,1)}),[]),{toasts:e,toast:Ene,dismiss:s9}},Gt=({className:e="",children:t})=>n.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${e}`,children:t}),Yr=({className:e="",children:t})=>n.jsx("div",{className:`p-6 pb-3 flex flex-col ${e}`,children:t}),sn=({className:e="",children:t})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${e}`,children:t}),sr=({className:e="",children:t})=>n.jsx("div",{className:`p-6 pt-3 ${e}`,children:t}),Ia=({className:e="",children:t})=>n.jsx("p",{className:`text-sm text-gray-600 ${e}`,children:t}),Lne=YR("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hi({className:e,variant:t,...r}){return n.jsx("div",{className:Bn(Lne({variant:t}),e),...r})}const Ine=()=>{const{id:e}=Uo(),t=En(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null);return _.useEffect(()=>{e?(async()=>{try{const d=await fetch(`/api/vouchers/products/${e}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const u=await d.json();s(u)}catch(d){l(d.message||"Gutschein nicht gefunden")}finally{i(!1)}})():(l("Keine Gutschein-ID gefunden"),i(!1))},[e]),a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):o||!r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gutschein nicht gefunden"}),n.jsxs(dr,{onClick:()=>t("/vouchers"),variant:"outline",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Zahlungssystem wird eingerichtet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Unser Zahlungssystem wird gerade konfiguriert. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns direkt."}),n.jsxs(dr,{onClick:()=>t("/vouchers"),variant:"outline",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})})},Mne=()=>{const e=En(),{t}=wa();return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-purple-600 to-purple-700 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xs",children:"NAF"})}),n.jsx("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"NEW AGE FOTOGRAFIE"})]}),n.jsxs(dr,{variant:"ghost",onClick:()=>e("/"),className:"text-purple-600 hover:text-purple-700",children:[n.jsx(Wn,{className:"w-4 h-4 mr-2"}),t("voucher.backToHome")]})]})})}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Fr,{className:"w-16 h-16 text-green-600 mx-auto"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("voucher.paymentSuccessful")}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:t("voucher.thankYouMessage")}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:t("voucher.whatHappensNext")}),n.jsxs("ul",{className:"text-sm text-green-800 space-y-2 text-left",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Fr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.emailReceived")]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Fr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.validity")]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Fr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),t("voucher.bookingContact")]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(dr,{onClick:()=>e("/vouchers"),variant:"outline",className:"w-full",children:[n.jsx(js,{className:"w-4 h-4 mr-2"}),t("voucher.moreVouchers")]}),n.jsxs(dr,{onClick:()=>window.open("https://newagefotografie.sproutstudio.com/invitation/live-link-shootings-new-age-fotografie","_blank"),className:"w-full bg-purple-600 hover:bg-purple-700",children:[n.jsx(an,{className:"w-4 h-4 mr-2"}),t("voucher.bookAppointment")]})]}),n.jsxs("div",{className:"pt-6 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:t("voucher.questionsAboutVoucher")}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsxs("strong",{children:[t("voucher.phone"),":"]})," +43 677 933 99210"]}),n.jsxs("p",{children:[n.jsxs("strong",{children:[t("voucher.email"),":"]})," hallo@newagefotografie.com"]}),n.jsxs("p",{children:[n.jsxs("strong",{children:[t("voucher.openingHours"),":"]})," ",t("voucher.openingTimes")]})]})]})]})]})})]})},Dne=({onComplete:e,voucherAmount:t})=>{const[r,s]=_.useState(1),[a,i]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(null),[u,h]=_.useState(""),[p,f]=_.useState(""),[y,g]=_.useState(""),v=[{id:"pdf",name:"PDF Versand",description:"Kostenlos",price:0,image:"https://images.unsplash.com/photo-1586953208448-b95a79798f07?w=400&h=300&fit=crop",detailedDescription:"Sofort downloaden und ausdrucken"},{id:"post-standard",name:"POST Standard",description:"4,49 €",price:4.49,image:"https://images.unsplash.com/photo-1566125882500-87e10f726cdc?w=400&h=300&fit=crop",detailedDescription:"Farbdruck auf 200g Papier | Versand per Post (3-5 Werktage)"},{id:"post-premium",name:"POST Premium",description:"6,49 €",price:6.49,image:"https://i.postimg.cc/RZ7PBrvT/firstvoucher-lettershop-premium.webp",detailedDescription:"Farbdruck auf hochwertigem 300g Papier inkl. passendem Umschlag | Versand per Post (3-5 Werktage)"},{id:"post-geschenkbox",name:"POST Geschenkbox",description:"34,95 €",price:34.95,image:"https://images.unsplash.com/photo-1549465220-1a8b9238cd48?w=400&h=300&fit=crop",detailedDescription:"Premium-Gutschein in Geschenkbox | Premium-Seife (250 ml) & Premium-Schokoladen | Versand per Post (3-5 Werktage) - Kostenloser Versand innerhalb Österreichs"}],b=[{id:"birthday",name:"Birthday Celebration",category:"birthday",image:"https://i.postimg.cc/cCLh7639/827ee647-a4cc-4f99-ac43-a7165efa0314.webp",occasion:"Happy Birthday"},{id:"anniversary",name:"Anniversary",category:"anniversary",image:"https://images.unsplash.com/photo-1469371670807-013ccf25f16a?w=400&h=300&fit=crop",occasion:"Happy Anniversary"},{id:"mothers-day",name:"Mother's Day",category:"mothers-day",image:"https://i.postimg.cc/br5xQgpr/stock-photo-top-view-greeting-card-happy-mothers-day-lettering-pink-carnations.webp",occasion:"Happy Mother's Day"},{id:"valentines",name:"Valentine's Day",category:"love",image:"https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=400&h=300&fit=crop",occasion:"I Love You"},{id:"christmas",name:"Christmas",category:"christmas",image:"https://images.unsplash.com/photo-1512389098783-66b81f86e199?w=400&h=300&fit=crop",occasion:"Merry Christmas"},{id:"thank-you",name:"Thank You",category:"gratitude",image:"https://i.postimg.cc/Mp5y5zWg/writing-thank-you.webp",occasion:"Thank You"},{id:"congratulations",name:"Congratulations",category:"celebration",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400&h=300&fit=crop",occasion:"Congratulations"}],S=k=>{i(k),s(2)},N=k=>{l(k),d(null)},w=k=>{const A=k.target.files?.[0];A&&(d(A),l(null))},C=()=>{a&&e({deliveryOption:a,selectedDesign:o||void 0,customPhoto:c||void 0,personalMessage:u,recipientName:p,senderName:y})},L=k=>{switch(k){case 1:return a!==null;case 2:return o!==null||c!==null;case 3:return u.trim()!=="";default:return!1}};return n.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white",children:[n.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3].map(k=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`
              w-10 h-10 rounded-full flex items-center justify-center text-white font-bold
              ${r===k?"bg-blue-600":L(k)?"bg-green-500":"bg-gray-300"}
            `,children:L(k)?n.jsx(ba,{size:20}):k}),n.jsx("div",{className:"ml-3 mr-6",children:n.jsxs("p",{className:`font-medium ${r===k?"text-blue-600":"text-gray-500"}`,children:[k===1&&"Versandart wählen",k===2&&"Motiv wählen / Foto hochladen",k===3&&"Persönliche Widmung"]})}),k<3&&n.jsx(Hc,{className:"text-gray-400 mr-6",size:20})]},k))}),r===1&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Versandart wählen"}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:v.map(k=>n.jsxs("div",{onClick:()=>S(k),className:`
                  border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg
                  ${a?.id===k.id?"border-blue-500 bg-blue-50":"border-gray-200"}
                `,children:[n.jsx("div",{className:"h-32 bg-gray-100 rounded-lg mb-3 flex items-center justify-center",children:n.jsx("img",{src:k.image,alt:k.name,className:"max-h-full max-w-full object-contain",onError:A=>{A.target.style.display="none",A.target.parentElement.innerHTML=`
                        <div class="text-gray-400 text-center">
                          <div class="text-2xl mb-2">📦</div>
                          <div class="text-sm">${k.name}</div>
                        </div>
                      `}})}),n.jsx("h3",{className:"font-semibold text-center",children:k.name}),n.jsx("p",{className:"text-center text-gray-600",children:k.description}),k.detailedDescription&&n.jsx("p",{className:"text-center text-sm text-gray-500 mt-1",children:k.detailedDescription}),a?.id===k.id&&n.jsx("div",{className:"flex justify-center mt-2",children:n.jsx(ba,{className:"text-blue-500",size:20})})]},k.id))}),a&&n.jsx("div",{className:"text-center mt-6",children:n.jsx("button",{onClick:()=>s(2),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"weiter zur Gestaltung"})})]}),r===2&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Motiv wählen / Foto hochladen"}),n.jsx("div",{className:"mb-8",children:n.jsxs("label",{className:"block w-full",children:[n.jsxs("div",{className:`
                  border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
                  ${c?"border-green-500 bg-green-50":"border-blue-500 bg-blue-50"}
                  hover:bg-blue-100
                `,children:[n.jsx(Vs,{size:48,className:"mx-auto mb-4 text-blue-500"}),n.jsx("p",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Foto suchen"}),n.jsx("p",{className:"text-gray-600",children:"Klicken Sie hier, um Ihr eigenes Foto hochzuladen"}),c&&n.jsxs("p",{className:"text-green-600 mt-2 font-semibold",children:["✓ ",c.name," ausgewählt"]})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:b.map(k=>n.jsxs("div",{onClick:()=>N(k),className:`
                    border-2 rounded-lg cursor-pointer transition-all hover:shadow-lg
                    ${o?.id===k.id?"border-blue-500 bg-blue-50":"border-gray-200"}
                  `,children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-t-lg overflow-hidden",children:n.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:A=>{A.target.style.display="none",A.target.parentElement.innerHTML=`
                          <div class="w-full h-full flex items-center justify-center text-gray-400">
                            <div class="text-center">
                              <div class="text-2xl mb-1">🎨</div>
                              <div class="text-xs">${k.occasion}</div>
                            </div>
                          </div>
                        `}})}),n.jsx("div",{className:"p-2 text-center",children:n.jsx("p",{className:"text-sm font-medium",children:k.occasion})}),o?.id===k.id&&n.jsx("div",{className:"flex justify-center pb-2",children:n.jsx(ba,{className:"text-blue-500",size:16})})]},k.id))})]}),n.jsxs("div",{className:"lg:pl-8",children:[n.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"Vorschau"}),o||c?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-xl p-6 mb-6 transform transition-all duration-500 hover:scale-105",children:n.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[n.jsxs("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg mb-4 flex items-center justify-center relative",children:[o?n.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover rounded-lg"}):c?n.jsx("img",{src:URL.createObjectURL(c),alt:"Custom uploaded photo",className:"w-full h-full object-cover rounded-lg"}):null,n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 rounded-lg flex items-center justify-center",children:n.jsxs("div",{className:"text-white text-center",children:[n.jsx("h4",{className:"text-2xl font-bold mb-2",children:"Gutschein"}),n.jsx("p",{className:"text-lg",children:o?.occasion||"Eigenes Foto"})]})})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border-t-4 border-blue-500",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-lg",children:"Fotoshooting Gutschein"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"1 Person, ca. 30 min"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t,",00 €"]})})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Einlösbar bis: 2 Jahre ab Kaufdatum"}),n.jsx("div",{className:"bg-gray-100 p-2 rounded text-center",children:n.jsx("p",{className:"text-xs font-mono",children:"DEMO-GUTSCHEIN-2024"})})]})]})]})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:()=>s(3),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors w-full lg:w-auto",children:"Persönliche Nachricht hinzufügen"})})]}):n.jsxs("div",{className:"text-center p-12 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),n.jsx("p",{className:"text-gray-500",children:"Wählen Sie ein Design oder laden Sie ein Foto hoch, um eine Vorschau zu sehen"})]})]})]}),r===3&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Persönliche Widmung"}),n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empfänger Name (optional)"}),n.jsx("input",{type:"text",value:p,onChange:k=>f(k.target.value),placeholder:"Für wen ist dieser Gutschein?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Persönliche Nachricht *"}),n.jsx("textarea",{value:u,onChange:k=>h(k.target.value),placeholder:"Widmung eingeben...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[u.length,"/500 Zeichen"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ihr Name (optional)"}),n.jsx("input",{type:"text",value:y,onChange:k=>g(k.target.value),placeholder:"Von wem ist dieser Gutschein?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.trim()&&n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Zur Kasse"})}),n.jsx("div",{className:"text-center mt-6",children:n.jsx("button",{onClick:C,className:"bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors w-full lg:w-auto",children:"Jetzt zur Kasse gehen"})})]})]}),a&&n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-xs text-center",children:["Voucher",n.jsx("br",{}),"Preview"]})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Fotoshooting Gutschein"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[a.name," | ",o?.occasion||c?.name||"Eigenes Foto"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Zwischensumme"}),n.jsxs("p",{className:"font-bold text-lg",children:[(t+a.price).toFixed(2)," €"]})]})]})})]})},a9=({onApplyVoucher:e,onVoucherApplied:t,appliedVoucher:r,onRemoveVoucher:s,subtotal:a=0})=>{const[i,o]=_.useState(""),[l,c]=_.useState(!1),[d,u]=_.useState(""),[h,p]=_.useState("success"),f=async()=>{if(i.trim()){c(!0),u("");try{if(t){const v={WELCOME20:{type:"percentage",value:20},PHOTO50:{type:"fixed",value:50},EARLYBIRD:{type:"percentage",value:15}}[i.trim().toUpperCase()];if(v){const b=v.type==="percentage"?a*v.value/100:v.value;t(i.trim().toUpperCase(),b),o(""),p("success"),u("Gutscheincode erfolgreich angewendet!")}else p("error"),u("Ungültiger Gutscheincode")}else if(e){const g=await e(i.trim().toUpperCase());g.success?(o(""),p("success"),u(g.message)):(p("error"),u(g.message))}}catch{p("error"),u("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{c(!1)}}},y=g=>{g.key==="Enter"&&f()};return r?n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-green-700",children:[n.jsx(ba,{size:20,className:"mr-2"}),n.jsxs("span",{className:"font-medium",children:["Gutscheincode angewendet: ",r.code]})]}),n.jsx("button",{onClick:s,className:"text-green-600 hover:text-green-800",children:n.jsx(rs,{size:20})})]}),n.jsx("p",{className:"text-sm text-green-600 mt-1",children:r.type==="percentage"?`${r.discount}% Rabatt`:`€${r.discount} Rabatt`})]}):n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(nu,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",value:i,onChange:g=>o(g.target.value),onKeyPress:y,placeholder:"Gutscheincode eingeben",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:l})]}),n.jsx("button",{onClick:f,disabled:!i.trim()||l,className:"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 text-white px-4 py-2 rounded-lg transition-colors",children:l?"Prüfen...":"Anwenden"})]}),d&&n.jsx("p",{className:`text-sm ${h==="success"?"text-green-600":"text-red-600"}`,children:d})]})},Fne=({voucherData:e,baseAmount:t,onCheckout:r})=>{const[s,a]=_.useState(""),[i,o]=_.useState("card"),[l,c]=_.useState(),[d,u]=_.useState(0),[h,p]=_.useState(!1),f=e?.deliveryOption.price||0,y=t+f,g=y-d,v=(N,w)=>{c(N),u(w),p(!1)},b=()=>{c(void 0),u(0)},S=async N=>{if(!s.trim()||!e)return;const w=N||i;try{const C=await fetch("/api/checkout/create-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{name:`Fotoshooting Gutschein - ${e.selectedDesign?.occasion||"Personalisiert"}`,price:Math.round(g*100),quantity:1,description:`Lieferung: ${e.deliveryOption.name}`}],customerEmail:s.trim(),voucherData:{...e,customPhoto:e.customPhoto?"uploaded":null},appliedVoucherCode:l,discount:Math.round(d*100),mode:"voucher",paymentMethod:w})});if(!C.ok){const k=await C.json();console.error("Server responded with error:",k);return}const L=await C.json();L.url?window.location.href=L.url:console.log("No URL returned from checkout API")}catch(C){console.error("Checkout error:",C)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"TN"})}),n.jsx("span",{className:"font-semibold",children:"TogNinja"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Ur,{size:20})}),n.jsxs("button",{className:"p-2 hover:bg-gray-100 rounded-full relative",children:[n.jsx(rd,{size:20}),n.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"1"})]})]})]})})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx("span",{children:"Warenkorb"}),n.jsx(Wh,{size:16,className:"rotate-[-90deg]"}),n.jsx("span",{className:"text-gray-900 font-medium",children:"Kasse"})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"E-Mail Adresse eingeben"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail *"}),n.jsx("input",{type:"email",value:s,onChange:N=>a(N.target.value),placeholder:"ihre-email@beispiel.de",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsx("button",{onClick:N=>{N.preventDefault(),S()},disabled:!s.trim()||!e,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2",children:n.jsx("span",{children:"Weiter"})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Zahlungsart"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>s.trim()&&e&&S("card"),children:[n.jsx("input",{type:"radio",name:"payment",value:"card",checked:i==="card",onChange:N=>o(N.target.value),className:"text-blue-600"}),n.jsx(Ty,{size:20,className:"text-gray-600"}),n.jsx("span",{children:"Kreditkarte / Debitkarte / Klarna"}),i==="card"&&s.trim()&&e&&n.jsx("span",{className:"ml-auto text-sm text-green-600",children:"✓ Bereit zum Checkout"})]})}),(!s.trim()||!e)&&n.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Bitte geben Sie Ihre E-Mail-Adresse ein, um eine Zahlungsart zu wählen."})]})]}),n.jsxs("div",{className:"space-y-6",children:[e&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden",children:e.customPhoto?n.jsx("img",{src:URL.createObjectURL(e.customPhoto),alt:"Custom voucher",className:"w-full h-full object-cover"}):e.selectedDesign?n.jsx("img",{src:e.selectedDesign.image,alt:e.selectedDesign.name,className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none",N.target.parentElement.innerHTML=`
                            <div class="w-full h-full flex items-center justify-center text-gray-400">
                              <Gift size="24" />
                            </div>
                          `}}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:n.jsx(og,{size:24})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold",children:"Fotoshooting Gutschein"}),n.jsx("p",{className:"text-sm text-gray-600",children:e.selectedDesign?.occasion||"Eigenes Foto"}),e.personalMessage&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1 italic",children:['"',e.personalMessage.substring(0,50),'..."']})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold",children:[t.toFixed(2)," €"]})})]}),n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"1"}),n.jsx("span",{className:"text-sm",children:e.deliveryOption.name})]}),n.jsx("span",{className:"text-sm font-medium",children:e.deliveryOption.price===0?"Kostenlos":`${e.deliveryOption.price.toFixed(2)} €`})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bestellübersicht"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Zwischensumme"}),n.jsxs("span",{children:[t.toFixed(2)," €"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Versandkosten"}),n.jsx("span",{children:f===0?"Kostenlos":`${f.toFixed(2)} €`})]}),d>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsxs("span",{children:["Rabatt (",l,")"]}),n.jsxs("span",{children:["-",d.toFixed(2)," €"]})]}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[n.jsx("span",{children:"Gesamtpreis"}),n.jsxs("span",{children:[g.toFixed(2)," €"]})]})})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t",children:[l?n.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(og,{size:16,className:"text-green-600"}),n.jsxs("span",{className:"text-sm text-green-800",children:['Code "',l,'" angewendet']})]}),n.jsx("button",{onClick:b,className:"text-red-600 hover:text-red-700 text-sm",children:"Entfernen"})]})}):n.jsxs("button",{onClick:()=>p(!h),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1",children:[n.jsx(og,{size:16}),n.jsx("span",{children:"Geschenkkarte oder Rabattcode"}),n.jsx(Wh,{size:16,className:h?"rotate-180":""})]}),h&&!l&&n.jsx("div",{className:"mt-3",children:n.jsx(a9,{onVoucherApplied:v,subtotal:y})})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:n.jsxs("div",{className:"text-center space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),n.jsx("span",{className:"text-sm",children:"SSL Verschlüsselt"})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}),n.jsx("span",{className:"text-sm",children:"Sicher"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ihre Daten werden verschlüsselt übertragen"})]})})]})]})})]})},i9=({voucherType:e,baseAmount:t,onComplete:r,onBack:s})=>{const[a,i]=_.useState("personalization"),[o,l]=_.useState(null),c=p=>{l(p),i("checkout")},d=p=>{console.log("Checkout initiated with Stripe:",p),i("confirmation")},u=()=>{i("personalization")},h=()=>{s&&s()};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a!=="personalization"&&n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:n.jsxs("button",{onClick:a==="checkout"?u:h,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(Wn,{size:20}),n.jsx("span",{children:a==="checkout"?"Zurück zur Personalisierung":"Zurück zum Warenkorb"})]})})}),a==="personalization"&&n.jsx(Dne,{voucherAmount:t,onComplete:c}),a==="checkout"&&o&&n.jsx(Fne,{voucherData:o,baseAmount:t,onCheckout:d}),a==="confirmation"&&n.jsx("div",{className:"max-w-2xl mx-auto pt-16 px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vielen Dank für Ihre Bestellung!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Ihr personalisierter Gutschein wird entsprechend Ihrer gewählten Versandart zugestellt."}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Bestelldetails:"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Gutschein: ",e]}),n.jsxs("p",{children:["Versandart: ",o?.deliveryOption.name]}),n.jsxs("p",{children:["Betrag: ",t.toFixed(2)," €"]})]})]}),n.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Zur Startseite"})]})})]})};async function Rne(e){try{const t=await fetch("undefined/functions/v1/public/voucher/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to process voucher purchase");return await t.json()}catch(t){throw t}}const qP=()=>{const{id:e}=Uo(),t=H2(),r=En(),{getVoucherById:s,addOrder:a}=Km(),{items:i,total:o,clearCart:l}=Sx(),d=t.state?.quantity||1,[u,h]=_.useState(d),[p,f]=_.useState(""),[y,g]=_.useState(""),[v,b]=_.useState(!1),[S,N]=_.useState({}),[w,C]=_.useState(null);_.useEffect(()=>{const D=sessionStorage.getItem("checkoutData");if(D)try{const V=JSON.parse(D);C(V)}catch(V){console.error("Failed to parse checkout data:",V)}i.length>0&&C({items:i,total:o,appliedVoucher:void 0})},[i,o]);const L=w?.items?.filter(D=>D.type==="voucher"||D.name?.toLowerCase().includes("gutschein")||D.title?.toLowerCase().includes("voucher"))||[],k=L.length>0,A=w?.items?.length===L.length;if(k&&A&&L.length===1){const D=L[0],V=X=>{console.log("Voucher purchase completed:",X),l(),sessionStorage.removeItem("checkoutData"),r("/checkout/success")},z=()=>{r("/cart")};return n.jsx(i9,{voucherType:D.title,baseAmount:D.price,onComplete:V,onBack:z})}const P=s(e||"");if(_.useEffect(()=>{e&&!P&&r("/vouchers")},[P,r,e]),e&&!P)return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(Zr,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Voucher Not Found"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't find the voucher you're looking for."}),n.jsx("button",{onClick:()=>r("/vouchers"),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Browse Vouchers"})]})});if(!e&&!w)return r("/cart"),null;P&&(P.title,P.discountPrice,P.image,P.validUntil,P.stock);const B=P?P.discountPrice*u:w?.total||0,T=()=>{const D={};return p.trim()||(D.name="Name is required"),y.trim()?/\S+@\S+\.\S+/.test(y)||(D.email="Email is invalid"):D.email="Email is required",N(D),Object.keys(D).length===0},I=async D=>{if(D.preventDefault(),!!T())try{b(!0);const V=`pi_${Math.random().toString(36).substring(2,15)}`;if(P){await Rne({purchaserName:p,purchaserEmail:y,amount:B,paymentIntentId:V,voucherType:P.category});const z=a({voucher:P,quantity:u,totalPrice:B,purchaserName:p,purchaserEmail:y,status:"paid"});r(`/order-complete/${z.id}`)}else w&&(console.log("Processing cart checkout:",w),l(),sessionStorage.removeItem("checkoutData"),r("/checkout/success"))}catch(V){console.error("Checkout error:",V),N({submit:"Failed to process payment. Please try again."}),b(!1)}},M=D=>{const V=parseInt(D.target.value);P&&V>=1&&V<=P.stock&&h(V)};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>{r(P?`/voucher/${P.slug}`:"/cart")},className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition-colors",children:[n.jsx(Wn,{size:16,className:"mr-1"}),P?"Back to voucher":"Back to cart"]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Checkout"}),n.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-8",children:[n.jsx("div",{className:"md:col-span-2 mb-8 md:mb-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Your Information"}),n.jsxs("form",{onSubmit:I,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Do,{size:16,className:"mr-2"})," Full Name"]}),n.jsx("input",{type:"text",value:p,onChange:D=>f(D.target.value),disabled:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors ${S.name?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),S.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.name})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Ur,{size:16,className:"mr-2"})," Email Address"]}),n.jsx("input",{type:"email",value:y,onChange:D=>g(D.target.value),disabled:v,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors ${S.email?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),S.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:S.email})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold mb-6 text-gray-800 flex items-center",children:[n.jsx(Ty,{size:20,className:"mr-2"})," Payment Information"]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-blue-700 text-sm",children:[n.jsx("strong",{children:"Note:"})," This is a demo application. No actual payment will be processed."]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Card Information"}),n.jsx("input",{type:"text",placeholder:"4242 4242 4242 4242",disabled:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-2 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"MM / YY",disabled:v,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600"}),n.jsx("input",{type:"text",placeholder:"CVC",disabled:v,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600"})]})]})]}),S.submit&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsx("p",{className:"text-red-700 text-sm",children:S.submit})}),n.jsx("button",{type:"submit",disabled:v,className:`w-full py-3 px-6 rounded-lg font-medium text-white transition-colors ${v?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:v?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay €${B.toFixed(2)}`})]})]})}),n.jsx("div",{className:"md:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Order Summary"}),P?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex mb-4",children:[n.jsx("img",{src:P.image,alt:P.title,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:P.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Valid until ",new Date(P.validUntil).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("label",{className:"text-gray-600",children:"Quantity:"}),n.jsx("input",{type:"number",min:"1",max:P.stock,value:u,onChange:M,disabled:v,className:"w-16 px-2 py-1 border border-gray-300 rounded text-right focus:ring-2 focus:ring-blue-600 focus:border-blue-600"})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Price per voucher:"}),n.jsxs("span",{className:"text-gray-800",children:["€",P.discountPrice.toFixed(2)]})]}),n.jsx("hr",{className:"my-4 border-gray-200"}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"text-blue-600",children:["€",B.toFixed(2)]})]})]})]}):w?n.jsxs(n.Fragment,{children:[w.items.map((D,V)=>n.jsxs("div",{className:"flex mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-2xl",children:"📸"})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:D.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:D.packageType}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Qty: ",D.quantity]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:"text-gray-800",children:["€",(D.price*D.quantity).toFixed(2)]})})]},V)),n.jsx("hr",{className:"my-4 border-gray-200"}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"text-blue-600",children:["€",B.toFixed(2)]})]})]}):null,n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Fr,{size:20,className:"text-green-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Secure Voucher Purchase"}),n.jsx("p",{className:"text-green-700 text-sm",children:"This voucher will be delivered to your email immediately after purchase."})]})]})})]})})]})]})})},WP=()=>{const{id:e}=Uo(),t=En(),{orders:r,isLoggedIn:s}=Km(),a=r.find(o=>o.id===e);_.useEffect(()=>{a||setTimeout(()=>{t("/")},3e3)},[a,t]);const i=()=>{a&&(navigator.clipboard.writeText(a.voucherCode),alert("Voucher code copied to clipboard!"))};return a?n.jsx(ns,{children:n.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx(Fr,{size:64,className:"text-green-500 mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-800",children:"Thank You for Your Purchase!"}),n.jsxs("p",{className:"text-gray-600 mb-8",children:["Your order has been successfully processed. A confirmation email has been sent to ",a.purchaserEmail,"."]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Order Details"}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsx("span",{className:"font-medium text-gray-800",children:a.id})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-medium text-gray-800",children:new Date(a.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsxs("span",{className:"font-medium text-gray-800",children:["€",a.totalPrice.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:"font-medium text-green-600",children:"Paid"})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Your Voucher"}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:a.voucher.image,alt:a.voucher.title,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"ml-4 text-left",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:a.voucher.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",a.quantity]})]})]}),n.jsxs("div",{className:"border border-blue-200 rounded p-3 bg-white flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:a.voucherCode}),n.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Copy code",children:n.jsx(Gc,{size:18})})]}),n.jsx("p",{className:"text-sm text-gray-600 text-left",children:"This is your voucher code. Please save it as you will need it to redeem your voucher."})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx($J,{size:18,className:"mr-2"}),"Return to Home"]}),s?n.jsxs("button",{onClick:()=>t("/account"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(User,{size:18,className:"mr-2"}),"View My Account"]}):n.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(oy,{size:18,className:"mr-2"}),"Browse More Vouchers"]})]})]})})}):n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(Zr,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Order Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Redirecting to home page..."})]})})},$ne=({order:e})=>{const t=()=>{switch(e.status){case"paid":return n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(Fr,{size:14,className:"mr-1"})," Paid"]});case"pending":return n.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(Os,{size:14,className:"mr-1"})," Pending"]});case"cancelled":return n.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(Zr,{size:14,className:"mr-1"})," Cancelled"]});default:return null}};return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:e.voucher.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Order #",e.id]})]}),t()]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.voucher.image,alt:e.voucher.title,className:"w-20 h-20 object-cover rounded"})}),n.jsx("div",{className:"flex-grow",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Quantity: ",e.quantity]}),n.jsxs("p",{className:"text-gray-600",children:["Total Price: ",n.jsxs("span",{className:"font-semibold",children:["€",(e.totalPrice||0).toFixed(2)]})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Voucher Code: ",n.jsx("span",{className:"font-semibold",children:e.voucherCode})]}),n.jsxs("p",{className:"text-gray-600 flex items-center",children:[n.jsx(an,{size:14,className:"mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})]})})]})]})},Bne=()=>{const{user:e,orders:t,isLoggedIn:r,logout:s}=Km(),a=En();if(_.useEffect(()=>{r||a("/")},[r,a]),!r||!e)return null;const i=t.length,o=t.filter(c=>c.status==="paid").length,l=t.filter(c=>c.status==="pending").length;return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"My Account"}),n.jsxs("div",{className:"md:grid md:grid-cols-4 md:gap-8",children:[n.jsx("div",{className:"md:col-span-1 mb-8 md:mb-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Do,{className:"text-blue-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]}),n.jsx("hr",{className:"my-4 border-gray-200"}),n.jsx("nav",{children:n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs($t,{to:"/account",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[n.jsx(oy,{size:18,className:"mr-3"}),"My Orders"]})}),n.jsx("li",{children:n.jsxs($t,{to:"/account/profile",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[n.jsx(Da,{size:18,className:"mr-3"}),"Account Settings"]})}),n.jsx("li",{children:n.jsxs("button",{onClick:()=>{s(),a("/")},className:"w-full flex items-center px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[n.jsx(bR,{size:18,className:"mr-3"}),"Logout"]})})]})})]})}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(oy,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(Fr,{className:"text-green-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Paid Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(Os,{className:"text-yellow-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"My Orders"}),t.length>0?n.jsx("div",{className:"space-y-4",children:t.map(c=>n.jsx($ne,{order:c},c.id))}):n.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[n.jsx(oy,{size:48,className:"text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No Orders Yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't placed any orders yet."}),n.jsx($t,{to:"/vouchers",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Browse Vouchers"})]})]})]})]})]})})},zne=()=>{const{user:e,isLoggedIn:t}=Km(),r=En(),[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState(""),[h,p]=_.useState(""),[f,y]=_.useState({type:"",text:""});if(_.useEffect(()=>{t?e&&(a(e.name),o(e.email)):r("/")},[t,r,e]),!t||!e)return null;const g=b=>{b.preventDefault(),y({type:"success",text:"Profile updated successfully!"}),setTimeout(()=>{y({type:"",text:""})},3e3)},v=b=>{if(b.preventDefault(),d!==h){y({type:"error",text:"New passwords do not match!"});return}if(d.length<8){y({type:"error",text:"Password must be at least 8 characters long"});return}y({type:"success",text:"Password updated successfully!"}),c(""),u(""),p(""),setTimeout(()=>{y({type:"",text:""})},3e3)};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"Account Settings"}),f.text&&n.jsx("div",{className:`p-4 mb-6 rounded-lg ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.jsxs("div",{className:"flex items-center",children:[f.type==="success"?n.jsx(CheckCircle,{size:20,className:"mr-2"}):n.jsx(Zr,{size:20,className:"mr-2"}),n.jsx("p",{children:f.text})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Profile Information"}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Do,{size:16,className:"mr-2"})," Name"]}),n.jsx("input",{type:"text",value:s,onChange:b=>a(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Ur,{size:16,className:"mr-2"})," Email Address"]}),n.jsx("input",{type:"email",value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[n.jsx(pl,{size:18,className:"mr-2"}),"Update Profile"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Change Password"}),n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Current Password"}),n.jsx("input",{type:"password",value:l,onChange:b=>c(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"New Password"}),n.jsx("input",{type:"password",value:d,onChange:b=>u(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:h,onChange:b=>p(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[n.jsx(pl,{size:18,className:"mr-2"}),"Update Password"]})]})]})]})]})})},Ir=({children:e})=>{const[t,r]=_.useState(!1),[s,a]=_.useState(new Set),{language:i,setLanguage:o,t:l}=wa(),[c,d]=_.useState(0),[u,h]=_.useState(0),p=H2(),f=En(),{user:y,signOut:g}=K2();_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[p.pathname]),_.useEffect(()=>{const w=async()=>{try{const L=await fetch("/api/crm/leads?status=new");if(L.ok){const A=await L.json();d(A.length)}const k=await fetch("/api/inbox/emails?unread=true");if(k.ok){const A=await k.json();h(A.length)}}catch{}};w();const C=setInterval(w,3e4);return()=>clearInterval(C)},[]);const v=[{icon:HJ,label:l("nav.dashboard"),path:"/admin/dashboard"},{icon:O1,label:l("nav.newLeads"),path:"/admin/leads",badge:c},{icon:rd,label:l("nav.onlineVoucherSales"),path:"/admin/voucher-sales"},{icon:Gn,label:l("nav.clients"),path:"/admin/clients"},{icon:ew,label:l("nav.topClients"),path:"/admin/high-value-clients"},{icon:Wa,label:l("nav.galleriesAdmin"),path:"/admin/galleries"},{icon:Hn,label:l("nav.invoices"),path:"/admin/invoices"},{icon:an,label:l("nav.calendar"),path:"/admin/calendar"},{icon:MJ,label:l("nav.digitalFiles"),path:"/admin/digital-files"},{icon:nee,label:l("nav.blogAdmin"),path:"/admin/blog"},{icon:Ur,label:l("nav.emailCampaigns"),path:"/admin/campaigns"},{icon:Z2,label:l("nav.communications"),path:"/admin/communications"},{icon:BJ,label:l("nav.inbox"),path:"/admin/inbox",badge:u},{icon:ig,label:l("nav.questionnaires"),path:"/admin/questionnaires"},{icon:La,label:l("nav.reports"),path:"/admin/reports"},{icon:Ih,label:l("nav.crmAssistant"),path:"/admin/crm-assistant"},{icon:to,label:l("nav.customization"),path:"/admin/customization",subItems:[{icon:to,label:l("nav.studioTemplates"),path:"/admin/studio-templates"},{icon:lg,label:l("nav.websiteWizard"),path:"/admin/website-wizard"},{icon:Ha,label:l("nav.websiteAnalyzer"),path:"/admin/website-analyzer"}]},{icon:Da,label:l("nav.settings"),path:"/admin/settings",subItems:[{icon:uA,label:l("nav.knowledgeBase"),path:"/admin/knowledge-base"}]}],b=async()=>{await g(),f("/admin/login")},S=()=>{o(i==="en"?"de":"en")},N=w=>{const C=new Set(s);C.has(w)?C.delete(w):C.add(w),a(C)};return _.useEffect(()=>{v.forEach(w=>{w.subItems&&w.subItems.some(L=>p.pathname===L.path||L.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/"))&&a(L=>{const k=new Set(L);return k.add(w.path),k})})},[p.pathname]),_.useEffect(()=>{y&&y.role==="admin"?localStorage.setItem("admin_user",JSON.stringify(y)):localStorage.removeItem("admin_user")},[p.pathname,y]),n.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[n.jsxs("div",{className:`bg-gray-900 text-white transition-all duration-300 ${t?"w-16":"w-64"} flex flex-col max-h-screen`,children:["        ",n.jsx("div",{className:"p-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[t?n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mx-auto"}):n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mr-2"})}),n.jsx("button",{onClick:()=>r(!t),className:"ml-auto p-1 rounded hover:bg-gray-700",children:n.jsx(wR,{size:20})})]})}),c>0&&n.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(T1,{size:16,className:"text-blue-600 mr-2 flex-shrink-0"}),!t&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-blue-900 font-medium",children:[c," unread leads waiting for your attention"]}),n.jsx("button",{onClick:()=>f("/admin/leads"),className:"text-blue-600 hover:text-blue-800 text-xs underline mt-1",children:"View all leads →"})]})]})}),u>0&&n.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Ur,{size:16,className:"text-green-600 mr-2 flex-shrink-0"}),!t&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-green-900 font-medium",children:[u," new emails received"]}),n.jsx("button",{onClick:()=>f("/admin/inbox"),className:"text-green-600 hover:text-green-800 text-xs underline mt-1",children:"View inbox →"})]})]})}),n.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto max-h-full sidebar-scrollbar",children:[n.jsx("div",{className:"space-y-1 pb-4",children:v.map(w=>{const C=w.icon,L=p.pathname===w.path||w.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/"),k=s.has(w.path),A=w.subItems?.some(P=>p.pathname===P.path||P.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/"));return n.jsxs("div",{children:[w.subItems?n.jsxs("button",{onClick:()=>N(w.path),className:`flex items-center w-full px-4 py-3 text-sm transition-colors relative ${L||A?"bg-purple-600 text-white border-r-2 border-purple-400":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(C,{size:20,className:"flex-shrink-0"}),!t&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"ml-3 flex-1 text-left",children:w.label}),k?n.jsx(Wh,{size:16,className:"flex-shrink-0"}):n.jsx(Hc,{size:16,className:"flex-shrink-0"})]}),w.badge&&w.badge>0&&n.jsxs("div",{className:`absolute ${t?"top-2 right-2":"top-3 right-4"} flex items-center justify-center`,children:[!t&&n.jsx(T1,{size:14,className:"mr-1 text-red-400"}),n.jsx("span",{className:`bg-red-500 text-white text-xs font-bold rounded-full ${t?"h-4 w-4 text-xs":"h-5 w-5 text-xs"} flex items-center justify-center`,children:w.badge>99?"99+":w.badge})]})]}):n.jsxs($t,{to:w.path,className:`flex items-center px-4 py-3 text-sm transition-colors relative ${L?"bg-purple-600 text-white border-r-2 border-purple-400":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(C,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:w.label}),w.badge&&w.badge>0&&n.jsxs("div",{className:`absolute ${t?"top-2 right-2":"top-3 right-4"} flex items-center justify-center`,children:[!t&&n.jsx(T1,{size:14,className:"mr-1 text-red-400"}),n.jsx("span",{className:`bg-red-500 text-white text-xs font-bold rounded-full ${t?"h-4 w-4 text-xs":"h-5 w-5 text-xs"} flex items-center justify-center`,children:w.badge>99?"99+":w.badge})]})]}),w.subItems&&k&&!t&&n.jsx("div",{className:"bg-gray-800",children:w.subItems.map(P=>{const B=P.icon,T=p.pathname===P.path||P.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/");return n.jsxs($t,{to:P.path,className:`flex items-center px-8 py-2 text-sm transition-colors ${T?"bg-purple-700 text-white border-r-2 border-purple-400":"text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(B,{size:16,className:"flex-shrink-0"}),n.jsx("span",{className:"ml-3",children:P.label})]},P.path)})})]},w.path)})}),n.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[n.jsx(Dg,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:l("nav.viewWebsite")})]})]}),n.jsx("div",{className:"border-t border-gray-700 p-4",children:n.jsxs("button",{onClick:b,className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors",children:[n.jsx(bR,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:l("nav.signOut")})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:(()=>{const w=v.find(C=>C.path===p.pathname||C.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/"));if(w)return w.label;for(const C of v)if(C.subItems){const L=C.subItems.find(k=>k.path===p.pathname||k.path==="/admin/blog"&&p.pathname.startsWith("/admin/blog/"));if(L)return L.label}return"Admin"})()}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:S,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[n.jsx(Bo,{size:16,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:i})]}),n.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[n.jsx(Dg,{size:16,className:"mr-1"}),n.jsx("span",{children:l("nav.viewWebsite")})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Do,{size:16,className:"text-white"})}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y?.email})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})},iw=({assistantId:e="asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:t,height:r="600px",title:s="CRM Operations Assistant",className:a=""})=>{const[i,o]=_.useState(!1),[l,c]=_.useState([{id:"1",role:"assistant",content:`Hello! I'm your ${s}. I can help you:

📧 Send booking confirmations & replies
📅 Manage appointments & schedules  
👥 Create & update client records
💰 Generate & send invoices
📊 Run reports & analyze data
⚡ Automate routine tasks

What would you like me to help you with today?`,timestamp:new Date}]),[d,u]=_.useState(""),[h,p]=_.useState(!1),[f,y]=_.useState(null),[g,v]=_.useState(null),b=_.useRef(null),S=_.useRef(null),N=()=>{b.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{N()},[l]),_.useEffect(()=>{!i&&S.current&&S.current.focus()},[i]);const w=async()=>"agent-session-"+Date.now(),C=async(P,B)=>{try{const T=await fetch("/api/crm/agent/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:P,threadId:B})});if(!T.ok){const M=await T.json();throw new Error(M.error||"Failed to send message")}return await T.json()}catch(T){throw console.error("Failed to send message:",T),T}},L=async()=>{if(!d.trim()||h)return;const P={id:Date.now().toString(),role:"user",content:d.trim(),timestamp:new Date},B={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date,loading:!0};c(T=>[...T,P,B]),u(""),p(!0),y(null);try{let T=g;T||(T=await w(),v(T));const I=await C(d.trim(),T);c(M=>{const D=M.filter(z=>!z.loading),V={id:(Date.now()+2).toString(),role:"assistant",content:I.response,timestamp:new Date,actionPerformed:I.actionPerformed||!1};return[...D,V]}),I.crmAction&&t&&t(I.crmAction)}catch{y("Sorry, I encountered an error. Please try again."),c(I=>[...I.filter(D=>!D.loading),{id:(Date.now()+2).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again later.",timestamp:new Date}])}finally{p(!1)}},k=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),L())},A=P=>P.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden ${a}`,style:{height:i?"64px":r},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:n.jsx(Ih,{className:"h-5 w-5 text-white"})}),n.jsx(Dh,{className:"h-3 w-3 absolute -top-1 -right-1 text-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 pt-2",children:s}),n.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered business automation"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>o(!i),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:i?"Maximize":"Minimize",children:i?n.jsx(KJ,{className:"h-5 w-5 text-gray-600"}):n.jsx(YJ,{className:"h-5 w-5 text-gray-600"})})})]}),!i&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{height:`calc(${r} - 140px)`},children:[l.map(P=>n.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`flex items-start space-x-3 max-w-[85%] ${P.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${P.role==="user"?"bg-blue-600 text-white":"bg-gradient-to-br from-blue-100 to-purple-100 text-blue-600"}`,children:P.role==="user"?n.jsx(Do,{className:"h-5 w-5"}):n.jsx(Ih,{className:"h-5 w-5"})}),n.jsx("div",{className:`rounded-xl p-4 ${P.role==="user"?"bg-blue-600 text-white":P.actionPerformed?"bg-green-50 text-gray-900 border border-green-200":"bg-gray-100 text-gray-900"}`,children:P.loading?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zr,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:P.content}),P.actionPerformed&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-green-600",children:[n.jsx(Dh,{className:"h-3 w-3 mr-1"}),"Action performed"]}),n.jsx("p",{className:`text-xs mt-2 ${P.role==="user"?"text-blue-200":"text-gray-500"}`,children:A(P.timestamp)})]})})]})},P.id)),n.jsx("div",{ref:b})]}),f&&n.jsxs("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-700 text-sm",children:[n.jsx(Zr,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{ref:S,type:"text",value:d,onChange:P=>u(P.target.value),onKeyPress:k,placeholder:"Ask me to manage your CRM tasks...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h}),n.jsx("button",{onClick:L,disabled:!d.trim()||h,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-lg px-4 py-3 transition-colors flex items-center justify-center",title:"Send message",children:h?n.jsx(zr,{className:"h-4 w-4 animate-spin"}):n.jsx(gl,{className:"h-4 w-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[n.jsx("strong",{children:"Try:"}),` "Reply to John's email" • "Book appointment for tomorrow" • "Generate this week's invoices"`]})]})]})]})};var Une=Array.isArray,no=Une,Vne=typeof ul=="object"&&ul&&ul.Object===Object&&ul,o9=Vne,qne=o9,Wne=typeof self=="object"&&self&&self.Object===Object&&self,Hne=qne||Wne||Function("return this")(),od=Hne,Gne=od,Kne=Gne.Symbol,Rv=Kne,HP=Rv,l9=Object.prototype,Yne=l9.hasOwnProperty,Zne=l9.toString,T0=HP?HP.toStringTag:void 0;function Xne(e){var t=Yne.call(e,T0),r=e[T0];try{e[T0]=void 0;var s=!0}catch{}var a=Zne.call(e);return s&&(t?e[T0]=r:delete e[T0]),a}var Qne=Xne,Jne=Object.prototype,ese=Jne.toString;function tse(e){return ese.call(e)}var rse=tse,GP=Rv,nse=Qne,sse=rse,ase="[object Null]",ise="[object Undefined]",KP=GP?GP.toStringTag:void 0;function ose(e){return e==null?e===void 0?ise:ase:KP&&KP in Object(e)?nse(e):sse(e)}var uu=ose;function lse(e){return e!=null&&typeof e=="object"}var hu=lse,cse=uu,dse=hu,use="[object Symbol]";function hse(e){return typeof e=="symbol"||dse(e)&&cse(e)==use}var kx=hse,fse=no,mse=kx,pse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gse=/^\w*$/;function xse(e,t){if(fse(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||mse(e)?!0:gse.test(e)||!pse.test(e)||t!=null&&e in Object(t)}var bA=xse;function yse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var tf=yse;const Cx=hn(tf);var vse=uu,bse=tf,wse="[object AsyncFunction]",jse="[object Function]",Nse="[object GeneratorFunction]",Sse="[object Proxy]";function _se(e){if(!bse(e))return!1;var t=vse(e);return t==jse||t==Nse||t==wse||t==Sse}var wA=_se;const Jt=hn(wA);var Ase=od,kse=Ase["__core-js_shared__"],Cse=kse,m5=Cse,YP=function(){var e=/[^.]+$/.exec(m5&&m5.keys&&m5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pse(e){return!!YP&&YP in e}var Tse=Pse,Ese=Function.prototype,Ose=Ese.toString;function Lse(e){if(e!=null){try{return Ose.call(e)}catch{}try{return e+""}catch{}}return""}var c9=Lse,Ise=wA,Mse=Tse,Dse=tf,Fse=c9,Rse=/[\\^$.*+?()[\]{}|]/g,$se=/^\[object .+?Constructor\]$/,Bse=Function.prototype,zse=Object.prototype,Use=Bse.toString,Vse=zse.hasOwnProperty,qse=RegExp("^"+Use.call(Vse).replace(Rse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wse(e){if(!Dse(e)||Mse(e))return!1;var t=Ise(e)?qse:$se;return t.test(Fse(e))}var Hse=Wse;function Gse(e,t){return e?.[t]}var Kse=Gse,Yse=Hse,Zse=Kse;function Xse(e,t){var r=Zse(e,t);return Yse(r)?r:void 0}var Zm=Xse,Qse=Zm,Jse=Qse(Object,"create"),J2=Jse,ZP=J2;function eae(){this.__data__=ZP?ZP(null):{},this.size=0}var tae=eae;function rae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nae=rae,sae=J2,aae="__lodash_hash_undefined__",iae=Object.prototype,oae=iae.hasOwnProperty;function lae(e){var t=this.__data__;if(sae){var r=t[e];return r===aae?void 0:r}return oae.call(t,e)?t[e]:void 0}var cae=lae,dae=J2,uae=Object.prototype,hae=uae.hasOwnProperty;function fae(e){var t=this.__data__;return dae?t[e]!==void 0:hae.call(t,e)}var mae=fae,pae=J2,gae="__lodash_hash_undefined__";function xae(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pae&&t===void 0?gae:t,this}var yae=xae,vae=tae,bae=nae,wae=cae,jae=mae,Nae=yae;function Px(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Px.prototype.clear=vae;Px.prototype.delete=bae;Px.prototype.get=wae;Px.prototype.has=jae;Px.prototype.set=Nae;var Sae=Px;function _ae(){this.__data__=[],this.size=0}var Aae=_ae;function kae(e,t){return e===t||e!==e&&t!==t}var jA=kae,Cae=jA;function Pae(e,t){for(var r=e.length;r--;)if(Cae(e[r][0],t))return r;return-1}var ej=Pae,Tae=ej,Eae=Array.prototype,Oae=Eae.splice;function Lae(e){var t=this.__data__,r=Tae(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():Oae.call(t,r,1),--this.size,!0}var Iae=Lae,Mae=ej;function Dae(e){var t=this.__data__,r=Mae(t,e);return r<0?void 0:t[r][1]}var Fae=Dae,Rae=ej;function $ae(e){return Rae(this.__data__,e)>-1}var Bae=$ae,zae=ej;function Uae(e,t){var r=this.__data__,s=zae(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var Vae=Uae,qae=Aae,Wae=Iae,Hae=Fae,Gae=Bae,Kae=Vae;function Tx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Tx.prototype.clear=qae;Tx.prototype.delete=Wae;Tx.prototype.get=Hae;Tx.prototype.has=Gae;Tx.prototype.set=Kae;var tj=Tx,Yae=Zm,Zae=od,Xae=Yae(Zae,"Map"),NA=Xae,XP=Sae,Qae=tj,Jae=NA;function eie(){this.size=0,this.__data__={hash:new XP,map:new(Jae||Qae),string:new XP}}var tie=eie;function rie(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nie=rie,sie=nie;function aie(e,t){var r=e.__data__;return sie(t)?r[typeof t=="string"?"string":"hash"]:r.map}var rj=aie,iie=rj;function oie(e){var t=iie(this,e).delete(e);return this.size-=t?1:0,t}var lie=oie,cie=rj;function die(e){return cie(this,e).get(e)}var uie=die,hie=rj;function fie(e){return hie(this,e).has(e)}var mie=fie,pie=rj;function gie(e,t){var r=pie(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var xie=gie,yie=tie,vie=lie,bie=uie,wie=mie,jie=xie;function Ex(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Ex.prototype.clear=yie;Ex.prototype.delete=vie;Ex.prototype.get=bie;Ex.prototype.has=wie;Ex.prototype.set=jie;var SA=Ex,d9=SA,Nie="Expected a function";function _A(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nie);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(_A.Cache||d9),r}_A.Cache=d9;var u9=_A;const Sie=hn(u9);var _ie=u9,Aie=500;function kie(e){var t=_ie(e,function(s){return r.size===Aie&&r.clear(),s}),r=t.cache;return t}var Cie=kie,Pie=Cie,Tie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eie=/\\(\\)?/g,Oie=Pie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Tie,function(r,s,a,i){t.push(a?i.replace(Eie,"$1"):s||r)}),t}),Lie=Oie;function Iie(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var AA=Iie,QP=Rv,Mie=AA,Die=no,Fie=kx,Rie=1/0,JP=QP?QP.prototype:void 0,eT=JP?JP.toString:void 0;function h9(e){if(typeof e=="string")return e;if(Die(e))return Mie(e,h9)+"";if(Fie(e))return eT?eT.call(e):"";var t=e+"";return t=="0"&&1/e==-Rie?"-0":t}var $ie=h9,Bie=$ie;function zie(e){return e==null?"":Bie(e)}var f9=zie,Uie=no,Vie=bA,qie=Lie,Wie=f9;function Hie(e,t){return Uie(e)?e:Vie(e,t)?[e]:qie(Wie(e))}var m9=Hie,Gie=kx,Kie=1/0;function Yie(e){if(typeof e=="string"||Gie(e))return e;var t=e+"";return t=="0"&&1/e==-Kie?"-0":t}var nj=Yie,Zie=m9,Xie=nj;function Qie(e,t){t=Zie(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Xie(t[r++])];return r&&r==s?e:void 0}var kA=Qie,Jie=kA;function eoe(e,t,r){var s=e==null?void 0:Jie(e,t);return s===void 0?r:s}var p9=eoe;const Fo=hn(p9);function toe(e){return e==null}var roe=toe;const hr=hn(roe);var noe=uu,soe=no,aoe=hu,ioe="[object String]";function ooe(e){return typeof e=="string"||!soe(e)&&aoe(e)&&noe(e)==ioe}var loe=ooe;const Em=hn(loe);var g9={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA=Symbol.for("react.element"),PA=Symbol.for("react.portal"),sj=Symbol.for("react.fragment"),aj=Symbol.for("react.strict_mode"),ij=Symbol.for("react.profiler"),oj=Symbol.for("react.provider"),lj=Symbol.for("react.context"),coe=Symbol.for("react.server_context"),cj=Symbol.for("react.forward_ref"),dj=Symbol.for("react.suspense"),uj=Symbol.for("react.suspense_list"),hj=Symbol.for("react.memo"),fj=Symbol.for("react.lazy"),doe=Symbol.for("react.offscreen"),x9;x9=Symbol.for("react.module.reference");function vl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case CA:switch(e=e.type,e){case sj:case ij:case aj:case dj:case uj:return e;default:switch(e=e&&e.$$typeof,e){case coe:case lj:case cj:case fj:case hj:case oj:return e;default:return t}}case PA:return t}}}Nn.ContextConsumer=lj;Nn.ContextProvider=oj;Nn.Element=CA;Nn.ForwardRef=cj;Nn.Fragment=sj;Nn.Lazy=fj;Nn.Memo=hj;Nn.Portal=PA;Nn.Profiler=ij;Nn.StrictMode=aj;Nn.Suspense=dj;Nn.SuspenseList=uj;Nn.isAsyncMode=function(){return!1};Nn.isConcurrentMode=function(){return!1};Nn.isContextConsumer=function(e){return vl(e)===lj};Nn.isContextProvider=function(e){return vl(e)===oj};Nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===CA};Nn.isForwardRef=function(e){return vl(e)===cj};Nn.isFragment=function(e){return vl(e)===sj};Nn.isLazy=function(e){return vl(e)===fj};Nn.isMemo=function(e){return vl(e)===hj};Nn.isPortal=function(e){return vl(e)===PA};Nn.isProfiler=function(e){return vl(e)===ij};Nn.isStrictMode=function(e){return vl(e)===aj};Nn.isSuspense=function(e){return vl(e)===dj};Nn.isSuspenseList=function(e){return vl(e)===uj};Nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sj||e===ij||e===aj||e===dj||e===uj||e===doe||typeof e=="object"&&e!==null&&(e.$$typeof===fj||e.$$typeof===hj||e.$$typeof===oj||e.$$typeof===lj||e.$$typeof===cj||e.$$typeof===x9||e.getModuleId!==void 0)};Nn.typeOf=vl;g9.exports=Nn;var uoe=g9.exports,hoe=uu,foe=hu,moe="[object Number]";function poe(e){return typeof e=="number"||foe(e)&&hoe(e)==moe}var y9=poe;const goe=hn(y9);var xoe=y9;function yoe(e){return xoe(e)&&e!=+e}var voe=yoe;const Ox=hn(voe);var Ii=function(t){return t===0?0:t>0?1:-1},rm=function(t){return Em(t)&&t.indexOf("%")===t.length-1},dt=function(t){return goe(t)&&!Ox(t)},boe=function(t){return hr(t)},va=function(t){return dt(t)||Em(t)},woe=0,Xm=function(t){var r=++woe;return"".concat(t||"").concat(r)},Mi=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(t)&&!Em(t))return s;var i;if(rm(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ox(i)&&(i=s),a&&i>r&&(i=r),i},ph=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},joe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},ya=function(t,r){return dt(t)&&dt(r)?function(s){return t+s*(r-t)}:function(){return r}};function ow(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Fo(s,t))===r})}var Noe=function(t,r){return dt(t)&&dt(r)?t-r:Em(t)&&Em(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function ug(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function b_(e){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b_(e)}var Soe=["viewBox","children"],_oe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tT=["points","pathLength"],p5={svg:Soe,polygon:tT,polyline:tT},TA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(_.isValidElement(t)&&(s=t.props),!Cx(s))return null;var a={};return Object.keys(s).forEach(function(i){TA.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Aoe=function(t,r,s){return function(a){return t(r,s,a),null}},Om=function(t,r,s){if(!Cx(t)||b_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];TA.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Aoe(o,r,s))}),a},koe=["children"],Coe=["children"];function rT(e,t){if(e==null)return{};var r=Poe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Poe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function w_(e){"@babel/helpers - typeof";return w_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w_(e)}var nT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Zd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sT=null,g5=null,EA=function e(t){if(t===sT&&Array.isArray(g5))return g5;var r=[];return _.Children.forEach(t,function(s){hr(s)||(uoe.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),g5=r,sT=t,r};function Ro(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Zd(a)}):s=[Zd(t)],EA(e).forEach(function(a){var i=Fo(a,"type.displayName")||Fo(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Co(e,t){var r=Ro(e,t);return r&&r[0]}var aT=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!dt(s)||s<=0||!dt(a)||a<=0)},Toe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Eoe=function(t){return t&&t.type&&Em(t.type)&&Toe.indexOf(t.type)>=0},v9=function(t){return t&&w_(t)==="object"&&"clipDot"in t},Ooe=function(t,r,s,a){var i,o=(i=p5?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Jt(t)&&(a&&o.includes(r)||_oe.includes(r))||s&&TA.includes(r)},Dt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!Cx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Ooe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},j_=function e(t,r){if(t===r)return!0;var s=_.Children.count(t);if(s!==_.Children.count(r))return!1;if(s===0)return!0;if(s===1)return iT(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!iT(i,o))return!1}return!0},iT=function(t,r){if(hr(t)&&hr(r))return!0;if(!hr(t)&&!hr(r)){var s=t.props||{},a=s.children,i=rT(s,koe),o=r.props||{},l=o.children,c=rT(o,Coe);return a&&l?ug(i,c)&&j_(a,l):!a&&!l?ug(i,c):!1}return!1},oT=function(t,r){var s=[],a={};return EA(t).forEach(function(i,o){if(Eoe(i))s.push(i);else if(i){var l=Zd(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},Loe=function(t){var r=t&&t.type;return r&&nT[r]?nT[r]:null},Ioe=function(t,r){return EA(r).indexOf(t)},Moe=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},N_.apply(this,arguments)}function Doe(e,t){if(e==null)return{};var r=Foe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Foe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function S_(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Doe(e,Moe),u=a||{width:r,height:s,x:0,y:0},h=gr("recharts-surface",i);return ve.createElement("svg",N_({},Dt(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ve.createElement("title",null,l),ve.createElement("desc",null,c),t)}var Roe=["children","className"];function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},__.apply(this,arguments)}function $oe(e,t){if(e==null)return{};var r=Boe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Boe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Br=ve.forwardRef(function(e,t){var r=e.children,s=e.className,a=$oe(e,Roe),i=gr("recharts-layer",s);return ve.createElement("g",__({className:i},Dt(a,!0),{ref:t}),r)}),nc=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function zoe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var Uoe=zoe,Voe=Uoe;function qoe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:Voe(e,t,r)}var Woe=qoe,Hoe="\\ud800-\\udfff",Goe="\\u0300-\\u036f",Koe="\\ufe20-\\ufe2f",Yoe="\\u20d0-\\u20ff",Zoe=Goe+Koe+Yoe,Xoe="\\ufe0e\\ufe0f",Qoe="\\u200d",Joe=RegExp("["+Qoe+Hoe+Zoe+Xoe+"]");function ele(e){return Joe.test(e)}var b9=ele;function tle(e){return e.split("")}var rle=tle,w9="\\ud800-\\udfff",nle="\\u0300-\\u036f",sle="\\ufe20-\\ufe2f",ale="\\u20d0-\\u20ff",ile=nle+sle+ale,ole="\\ufe0e\\ufe0f",lle="["+w9+"]",A_="["+ile+"]",k_="\\ud83c[\\udffb-\\udfff]",cle="(?:"+A_+"|"+k_+")",j9="[^"+w9+"]",N9="(?:\\ud83c[\\udde6-\\uddff]){2}",S9="[\\ud800-\\udbff][\\udc00-\\udfff]",dle="\\u200d",_9=cle+"?",A9="["+ole+"]?",ule="(?:"+dle+"(?:"+[j9,N9,S9].join("|")+")"+A9+_9+")*",hle=A9+_9+ule,fle="(?:"+[j9+A_+"?",A_,N9,S9,lle].join("|")+")",mle=RegExp(k_+"(?="+k_+")|"+fle+hle,"g");function ple(e){return e.match(mle)||[]}var gle=ple,xle=rle,yle=b9,vle=gle;function ble(e){return yle(e)?vle(e):xle(e)}var wle=ble,jle=Woe,Nle=b9,Sle=wle,_le=f9;function Ale(e){return function(t){t=_le(t);var r=Nle(t)?Sle(t):void 0,s=r?r[0]:t.charAt(0),a=r?jle(r,1).join(""):t.slice(1);return s[e]()+a}}var kle=Ale,Cle=kle,Ple=Cle("toUpperCase"),Tle=Ple;const mj=hn(Tle);function Un(e){return function(){return e}}const k9=Math.cos,cw=Math.sin,cc=Math.sqrt,dw=Math.PI,pj=2*dw,C_=Math.PI,P_=2*C_,Vf=1e-6,Ele=P_-Vf;function C9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ole(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return C9;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class Lle{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?C9:Ole(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,h=l-r,p=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Vf)if(!(Math.abs(h*c-d*u)>Vf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=s-o,y=a-l,g=c*c+d*d,v=f*f+y*y,b=Math.sqrt(g),S=Math.sqrt(p),N=i*Math.tan((C_-Math.acos((g+p-v)/(2*b*S)))/2),w=N/S,C=N/b;Math.abs(w-1)>Vf&&this._append`L${t+w*u},${r+w*h}`,this._append`A${i},${i},0,0,${+(h*f>u*y)},${this._x1=t+C*c},${this._y1=r+C*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,h=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Vf||Math.abs(this._y1-u)>Vf)&&this._append`L${d},${u}`,s&&(p<0&&(p=p%P_+P_),p>Ele?this._append`A${s},${s},0,1,${h},${t-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:p>Vf&&this._append`A${s},${s},0,${+(p>=C_)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function OA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new Lle(t)}function LA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function P9(e){this._context=e}P9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gj(e){return new P9(e)}function T9(e){return e[0]}function E9(e){return e[1]}function O9(e,t){var r=Un(!0),s=null,a=gj,i=null,o=OA(l);e=typeof e=="function"?e:e===void 0?T9:Un(e),t=typeof t=="function"?t:t===void 0?E9:Un(t);function l(c){var d,u=(c=LA(c)).length,h,p=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,d,c),+t(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Un(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Un(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Un(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Hb(e,t,r){var s=null,a=Un(!0),i=null,o=gj,l=null,c=OA(d);e=typeof e=="function"?e:e===void 0?T9:Un(+e),t=typeof t=="function"?t:Un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?E9:Un(+r);function d(h){var p,f,y,g=(h=LA(h)).length,v,b=!1,S,N=new Array(g),w=new Array(g);for(i==null&&(l=o(S=c())),p=0;p<=g;++p){if(!(p<g&&a(v=h[p],p,h))===b)if(b=!b)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=p-1;y>=f;--y)l.point(N[y],w[y]);l.lineEnd(),l.areaEnd()}b&&(N[p]=+e(v,p,h),w[p]=+t(v,p,h),l.point(s?+s(v,p,h):N[p],r?+r(v,p,h):w[p]))}if(S)return l=null,S+""||null}function u(){return O9().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Un(+h),s=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Un(+h),d):e},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Un(+h),d):s},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:Un(+h),r=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Un(+h),d):t},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Un(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Un(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class L9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ile(e){return new L9(e,!0)}function Mle(e){return new L9(e,!1)}const IA={draw(e,t){const r=cc(t/dw);e.moveTo(r,0),e.arc(0,0,r,0,pj)}},Dle={draw(e,t){const r=cc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},I9=cc(1/3),Fle=I9*2,Rle={draw(e,t){const r=cc(t/Fle),s=r*I9;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},$le={draw(e,t){const r=cc(t),s=-r/2;e.rect(s,s,r,r)}},Ble=.8908130915292852,M9=cw(dw/10)/cw(7*dw/10),zle=cw(pj/10)*M9,Ule=-k9(pj/10)*M9,Vle={draw(e,t){const r=cc(t*Ble),s=zle*r,a=Ule*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=pj*i/5,l=k9(o),c=cw(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},x5=cc(3),qle={draw(e,t){const r=-cc(t/(x5*3));e.moveTo(0,r*2),e.lineTo(-x5*r,-r),e.lineTo(x5*r,-r),e.closePath()}},nl=-.5,sl=cc(3)/2,T_=1/cc(12),Wle=(T_/2+1)*3,Hle={draw(e,t){const r=cc(t/Wle),s=r/2,a=r*T_,i=s,o=r*T_+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(nl*s-sl*a,sl*s+nl*a),e.lineTo(nl*i-sl*o,sl*i+nl*o),e.lineTo(nl*l-sl*c,sl*l+nl*c),e.lineTo(nl*s+sl*a,nl*a-sl*s),e.lineTo(nl*i+sl*o,nl*o-sl*i),e.lineTo(nl*l+sl*c,nl*c-sl*l),e.closePath()}};function Gle(e,t){let r=null,s=OA(a);e=typeof e=="function"?e:Un(e||IA),t=typeof t=="function"?t:Un(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function uw(){}function hw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D9(e){this._context=e}D9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kle(e){return new D9(e)}function F9(e){this._context=e}F9.prototype={areaStart:uw,areaEnd:uw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yle(e){return new F9(e)}function R9(e){this._context=e}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:hw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zle(e){return new R9(e)}function $9(e){this._context=e}$9.prototype={areaStart:uw,areaEnd:uw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Xle(e){return new $9(e)}function lT(e){return e<0?-1:1}function cT(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(lT(i)+lT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function dT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function y5(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function fw(e){this._context=e}fw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y5(this,this._t0,dT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,y5(this,dT(this,r=cT(this,e,t)),r);break;default:y5(this,this._t0,r=cT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function B9(e){this._context=new z9(e)}(B9.prototype=Object.create(fw.prototype)).point=function(e,t){fw.prototype.point.call(this,t,e)};function z9(e){this._context=e}z9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function Qle(e){return new fw(e)}function Jle(e){return new B9(e)}function U9(e){this._context=e}U9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=uT(e),a=uT(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uT(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ece(e){return new U9(e)}function xj(e,t){this._context=e,this._t=t}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tce(e){return new xj(e,.5)}function rce(e){return new xj(e,0)}function nce(e){return new xj(e,1)}function Rg(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function E_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function sce(e,t){return e[t]}function ace(e){const t=[];return t.key=e,t}function ice(){var e=Un([]),t=E_,r=Rg,s=sce;function a(i){var o=Array.from(e.apply(this,arguments),ace),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=LA(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Un(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?E_:typeof i=="function"?i:Un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Rg,a):r},a}function oce(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Rg(e,t)}}function lce(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Rg(e,t)}}function cce(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[s][1]||0,p=u[s-1][1]||0,f=(h-p)/2,y=0;y<l;++y){var g=e[t[y]],v=g[s][1]||0,b=g[s-1][1]||0;f+=v-b}c+=h,d+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Rg(e,t)}}function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}var dce=["type","size","sizeType"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},O_.apply(this,arguments)}function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(s){uce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function uce(e,t,r){return t=hce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hce(e){var t=fce(e,"string");return My(t)=="symbol"?t:t+""}function fce(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(My(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mce(e,t){if(e==null)return{};var r=pce(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function pce(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var V9={symbolCircle:IA,symbolCross:Dle,symbolDiamond:Rle,symbolSquare:$le,symbolStar:Vle,symbolTriangle:qle,symbolWye:Hle},gce=Math.PI/180,xce=function(t){var r="symbol".concat(mj(t));return V9[r]||IA},yce=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*gce;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vce=function(t,r){V9["symbol".concat(mj(t))]=r},MA=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=mce(t,dce),d=fT(fT({},c),{},{type:s,size:i,sizeType:l}),u=function(){var v=xce(s),b=Gle().type(v).size(yce(i,l,s));return b()},h=d.className,p=d.cx,f=d.cy,y=Dt(d,!0);return p===+p&&f===+f&&i===+i?ve.createElement("path",O_({},y,{className:gr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:u()})):null};MA.registerSymbol=vce;function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},L_.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(s){Dy(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jce(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,W9(s.key),s)}}function Nce(e,t,r){return t&&jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sce(e,t,r){return t=mw(t),_ce(e,q9()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function _ce(e,t){if(t&&($g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ace(e)}function Ace(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function kce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},I_(e,t)}function Dy(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=Cce(e,"string");return $g(t)=="symbol"?t:t+""}function Cce(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($g(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var al=32,DA=function(e){function t(){return wce(this,t),Sce(this,t,arguments)}return kce(t,e),Nce(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=al/2,o=al/6,l=al/3,c=s.inactive?a:s.color;if(s.type==="plainline")return ve.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:al,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return ve.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(al,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return ve.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(al/8,"h").concat(al,"v").concat(al*3/4,"h").concat(-al,"z"),className:"recharts-legend-icon"});if(ve.isValidElement(s.legendIcon)){var d=bce({},s);return delete d.legendIcon,ve.cloneElement(s.legendIcon,d)}return ve.createElement(MA,{fill:c,cx:i,cy:i,size:al,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:al,height:al},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,y){var g=f.formatter||c,v=gr(Dy(Dy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=Jt(f.value)?null:f.value;nc(!Jt(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=f.inactive?d:f.color;return ve.createElement("li",L_({className:v,style:h,key:"legend-item-".concat(y)},Om(s.props,f,y)),ve.createElement(S_,{width:o,height:o,viewBox:u,style:p},s.renderIcon(f)),ve.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},g?g(b,f,y):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ve.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);Dy(DA,"displayName","Legend");Dy(DA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Pce=tj;function Tce(){this.__data__=new Pce,this.size=0}var Ece=Tce;function Oce(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Lce=Oce;function Ice(e){return this.__data__.get(e)}var Mce=Ice;function Dce(e){return this.__data__.has(e)}var Fce=Dce,Rce=tj,$ce=NA,Bce=SA,zce=200;function Uce(e,t){var r=this.__data__;if(r instanceof Rce){var s=r.__data__;if(!$ce||s.length<zce-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new Bce(s)}return r.set(e,t),this.size=r.size,this}var Vce=Uce,qce=tj,Wce=Ece,Hce=Lce,Gce=Mce,Kce=Fce,Yce=Vce;function Lx(e){var t=this.__data__=new qce(e);this.size=t.size}Lx.prototype.clear=Wce;Lx.prototype.delete=Hce;Lx.prototype.get=Gce;Lx.prototype.has=Kce;Lx.prototype.set=Yce;var H9=Lx,Zce="__lodash_hash_undefined__";function Xce(e){return this.__data__.set(e,Zce),this}var Qce=Xce;function Jce(e){return this.__data__.has(e)}var ede=Jce,tde=SA,rde=Qce,nde=ede;function pw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new tde;++t<r;)this.add(e[t])}pw.prototype.add=pw.prototype.push=rde;pw.prototype.has=nde;var G9=pw;function sde(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var K9=sde;function ade(e,t){return e.has(t)}var Y9=ade,ide=G9,ode=K9,lde=Y9,cde=1,dde=2;function ude(e,t,r,s,a,i){var o=r&cde,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,p=!0,f=r&dde?new ide:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var y=e[h],g=t[h];if(s)var v=o?s(g,y,h,t,e,i):s(y,g,h,e,t,i);if(v!==void 0){if(v)continue;p=!1;break}if(f){if(!ode(t,function(b,S){if(!lde(f,S)&&(y===b||a(y,b,r,s,i)))return f.push(S)})){p=!1;break}}else if(!(y===g||a(y,g,r,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var Z9=ude,hde=od,fde=hde.Uint8Array,mde=fde;function pde(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var gde=pde;function xde(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var FA=xde,pT=Rv,gT=mde,yde=jA,vde=Z9,bde=gde,wde=FA,jde=1,Nde=2,Sde="[object Boolean]",_de="[object Date]",Ade="[object Error]",kde="[object Map]",Cde="[object Number]",Pde="[object RegExp]",Tde="[object Set]",Ede="[object String]",Ode="[object Symbol]",Lde="[object ArrayBuffer]",Ide="[object DataView]",xT=pT?pT.prototype:void 0,v5=xT?xT.valueOf:void 0;function Mde(e,t,r,s,a,i,o){switch(r){case Ide:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Lde:return!(e.byteLength!=t.byteLength||!i(new gT(e),new gT(t)));case Sde:case _de:case Cde:return yde(+e,+t);case Ade:return e.name==t.name&&e.message==t.message;case Pde:case Ede:return e==t+"";case kde:var l=bde;case Tde:var c=s&jde;if(l||(l=wde),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Nde,o.set(e,t);var u=vde(l(e),l(t),s,a,i,o);return o.delete(e),u;case Ode:if(v5)return v5.call(e)==v5.call(t)}return!1}var Dde=Mde;function Fde(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var X9=Fde,Rde=X9,$de=no;function Bde(e,t,r){var s=t(e);return $de(e)?s:Rde(s,r(e))}var zde=Bde;function Ude(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Vde=Ude;function qde(){return[]}var Wde=qde,Hde=Vde,Gde=Wde,Kde=Object.prototype,Yde=Kde.propertyIsEnumerable,yT=Object.getOwnPropertySymbols,Zde=yT?function(e){return e==null?[]:(e=Object(e),Hde(yT(e),function(t){return Yde.call(e,t)}))}:Gde,Xde=Zde;function Qde(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var Jde=Qde,eue=uu,tue=hu,rue="[object Arguments]";function nue(e){return tue(e)&&eue(e)==rue}var sue=nue,vT=sue,aue=hu,Q9=Object.prototype,iue=Q9.hasOwnProperty,oue=Q9.propertyIsEnumerable,lue=vT(function(){return arguments}())?vT:function(e){return aue(e)&&iue.call(e,"callee")&&!oue.call(e,"callee")},RA=lue,gw={exports:{}};function cue(){return!1}var due=cue;gw.exports;(function(e,t){var r=od,s=due,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(gw,gw.exports);var J9=gw.exports,uue=9007199254740991,hue=/^(?:0|[1-9]\d*)$/;function fue(e,t){var r=typeof e;return t=t??uue,!!t&&(r=="number"||r!="symbol"&&hue.test(e))&&e>-1&&e%1==0&&e<t}var $A=fue,mue=9007199254740991;function pue(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=mue}var BA=pue,gue=uu,xue=BA,yue=hu,vue="[object Arguments]",bue="[object Array]",wue="[object Boolean]",jue="[object Date]",Nue="[object Error]",Sue="[object Function]",_ue="[object Map]",Aue="[object Number]",kue="[object Object]",Cue="[object RegExp]",Pue="[object Set]",Tue="[object String]",Eue="[object WeakMap]",Oue="[object ArrayBuffer]",Lue="[object DataView]",Iue="[object Float32Array]",Mue="[object Float64Array]",Due="[object Int8Array]",Fue="[object Int16Array]",Rue="[object Int32Array]",$ue="[object Uint8Array]",Bue="[object Uint8ClampedArray]",zue="[object Uint16Array]",Uue="[object Uint32Array]",Qn={};Qn[Iue]=Qn[Mue]=Qn[Due]=Qn[Fue]=Qn[Rue]=Qn[$ue]=Qn[Bue]=Qn[zue]=Qn[Uue]=!0;Qn[vue]=Qn[bue]=Qn[Oue]=Qn[wue]=Qn[Lue]=Qn[jue]=Qn[Nue]=Qn[Sue]=Qn[_ue]=Qn[Aue]=Qn[kue]=Qn[Cue]=Qn[Pue]=Qn[Tue]=Qn[Eue]=!1;function Vue(e){return yue(e)&&xue(e.length)&&!!Qn[gue(e)]}var que=Vue;function Wue(e){return function(t){return e(t)}}var e$=Wue,xw={exports:{}};xw.exports;(function(e,t){var r=o9,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xw,xw.exports);var Hue=xw.exports,Gue=que,Kue=e$,bT=Hue,wT=bT&&bT.isTypedArray,Yue=wT?Kue(wT):Gue,t$=Yue,Zue=Jde,Xue=RA,Que=no,Jue=J9,ehe=$A,the=t$,rhe=Object.prototype,nhe=rhe.hasOwnProperty;function she(e,t){var r=Que(e),s=!r&&Xue(e),a=!r&&!s&&Jue(e),i=!r&&!s&&!a&&the(e),o=r||s||a||i,l=o?Zue(e.length,String):[],c=l.length;for(var d in e)(t||nhe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ehe(d,c)))&&l.push(d);return l}var ahe=she,ihe=Object.prototype;function ohe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ihe;return e===r}var lhe=ohe;function che(e,t){return function(r){return e(t(r))}}var r$=che,dhe=r$,uhe=dhe(Object.keys,Object),hhe=uhe,fhe=lhe,mhe=hhe,phe=Object.prototype,ghe=phe.hasOwnProperty;function xhe(e){if(!fhe(e))return mhe(e);var t=[];for(var r in Object(e))ghe.call(e,r)&&r!="constructor"&&t.push(r);return t}var yhe=xhe,vhe=wA,bhe=BA;function whe(e){return e!=null&&bhe(e.length)&&!vhe(e)}var $v=whe,jhe=ahe,Nhe=yhe,She=$v;function _he(e){return She(e)?jhe(e):Nhe(e)}var yj=_he,Ahe=zde,khe=Xde,Che=yj;function Phe(e){return Ahe(e,Che,khe)}var The=Phe,jT=The,Ehe=1,Ohe=Object.prototype,Lhe=Ohe.hasOwnProperty;function Ihe(e,t,r,s,a,i){var o=r&Ehe,l=jT(e),c=l.length,d=jT(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var p=l[h];if(!(o?p in t:Lhe.call(t,p)))return!1}var f=i.get(e),y=i.get(t);if(f&&y)return f==t&&y==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){p=l[h];var b=e[p],S=t[p];if(s)var N=o?s(S,b,p,t,e,i):s(b,S,p,e,t,i);if(!(N===void 0?b===S||a(b,S,r,s,i):N)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var w=e.constructor,C=t.constructor;w!=C&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(g=!1)}return i.delete(e),i.delete(t),g}var Mhe=Ihe,Dhe=Zm,Fhe=od,Rhe=Dhe(Fhe,"DataView"),$he=Rhe,Bhe=Zm,zhe=od,Uhe=Bhe(zhe,"Promise"),Vhe=Uhe,qhe=Zm,Whe=od,Hhe=qhe(Whe,"Set"),n$=Hhe,Ghe=Zm,Khe=od,Yhe=Ghe(Khe,"WeakMap"),Zhe=Yhe,M_=$he,D_=NA,F_=Vhe,R_=n$,$_=Zhe,s$=uu,Ix=c9,NT="[object Map]",Xhe="[object Object]",ST="[object Promise]",_T="[object Set]",AT="[object WeakMap]",kT="[object DataView]",Qhe=Ix(M_),Jhe=Ix(D_),efe=Ix(F_),tfe=Ix(R_),rfe=Ix($_),qf=s$;(M_&&qf(new M_(new ArrayBuffer(1)))!=kT||D_&&qf(new D_)!=NT||F_&&qf(F_.resolve())!=ST||R_&&qf(new R_)!=_T||$_&&qf(new $_)!=AT)&&(qf=function(e){var t=s$(e),r=t==Xhe?e.constructor:void 0,s=r?Ix(r):"";if(s)switch(s){case Qhe:return kT;case Jhe:return NT;case efe:return ST;case tfe:return _T;case rfe:return AT}return t});var nfe=qf,b5=H9,sfe=Z9,afe=Dde,ife=Mhe,CT=nfe,PT=no,TT=J9,ofe=t$,lfe=1,ET="[object Arguments]",OT="[object Array]",Gb="[object Object]",cfe=Object.prototype,LT=cfe.hasOwnProperty;function dfe(e,t,r,s,a,i){var o=PT(e),l=PT(t),c=o?OT:CT(e),d=l?OT:CT(t);c=c==ET?Gb:c,d=d==ET?Gb:d;var u=c==Gb,h=d==Gb,p=c==d;if(p&&TT(e)){if(!TT(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new b5),o||ofe(e)?sfe(e,t,r,s,a,i):afe(e,t,c,r,s,a,i);if(!(r&lfe)){var f=u&&LT.call(e,"__wrapped__"),y=h&&LT.call(t,"__wrapped__");if(f||y){var g=f?e.value():e,v=y?t.value():t;return i||(i=new b5),a(g,v,r,s,i)}}return p?(i||(i=new b5),ife(e,t,r,s,a,i)):!1}var ufe=dfe,hfe=ufe,IT=hu;function a$(e,t,r,s,a){return e===t?!0:e==null||t==null||!IT(e)&&!IT(t)?e!==e&&t!==t:hfe(e,t,r,s,a$,a)}var zA=a$,ffe=H9,mfe=zA,pfe=1,gfe=2;function xfe(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new ffe;if(s)var p=s(d,u,c,e,t,h);if(!(p===void 0?mfe(u,d,pfe|gfe,s,h):p))return!1}}return!0}var yfe=xfe,vfe=tf;function bfe(e){return e===e&&!vfe(e)}var i$=bfe,wfe=i$,jfe=yj;function Nfe(e){for(var t=jfe(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,wfe(a)]}return t}var Sfe=Nfe;function _fe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var o$=_fe,Afe=yfe,kfe=Sfe,Cfe=o$;function Pfe(e){var t=kfe(e);return t.length==1&&t[0][2]?Cfe(t[0][0],t[0][1]):function(r){return r===e||Afe(r,e,t)}}var Tfe=Pfe;function Efe(e,t){return e!=null&&t in Object(e)}var Ofe=Efe,Lfe=m9,Ife=RA,Mfe=no,Dfe=$A,Ffe=BA,Rfe=nj;function $fe(e,t,r){t=Lfe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=Rfe(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&Ffe(a)&&Dfe(o,a)&&(Mfe(e)||Ife(e)))}var Bfe=$fe,zfe=Ofe,Ufe=Bfe;function Vfe(e,t){return e!=null&&Ufe(e,t,zfe)}var qfe=Vfe,Wfe=zA,Hfe=p9,Gfe=qfe,Kfe=bA,Yfe=i$,Zfe=o$,Xfe=nj,Qfe=1,Jfe=2;function eme(e,t){return Kfe(e)&&Yfe(t)?Zfe(Xfe(e),t):function(r){var s=Hfe(r,e);return s===void 0&&s===t?Gfe(r,e):Wfe(t,s,Qfe|Jfe)}}var tme=eme;function rme(e){return e}var Mx=rme;function nme(e){return function(t){return t?.[e]}}var sme=nme,ame=kA;function ime(e){return function(t){return ame(t,e)}}var ome=ime,lme=sme,cme=ome,dme=bA,ume=nj;function hme(e){return dme(e)?lme(ume(e)):cme(e)}var fme=hme,mme=Tfe,pme=tme,gme=Mx,xme=no,yme=fme;function vme(e){return typeof e=="function"?e:e==null?gme:typeof e=="object"?xme(e)?pme(e[0],e[1]):mme(e):yme(e)}var ld=vme;function bme(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var l$=bme;function wme(e){return e!==e}var jme=wme;function Nme(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var Sme=Nme,_me=l$,Ame=jme,kme=Sme;function Cme(e,t,r){return t===t?kme(e,t,r):_me(e,Ame,r)}var Pme=Cme,Tme=Pme;function Eme(e,t){var r=e==null?0:e.length;return!!r&&Tme(e,t,0)>-1}var Ome=Eme;function Lme(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var Ime=Lme;function Mme(){}var Dme=Mme,w5=n$,Fme=Dme,Rme=FA,$me=1/0,Bme=w5&&1/Rme(new w5([,-0]))[1]==$me?function(e){return new w5(e)}:Fme,zme=Bme,Ume=G9,Vme=Ome,qme=Ime,Wme=Y9,Hme=zme,Gme=FA,Kme=200;function Yme(e,t,r){var s=-1,a=Vme,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=qme;else if(i>=Kme){var d=t?null:Hme(e);if(d)return Gme(d);o=!1,a=Wme,c=new Ume}else c=t?[]:l;e:for(;++s<i;){var u=e[s],h=t?t(u):u;if(u=r||u!==0?u:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(u)}else a(c,h,r)||(c!==l&&c.push(h),l.push(u))}return l}var Zme=Yme,Xme=ld,Qme=Zme;function Jme(e,t){return e&&e.length?Qme(e,Xme(t)):[]}var epe=Jme;const MT=hn(epe);function c$(e,t,r){return t===!0?MT(e,r):Jt(t)?MT(e,t):e}function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}var tpe=["ref"];function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(s){vj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FT(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,u$(s.key),s)}}function npe(e,t,r){return t&&FT(e.prototype,t),r&&FT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function spe(e,t,r){return t=yw(t),ape(e,d$()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function ape(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipe(e)}function ipe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function ope(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},B_(e,t)}function vj(e,t,r){return t=u$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$(e){var t=lpe(e,"string");return Bg(t)=="symbol"?t:t+""}function lpe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Bg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cpe(e,t){if(e==null)return{};var r=dpe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function dpe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function upe(e){return e.value}function hpe(e,t){if(ve.isValidElement(e))return ve.cloneElement(e,t);if(typeof e=="function")return ve.createElement(e,t);t.ref;var r=cpe(t,tpe);return ve.createElement(DA,r)}var RT=1,Rh=function(e){function t(){var r;rpe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=spe(this,t,[].concat(a)),vj(r,"lastBoundingBox",{width:-1,height:-1}),r}return ope(t,e),npe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>RT||Math.abs(a.height-this.lastBoundingBox.height)>RT)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();p={top:((u||0)-y.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Od(Od({},h),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Od(Od({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ve.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},hpe(i,Od(Od({},this.props),{},{payload:c$(u,d,upe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Od(Od({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&dt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(_.PureComponent);vj(Rh,"displayName","Legend");vj(Rh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $T=Rv,fpe=RA,mpe=no,BT=$T?$T.isConcatSpreadable:void 0;function ppe(e){return mpe(e)||fpe(e)||!!(BT&&e&&e[BT])}var gpe=ppe,xpe=X9,ype=gpe;function h$(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=ype),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?h$(l,t-1,r,s,a):xpe(a,l):s||(a[a.length]=l)}return a}var f$=h$;function vpe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var bpe=vpe,wpe=bpe,jpe=wpe(),Npe=jpe,Spe=Npe,_pe=yj;function Ape(e,t){return e&&Spe(e,t,_pe)}var m$=Ape,kpe=$v;function Cpe(e,t){return function(r,s){if(r==null)return r;if(!kpe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var Ppe=Cpe,Tpe=m$,Epe=Ppe,Ope=Epe(Tpe),UA=Ope,Lpe=UA,Ipe=$v;function Mpe(e,t){var r=-1,s=Ipe(e)?Array(e.length):[];return Lpe(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var p$=Mpe;function Dpe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Fpe=Dpe,zT=kx;function Rpe(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=zT(e),o=t!==void 0,l=t===null,c=t===t,d=zT(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var $pe=Rpe,Bpe=$pe;function zpe(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=Bpe(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Upe=zpe,j5=AA,Vpe=kA,qpe=ld,Wpe=p$,Hpe=Fpe,Gpe=e$,Kpe=Upe,Ype=Mx,Zpe=no;function Xpe(e,t,r){t.length?t=j5(t,function(i){return Zpe(i)?function(o){return Vpe(o,i.length===1?i[0]:i)}:i}):t=[Ype];var s=-1;t=j5(t,Gpe(qpe));var a=Wpe(e,function(i,o,l){var c=j5(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return Hpe(a,function(i,o){return Kpe(i,o,r)})}var Qpe=Xpe;function Jpe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ege=Jpe,tge=ege,UT=Math.max;function rge(e,t,r){return t=UT(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=UT(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),tge(e,this,l)}}var nge=rge;function sge(e){return function(){return e}}var age=sge,ige=Zm,oge=function(){try{var e=ige(Object,"defineProperty");return e({},"",{}),e}catch{}}(),g$=oge,lge=age,VT=g$,cge=Mx,dge=VT?function(e,t){return VT(e,"toString",{configurable:!0,enumerable:!1,value:lge(t),writable:!0})}:cge,uge=dge,hge=800,fge=16,mge=Date.now;function pge(e){var t=0,r=0;return function(){var s=mge(),a=fge-(s-r);if(r=s,a>0){if(++t>=hge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var gge=pge,xge=uge,yge=gge,vge=yge(xge),bge=vge,wge=Mx,jge=nge,Nge=bge;function Sge(e,t){return Nge(jge(e,t,wge),e+"")}var _ge=Sge,Age=jA,kge=$v,Cge=$A,Pge=tf;function Tge(e,t,r){if(!Pge(r))return!1;var s=typeof t;return(s=="number"?kge(r)&&Cge(t,r.length):s=="string"&&t in r)?Age(r[t],e):!1}var bj=Tge,Ege=f$,Oge=Qpe,Lge=_ge,qT=bj,Ige=Lge(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qT(e,t[0],t[1])?t=[]:r>2&&qT(t[0],t[1],t[2])&&(t=[t[0]]),Oge(e,Ege(t,1),[])}),Mge=Ige;const VA=hn(Mge);function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z_.apply(this,arguments)}function Dge(e,t){return Bge(e)||$ge(e,t)||Rge(e,t)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rge(e,t){if(e){if(typeof e=="string")return WT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(e,t)}}function WT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function $ge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bge(e){if(Array.isArray(e))return e}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(s){zge(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zge(e,t,r){return t=Uge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uge(e){var t=Vge(e,"string");return Fy(t)=="symbol"?t:t+""}function Vge(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Fy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qge(e){return Array.isArray(e)&&va(e[0])&&va(e[1])?e.join(" ~ "):e}var Wge=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,p=t.itemSorter,f=t.wrapperClassName,y=t.labelClassName,g=t.label,v=t.labelFormatter,b=t.accessibilityLayer,S=b===void 0?!1:b,N=function(){if(u&&u.length){var I={padding:0,margin:0},M=(p?VA(u,p):u).map(function(D,V){if(D.type==="none")return null;var z=N5({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),X=D.formatter||h||qge,q=D.value,Y=D.name,ie=q,W=Y;if(X&&ie!=null&&W!=null){var F=X(q,Y,D,V,u);if(Array.isArray(F)){var Z=Dge(F,2);ie=Z[0],W=Z[1]}else ie=F}return ve.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:z},va(W)?ve.createElement("span",{className:"recharts-tooltip-item-name"},W):null,va(W)?ve.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,ve.createElement("span",{className:"recharts-tooltip-item-value"},ie),ve.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return ve.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},w=N5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=N5({margin:0},d),L=!hr(g),k=L?g:"",A=gr("recharts-default-tooltip",f),P=gr("recharts-tooltip-label",y);L&&v&&u!==void 0&&u!==null&&(k=v(g,u));var B=S?{role:"status","aria-live":"assertive"}:{};return ve.createElement("div",z_({className:A,style:w},B),ve.createElement("p",{className:P,style:C},ve.isValidElement(k)?k:"".concat(k)),N())};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function Kb(e,t,r){return t=Hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hge(e){var t=Gge(e,"string");return Ry(t)=="symbol"?t:t+""}function Gge(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ry(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0="recharts-tooltip-wrapper",Kge={visibility:"hidden"};function Yge(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return gr(E0,Kb(Kb(Kb(Kb({},"".concat(E0,"-right"),dt(r)&&t&&dt(t.x)&&r>=t.x),"".concat(E0,"-left"),dt(r)&&t&&dt(t.x)&&r<t.x),"".concat(E0,"-bottom"),dt(s)&&t&&dt(t.y)&&s>=t.y),"".concat(E0,"-top"),dt(s)&&t&&dt(t.y)&&s<t.y))}function GT(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&dt(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(t[s])return o[s]?u:h;if(o[s]){var p=u,f=c[s];return p<f?Math.max(h,c[s]):Math.max(u,c[s])}var y=h+l,g=c[s]+d;return y>g?Math.max(u,c[s]):Math.max(h,c[s])}function Zge(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Xge(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=GT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=GT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Zge({translateX:u,translateY:h,useTranslate3d:l})):d=Kge,{cssProperties:d,cssClasses:Yge({translateX:u,translateY:h,coordinate:r})}}function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(s){V_(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Qge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jge(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,y$(s.key),s)}}function exe(e,t,r){return t&&Jge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function txe(e,t,r){return t=vw(t),rxe(e,x$()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function rxe(e,t){if(t&&(zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nxe(e)}function nxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},U_(e,t)}function V_(e,t,r){return t=y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y$(e){var t=axe(e,"string");return zg(t)=="symbol"?t:t+""}function axe(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZT=1,ixe=function(e){function t(){var r;Qge(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=txe(this,t,[].concat(a)),V_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return sxe(t,e),exe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>ZT||Math.abs(s.height-this.state.lastBoundingBox.height)>ZT)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,p=a.isAnimationActive,f=a.offset,y=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,S=a.wrapperStyle,N=Xge({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),w=N.cssClasses,C=N.cssProperties,L=YT(YT({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return ve.createElement("div",{tabIndex:-1,className:w,style:L,ref:function(A){s.wrapperNode=A}},d)}}])}(_.PureComponent),oxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sc={isSsr:oxe(),get:function(t){return sc[t]},set:function(t,r){if(typeof t=="string")sc[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){sc[a]=t[a]})}}};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(s){qA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cxe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,b$(s.key),s)}}function dxe(e,t,r){return t&&cxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uxe(e,t,r){return t=bw(t),hxe(e,v$()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function hxe(e,t){if(t&&(Ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxe(e)}function fxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function mxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},q_(e,t)}function qA(e,t,r){return t=b$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=pxe(e,"string");return Ug(t)=="symbol"?t:t+""}function pxe(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gxe(e){return e.dataKey}function xxe(e,t){return ve.isValidElement(e)?ve.cloneElement(e,t):typeof e=="function"?ve.createElement(e,t):ve.createElement(Wge,t)}var ra=function(e){function t(){return lxe(this,t),uxe(this,t,arguments)}return mxe(t,e),dxe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,p=a.isAnimationActive,f=a.offset,y=a.payload,g=a.payloadUniqBy,v=a.position,b=a.reverseDirection,S=a.useTranslate3d,N=a.viewBox,w=a.wrapperStyle,C=y??[];h&&C.length&&(C=c$(y.filter(function(k){return k.value!=null&&(k.hide!==!0||s.props.includeHidden)}),g,gxe));var L=C.length>0;return ve.createElement(ixe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:u,hasPayload:L,offset:f,position:v,reverseDirection:b,useTranslate3d:S,viewBox:N,wrapperStyle:w},xxe(d,QT(QT({},this.props),{},{payload:C})))}}])}(_.PureComponent);qA(ra,"displayName","Tooltip");qA(ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yxe=od,vxe=function(){return yxe.Date.now()},bxe=vxe,wxe=/\s/;function jxe(e){for(var t=e.length;t--&&wxe.test(e.charAt(t)););return t}var Nxe=jxe,Sxe=Nxe,_xe=/^\s+/;function Axe(e){return e&&e.slice(0,Sxe(e)+1).replace(_xe,"")}var kxe=Axe,Cxe=kxe,JT=tf,Pxe=kx,eE=NaN,Txe=/^[-+]0x[0-9a-f]+$/i,Exe=/^0b[01]+$/i,Oxe=/^0o[0-7]+$/i,Lxe=parseInt;function Ixe(e){if(typeof e=="number")return e;if(Pxe(e))return eE;if(JT(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=JT(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cxe(e);var r=Exe.test(e);return r||Oxe.test(e)?Lxe(e.slice(2),r?2:8):Txe.test(e)?eE:+e}var w$=Ixe,Mxe=tf,S5=bxe,tE=w$,Dxe="Expected a function",Fxe=Math.max,Rxe=Math.min;function $xe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(Dxe);t=tE(t)||0,Mxe(r)&&(u=!!r.leading,h="maxWait"in r,i=h?Fxe(tE(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function f(L){var k=s,A=a;return s=a=void 0,d=L,o=e.apply(A,k),o}function y(L){return d=L,l=setTimeout(b,t),u?f(L):o}function g(L){var k=L-c,A=L-d,P=t-k;return h?Rxe(P,i-A):P}function v(L){var k=L-c,A=L-d;return c===void 0||k>=t||k<0||h&&A>=i}function b(){var L=S5();if(v(L))return S(L);l=setTimeout(b,g(L))}function S(L){return l=void 0,p&&s?f(L):(s=a=void 0,o)}function N(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function w(){return l===void 0?o:S(S5())}function C(){var L=S5(),k=v(L);if(s=arguments,a=this,c=L,k){if(l===void 0)return y(c);if(h)return clearTimeout(l),l=setTimeout(b,t),f(c)}return l===void 0&&(l=setTimeout(b,t)),o}return C.cancel=N,C.flush=w,C}var Bxe=$xe,zxe=Bxe,Uxe=tf,Vxe="Expected a function";function qxe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Vxe);return Uxe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),zxe(e,t,{leading:s,maxWait:t,trailing:a})}var Wxe=qxe;const j$=hn(Wxe);function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(s){Hxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Hxe(e,t,r){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=Kxe(e,"string");return $y(t)=="symbol"?t:t+""}function Kxe(e,t){if($y(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($y(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yxe(e,t){return Jxe(e)||Qxe(e,t)||Xxe(e,t)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Qxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Jxe(e){if(Array.isArray(e))return e}var Gl=_.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,p=e.maxHeight,f=e.children,y=e.debounce,g=y===void 0?0:y,v=e.id,b=e.className,S=e.onResize,N=e.style,w=N===void 0?{}:N,C=_.useRef(null),L=_.useRef();L.current=S,_.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var k=_.useState({containerWidth:a.width,containerHeight:a.height}),A=Yxe(k,2),P=A[0],B=A[1],T=_.useCallback(function(M,D){B(function(V){var z=Math.round(M),X=Math.round(D);return V.containerWidth===z&&V.containerHeight===X?V:{containerWidth:z,containerHeight:X}})},[]);_.useEffect(function(){var M=function(Y){var ie,W=Y[0].contentRect,F=W.width,Z=W.height;T(F,Z),(ie=L.current)===null||ie===void 0||ie.call(L,F,Z)};g>0&&(M=j$(M,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),V=C.current.getBoundingClientRect(),z=V.width,X=V.height;return T(z,X),D.observe(C.current),function(){D.disconnect()}},[T,g]);var I=_.useMemo(function(){var M=P.containerWidth,D=P.containerHeight;if(M<0||D<0)return null;nc(rm(o)||rm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),nc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=rm(o)?M:o,z=rm(c)?D:c;r&&r>0&&(V?z=V/r:z&&(V=z*r),p&&z>p&&(z=p)),nc(V>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,z,o,c,u,h,r);var X=!Array.isArray(f)&&Zd(f.type).endsWith("Chart");return ve.Children.map(f,function(q){return ve.isValidElement(q)?_.cloneElement(q,Yb({width:V,height:z},X?{style:Yb({height:"100%",width:"100%",maxHeight:z,maxWidth:V},q.props.style)}:{})):q})},[r,f,c,p,h,u,P,o]);return ve.createElement("div",{id:v?"".concat(v):void 0,className:gr("recharts-responsive-container",b),style:Yb(Yb({},w),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:p}),ref:C},I)}),Dx=function(t){return null};Dx.displayName="Cell";function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function W_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(s){e0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function e0e(e,t,r){return t=t0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return By(t)=="symbol"?t:t+""}function r0e(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(By(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lp={widthCache:{},cacheCount:0},n0e=2e3,s0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aE="recharts_measurement_span";function a0e(e){var t=W_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ly=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sc.isSsr)return{width:0,height:0};var s=a0e(r),a=JSON.stringify({text:t,copyStyle:s});if(Lp.widthCache[a])return Lp.widthCache[a];try{var i=document.getElementById(aE);i||(i=document.createElement("span"),i.setAttribute("id",aE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=W_(W_({},s0e),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Lp.widthCache[a]=c,++Lp.cacheCount>n0e&&(Lp.cacheCount=0,Lp.widthCache={}),c}catch{return{width:0,height:0}}},i0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}function ww(e,t){return d0e(e)||c0e(e,t)||l0e(e,t)||o0e()}function o0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0e(e,t){if(e){if(typeof e=="string")return iE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iE(e,t)}}function iE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function c0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function d0e(e){if(Array.isArray(e))return e}function u0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,f0e(s.key),s)}}function h0e(e,t,r){return t&&oE(e.prototype,t),r&&oE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f0e(e){var t=m0e(e,"string");return zy(t)=="symbol"?t:t+""}function m0e(e,t){if(zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(zy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,N$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x0e=Object.keys(N$),Yp="NaN";function y0e(e,t){return e*N$[t]}var Zb=function(){function e(t,r){u0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!p0e.test(r)&&(this.num=NaN,this.unit=""),x0e.includes(r)&&(this.num=y0e(t,r),this.unit="px")}return h0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=g0e.exec(r))!==null&&s!==void 0?s:[],i=ww(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function S$(e){if(e.includes(Yp))return Yp;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=lE.exec(t))!==null&&r!==void 0?r:[],a=ww(s,4),i=a[1],o=a[2],l=a[3],c=Zb.parse(i??""),d=Zb.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Yp;t=t.replace(lE,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=cE.exec(t))!==null&&h!==void 0?h:[],f=ww(p,4),y=f[1],g=f[2],v=f[3],b=Zb.parse(y??""),S=Zb.parse(v??""),N=g==="+"?b.add(S):b.subtract(S);if(N.isNaN())return Yp;t=t.replace(cE,N.toString())}return t}var dE=/\(([^()]*)\)/;function v0e(e){for(var t=e;t.includes("(");){var r=dE.exec(t),s=ww(r,2),a=s[1];t=t.replace(dE,S$(a))}return t}function b0e(e){var t=e.replace(/\s+/g,"");return t=v0e(t),t=S$(t),t}function w0e(e){try{return b0e(e)}catch{return Yp}}function _5(e){var t=w0e(e.slice(5,-1));return t===Yp?"":t}var j0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],N0e=["dx","dy","angle","className","breakAll"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H_.apply(this,arguments)}function uE(e,t){if(e==null)return{};var r=S0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function S0e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function hE(e,t){return C0e(e)||k0e(e,t)||A0e(e,t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0e(e,t){if(e){if(typeof e=="string")return fE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(e,t)}}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function C0e(e){if(Array.isArray(e))return e}var _$=/[ \f\n\r\t\v\u2028\u2029]+/,A$=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];hr(r)||(s?i=r.toString().split(""):i=r.toString().split(_$));var o=i.map(function(c){return{word:c,width:ly(c,a).width}}),l=s?0:ly(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},P0e=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=dt(o),h=l,p=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(z,X){var q=X.word,Y=X.width,ie=z[z.length-1];if(ie&&(a==null||i||ie.width+Y+s<Number(a)))ie.words.push(q),ie.width+=Y+s;else{var W={words:[q],width:Y};z.push(W)}return z},[])},f=p(r),y=function(V){return V.reduce(function(z,X){return z.width>X.width?z:X})};if(!u)return f;for(var g="…",v=function(V){var z=h.slice(0,V),X=A$({breakAll:d,style:c,children:z+g}).wordsWithComputedWidth,q=p(X),Y=q.length>o||y(q).width>Number(a);return[Y,q]},b=0,S=h.length-1,N=0,w;b<=S&&N<=h.length-1;){var C=Math.floor((b+S)/2),L=C-1,k=v(L),A=hE(k,2),P=A[0],B=A[1],T=v(C),I=hE(T,1),M=I[0];if(!P&&!M&&(b=C+1),P&&M&&(S=C-1),!P&&M){w=B;break}N++}return w||f},mE=function(t){var r=hr(t)?[]:t.toString().split(_$);return[{words:r}]},T0e=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!sc.isSsr){var c,d,u=A$({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,p=u.spaceWidth;c=h,d=p}else return mE(a);return P0e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return mE(a)},pE="#808080",Lm=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,p=t.textAnchor,f=p===void 0?"start":p,y=t.verticalAnchor,g=y===void 0?"end":y,v=t.fill,b=v===void 0?pE:v,S=uE(t,j0e),N=_.useMemo(function(){return T0e({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),w=S.dx,C=S.dy,L=S.angle,k=S.className,A=S.breakAll,P=uE(S,N0e);if(!va(s)||!va(i))return null;var B=s+(dt(w)?w:0),T=i+(dt(C)?C:0),I;switch(g){case"start":I=_5("calc(".concat(d,")"));break;case"middle":I=_5("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=_5("calc(".concat(N.length-1," * -").concat(l,")"));break}var M=[];if(h){var D=N[0].width,V=S.width;M.push("scale(".concat((dt(V)?V/D:1)/D,")"))}return L&&M.push("rotate(".concat(L,", ").concat(B,", ").concat(T,")")),M.length&&(P.transform=M.join(" ")),ve.createElement("text",H_({},Dt(P,!0),{x:B,y:T,className:gr("recharts-text",k),textAnchor:f,fill:b.includes("url")?pE:b}),N.map(function(z,X){var q=z.words.join(A?"":" ");return ve.createElement("tspan",{x:B,dy:X===0?I:l,key:"".concat(q,"-").concat(X)},q)}))};function $h(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WA(e){let t,r,s;e.length!==2?(t=$h,r=(l,c)=>$h(e(l),c),s=(l,c)=>e(l)-c):(t=e===$h||e===E0e?e:O0e,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function O0e(){return 0}function k$(e){return e===null?NaN:+e}function*L0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const I0e=WA($h),Bv=I0e.right;WA(k$).center;class gE extends Map{constructor(t,r=F0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(xE(this,t))}has(t){return super.has(xE(this,t))}set(t,r){return super.set(M0e(this,t),r)}delete(t){return super.delete(D0e(this,t))}}function xE({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function M0e({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function D0e({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function F0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function R0e(e=$h){if(e===$h)return C$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function C$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $0e=Math.sqrt(50),B0e=Math.sqrt(10),z0e=Math.sqrt(2);function jw(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=$0e?10:i>=B0e?5:i>=z0e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?jw(e,t,r*2):[l,c,d]}function G_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?jw(t,e,r):jw(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function K_(e,t,r){return t=+t,e=+e,r=+r,jw(e,t,r)[2]}function Y_(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?K_(t,e,r):K_(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function yE(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function vE(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function P$(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?C$:R0e(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(t-d*h/c+p)),y=Math.min(s,Math.floor(t+(c-d)*h/c+p));P$(e,t,f,y,a)}const i=e[t];let o=r,l=s;for(O0(e,r,t),a(e[s],i)>0&&O0(e,r,s);o<l;){for(O0(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?O0(e,r,l):(++l,O0(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function O0(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function U0e(e,t,r){if(e=Float64Array.from(L0e(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return vE(e);if(t>=1)return yE(e);var s,a=(s-1)*t,i=Math.floor(a),o=yE(P$(e,i).subarray(0,i+1)),l=vE(e.subarray(i+1));return o+(l-o)*(a-i)}}function V0e(e,t,r=k$){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function q0e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function bl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Z_=Symbol("implicit");function HA(){var e=new gE,t=[],r=[],s=Z_;function a(i){let o=e.get(i);if(o===void 0){if(s!==Z_)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new gE;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return HA(t,r).unknown(s)},bl.apply(a,arguments),a}function Uy(){var e=HA().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var p=t().length,f=a<s,y=f?a:s,g=f?s:a;i=(g-y)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),y+=(g-y-i*(p-c))*u,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=q0e(p).map(function(b){return y+i*b});return r(f?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(d=+p,h()):d},e.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),h()):u},e.copy=function(){return Uy(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},bl.apply(h(),arguments)}function T$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T$(t())},e}function cy(){return T$(Uy.apply(null,arguments).paddingInner(1))}function GA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function E$(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function zv(){}var Vy=.7,Nw=1/Vy,hg="\\s*([+-]?\\d+)\\s*",qy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W0e=/^#([0-9a-f]{3,8})$/,H0e=new RegExp(`^rgb\\(${hg},${hg},${hg}\\)$`),G0e=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),K0e=new RegExp(`^rgba\\(${hg},${hg},${hg},${qy}\\)$`),Y0e=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${qy}\\)$`),Z0e=new RegExp(`^hsl\\(${qy},${Kc},${Kc}\\)$`),X0e=new RegExp(`^hsla\\(${qy},${Kc},${Kc},${qy}\\)$`),bE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GA(zv,Wy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wE,formatHex:wE,formatHex8:Q0e,formatHsl:J0e,formatRgb:jE,toString:jE});function wE(){return this.rgb().formatHex()}function Q0e(){return this.rgb().formatHex8()}function J0e(){return O$(this).formatHsl()}function jE(){return this.rgb().formatRgb()}function Wy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=W0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?NE(t):r===3?new Ji(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H0e.exec(e))?new Ji(t[1],t[2],t[3],1):(t=G0e.exec(e))?new Ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=K0e.exec(e))?Xb(t[1],t[2],t[3],t[4]):(t=Y0e.exec(e))?Xb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z0e.exec(e))?AE(t[1],t[2]/100,t[3]/100,1):(t=X0e.exec(e))?AE(t[1],t[2]/100,t[3]/100,t[4]):bE.hasOwnProperty(e)?NE(bE[e]):e==="transparent"?new Ji(NaN,NaN,NaN,0):null}function NE(e){return new Ji(e>>16&255,e>>8&255,e&255,1)}function Xb(e,t,r,s){return s<=0&&(e=t=r=NaN),new Ji(e,t,r,s)}function eye(e){return e instanceof zv||(e=Wy(e)),e?(e=e.rgb(),new Ji(e.r,e.g,e.b,e.opacity)):new Ji}function X_(e,t,r,s){return arguments.length===1?eye(e):new Ji(e,t,r,s??1)}function Ji(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}GA(Ji,X_,E$(zv,{brighter(e){return e=e==null?Nw:Math.pow(Nw,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new Ji(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ji(wm(this.r),wm(this.g),wm(this.b),Sw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SE,formatHex:SE,formatHex8:tye,formatRgb:_E,toString:_E}));function SE(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}`}function tye(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}${nm((isNaN(this.opacity)?1:this.opacity)*255)}`}function _E(){const e=Sw(this.opacity);return`${e===1?"rgb(":"rgba("}${wm(this.r)}, ${wm(this.g)}, ${wm(this.b)}${e===1?")":`, ${e})`}`}function Sw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nm(e){return e=wm(e),(e<16?"0":"")+e.toString(16)}function AE(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zl(e,t,r,s)}function O$(e){if(e instanceof Zl)return new Zl(e.h,e.s,e.l,e.opacity);if(e instanceof zv||(e=Wy(e)),!e)return new Zl;if(e instanceof Zl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Zl(o,l,c,e.opacity)}function rye(e,t,r,s){return arguments.length===1?O$(e):new Zl(e,t,r,s??1)}function Zl(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}GA(Zl,rye,E$(zv,{brighter(e){return e=e==null?Nw:Math.pow(Nw,e),new Zl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vy:Math.pow(Vy,e),new Zl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Ji(A5(e>=240?e-240:e+120,a,s),A5(e,a,s),A5(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Zl(kE(this.h),Qb(this.s),Qb(this.l),Sw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sw(this.opacity);return`${e===1?"hsl(":"hsla("}${kE(this.h)}, ${Qb(this.s)*100}%, ${Qb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kE(e){return e=(e||0)%360,e<0?e+360:e}function Qb(e){return Math.max(0,Math.min(1,e||0))}function A5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KA=e=>()=>e;function nye(e,t){return function(r){return e+r*t}}function sye(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function aye(e){return(e=+e)==1?L$:function(t,r){return r-t?sye(t,r,e):KA(isNaN(t)?r:t)}}function L$(e,t){var r=t-e;return r?nye(e,r):KA(isNaN(e)?t:e)}const CE=function e(t){var r=aye(t);function s(a,i){var o=r((a=X_(a)).r,(i=X_(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=L$(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function iye(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function oye(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lye(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Fx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function cye(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function _w(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dye(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Fx(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var Q_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k5=new RegExp(Q_.source,"g");function uye(e){return function(){return e}}function hye(e){return function(t){return e(t)+""}}function fye(e,t){var r=Q_.lastIndex=k5.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=Q_.exec(e))&&(a=k5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:_w(s,a)})),r=k5.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?hye(c[0].x):uye(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Fx(e,t){var r=typeof t,s;return t==null||r==="boolean"?KA(t):(r==="number"?_w:r==="string"?(s=Wy(t))?(t=s,CE):fye:t instanceof Wy?CE:t instanceof Date?cye:oye(t)?iye:Array.isArray(t)?lye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dye:_w)(e,t)}function YA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function mye(e,t){t===void 0&&(t=e,e=Fx);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function pye(e){return function(){return e}}function Aw(e){return+e}var PE=[0,1];function Di(e){return e}function J_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:pye(isNaN(t)?NaN:.5)}function gye(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function xye(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=J_(a,s),i=r(o,i)):(s=J_(s,a),i=r(i,o)),function(l){return i(s(l))}}function yye(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=J_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Bv(e,l,1,s)-1;return i[c](a[c](l))}}function Uv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wj(){var e=PE,t=PE,r=Fx,s,a,i,o=Di,l,c,d;function u(){var p=Math.min(e.length,t.length);return o!==Di&&(o=gye(e[0],e[p-1])),l=p>2?yye:xye,c=d=null,h}function h(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(s),t,r)))(s(o(p)))}return h.invert=function(p){return o(a((d||(d=l(t,e.map(s),_w)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Aw),u()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),u()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=YA,u()},h.clamp=function(p){return arguments.length?(o=p?!0:Di,u()):o!==Di},h.interpolate=function(p){return arguments.length?(r=p,u()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,f){return s=p,a=f,u()}}function ZA(){return wj()(Di,Di)}function vye(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Vg(e){return e=kw(Math.abs(e)),e?e[1]:NaN}function bye(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function wye(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var jye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hy(e){if(!(t=jye.exec(e)))throw new Error("invalid format: "+e);var t;return new XA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hy.prototype=XA.prototype;function XA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nye(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var I$;function Sye(e,t){var r=kw(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(I$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+kw(e,Math.max(0,t+i-1))[0]}function TE(e,t){var r=kw(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const EE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vye,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TE(e*100,t),r:TE,s:Sye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function OE(e){return e}var LE=Array.prototype.map,IE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _ye(e){var t=e.grouping===void 0||e.thousands===void 0?OE:bye(LE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?OE:wye(LE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Hy(h);var p=h.fill,f=h.align,y=h.sign,g=h.symbol,v=h.zero,b=h.width,S=h.comma,N=h.precision,w=h.trim,C=h.type;C==="n"?(S=!0,C="g"):EE[C]||(N===void 0&&(N=12),w=!0,C="g"),(v||p==="0"&&f==="=")&&(v=!0,p="0",f="=");var L=g==="$"?r:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",k=g==="$"?s:/[%p]/.test(C)?o:"",A=EE[C],P=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(T){var I=L,M=k,D,V,z;if(C==="c")M=A(T)+M,T="";else{T=+T;var X=T<0||1/T<0;if(T=isNaN(T)?c:A(Math.abs(T),N),w&&(T=Nye(T)),X&&+T==0&&y!=="+"&&(X=!1),I=(X?y==="("?y:l:y==="-"||y==="("?"":y)+I,M=(C==="s"?IE[8+I$/3]:"")+M+(X&&y==="("?")":""),P){for(D=-1,V=T.length;++D<V;)if(z=T.charCodeAt(D),48>z||z>57){M=(z===46?a+T.slice(D+1):T.slice(D))+M,T=T.slice(0,D);break}}}S&&!v&&(T=t(T,1/0));var q=I.length+T.length+M.length,Y=q<b?new Array(b-q+1).join(p):"";switch(S&&v&&(T=t(Y+T,Y.length?b-M.length:1/0),Y=""),f){case"<":T=I+T+M+Y;break;case"=":T=I+Y+T+M;break;case"^":T=Y.slice(0,q=Y.length>>1)+I+T+M+Y.slice(q);break;default:T=Y+I+T+M;break}return i(T)}return B.toString=function(){return h+""},B}function u(h,p){var f=d((h=Hy(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Vg(p)/3)))*3,g=Math.pow(10,-y),v=IE[8+y/3];return function(b){return f(g*b)+v}}return{format:d,formatPrefix:u}}var Jb,QA,M$;Aye({thousands:",",grouping:[3],currency:["$",""]});function Aye(e){return Jb=_ye(e),QA=Jb.format,M$=Jb.formatPrefix,Jb}function kye(e){return Math.max(0,-Vg(Math.abs(e)))}function Cye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vg(t)/3)))*3-Vg(Math.abs(e)))}function Pye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vg(t)-Vg(e))+1}function D$(e,t,r,s){var a=Y_(e,t,r),i;switch(s=Hy(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=Cye(a,o))&&(s.precision=i),M$(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=Pye(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=kye(a))&&(s.precision=i-(s.type==="%")*2);break}}return QA(s)}function rf(e){var t=e.domain;return e.ticks=function(r){var s=t();return G_(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return D$(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=K_(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function Cw(){var e=ZA();return e.copy=function(){return Uv(e,Cw())},bl.apply(e,arguments),rf(e)}function F$(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,Aw),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return F$(e).unknown(t)},e=arguments.length?Array.from(e,Aw):[0,1],rf(r)}function R$(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function ME(e){return Math.log(e)}function DE(e){return Math.exp(e)}function Tye(e){return-Math.log(-e)}function Eye(e){return-Math.exp(-e)}function Oye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lye(e){return e===10?Oye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Iye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FE(e){return(t,r)=>-e(-t,r)}function JA(e){const t=e(ME,DE),r=t.domain;let s=10,a,i;function o(){return a=Iye(s),i=Lye(s),r()[0]<0?(a=FE(a),i=FE(i),e(Tye,Eye)):e(ME,DE),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let p=a(d),f=a(u),y,g;const v=l==null?10:+l;let b=[];if(!(s%1)&&f-p<v){if(p=Math.floor(p),f=Math.ceil(f),d>0){for(;p<=f;++p)for(y=1;y<s;++y)if(g=p<0?y/i(-p):y*i(p),!(g<d)){if(g>u)break;b.push(g)}}else for(;p<=f;++p)for(y=s-1;y>=1;--y)if(g=p>0?y/i(-p):y*i(p),!(g<d)){if(g>u)break;b.push(g)}b.length*2<v&&(b=G_(d,u,v))}else b=G_(p,f,Math.min(f-p,v)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=Hy(c)).precision==null&&(c.trim=!0),c=QA(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},t.nice=()=>r(R$(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function $$(){const e=JA(wj()).domain([1,10]);return e.copy=()=>Uv(e,$$()).base(e.base()),bl.apply(e,arguments),e}function RE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $E(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ek(e){var t=1,r=e(RE(t),$E(t));return r.constant=function(s){return arguments.length?e(RE(t=+s),$E(t)):t},rf(r)}function B$(){var e=ek(wj());return e.copy=function(){return Uv(e,B$()).constant(e.constant())},bl.apply(e,arguments)}function BE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Mye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dye(e){return e<0?-e*e:e*e}function tk(e){var t=e(Di,Di),r=1;function s(){return r===1?e(Di,Di):r===.5?e(Mye,Dye):e(BE(r),BE(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},rf(t)}function rk(){var e=tk(wj());return e.copy=function(){return Uv(e,rk()).exponent(e.exponent())},bl.apply(e,arguments),e}function Fye(){return rk.apply(null,arguments).exponent(.5)}function zE(e){return Math.sign(e)*e*e}function Rye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function z$(){var e=ZA(),t=[0,1],r=!1,s;function a(i){var o=Rye(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(zE(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Aw)).map(zE)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return z$(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},bl.apply(a,arguments),rf(a)}function U$(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=V0e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Bv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($h),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return U$().domain(e).range(t).unknown(s)},bl.apply(i,arguments)}function V$(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Bv(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return V$().domain([e,t]).range(a).unknown(i)},bl.apply(rf(o),arguments)}function q$(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Bv(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return q$().domain(e).range(t).unknown(r)},bl.apply(a,arguments)}const C5=new Date,P5=new Date;function ja(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>ja(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(C5.setTime(+i),P5.setTime(+o),e(C5),e(P5),Math.floor(r(C5,P5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Pw=ja(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ja(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pw);Pw.range;const Wd=1e3,ml=Wd*60,Hd=ml*60,su=Hd*24,nk=su*7,UE=su*30,T5=su*365,sm=ja(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wd)},(e,t)=>(t-e)/Wd,e=>e.getUTCSeconds());sm.range;const sk=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wd)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getMinutes());sk.range;const ak=ja(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCMinutes());ak.range;const ik=ja(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wd-e.getMinutes()*ml)},(e,t)=>{e.setTime(+e+t*Hd)},(e,t)=>(t-e)/Hd,e=>e.getHours());ik.range;const ok=ja(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hd)},(e,t)=>(t-e)/Hd,e=>e.getUTCHours());ok.range;const Vv=ja(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ml)/su,e=>e.getDate()-1);Vv.range;const jj=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>e.getUTCDate()-1);jj.range;const W$=ja(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/su,e=>Math.floor(e/su));W$.range;function Qm(e){return ja(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ml)/nk)}const Nj=Qm(0),Tw=Qm(1),$ye=Qm(2),Bye=Qm(3),qg=Qm(4),zye=Qm(5),Uye=Qm(6);Nj.range;Tw.range;$ye.range;Bye.range;qg.range;zye.range;Uye.range;function Jm(e){return ja(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nk)}const Sj=Jm(0),Ew=Jm(1),Vye=Jm(2),qye=Jm(3),Wg=Jm(4),Wye=Jm(5),Hye=Jm(6);Sj.range;Ew.range;Vye.range;qye.range;Wg.range;Wye.range;Hye.range;const lk=ja(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lk.range;const ck=ja(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ck.range;const au=ja(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());au.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});au.range;const iu=ja(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());iu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ja(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});iu.range;function H$(e,t,r,s,a,i){const o=[[sm,1,Wd],[sm,5,5*Wd],[sm,15,15*Wd],[sm,30,30*Wd],[i,1,ml],[i,5,5*ml],[i,15,15*ml],[i,30,30*ml],[a,1,Hd],[a,3,3*Hd],[a,6,6*Hd],[a,12,12*Hd],[s,1,su],[s,2,2*su],[r,1,nk],[t,1,UE],[t,3,3*UE],[e,1,T5]];function l(d,u,h){const p=u<d;p&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),y=f?f.range(d,+u+1):[];return p?y.reverse():y}function c(d,u,h){const p=Math.abs(u-d)/h,f=WA(([,,v])=>v).right(o,p);if(f===o.length)return e.every(Y_(d/T5,u/T5,h));if(f===0)return Pw.every(Math.max(Y_(d,u,h),1));const[y,g]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return y.every(g)}return[l,c]}const[Gye,Kye]=H$(iu,ck,Sj,W$,ok,ak),[Yye,Zye]=H$(au,lk,Nj,Vv,ik,sk);function E5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function O5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function L0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Xye(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=I0(a),u=M0(a),h=I0(i),p=M0(i),f=I0(o),y=M0(o),g=I0(l),v=M0(l),b=I0(c),S=M0(c),N={a:X,A:q,b:Y,B:ie,c:null,d:KE,e:KE,f:bve,g:Tve,G:Ove,H:xve,I:yve,j:vve,L:G$,m:wve,M:jve,p:W,q:F,Q:XE,s:QE,S:Nve,u:Sve,U:_ve,V:Ave,w:kve,W:Cve,x:null,X:null,y:Pve,Y:Eve,Z:Lve,"%":ZE},w={a:Z,A:Q,b:ae,B:de,c:null,d:YE,e:YE,f:Fve,g:Gve,G:Yve,H:Ive,I:Mve,j:Dve,L:Y$,m:Rve,M:$ve,p:ge,q:Se,Q:XE,s:QE,S:Bve,u:zve,U:Uve,V:Vve,w:qve,W:Wve,x:null,X:null,y:Hve,Y:Kve,Z:Zve,"%":ZE},C={a:B,A:T,b:I,B:M,c:D,d:HE,e:HE,f:fve,g:WE,G:qE,H:GE,I:GE,j:cve,L:hve,m:lve,M:dve,p:P,q:ove,Q:pve,s:gve,S:uve,u:rve,U:nve,V:sve,w:tve,W:ave,x:V,X:z,y:WE,Y:qE,Z:ive,"%":mve};N.x=L(r,N),N.X=L(s,N),N.c=L(t,N),w.x=L(r,w),w.X=L(s,w),w.c=L(t,w);function L(J,he){return function(ee){var le=[],ke=-1,Ne=0,G=J.length,Ae,ze,Be;for(ee instanceof Date||(ee=new Date(+ee));++ke<G;)J.charCodeAt(ke)===37&&(le.push(J.slice(Ne,ke)),(ze=VE[Ae=J.charAt(++ke)])!=null?Ae=J.charAt(++ke):ze=Ae==="e"?" ":"0",(Be=he[Ae])&&(Ae=Be(ee,ze)),le.push(Ae),Ne=ke+1);return le.push(J.slice(Ne,ke)),le.join("")}}function k(J,he){return function(ee){var le=L0(1900,void 0,1),ke=A(le,J,ee+="",0),Ne,G;if(ke!=ee.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(he&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Ne=O5(L0(le.y,0,1)),G=Ne.getUTCDay(),Ne=G>4||G===0?Ew.ceil(Ne):Ew(Ne),Ne=jj.offset(Ne,(le.V-1)*7),le.y=Ne.getUTCFullYear(),le.m=Ne.getUTCMonth(),le.d=Ne.getUTCDate()+(le.w+6)%7):(Ne=E5(L0(le.y,0,1)),G=Ne.getDay(),Ne=G>4||G===0?Tw.ceil(Ne):Tw(Ne),Ne=Vv.offset(Ne,(le.V-1)*7),le.y=Ne.getFullYear(),le.m=Ne.getMonth(),le.d=Ne.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),G="Z"in le?O5(L0(le.y,0,1)).getUTCDay():E5(L0(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(G+5)%7:le.w+le.U*7-(G+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,O5(le)):E5(le)}}function A(J,he,ee,le){for(var ke=0,Ne=he.length,G=ee.length,Ae,ze;ke<Ne;){if(le>=G)return-1;if(Ae=he.charCodeAt(ke++),Ae===37){if(Ae=he.charAt(ke++),ze=C[Ae in VE?he.charAt(ke++):Ae],!ze||(le=ze(J,ee,le))<0)return-1}else if(Ae!=ee.charCodeAt(le++))return-1}return le}function P(J,he,ee){var le=d.exec(he.slice(ee));return le?(J.p=u.get(le[0].toLowerCase()),ee+le[0].length):-1}function B(J,he,ee){var le=f.exec(he.slice(ee));return le?(J.w=y.get(le[0].toLowerCase()),ee+le[0].length):-1}function T(J,he,ee){var le=h.exec(he.slice(ee));return le?(J.w=p.get(le[0].toLowerCase()),ee+le[0].length):-1}function I(J,he,ee){var le=b.exec(he.slice(ee));return le?(J.m=S.get(le[0].toLowerCase()),ee+le[0].length):-1}function M(J,he,ee){var le=g.exec(he.slice(ee));return le?(J.m=v.get(le[0].toLowerCase()),ee+le[0].length):-1}function D(J,he,ee){return A(J,t,he,ee)}function V(J,he,ee){return A(J,r,he,ee)}function z(J,he,ee){return A(J,s,he,ee)}function X(J){return o[J.getDay()]}function q(J){return i[J.getDay()]}function Y(J){return c[J.getMonth()]}function ie(J){return l[J.getMonth()]}function W(J){return a[+(J.getHours()>=12)]}function F(J){return 1+~~(J.getMonth()/3)}function Z(J){return o[J.getUTCDay()]}function Q(J){return i[J.getUTCDay()]}function ae(J){return c[J.getUTCMonth()]}function de(J){return l[J.getUTCMonth()]}function ge(J){return a[+(J.getUTCHours()>=12)]}function Se(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var he=L(J+="",N);return he.toString=function(){return J},he},parse:function(J){var he=k(J+="",!1);return he.toString=function(){return J},he},utcFormat:function(J){var he=L(J+="",w);return he.toString=function(){return J},he},utcParse:function(J){var he=k(J+="",!0);return he.toString=function(){return J},he}}}var VE={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,Qye=/^%/,Jye=/[\\^$*+?|[\]().{}]/g;function un(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function eve(e){return e.replace(Jye,"\\$&")}function I0(e){return new RegExp("^(?:"+e.map(eve).join("|")+")","i")}function M0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function tve(e,t,r){var s=Fa.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function rve(e,t,r){var s=Fa.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function nve(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function sve(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function ave(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function qE(e,t,r){var s=Fa.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function WE(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function ive(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function ove(e,t,r){var s=Fa.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function lve(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function HE(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function cve(e,t,r){var s=Fa.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function GE(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function dve(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function uve(e,t,r){var s=Fa.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function hve(e,t,r){var s=Fa.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function fve(e,t,r){var s=Fa.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function mve(e,t,r){var s=Qye.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function pve(e,t,r){var s=Fa.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function gve(e,t,r){var s=Fa.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function KE(e,t){return un(e.getDate(),t,2)}function xve(e,t){return un(e.getHours(),t,2)}function yve(e,t){return un(e.getHours()%12||12,t,2)}function vve(e,t){return un(1+Vv.count(au(e),e),t,3)}function G$(e,t){return un(e.getMilliseconds(),t,3)}function bve(e,t){return G$(e,t)+"000"}function wve(e,t){return un(e.getMonth()+1,t,2)}function jve(e,t){return un(e.getMinutes(),t,2)}function Nve(e,t){return un(e.getSeconds(),t,2)}function Sve(e){var t=e.getDay();return t===0?7:t}function _ve(e,t){return un(Nj.count(au(e)-1,e),t,2)}function K$(e){var t=e.getDay();return t>=4||t===0?qg(e):qg.ceil(e)}function Ave(e,t){return e=K$(e),un(qg.count(au(e),e)+(au(e).getDay()===4),t,2)}function kve(e){return e.getDay()}function Cve(e,t){return un(Tw.count(au(e)-1,e),t,2)}function Pve(e,t){return un(e.getFullYear()%100,t,2)}function Tve(e,t){return e=K$(e),un(e.getFullYear()%100,t,2)}function Eve(e,t){return un(e.getFullYear()%1e4,t,4)}function Ove(e,t){var r=e.getDay();return e=r>=4||r===0?qg(e):qg.ceil(e),un(e.getFullYear()%1e4,t,4)}function Lve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+un(t/60|0,"0",2)+un(t%60,"0",2)}function YE(e,t){return un(e.getUTCDate(),t,2)}function Ive(e,t){return un(e.getUTCHours(),t,2)}function Mve(e,t){return un(e.getUTCHours()%12||12,t,2)}function Dve(e,t){return un(1+jj.count(iu(e),e),t,3)}function Y$(e,t){return un(e.getUTCMilliseconds(),t,3)}function Fve(e,t){return Y$(e,t)+"000"}function Rve(e,t){return un(e.getUTCMonth()+1,t,2)}function $ve(e,t){return un(e.getUTCMinutes(),t,2)}function Bve(e,t){return un(e.getUTCSeconds(),t,2)}function zve(e){var t=e.getUTCDay();return t===0?7:t}function Uve(e,t){return un(Sj.count(iu(e)-1,e),t,2)}function Z$(e){var t=e.getUTCDay();return t>=4||t===0?Wg(e):Wg.ceil(e)}function Vve(e,t){return e=Z$(e),un(Wg.count(iu(e),e)+(iu(e).getUTCDay()===4),t,2)}function qve(e){return e.getUTCDay()}function Wve(e,t){return un(Ew.count(iu(e)-1,e),t,2)}function Hve(e,t){return un(e.getUTCFullYear()%100,t,2)}function Gve(e,t){return e=Z$(e),un(e.getUTCFullYear()%100,t,2)}function Kve(e,t){return un(e.getUTCFullYear()%1e4,t,4)}function Yve(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Wg(e):Wg.ceil(e),un(e.getUTCFullYear()%1e4,t,4)}function Zve(){return"+0000"}function ZE(){return"%"}function XE(e){return+e}function QE(e){return Math.floor(+e/1e3)}var Ip,X$,Q$;Xve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xve(e){return Ip=Xye(e),X$=Ip.format,Ip.parse,Q$=Ip.utcFormat,Ip.utcParse,Ip}function Qve(e){return new Date(e)}function Jve(e){return e instanceof Date?+e:+new Date(+e)}function dk(e,t,r,s,a,i,o,l,c,d){var u=ZA(),h=u.invert,p=u.domain,f=d(".%L"),y=d(":%S"),g=d("%I:%M"),v=d("%I %p"),b=d("%a %d"),S=d("%b %d"),N=d("%B"),w=d("%Y");function C(L){return(c(L)<L?f:l(L)<L?y:o(L)<L?g:i(L)<L?v:s(L)<L?a(L)<L?b:S:r(L)<L?N:w)(L)}return u.invert=function(L){return new Date(h(L))},u.domain=function(L){return arguments.length?p(Array.from(L,Jve)):p().map(Qve)},u.ticks=function(L){var k=p();return e(k[0],k[k.length-1],L??10)},u.tickFormat=function(L,k){return k==null?C:d(k)},u.nice=function(L){var k=p();return(!L||typeof L.range!="function")&&(L=t(k[0],k[k.length-1],L??10)),L?p(R$(k,L)):u},u.copy=function(){return Uv(u,dk(e,t,r,s,a,i,o,l,c,d))},u}function ebe(){return bl.apply(dk(Yye,Zye,au,lk,Nj,Vv,ik,sk,sm,X$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tbe(){return bl.apply(dk(Gye,Kye,iu,ck,Sj,jj,ok,ak,sm,Q$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _j(){var e=0,t=1,r,s,a,i,o=Di,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(p){var f,y;return arguments.length?([f,y]=p,o=h(f,y),d):[o(0),o(1)]}}return d.range=u(Fx),d.rangeRound=u(YA),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(e),s=h(t),a=r===s?0:1/(s-r),d}}function nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function J$(){var e=rf(_j()(Di));return e.copy=function(){return nf(e,J$())},fu.apply(e,arguments)}function eB(){var e=JA(_j()).domain([1,10]);return e.copy=function(){return nf(e,eB()).base(e.base())},fu.apply(e,arguments)}function tB(){var e=ek(_j());return e.copy=function(){return nf(e,tB()).constant(e.constant())},fu.apply(e,arguments)}function uk(){var e=tk(_j());return e.copy=function(){return nf(e,uk()).exponent(e.exponent())},fu.apply(e,arguments)}function rbe(){return uk.apply(null,arguments).exponent(.5)}function rB(){var e=[],t=Di;function r(s){if(s!=null&&!isNaN(s=+s))return t((Bv(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($h),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>U0e(e,i/s))},r.copy=function(){return rB(t).domain(e)},fu.apply(r,arguments)}function Aj(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Di,u,h=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+u(g))-i)*(s*g<s*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(d=g,f):d};function y(g){return function(v){var b,S,N;return arguments.length?([b,S,N]=v,d=mye(g,[b,S,N]),f):[d(0),d(.5),d(1)]}}return f.range=y(Fx),f.rangeRound=y(YA),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return u=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function nB(){var e=rf(Aj()(Di));return e.copy=function(){return nf(e,nB())},fu.apply(e,arguments)}function sB(){var e=JA(Aj()).domain([.1,1,10]);return e.copy=function(){return nf(e,sB()).base(e.base())},fu.apply(e,arguments)}function aB(){var e=ek(Aj());return e.copy=function(){return nf(e,aB()).constant(e.constant())},fu.apply(e,arguments)}function hk(){var e=tk(Aj());return e.copy=function(){return nf(e,hk()).exponent(e.exponent())},fu.apply(e,arguments)}function nbe(){return hk.apply(null,arguments).exponent(.5)}const JE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uy,scaleDiverging:nB,scaleDivergingLog:sB,scaleDivergingPow:hk,scaleDivergingSqrt:nbe,scaleDivergingSymlog:aB,scaleIdentity:F$,scaleImplicit:Z_,scaleLinear:Cw,scaleLog:$$,scaleOrdinal:HA,scalePoint:cy,scalePow:rk,scaleQuantile:U$,scaleQuantize:V$,scaleRadial:z$,scaleSequential:J$,scaleSequentialLog:eB,scaleSequentialPow:uk,scaleSequentialQuantile:rB,scaleSequentialSqrt:rbe,scaleSequentialSymlog:tB,scaleSqrt:Fye,scaleSymlog:B$,scaleThreshold:q$,scaleTime:ebe,scaleUtc:tbe,tickFormat:D$},Symbol.toStringTag,{value:"Module"}));var sbe=kx;function abe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!sbe(o):r(o,l)))var l=o,c=i}return c}var kj=abe;function ibe(e,t){return e>t}var iB=ibe,obe=kj,lbe=iB,cbe=Mx;function dbe(e){return e&&e.length?obe(e,cbe,lbe):void 0}var ube=dbe;const Ch=hn(ube);function hbe(e,t){return e<t}var oB=hbe,fbe=kj,mbe=oB,pbe=Mx;function gbe(e){return e&&e.length?fbe(e,pbe,mbe):void 0}var xbe=gbe;const Cj=hn(xbe);var ybe=AA,vbe=ld,bbe=p$,wbe=no;function jbe(e,t){var r=wbe(e)?ybe:bbe;return r(e,vbe(t))}var Nbe=jbe,Sbe=f$,_be=Nbe;function Abe(e,t){return Sbe(_be(e,t),1)}var kbe=Abe;const Cbe=hn(kbe);var Pbe=zA;function Tbe(e,t){return Pbe(e,t)}var Ebe=Tbe;const Im=hn(Ebe);var Rx=1e9,Obe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mk,us=!0,xl="[DecimalError] ",jm=xl+"Invalid argument: ",fk=xl+"Exponent out of range: ",$x=Math.floor,Wf=Math.pow,Lbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oo,Ta=1e7,Jn=7,lB=9007199254740991,Ow=$x(lB/Jn),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};At.dividedBy=At.div=function(e){return Xd(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,r=t.constructor;return Rn(Xd(t,new r(e),0,1),r.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return sa(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Oo))throw Error(xl+"NaN");if(r.s<1)throw Error(xl+(r.s?"NaN":"-Infinity"));return r.eq(Oo)?new s(0):(us=!1,t=Xd(Gy(r,i),Gy(e,i),i),us=!0,Rn(t,a))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uB(t,e):cB(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(xl+"NaN");return r.s?(us=!1,t=Xd(r,e,0,1).times(e),us=!0,r.minus(t)):Rn(new s(r),a)};At.naturalExponential=At.exp=function(){return dB(this)};At.naturalLogarithm=At.ln=function(){return Gy(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cB(t,e):uB(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jm+e);if(t=sa(a)+1,s=a.d.length-1,r=s*Jn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};At.squareRoot=At.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(xl+"NaN")}for(e=sa(l),us=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=$x((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Xd(l,i,o+2)).times(.5),zc(i.d).slice(0,o)===(t=zc(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Rn(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return us=!0,Rn(s,r)};At.times=At.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,h=u.constructor,p=u.d,f=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,r=u.e+e.e,c=p.length,d=f.length,c<d&&(i=p,p=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*p[a-s-1]+t,i[a--]=l%Ta|0,t=l/Ta|0;i[a]=(i[a]+t)%Ta|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,us?Rn(e,h.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(nd(e,0,Rx),t===void 0?t=s.rounding:nd(t,0,8),Rn(r,e+sa(r)+1,t))};At.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Mm(s,!0):(nd(e,0,Rx),t===void 0?t=a.rounding:nd(t,0,8),s=Rn(new a(s),e+1,t),r=Mm(s,!0,e+1)),r};At.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Mm(a):(nd(e,0,Rx),t===void 0?t=i.rounding:nd(t,0,8),s=Rn(new i(a),e+sa(a)+1,t),r=Mm(s.abs(),!1,e+sa(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Rn(new t(e),sa(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Oo);if(l=new c(l),!l.s){if(e.s<1)throw Error(xl+"Infinity");return l}if(l.eq(Oo))return l;if(s=c.precision,e.eq(Oo))return Rn(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=lB){for(a=new c(Oo),t=Math.ceil(s/Jn+4),us=!1;r%2&&(a=a.times(l),tO(a.d,t)),r=$x(r/2),r!==0;)l=l.times(l),tO(l.d,t);return us=!0,e.s<0?new c(Oo).div(a):Rn(a,s)}}else if(i<0)throw Error(xl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,us=!1,a=e.times(Gy(l,s+d)),us=!0,a=dB(a),a.s=i,a};At.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=sa(a),s=Mm(a,r<=i.toExpNeg||r>=i.toExpPos)):(nd(e,1,Rx),t===void 0?t=i.rounding:nd(t,0,8),a=Rn(new i(a),e,t),r=sa(a),s=Mm(a,e<=r||r<=i.toExpNeg,e)),s};At.toSignificantDigits=At.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(nd(e,1,Rx),t===void 0?t=s.rounding:nd(t,0,8)),Rn(new s(r),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=sa(e),r=e.constructor;return Mm(e,t<=r.toExpNeg||t>=r.toExpPos)};function cB(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),us?Rn(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/Jn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ta|0,c[i]%=Ta;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,us?Rn(t,h):t}function nd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jm+e)}function zc(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=Jn-s.length,r&&(i+=hh(r)),i+=s;o=e[t],s=o+"",r=Jn-s.length,r&&(i+=hh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Xd=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Ta|0,o=i/Ta|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Ta+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,p,f,y,g,v,b,S,N,w,C,L,k,A,P=s.constructor,B=s.s==a.s?1:-1,T=s.d,I=a.d;if(!s.s)return new P(s);if(!a.s)throw Error(xl+"Division by zero");for(c=s.e-a.e,k=I.length,C=T.length,f=new P(B),y=f.d=[],d=0;I[d]==(T[d]||0);)++d;if(I[d]>(T[d]||0)&&--c,i==null?S=i=P.precision:o?S=i+(sa(s)-sa(a))+1:S=i,S<0)return new P(0);if(S=S/Jn+2|0,d=0,k==1)for(u=0,I=I[0],S++;(d<C||u)&&S--;d++)N=u*Ta+(T[d]||0),y[d]=N/I|0,u=N%I|0;else{for(u=Ta/(I[0]+1)|0,u>1&&(I=e(I,u),T=e(T,u),k=I.length,C=T.length),w=k,g=T.slice(0,k),v=g.length;v<k;)g[v++]=0;A=I.slice(),A.unshift(0),L=I[0],I[1]>=Ta/2&&++L;do u=0,l=t(I,g,k,v),l<0?(b=g[0],k!=v&&(b=b*Ta+(g[1]||0)),u=b/L|0,u>1?(u>=Ta&&(u=Ta-1),h=e(I,u),p=h.length,v=g.length,l=t(h,g,p,v),l==1&&(u--,r(h,k<p?A:I,p))):(u==0&&(l=u=1),h=I.slice()),p=h.length,p<v&&h.unshift(0),r(g,h,v),l==-1&&(v=g.length,l=t(I,g,k,v),l<1&&(u++,r(g,k<v?A:I,v))),v=g.length):l===0&&(u++,g=[0]),y[d++]=u,l&&g[0]?g[v++]=T[w]||0:(g=[T[w]],v=1);while((w++<C||g[0]!==void 0)&&S--)}return y[0]||y.shift(),f.e=c,Rn(f,o?i+sa(f)+1:i)}}();function dB(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(sa(e)>16)throw Error(fk+sa(e));if(!e.s)return new u(Oo);for(t==null?(us=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Wf(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(Oo),u.precision=l;;){if(a=Rn(a.times(e),l),r=r.times(++c),o=i.plus(Xd(a,r,l)),zc(o.d).slice(0,l)===zc(i.d).slice(0,l)){for(;d--;)i=Rn(i.times(i),l);return u.precision=h,t==null?(us=!0,Rn(i,h)):i}i=o}}function sa(e){for(var t=e.e*Jn,r=e.d[0];r>=10;r/=10)t++;return t}function L5(e,t,r){if(t>e.LN10.sd())throw us=!0,r&&(e.precision=r),Error(xl+"LN10 precision limit exceeded");return Rn(new e(e.LN10),t)}function hh(e){for(var t="";e--;)t+="0";return t}function Gy(e,t){var r,s,a,i,o,l,c,d,u,h=1,p=10,f=e,y=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(xl+(f.s?"NaN":"-Infinity"));if(f.eq(Oo))return new g(0);if(t==null?(us=!1,d=v):d=t,f.eq(10))return t==null&&(us=!0),L5(g,d);if(d+=p,g.precision=d,r=zc(y),s=r.charAt(0),i=sa(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(e),r=zc(f.d),s=r.charAt(0),h++;i=sa(f),s>1?(f=new g("0."+r),i++):f=new g(s+"."+r.slice(1))}else return c=L5(g,d+2,v).times(i+""),f=Gy(new g(s+"."+r.slice(1)),d-p).plus(c),g.precision=v,t==null?(us=!0,Rn(f,v)):f;for(l=o=f=Xd(f.minus(Oo),f.plus(Oo),d),u=Rn(f.times(f),d),a=3;;){if(o=Rn(o.times(u),d),c=l.plus(Xd(o,new g(a),d)),zc(c.d).slice(0,d)===zc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(L5(g,d+2,v).times(i+""))),l=Xd(l,new g(h),d),g.precision=v,t==null?(us=!0,Rn(l,v)):l;l=c,a+=2}}function eO(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=$x(r/Jn),e.d=[],s=(r+1)%Jn,r<0&&(s+=Jn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Jn;s<a;)e.d.push(+t.slice(s,s+=Jn));t=t.slice(s),s=Jn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),us&&(e.e>Ow||e.e<-Ow))throw Error(fk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rn(e,t,r){var s,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Jn,a=t,d=h[u=0];else{if(u=Math.ceil((s+1)/Jn),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=Jn,a=s-Jn+o}if(r!==void 0&&(i=Wf(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/Wf(10,o-a):0:h[u-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=sa(e),h.length=1,t=t-i-1,h[0]=Wf(10,(Jn-t%Jn)%Jn),e.e=$x(-t/Jn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=Wf(10,Jn-s),h[u]=a>0?(d/Wf(10,o-a)%Wf(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Ta&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=Ta)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(us&&(e.e>Ow||e.e<-Ow))throw Error(fk+sa(e));return e}function uB(e,t){var r,s,a,i,o,l,c,d,u,h,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),us?Rn(t,f):t;if(c=e.d,h=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(f/Jn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Ta-1;--c[i],c[a]+=Ta}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,us?Rn(t,f):t):new p(0)}function Mm(e,t,r){var s,a=sa(e),i=zc(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+hh(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+hh(-a-1)+i,r&&(s=r-o)>0&&(i+=hh(s))):a>=o?(i+=hh(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+hh(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=hh(s))),e.s<0?"-"+i:i}function tO(e,t){if(e.length>t)return e.length=t,!0}function hB(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eO(o,i.toString())}else if(typeof i!="string")throw Error(jm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Lbe.test(i))eO(o,i);else throw Error(jm+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=hB,a.config=a.set=Ibe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function Ibe(e){if(!e||typeof e!="object")throw Error(xl+"Object expected");var t,r,s,a=["precision",1,Rx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if($x(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(jm+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(jm+r+": "+s);return this}var mk=hB(Obe);Oo=new mk(1);const Cn=mk;function Mbe(e){return $be(e)||Rbe(e)||Fbe(e)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fbe(e,t){if(e){if(typeof e=="string")return e4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(e,t)}}function Rbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $be(e){if(Array.isArray(e))return e4(e)}function e4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Bbe=function(t){return t},fB={"@@functional/placeholder":!0},mB=function(t){return t===fB},rO=function(t){return function r(){return arguments.length===0||arguments.length===1&&mB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},zbe=function e(t,r){return t===1?r:rO(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==fB}).length;return o>=t?r.apply(void 0,a):e(t-o,rO(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return mB(h)?c.shift():h});return r.apply(void 0,Mbe(u).concat(c))}))})},Pj=function(t){return zbe(t.length,t)},t4=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},Ube=Pj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Vbe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return Bbe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},r4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},pB=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function qbe(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function Wbe(e,t,r){for(var s=new Cn(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var Hbe=Pj(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),Gbe=Pj(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),Kbe=Pj(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const Tj={rangeStep:Wbe,getDigitCount:qbe,interpolateNumber:Hbe,uninterpolateNumber:Gbe,uninterpolateTruncation:Kbe};function n4(e){return Xbe(e)||Zbe(e)||gB(e)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xbe(e){if(Array.isArray(e))return s4(e)}function Ky(e,t){return e1e(e)||Jbe(e,t)||gB(e,t)||Qbe()}function Qbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gB(e,t){if(e){if(typeof e=="string")return s4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s4(e,t)}}function s4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Jbe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function e1e(e){if(Array.isArray(e))return e}function xB(e){var t=Ky(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function yB(e,t,r){if(e.lte(0))return new Cn(0);var s=Tj.getDigitCount(e.toNumber()),a=new Cn(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Cn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Cn(Math.ceil(c))}function t1e(e,t,r){var s=1,a=new Cn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Cn(10).pow(Tj.getDigitCount(e)-1),a=new Cn(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Cn(Math.floor(e)))}else e===0?a=new Cn(Math.floor((t-1)/2)):r||(a=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),l=Vbe(Ube(function(c){return a.add(new Cn(c-o).mul(s)).toNumber()}),t4);return l(0,t)}function vB(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var i=yB(new Cn(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Cn(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?vB(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Cn(l).mul(i)),tickMax:o.add(new Cn(c).mul(i))})}function r1e(e){var t=Ky(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=xB([r,s]),c=Ky(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(n4(t4(0,a-1).map(function(){return 1/0}))):[].concat(n4(t4(0,a-1).map(function(){return-1/0})),[u]);return r>s?r4(h):h}if(d===u)return t1e(d,a,i);var p=vB(d,u,o,i),f=p.step,y=p.tickMin,g=p.tickMax,v=Tj.rangeStep(y,g.add(new Cn(.1).mul(f)),f);return r>s?r4(v):v}function n1e(e,t){var r=Ky(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xB([s,a]),l=Ky(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),h=yB(new Cn(d).sub(c).div(u-1),i,0),p=[].concat(n4(Tj.rangeStep(new Cn(c),new Cn(d).sub(new Cn(.99).mul(h)),h)),[d]);return s>a?r4(p):p}var s1e=pB(r1e),a1e=pB(n1e),i1e="Invariant failed";function Dm(e,t){throw new Error(i1e)}var o1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Lw.apply(this,arguments)}function l1e(e,t){return h1e(e)||u1e(e,t)||d1e(e,t)||c1e()}function c1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(e,t){if(e){if(typeof e=="string")return nO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function u1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h1e(e){if(Array.isArray(e))return e}function f1e(e,t){if(e==null)return{};var r=m1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function m1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function p1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jB(s.key),s)}}function x1e(e,t,r){return t&&g1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function y1e(e,t,r){return t=Iw(t),v1e(e,bB()?Reflect.construct(t,r||[],Iw(e).constructor):t.apply(e,r))}function v1e(e,t){if(t&&(Hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b1e(e)}function b1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bB=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(e)}function w1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a4(e,t)}function a4(e,t){return a4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},a4(e,t)}function wB(e,t,r){return t=jB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=j1e(e,"string");return Hg(t)=="symbol"?t:t+""}function j1e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qv=function(e){function t(){return p1e(this,t),y1e(this,t,arguments)}return w1e(t,e),x1e(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,p=f1e(s,o1e),f=Dt(p,!1);this.props.direction==="x"&&u.type!=="number"&&Dm();var y=c.map(function(g){var v=d(g,l),b=v.x,S=v.y,N=v.value,w=v.errorVal;if(!w)return null;var C=[],L,k;if(Array.isArray(w)){var A=l1e(w,2);L=A[0],k=A[1]}else L=k=w;if(i==="vertical"){var P=u.scale,B=S+a,T=B+o,I=B-o,M=P(N-L),D=P(N+k);C.push({x1:D,y1:T,x2:D,y2:I}),C.push({x1:M,y1:B,x2:D,y2:B}),C.push({x1:M,y1:T,x2:M,y2:I})}else if(i==="horizontal"){var V=h.scale,z=b+a,X=z-o,q=z+o,Y=V(N-L),ie=V(N+k);C.push({x1:X,y1:ie,x2:q,y2:ie}),C.push({x1:z,y1:Y,x2:z,y2:ie}),C.push({x1:X,y1:Y,x2:q,y2:Y})}return ve.createElement(Br,Lw({className:"recharts-errorBar",key:"bar-".concat(C.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},f),C.map(function(W){return ve.createElement("line",Lw({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ve.createElement(Br,{className:"recharts-errorBars"},y)}}])}(ve.Component);wB(qv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wB(qv,"displayName","ErrorBar");function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(s){N1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function N1e(e,t,r){return t=S1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=_1e(e,"string");return Yy(t)=="symbol"?t:t+""}function _1e(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NB=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Co(r,Rh);if(!o)return null;var l=Rh.defaultProps,c=l!==void 0?$f($f({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var p=h.item,f=h.props,y=f.sectors||f.data||[];return u.concat(y.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(s||[]).map(function(u){var h=u.item,p=h.type.defaultProps,f=p!==void 0?$f($f({},p),h.props):{},y=f.dataKey,g=f.name,v=f.legendType,b=f.hide;return{inactive:b,dataKey:y,type:c.iconType||v||"square",color:pk(h),value:g||y,payload:f}}),$f($f($f({},c),Rh.getWithHeight(o,a)),{},{payload:d,item:o})};function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function aO(e){return P1e(e)||C1e(e)||k1e(e)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k1e(e,t){if(e){if(typeof e=="string")return i4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(e,t)}}function C1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P1e(e){if(Array.isArray(e))return i4(e)}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(s){fg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fg(e,t,r){return t=T1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T1e(e){var t=E1e(e,"string");return Zy(t)=="symbol"?t:t+""}function E1e(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zs(e,t,r){return hr(e)||hr(t)?r:va(t)?Fo(e,t,r):Jt(t)?t(e):r}function dy(e,t,r,s){var a=Cbe(e,function(l){return zs(l,t)});if(r==="number"){var i=a.filter(function(l){return dt(l)||parseFloat(l)});return i.length?[Cj(i),Ch(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!hr(l)}):a;return o.map(function(l){return va(l)||l instanceof Date?l:""})}var O1e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,p=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(Ii(h-u)!==Ii(p-h)){var y=[];if(Ii(p-h)===Ii(c[1]-c[0])){f=p;var g=h+c[1]-c[0];y[0]=Math.min(g,(g+u)/2),y[1]=Math.max(g,(g+u)/2)}else{f=u;var v=p+c[1]-c[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=a[d].index;break}}else{var S=Math.min(u,p),N=Math.max(u,p);if(t>(S+h)/2&&t<=(N+h)/2){o=a[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(s[w].coordinate+s[w+1].coordinate)/2||w>0&&w<l-1&&t>(s[w].coordinate+s[w-1].coordinate)/2&&t<=(s[w].coordinate+s[w+1].coordinate)/2||w===l-1&&t>(s[w].coordinate+s[w-1].coordinate)/2){o=s[w].index;break}return o},pk=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},L1e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),p=0,f=h.length;p<f;p++){var y=u[h[p]],g=y.items,v=y.cateAxisId,b=g.filter(function(k){return Zd(k.type).indexOf("Bar")>=0});if(b&&b.length){var S=b[0].type.defaultProps,N=S!==void 0?Es(Es({},S),b[0].props):b[0].props,w=N.barSize,C=N[v];o[C]||(o[C]=[]);var L=hr(w)?r:w;o[C].push({item:b[0],stackList:b.slice(1),barSize:hr(L)?void 0:Mi(L,s,0)})}}return o},I1e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Mi(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=a/c,y=o.reduce(function(w,C){return w+C.barSize||0},0);y+=(c-1)*d,y>=a&&(y-=(c-1)*d,d=0),y>=a&&f>0&&(p=!0,f*=.9,y=c*f);var g=(a-y)/2>>0,v={offset:g-d,size:0};u=o.reduce(function(w,C){var L={item:C.item,position:{offset:v.offset+v.size+d,size:p?f:C.barSize}},k=[].concat(aO(w),[L]);return v=k[k.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:v})}),k},h)}else{var b=Mi(s,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var S=(a-2*b-(c-1)*d)/c;S>1&&(S>>=0);var N=l===+l?Math.min(S,l):S;u=o.reduce(function(w,C,L){var k=[].concat(aO(w),[{item:C.item,position:{offset:b+(S+d)*L+(S-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){k.push({item:A,position:k[k.length-1].position})}),k},h)}return u},M1e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=NB({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,p=u.height,f=d.align,y=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&f!=="center"&&dt(t[f]))return Es(Es({},t),{},fg({},f,t[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&y!=="middle"&&dt(t[y]))return Es(Es({},t),{},fg({},y,t[y]+(p||0)))}return t},D1e=function(t,r,s){return hr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},SB=function(t,r,s,a,i){var o=r.props.children,l=Ro(o,qv).filter(function(d){return D1e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=zs(u,s);if(hr(h))return d;var p=Array.isArray(h)?[Cj(h),Ch(h)]:[h,h],f=c.reduce(function(y,g){var v=zs(u,g,0),b=p[0]-Math.abs(Array.isArray(v)?v[0]:v),S=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},F1e=function(t,r,s,a,i){var o=r.map(function(l){return SB(t,l,s,i,a)}).filter(function(l){return!hr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_B=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&SB(t,c,d,a)||dy(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},AB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},kB=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Gd=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&l?.length>=2?Ii(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var p=i?i.indexOf(h):h;return{coordinate:a(p)+d,value:h,offset:d}});return u.filter(function(h){return!Ox(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:a(h)+d,value:h,index:p,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,p){return{coordinate:a(h)+d,value:i?i[h]:h,index:p,offset:d}})},I5=new WeakMap,e1=function(t,r){if(typeof r!="function")return t;I5.has(t)||I5.set(t,new WeakMap);var s=I5.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},CB=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Uy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Cw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:cy(),realScaleType:"point"}:i==="category"?{scale:Uy(),realScaleType:"band"}:{scale:Cw(),realScaleType:"linear"};if(Em(a)){var c="scale".concat(mj(a));return{scale:(JE[c]||cy)(),realScaleType:JE[c]?c:"point"}}return Jt(a)?{scale:a}:{scale:cy(),realScaleType:"point"}},oO=1e-4,PB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-oO,o=Math.max(a[0],a[1])+oO,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},R1e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},$1e=function(t,r){if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!dt(t[0])||t[0]<s)&&(i[0]=s),(!dt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},B1e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Ox(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},z1e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Ox(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},U1e={sign:B1e,expand:oce,none:Rg,silhouette:lce,wiggle:cce,positive:z1e},V1e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=U1e[s],o=ice().keys(a).value(function(l,c){return+zs(l,c,0)}).order(E_).offset(i);return o(t)},q1e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,p){var f,y=(f=p.type)!==null&&f!==void 0&&f.defaultProps?Es(Es({},p.type.defaultProps),p.props):p.props,g=y.stackId,v=y.hide;if(v)return h;var b=y[s],S=h[b]||{hasStack:!1,stackGroups:{}};if(va(g)){var N=S.stackGroups[g]||{numericAxisId:s,cateAxisId:a,items:[]};N.items.push(p),S.hasStack=!0,S.stackGroups[g]=N}else S.stackGroups[Xm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return Es(Es({},h),{},fg({},b,S))},c),u={};return Object.keys(d).reduce(function(h,p){var f=d[p];if(f.hasStack){var y={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,v){var b=f.stackGroups[v];return Es(Es({},g),{},fg({},v,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:V1e(t,b.items,i)}))},y)}return Es(Es({},h),{},fg({},p,f))},u)},TB=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=s1e(d,i,l);return t.domain([Cj(u),Ch(u)]),{niceTicks:u}}if(i&&a==="number"){var h=t.domain(),p=a1e(h,i,l);return{niceTicks:p}}return null};function Mw(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!hr(a[t.dataKey])){var l=ow(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=zs(a,hr(o)?t.dataKey:o);return hr(c)?null:t.scale(c)}var lO=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=zs(o,r.dataKey,r.domain[l]);return hr(c)?null:r.scale(c)-i/2+a},W1e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},H1e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(va(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},G1e=function(t){return t.reduce(function(r,s){return[Cj(s.concat([r[0]]).filter(dt)),Ch(s.concat([r[1]]).filter(dt))]},[1/0,-1/0])},EB=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=G1e(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},cO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o4=function(t,r,s){if(Jt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(dt(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(cO.test(t[0])){var i=+cO.exec(t[0])[1];a[0]=r[0]-i}else Jt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(dt(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(dO.test(t[1])){var o=+dO.exec(t[1])[1];a[1]=r[1]+o}else Jt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Dw=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=VA(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},uO=function(t,r,s){return!t||!t.length||Im(t,Fo(s,"type.defaultProps.domain"))?r:t},OB=function(t,r){var s=t.type.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Es(Es({},Dt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:pk(t),value:zs(r,a),type:c,payload:r,chartType:d,hide:u})};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(s){LB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LB(e,t,r){return t=K1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K1e(e){var t=Y1e(e,"string");return Xy(t)=="symbol"?t:t+""}function Y1e(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z1e(e,t){return ewe(e)||J1e(e,t)||Q1e(e,t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function J1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ewe(e){if(Array.isArray(e))return e}var Fw=Math.PI/180,twe=function(t){return t*180/Math.PI},Vn=function(t,r,s,a){return{x:t+Math.cos(-Fw*a)*s,y:r+Math.sin(-Fw*a)*s}},IB=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},rwe=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Mi(t.cx,o,o/2),h=Mi(t.cy,l,l/2),p=IB(o,l,s),f=Mi(t.innerRadius,p,0),y=Mi(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(v,b){var S=r[b],N=S.domain,w=S.reversed,C;if(hr(S.range))a==="angleAxis"?C=[c,d]:a==="radiusAxis"&&(C=[f,y]),w&&(C=[C[1],C[0]]);else{C=S.range;var L=C,k=Z1e(L,2);c=k[0],d=k[1]}var A=CB(S,i),P=A.realScaleType,B=A.scale;B.domain(N).range(C),PB(B);var T=TB(B,Rd(Rd({},S),{},{realScaleType:P})),I=Rd(Rd(Rd({},S),T),{},{range:C,radius:y,realScaleType:P,scale:B,cx:u,cy:h,innerRadius:f,outerRadius:y,startAngle:c,endAngle:d});return Rd(Rd({},v),{},LB({},b,I))},{})},nwe=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},swe=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=nwe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:twe(d),angleInRadian:d}},awe=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},iwe=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},mO=function(t,r){var s=t.x,a=t.y,i=swe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=awe(r),h=u.startAngle,p=u.endAngle,f=l,y;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;y=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;y=f>=p&&f<=h}return y?Rd(Rd({},r),{},{radius:o,angle:iwe(f,r)}):null},MB=function(t){return!_.isValidElement(t)&&!Jt(t)&&typeof t!="boolean"?t.className:""};function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}var owe=["offset"];function lwe(e){return hwe(e)||uwe(e)||dwe(e)||cwe()}function cwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dwe(e,t){if(e){if(typeof e=="string")return l4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l4(e,t)}}function uwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hwe(e){if(Array.isArray(e))return l4(e)}function l4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function fwe(e,t){if(e==null)return{};var r=mwe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mwe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(s){pwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pwe(e,t,r){return t=gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gwe(e){var t=xwe(e,"string");return Qy(t)=="symbol"?t:t+""}function xwe(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jy.apply(this,arguments)}var ywe=function(t){var r=t.value,s=t.formatter,a=hr(t.children)?r:t.children;return Jt(s)?s(a):a},vwe=function(t,r){var s=Ii(r-t),a=Math.min(Math.abs(r-t),360);return s*a},bwe=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,p=c.outerRadius,f=c.startAngle,y=c.endAngle,g=c.clockWise,v=(h+p)/2,b=vwe(f,y),S=b>=0?1:-1,N,w;a==="insideStart"?(N=f+S*o,w=g):a==="insideEnd"?(N=y-S*o,w=!g):a==="end"&&(N=y+S*o,w=g),w=b<=0?w:!w;var C=Vn(d,u,v,N),L=Vn(d,u,v,N+(w?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(L.x,",").concat(L.y),A=hr(t.id)?Xm("recharts-radial-line-"):t.id;return ve.createElement("text",Jy({},s,{dominantBaseline:"central",className:gr("recharts-radial-bar-label",l)}),ve.createElement("defs",null,ve.createElement("path",{id:A,d:k})),ve.createElement("textPath",{xlinkHref:"#".concat(A)},r))},wwe=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,p=(u+h)/2;if(a==="outside"){var f=Vn(o,l,d+s,p),y=f.x,g=f.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,b=Vn(o,l,v,p),S=b.x,N=b.y;return{x:S,y:N,textAnchor:"middle",verticalAnchor:"middle"}},jwe=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,p=h*a,f=h>0?"end":"start",y=h>0?"start":"end",g=d>=0?1:-1,v=g*a,b=g>0?"end":"start",S=g>0?"start":"end";if(i==="top"){var N={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return pa(pa({},N),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var w={x:l+d/2,y:c+u+p,textAnchor:"middle",verticalAnchor:y};return pa(pa({},w),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return pa(pa({},C),s?{width:Math.max(C.x-s.x,0),height:u}:{})}if(i==="right"){var L={x:l+d+v,y:c+u/2,textAnchor:S,verticalAnchor:"middle"};return pa(pa({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:u}:{})}var k=s?{width:d,height:u}:{};return i==="insideLeft"?pa({x:l+v,y:c+u/2,textAnchor:S,verticalAnchor:"middle"},k):i==="insideRight"?pa({x:l+d-v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?pa({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:y},k):i==="insideBottom"?pa({x:l+d/2,y:c+u-p,textAnchor:"middle",verticalAnchor:f},k):i==="insideTopLeft"?pa({x:l+v,y:c+p,textAnchor:S,verticalAnchor:y},k):i==="insideTopRight"?pa({x:l+d-v,y:c+p,textAnchor:b,verticalAnchor:y},k):i==="insideBottomLeft"?pa({x:l+v,y:c+u-p,textAnchor:S,verticalAnchor:f},k):i==="insideBottomRight"?pa({x:l+d-v,y:c+u-p,textAnchor:b,verticalAnchor:f},k):Cx(i)&&(dt(i.x)||rm(i.x))&&(dt(i.y)||rm(i.y))?pa({x:l+Mi(i.x,d),y:c+Mi(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):pa({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Nwe=function(t){return"cx"in t&&dt(t.cx)};function Ma(e){var t=e.offset,r=t===void 0?5:t,s=fwe(e,owe),a=pa({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,p=a.textBreakAll;if(!i||hr(l)&&hr(c)&&!_.isValidElement(d)&&!Jt(d))return null;if(_.isValidElement(d))return _.cloneElement(d,a);var f;if(Jt(d)){if(f=_.createElement(d,a),_.isValidElement(f))return f}else f=ywe(a);var y=Nwe(i),g=Dt(a,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bwe(a,f,g);var v=y?wwe(a):jwe(a);return ve.createElement(Lm,Jy({className:gr("recharts-label",h)},g,v,{breakAll:p}),f)}Ma.displayName="Label";var DB=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,p=t.y,f=t.top,y=t.left,g=t.width,v=t.height,b=t.clockWise,S=t.labelViewBox;if(S)return S;if(dt(g)&&dt(v)){if(dt(h)&&dt(p))return{x:h,y:p,width:g,height:v};if(dt(f)&&dt(y))return{x:f,y,width:g,height:v}}return dt(h)&&dt(p)?{x:h,y:p,width:0,height:0}:dt(r)&&dt(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Swe=function(t,r){return t?t===!0?ve.createElement(Ma,{key:"label-implicit",viewBox:r}):va(t)?ve.createElement(Ma,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===Ma?_.cloneElement(t,{key:"label-implicit",viewBox:r}):ve.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):Jt(t)?ve.createElement(Ma,{key:"label-implicit",content:t,viewBox:r}):Cx(t)?ve.createElement(Ma,Jy({viewBox:r},t,{key:"label-implicit"})):null:null},_we=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=DB(t),o=Ro(a,Ma).map(function(c,d){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=Swe(t.label,r||i);return[l].concat(lwe(o))};Ma.parseViewBox=DB;Ma.renderCallByParent=_we;function Awe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var kwe=Awe;const Cwe=hn(kwe);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var Pwe=["valueAccessor"],Twe=["data","dataKey","clockWise","id","textBreakAll"];function Ewe(e){return Mwe(e)||Iwe(e)||Lwe(e)||Owe()}function Owe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lwe(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function Iwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mwe(e){if(Array.isArray(e))return c4(e)}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rw.apply(this,arguments)}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(s){Dwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dwe(e,t,r){return t=Fwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fwe(e){var t=Rwe(e,"string");return ev(t)=="symbol"?t:t+""}function Rwe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ev(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yO(e,t){if(e==null)return{};var r=$we(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $we(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Bwe=function(t){return Array.isArray(t.value)?Cwe(t.value):t.value};function Yc(e){var t=e.valueAccessor,r=t===void 0?Bwe:t,s=yO(e,Pwe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=yO(s,Twe);return!a||!a.length?null:ve.createElement(Br,{className:"recharts-label-list"},a.map(function(u,h){var p=hr(i)?r(u,h):zs(u&&u.payload,i),f=hr(l)?{}:{id:"".concat(l,"-").concat(h)};return ve.createElement(Ma,Rw({},Dt(u,!0),d,f,{parentViewBox:u.parentViewBox,value:p,textBreakAll:c,viewBox:Ma.parseViewBox(hr(o)?u:xO(xO({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Yc.displayName="LabelList";function zwe(e,t){return e?e===!0?ve.createElement(Yc,{key:"labelList-implicit",data:t}):ve.isValidElement(e)||Jt(e)?ve.createElement(Yc,{key:"labelList-implicit",data:t,content:e}):Cx(e)?ve.createElement(Yc,Rw({data:t},e,{key:"labelList-implicit"})):null:null}function Uwe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Ro(s,Yc).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=zwe(e.label,t);return[i].concat(Ewe(a))}Yc.renderCallByParent=Uwe;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function d4(){return d4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},d4.apply(this,arguments)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(s){Vwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Vwe(e,t,r){return t=qwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qwe(e){var t=Wwe(e,"string");return tv(t)=="symbol"?t:t+""}function Wwe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hwe=function(t,r){var s=Ii(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},t1=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/Fw,p=d?i:i+o*h,f=Vn(r,s,u,p),y=Vn(r,s,a,p),g=d?i-o*h:i,v=Vn(r,s,u*Math.cos(h*Fw),g);return{center:f,circleTangency:y,lineTangency:v,theta:h}},FB=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Hwe(o,l),d=o+c,u=Vn(r,s,i,o),h=Vn(r,s,i,d),p="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Vn(r,s,a,o),y=Vn(r,s,a,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(s," Z");return p},Gwe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=Ii(u-d),p=t1({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,y=p.lineTangency,g=p.theta,v=t1({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,S=v.lineTangency,N=v.theta,w=c?Math.abs(d-u):Math.abs(d-u)-g-N;if(w<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):FB({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var L=t1({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=L.circleTangency,A=L.lineTangency,P=L.theta,B=t1({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=B.circleTangency,I=B.lineTangency,M=B.theta,D=c?Math.abs(d-u):Math.abs(d-u)-P-M;if(D<0&&o===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},Kwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RB=function(t){var r=bO(bO({},Kwe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,p=r.className;if(o<i||u===h)return null;var f=gr("recharts-sector",p),y=o-i,g=Mi(l,y,0,!0),v;return g>0&&Math.abs(u-h)<360?v=Gwe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):v=FB({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ve.createElement("path",d4({},Dt(r,!0),{className:f,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},u4.apply(this,arguments)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(s){Ywe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ywe(e,t,r){return t=Zwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zwe(e){var t=Xwe(e,"string");return rv(t)=="symbol"?t:t+""}function Xwe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NO={curveBasisClosed:Yle,curveBasisOpen:Zle,curveBasis:Kle,curveBumpX:Ile,curveBumpY:Mle,curveLinearClosed:Xle,curveLinear:gj,curveMonotoneX:Qle,curveMonotoneY:Jle,curveNatural:ece,curveStep:tce,curveStepAfter:nce,curveStepBefore:rce},r1=function(t){return t.x===+t.x&&t.y===+t.y},D0=function(t){return t.x},F0=function(t){return t.y},Qwe=function(t,r){if(Jt(t))return t;var s="curve".concat(mj(t));return(s==="curveMonotone"||s==="curveBump")&&r?NO["".concat(s).concat(r==="vertical"?"Y":"X")]:NO[s]||gj},Jwe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Qwe(s,l),h=d?i.filter(function(g){return r1(g)}):i,p;if(Array.isArray(o)){var f=d?o.filter(function(g){return r1(g)}):o,y=h.map(function(g,v){return jO(jO({},g),{},{base:f[v]})});return l==="vertical"?p=Hb().y(F0).x1(D0).x0(function(g){return g.base.x}):p=Hb().x(D0).y1(F0).y0(function(g){return g.base.y}),p.defined(r1).curve(u),p(y)}return l==="vertical"&&dt(o)?p=Hb().y(F0).x1(D0).x0(o):dt(o)?p=Hb().x(D0).y1(F0).y0(o):p=O9().x(D0).y(F0),p.defined(r1).curve(u),p(h)},Nm=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Jwe(t):a;return _.createElement("path",u4({},Dt(t,!1),lw(t),{className:gr("recharts-curve",r),d:o,ref:i}))},e2e=Object.getOwnPropertyNames,t2e=Object.getOwnPropertySymbols,r2e=Object.prototype.hasOwnProperty;function SO(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function n1(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function _O(e){return e2e(e).concat(t2e(e))}var n2e=Object.hasOwn||function(e,t){return r2e.call(e,t)};function ep(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var s2e="__v",a2e="__o",i2e="_owner",AO=Object.getOwnPropertyDescriptor,kO=Object.keys;function o2e(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function l2e(e,t){return ep(e.getTime(),t.getTime())}function c2e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function d2e(e,t){return e===t}function CO(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var p=o.value,f=l.value;if(r.equals(p[0],f[0],c,h,e,t,r)&&r.equals(p[1],f[1],p[0],f[0],e,t,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var u2e=ep;function h2e(e,t,r){var s=kO(e),a=s.length;if(kO(t).length!==a)return!1;for(;a-- >0;)if(!$B(e,t,r,s[a]))return!1;return!0}function R0(e,t,r){var s=_O(e),a=s.length;if(_O(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!$B(e,t,r,i)||(o=AO(e,i),l=AO(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function f2e(e,t){return ep(e.valueOf(),t.valueOf())}function m2e(e,t){return e.source===t.source&&e.flags===t.flags}function PO(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function p2e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function g2e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $B(e,t,r,s){return(s===i2e||s===a2e||s===s2e)&&(e.$$typeof||t.$$typeof)?!0:n2e(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var x2e="[object Arguments]",y2e="[object Boolean]",v2e="[object Date]",b2e="[object Error]",w2e="[object Map]",j2e="[object Number]",N2e="[object Object]",S2e="[object RegExp]",_2e="[object Set]",A2e="[object String]",k2e="[object URL]",C2e=Array.isArray,TO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,EO=Object.assign,P2e=Object.prototype.toString.call.bind(Object.prototype.toString);function T2e(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(y,g,v){if(y===g)return!0;if(y==null||g==null)return!1;var b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(y,g,v):b==="function"?a(y,g,v):!1;var S=y.constructor;if(S!==g.constructor)return!1;if(S===Object)return l(y,g,v);if(C2e(y))return t(y,g,v);if(TO!=null&&TO(y))return h(y,g,v);if(S===Date)return r(y,g,v);if(S===RegExp)return d(y,g,v);if(S===Map)return i(y,g,v);if(S===Set)return u(y,g,v);var N=P2e(y);return N===v2e?r(y,g,v):N===S2e?d(y,g,v):N===w2e?i(y,g,v):N===_2e?u(y,g,v):N===N2e?typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,v):N===k2e?p(y,g,v):N===b2e?s(y,g,v):N===x2e?l(y,g,v):N===y2e||N===j2e||N===A2e?c(y,g,v):!1}}function E2e(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?R0:o2e,areDatesEqual:l2e,areErrorsEqual:c2e,areFunctionsEqual:d2e,areMapsEqual:s?SO(CO,R0):CO,areNumbersEqual:u2e,areObjectsEqual:s?R0:h2e,arePrimitiveWrappersEqual:f2e,areRegExpsEqual:m2e,areSetsEqual:s?SO(PO,R0):PO,areTypedArraysEqual:s?R0:p2e,areUrlsEqual:g2e};if(r&&(a=EO({},a,r(a))),t){var i=n1(a.areArraysEqual),o=n1(a.areMapsEqual),l=n1(a.areObjectsEqual),c=n1(a.areSetsEqual);a=EO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function O2e(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function L2e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),h=u.cache,p=h===void 0?t?new WeakMap:void 0:h,f=u.meta;return r(c,d,{cache:p,equals:a,meta:f,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var I2e=sf();sf({strict:!0});sf({circular:!0});sf({circular:!0,strict:!0});sf({createInternalComparator:function(){return ep}});sf({strict:!0,createInternalComparator:function(){return ep}});sf({circular:!0,createInternalComparator:function(){return ep}});sf({circular:!0,createInternalComparator:function(){return ep},strict:!0});function sf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=E2e(e),c=T2e(l),d=s?s(c):O2e(c);return L2e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function M2e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):M2e(a)};requestAnimationFrame(s)}function h4(e){"@babel/helpers - typeof";return h4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h4(e)}function D2e(e){return B2e(e)||$2e(e)||R2e(e)||F2e()}function F2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R2e(e,t){if(e){if(typeof e=="string")return LO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(e,t)}}function LO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function $2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B2e(e){if(Array.isArray(e))return e}function z2e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=D2e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){OO(a.bind(null,d),c);return}a(c),OO(a.bind(null,d));return}h4(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function MO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(s){BB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function BB(e,t,r){return t=U2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=V2e(e,"string");return nv(t)==="symbol"?t:String(t)}function V2e(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nv(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q2e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},W2e=function(t){return t},H2e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uy=function(t,r){return Object.keys(r).reduce(function(s,a){return MO(MO({},s),{},BB({},a,t(a,r[a])))},{})},DO=function(t,r,s){return t.map(function(a){return"".concat(H2e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function G2e(e,t){return Z2e(e)||Y2e(e,t)||zB(e,t)||K2e()}function K2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Z2e(e){if(Array.isArray(e))return e}function X2e(e){return eje(e)||J2e(e)||zB(e)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zB(e,t){if(e){if(typeof e=="string")return f4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f4(e,t)}}function J2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eje(e){if(Array.isArray(e))return f4(e)}function f4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var $w=1e-4,UB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VB=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},FO=function(t,r){return function(s){var a=UB(t,r);return VB(a,s)}},tje=function(t,r){return function(s){var a=UB(t,r),i=[].concat(X2e(a.map(function(o,l){return o*l}).slice(1)),[0]);return VB(i,s)}},RO=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=G2e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=FO(a,o),p=FO(i,l),f=tje(a,o),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var S=b>1?1:b,N=S,w=0;w<8;++w){var C=h(N)-S,L=f(N);if(Math.abs(C-S)<$w||L<$w)return p(N);N=y(N-C/L)}return p(N)};return g.isStepper=!1,g},rje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,h,p){var f=-(u-h)*s,y=p*i,g=p+(f-y)*l/1e3,v=p*l/1e3+u;return Math.abs(v-h)<$w&&Math.abs(g)<$w?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},nje=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RO(a);case"spring":return rje();default:if(a.split("(")[0]==="cubic-bezier")return RO(a)}return typeof a=="function"?a:null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function $O(e){return ije(e)||aje(e)||qB(e)||sje()}function sje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ije(e){if(Array.isArray(e))return p4(e)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(s){m4(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function m4(e,t,r){return t=oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(e){var t=lje(e,"string");return sv(t)==="symbol"?t:String(t)}function lje(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sv(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cje(e,t){return hje(e)||uje(e,t)||qB(e,t)||dje()}function dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qB(e,t){if(e){if(typeof e=="string")return p4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p4(e,t)}}function p4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function uje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function hje(e){if(Array.isArray(e))return e}var Bw=function(t,r,s){return t+(r-t)*s},g4=function(t){var r=t.from,s=t.to;return r!==s},fje=function e(t,r,s){var a=uy(function(i,o){if(g4(o)){var l=t(o.from,o.to,o.velocity),c=cje(l,2),d=c[0],u=c[1];return Ua(Ua({},o),{},{from:d,velocity:u})}return o},r);return s<1?uy(function(i,o){return g4(o)?Ua(Ua({},o),{},{velocity:Bw(o.velocity,a[i].velocity,s),from:Bw(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const mje=function(e,t,r,s,a){var i=q2e(e,t),o=i.reduce(function(v,b){return Ua(Ua({},v),{},m4({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return Ua(Ua({},v),{},m4({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,h=function(){return null},p=function(){return uy(function(b,S){return S.from},l)},f=function(){return!Object.values(l).filter(g4).length},y=function(b){d||(d=b);var S=b-d,N=S/r.dt;l=fje(r,l,N),a(Ua(Ua(Ua({},e),t),p())),d=b,f()||(c=requestAnimationFrame(h))},g=function(b){u||(u=b);var S=(b-u)/s,N=uy(function(C,L){return Bw.apply(void 0,$O(L).concat([r(S)]))},o);if(a(Ua(Ua(Ua({},e),t),N)),S<1)c=requestAnimationFrame(h);else{var w=uy(function(C,L){return Bw.apply(void 0,$O(L).concat([r(1)]))},o);a(Ua(Ua(Ua({},e),t),w))}};return h=r.isStepper?y:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var pje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gje(e,t){if(e==null)return{};var r=xje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function xje(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function M5(e){return wje(e)||bje(e)||vje(e)||yje()}function yje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return x4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x4(e,t)}}function bje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wje(e){if(Array.isArray(e))return x4(e)}function x4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(s){ey(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ey(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nje(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WB(s.key),s)}}function Sje(e,t,r){return t&&Nje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WB(e){var t=_je(e,"string");return Gg(t)==="symbol"?t:String(t)}function _je(e,t){if(Gg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y4(e,t)}function y4(e,t){return y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},y4(e,t)}function kje(e){var t=Cje();return function(){var s=zw(e),a;if(t){var i=zw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return v4(this,a)}}function v4(e,t){if(t&&(Gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b4(e)}function b4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zw(e){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(e)}var ac=function(e){Aje(r,e);var t=kje(r);function r(s,a){var i;jje(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,p=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(b4(i)),i.changeStyle=i.changeStyle.bind(b4(i)),!l||f<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:u}),v4(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof p=="function")return i.state={style:d},v4(i);i.state={style:c?ey({},c,d):d}}else i.state={style:{}};return i}return Sje(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,p=this.state.style;if(l){if(!o){var f={style:c?ey({},c,u):u};this.state&&p&&(c&&p[c]!==u||!c&&p!==u)&&this.setState(f);return}if(!(I2e(a.to,u)&&a.canBegin&&a.isActive)){var y=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||d?h:a.to;if(this.state&&p){var v={style:c?ey({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(v)}this.runAnimation(zl(zl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,p=a.onAnimationStart,f=mje(o,l,nje(d),c,this.changeStyle),y=function(){i.stopJSAnimation=f()};this.manager.start([p,u,y,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,p=h===void 0?0:h,f=function(g,v,b){if(b===0)return g;var S=v.duration,N=v.easing,w=N===void 0?"ease":N,C=v.style,L=v.properties,k=v.onAnimationEnd,A=b>0?o[b-1]:v,P=L||Object.keys(C);if(typeof w=="function"||w==="spring")return[].concat(M5(g),[i.runJSAnimation.bind(i,{from:A.style,to:C,duration:S,easing:w}),S]);var B=DO(P,S,w),T=zl(zl(zl({},A.style),C),{},{transition:B});return[].concat(M5(g),[T,S,k]).filter(W2e)};return this.manager.start([c].concat(M5(o.reduce(f,[u,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=z2e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,p=a.steps,f=a.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=l?ey({},l,c):c,v=DO(Object.keys(g),o,d);y.start([u,i,zl(zl({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=gje(a,pje),d=_.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var y=f.props,g=y.style,v=g===void 0?{}:g,b=y.className,S=_.cloneElement(f,zl(zl({},c),{},{style:zl(zl({},v),u),className:b}));return S};return d===1?h(_.Children.only(i)):ve.createElement("div",null,_.Children.map(i,function(p){return h(p)}))}}]),r}(_.PureComponent);ac.displayName="Animate";ac.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ac.propTypes={from:xt.oneOfType([xt.object,xt.string]),to:xt.oneOfType([xt.object,xt.string]),attributeName:xt.string,duration:xt.number,begin:xt.number,easing:xt.oneOfType([xt.string,xt.func]),steps:xt.arrayOf(xt.shape({duration:xt.number.isRequired,style:xt.object.isRequired,easing:xt.oneOfType([xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xt.func]),properties:xt.arrayOf("string"),onAnimationEnd:xt.func})),children:xt.oneOfType([xt.node,xt.func]),isActive:xt.bool,canBegin:xt.bool,onAnimationEnd:xt.func,shouldReAnimate:xt.bool,onAnimationStart:xt.func,onAnimationReStart:xt.func};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Uw.apply(this,arguments)}function Pje(e,t){return Lje(e)||Oje(e,t)||Eje(e,t)||Tje()}function Tje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eje(e,t){if(e){if(typeof e=="string")return UO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(e,t)}}function UO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Oje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Lje(e){if(Array.isArray(e))return e}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(s){Ije(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ije(e,t,r){return t=Mje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mje(e){var t=Dje(e,"string");return av(t)=="symbol"?t:t+""}function Dje(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(av(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WO=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=i[p]>o?o:i[p];u="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(r)),u+="L ".concat(t+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*h[1])),u+="L ".concat(t+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+s-c*h[2],",").concat(r+a)),u+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);u="M ".concat(t,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+s-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*y,`
            L `).concat(t+s,",").concat(r+a-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t+s-c*y,",").concat(r+a,`
            L `).concat(t+c*y,",").concat(r+a,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*y," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Fje=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=p}return!1},Rje={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gk=function(t){var r=qO(qO({},Rje),t),s=_.useRef(),a=_.useState(-1),i=Pje(a,2),o=i[0],l=i[1];_.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,p=r.radius,f=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var N=gr("recharts-rectangle",f);return S?ve.createElement(ac,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:y,isActive:S},function(w){var C=w.width,L=w.height,k=w.x,A=w.y;return ve.createElement(ac,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},ve.createElement("path",Uw({},Dt(r,!0),{className:N,d:WO(k,A,C,L,p),ref:s})))}):ve.createElement("path",Uw({},Dt(r,!0),{className:N,d:WO(c,d,u,h,p)}))},$je=["points","className","baseLinePoints","connectNulls"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zp.apply(this,arguments)}function Bje(e,t){if(e==null)return{};var r=zje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zje(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function HO(e){return Wje(e)||qje(e)||Vje(e)||Uje()}function Uje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vje(e,t){if(e){if(typeof e=="string")return w4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w4(e,t)}}function qje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wje(e){if(Array.isArray(e))return w4(e)}function w4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var GO=function(t){return t&&t.x===+t.x&&t.y===+t.y},Hje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){GO(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),GO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hy=function(t,r){var s=Hje(t);r&&(s=[s.reduce(function(i,o){return[].concat(HO(i),HO(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Gje=function(t,r,s){var a=hy(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(hy(r.reverse(),s).slice(1))},Kje=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=Bje(t,$je);if(!r||!r.length)return null;var l=gr("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=Gje(r,a,i);return ve.createElement("g",{className:l},ve.createElement("path",Zp({},Dt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ve.createElement("path",Zp({},Dt(o,!0),{fill:"none",d:hy(r,i)})):null,c?ve.createElement("path",Zp({},Dt(o,!0),{fill:"none",d:hy(a,i)})):null)}var u=hy(r,i);return ve.createElement("path",Zp({},Dt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function j4(){return j4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},j4.apply(this,arguments)}var Wv=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=gr("recharts-dot",i);return r===+r&&s===+s&&a===+a?_.createElement("circle",j4({},Dt(t,!1),lw(t),{className:o,cx:r,cy:s,r:a})):null};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var Yje=["x","y","top","left","width","height","className"];function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},N4.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(s){Xje(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Xje(e,t,r){return t=Qje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qje(e){var t=Jje(e,"string");return iv(t)=="symbol"?t:t+""}function Jje(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(iv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eNe(e,t){if(e==null)return{};var r=tNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tNe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var rNe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},nNe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,p=t.height,f=p===void 0?0:p,y=t.className,g=eNe(t,Yje),v=Zje({x:s,y:i,top:l,left:d,width:h,height:f},g);return!dt(s)||!dt(i)||!dt(h)||!dt(f)||!dt(l)||!dt(d)?null:ve.createElement("path",N4({},Dt(v,!0),{className:gr("recharts-cross",y),d:rNe(s,i,h,f,l,d)}))},sNe=kj,aNe=iB,iNe=ld;function oNe(e,t){return e&&e.length?sNe(e,iNe(t),aNe):void 0}var lNe=oNe;const cNe=hn(lNe);var dNe=kj,uNe=ld,hNe=oB;function fNe(e,t){return e&&e.length?dNe(e,uNe(t),hNe):void 0}var mNe=fNe;const pNe=hn(mNe);var gNe=["cx","cy","angle","ticks","axisLine"],xNe=["ticks","tick","angle","tickFormatter","stroke"];function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fy.apply(this,arguments)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(s){Ej(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZO(e,t){if(e==null)return{};var r=yNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yNe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function vNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GB(s.key),s)}}function bNe(e,t,r){return t&&XO(e.prototype,t),r&&XO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wNe(e,t,r){return t=Vw(t),jNe(e,HB()?Reflect.construct(t,r||[],Vw(e).constructor):t.apply(e,r))}function jNe(e,t){if(t&&(Kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NNe(e)}function NNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(e)}function SNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S4(e,t)}function S4(e,t){return S4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},S4(e,t)}function Ej(e,t,r){return t=GB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=_Ne(e,"string");return Kg(t)=="symbol"?t:t+""}function _Ne(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oj=function(e){function t(){return vNe(this,t),wNe(this,t,arguments)}return SNe(t,e),bNe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Vn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=cNe(l,function(u){return u.coordinate||0}),d=pNe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=ZO(s,gNe),u=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),h=Vn(a,i,u[0],o),p=Vn(a,i,u[1],o),f=Bf(Bf(Bf({},Dt(d,!1)),{},{fill:"none"},Dt(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ve.createElement("line",fy({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=ZO(a,xNe),h=this.getTickTextAnchor(),p=Dt(u,!1),f=Dt(o,!1),y=i.map(function(g,v){var b=s.getTickValueCoord(g),S=Bf(Bf(Bf(Bf({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:d},f),{},{index:v},b),{},{payload:g});return ve.createElement(Br,fy({className:gr("recharts-polar-radius-axis-tick",MB(o)),key:"tick-".concat(g.coordinate)},Om(s.props,g,v)),t.renderTickItem(o,S,c?c(g.value,v):g.value))});return ve.createElement(Br,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:ve.createElement(Br,{className:gr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ma.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ve.isValidElement(s)?o=ve.cloneElement(s,a):Jt(s)?o=s(a):o=ve.createElement(Lm,fy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(_.PureComponent);Ej(Oj,"displayName","PolarRadiusAxis");Ej(Oj,"axisType","radiusAxis");Ej(Oj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qf.apply(this,arguments)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(s){Lj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ANe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YB(s.key),s)}}function kNe(e,t,r){return t&&JO(e.prototype,t),r&&JO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CNe(e,t,r){return t=qw(t),PNe(e,KB()?Reflect.construct(t,r||[],qw(e).constructor):t.apply(e,r))}function PNe(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TNe(e)}function TNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!e})()}function qw(e){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(e)}function ENe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_4(e,t)}function Lj(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=ONe(e,"string");return Yg(t)=="symbol"?t:t+""}function ONe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LNe=Math.PI/180,e8=1e-5,Ij=function(e){function t(){return ANe(this,t),CNe(this,t,arguments)}return ENe(t,e),kNe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Vn(i,o,l,s.coordinate),p=Vn(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*LNe),o;return i>e8?o=a==="outer"?"start":"end":i<-e8?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=zf(zf({},Dt(this.props,!1)),{},{fill:"none"},Dt(l,!1));if(c==="circle")return ve.createElement(Wv,Qf({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(p){return Vn(a,i,o,p.coordinate)});return ve.createElement(Kje,Qf({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Dt(this.props,!1),h=Dt(o,!1),p=zf(zf({},u),{},{fill:"none"},Dt(l,!1)),f=i.map(function(y,g){var v=s.getTickLineCoord(y),b=s.getTickTextAnchor(y),S=zf(zf(zf({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:y,x:v.x2,y:v.y2});return ve.createElement(Br,Qf({className:gr("recharts-polar-angle-axis-tick",MB(o)),key:"tick-".concat(y.coordinate)},Om(s.props,y,g)),l&&ve.createElement("line",Qf({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&t.renderTickItem(o,S,c?c(y.value,g):y.value))});return ve.createElement(Br,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:ve.createElement(Br,{className:gr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ve.isValidElement(s)?o=ve.cloneElement(s,a):Jt(s)?o=s(a):o=ve.createElement(Lm,Qf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(_.PureComponent);Lj(Ij,"displayName","PolarAngleAxis");Lj(Ij,"axisType","angleAxis");Lj(Ij,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var INe=r$,MNe=INe(Object.getPrototypeOf,Object),DNe=MNe,FNe=uu,RNe=DNe,$Ne=hu,BNe="[object Object]",zNe=Function.prototype,UNe=Object.prototype,ZB=zNe.toString,VNe=UNe.hasOwnProperty,qNe=ZB.call(Object);function WNe(e){if(!$Ne(e)||FNe(e)!=BNe)return!1;var t=RNe(e);if(t===null)return!0;var r=VNe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZB.call(r)==qNe}var HNe=WNe;const GNe=hn(HNe);var KNe=uu,YNe=hu,ZNe="[object Boolean]";function XNe(e){return e===!0||e===!1||YNe(e)&&KNe(e)==ZNe}var QNe=XNe;const JNe=hn(QNe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ww.apply(this,arguments)}function e5e(e,t){return s5e(e)||n5e(e,t)||r5e(e,t)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(e,t){if(e){if(typeof e=="string")return t8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t8(e,t)}}function t8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function n5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function s5e(e){if(Array.isArray(e))return e}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function n8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(s){a5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function a5e(e,t,r){return t=i5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5e(e){var t=o5e(e,"string");return ov(t)=="symbol"?t:t+""}function o5e(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ov(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},l5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c5e=function(t){var r=n8(n8({},l5e),t),s=_.useRef(),a=_.useState(-1),i=e5e(a,2),o=i[0],l=i[1];_.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,y=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||p!==+p||u===0&&h===0||p===0)return null;var S=gr("recharts-trapezoid",f);return b?ve.createElement(ac,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:p,x:c,y:d},duration:g,animationEasing:y,isActive:b},function(N){var w=N.upperWidth,C=N.lowerWidth,L=N.height,k=N.x,A=N.y;return ve.createElement(ac,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},ve.createElement("path",Ww({},Dt(r,!0),{className:S,d:s8(k,A,w,C,L),ref:s})))}):ve.createElement("g",null,ve.createElement("path",Ww({},Dt(r,!0),{className:S,d:s8(c,d,u,h,p)})))},d5e=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function u5e(e,t){if(e==null)return{};var r=h5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function h5e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(s){f5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function f5e(e,t,r){return t=m5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5e(e){var t=p5e(e,"string");return lv(t)=="symbol"?t:t+""}function p5e(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g5e(e,t){return Hw(Hw({},t),e)}function x5e(e,t){return e==="symbols"}function i8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ve.createElement(gk,r);case"trapezoid":return ve.createElement(c5e,r);case"sector":return ve.createElement(RB,r);case"symbols":if(x5e(t))return ve.createElement(MA,r);break;default:return null}}function y5e(e){return _.isValidElement(e)?e.props:e}function XB(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?g5e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=u5e(e,d5e),d;if(_.isValidElement(t))d=_.cloneElement(t,Hw(Hw({},c),y5e(t)));else if(Jt(t))d=t(c);else if(GNe(t)&&!JNe(t)){var u=a(t,c);d=ve.createElement(i8,{shapeType:r,elementProps:u})}else{var h=c;d=ve.createElement(i8,{shapeType:r,elementProps:h})}return l?ve.createElement(Br,{className:o},d):d}function Mj(e,t){return t!=null&&"trapezoids"in e.props}function Dj(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function v5e(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function b5e(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function w5e(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function j5e(e,t){var r;return Mj(e,t)?r=v5e:Dj(e,t)?r=b5e:cv(e,t)&&(r=w5e),r}function N5e(e,t){var r;return Mj(e,t)?r="trapezoids":Dj(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function S5e(e,t){if(Mj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dj(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return cv(e,t)?t.payload:{}}function _5e(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=N5e(r,t),i=S5e(r,t),o=s.filter(function(c,d){var u=Im(i,c),h=r.props[a].filter(function(y){var g=j5e(r,t);return g(y,t)}),p=r.props[a].indexOf(h[h.length-1]),f=d===p;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var D1;function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xp.apply(this,arguments)}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(s){hl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function A5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JB(s.key),s)}}function k5e(e,t,r){return t&&l8(e.prototype,t),r&&l8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C5e(e,t,r){return t=Gw(t),P5e(e,QB()?Reflect.construct(t,r||[],Gw(e).constructor):t.apply(e,r))}function P5e(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5e(e)}function T5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(e)}function E5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A4(e,t)}function A4(e,t){return A4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},A4(e,t)}function hl(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=O5e(e,"string");return Zg(t)=="symbol"?t:t+""}function O5e(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dc=function(e){function t(r){var s;return A5e(this,t),s=C5e(this,t,[r]),hl(s,"pieRef",null),hl(s,"sectorRefs",[]),hl(s,"id",Xm("recharts-pie-")),hl(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Jt(a)&&a()}),hl(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Jt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return E5e(t,e),k5e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Dt(this.props,!1),h=Dt(o,!1),p=Dt(l,!1),f=o&&o.offsetRadius||20,y=s.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,S=Vn(g.cx,g.cy,g.outerRadius+f,b),N=zn(zn(zn(zn({},u),g),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(S.x,g.cx)},S),w=zn(zn(zn(zn({},u),g),{},{fill:"none",stroke:g.fill},p),{},{index:v,points:[Vn(g.cx,g.cy,g.outerRadius,b),S]}),C=c;return hr(c)&&hr(d)?C="value":hr(c)&&(C=d),ve.createElement(Br,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,N,zs(g,C)))});return ve.createElement(Br,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(u),p=c&&a.hasActiveIndex()?c:null,f=h?o:p,y=zn(zn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ve.createElement(Br,Xp({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Om(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ve.createElement(XB,Xp({option:f,isActive:h,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return ve.createElement(ac,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=i&&i[0],S=b.startAngle;return i.forEach(function(N,w){var C=p&&p[w],L=w>0?Fo(N,"paddingAngle",0):0;if(C){var k=ya(C.endAngle-C.startAngle,N.endAngle-N.startAngle),A=zn(zn({},N),{},{startAngle:S+L,endAngle:S+k(g)+L});v.push(A),S=A.endAngle}else{var P=N.endAngle,B=N.startAngle,T=ya(0,P-B),I=T(g),M=zn(zn({},N),{},{startAngle:S+L,endAngle:S+I+L});v.push(M),S=M.endAngle}}),ve.createElement(Br,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Im(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,p=a.outerRadius,f=a.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!dt(d)||!dt(u)||!dt(h)||!dt(p))return null;var g=gr("recharts-pie",l);return ve.createElement(Br,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Ma.renderCallByParent(this.props,null,!1),(!f||y)&&Yc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(ve.isValidElement(s))return ve.cloneElement(s,a);if(Jt(s))return s(a);var o=gr("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return ve.createElement(Nm,Xp({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(ve.isValidElement(s))return ve.cloneElement(s,a);var o=i;if(Jt(s)&&(o=s(a),ve.isValidElement(o)))return o;var l=gr("recharts-pie-label-text",typeof s!="boolean"&&!Jt(s)?s.className:"");return ve.createElement(Lm,Xp({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);D1=dc;hl(dc,"displayName","Pie");hl(dc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!sc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});hl(dc,"parseDeltaAngle",function(e,t){var r=Ii(t-e),s=Math.min(Math.abs(t-e),360);return r*s});hl(dc,"getRealPieData",function(e){var t=e.data,r=e.children,s=Dt(e,!1),a=Ro(r,Dx);return t&&t.length?t.map(function(i,o){return zn(zn(zn({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return zn(zn({},s),i.props)}):[]});hl(dc,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=IB(a,i),l=s+Mi(e.cx,a,a/2),c=r+Mi(e.cy,i,i/2),d=Mi(e.innerRadius,o,0),u=Mi(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});hl(dc,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?zn(zn({},t.type.defaultProps),t.props):t.props,a=D1.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,p=s.tooltipType,f=Math.abs(s.minAngle),y=D1.parseCoordinateOfPie(s,r),g=D1.parseDeltaAngle(o,l),v=Math.abs(g),b=d;hr(d)&&hr(h)?(nc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):hr(d)&&(nc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var S=a.filter(function(A){return zs(A,b,0)!==0}).length,N=(v>=360?S:S-1)*c,w=v-S*f-N,C=a.reduce(function(A,P){var B=zs(P,b,0);return A+(dt(B)?B:0)},0),L;if(C>0){var k;L=a.map(function(A,P){var B=zs(A,b,0),T=zs(A,u,P),I=(dt(B)?B:0)/C,M;P?M=k.endAngle+Ii(g)*c*(B!==0?1:0):M=o;var D=M+Ii(g)*((B!==0?f:0)+I*w),V=(M+D)/2,z=(y.innerRadius+y.outerRadius)/2,X=[{name:T,value:B,payload:A,dataKey:b,type:p}],q=Vn(y.cx,y.cy,z,V);return k=zn(zn(zn({percent:I,cornerRadius:i,name:T,tooltipPayload:X,midAngle:V,middleRadius:z,tooltipPosition:q},A),y),{},{value:zs(A,b),startAngle:M,endAngle:D,payload:A,paddingAngle:Ii(g)*c}),k})}return zn(zn({},y),{},{sectors:L,data:a})});var L5e=Math.ceil,I5e=Math.max;function M5e(e,t,r,s){for(var a=-1,i=I5e(L5e((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var D5e=M5e,F5e=w$,c8=1/0,R5e=17976931348623157e292;function $5e(e){if(!e)return e===0?e:0;if(e=F5e(e),e===c8||e===-c8){var t=e<0?-1:1;return t*R5e}return e===e?e:0}var ez=$5e,B5e=D5e,z5e=bj,D5=ez;function U5e(e){return function(t,r,s){return s&&typeof s!="number"&&z5e(t,r,s)&&(r=s=void 0),t=D5(t),r===void 0?(r=t,t=0):r=D5(r),s=s===void 0?t<r?1:-1:D5(s),B5e(t,r,s,e)}}var V5e=U5e,q5e=V5e,W5e=q5e(),H5e=W5e;const Kw=hn(H5e);function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function d8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function u8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(r),!0).forEach(function(s){tz(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tz(e,t,r){return t=G5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G5e(e){var t=K5e(e,"string");return dv(t)=="symbol"?t:t+""}function K5e(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(dv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y5e=["Webkit","Moz","O","ms"],Z5e=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Y5e.reduce(function(i,o){return u8(u8({},i),{},tz({},o+s,r))},{});return a[t]=r,a};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yw.apply(this,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function F5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(s){Ao(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function X5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nz(s.key),s)}}function Q5e(e,t,r){return t&&f8(e.prototype,t),r&&f8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J5e(e,t,r){return t=Zw(t),eSe(e,rz()?Reflect.construct(t,r||[],Zw(e).constructor):t.apply(e,r))}function eSe(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tSe(e)}function tSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(e)}function rSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},k4(e,t)}function Ao(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=nSe(e,"string");return Xg(t)=="symbol"?t:t+""}function nSe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sSe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=cy().domain(Kw(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},m8=function(t){return t.changedTouches&&!!t.changedTouches.length},Qg=function(e){function t(r){var s;return X5e(this,t),s=J5e(this,t,[r]),Ao(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ao(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ao(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Ao(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ao(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ao(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ao(s,"handleSlideDragStart",function(a){var i=m8(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return rSe(t,e),Q5e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),p=Math.max(a,i),f=t.getIndexInRange(o,h),y=t.getIndexInRange(o,p);return{startIndex:f-f%c,endIndex:y===u?u:y-y%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=zs(i[s],l,s);return Jt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,p=c.startIndex,f=c.endIndex,y=c.onChange,g=s.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==p||v.endIndex!==f)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=m8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,p=u.width,f=u.travellerWidth,y=u.onChange,g=u.gap,v=u.data,b={startX:this.state.startX,endX:this.state.endX},S=s.pageX-i;S>0?S=Math.min(S,h+p-f-d):S<0&&(S=Math.max(S,h-d)),b[o]=d+S;var N=this.getIndex(b),w=N.startIndex,C=N.endIndex,L=function(){var A=v.length-1;return o==="startX"&&(l>c?w%g===0:C%g===0)||l<c&&C===A||o==="endX"&&(l>c?C%g===0:w%g===0)||l>c&&C===A};this.setState(Ao(Ao({},o,d+S),"brushMoveStartX",s.pageX),function(){y&&L()&&y(N)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var p=h+s;if(!(p===-1||p>=l.length)){var f=l[p];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(Ao({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return ve.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=_.Children.only(d);return h?ve.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,p=c.traveller,f=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(s,this.props.x),S=F5(F5({},Dt(this.props,!1)),{},{x:b,y:d,width:u,height:h}),N=f||"Min value: ".concat((i=y[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return ve.createElement(Br,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,S))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return ve.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,p=u.endX,f=5,y={pointerEvents:"none",fill:d};return ve.createElement(Br,{className:"recharts-brush-texts"},ve.createElement(Lm,Yw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:o+l/2},y),this.getTextOfTick(a)),ve.createElement(Lm,Yw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+f,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,p=this.state,f=p.startX,y=p.endX,g=p.isTextActive,v=p.isSlideMoving,b=p.isTravellerMoving,S=p.isTravellerFocused;if(!a||!a.length||!dt(l)||!dt(c)||!dt(d)||!dt(u)||d<=0||u<=0)return null;var N=gr("recharts-brush",i),w=ve.Children.count(o)===1,C=Z5e("userSelect","none");return ve.createElement(Br,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(f,y),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return ve.createElement(ve.Fragment,null,ve.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ve.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ve.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return ve.isValidElement(s)?i=ve.cloneElement(s,a):Jt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return F5({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?sSe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(_.PureComponent);Ao(Qg,"displayName","Brush");Ao(Qg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aSe=UA;function iSe(e,t){var r;return aSe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var oSe=iSe,lSe=K9,cSe=ld,dSe=oSe,uSe=no,hSe=bj;function fSe(e,t,r){var s=uSe(e)?lSe:dSe;return r&&hSe(e,t,r)&&(t=void 0),s(e,cSe(t))}var mSe=fSe;const pSe=hn(mSe);var Zc=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},p8=g$;function gSe(e,t,r){t=="__proto__"&&p8?p8(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var xSe=gSe,ySe=xSe,vSe=m$,bSe=ld;function wSe(e,t){var r={};return t=bSe(t),vSe(e,function(s,a,i){ySe(r,a,t(s,a,i))}),r}var jSe=wSe;const NSe=hn(jSe);function SSe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var _Se=SSe,ASe=UA;function kSe(e,t){var r=!0;return ASe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var CSe=kSe,PSe=_Se,TSe=CSe,ESe=ld,OSe=no,LSe=bj;function ISe(e,t,r){var s=OSe(e)?PSe:TSe;return r&&LSe(e,t,r)&&(t=void 0),s(e,ESe(t))}var MSe=ISe;const sz=hn(MSe);var DSe=["x","y"];function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},C4.apply(this,arguments)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(s){FSe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function FSe(e,t,r){return t=RSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RSe(e){var t=$Se(e,"string");return uv(t)=="symbol"?t:t+""}function $Se(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(uv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BSe(e,t){if(e==null)return{};var r=zSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function USe(e,t){var r=e.x,s=e.y,a=BSe(e,DSe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),p=parseInt(h,10);return $0($0($0($0($0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function x8(e){return ve.createElement(XB,C4({shapeType:"rectangle",propTransformer:USe,activeClassName:"recharts-active-bar"},e))}var VSe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=dt(s)||boe(s);return i?t(s,a):(i||Dm(),r)}},qSe=["value","background"],az;function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function WSe(e,t){if(e==null)return{};var r=HSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function HSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xw.apply(this,arguments)}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(s){Ph(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function GSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oz(s.key),s)}}function KSe(e,t,r){return t&&v8(e.prototype,t),r&&v8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YSe(e,t,r){return t=Qw(t),ZSe(e,iz()?Reflect.construct(t,r||[],Qw(e).constructor):t.apply(e,r))}function ZSe(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(e)}function XSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(e)}function QSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P4(e,t)}function P4(e,t){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},P4(e,t)}function Ph(e,t,r){return t=oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=JSe(e,"string");return Jg(t)=="symbol"?t:t+""}function JSe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=function(e){function t(){var r;GSe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=YSe(this,t,[].concat(a)),Ph(r,"state",{isAnimationFinished:!1}),Ph(r,"id",Xm("recharts-bar-")),Ph(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ph(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return QSe(t,e),KSe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Dt(this.props,!1);return s&&s.map(function(h,p){var f=p===c,y=f?d:o,g=Js(Js(Js({},u),h),{},{isActive:f,option:y,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ve.createElement(Br,Xw({className:"recharts-bar-rectangle"},Om(a.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),ve.createElement(x8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,p=this.state.prevData;return ve.createElement(ac,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var y=f.t,g=i.map(function(v,b){var S=p&&p[b];if(S){var N=ya(S.x,v.x),w=ya(S.y,v.y),C=ya(S.width,v.width),L=ya(S.height,v.height);return Js(Js({},v),{},{x:N(y),y:w(y),width:C(y),height:L(y)})}if(o==="horizontal"){var k=ya(0,v.height),A=k(y);return Js(Js({},v),{},{y:v.y+v.height-A,height:A})}var P=ya(0,v.width),B=P(y);return Js(Js({},v),{},{width:B})});return ve.createElement(Br,null,s.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Im(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Dt(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,p=WSe(d,qSe);if(!h)return null;var f=Js(Js(Js(Js(Js({},p),{},{fill:"#eee"},h),c),Om(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ve.createElement(x8,Xw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Ro(u,qv);if(!h)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,f=function(v,b){var S=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:S,errorVal:zs(v,b)}},y={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Br,y,h.map(function(g){return ve.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,p=s.height,f=s.isAnimationActive,y=s.background,g=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=gr("recharts-bar",o),S=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,w=S||N,C=hr(g)?this.id:g;return ve.createElement(Br,{className:b},S||N?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(C)},ve.createElement("rect",{x:S?d:d-h/2,y:N?u:u-p/2,width:S?h:h*2,height:N?p:p*2}))):null,ve.createElement(Br,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(C,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,C),(!f||v)&&Yc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(_.PureComponent);az=Qd;Ph(Qd,"displayName","Bar");Ph(Qd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ph(Qd,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,f=R1e(s,r);if(!f)return null;var y=t.layout,g=r.type.defaultProps,v=g!==void 0?Js(Js({},g),r.props):r.props,b=v.dataKey,S=v.children,N=v.minPointSize,w=y==="horizontal"?o:i,C=d?w.scale.domain():null,L=W1e({numericAxis:w}),k=Ro(S,Dx),A=h.map(function(P,B){var T,I,M,D,V,z;d?T=$1e(d[u+B],C):(T=zs(P,b),Array.isArray(T)||(T=[L,T]));var X=VSe(N,az.defaultProps.minPointSize)(T[1],B);if(y==="horizontal"){var q,Y=[o.scale(T[0]),o.scale(T[1])],ie=Y[0],W=Y[1];I=lO({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:P,index:B}),M=(q=W??ie)!==null&&q!==void 0?q:void 0,D=f.size;var F=ie-W;if(V=Number.isNaN(F)?0:F,z={x:I,y:o.y,width:D,height:o.height},Math.abs(X)>0&&Math.abs(V)<Math.abs(X)){var Z=Ii(V||X)*(Math.abs(X)-Math.abs(V));M-=Z,V+=Z}}else{var Q=[i.scale(T[0]),i.scale(T[1])],ae=Q[0],de=Q[1];if(I=ae,M=lO({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:P,index:B}),D=de-ae,V=f.size,z={x:i.x,y:M,width:i.width,height:V},Math.abs(X)>0&&Math.abs(D)<Math.abs(X)){var ge=Ii(D||X)*(Math.abs(X)-Math.abs(D));D+=ge}}return Js(Js(Js({},P),{},{x:I,y:M,width:D,height:V,value:d?T:T[1],payload:P,background:z},k&&k[B]&&k[B].props),{},{tooltipPayload:[OB(r,P)],tooltipPosition:{x:I+D/2,y:M+V/2}})});return Js({data:A,layout:y},p)});function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function e_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,lz(s.key),s)}}function t_e(e,t,r){return t&&b8(e.prototype,t),r&&b8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(s){Fj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Fj(e,t,r){return t=lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=r_e(e,"string");return hv(t)=="symbol"?t:t+""}function r_e(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!Co(d,Qd);return u.reduce(function(f,y){var g=r[y],v=g.orientation,b=g.domain,S=g.padding,N=S===void 0?{}:S,w=g.mirror,C=g.reversed,L="".concat(v).concat(w?"Mirror":""),k,A,P,B,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=b[1]-b[0],M=1/0,D=g.categoricalDomain.sort(Noe);if(D.forEach(function(Q,ae){ae>0&&(M=Math.min((Q||0)-(D[ae-1]||0),M))}),Number.isFinite(M)){var V=M/I,z=g.layout==="vertical"?s.height:s.width;if(g.padding==="gap"&&(k=V*z/2),g.padding==="no-gap"){var X=Mi(t.barCategoryGap,V*z),q=V*z/2;k=q-X-(q-X)/z*X}}}a==="xAxis"?A=[s.left+(N.left||0)+(k||0),s.left+s.width-(N.right||0)-(k||0)]:a==="yAxis"?A=c==="horizontal"?[s.top+s.height-(N.bottom||0),s.top+(N.top||0)]:[s.top+(N.top||0)+(k||0),s.top+s.height-(N.bottom||0)-(k||0)]:A=g.range,C&&(A=[A[1],A[0]]);var Y=CB(g,i,p),ie=Y.scale,W=Y.realScaleType;ie.domain(b).range(A),PB(ie);var F=TB(ie,Kl(Kl({},g),{},{realScaleType:W}));a==="xAxis"?(T=v==="top"&&!w||v==="bottom"&&w,P=s.left,B=h[L]-T*g.height):a==="yAxis"&&(T=v==="left"&&!w||v==="right"&&w,P=h[L]-T*g.width,B=s.top);var Z=Kl(Kl(Kl({},g),F),{},{realScaleType:W,x:P,y:B,scale:ie,width:a==="xAxis"?s.width:g.width,height:a==="yAxis"?s.height:g.height});return Z.bandSize=Dw(Z,F),!g.hide&&a==="xAxis"?h[L]+=(T?-1:1)*Z.height:g.hide||(h[L]+=(T?-1:1)*Z.width),Kl(Kl({},f),{},Fj({},y,Z))},{})},cz=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},n_e=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return cz({x:r,y:s},{x:a,y:i})},dz=function(){function e(t){e_e(this,e),this.scale=t}return t_e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Fj(dz,"EPS",1e-4);var yk=function(t){var r=Object.keys(t).reduce(function(s,a){return Kl(Kl({},s),{},Fj({},a,dz.create(t[a])))},{});return Kl(Kl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return NSe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return sz(a,function(i,o){return r[o].isInRange(i)})}})};function s_e(e){return(e%180+180)%180}var a_e=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=s_e(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},i_e=ld,o_e=$v,l_e=yj;function c_e(e){return function(t,r,s){var a=Object(t);if(!o_e(t)){var i=i_e(r);t=l_e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var d_e=c_e,u_e=ez;function h_e(e){var t=u_e(e),r=t%1;return t===t?r?t-r:t:0}var f_e=h_e,m_e=l$,p_e=ld,g_e=f_e,x_e=Math.max;function y_e(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:g_e(r);return a<0&&(a=x_e(s+a,0)),m_e(e,p_e(t),a)}var v_e=y_e,b_e=d_e,w_e=v_e,j_e=b_e(w_e),N_e=j_e;const S_e=hn(N_e);var __e=Sie(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),vk=_.createContext(void 0),bk=_.createContext(void 0),uz=_.createContext(void 0),hz=_.createContext({}),fz=_.createContext(void 0),mz=_.createContext(0),pz=_.createContext(0),j8=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=__e(i);return ve.createElement(vk.Provider,{value:s},ve.createElement(bk.Provider,{value:a},ve.createElement(hz.Provider,{value:i},ve.createElement(uz.Provider,{value:u},ve.createElement(fz.Provider,{value:o},ve.createElement(mz.Provider,{value:d},ve.createElement(pz.Provider,{value:c},l)))))))},A_e=function(){return _.useContext(fz)},gz=function(t){var r=_.useContext(vk);r==null&&Dm();var s=r[t];return s==null&&Dm(),s},k_e=function(){var t=_.useContext(vk);return ph(t)},C_e=function(){var t=_.useContext(bk),r=S_e(t,function(s){return sz(s.domain,Number.isFinite)});return r||ph(t)},xz=function(t){var r=_.useContext(bk);r==null&&Dm();var s=r[t];return s==null&&Dm(),s},P_e=function(){var t=_.useContext(uz);return t},T_e=function(){return _.useContext(hz)},wk=function(){return _.useContext(pz)},jk=function(){return _.useContext(mz)};function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function E_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O_e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vz(s.key),s)}}function L_e(e,t,r){return t&&O_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I_e(e,t,r){return t=Jw(t),M_e(e,yz()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function M_e(e,t){if(t&&(ex(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D_e(e)}function D_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yz=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function F_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},T4(e,t)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(s){Nk(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Nk(e,t,r){return t=vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=R_e(e,"string");return ex(t)=="symbol"?t:t+""}function R_e(e,t){if(ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ex(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $_e(e,t){return V_e(e)||U_e(e,t)||z_e(e,t)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(e,t){if(e){if(typeof e=="string")return _8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _8(e,t)}}function _8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function U_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function V_e(e){if(Array.isArray(e))return e}function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},E4.apply(this,arguments)}var q_e=function(t,r){var s;return ve.isValidElement(t)?s=ve.cloneElement(t,r):Jt(t)?s=t(r):s=ve.createElement("line",E4({},r,{className:"recharts-reference-line-line"})),s},W_e=function(t,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,p=i.width,f=i.height;if(s){var y=d.y,g=t.y.apply(y,{position:o});if(Zc(d,"discard")&&!t.y.isInRange(g))return null;var v=[{x:u+p,y:g},{x:u,y:g}];return c==="left"?v.reverse():v}if(r){var b=d.x,S=t.x.apply(b,{position:o});if(Zc(d,"discard")&&!t.x.isInRange(S))return null;var N=[{x:S,y:h+f},{x:S,y:h}];return l==="top"?N.reverse():N}if(a){var w=d.segment,C=w.map(function(L){return t.apply(L,{position:o})});return Zc(d,"discard")&&pSe(C,function(L){return!t.isInRange(L)})?null:C}return null};function H_e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=A_e(),u=gz(a),h=xz(i),p=P_e();if(!d||!p)return null;nc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yk({x:u.scale,y:h.scale}),y=va(t),g=va(r),v=s&&s.length===2,b=W_e(f,y,g,v,p,e.position,u.orientation,h.orientation,e);if(!b)return null;var S=$_e(b,2),N=S[0],w=N.x,C=N.y,L=S[1],k=L.x,A=L.y,P=Zc(e,"hidden")?"url(#".concat(d,")"):void 0,B=S8(S8({clipPath:P},Dt(e,!0)),{},{x1:w,y1:C,x2:k,y2:A});return ve.createElement(Br,{className:gr("recharts-reference-line",l)},q_e(o,B),Ma.renderCallByParent(e,n_e({x1:w,y1:C,x2:k,y2:A})))}var Sk=function(e){function t(){return E_e(this,t),I_e(this,t,arguments)}return F_e(t,e),L_e(t,[{key:"render",value:function(){return ve.createElement(H_e,this.props)}}])}(ve.Component);Nk(Sk,"displayName","ReferenceLine");Nk(Sk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O4(){return O4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},O4.apply(this,arguments)}function tx(e){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tx(e)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function k8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(s){Rj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function G_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K_e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wz(s.key),s)}}function Y_e(e,t,r){return t&&K_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_e(e,t,r){return t=e2(t),X_e(e,bz()?Reflect.construct(t,r||[],e2(e).constructor):t.apply(e,r))}function X_e(e,t){if(t&&(tx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q_e(e)}function Q_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!e})()}function e2(e){return e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e2(e)}function J_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},L4(e,t)}function Rj(e,t,r){return t=wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=e4e(e,"string");return tx(t)=="symbol"?t:t+""}function e4e(e,t){if(tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t4e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=yk({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Zc(t,"discard")&&!o.isInRange(l)?null:l},$j=function(e){function t(){return G_e(this,t),Z_e(this,t,arguments)}return J_e(t,e),Y_e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=va(a),u=va(i);if(nc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=t4e(this.props);if(!h)return null;var p=h.x,f=h.y,y=this.props,g=y.shape,v=y.className,b=Zc(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=k8(k8({clipPath:b},Dt(this.props,!0)),{},{cx:p,cy:f});return ve.createElement(Br,{className:gr("recharts-reference-dot",v)},t.renderDot(g,S),Ma.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(ve.Component);Rj($j,"displayName","ReferenceDot");Rj($j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rj($j,"renderDot",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):Jt(e)?r=e(t):r=ve.createElement(Wv,O4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},I4.apply(this,arguments)}function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(s){Bj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function r4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n4e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Nz(s.key),s)}}function s4e(e,t,r){return t&&n4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a4e(e,t,r){return t=t2(t),i4e(e,jz()?Reflect.construct(t,r||[],t2(e).constructor):t.apply(e,r))}function i4e(e,t){if(t&&(rx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o4e(e)}function o4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!e})()}function t2(e){return t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t2(e)}function l4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M4(e,t)}function M4(e,t){return M4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},M4(e,t)}function Bj(e,t,r){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nz(e){var t=c4e(e,"string");return rx(t)=="symbol"?t:t+""}function c4e(e,t){if(rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d4e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var p=yk({x:u.scale,y:h.scale}),f={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(c,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(d,{position:"end"}):p.y.rangeMax};return Zc(i,"discard")&&(!p.isInRange(f)||!p.isInRange(y))?null:cz(f,y)},zj=function(e){function t(){return r4e(this,t),a4e(this,t,arguments)}return l4e(t,e),s4e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;nc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=va(a),p=va(i),f=va(o),y=va(l),g=this.props.shape;if(!h&&!p&&!f&&!y&&!g)return null;var v=d4e(h,p,f,y,this.props);if(!v&&!g)return null;var b=Zc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ve.createElement(Br,{className:gr("recharts-reference-area",c)},t.renderRect(g,P8(P8({clipPath:b},Dt(this.props,!0)),v)),Ma.renderCallByParent(this.props,v))}}])}(ve.Component);Bj(zj,"displayName","ReferenceArea");Bj(zj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bj(zj,"renderRect",function(e,t){var r;return ve.isValidElement(e)?r=ve.cloneElement(e,t):Jt(e)?r=e(t):r=ve.createElement(gk,I4({},t,{className:"recharts-reference-area-rect"})),r});function Sz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function u4e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return a_e(s,r)}function h4e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function r2(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function f4e(e,t){return Sz(e,t+1)}function m4e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var y=s?.[c];if(y===void 0)return{v:Sz(s,d)};var g=c,v,b=function(){return v===void 0&&(v=r(y,g)),v},S=y.coordinate,N=c===0||r2(e,S,b,u,l);N||(c=0,u=o,d+=1),N&&(u=S+e*(b()/2+a),c+=d)},p;d<=i.length;)if(p=h(),p)return p.v;return[]}function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(s){p4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p4e(e,t,r){return t=g4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4e(e){var t=x4e(e,"string");return fv(t)=="symbol"?t:t+""}function x4e(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y4e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(p){var f=i[p],y,g=function(){return y===void 0&&(y=r(f,p)),y};if(p===o-1){var v=e*(f.coordinate+e*g()/2-c);i[p]=f=di(di({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else i[p]=f=di(di({},f),{},{tickCoord:f.coordinate});var b=r2(e,f.tickCoord,g,l,c);b&&(c=f.tickCoord-e*(g()/2+a),i[p]=di(di({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function v4e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],h=r(u,l-1),p=e*(u.coordinate+e*h/2-d);o[l-1]=u=di(di({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate});var f=r2(e,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-e*(h/2+a),o[l-1]=di(di({},u),{},{isShow:!0}))}for(var y=i?l-1:l,g=function(S){var N=o[S],w,C=function(){return w===void 0&&(w=r(N,S)),w};if(S===0){var L=e*(N.coordinate-e*C()/2-c);o[S]=N=di(di({},N),{},{tickCoord:L<0?N.coordinate-L*e:N.coordinate})}else o[S]=N=di(di({},N),{},{tickCoord:N.coordinate});var k=r2(e,N.tickCoord,C,c,d);k&&(c=N.tickCoord+e*(C()/2+a),o[S]=di(di({},N),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function _k(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!s)return[];if(dt(c)||sc.isSsr)return f4e(a,typeof c=="number"&&dt(c)?c:0);var p=[],f=l==="top"||l==="bottom"?"width":"height",y=u&&f==="width"?ly(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,w){var C=Jt(d)?d(N.value,w):N.value;return f==="width"?u4e(ly(C,{fontSize:t,letterSpacing:r}),y,h):ly(C,{fontSize:t,letterSpacing:r})[f]},v=a.length>=2?Ii(a[1].coordinate-a[0].coordinate):1,b=h4e(i,v,f);return c==="equidistantPreserveStart"?m4e(v,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=v4e(v,b,g,a,o,c==="preserveStartEnd"):p=y4e(v,b,g,a,o),p.filter(function(S){return S.isShow}))}var b4e=["viewBox"],w4e=["viewBox"],j4e=["ticks"];function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qp.apply(this,arguments)}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(s){Ak(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function R5(e,t){if(e==null)return{};var r=N4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function N4e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function S4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Az(s.key),s)}}function _4e(e,t,r){return t&&O8(e.prototype,t),r&&O8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A4e(e,t,r){return t=n2(t),k4e(e,_z()?Reflect.construct(t,r||[],n2(e).constructor):t.apply(e,r))}function k4e(e,t){if(t&&(nx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C4e(e)}function C4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!e})()}function n2(e){return n2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n2(e)}function P4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D4(e,t)}function D4(e,t){return D4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},D4(e,t)}function Ak(e,t,r){return t=Az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=T4e(e,"string");return nx(t)=="symbol"?t:t+""}function T4e(e,t){if(nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bx=function(e){function t(r){var s;return S4e(this,t),s=A4e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return P4e(t,e),_4e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=R5(s,b4e),l=this.props,c=l.viewBox,d=R5(l,w4e);return!ug(i,c)||!ug(o,d)||!ug(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,p=a.tickMargin,f,y,g,v,b,S,N=h?-1:1,w=s.tickSize||u,C=dt(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=y=s.coordinate,v=o+ +!h*c,g=v-N*w,S=g-N*p,b=C;break;case"left":g=v=s.coordinate,y=i+ +!h*l,f=y-N*w,b=f-N*p,S=C;break;case"right":g=v=s.coordinate,y=i+ +h*l,f=y+N*w,b=f+N*p,S=C;break;default:f=y=s.coordinate,v=o+ +h*c,g=v+N*w,S=g+N*p,b=C;break}return{line:{x1:f,y1:g,x2:y,y2:v},tick:{x:b,y:S}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=ma(ma(ma({},Dt(this.props,!1)),Dt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);h=ma(ma({},h),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=ma(ma({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return ve.createElement("line",Qp({},h,{className:gr("recharts-cartesian-axis-line",Fo(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,p=l.unit,f=_k(ma(ma({},this.props),{},{ticks:s}),a,i),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Dt(this.props,!1),b=Dt(u,!1),S=ma(ma({},v),{},{fill:"none"},Dt(c,!1)),N=f.map(function(w,C){var L=o.getTickLineCoord(w),k=L.line,A=L.tick,P=ma(ma(ma(ma({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:d},b),A),{},{index:C,payload:w,visibleTicksCount:f.length,tickFormatter:h});return ve.createElement(Br,Qp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Om(o.props,w,C)),c&&ve.createElement("line",Qp({},S,k,{className:gr("recharts-cartesian-axis-tick-line",Fo(c,"className"))})),u&&t.renderTickItem(u,P,"".concat(Jt(h)?h(w.value,C):w.value).concat(p||"")))});return ve.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,p=h.ticks,f=R5(h,j4e),y=p;return Jt(c)&&(y=p&&p.length>0?c(this.props):c(f)),o<=0||l<=0||!y||!y.length?null:ve.createElement(Br,{className:gr("recharts-cartesian-axis",d),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ma.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=gr(a.className,"recharts-cartesian-axis-tick-value");return ve.isValidElement(s)?o=ve.cloneElement(s,ma(ma({},a),{},{className:l})):Jt(s)?o=s(ma(ma({},a),{},{className:l})):o=ve.createElement(Lm,Qp({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(_.Component);Ak(Bx,"displayName","CartesianAxis");Ak(Bx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var E4e=["x1","y1","x2","y2","key"],O4e=["offset"];function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(s){L4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function L4e(e,t,r){return t=I4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I4e(e){var t=M4e(e,"string");return Fm(t)=="symbol"?t:t+""}function M4e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},am.apply(this,arguments)}function I8(e,t){if(e==null)return{};var r=D4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function D4e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var F4e=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ve.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function kz(e,t){var r;if(ve.isValidElement(e))r=ve.cloneElement(e,t);else if(Jt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=I8(t,E4e),d=Dt(c,!1);d.offset;var u=I8(d,O4e);r=ve.createElement("line",am({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function R4e(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ui(ui({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return kz(a,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $4e(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ui(ui({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return kz(a,d)});return ve.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function B4e(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==u[0]&&u.unshift(0);var h=u.map(function(p,f){var y=!u[f+1],g=y?a+o-p:u[f+1]-p;if(g<=0)return null;var v=f%t.length;return ve.createElement("rect",{key:"react-".concat(f),y:p,x:s,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function z4e(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==u[0]&&u.unshift(0);var h=u.map(function(p,f){var y=!u[f+1],g=y?i+l-p:u[f+1]-p;if(g<=0)return null;var v=f%s.length;return ve.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:g,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ve.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var U4e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return kB(_k(ui(ui(ui({},Bx.defaultProps),s),{},{ticks:Gd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},V4e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return kB(_k(ui(ui(ui({},Bx.defaultProps),s),{},{ticks:Gd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Mp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $d(e){var t,r,s,a,i,o,l=wk(),c=jk(),d=T_e(),u=ui(ui({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Mp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Mp.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Mp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Mp.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Mp.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Mp.verticalFill,x:dt(e.x)?e.x:d.left,y:dt(e.y)?e.y:d.top,width:dt(e.width)?e.width:d.width,height:dt(e.height)?e.height:d.height}),h=u.x,p=u.y,f=u.width,y=u.height,g=u.syncWithTicks,v=u.horizontalValues,b=u.verticalValues,S=k_e(),N=C_e();if(!dt(f)||f<=0||!dt(y)||y<=0||!dt(h)||h!==+h||!dt(p)||p!==+p)return null;var w=u.verticalCoordinatesGenerator||U4e,C=u.horizontalCoordinatesGenerator||V4e,L=u.horizontalPoints,k=u.verticalPoints;if((!L||!L.length)&&Jt(C)){var A=v&&v.length,P=C({yAxis:N?ui(ui({},N),{},{ticks:A?v:N.ticks}):void 0,width:l,height:c,offset:d},A?!0:g);nc(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Fm(P),"]")),Array.isArray(P)&&(L=P)}if((!k||!k.length)&&Jt(w)){var B=b&&b.length,T=w({xAxis:S?ui(ui({},S),{},{ticks:B?b:S.ticks}):void 0,width:l,height:c,offset:d},B?!0:g);nc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Fm(T),"]")),Array.isArray(T)&&(k=T)}return ve.createElement("g",{className:"recharts-cartesian-grid"},ve.createElement(F4e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ve.createElement(R4e,am({},u,{offset:d,horizontalPoints:L,xAxis:S,yAxis:N})),ve.createElement($4e,am({},u,{offset:d,verticalPoints:k,xAxis:S,yAxis:N})),ve.createElement(B4e,am({},u,{horizontalPoints:L})),ve.createElement(z4e,am({},u,{verticalPoints:k})))}$d.displayName="CartesianGrid";var q4e=["type","layout","connectNulls","ref"],W4e=["key"];function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}function M8(e,t){if(e==null)return{};var r=H4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function H4e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},my.apply(this,arguments)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(s){Yl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dp(e){return Z4e(e)||Y4e(e)||K4e(e)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(e,t){if(e){if(typeof e=="string")return F4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F4(e,t)}}function Y4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z4e(e){if(Array.isArray(e))return F4(e)}function F4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function X4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Pz(s.key),s)}}function Q4e(e,t,r){return t&&F8(e.prototype,t),r&&F8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J4e(e,t,r){return t=s2(t),e6e(e,Cz()?Reflect.construct(t,r||[],s2(e).constructor):t.apply(e,r))}function e6e(e,t){if(t&&(sx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6e(e)}function t6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function s2(e){return s2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s2(e)}function r6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R4(e,t)}function R4(e,t){return R4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},R4(e,t)}function Yl(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=n6e(e,"string");return sx(t)=="symbol"?t:t+""}function n6e(e,t){if(sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sm=function(e){function t(){var r;X4e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=J4e(this,t,[].concat(a)),Yl(r,"state",{isAnimationFinished:!0,totalLength:0}),Yl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Yl(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,S){return b+S});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,p=l-o,f=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>h){f=[].concat(Dp(c.slice(0,y)),[h-g]);break}var v=f.length%2===0?[0,p]:[p];return[].concat(Dp(t.repeat(c,u)),Dp(f),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Yl(r,"id",Xm("recharts-line-")),Yl(r,"pathRef",function(o){r.mainCurve=o}),Yl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Yl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return r6e(t,e),Q4e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Ro(u,qv);if(!h)return null;var p=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:zs(g.payload,v)}},f={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ve.createElement(Br,f,h.map(function(y){return ve.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=Dt(this.props,!1),p=Dt(c,!0),f=d.map(function(g,v){var b=_o(_o(_o({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,b)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ve.createElement(Br,my({className:"recharts-line-dots",key:"dots"},y),f)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=M8(l,q4e),p=_o(_o(_o({},Dt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return ve.createElement(Nm,my({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,b=this.state,S=b.prevPoints,N=b.totalLength;return ve.createElement(ac,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var C=w.t;if(S){var L=S.length/l.length,k=l.map(function(I,M){var D=Math.floor(M*L);if(S[D]){var V=S[D],z=ya(V.x,I.x),X=ya(V.y,I.y);return _o(_o({},I),{},{x:z(C),y:X(C)})}if(y){var q=ya(g*2,I.x),Y=ya(v/2,I.y);return _o(_o({},I),{},{x:q(C),y:Y(C)})}return _o(_o({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(k,s,a)}var A=ya(0,N),P=A(C),B;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});B=i.getStrokeDasharray(P,N,T)}else B=i.generateSimpleStrokeDasharray(N,P);return i.renderCurveStatically(l,s,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Im(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,p=a.left,f=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,N=gr("recharts-line",c),w=d&&d.allowDataOverflow,C=u&&u.allowDataOverflow,L=w||C,k=hr(v)?this.id:v,A=(s=Dt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},P=A.r,B=P===void 0?3:P,T=A.strokeWidth,I=T===void 0?2:T,M=v9(o)?o:{},D=M.clipDot,V=D===void 0?!0:D,z=B*2+I;return ve.createElement(Br,{className:N},w||C?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(k)},ve.createElement("rect",{x:w?p:p-f/2,y:C?h:h-y/2,width:w?f:f*2,height:C?y:y*2})),!V&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ve.createElement("rect",{x:p-z/2,y:h-z/2,width:f+z,height:y+z}))):null,!S&&this.renderCurve(L,k),this.renderErrorBar(L,k),(S||o)&&this.renderDots(L,V,k),(!g||b)&&Yc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Dp(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Dp(o),Dp(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(ve.isValidElement(s))i=ve.cloneElement(s,a);else if(Jt(s))i=s(a);else{var o=a.key,l=M8(a,W4e),c=gr("recharts-line-dot",typeof s!="boolean"?s.className:"");i=ve.createElement(Wv,my({key:o},l,{className:c}))}return i}}])}(_.PureComponent);Yl(Sm,"displayName","Line");Yl(Sm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yl(Sm,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(p,f){var y=zs(p,o);return u==="horizontal"?{x:Mw({axis:r,ticks:a,bandSize:l,entry:p,index:f}),y:hr(y)?null:s.scale(y),value:y,payload:p}:{x:hr(y)?null:r.scale(y),y:Mw({axis:s,ticks:i,bandSize:l,entry:p,index:f}),value:y,payload:p}});return _o({points:h,layout:u},d)});var s6e=["layout","type","stroke","connectNulls","isRange","ref"],a6e=["key"],Tz;function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}function Ez(e,t){if(e==null)return{};var r=i6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function i6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},im.apply(this,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(s){Uc(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function o6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Lz(s.key),s)}}function l6e(e,t,r){return t&&$8(e.prototype,t),r&&$8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c6e(e,t,r){return t=a2(t),d6e(e,Oz()?Reflect.construct(t,r||[],a2(e).constructor):t.apply(e,r))}function d6e(e,t){if(t&&(ax(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u6e(e)}function u6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!e})()}function a2(e){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a2(e)}function h6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$4(e,t)}function $4(e,t){return $4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$4(e,t)}function Uc(e,t,r){return t=Lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=f6e(e,"string");return ax(t)=="symbol"?t:t+""}function f6e(e,t){if(ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Li=function(e){function t(){var r;o6e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=c6e(this,t,[].concat(a)),Uc(r,"state",{isAnimationFinished:!0}),Uc(r,"id",Xm("recharts-area-")),Uc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Jt(o)&&o()}),Uc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Jt(o)&&o()}),r}return h6e(t,e),l6e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,p=Dt(this.props,!1),f=Dt(d,!0),y=u.map(function(v,b){var S=ch(ch(ch({key:"dot-".concat(b),r:3},p),f),{},{index:b,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,S)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ve.createElement(Br,im({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),h=Ch(o.map(function(p){return p.y||0}));return dt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ch(i.map(function(p){return p.y||0})),h)),dt(h)?ve.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),h=Ch(o.map(function(p){return p.x||0}));return dt(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ch(i.map(function(p){return p.x||0})),h)),dt(h)?ve.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var f=Ez(l,s6e);return ve.createElement(Br,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ve.createElement(Nm,im({},Dt(f,!0),{points:s,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ve.createElement(Nm,im({},Dt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})),u!=="none"&&p&&ve.createElement(Nm,im({},Dt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return ve.createElement(ac,{begin:u,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(g){var N=g.length/l.length,w=l.map(function(A,P){var B=Math.floor(P*N);if(g[B]){var T=g[B],I=ya(T.x,A.x),M=ya(T.y,A.y);return ch(ch({},A),{},{x:I(S),y:M(S)})}return A}),C;if(dt(c)&&typeof c=="number"){var L=ya(v,c);C=L(S)}else if(hr(c)||Ox(c)){var k=ya(v,0);C=k(S)}else C=c.map(function(A,P){var B=Math.floor(P*N);if(v[B]){var T=v[B],I=ya(T.x,A.x),M=ya(T.y,A.y);return ch(ch({},A),{},{x:I(S),y:M(S)})}return A});return i.renderAreaStatically(w,C,s,a)}return ve.createElement(Br,null,ve.createElement("defs",null,ve.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(S))),ve.createElement(Br,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!u&&p>0||!Im(u,o)||!Im(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,p=a.yAxis,f=a.width,y=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,S=l.length===1,N=gr("recharts-area",c),w=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,L=w||C,k=hr(v)?this.id:v,A=(s=Dt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},P=A.r,B=P===void 0?3:P,T=A.strokeWidth,I=T===void 0?2:T,M=v9(o)?o:{},D=M.clipDot,V=D===void 0?!0:D,z=B*2+I;return ve.createElement(Br,{className:N},w||C?ve.createElement("defs",null,ve.createElement("clipPath",{id:"clipPath-".concat(k)},ve.createElement("rect",{x:w?u:u-f/2,y:C?d:d-y/2,width:w?f:f*2,height:C?y:y*2})),!V&&ve.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ve.createElement("rect",{x:u-z/2,y:d-z/2,width:f+z,height:y+z}))):null,S?null:this.renderArea(L,k),(o||S)&&this.renderDots(L,V,k),(!g||b)&&Yc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(_.PureComponent);Tz=Li;Uc(Li,"displayName","Area");Uc(Li,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!sc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Uc(Li,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(dt(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Uc(Li,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,p=e.offset,f=t.layout,y=d&&d.length,g=Tz.getBaseValue(t,r,s,a),v=f==="horizontal",b=!1,S=h.map(function(w,C){var L;y?L=d[u+C]:(L=zs(w,c),Array.isArray(L)?b=!0:L=[g,L]);var k=L[1]==null||y&&zs(w,c)==null;return v?{x:Mw({axis:s,ticks:i,bandSize:l,entry:w,index:C}),y:k?null:a.scale(L[1]),value:L,payload:w}:{x:k?null:s.scale(L[1]),y:Mw({axis:a,ticks:o,bandSize:l,entry:w,index:C}),value:L,payload:w}}),N;return y||b?N=S.map(function(w){var C=Array.isArray(w.value)?w.value[0]:null;return v?{x:w.x,y:C!=null&&w.y!=null?a.scale(C):null}:{x:C!=null?s.scale(C):null,y:w.y}}):N=v?a.scale(g):s.scale(g),ch({points:S,baseLine:N,layout:f,isRange:b},p)});Uc(Li,"renderDotItem",function(e,t){var r;if(ve.isValidElement(e))r=ve.cloneElement(e,t);else if(Jt(e))r=e(t);else{var s=gr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Ez(t,a6e);r=ve.createElement(Wv,im({},i,{key:a,className:s}))}return r});function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function m6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Dz(s.key),s)}}function g6e(e,t,r){return t&&p6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x6e(e,t,r){return t=i2(t),y6e(e,Iz()?Reflect.construct(t,r||[],i2(e).constructor):t.apply(e,r))}function y6e(e,t){if(t&&(ix(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v6e(e)}function v6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function i2(e){return i2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i2(e)}function b6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B4(e,t)}function B4(e,t){return B4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},B4(e,t)}function Mz(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=w6e(e,"string");return ix(t)=="symbol"?t:t+""}function w6e(e,t){if(ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z4(){return z4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z4.apply(this,arguments)}function j6e(e){var t=e.xAxisId,r=wk(),s=jk(),a=gz(t);return a==null?null:_.createElement(Bx,z4({},a,{className:gr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Gd(o,!0)}}))}var Po=function(e){function t(){return m6e(this,t),x6e(this,t,arguments)}return b6e(t,e),g6e(t,[{key:"render",value:function(){return _.createElement(j6e,this.props)}}])}(_.Component);Mz(Po,"displayName","XAxis");Mz(Po,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function N6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$z(s.key),s)}}function _6e(e,t,r){return t&&S6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A6e(e,t,r){return t=o2(t),k6e(e,Fz()?Reflect.construct(t,r||[],o2(e).constructor):t.apply(e,r))}function k6e(e,t){if(t&&(ox(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C6e(e)}function C6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!e})()}function o2(e){return o2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o2(e)}function P6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U4(e,t)}function U4(e,t){return U4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},U4(e,t)}function Rz(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=T6e(e,"string");return ox(t)=="symbol"?t:t+""}function T6e(e,t){if(ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(){return V4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V4.apply(this,arguments)}var E6e=function(t){var r=t.yAxisId,s=wk(),a=jk(),i=xz(r);return i==null?null:_.createElement(Bx,V4({},i,{className:gr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Gd(l,!0)}}))},To=function(e){function t(){return N6e(this,t),A6e(this,t,arguments)}return P6e(t,e),_6e(t,[{key:"render",value:function(){return _.createElement(E6e,this.props)}}])}(_.Component);Rz(To,"displayName","YAxis");Rz(To,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function B8(e){return M6e(e)||I6e(e)||L6e(e)||O6e()}function O6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6e(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function I6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M6e(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var W4=function(t,r,s,a,i){var o=Ro(t,Sk),l=Ro(t,$j),c=[].concat(B8(o),B8(l)),d=Ro(t,zj),u="".concat(a,"Id"),h=a[0],p=r;if(c.length&&(p=c.reduce(function(g,v){if(v.props[u]===s&&Zc(v.props,"extendDomain")&&dt(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},p)),d.length){var f="".concat(h,"1"),y="".concat(h,"2");p=d.reduce(function(g,v){if(v.props[u]===s&&Zc(v.props,"extendDomain")&&dt(v.props[f])&&dt(v.props[y])){var b=v.props[f],S=v.props[y];return[Math.min(g[0],b,S),Math.max(g[1],b,S)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,v){return dt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},p)),p},Bz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,p),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],f]:c._events[y].push(f):(c._events[y]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,y=new Array(f);p<f;p++)y[p]=h[p].fn;return y},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,p,f,y){var g=r?r+d:d;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,S,N;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,p),!0;case 5:return v.fn.call(v.context,u,h,p,f),!0;case 6:return v.fn.call(v.context,u,h,p,f,y),!0}for(N=1,S=new Array(b-1);N<b;N++)S[N-1]=arguments[N];v.fn.apply(v.context,S)}else{var w=v.length,C;for(N=0;N<w;N++)switch(v[N].once&&this.removeListener(d,v[N].fn,void 0,!0),b){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,u);break;case 3:v[N].fn.call(v[N].context,u,h);break;case 4:v[N].fn.call(v[N].context,u,h,p);break;default:if(!S)for(C=1,S=new Array(b-1);C<b;C++)S[C-1]=arguments[C];v[N].fn.apply(v[N].context,S)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,p){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var y=this._events[f];if(y.fn)y.fn===u&&(!p||y.once)&&(!h||y.context===h)&&o(this,f);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==u||p&&!y[g].once||h&&y[g].context!==h)&&v.push(y[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Bz);var D6e=Bz.exports;const F6e=hn(D6e);var $5=new F6e,B5="recharts.syncMouseEvents";function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function R6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zz(s.key),s)}}function B6e(e,t,r){return t&&$6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z5(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=z6e(e,"string");return mv(t)=="symbol"?t:t+""}function z6e(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(mv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U6e=function(){function e(){R6e(this,e),z5(this,"activeIndex",0),z5(this,"coordinateList",[]),z5(this,"layout","horizontal")}return B6e(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,p=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function V6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e?.[0],a=e?.[1];if(s&&a&&dt(s)&&dt(a))return!0}return!1}function q6e(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function Uz(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Vn(t,r,s,a),l=Vn(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function W6e(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,p=Vn(l,c,d,h),f=Vn(l,c,u,h);s=p.x,a=p.y,i=f.x,o=f.y}else return Uz(t);return[{x:s,y:a},{x:i,y:o}]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(s){H6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function H6e(e,t,r){return t=G6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G6e(e){var t=K6e(e,"string");return pv(t)=="symbol"?t:t+""}function K6e(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6e(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,f=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!f||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var y,g=Nm;if(p==="ScatterChart")y=o,g=nNe;else if(p==="BarChart")y=q6e(h,o,c,u),g=gk;else if(h==="radial"){var v=Uz(o),b=v.cx,S=v.cy,N=v.radius,w=v.startAngle,C=v.endAngle;y={cx:b,cy:S,startAngle:w,endAngle:C,innerRadius:N,outerRadius:N},g=RB}else y={points:W6e(h,o,c)},g=Nm;var L=s1(s1(s1(s1({stroke:"#ccc",pointerEvents:"none"},c),y),Dt(f,!1)),{},{payload:l,payloadIndex:d,className:gr("recharts-tooltip-cursor",f.className)});return _.isValidElement(f)?_.cloneElement(f,L):_.createElement(g,L)}var Z6e=["item"],X6e=["children","className","width","height","style","compact","title","desc"];function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jp.apply(this,arguments)}function U8(e,t){return eAe(e)||J6e(e,t)||qz(e,t)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function eAe(e){if(Array.isArray(e))return e}function V8(e,t){if(e==null)return{};var r=tAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function rAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Wz(s.key),s)}}function sAe(e,t,r){return t&&nAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aAe(e,t,r){return t=l2(t),iAe(e,Vz()?Reflect.construct(t,r||[],l2(e).constructor):t.apply(e,r))}function iAe(e,t){if(t&&(lx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oAe(e)}function oAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vz=function(){return!!e})()}function l2(e){return l2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l2(e)}function lAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H4(e,t)}function H4(e,t){return H4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},H4(e,t)}function cx(e){return uAe(e)||dAe(e)||qz(e)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qz(e,t){if(e){if(typeof e=="string")return G4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G4(e,t)}}function dAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uAe(e){if(Array.isArray(e))return G4(e)}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(s){Qt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Qt(e,t,r){return t=Wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=hAe(e,"string");return lx(t)=="symbol"?t:t+""}function hAe(e,t){if(lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fAe={xAxis:["bottom","top"],yAxis:["left","right"]},mAe={width:"100%",height:"100%"},Hz={x:0,y:0};function a1(e){return e}var pAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gAe=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Qe(Qe(Qe({},a),Vn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Qe(Qe(Qe({},a),Vn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return Hz},Uj=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(cx(l),cx(d)):l},[]);return o.length>0?o:t&&t.length&&dt(a)&&dt(i)?t.slice(a,i+1):[]};function Gz(e){return e==="number"?[0,"auto"]:void 0}var K4=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Uj(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;p=ow(f,o.dataKey,a)}else p=h&&h[s]||l[s];return p?[].concat(cx(c),[OB(d,p)]):c},[])},W8=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=pAe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=O1e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,p=K4(t,r,u,h),f=gAe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},xAe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,p=t.stackOffset,f=AB(u,i);return s.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?Qe(Qe({},g.type.defaultProps),g.props):g.props,S=b.type,N=b.dataKey,w=b.allowDataOverflow,C=b.allowDuplicatedCategory,L=b.scale,k=b.ticks,A=b.includeHidden,P=b[o];if(y[P])return y;var B=Uj(t.data,{graphicalItems:a.filter(function(F){var Z,Q=o in F.props?F.props[o]:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z[o];return Q===P}),dataStartIndex:c,dataEndIndex:d}),T=B.length,I,M,D;V6e(b.domain,w,S)&&(I=o4(b.domain,null,w),f&&(S==="number"||L!=="auto")&&(D=dy(B,N,"category")));var V=Gz(S);if(!I||I.length===0){var z,X=(z=b.domain)!==null&&z!==void 0?z:V;if(N){if(I=dy(B,N,S),S==="category"&&f){var q=joe(I);C&&q?(M=I,I=Kw(0,T)):C||(I=uO(X,I,g).reduce(function(F,Z){return F.indexOf(Z)>=0?F:[].concat(cx(F),[Z])},[]))}else if(S==="category")C?I=I.filter(function(F){return F!==""&&!hr(F)}):I=uO(X,I,g).reduce(function(F,Z){return F.indexOf(Z)>=0||Z===""||hr(Z)?F:[].concat(cx(F),[Z])},[]);else if(S==="number"){var Y=F1e(B,a.filter(function(F){var Z,Q,ae=o in F.props?F.props[o]:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z[o],de="hide"in F.props?F.props.hide:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return ae===P&&(A||!de)}),N,i,u);Y&&(I=Y)}f&&(S==="number"||L!=="auto")&&(D=dy(B,N,"category"))}else f?I=Kw(0,T):l&&l[P]&&l[P].hasStack&&S==="number"?I=p==="expand"?[0,1]:EB(l[P].stackGroups,c,d):I=_B(B,a.filter(function(F){var Z=o in F.props?F.props[o]:F.type.defaultProps[o],Q="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return Z===P&&(A||!Q)}),S,u,!0);if(S==="number")I=W4(h,I,P,i,k),X&&(I=o4(X,I,w));else if(S==="category"&&X){var ie=X,W=I.every(function(F){return ie.indexOf(F)>=0});W&&(I=ie)}}return Qe(Qe({},y),{},Qt({},P,Qe(Qe({},b),{},{axisType:i,domain:I,categoricalDomain:D,duplicateDomain:M,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:f,layout:u})))},{})},yAe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,h=t.children,p=Uj(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=p.length,y=AB(u,i),g=-1;return s.reduce(function(v,b){var S=b.type.defaultProps!==void 0?Qe(Qe({},b.type.defaultProps),b.props):b.props,N=S[o],w=Gz("number");if(!v[N]){g++;var C;return y?C=Kw(0,f):l&&l[N]&&l[N].hasStack?(C=EB(l[N].stackGroups,c,d),C=W4(h,C,N,i)):(C=o4(w,_B(p,s.filter(function(L){var k,A,P=o in L.props?L.props[o]:(k=L.type.defaultProps)===null||k===void 0?void 0:k[o],B="hide"in L.props?L.props.hide:(A=L.type.defaultProps)===null||A===void 0?void 0:A.hide;return P===N&&!B}),"number",u),a.defaultProps.allowDataOverflow),C=W4(h,C,N,i)),Qe(Qe({},v),{},Qt({},N,Qe(Qe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Fo(fAe,"".concat(i,".").concat(g%2),null),domain:C,originalDomain:w,isCategorical:y,layout:u})))}return v},{})},vAe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,h="".concat(a,"Id"),p=Ro(u,i),f={};return p&&p.length?f=xAe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=yAe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},bAe=function(t){var r=ph(t),s=Gd(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:VA(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Dw(r,s)}},H8=function(t){var r=t.children,s=t.defaultShowTooltip,a=Co(r,Qg),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},wAe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Zd(r&&r.type);return s&&s.indexOf("Bar")>=0})},G8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jAe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,p=s.margin||{},f=Co(h,Qg),y=Co(h,Rh),g=Object.keys(c).reduce(function(C,L){var k=c[L],A=k.orientation;return!k.mirror&&!k.hide?Qe(Qe({},C),{},Qt({},A,C[A]+k.width)):C},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(C,L){var k=o[L],A=k.orientation;return!k.mirror&&!k.hide?Qe(Qe({},C),{},Qt({},A,Fo(C,"".concat(A))+k.height)):C},{top:p.top||0,bottom:p.bottom||0}),b=Qe(Qe({},v),g),S=b.bottom;f&&(b.bottom+=f.props.height||Qg.defaultProps.height),y&&r&&(b=M1e(b,a,s,r));var N=d-b.left-b.right,w=u-b.top-b.bottom;return Qe(Qe({brushBottom:S},b),{},{width:Math.max(N,0),height:Math.max(w,0)})},NAe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Vj=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,p=function(b,S){var N=S.graphicalItems,w=S.stackGroups,C=S.offset,L=S.updateId,k=S.dataStartIndex,A=S.dataEndIndex,P=b.barSize,B=b.layout,T=b.barGap,I=b.barCategoryGap,M=b.maxBarSize,D=G8(B),V=D.numericAxisName,z=D.cateAxisName,X=wAe(N),q=[];return N.forEach(function(Y,ie){var W=Uj(b.data,{graphicalItems:[Y],dataStartIndex:k,dataEndIndex:A}),F=Y.type.defaultProps!==void 0?Qe(Qe({},Y.type.defaultProps),Y.props):Y.props,Z=F.dataKey,Q=F.maxBarSize,ae=F["".concat(V,"Id")],de=F["".concat(z,"Id")],ge={},Se=c.reduce(function(te,ye){var Ce=S["".concat(ye.axisType,"Map")],Pe=F["".concat(ye.axisType,"Id")];Ce&&Ce[Pe]||ye.axisType==="zAxis"||Dm();var Ee=Ce[Pe];return Qe(Qe({},te),{},Qt(Qt({},ye.axisType,Ee),"".concat(ye.axisType,"Ticks"),Gd(Ee)))},ge),J=Se[z],he=Se["".concat(z,"Ticks")],ee=w&&w[ae]&&w[ae].hasStack&&H1e(Y,w[ae].stackGroups),le=Zd(Y.type).indexOf("Bar")>=0,ke=Dw(J,he),Ne=[],G=X&&L1e({barSize:P,stackGroups:w,totalSize:NAe(Se,z)});if(le){var Ae,ze,Be=hr(Q)?M:Q,qe=(Ae=(ze=Dw(J,he,!0))!==null&&ze!==void 0?ze:Be)!==null&&Ae!==void 0?Ae:0;Ne=I1e({barGap:T,barCategoryGap:I,bandSize:qe!==ke?qe:ke,sizeList:G[de],maxBarSize:Be}),qe!==ke&&(Ne=Ne.map(function(te){return Qe(Qe({},te),{},{position:Qe(Qe({},te.position),{},{offset:te.position.offset-qe/2})})}))}var H=Y&&Y.type&&Y.type.getComposedData;H&&q.push({props:Qe(Qe({},H(Qe(Qe({},Se),{},{displayedData:W,props:b,dataKey:Z,item:Y,bandSize:ke,barPosition:Ne,offset:C,stackedData:ee,layout:B,dataStartIndex:k,dataEndIndex:A}))),{},Qt(Qt(Qt({key:Y.key||"item-".concat(ie)},V,Se[V]),z,Se[z]),"animationId",L)),childIndex:Ioe(Y,b.children),item:Y})}),q},f=function(b,S){var N=b.props,w=b.dataStartIndex,C=b.dataEndIndex,L=b.updateId;if(!aT({props:N}))return null;var k=N.children,A=N.layout,P=N.stackOffset,B=N.data,T=N.reverseStackOrder,I=G8(A),M=I.numericAxisName,D=I.cateAxisName,V=Ro(k,s),z=q1e(B,V,"".concat(M,"Id"),"".concat(D,"Id"),P,T),X=c.reduce(function(F,Z){var Q="".concat(Z.axisType,"Map");return Qe(Qe({},F),{},Qt({},Q,vAe(N,Qe(Qe({},Z),{},{graphicalItems:V,stackGroups:Z.axisType===M&&z,dataStartIndex:w,dataEndIndex:C}))))},{}),q=jAe(Qe(Qe({},X),{},{props:N,graphicalItems:V}),S?.legendBBox);Object.keys(X).forEach(function(F){X[F]=u(N,X[F],q,F.replace("Map",""),r)});var Y=X["".concat(D,"Map")],ie=bAe(Y),W=p(N,Qe(Qe({},X),{},{dataStartIndex:w,dataEndIndex:C,updateId:L,graphicalItems:V,stackGroups:z,offset:q}));return Qe(Qe({formattedGraphicalItems:W,graphicalItems:V,offset:q,stackGroups:z},ie),X)},y=function(v){function b(S){var N,w,C;return rAe(this,b),C=aAe(this,b,[S]),Qt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qt(C,"accessibilityManager",new U6e),Qt(C,"handleLegendBBoxUpdate",function(L){if(L){var k=C.state,A=k.dataStartIndex,P=k.dataEndIndex,B=k.updateId;C.setState(Qe({legendBBox:L},f({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:B},Qe(Qe({},C.state),{},{legendBBox:L}))))}}),Qt(C,"handleReceiveSyncEvent",function(L,k,A){if(C.props.syncId===L){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),Qt(C,"handleBrushChange",function(L){var k=L.startIndex,A=L.endIndex;if(k!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var P=C.state.updateId;C.setState(function(){return Qe({dataStartIndex:k,dataEndIndex:A},f({props:C.props,dataStartIndex:k,dataEndIndex:A,updateId:P},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:A})}}),Qt(C,"handleMouseEnter",function(L){var k=C.getMouseInfo(L);if(k){var A=Qe(Qe({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseEnter;Jt(P)&&P(A,L)}}),Qt(C,"triggeredAfterMouseMove",function(L){var k=C.getMouseInfo(L),A=k?Qe(Qe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseMove;Jt(P)&&P(A,L)}),Qt(C,"handleItemMouseEnter",function(L){C.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),Qt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Qt(C,"handleMouseMove",function(L){L.persist(),C.throttleTriggeredAfterMouseMove(L)}),Qt(C,"handleMouseLeave",function(L){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var A=C.props.onMouseLeave;Jt(A)&&A(k,L)}),Qt(C,"handleOuterEvent",function(L){var k=Loe(L),A=Fo(C.props,"".concat(k));if(k&&Jt(A)){var P,B;/.*touch.*/i.test(k)?B=C.getMouseInfo(L.changedTouches[0]):B=C.getMouseInfo(L),A((P=B)!==null&&P!==void 0?P:{},L)}}),Qt(C,"handleClick",function(L){var k=C.getMouseInfo(L);if(k){var A=Qe(Qe({},k),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var P=C.props.onClick;Jt(P)&&P(A,L)}}),Qt(C,"handleMouseDown",function(L){var k=C.props.onMouseDown;if(Jt(k)){var A=C.getMouseInfo(L);k(A,L)}}),Qt(C,"handleMouseUp",function(L){var k=C.props.onMouseUp;if(Jt(k)){var A=C.getMouseInfo(L);k(A,L)}}),Qt(C,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),Qt(C,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&C.handleMouseDown(L.changedTouches[0])}),Qt(C,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&C.handleMouseUp(L.changedTouches[0])}),Qt(C,"handleDoubleClick",function(L){var k=C.props.onDoubleClick;if(Jt(k)){var A=C.getMouseInfo(L);k(A,L)}}),Qt(C,"handleContextMenu",function(L){var k=C.props.onContextMenu;if(Jt(k)){var A=C.getMouseInfo(L);k(A,L)}}),Qt(C,"triggerSyncEvent",function(L){C.props.syncId!==void 0&&$5.emit(B5,C.props.syncId,L,C.eventEmitterSymbol)}),Qt(C,"applySyncEvent",function(L){var k=C.props,A=k.layout,P=k.syncMethod,B=C.state.updateId,T=L.dataStartIndex,I=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)C.setState(Qe({dataStartIndex:T,dataEndIndex:I},f({props:C.props,dataStartIndex:T,dataEndIndex:I,updateId:B},C.state)));else if(L.activeTooltipIndex!==void 0){var M=L.chartX,D=L.chartY,V=L.activeTooltipIndex,z=C.state,X=z.offset,q=z.tooltipTicks;if(!X)return;if(typeof P=="function")V=P(q,L);else if(P==="value"){V=-1;for(var Y=0;Y<q.length;Y++)if(q[Y].value===L.activeLabel){V=Y;break}}var ie=Qe(Qe({},X),{},{x:X.left,y:X.top}),W=Math.min(M,ie.x+ie.width),F=Math.min(D,ie.y+ie.height),Z=q[V]&&q[V].value,Q=K4(C.state,C.props.data,V),ae=q[V]?{x:A==="horizontal"?q[V].coordinate:W,y:A==="horizontal"?F:q[V].coordinate}:Hz;C.setState(Qe(Qe({},L),{},{activeLabel:Z,activeCoordinate:ae,activePayload:Q,activeTooltipIndex:V}))}else C.setState(L)}),Qt(C,"renderCursor",function(L){var k,A=C.state,P=A.isTooltipActive,B=A.activeCoordinate,T=A.activePayload,I=A.offset,M=A.activeTooltipIndex,D=A.tooltipAxisBandSize,V=C.getTooltipEventType(),z=(k=L.props.active)!==null&&k!==void 0?k:P,X=C.props.layout,q=L.key||"_recharts-cursor";return ve.createElement(Y6e,{key:q,activeCoordinate:B,activePayload:T,activeTooltipIndex:M,chartName:r,element:L,isActive:z,layout:X,offset:I,tooltipAxisBandSize:D,tooltipEventType:V})}),Qt(C,"renderPolarAxis",function(L,k,A){var P=Fo(L,"type.axisType"),B=Fo(C.state,"".concat(P,"Map")),T=L.type.defaultProps,I=T!==void 0?Qe(Qe({},T),L.props):L.props,M=B&&B[I["".concat(P,"Id")]];return _.cloneElement(L,Qe(Qe({},M),{},{className:gr(P,M.className),key:L.key||"".concat(k,"-").concat(A),ticks:Gd(M,!0)}))}),Qt(C,"renderPolarGrid",function(L){var k=L.props,A=k.radialLines,P=k.polarAngles,B=k.polarRadius,T=C.state,I=T.radiusAxisMap,M=T.angleAxisMap,D=ph(I),V=ph(M),z=V.cx,X=V.cy,q=V.innerRadius,Y=V.outerRadius;return _.cloneElement(L,{polarAngles:Array.isArray(P)?P:Gd(V,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(B)?B:Gd(D,!0).map(function(ie){return ie.coordinate}),cx:z,cy:X,innerRadius:q,outerRadius:Y,key:L.key||"polar-grid",radialLines:A})}),Qt(C,"renderLegend",function(){var L=C.state.formattedGraphicalItems,k=C.props,A=k.children,P=k.width,B=k.height,T=C.props.margin||{},I=P-(T.left||0)-(T.right||0),M=NB({children:A,formattedGraphicalItems:L,legendWidth:I,legendContent:d});if(!M)return null;var D=M.item,V=V8(M,Z6e);return _.cloneElement(D,Qe(Qe({},V),{},{chartWidth:P,chartHeight:B,margin:T,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Qt(C,"renderTooltip",function(){var L,k=C.props,A=k.children,P=k.accessibilityLayer,B=Co(A,ra);if(!B)return null;var T=C.state,I=T.isTooltipActive,M=T.activeCoordinate,D=T.activePayload,V=T.activeLabel,z=T.offset,X=(L=B.props.active)!==null&&L!==void 0?L:I;return _.cloneElement(B,{viewBox:Qe(Qe({},z),{},{x:z.left,y:z.top}),active:X,label:V,payload:X?D:[],coordinate:M,accessibilityLayer:P})}),Qt(C,"renderBrush",function(L){var k=C.props,A=k.margin,P=k.data,B=C.state,T=B.offset,I=B.dataStartIndex,M=B.dataEndIndex,D=B.updateId;return _.cloneElement(L,{key:L.key||"_recharts-brush",onChange:e1(C.handleBrushChange,L.props.onChange),data:P,x:dt(L.props.x)?L.props.x:T.left,y:dt(L.props.y)?L.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:dt(L.props.width)?L.props.width:T.width,startIndex:I,endIndex:M,updateId:"brush-".concat(D)})}),Qt(C,"renderReferenceElement",function(L,k,A){if(!L)return null;var P=C,B=P.clipPathId,T=C.state,I=T.xAxisMap,M=T.yAxisMap,D=T.offset,V=L.type.defaultProps||{},z=L.props,X=z.xAxisId,q=X===void 0?V.xAxisId:X,Y=z.yAxisId,ie=Y===void 0?V.yAxisId:Y;return _.cloneElement(L,{key:L.key||"".concat(k,"-").concat(A),xAxis:I[q],yAxis:M[ie],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:B})}),Qt(C,"renderActivePoints",function(L){var k=L.item,A=L.activePoint,P=L.basePoint,B=L.childIndex,T=L.isRange,I=[],M=k.props.key,D=k.item.type.defaultProps!==void 0?Qe(Qe({},k.item.type.defaultProps),k.item.props):k.item.props,V=D.activeDot,z=D.dataKey,X=Qe(Qe({index:B,dataKey:z,cx:A.x,cy:A.y,r:4,fill:pk(k.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Dt(V,!1)),lw(V));return I.push(b.renderActiveDot(V,X,"".concat(M,"-activePoint-").concat(B))),P?I.push(b.renderActiveDot(V,Qe(Qe({},X),{},{cx:P.x,cy:P.y}),"".concat(M,"-basePoint-").concat(B))):T&&I.push(null),I}),Qt(C,"renderGraphicChild",function(L,k,A){var P=C.filterFormatItem(L,k,A);if(!P)return null;var B=C.getTooltipEventType(),T=C.state,I=T.isTooltipActive,M=T.tooltipAxis,D=T.activeTooltipIndex,V=T.activeLabel,z=C.props.children,X=Co(z,ra),q=P.props,Y=q.points,ie=q.isRange,W=q.baseLine,F=P.item.type.defaultProps!==void 0?Qe(Qe({},P.item.type.defaultProps),P.item.props):P.item.props,Z=F.activeDot,Q=F.hide,ae=F.activeBar,de=F.activeShape,ge=!!(!Q&&I&&X&&(Z||ae||de)),Se={};B!=="axis"&&X&&X.props.trigger==="click"?Se={onClick:e1(C.handleItemMouseEnter,L.props.onClick)}:B!=="axis"&&(Se={onMouseLeave:e1(C.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:e1(C.handleItemMouseEnter,L.props.onMouseEnter)});var J=_.cloneElement(L,Qe(Qe({},P.props),Se));function he(ye){return typeof M.dataKey=="function"?M.dataKey(ye.payload):null}if(ge)if(D>=0){var ee,le;if(M.dataKey&&!M.allowDuplicatedCategory){var ke=typeof M.dataKey=="function"?he:"payload.".concat(M.dataKey.toString());ee=ow(Y,ke,V),le=ie&&W&&ow(W,ke,V)}else ee=Y?.[D],le=ie&&W&&W[D];if(de||ae){var Ne=L.props.activeIndex!==void 0?L.props.activeIndex:D;return[_.cloneElement(L,Qe(Qe(Qe({},P.props),Se),{},{activeIndex:Ne})),null,null]}if(!hr(ee))return[J].concat(cx(C.renderActivePoints({item:P,activePoint:ee,basePoint:le,childIndex:D,isRange:ie})))}else{var G,Ae=(G=C.getItemByXY(C.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:J},ze=Ae.graphicalItem,Be=ze.item,qe=Be===void 0?L:Be,H=ze.childIndex,te=Qe(Qe(Qe({},P.props),Se),{},{activeIndex:H});return[_.cloneElement(qe,te),null,null]}return ie?[J,null,null]:[J,null]}),Qt(C,"renderCustomized",function(L,k,A){return _.cloneElement(L,Qe(Qe({key:"recharts-customized-".concat(A)},C.props),C.state))}),Qt(C,"renderMap",{CartesianGrid:{handler:a1,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:a1},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:a1},YAxis:{handler:a1},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=S.id)!==null&&N!==void 0?N:Xm("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=j$(C.triggeredAfterMouseMove,(w=S.throttleDelay)!==null&&w!==void 0?w:1e3/60),C.state={},C}return lAe(b,v),sAe(b,[{key:"componentDidMount",value:function(){var N,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,w=N.children,C=N.data,L=N.height,k=N.layout,A=Co(w,ra);if(A){var P=A.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,T=K4(this.state,C,P,B),I=this.state.tooltipTicks[P].coordinate,M=(this.state.offset.top+L)/2,D=k==="horizontal",V=D?{x:I,y:M}:{y:I,x:M},z=this.state.formattedGraphicalItems.find(function(q){var Y=q.item;return Y.type.name==="Scatter"});z&&(V=Qe(Qe({},V),z.props.points[P].tooltipPosition),T=z.props.points[P].tooltipPayload);var X={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:B,activePayload:T,activeCoordinate:V};this.setState(X),this.renderCursor(A),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,L;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(N){j_([Co(N.children,ra)],[Co(this.props.children,ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Co(this.props.children,ra);if(N&&typeof N.props.shared=="boolean"){var w=N.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var w=this.container,C=w.getBoundingClientRect(),L=i0e(C),k={chartX:Math.round(N.pageX-L.left),chartY:Math.round(N.pageY-L.top)},A=C.width/w.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,A);if(!P)return null;var B=this.state,T=B.xAxisMap,I=B.yAxisMap,M=this.getTooltipEventType(),D=W8(this.state,this.props.data,this.props.layout,P);if(M!=="axis"&&T&&I){var V=ph(T).scale,z=ph(I).scale,X=V&&V.invert?V.invert(k.chartX):null,q=z&&z.invert?z.invert(k.chartY):null;return Qe(Qe({},k),{},{xValue:X,yValue:q},D)}return D?Qe(Qe({},k),D):null}},{key:"inRange",value:function(N,w){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,k=N/C,A=w/C;if(L==="horizontal"||L==="vertical"){var P=this.state.offset,B=k>=P.left&&k<=P.left+P.width&&A>=P.top&&A<=P.top+P.height;return B?{x:k,y:A}:null}var T=this.state,I=T.angleAxisMap,M=T.radiusAxisMap;if(I&&M){var D=ph(I);return mO({x:k,y:A},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,w=this.getTooltipEventType(),C=Co(N,ra),L={};C&&w==="axis"&&(C.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=lw(this.props,this.handleOuterEvent);return Qe(Qe({},k),L)}},{key:"addListener",value:function(){$5.on(B5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$5.removeListener(B5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,w,C){for(var L=this.state.formattedGraphicalItems,k=0,A=L.length;k<A;k++){var P=L[k];if(P.item===N||P.props.key===N.key||w===Zd(P.item.type)&&C===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,w=this.state.offset,C=w.left,L=w.top,k=w.height,A=w.width;return ve.createElement("defs",null,ve.createElement("clipPath",{id:N},ve.createElement("rect",{x:C,y:L,height:k,width:A})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(w,C){var L=U8(C,2),k=L[0],A=L[1];return Qe(Qe({},w),{},Qt({},k,A.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(w,C){var L=U8(C,2),k=L[0],A=L[1];return Qe(Qe({},w),{},Qt({},k,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(N){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[N])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(N){var w=this.state,C=w.formattedGraphicalItems,L=w.activeItem;if(C&&C.length)for(var k=0,A=C.length;k<A;k++){var P=C[k],B=P.props,T=P.item,I=T.type.defaultProps!==void 0?Qe(Qe({},T.type.defaultProps),T.props):T.props,M=Zd(T.type);if(M==="Bar"){var D=(B.data||[]).find(function(q){return Fje(N,q)});if(D)return{graphicalItem:P,payload:D}}else if(M==="RadialBar"){var V=(B.data||[]).find(function(q){return mO(N,q)});if(V)return{graphicalItem:P,payload:V}}else if(Mj(P,L)||Dj(P,L)||cv(P,L)){var z=_5e({graphicalItem:P,activeTooltipItem:L,itemData:I.data}),X=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Qe(Qe({},P),{},{childIndex:X}),payload:cv(P,L)?I.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!aT(this))return null;var w=this.props,C=w.children,L=w.className,k=w.width,A=w.height,P=w.style,B=w.compact,T=w.title,I=w.desc,M=V8(w,X6e),D=Dt(M,!1);if(B)return ve.createElement(j8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement(S_,Jp({},D,{width:k,height:A,title:T,desc:I}),this.renderClipPath(),oT(C,this.renderMap)));if(this.props.accessibilityLayer){var V,z;D.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,D.role=(z=this.props.role)!==null&&z!==void 0?z:"application",D.onKeyDown=function(q){N.accessibilityManager.keyboardEvent(q)},D.onFocus=function(){N.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return ve.createElement(j8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ve.createElement("div",Jp({className:gr("recharts-wrapper",L),style:Qe({position:"relative",cursor:"default",width:k,height:A},P)},X,{ref:function(Y){N.container=Y}}),ve.createElement(S_,Jp({},D,{width:k,height:A,title:T,desc:I,style:mAe}),this.renderClipPath(),oT(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Qt(y,"displayName",r),Qt(y,"defaultProps",Qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Qt(y,"getDerivedStateFromProps",function(v,b){var S=v.dataKey,N=v.data,w=v.children,C=v.width,L=v.height,k=v.layout,A=v.stackOffset,P=v.margin,B=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var I=H8(v);return Qe(Qe(Qe({},I),{},{updateId:0},f(Qe(Qe({props:v},I),{},{updateId:0}),b)),{},{prevDataKey:S,prevData:N,prevWidth:C,prevHeight:L,prevLayout:k,prevStackOffset:A,prevMargin:P,prevChildren:w})}if(S!==b.prevDataKey||N!==b.prevData||C!==b.prevWidth||L!==b.prevHeight||k!==b.prevLayout||A!==b.prevStackOffset||!ug(P,b.prevMargin)){var M=H8(v),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=Qe(Qe({},W8(b,N,k)),{},{updateId:b.updateId+1}),z=Qe(Qe(Qe({},M),D),V);return Qe(Qe(Qe({},z),f(Qe({props:v},z),b)),{},{prevDataKey:S,prevData:N,prevWidth:C,prevHeight:L,prevLayout:k,prevStackOffset:A,prevMargin:P,prevChildren:w})}if(!j_(w,b.prevChildren)){var X,q,Y,ie,W=Co(w,Qg),F=W&&(X=(q=W.props)===null||q===void 0?void 0:q.startIndex)!==null&&X!==void 0?X:B,Z=W&&(Y=(ie=W.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&Y!==void 0?Y:T,Q=F!==B||Z!==T,ae=!hr(N),de=ae&&!Q?b.updateId:b.updateId+1;return Qe(Qe({updateId:de},f(Qe(Qe({props:v},b),{},{updateId:de,dataStartIndex:F,dataEndIndex:Z}),b)),{},{prevChildren:w,dataStartIndex:F,dataEndIndex:Z})}return null}),Qt(y,"renderActiveDot",function(v,b,S){var N;return _.isValidElement(v)?N=_.cloneElement(v,b):Jt(v)?N=v(b):N=ve.createElement(Wv,b),ve.createElement(Br,{className:"recharts-active-dot",key:S},N)});var g=_.forwardRef(function(b,S){return ve.createElement(y,Jp({},b,{ref:S}))});return g.displayName=y.displayName,g},SAe=Vj({chartName:"LineChart",GraphicalChild:Sm,axisComponents:[{axisType:"xAxis",AxisComp:Po},{axisType:"yAxis",AxisComp:To}],formatAxisMap:xk}),K8=Vj({chartName:"BarChart",GraphicalChild:Qd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Po},{axisType:"yAxis",AxisComp:To}],formatAxisMap:xk}),kk=Vj({chartName:"PieChart",GraphicalChild:dc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ij},{axisType:"radiusAxis",AxisComp:Oj}],formatAxisMap:rwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),py=Vj({chartName:"AreaChart",GraphicalChild:Li,axisComponents:[{axisType:"xAxis",AxisComp:Po},{axisType:"yAxis",AxisComp:To}],formatAxisMap:xk});function ws(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sd(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _Ae(e,t){const r=ws(e);return isNaN(t)?sd(e,NaN):r}function Kz(e,t){const r=ws(e);if(isNaN(t))return sd(e,NaN);if(!t)return r;const s=r.getDate(),a=sd(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const Yz=6048e5,AAe=864e5,Zz=6e4,Xz=36e5;let kAe={};function Hv(){return kAe}function Rm(e,t){const r=Hv(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ws(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function c2(e){return Rm(e,{weekStartsOn:1})}function Qz(e){const t=ws(e),r=t.getFullYear(),s=sd(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=c2(s),i=sd(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=c2(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function d2(e){const t=ws(e);return t.setHours(0,0,0,0),t}function Y8(e){const t=ws(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function CAe(e,t){const r=d2(e),s=d2(t),a=+r-Y8(r),i=+s-Y8(s);return Math.round((a-i)/AAe)}function PAe(e){const t=Qz(e),r=sd(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),c2(r)}function Ld(e,t){const r=d2(e),s=d2(t);return+r==+s}function TAe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function EAe(e){if(!TAe(e)&&typeof e!="number")return!1;const t=ws(e);return!isNaN(Number(t))}function OAe(e){const t=ws(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Z8(e,t){const r=ws(e.start),s=ws(e.end);let a=+r>+s;const i=a?+r:+s,o=a?s:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ws(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function LAe(e){const t=ws(e);return t.setDate(1),t.setHours(0,0,0,0),t}function IAe(e){const t=ws(e),r=sd(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function X8(e,t){const r=Hv(),s=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ws(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const MAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DAe=(e,t,r)=>{let s;const a=MAe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function U5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const FAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},RAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$Ae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BAe={date:U5({formats:FAe,defaultWidth:"full"}),time:U5({formats:RAe,defaultWidth:"full"}),dateTime:U5({formats:$Ae,defaultWidth:"full"})},zAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UAe=(e,t,r,s)=>zAe[e];function B0(e){return(t,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const VAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YAe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ZAe={ordinalNumber:YAe,era:B0({values:VAe,defaultWidth:"wide"}),quarter:B0({values:qAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:B0({values:WAe,defaultWidth:"wide"}),day:B0({values:HAe,defaultWidth:"wide"}),dayPeriod:B0({values:GAe,defaultWidth:"wide",formattingValues:KAe,defaultFormattingWidth:"wide"})};function z0(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?QAe(l,h=>h.test(o)):XAe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function XAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function QAe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function JAe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const eke=/^(\d+)(th|st|nd|rd)?/i,tke=/\d+/i,rke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nke={any:[/^b/i,/^(a|c)/i]},ske={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ake={any:[/1/i,/2/i,/3/i,/4/i]},ike={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hke={ordinalNumber:JAe({matchPattern:eke,parsePattern:tke,valueCallback:e=>parseInt(e,10)}),era:z0({matchPatterns:rke,defaultMatchWidth:"wide",parsePatterns:nke,defaultParseWidth:"any"}),quarter:z0({matchPatterns:ske,defaultMatchWidth:"wide",parsePatterns:ake,defaultParseWidth:"any",valueCallback:e=>e+1}),month:z0({matchPatterns:ike,defaultMatchWidth:"wide",parsePatterns:oke,defaultParseWidth:"any"}),day:z0({matchPatterns:lke,defaultMatchWidth:"wide",parsePatterns:cke,defaultParseWidth:"any"}),dayPeriod:z0({matchPatterns:dke,defaultMatchWidth:"any",parsePatterns:uke,defaultParseWidth:"any"})},fke={code:"en-US",formatDistance:DAe,formatLong:BAe,formatRelative:UAe,localize:ZAe,match:hke,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mke(e){const t=ws(e);return CAe(t,IAe(t))+1}function pke(e){const t=ws(e),r=+c2(t)-+PAe(t);return Math.round(r/Yz)+1}function Jz(e,t){const r=ws(e),s=r.getFullYear(),a=Hv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=sd(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Rm(o,t),c=sd(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Rm(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function gke(e,t){const r=Hv(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Jz(e,t),i=sd(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Rm(i,t)}function xke(e,t){const r=ws(e),s=+Rm(r,t)-+gke(r,t);return Math.round(s/Yz)+1}function wn(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const ah={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return wn(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):wn(r+1,2)},d(e,t){return wn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return wn(e.getHours()%12||12,t.length)},H(e,t){return wn(e.getHours(),t.length)},m(e,t){return wn(e.getMinutes(),t.length)},s(e,t){return wn(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return wn(a,t.length)}},Fp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q8={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return ah.y(e,t)},Y:function(e,t,r,s){const a=Jz(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return wn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):wn(i,t.length)},R:function(e,t){const r=Qz(e);return wn(r,t.length)},u:function(e,t){const r=e.getFullYear();return wn(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return wn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return wn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return ah.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return wn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=xke(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):wn(a,t.length)},I:function(e,t,r){const s=pke(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):wn(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ah.d(e,t)},D:function(e,t,r){const s=mke(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):wn(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return wn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return wn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return wn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Fp.noon:s===0?a=Fp.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Fp.evening:s>=12?a=Fp.afternoon:s>=4?a=Fp.morning:a=Fp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ah.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ah.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):wn(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ah.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ah.s(e,t)},S:function(e,t){return ah.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return eL(s);case"XXXX":case"XX":return Hf(s);case"XXXXX":case"XXX":default:return Hf(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return eL(s);case"xxxx":case"xx":return Hf(s);case"xxxxx":case"xxx":default:return Hf(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+J8(s,":");case"OOOO":default:return"GMT"+Hf(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+J8(s,":");case"zzzz":default:return"GMT"+Hf(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return wn(s,t.length)},T:function(e,t,r){const s=e.getTime();return wn(s,t.length)}};function J8(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+wn(i,2)}function eL(e,t){return e%60===0?(e>0?"-":"+")+wn(Math.abs(e)/60,2):Hf(e,t)}function Hf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=wn(Math.trunc(s/60),2),i=wn(s%60,2);return r+a+t+i}const tL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},yke=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return tL(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",tL(s,t)).replace("{{time}}",eU(a,t))},vke={p:eU,P:yke},bke=/^D+$/,wke=/^Y+$/,jke=["D","DD","YY","YYYY"];function Nke(e){return bke.test(e)}function Ske(e){return wke.test(e)}function _ke(e,t,r){const s=Ake(e,t,r);if(console.warn(s),jke.includes(e))throw new RangeError(s)}function Ake(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pke=/^'([^]*?)'?$/,Tke=/''/g,Eke=/[a-zA-Z]/;function In(e,t,r){const s=Hv(),a=s.locale??fke,i=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=ws(e);if(!EAe(l))throw new RangeError("Invalid time value");let c=t.match(Cke).map(u=>{const h=u[0];if(h==="p"||h==="P"){const p=vke[h];return p(u,a.formatLong)}return u}).join("").match(kke).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:Oke(u)};if(Q8[h])return{isToken:!0,value:u};if(h.match(Eke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(Ske(h)||Nke(h))&&_ke(h,t,String(e));const p=Q8[h[0]];return p(l,h,a.localize,d)}).join("")}function Oke(e){const t=e.match(Pke);return t?t[1].replace(Tke,"'"):e}function Lke(e,t){const r=ws(e),s=ws(t);return r.getTime()>s.getTime()}function Ike(e,t){const r=ws(e),s=ws(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Ln(e,t){const s=Rke(e);let a;if(s.date){const c=$ke(s.date,2);a=Bke(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=zke(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=Uke(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const i1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mke=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Dke=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fke=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Rke(e){const t={},r=e.split(i1.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],i1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(i1.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=i1.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function $ke(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function Bke(e,t){if(t===null)return new Date(NaN);const r=e.match(Mke);if(!r)return new Date(NaN);const s=!!r[4],a=U0(r[1]),i=U0(r[2])-1,o=U0(r[3]),l=U0(r[4]),c=U0(r[5])-1;if(s)return Gke(t,l,c)?Vke(t,l,c):new Date(NaN);{const d=new Date(0);return!Wke(t,i,o)||!Hke(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function U0(e){return e?parseInt(e):1}function zke(e){const t=e.match(Dke);if(!t)return NaN;const r=V5(t[1]),s=V5(t[2]),a=V5(t[3]);return Kke(r,s,a)?r*Xz+s*Zz+a*1e3:NaN}function V5(e){return e&&parseFloat(e.replace(",","."))||0}function Uke(e){if(e==="Z")return 0;const t=e.match(Fke);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Yke(s,a)?r*(s*Xz+a*Zz):NaN}function Vke(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const qke=[31,null,31,30,31,30,31,31,30,31,30,31];function tU(e){return e%400===0||e%4===0&&e%100!==0}function Wke(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(qke[t]||(tU(e)?29:28))}function Hke(e,t){return t>=1&&t<=(tU(e)?366:365)}function Gke(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Kke(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Yke(e,t){return t>=0&&t<=59}function Zke(e,t){return Kz(e,-t)}const rL=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"],nL=()=>{const e=En(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState("30days"),l="asst_crm_operations_v1",c=S=>{switch(S.type){case"email":break;case"booking":break;case"client":d(S);break;case"invoice":u(S);break}h()},d=S=>{S.action==="view_clients"&&e("/admin/clients")},u=S=>{S.action==="view_invoices"&&e("/admin/invoices")};_.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);const[S,N,w,C]=await Promise.allSettled([fetch("/api/crm/dashboard/metrics"),fetch("/api/crm/leads"),fetch("/api/photography/sessions"),fetch("/api/crm/invoices")]),L=S.status==="fulfilled"&&S.value.ok?await S.value.json():{},k=N.status==="fulfilled"&&N.value.ok?await N.value.json():[],A=w.status==="fulfilled"&&w.value.ok?await w.value.json():[],P=C.status==="fulfilled"&&C.value.ok?await C.value.json():[],B=k.filter(D=>{try{const V=new Date(D.createdAt||D.created_at);if(isNaN(V.getTime()))return!1;const z=new Date;return z.setDate(z.getDate()-30),V>=z}catch{return!1}}),T=P.filter(D=>D.status==="paid"),I=p(L.totalRevenue||0,L.paidInvoices||0,k.length),M={totalRevenue:L.totalRevenue||0,monthlyRevenue:L.totalRevenue||0,totalClients:L.totalClients||0,newLeads:B.length,pendingInvoices:P.filter(D=>D.status==="pending").length,upcomingBookings:L.upcomingSessions||0,revenueChart:I.revenueChart,leadConversionChart:I.leadConversionChart,serviceDistribution:I.serviceDistribution,recentLeads:B.slice(0,5),recentBookings:A.slice(0,5),recentInvoices:T.slice(0,5),monthlyGrowth:0,conversionRate:k.length>0?k.filter(D=>D.status==="CONVERTED").length/k.length*100:0,averageOrderValue:L.avgOrderValue||0,clientSatisfaction:4.8};r(M)}catch{}finally{a(!1)}},p=(S,N,w)=>({revenueChart:[{month:"Jul 2025",revenue:S,bookings:N}],leadConversionChart:[{month:"Jul 2025",leads:w,converted:0}],serviceDistribution:[{service:"Photography Services",count:N,revenue:S}]}),f=({title:S,value:N,change:w,icon:C,color:L})=>n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-3 rounded-lg ${L}`,children:n.jsx(C,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:S}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N}),w!==void 0&&n.jsxs("div",{className:"flex items-center mt-1",children:[w>=0?n.jsx(Fs,{className:"h-4 w-4 text-green-500 mr-1"}):n.jsx(NR,{className:"h-4 w-4 text-red-500 mr-1"}),n.jsxs("span",{className:`text-sm ${w>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(w).toFixed(1),"%"]})]})]})]})}),y=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(f,{title:"Total Revenue",value:`€${t?.totalRevenue.toLocaleString()}`,change:t?.monthlyGrowth,icon:rc,color:"bg-purple-500"}),n.jsx(f,{title:"New Leads",value:t?.newLeads,icon:Gn,color:"bg-blue-500"}),n.jsx(f,{title:"Upcoming Bookings",value:t?.upcomingBookings,icon:an,color:"bg-green-500"}),n.jsx(f,{title:"Conversion Rate",value:`${t?.conversionRate.toFixed(1)}%`,icon:Fs,color:"bg-orange-500"})]}),g=()=>n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(py,{data:t?.revenueChart||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Li,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Distribution"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(kk,{children:[n.jsx(dc,{data:t?.serviceDistribution||[],cx:"50%",cy:"50%",labelLine:!1,label:({service:S,count:N})=>`${S} (${N})`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:(t?.serviceDistribution||[]).map((S,N)=>n.jsx(Dx,{fill:rL[N%rL.length]},`cell-${N}`))}),n.jsx(ra,{formatter:S=>[`€${S}`,"Revenue"]})]})})]})]}),v=()=>n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Leads"}),n.jsx("button",{onClick:()=>e("/admin/leads"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentLeads||[]).slice(0,5).map((S,N)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:S.name}),n.jsx("p",{className:"text-sm text-gray-600",children:S.email}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${S.status==="new"?"bg-blue-100 text-blue-800":S.status==="contacted"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.status})]}),n.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const w=new Date(S.createdAt||S.created_at);return isNaN(w.getTime())?"Recent":In(w,"MMM dd")}catch{return"Recent"}})()})]},N))})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Bookings"}),n.jsx("button",{onClick:()=>e("/admin/calendar"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View Calendar"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentBookings||[]).slice(0,5).map((S,N)=>n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:S.client_name||"Client"}),n.jsx("p",{className:"text-sm text-gray-600",children:S.service_type}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[n.jsx(Os,{className:"h-3 w-3 mr-1"}),(()=>{try{const w=new Date(S.booking_date||S.sessionDate||S.created_at);return isNaN(w.getTime())?"No date":In(w,"MMM dd, HH:mm")}catch{return"No date"}})()]})]})},N))})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Invoices"}),n.jsx("button",{onClick:()=>e("/admin/invoices"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentInvoices||[]).slice(0,5).map((S,N)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Invoice #",S.id?.substring(0,8)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["€",(parseFloat(S.total)||0).toFixed(2)]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${S.status==="PENDING"?"bg-yellow-100 text-yellow-800":S.status==="PAID"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status})]}),n.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const w=new Date(S.createdAt||S.created_at);return isNaN(w.getTime())?"Recent":In(w,"MMM dd")}catch{return"Recent"}})()})]},N))})})]})]}),b=()=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>e("/admin/leads"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Gn,{className:"h-5 w-5 text-purple-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Add Lead"})]}),n.jsxs("button",{onClick:()=>e("/admin/calendar"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(an,{className:"h-5 w-5 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Schedule"})]}),n.jsxs("button",{onClick:()=>e("/admin/invoices"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Hn,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Create Invoice"})]}),n.jsxs("button",{onClick:()=>e("/admin/gallery"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Vs,{className:"h-5 w-5 text-orange-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Upload Photos"})]})]})]});return s?n.jsx(Ir,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Overview of your photography business"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{value:i,onChange:S=>o(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"7days",children:"Last 7 Days"}),n.jsx("option",{value:"30days",children:"Last 30 Days"}),n.jsx("option",{value:"90days",children:"Last 90 Days"})]}),n.jsxs("button",{onClick:()=>e("/admin/reports"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(hR,{size:16,className:"mr-2"}),"View Reports"]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>c("reply_to_emails"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border border-blue-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-600 group-hover:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Reply to emails"})]}),n.jsxs("button",{onClick:()=>c("send_booking_confirmations"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border border-green-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 group-hover:text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Send booking confirmations"})]}),n.jsxs("button",{onClick:()=>c("add_new_client"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border border-purple-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-purple-600 group-hover:text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Add new client"})]}),n.jsxs("button",{onClick:()=>c("generate_invoice"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200 border border-yellow-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-yellow-600 group-hover:text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Generate invoice"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"CRM Operations Assistant"]}),n.jsx(iw,{assistantId:l,onCRMAction:c,height:"600px",title:"CRM Operations Assistant",className:"w-full"})]})]}),y(),b(),g(),v()]})})},Xke=()=>{const[e,t]=_.useState({avgOrderValue:0,activeUsers:0,bookedRevenue:0,trendData:[]}),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(0),[c,d]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{t({avgOrderValue:245.5,activeUsers:1247,bookedRevenue:15420,trendData:[{date:"2025-01-01",value:1200},{date:"2025-01-02",value:1350},{date:"2025-01-03",value:1180},{date:"2025-01-04",value:1420},{date:"2025-01-05",value:1380}]}),s([{id:"1",name:"Sarah Mueller",email:"sarah@example.com",phone:"+43 123 456 789",service:"Family Photoshoot",status:"new",createdAt:"2025-01-25T10:30:00Z"},{id:"2",name:"Michael Schmidt",email:"michael@example.com",phone:"+43 987 654 321",service:"Wedding Photography",status:"contacted",createdAt:"2025-01-25T09:15:00Z"},{id:"3",name:"Anna Weber",email:"anna@example.com",phone:"+43 555 123 456",service:"Newborn Photoshoot",status:"new",createdAt:"2025-01-24T16:45:00Z"}]),i([{id:"1",url:"https://images.pexels.com/photos/1668928/pexels-photo-1668928.jpeg",title:"Family Portrait Session",views:1250},{id:"2",url:"https://images.pexels.com/photos/3875080/pexels-photo-3875080.jpeg",title:"Newborn Photography",views:980},{id:"3",url:"https://images.pexels.com/photos/3662850/pexels-photo-3662850.jpeg",title:"Maternity Shoot",views:875}])}catch{}finally{d(!1)}},h=y=>{const v={new:{bg:"bg-blue-100",text:"text-blue-800",label:"New"},contacted:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Contacted"},qualified:{bg:"bg-purple-100",text:"text-purple-800",label:"Qualified"},converted:{bg:"bg-green-100",text:"text-green-800",label:"Converted"}}[y];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,children:v.label})},p=()=>{l(y=>(y+1)%a.length)},f=()=>{l(y=>(y-1+a.length)%a.length)};return c?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"CRM Dashboard (Development Mode)"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:"Auth Bypassed"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(rc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.avgOrderValue]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Gn,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.activeUsers.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Fs,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booked Revenue"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.bookedRevenue.toLocaleString()]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(an,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"24"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New Leads"}),n.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm flex items-center",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Add Lead"]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(y=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),n.jsx("div",{className:"text-sm text-gray-500",children:y.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.service}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(y.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:n.jsx(ts,{size:16})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",children:n.jsx(Ga,{size:16})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(Ns,{size:16})})]})})]},y.id))})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Popular Images"})}),n.jsx("div",{className:"p-6",children:a.length>0&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:n.jsx("img",{src:a[o].url,alt:a[o].title,className:"w-full h-48 object-cover rounded-lg"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:a[o].title}),n.jsxs("p",{className:"text-sm text-gray-500",children:[a[o].views," views"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:f,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:n.jsx(Dv,{size:16})}),n.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:n.jsx(Hc,{size:16})})]})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Tr,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Add New Lead"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(an,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Schedule Shoot"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Gn,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Add Client"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Fs,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"View Reports"})]})]})]})]})]})},Qke=()=>{const[e,t]=_.useState("matt@newagefotografie.com"),[r,s]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState(null),[u,h]=_.useState(!0),p=En(),{signIn:f,user:y,isAdmin:g}=K2();_.useEffect(()=>{v()},[]),_.useEffect(()=>{y&&g&&p("/admin/dashboard")},[y,g,p]);const v=async()=>{h(!0);try{const k=await fetch("/api/status");if(k.ok)d({active:!0,error:null,statusCode:k.status});else throw new Error("API not responding")}catch{d({active:!1,error:"Failed to connect to database",statusCode:0})}finally{h(!1)}},b=async k=>{if(k.preventDefault(),k.stopPropagation(),!o){i(""),l(!0);try{await f(e,r)}catch(A){let P="Login failed";A instanceof Error?P=A.message:typeof A=="object"&&A!==null&&"message"in A&&(P=String(A.message)),i(P),(P.toLowerCase().includes("project paused")||P.toLowerCase().includes("project_paused"))&&setTimeout(()=>{v()},1e3)}finally{l(!1)}}},S=async()=>{await v()},N=()=>u?"text-yellow-400":c?.active?"text-green-400":c?.statusCode===503?"text-orange-400":"text-red-400",w=()=>u?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400 mr-2"}):c?.active?n.jsx(Fr,{className:"h-4 w-4 mr-2"}):n.jsx(SR,{className:"h-4 w-4 mr-2"}),C=()=>u?"Checking...":c?.active?"Active":c?.statusCode===503?"Paused":c?.statusCode===500?"Database Error":"Issue Detected",L=c?.statusCode===503||c?.error&&c.error.includes("paused");return n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-0",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mx-auto h-24 w-auto flex items-center justify-center mb-8",children:n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-24 w-auto object-contain"})}),n.jsx("h2",{className:"text-center text-3xl font-extrabold text-white",children:"Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Access the CRM dashboard"})]}),n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Database Status:"}),n.jsxs("div",{className:`flex items-center ${N()}`,children:[w(),n.jsx("span",{className:"text-sm",children:C()})]})]}),!u&&!c?.active&&n.jsxs("div",{className:`mt-3 p-3 border rounded ${L?"bg-orange-900 border-orange-700":"bg-red-900 border-red-700"}`,children:[n.jsx("p",{className:`text-sm mb-2 ${L?"text-orange-100":"text-red-100"}`,children:c?.error||"Database is not accessible"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("button",{onClick:S,disabled:u,className:`flex items-center justify-center text-xs px-3 py-1 rounded border transition-colors ${L?"text-orange-300 border-orange-600 hover:text-orange-100 hover:border-orange-500":"text-red-300 border-red-600 hover:text-red-100 hover:border-red-500"} disabled:opacity-50`,children:[n.jsx(Gh,{className:`h-3 w-3 mr-1 ${u?"animate-spin":""}`}),"Retry Check"]}),L&&n.jsxs("a",{href:"https://console.neon.tech",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-xs text-orange-300 hover:text-orange-100 px-3 py-1 rounded border border-orange-600 hover:border-orange-500 transition-colors",children:[n.jsx(Dg,{className:"h-3 w-3 mr-1"}),"Open Database Console"]})]})]})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ur,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:k=>t(k.target.value),disabled:o})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Fg,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:k=>s(k.target.value),disabled:o})]})]})]}),a&&n.jsx("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),n.jsx("div",{className:"text-sm whitespace-pre-line",children:a})]})}),n.jsxs("div",{children:[n.jsx("button",{type:"submit",disabled:o||!c?.active&&!u,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"}),!c?.active&&!u&&n.jsx("p",{className:"mt-2 text-xs text-gray-400 text-center",children:L?"Login disabled - Database project is paused":"Login disabled due to database connection issues"})]})]}),!c?.active&&!u&&n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:L?"Project Paused - Action Required:":"Troubleshooting Steps:"}),L?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-orange-200 mb-2",children:"Your database project appears to be paused. This commonly happens due to:"}),n.jsxs("ul",{className:"text-xs text-orange-300 space-y-1 ml-4",children:[n.jsx("li",{children:"• Project inactivity (free tier projects pause after 1 week of inactivity)"}),n.jsx("li",{children:"• Billing issues or plan limitations"}),n.jsx("li",{children:"• Manual project suspension"})]}),n.jsxs("div",{className:"mt-3 p-2 bg-orange-800 rounded",children:[n.jsx("p",{className:"text-xs text-orange-100 font-medium",children:"To resolve:"}),n.jsxs("ol",{className:"text-xs text-orange-200 mt-1 space-y-1",children:[n.jsxs("li",{children:["1. Visit your ",n.jsx("a",{href:"https://console.neon.tech",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-100",children:"Neon Console"})]}),n.jsx("li",{children:"2. Find your project and check if it shows as paused"}),n.jsx("li",{children:"3. Verify your billing plan is active"}),n.jsx("li",{children:"4. Wait 1-2 minutes for the project to fully resume"}),n.jsx("li",{children:'5. Click "Retry Check" above to test the connection'})]})]})]}):n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsx("li",{children:"1. Check your Neon console to ensure the project is active"}),n.jsx("li",{children:"2. Verify environment variables match your project settings"}),n.jsx("li",{children:"3. Check database connection logs for specific errors"}),n.jsx("li",{children:"4. Ensure your project hasn't been paused due to inactivity"}),n.jsx("li",{children:"5. Try refreshing your connection string if the issue persists"}),n.jsx("li",{children:"6. Check the Neon status page for service outages"})]})]})]})})},Jke=({variant:e,children:t})=>n.jsx("div",{className:`p-3 rounded-md border ${e==="destructive"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:t}),e3e=({children:e})=>n.jsx("div",{children:e});function t3e(){const[e,t]=_.useState("admin@newagefotografie.com"),[r,s]=_.useState(""),[a,i]=_.useState(!1),[o,l]=_.useState("");En();const c=async u=>{u.preventDefault(),i(!0),l("");try{const p=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:r})})).json();p.success?(localStorage.setItem("admin_user",JSON.stringify(p.user)),window.location.href="/admin/dashboard"):l(p.error||"Login failed")}catch(h){l("Network error: "+(h.message||"Unable to connect to server"))}finally{i(!1)}},d=async()=>{if(!e||!r){l("Please enter email and password to create admin account");return}i(!0),l("");try{const h=await(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r,firstName:"Admin",lastName:"User"})})).json();h.success?(l("Admin account created! You can now log in."),setTimeout(()=>l(""),3e3)):l(h.error||"Registration failed")}catch(u){l("Network error: "+(u.message||"Unable to connect to server"))}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-purple-600 p-3 rounded-full",children:n.jsx(Vs,{className:"h-8 w-8 text-white"})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Age Fotografie"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Admin Dashboard Login"})]}),n.jsx(Gt,{className:"bg-white border-green-200",children:n.jsxs(sr,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(tw,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Neon Database"}),n.jsxs(hi,{variant:"secondary",className:"bg-green-100 text-green-800",children:[n.jsx(CJ,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Independent Neon PostgreSQL - Complete data migration successful"})]})}),n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center space-x-2",children:[n.jsx(Fg,{className:"h-5 w-5"}),n.jsx("span",{children:"Admin Login"})]}),n.jsx(Ia,{children:"Access the CRM dashboard with your admin credentials"})]}),n.jsx(sr,{children:n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"email",children:"Email"}),n.jsx(Oi,{id:"email",type:"email",value:e,onChange:u=>t(u.target.value),placeholder:"admin@newagefotografie.com",required:!0,disabled:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"password",children:"Password"}),n.jsx(Oi,{id:"password",type:"password",value:r,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,disabled:a})]}),o&&n.jsx(Jke,{variant:o.includes("created")?"default":"destructive",children:n.jsx(e3e,{children:o})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(dr,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),n.jsx(dr,{type:"button",variant:"outline",className:"w-full",onClick:d,disabled:a,children:"Create Admin Account"})]})]})})]}),n.jsxs("div",{className:"text-center text-sm text-gray-500",children:[n.jsx("p",{children:"CRM Agent System - 74 Tools Registered"}),n.jsx("p",{children:"Complete Neon Migration - All Data Preserved"})]})]})})}async function r3e(e){try{const t=e?`/api/crm/leads?status=${e.toLowerCase()}`:"/api/crm/leads",r=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!r.ok){const i=await r.text();throw new Error(`Failed to fetch leads: ${r.status} - ${i}`)}return(await r.json()).map(i=>({id:i.id,first_name:i.name?i.name.split(" ")[0]:"",last_name:i.name?i.name.split(" ").slice(1).join(" "):"",email:i.email,phone:i.phone,message:i.message,form_source:i.source||"MANUAL",status:i.status?i.status.toUpperCase():"NEW",created_at:i.createdAt}))}catch(t){throw t}}async function n3e(e,t){try{const r=await fetch(`/api/crm/leads/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t.toLowerCase()})});if(!r.ok)throw new Error("Failed to update lead status");return await r.json()}catch(r){throw r}}async function s3e(e){try{if(!(await fetch(`/api/crm/leads/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete lead");return!0}catch(t){throw t}}const a3e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,d]=_.useState("all"),[u,h]=_.useState(!0),[p,f]=_.useState(null),[y,g]=_.useState(null),[v,b]=_.useState(null),[S,N]=_.useState(null),[w,C]=_.useState(!1),[L,k]=_.useState({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"}),[A,P]=_.useState({first_name:"",last_name:"",email:"",phone:"",message:"",status:"NEW"});_.useEffect(()=>{B()},[]),_.useEffect(()=>{T()},[e,a,o,c]);const B=async()=>{try{h(!0);const W=await r3e();t(W)}catch{f("Failed to load leads. Please ensure the database schema is deployed."),t([])}finally{h(!1)}},T=()=>{let W=[...e];a&&(W=W.filter(F=>F.first_name&&F.first_name.toLowerCase().includes(a.toLowerCase())||F.last_name&&F.last_name.toLowerCase().includes(a.toLowerCase())||F.email.toLowerCase().includes(a.toLowerCase())||F.phone&&F.phone.toLowerCase().includes(a.toLowerCase())||F.message&&F.message.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(W=W.filter(F=>F.status===o)),c!=="all"&&(W=W.filter(F=>F.form_source===c)),s(W)},I=async(W,F)=>{try{await n3e(W,F),t(Z=>Z.map(Q=>Q.id===W?{...Q,status:F}:Q))}catch{f("Failed to update lead status. Please try again.")}},M=async()=>{try{const W=await fetch("/api/crm/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${L.first_name} ${L.last_name}`.trim(),email:L.email,phone:L.phone,message:L.message,source:L.form_source,status:"new"})});if(!W.ok)throw new Error("Failed to create lead");const F=await W.json();t(Z=>[F,...Z]),C(!1),k({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"})}catch{f("Failed to create lead. Please try again.")}},D=async W=>{try{await s3e(W),t(F=>F.filter(Z=>Z.id!==W)),g(null)}catch{f("Failed to delete lead. Please try again.")}},V=W=>{b(W)},z=W=>{N(W),P({first_name:W.first_name||"",last_name:W.last_name||"",email:W.email,phone:W.phone||"",message:W.message||"",status:W.status})},X=async()=>{if(S)try{const{data:W,error:F}=await Kr.from("leads").update({first_name:A.first_name||null,last_name:A.last_name||null,email:A.email,phone:A.phone||null,message:A.message||null,status:A.status}).eq("id",S.id).select().single();if(F)throw F;t(Z=>Z.map(Q=>Q.id===S.id?{...Q,...W}:Q)),N(null),P({first_name:"",last_name:"",email:"",phone:"",message:"",status:"NEW"})}catch{f("Failed to update lead. Please try again.")}},q=W=>{switch(W){case"NEW":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"})," New"]});case"CONTACTED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"})," Contacted"]});case"CONVERTED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"})," Converted"]});default:return null}},Y=W=>{switch(W){case"WARTELISTE":return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Waitlist"});case"KONTAKT":return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Contact"});default:return null}},ie=W=>{const F=new Date(W);return F.toLocaleDateString()+" "+F.toLocaleTimeString()};return n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"New Leads"}),n.jsx("p",{className:"text-gray-600",children:"Manage and track your potential clients"})]}),n.jsxs("button",{onClick:()=>C(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),"Add Lead"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search leads...",value:a,onChange:W=>i(W.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:W=>l(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]}),n.jsxs("select",{value:c,onChange:W=>d(W.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Sources"}),n.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),n.jsx("option",{value:"KONTAKT",children:"Contact"})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):p?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg m-6",children:p}):r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[W.first_name," ",W.last_name]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(Ur,{size:14,className:"mr-1"}),W.email]}),W.phone&&n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(Ym,{size:14,className:"mr-1"}),W.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y(W.form_source)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("select",{value:W.status,onChange:F=>I(W.id,F.target.value),className:"text-xs border-0 bg-transparent focus:ring-0",children:[n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{size:14,className:"mr-1"}),ie(W.created_at)]})}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>V(W),className:"text-blue-600 hover:text-blue-900",title:"View Lead Details",children:n.jsx(ts,{size:16})}),n.jsx("button",{onClick:()=>z(W),className:"text-purple-600 hover:text-purple-900",title:"Edit Lead",children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>I(W.id,"CONTACTED"),className:"text-green-600 hover:text-green-900",title:"Mark as Contacted",children:n.jsx(Z2,{size:16})}),n.jsx("button",{onClick:()=>I(W.id,"CONVERTED"),className:"text-amber-600 hover:text-amber-900",title:"Mark as Converted",children:n.jsx(Nee,{size:16})}),n.jsx("button",{onClick:()=>g(W.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ns,{size:16})})]})})]},W.id))})]})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No leads found matching your criteria."})})})]}),"      ",y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this lead? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>y&&D(y),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lead Details"}),n.jsxs("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.first_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.last_name||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded min-h-[60px]",children:v.message||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("div",{className:"bg-gray-50 p-2 rounded",children:q(v.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),n.jsx("div",{className:"bg-gray-50 p-2 rounded",children:Y(v.form_source)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:ie(v.created_at)})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Lead"}),n.jsxs("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-600",children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{type:"text",value:A.first_name,onChange:W=>P({...A,first_name:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{type:"text",value:A.last_name,onChange:W=>P({...A,last_name:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",value:A.email,onChange:W=>P({...A,email:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:A.phone,onChange:W=>P({...A,phone:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{value:A.message,onChange:W=>P({...A,message:W.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:A.status,onChange:W=>P({...A,status:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Save Changes"})]})]})}),w&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Lead"}),n.jsx("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{type:"text",value:L.first_name,onChange:W=>k({...L,first_name:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{type:"text",value:L.last_name,onChange:W=>k({...L,last_name:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:L.email,onChange:W=>k({...L,email:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:L.phone,onChange:W=>k({...L,phone:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),n.jsxs("select",{value:L.form_source,onChange:W=>k({...L,form_source:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"MANUAL",children:"Manual Entry"}),n.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),n.jsx("option",{value:"KONTAKT",children:"Contact Form"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{value:L.message,onChange:W=>k({...L,message:W.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter lead details or notes..."})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:M,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",disabled:!L.first_name||!L.last_name||!L.email,children:"Create Lead"})]})]})})]})};var i3e=VF[" useId ".trim().toString()]||(()=>{}),o3e=0;function mg(e){const[t,r]=_.useState(i3e());return fi(()=>{r(s=>s??String(o3e++))},[e]),t?`radix-${t}`:""}function $m(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function l3e(e,t=globalThis?.document){const r=$m(e);_.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var c3e="DismissableLayer",Y4="dismissableLayer.update",d3e="dismissableLayer.pointerDownOutside",u3e="dismissableLayer.focusOutside",sL,rU=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ck=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=_.useContext(rU),[u,h]=_.useState(null),p=u?.ownerDocument??globalThis?.document,[,f]=_.useState({}),y=ss(t,k=>h(k)),g=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),S=u?g.indexOf(u):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,w=S>=b,C=m3e(k=>{const A=k.target,P=[...d.branches].some(B=>B.contains(A));!w||P||(a?.(k),o?.(k),k.defaultPrevented||l?.())},p),L=p3e(k=>{const A=k.target;[...d.branches].some(B=>B.contains(A))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},p);return l3e(k=>{S===d.layers.size-1&&(s?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),_.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(sL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),aL(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=sL)}},[u,p,r,d]),_.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),aL())},[u,d]),_.useEffect(()=>{const k=()=>f({});return document.addEventListener(Y4,k),()=>document.removeEventListener(Y4,k)},[]),n.jsx(fn.div,{...c,ref:y,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:Pn(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Pn(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Pn(e.onPointerDownCapture,C.onPointerDownCapture)})});Ck.displayName=c3e;var h3e="DismissableLayerBranch",f3e=_.forwardRef((e,t)=>{const r=_.useContext(rU),s=_.useRef(null),a=ss(t,s);return _.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(fn.div,{...e,ref:a})});f3e.displayName=h3e;function m3e(e,t=globalThis?.document){const r=$m(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){nU(d3e,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function p3e(e,t=globalThis?.document){const r=$m(e),s=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!s.current&&nU(u3e,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function aL(){const e=new CustomEvent(Y4);document.dispatchEvent(e)}function nU(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?fne(a,i):a.dispatchEvent(i)}var q5="focusScope.autoFocusOnMount",W5="focusScope.autoFocusOnUnmount",iL={bubbles:!1,cancelable:!0},g3e="FocusScope",Pk=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),d=$m(a),u=$m(i),h=_.useRef(null),p=ss(t,g=>c(g)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let g=function(N){if(f.paused||!l)return;const w=N.target;l.contains(w)?h.current=w:dh(h.current,{select:!0})},v=function(N){if(f.paused||!l)return;const w=N.relatedTarget;w!==null&&(l.contains(w)||dh(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const C of N)C.removedNodes.length>0&&dh(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const S=new MutationObserver(b);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),S.disconnect()}}},[s,l,f.paused]),_.useEffect(()=>{if(l){lL.add(f);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(q5,iL);l.addEventListener(q5,d),l.dispatchEvent(b),b.defaultPrevented||(x3e(j3e(sU(l)),{select:!0}),document.activeElement===g&&dh(l))}return()=>{l.removeEventListener(q5,d),setTimeout(()=>{const b=new CustomEvent(W5,iL);l.addEventListener(W5,u),l.dispatchEvent(b),b.defaultPrevented||dh(g??document.body,{select:!0}),l.removeEventListener(W5,u),lL.remove(f)},0)}}},[l,d,u,f]);const y=_.useCallback(g=>{if(!r&&!s||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const S=g.currentTarget,[N,w]=y3e(S);N&&w?!g.shiftKey&&b===w?(g.preventDefault(),r&&dh(N,{select:!0})):g.shiftKey&&b===N&&(g.preventDefault(),r&&dh(w,{select:!0})):b===S&&g.preventDefault()}},[r,s,f.paused]);return n.jsx(fn.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});Pk.displayName=g3e;function x3e(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(dh(s,{select:t}),document.activeElement!==r)return}function y3e(e){const t=sU(e),r=oL(t,e),s=oL(t.reverse(),e);return[r,s]}function sU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oL(e,t){for(const r of e)if(!v3e(r,{upTo:t}))return r}function v3e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b3e(e){return e instanceof HTMLInputElement&&"select"in e}function dh(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&b3e(e)&&t&&e.select()}}var lL=w3e();function w3e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=cL(e,t),e.unshift(t)},remove(t){e=cL(e,t),e[0]?.resume()}}}function cL(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function j3e(e){return e.filter(t=>t.tagName!=="A")}var N3e="Portal",Tk=_.forwardRef((e,t)=>{const{container:r,...s}=e,[a,i]=_.useState(!1);fi(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?gQ.createPortal(n.jsx(fn.div,{...s,ref:t}),o):null});Tk.displayName=N3e;var H5=0;function aU(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dL()),document.body.insertAdjacentElement("beforeend",e[1]??dL()),H5++,()=>{H5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),H5--}},[])}function dL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $c=function(){return $c=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$c.apply(this,arguments)};function iU(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function S3e(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var F1="right-scroll-bar-position",R1="width-before-scroll-bar",_3e="with-scroll-bars-hidden",A3e="--removed-body-scroll-bar-size";function G5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function k3e(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var C3e=typeof window<"u"?_.useLayoutEffect:_.useEffect,uL=new WeakMap;function P3e(e,t){var r=k3e(null,function(s){return e.forEach(function(a){return G5(a,s)})});return C3e(function(){var s=uL.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||G5(l,null)}),i.forEach(function(l){a.has(l)||G5(l,o)})}uL.set(r,e)},[e]),r}function T3e(e){return e}function E3e(e,t){t===void 0&&(t=T3e);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function O3e(e){e===void 0&&(e={});var t=E3e(null);return t.options=$c({async:!0,ssr:!1},e),t}var oU=function(e){var t=e.sideCar,r=iU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,$c({},r))};oU.isSideCarExport=!0;function L3e(e,t){return e.useMedium(t),oU}var lU=O3e(),K5=function(){},qj=_.forwardRef(function(e,t){var r=_.useRef(null),s=_.useState({onScrollCapture:K5,onWheelCapture:K5,onTouchMoveCapture:K5}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,y=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,N=e.gapMode,w=iU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,L=P3e([r,t]),k=$c($c({},w),a);return _.createElement(_.Fragment,null,u&&_.createElement(C,{sideCar:lU,removeScrollBar:d,shards:h,noRelative:f,noIsolation:y,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:N}),o?_.cloneElement(_.Children.only(l),$c($c({},k),{ref:L})):_.createElement(S,$c({},k,{className:c,ref:L}),l))});qj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qj.classNames={fullWidth:R1,zeroRight:F1};var I3e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M3e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I3e();return t&&e.setAttribute("nonce",t),e}function D3e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function F3e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var R3e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=M3e())&&(D3e(t,r),F3e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$3e=function(){var e=R3e();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},cU=function(){var e=$3e(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},B3e={left:0,top:0,right:0,gap:0},Y5=function(e){return parseInt(e||"",10)||0},z3e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Y5(r),Y5(s),Y5(a)]},U3e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return B3e;var t=z3e(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},V3e=cU(),pg="data-scroll-locked",q3e=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_3e,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(pg,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F1,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(R1,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(F1," .").concat(F1,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(R1," .").concat(R1,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(pg,`] {
    `).concat(A3e,": ").concat(l,`px;
  }
`)},hL=function(){var e=parseInt(document.body.getAttribute(pg)||"0",10);return isFinite(e)?e:0},W3e=function(){_.useEffect(function(){return document.body.setAttribute(pg,(hL()+1).toString()),function(){var e=hL()-1;e<=0?document.body.removeAttribute(pg):document.body.setAttribute(pg,e.toString())}},[])},H3e=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;W3e();var i=_.useMemo(function(){return U3e(a)},[a]);return _.createElement(V3e,{styles:q3e(i,!t,a,r?"":"!important")})},Z4=!1;if(typeof window<"u")try{var o1=Object.defineProperty({},"passive",{get:function(){return Z4=!0,!0}});window.addEventListener("test",o1,o1),window.removeEventListener("test",o1,o1)}catch{Z4=!1}var Rp=Z4?{passive:!1}:!1,G3e=function(e){return e.tagName==="TEXTAREA"},dU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!G3e(e)&&r[t]==="visible")},K3e=function(e){return dU(e,"overflowY")},Y3e=function(e){return dU(e,"overflowX")},fL=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=uU(e,s);if(a){var i=hU(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Z3e=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},X3e=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},uU=function(e,t){return e==="v"?K3e(t):Y3e(t)},hU=function(e,t){return e==="v"?Z3e(t):X3e(t)},Q3e=function(e,t){return e==="h"&&t==="rtl"?-1:1},J3e=function(e,t,r,s,a){var i=Q3e(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,p=0;do{if(!l)break;var f=hU(e,l),y=f[0],g=f[1],v=f[2],b=g-v-i*y;(y||b)&&uU(e,l)&&(h+=b,p+=y);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(p)<1||!a))&&(d=!0),d},l1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mL=function(e){return[e.deltaX,e.deltaY]},pL=function(e){return e&&"current"in e?e.current:e},eCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rCe=0,$p=[];function nCe(e){var t=_.useRef([]),r=_.useRef([0,0]),s=_.useRef(),a=_.useState(rCe++)[0],i=_.useState(cU)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=S3e([e.lockRef.current],(e.shards||[]).map(pL),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=l1(g),S=r.current,N="deltaX"in g?g.deltaX:S[0]-b[0],w="deltaY"in g?g.deltaY:S[1]-b[1],C,L=g.target,k=Math.abs(N)>Math.abs(w)?"h":"v";if("touches"in g&&k==="h"&&L.type==="range")return!1;var A=fL(k,L);if(!A)return!0;if(A?C=k:(C=k==="v"?"h":"v",A=fL(k,L)),!A)return!1;if(!s.current&&"changedTouches"in g&&(N||w)&&(s.current=C),!C)return!0;var P=s.current||C;return J3e(P,v,g,P==="h"?N:w,!0)},[]),c=_.useCallback(function(g){var v=g;if(!(!$p.length||$p[$p.length-1]!==i)){var b="deltaY"in v?mL(v):l1(v),S=t.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&eCe(C.delta,b)})[0];if(S&&S.should){v.cancelable&&v.preventDefault();return}if(!S){var N=(o.current.shards||[]).map(pL).filter(Boolean).filter(function(C){return C.contains(v.target)}),w=N.length>0?l(v,N[0]):!o.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),d=_.useCallback(function(g,v,b,S){var N={name:g,delta:v,target:b,should:S,shadowParent:sCe(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(w){return w!==N})},1)},[]),u=_.useCallback(function(g){r.current=l1(g),s.current=void 0},[]),h=_.useCallback(function(g){d(g.type,mL(g),g.target,l(g,e.lockRef.current))},[]),p=_.useCallback(function(g){d(g.type,l1(g),g.target,l(g,e.lockRef.current))},[]);_.useEffect(function(){return $p.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Rp),document.addEventListener("touchmove",c,Rp),document.addEventListener("touchstart",u,Rp),function(){$p=$p.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Rp),document.removeEventListener("touchmove",c,Rp),document.removeEventListener("touchstart",u,Rp)}},[]);var f=e.removeScrollBar,y=e.inert;return _.createElement(_.Fragment,null,y?_.createElement(i,{styles:tCe(a)}):null,f?_.createElement(H3e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aCe=L3e(lU,nCe);var Ek=_.forwardRef(function(e,t){return _.createElement(qj,$c({},e,{ref:t,sideCar:aCe}))});Ek.classNames=qj.classNames;var iCe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Bp=new WeakMap,c1=new WeakMap,d1={},Z5=0,fU=function(e){return e&&(e.host||fU(e.parentNode))},oCe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=fU(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},lCe=function(e,t,r,s){var a=oCe(t,Array.isArray(e)?e:[e]);d1[r]||(d1[r]=new WeakMap);var i=d1[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))u(p);else try{var f=p.getAttribute(s),y=f!==null&&f!=="false",g=(Bp.get(p)||0)+1,v=(i.get(p)||0)+1;Bp.set(p,g),i.set(p,v),o.push(p),g===1&&y&&c1.set(p,!0),v===1&&p.setAttribute(r,"true"),y||p.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return u(t),l.clear(),Z5++,function(){o.forEach(function(h){var p=Bp.get(h)-1,f=i.get(h)-1;Bp.set(h,p),i.set(h,f),p||(c1.has(h)||h.removeAttribute(s),c1.delete(h)),f||h.removeAttribute(r)}),Z5--,Z5||(Bp=new WeakMap,Bp=new WeakMap,c1=new WeakMap,d1={})}},mU=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=iCe(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),lCe(s,a,r,"aria-hidden")):function(){return null}},Wj="Dialog",[pU,P$e]=Ax(Wj),[cCe,uc]=pU(Wj),gU=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[d,u]=Iy({prop:s,defaultProp:a??!1,onChange:i,caller:Wj});return n.jsx(cCe,{scope:t,triggerRef:l,contentRef:c,contentId:mg(),titleId:mg(),descriptionId:mg(),open:d,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};gU.displayName=Wj;var xU="DialogTrigger",dCe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=uc(xU,r),i=ss(t,a.triggerRef);return n.jsx(fn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ik(a.open),...s,ref:i,onClick:Pn(e.onClick,a.onOpenToggle)})});dCe.displayName=xU;var Ok="DialogPortal",[uCe,yU]=pU(Ok,{forceMount:void 0}),vU=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=uc(Ok,t);return n.jsx(uCe,{scope:t,forceMount:r,children:_.Children.map(s,o=>n.jsx(Fv,{present:r||i.open,children:n.jsx(Tk,{asChild:!0,container:a,children:o})}))})};vU.displayName=Ok;var u2="DialogOverlay",bU=_.forwardRef((e,t)=>{const r=yU(u2,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=uc(u2,e.__scopeDialog);return i.modal?n.jsx(Fv,{present:s||i.open,children:n.jsx(fCe,{...a,ref:t})}):null});bU.displayName=u2;var hCe=Ly("DialogOverlay.RemoveScroll"),fCe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=uc(u2,r);return n.jsx(Ek,{as:hCe,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(fn.div,{"data-state":Ik(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Bm="DialogContent",wU=_.forwardRef((e,t)=>{const r=yU(Bm,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=uc(Bm,e.__scopeDialog);return n.jsx(Fv,{present:s||i.open,children:i.modal?n.jsx(mCe,{...a,ref:t}):n.jsx(pCe,{...a,ref:t})})});wU.displayName=Bm;var mCe=_.forwardRef((e,t)=>{const r=uc(Bm,e.__scopeDialog),s=_.useRef(null),a=ss(t,r.contentRef,s);return _.useEffect(()=>{const i=s.current;if(i)return mU(i)},[]),n.jsx(jU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pn(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Pn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Pn(e.onFocusOutside,i=>i.preventDefault())})}),pCe=_.forwardRef((e,t)=>{const r=uc(Bm,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return n.jsx(jU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),jU=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=uc(Bm,r),c=_.useRef(null),d=ss(t,c);return aU(),n.jsxs(n.Fragment,{children:[n.jsx(Pk,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Ck,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ik(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(gCe,{titleId:l.titleId}),n.jsx(yCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Lk="DialogTitle",NU=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=uc(Lk,r);return n.jsx(fn.h2,{id:a.titleId,...s,ref:t})});NU.displayName=Lk;var SU="DialogDescription",_U=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=uc(SU,r);return n.jsx(fn.p,{id:a.descriptionId,...s,ref:t})});_U.displayName=SU;var AU="DialogClose",kU=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=uc(AU,r);return n.jsx(fn.button,{type:"button",...s,ref:t,onClick:Pn(e.onClick,()=>a.onOpenChange(!1))})});kU.displayName=AU;function Ik(e){return e?"open":"closed"}var CU="DialogTitleWarning",[T$e,PU]=gne(CU,{contentName:Bm,titleName:Lk,docsSlug:"dialog"}),gCe=({titleId:e})=>{const t=PU(CU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},xCe="DialogDescriptionWarning",yCe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PU(xCe).contentName}}.`;return _.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},vCe=gU,bCe=vU,TU=bU,EU=wU,OU=NU,LU=_U,wCe=kU;const IU=vCe,Mk=bCe,Hj=_.forwardRef(({className:e,...t},r)=>n.jsx(TU,{ref:r,className:Bn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Hj.displayName=TU.displayName;const Dk=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Mk,{children:[n.jsx(Hj,{}),n.jsxs(EU,{ref:s,className:Bn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(wCe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(rs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dk.displayName=EU.displayName;const Fk=({className:e,...t})=>n.jsx("div",{className:Bn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fk.displayName="DialogHeader";const Rk=({className:e,...t})=>n.jsx("div",{className:Bn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rk.displayName="DialogFooter";const $k=_.forwardRef(({className:e,...t},r)=>n.jsx(OU,{ref:r,className:Bn("text-lg font-semibold leading-none tracking-tight",e),...t}));$k.displayName=OU.displayName;const Bk=_.forwardRef(({className:e,...t},r)=>n.jsx(LU,{ref:r,className:Bn("text-sm text-muted-foreground",e),...t}));Bk.displayName=LU.displayName;const zk=_.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Bn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));zk.displayName="Textarea";var Gj="Switch",[jCe,E$e]=Ax(Gj),[NCe,SCe]=jCe(Gj),MU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[p,f]=_.useState(null),y=ss(t,N=>f(N)),g=_.useRef(!1),v=p?u||!!p.closest("form"):!0,[b,S]=Iy({prop:a,defaultProp:i??!1,onChange:d,caller:Gj});return n.jsxs(NCe,{scope:r,checked:b,disabled:l,children:[n.jsx(fn.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":$U(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:Pn(e.onClick,N=>{S(w=>!w),v&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),v&&n.jsx(RU,{control:p,bubbles:!g.current,name:s,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});MU.displayName=Gj;var DU="SwitchThumb",FU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=SCe(DU,r);return n.jsx(fn.span,{"data-state":$U(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});FU.displayName=DU;var _Ce="SwitchBubbleInput",RU=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=_.useRef(null),l=ss(o,i),c=gA(r),d=xA(t);return _.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const y=new Event("click",{bubbles:s});f.call(u,r),u.dispatchEvent(y)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RU.displayName=_Ce;function $U(e){return e?"checked":"unchecked"}var BU=MU,ACe=FU;const Uk=_.forwardRef(({className:e,...t},r)=>n.jsx(BU,{className:Bn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(ACe,{className:Bn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Uk.displayName=BU.displayName;function gL(e,[t,r]){return Math.min(r,Math.max(t,e))}function kCe(e){const t=e+"CollectionProvider",[r,s]=Ax(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,S=ve.useRef(null),N=ve.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:N,collectionRef:S,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Ly(l),d=ve.forwardRef((g,v)=>{const{scope:b,children:S}=g,N=i(l,b),w=ss(v,N.collectionRef);return n.jsx(c,{ref:w,children:S})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",p=Ly(u),f=ve.forwardRef((g,v)=>{const{scope:b,children:S,...N}=g,w=ve.useRef(null),C=ss(v,w),L=i(u,b);return ve.useEffect(()=>(L.itemMap.set(w,{ref:w,...N}),()=>void L.itemMap.delete(w))),n.jsx(p,{[h]:"",ref:C,children:S})});f.displayName=u;function y(g){const v=i(e+"CollectionConsumer",g);return ve.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const N=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((L,k)=>N.indexOf(L.ref.current)-N.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},y,s]}var CCe=_.createContext(void 0);function PCe(e){const t=_.useContext(CCe);return e||t||"ltr"}const TCe=["top","right","bottom","left"],Kh=Math.min,Eo=Math.max,h2=Math.round,u1=Math.floor,Xc=e=>({x:e,y:e}),ECe={left:"right",right:"left",bottom:"top",top:"bottom"},OCe={start:"end",end:"start"};function X4(e,t,r){return Eo(e,Kh(t,r))}function ou(e,t){return typeof e=="function"?e(t):e}function lu(e){return e.split("-")[0]}function zx(e){return e.split("-")[1]}function Vk(e){return e==="x"?"y":"x"}function qk(e){return e==="y"?"height":"width"}const LCe=new Set(["top","bottom"]);function Vc(e){return LCe.has(lu(e))?"y":"x"}function Wk(e){return Vk(Vc(e))}function ICe(e,t,r){r===void 0&&(r=!1);const s=zx(e),a=Wk(e),i=qk(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=f2(o)),[o,f2(o)]}function MCe(e){const t=f2(e);return[Q4(e),t,Q4(t)]}function Q4(e){return e.replace(/start|end/g,t=>OCe[t])}const xL=["left","right"],yL=["right","left"],DCe=["top","bottom"],FCe=["bottom","top"];function RCe(e,t,r){switch(e){case"top":case"bottom":return r?t?yL:xL:t?xL:yL;case"left":case"right":return t?DCe:FCe;default:return[]}}function $Ce(e,t,r,s){const a=zx(e);let i=RCe(lu(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Q4)))),i}function f2(e){return e.replace(/left|right|bottom|top/g,t=>ECe[t])}function BCe(e){return{top:0,right:0,bottom:0,left:0,...e}}function zU(e){return typeof e!="number"?BCe(e):{top:e,right:e,bottom:e,left:e}}function m2(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function vL(e,t,r){let{reference:s,floating:a}=e;const i=Vc(t),o=Wk(t),l=qk(o),c=lu(t),d=i==="y",u=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:u,y:s.y-a.height};break;case"bottom":f={x:u,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-a.width,y:h};break;default:f={x:s.x,y:s.y}}switch(zx(t)){case"start":f[o]-=p*(r&&d?-1:1);break;case"end":f[o]+=p*(r&&d?-1:1);break}return f}const zCe=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=vL(d,s,c),p=s,f={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:S,y:N,data:w,reset:C}=await b({x:u,y:h,initialPlacement:s,placement:p,strategy:a,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=S??u,h=N??h,f={...f,[v]:{...f[v],...w}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:u,y:h}=vL(d,p,c)),g=-1)}return{x:u,y:h,placement:p,strategy:a,middlewareData:f}};async function gv(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=ou(t,e),y=zU(f),v=l[p?h==="floating"?"reference":"floating":h],b=m2(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),S=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},C=m2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:N,strategy:c}):S);return{top:(b.top-C.top+y.top)/w.y,bottom:(C.bottom-b.bottom+y.bottom)/w.y,left:(b.left-C.left+y.left)/w.x,right:(C.right-b.right+y.right)/w.x}}const UCe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ou(e,t)||{};if(d==null)return{};const h=zU(u),p={x:r,y:s},f=Wk(a),y=qk(f),g=await o.getDimensions(d),v=f==="y",b=v?"top":"left",S=v?"bottom":"right",N=v?"clientHeight":"clientWidth",w=i.reference[y]+i.reference[f]-p[f]-i.floating[y],C=p[f]-i.reference[f],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=L?L[N]:0;(!k||!await(o.isElement==null?void 0:o.isElement(L)))&&(k=l.floating[N]||i.floating[y]);const A=w/2-C/2,P=k/2-g[y]/2-1,B=Kh(h[b],P),T=Kh(h[S],P),I=B,M=k-g[y]-T,D=k/2-g[y]/2+A,V=X4(I,D,M),z=!c.arrow&&zx(a)!=null&&D!==V&&i.reference[y]/2-(D<I?B:T)-g[y]/2<0,X=z?D<I?D-I:D-M:0;return{[f]:p[f]+X,data:{[f]:V,centerOffset:D-V-X,...z&&{alignmentOffset:X}},reset:z}}}),VCe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=ou(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=lu(a),S=Vc(l),N=lu(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=p||(N||!g?[f2(l)]:MCe(l)),L=y!=="none";!p&&L&&C.push(...$Ce(l,g,y,w));const k=[l,...C],A=await gv(t,v),P=[];let B=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&P.push(A[b]),h){const D=ICe(a,o,w);P.push(A[D[0]],A[D[1]])}if(B=[...B,{placement:a,overflows:P}],!P.every(D=>D<=0)){var T,I;const D=(((T=i.flip)==null?void 0:T.index)||0)+1,V=k[D];if(V&&(!(h==="alignment"?S!==Vc(V):!1)||B.every(q=>Vc(q.placement)===S?q.overflows[0]>0:!0)))return{data:{index:D,overflows:B},reset:{placement:V}};let z=(I=B.filter(X=>X.overflows[0]<=0).sort((X,q)=>X.overflows[1]-q.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(f){case"bestFit":{var M;const X=(M=B.filter(q=>{if(L){const Y=Vc(q.placement);return Y===S||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:M[0];X&&(z=X);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function bL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wL(e){return TCe.some(t=>e[t]>=0)}const qCe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ou(e,t);switch(s){case"referenceHidden":{const i=await gv(t,{...a,elementContext:"reference"}),o=bL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wL(o)}}}case"escaped":{const i=await gv(t,{...a,altBoundary:!0}),o=bL(i,r.floating);return{data:{escapedOffsets:o,escaped:wL(o)}}}default:return{}}}}},UU=new Set(["left","top"]);async function WCe(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=lu(r),l=zx(r),c=Vc(r)==="y",d=UU.has(o)?-1:1,u=i&&c?-1:1,h=ou(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(f=l==="end"?y*-1:y),c?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const HCe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await WCe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},GCe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:S}=v;return{x:b,y:S}}},...c}=ou(e,t),d={x:r,y:s},u=await gv(t,c),h=Vc(lu(a)),p=Vk(h);let f=d[p],y=d[h];if(i){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",S=f+u[v],N=f-u[b];f=X4(S,f,N)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",S=y+u[v],N=y-u[b];y=X4(S,y,N)}const g=l.fn({...t,[p]:f,[h]:y});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[p]:i,[h]:o}}}}}},KCe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ou(e,t),u={x:r,y:s},h=Vc(a),p=Vk(h);let f=u[p],y=u[h];const g=ou(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=p==="y"?"height":"width",w=i.reference[p]-i.floating[N]+v.mainAxis,C=i.reference[p]+i.reference[N]-v.mainAxis;f<w?f=w:f>C&&(f=C)}if(d){var b,S;const N=p==="y"?"width":"height",w=UU.has(lu(a)),C=i.reference[h]-i.floating[N]+(w&&((b=o.offset)==null?void 0:b[h])||0)+(w?0:v.crossAxis),L=i.reference[h]+i.reference[N]+(w?0:((S=o.offset)==null?void 0:S[h])||0)-(w?v.crossAxis:0);y<C?y=C:y>L&&(y=L)}return{[p]:f,[h]:y}}}},YCe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=ou(e,t),u=await gv(t,d),h=lu(a),p=zx(a),f=Vc(a)==="y",{width:y,height:g}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=p==="end"?"top":"bottom");const S=g-u.top-u.bottom,N=y-u.left-u.right,w=Kh(g-u[v],S),C=Kh(y-u[b],N),L=!t.middlewareData.shift;let k=w,A=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(k=S),L&&!p){const B=Eo(u.left,0),T=Eo(u.right,0),I=Eo(u.top,0),M=Eo(u.bottom,0);f?A=y-2*(B!==0||T!==0?B+T:Eo(u.left,u.right)):k=g-2*(I!==0||M!==0?I+M:Eo(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:k});const P=await o.getDimensions(l.floating);return y!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Kj(){return typeof window<"u"}function Ux(e){return VU(e)?(e.nodeName||"").toLowerCase():"#document"}function $o(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cd(e){var t;return(t=(VU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VU(e){return Kj()?e instanceof Node||e instanceof $o(e).Node:!1}function ic(e){return Kj()?e instanceof Element||e instanceof $o(e).Element:!1}function ad(e){return Kj()?e instanceof HTMLElement||e instanceof $o(e).HTMLElement:!1}function jL(e){return!Kj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $o(e).ShadowRoot}const ZCe=new Set(["inline","contents"]);function Gv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=oc(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!ZCe.has(a)}const XCe=new Set(["table","td","th"]);function QCe(e){return XCe.has(Ux(e))}const JCe=[":popover-open",":modal"];function Yj(e){return JCe.some(t=>{try{return e.matches(t)}catch{return!1}})}const ePe=["transform","translate","scale","rotate","perspective"],tPe=["transform","translate","scale","rotate","perspective","filter"],rPe=["paint","layout","strict","content"];function Hk(e){const t=Gk(),r=ic(e)?oc(e):e;return ePe.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tPe.some(s=>(r.willChange||"").includes(s))||rPe.some(s=>(r.contain||"").includes(s))}function nPe(e){let t=Yh(e);for(;ad(t)&&!dx(t);){if(Hk(t))return t;if(Yj(t))return null;t=Yh(t)}return null}function Gk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sPe=new Set(["html","body","#document"]);function dx(e){return sPe.has(Ux(e))}function oc(e){return $o(e).getComputedStyle(e)}function Zj(e){return ic(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yh(e){if(Ux(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jL(e)&&e.host||cd(e);return jL(t)?t.host:t}function qU(e){const t=Yh(e);return dx(t)?e.ownerDocument?e.ownerDocument.body:e.body:ad(t)&&Gv(t)?t:qU(t)}function xv(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=qU(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=$o(a);if(i){const l=J4(o);return t.concat(o,o.visualViewport||[],Gv(a)?a:[],l&&r?xv(l):[])}return t.concat(a,xv(a,[],r))}function J4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WU(e){const t=oc(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=ad(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=h2(r)!==i||h2(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Kk(e){return ic(e)?e:e.contextElement}function gg(e){const t=Kk(e);if(!ad(t))return Xc(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=WU(t);let o=(i?h2(r.width):r.width)/s,l=(i?h2(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const aPe=Xc(0);function HU(e){const t=$o(e);return!Gk()||!t.visualViewport?aPe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function iPe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$o(e)?!1:t}function zm(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Kk(e);let o=Xc(1);t&&(s?ic(s)&&(o=gg(s)):o=gg(e));const l=iPe(i,r,s)?HU(i):Xc(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const p=$o(i),f=s&&ic(s)?$o(s):s;let y=p,g=J4(y);for(;g&&s&&f!==y;){const v=gg(g),b=g.getBoundingClientRect(),S=oc(g),N=b.left+(g.clientLeft+parseFloat(S.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(S.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,h*=v.y,c+=N,d+=w,y=$o(g),g=J4(y)}}return m2({width:u,height:h,x:c,y:d})}function Xj(e,t){const r=Zj(e).scrollLeft;return t?t.left+r:zm(cd(e)).left+r}function GU(e,t){const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-Xj(e,r),a=r.top+t.scrollTop;return{x:s,y:a}}function oPe(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=cd(s),l=t?Yj(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Xc(1);const u=Xc(0),h=ad(s);if((h||!h&&!i)&&((Ux(s)!=="body"||Gv(o))&&(c=Zj(s)),ad(s))){const f=zm(s);d=gg(s),u.x=f.x+s.clientLeft,u.y=f.y+s.clientTop}const p=o&&!h&&!i?GU(o,c):Xc(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function lPe(e){return Array.from(e.getClientRects())}function cPe(e){const t=cd(e),r=Zj(e),s=e.ownerDocument.body,a=Eo(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Eo(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Xj(e);const l=-r.scrollTop;return oc(s).direction==="rtl"&&(o+=Eo(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const NL=25;function dPe(e,t){const r=$o(e),s=cd(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Gk();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Xj(s);if(d<=0){const u=s.ownerDocument,h=u.body,p=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,y=Math.abs(s.clientWidth-h.clientWidth-f);y<=NL&&(i-=y)}else d<=NL&&(i+=d);return{width:i,height:o,x:l,y:c}}const uPe=new Set(["absolute","fixed"]);function hPe(e,t){const r=zm(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=ad(e)?gg(e):Xc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function SL(e,t,r){let s;if(t==="viewport")s=dPe(e,r);else if(t==="document")s=cPe(cd(e));else if(ic(t))s=hPe(t,r);else{const a=HU(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return m2(s)}function KU(e,t){const r=Yh(e);return r===t||!ic(r)||dx(r)?!1:oc(r).position==="fixed"||KU(r,t)}function fPe(e,t){const r=t.get(e);if(r)return r;let s=xv(e,[],!1).filter(l=>ic(l)&&Ux(l)!=="body"),a=null;const i=oc(e).position==="fixed";let o=i?Yh(e):e;for(;ic(o)&&!dx(o);){const l=oc(o),c=Hk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&uPe.has(a.position)||Gv(o)&&!c&&KU(e,o))?s=s.filter(u=>u!==o):a=l,o=Yh(o)}return t.set(e,s),s}function mPe(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Yj(t)?[]:fPe(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const h=SL(t,u,a);return d.top=Eo(h.top,d.top),d.right=Kh(h.right,d.right),d.bottom=Kh(h.bottom,d.bottom),d.left=Eo(h.left,d.left),d},SL(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pPe(e){const{width:t,height:r}=WU(e);return{width:t,height:r}}function gPe(e,t,r){const s=ad(t),a=cd(t),i=r==="fixed",o=zm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Xc(0);function d(){c.x=Xj(a)}if(s||!s&&!i)if((Ux(t)!=="body"||Gv(a))&&(l=Zj(t)),s){const f=zm(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?GU(a,l):Xc(0),h=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function X5(e){return oc(e).position==="static"}function _L(e,t){if(!ad(e)||oc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cd(e)===r&&(r=r.ownerDocument.body),r}function YU(e,t){const r=$o(e);if(Yj(e))return r;if(!ad(e)){let a=Yh(e);for(;a&&!dx(a);){if(ic(a)&&!X5(a))return a;a=Yh(a)}return r}let s=_L(e,t);for(;s&&QCe(s)&&X5(s);)s=_L(s,t);return s&&dx(s)&&X5(s)&&!Hk(s)?r:s||nPe(e)||r}const xPe=async function(e){const t=this.getOffsetParent||YU,r=this.getDimensions,s=await r(e.floating);return{reference:gPe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function yPe(e){return oc(e).direction==="rtl"}const vPe={convertOffsetParentRelativeRectToViewportRelativeRect:oPe,getDocumentElement:cd,getClippingRect:mPe,getOffsetParent:YU,getElementRects:xPe,getClientRects:lPe,getDimensions:pPe,getScale:gg,isElement:ic,isRTL:yPe};function ZU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bPe(e,t){let r=null,s;const a=cd(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=d;if(l||t(),!p||!f)return;const y=u1(h),g=u1(a.clientWidth-(u+p)),v=u1(a.clientHeight-(h+f)),b=u1(u),N={rootMargin:-y+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Eo(0,Kh(1,c))||1};let w=!0;function C(L){const k=L[0].intersectionRatio;if(k!==c){if(!w)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!ZU(d,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(C,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,N)}r.observe(e)}return o(!0),i}function wPe(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Kk(e),u=a||i?[...d?xv(d):[],...xv(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=d&&l?bPe(d,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(b=>{let[S]=b;S&&S.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=f)==null||N.observe(t)})),r()}),d&&!c&&f.observe(d),f.observe(t));let y,g=c?zm(e):null;c&&v();function v(){const b=zm(e);g&&!ZU(g,b)&&r(),g=b,y=requestAnimationFrame(v)}return r(),()=>{var b;u.forEach(S=>{a&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),h?.(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(y)}}const jPe=HCe,NPe=GCe,SPe=VCe,_Pe=YCe,APe=qCe,AL=UCe,kPe=KCe,CPe=(e,t,r)=>{const s=new Map,a={platform:vPe,...r},i={...a.platform,_c:s};return zCe(e,t,{...a,platform:i})};var PPe=typeof document<"u",TPe=function(){},$1=PPe?_.useLayoutEffect:TPe;function p2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!p2(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!p2(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function XU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kL(e,t){const r=XU(e);return Math.round(t*r)/r}function Q5(e){const t=_.useRef(e);return $1(()=>{t.current=e}),t}function EPe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=_.useState(s);p2(p,s)||f(s);const[y,g]=_.useState(null),[v,b]=_.useState(null),S=_.useCallback(q=>{q!==L.current&&(L.current=q,g(q))},[]),N=_.useCallback(q=>{q!==k.current&&(k.current=q,b(q))},[]),w=i||y,C=o||v,L=_.useRef(null),k=_.useRef(null),A=_.useRef(u),P=c!=null,B=Q5(c),T=Q5(a),I=Q5(d),M=_.useCallback(()=>{if(!L.current||!k.current)return;const q={placement:t,strategy:r,middleware:p};T.current&&(q.platform=T.current),CPe(L.current,k.current,q).then(Y=>{const ie={...Y,isPositioned:I.current!==!1};D.current&&!p2(A.current,ie)&&(A.current=ie,Mv.flushSync(()=>{h(ie)}))})},[p,t,r,T,I]);$1(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[d]);const D=_.useRef(!1);$1(()=>(D.current=!0,()=>{D.current=!1}),[]),$1(()=>{if(w&&(L.current=w),C&&(k.current=C),w&&C){if(B.current)return B.current(w,C,M);M()}},[w,C,M,B,P]);const V=_.useMemo(()=>({reference:L,floating:k,setReference:S,setFloating:N}),[S,N]),z=_.useMemo(()=>({reference:w,floating:C}),[w,C]),X=_.useMemo(()=>{const q={position:r,left:0,top:0};if(!z.floating)return q;const Y=kL(z.floating,u.x),ie=kL(z.floating,u.y);return l?{...q,transform:"translate("+Y+"px, "+ie+"px)",...XU(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ie}},[r,l,z.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:M,refs:V,elements:z,floatingStyles:X}),[u,M,V,z,X])}const OPe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?AL({element:s.current,padding:a}).fn(r):{}:s?AL({element:s,padding:a}).fn(r):{}}}},LPe=(e,t)=>({...jPe(e),options:[e,t]}),IPe=(e,t)=>({...NPe(e),options:[e,t]}),MPe=(e,t)=>({...kPe(e),options:[e,t]}),DPe=(e,t)=>({...SPe(e),options:[e,t]}),FPe=(e,t)=>({..._Pe(e),options:[e,t]}),RPe=(e,t)=>({...APe(e),options:[e,t]}),$Pe=(e,t)=>({...OPe(e),options:[e,t]});var BPe="Arrow",QU=_.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(fn.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});QU.displayName=BPe;var zPe=QU,Yk="Popper",[JU,eV]=Ax(Yk),[UPe,tV]=JU(Yk),rV=e=>{const{__scopePopper:t,children:r}=e,[s,a]=_.useState(null);return n.jsx(UPe,{scope:t,anchor:s,onAnchorChange:a,children:r})};rV.displayName=Yk;var nV="PopperAnchor",sV=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=tV(nV,r),o=_.useRef(null),l=ss(t,o),c=_.useRef(null);return _.useEffect(()=>{const d=c.current;c.current=s?.current||o.current,d!==c.current&&i.onAnchorChange(c.current)}),s?null:n.jsx(fn.div,{...a,ref:l})});sV.displayName=nV;var Zk="PopperContent",[VPe,qPe]=JU(Zk),aV=_.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:y,...g}=e,v=tV(Zk,r),[b,S]=_.useState(null),N=ss(t,ge=>S(ge)),[w,C]=_.useState(null),L=xA(w),k=L?.width??0,A=L?.height??0,P=s+(i!=="center"?"-"+i:""),B=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(d)?d:[d],I=T.length>0,M={padding:B,boundary:T.filter(HPe),altBoundary:I},{refs:D,floatingStyles:V,placement:z,isPositioned:X,middlewareData:q}=EPe({strategy:"fixed",placement:P,whileElementsMounted:(...ge)=>wPe(...ge,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[LPe({mainAxis:a+A,alignmentAxis:o}),c&&IPe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?MPe():void 0,...M}),c&&DPe({...M}),FPe({...M,apply:({elements:ge,rects:Se,availableWidth:J,availableHeight:he})=>{const{width:ee,height:le}=Se.reference,ke=ge.floating.style;ke.setProperty("--radix-popper-available-width",`${J}px`),ke.setProperty("--radix-popper-available-height",`${he}px`),ke.setProperty("--radix-popper-anchor-width",`${ee}px`),ke.setProperty("--radix-popper-anchor-height",`${le}px`)}}),w&&$Pe({element:w,padding:l}),GPe({arrowWidth:k,arrowHeight:A}),p&&RPe({strategy:"referenceHidden",...M})]}),[Y,ie]=lV(z),W=$m(y);fi(()=>{X&&W?.()},[X,W]);const F=q.arrow?.x,Z=q.arrow?.y,Q=q.arrow?.centerOffset!==0,[ae,de]=_.useState();return fi(()=>{b&&de(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:X?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(VPe,{scope:r,placedSide:Y,onArrowChange:C,arrowX:F,arrowY:Z,shouldHideArrow:Q,children:n.jsx(fn.div,{"data-side":Y,"data-align":ie,...g,ref:N,style:{...g.style,animation:X?void 0:"none"}})})})});aV.displayName=Zk;var iV="PopperArrow",WPe={top:"bottom",right:"left",bottom:"top",left:"right"},oV=_.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=qPe(iV,s),o=WPe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(zPe,{...a,ref:r,style:{...a.style,display:"block"}})})});oV.displayName=iV;function HPe(e){return e!==null}var GPe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=lV(r),h={start:"0%",center:"50%",end:"100%"}[u],p=(a.arrow?.x??0)+l/2,f=(a.arrow?.y??0)+c/2;let y="",g="";return d==="bottom"?(y=o?h:`${p}px`,g=`${-c}px`):d==="top"?(y=o?h:`${p}px`,g=`${s.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?h:`${f}px`):d==="left"&&(y=`${s.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:y,y:g}}}});function lV(e){const[t,r="center"]=e.split("-");return[t,r]}var KPe=rV,YPe=sV,ZPe=aV,XPe=oV,cV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QPe="VisuallyHidden",JPe=_.forwardRef((e,t)=>n.jsx(fn.span,{...e,ref:t,style:{...cV,...e.style}}));JPe.displayName=QPe;var eTe=[" ","Enter","ArrowUp","ArrowDown"],tTe=[" ","Enter"],Um="Select",[Qj,Jj,rTe]=kCe(Um),[Vx,O$e]=Ax(Um,[rTe,eV]),eN=eV(),[nTe,af]=Vx(Um),[sTe,aTe]=Vx(Um),dV=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:p,required:f,form:y}=e,g=eN(t),[v,b]=_.useState(null),[S,N]=_.useState(null),[w,C]=_.useState(!1),L=PCe(d),[k,A]=Iy({prop:s,defaultProp:a??!1,onChange:i,caller:Um}),[P,B]=Iy({prop:o,defaultProp:l,onChange:c,caller:Um}),T=_.useRef(null),I=v?y||!!v.closest("form"):!0,[M,D]=_.useState(new Set),V=Array.from(M).map(z=>z.props.value).join(";");return n.jsx(KPe,{...g,children:n.jsxs(nTe,{required:f,scope:t,trigger:v,onTriggerChange:b,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:w,onValueNodeHasChildrenChange:C,contentId:mg(),value:P,onValueChange:B,open:k,onOpenChange:A,dir:L,triggerPointerDownPosRef:T,disabled:p,children:[n.jsx(Qj.Provider,{scope:t,children:n.jsx(sTe,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(z=>{D(X=>new Set(X).add(z))},[]),onNativeOptionRemove:_.useCallback(z=>{D(X=>{const q=new Set(X);return q.delete(z),q})},[]),children:r})}),I?n.jsxs(IV,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:z=>B(z.target.value),disabled:p,form:y,children:[P===void 0?n.jsx("option",{value:""}):null,Array.from(M)]},V):null]})})};dV.displayName=Um;var uV="SelectTrigger",hV=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=eN(r),o=af(uV,r),l=o.disabled||s,c=ss(t,o.onTriggerChange),d=Jj(r),u=_.useRef("touch"),[h,p,f]=DV(g=>{const v=d().filter(N=>!N.disabled),b=v.find(N=>N.value===o.value),S=FV(v,g,b);S!==void 0&&o.onValueChange(S.value)}),y=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(YPe,{asChild:!0,...i,children:n.jsx(fn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MV(o.value)?"":void 0,...a,ref:c,onClick:Pn(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Pn(a.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Pn(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&eTe.includes(g.key)&&(y(),g.preventDefault())})})})});hV.displayName=uV;var fV="SelectValue",mV=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=af(fV,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=ss(t,c.onValueNodeChange);return fi(()=>{d(u)},[d,u]),n.jsx(fn.span,{...l,ref:h,style:{pointerEvents:"none"},children:MV(c.value)?n.jsx(n.Fragment,{children:o}):i})});mV.displayName=fV;var iTe="SelectIcon",pV=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(fn.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});pV.displayName=iTe;var oTe="SelectPortal",gV=e=>n.jsx(Tk,{asChild:!0,...e});gV.displayName=oTe;var Vm="SelectContent",xV=_.forwardRef((e,t)=>{const r=af(Vm,e.__scopeSelect),[s,a]=_.useState();if(fi(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Mv.createPortal(n.jsx(yV,{scope:e.__scopeSelect,children:n.jsx(Qj.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(vV,{...e,ref:t})});xV.displayName=Vm;var Vl=10,[yV,of]=Vx(Vm),lTe="SelectContentImpl",cTe=Ly("SelectContent.RemoveScroll"),vV=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=e,S=af(Vm,r),[N,w]=_.useState(null),[C,L]=_.useState(null),k=ss(t,ge=>w(ge)),[A,P]=_.useState(null),[B,T]=_.useState(null),I=Jj(r),[M,D]=_.useState(!1),V=_.useRef(!1);_.useEffect(()=>{if(N)return mU(N)},[N]),aU();const z=_.useCallback(ge=>{const[Se,...J]=I().map(le=>le.ref.current),[he]=J.slice(-1),ee=document.activeElement;for(const le of ge)if(le===ee||(le?.scrollIntoView({block:"nearest"}),le===Se&&C&&(C.scrollTop=0),le===he&&C&&(C.scrollTop=C.scrollHeight),le?.focus(),document.activeElement!==ee))return},[I,C]),X=_.useCallback(()=>z([A,N]),[z,A,N]);_.useEffect(()=>{M&&X()},[M,X]);const{onOpenChange:q,triggerPointerDownPosRef:Y}=S;_.useEffect(()=>{if(N){let ge={x:0,y:0};const Se=he=>{ge={x:Math.abs(Math.round(he.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(Y.current?.y??0))}},J=he=>{ge.x<=10&&ge.y<=10?he.preventDefault():N.contains(he.target)||q(!1),document.removeEventListener("pointermove",Se),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",J,{capture:!0})}}},[N,q,Y]),_.useEffect(()=>{const ge=()=>q(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[q]);const[ie,W]=DV(ge=>{const Se=I().filter(ee=>!ee.disabled),J=Se.find(ee=>ee.ref.current===document.activeElement),he=FV(Se,ge,J);he&&setTimeout(()=>he.ref.current.focus())}),F=_.useCallback((ge,Se,J)=>{const he=!V.current&&!J;(S.value!==void 0&&S.value===Se||he)&&(P(ge),he&&(V.current=!0))},[S.value]),Z=_.useCallback(()=>N?.focus(),[N]),Q=_.useCallback((ge,Se,J)=>{const he=!V.current&&!J;(S.value!==void 0&&S.value===Se||he)&&T(ge)},[S.value]),ae=s==="popper"?e6:bV,de=ae===e6?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return n.jsx(yV,{scope:r,content:N,viewport:C,onViewportChange:L,itemRefCallback:F,selectedItem:A,onItemLeave:Z,itemTextRefCallback:Q,focusSelectedItem:X,selectedItemText:B,position:s,isPositioned:M,searchRef:ie,children:n.jsx(Ek,{as:cTe,allowPinchZoom:!0,children:n.jsx(Pk,{asChild:!0,trapped:S.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Pn(a,ge=>{S.trigger?.focus({preventScroll:!0}),ge.preventDefault()}),children:n.jsx(Ck,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:n.jsx(ae,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:ge=>ge.preventDefault(),...b,...de,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Pn(b.onKeyDown,ge=>{const Se=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Se&&ge.key.length===1&&W(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let he=I().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const ee=ge.target,le=he.indexOf(ee);he=he.slice(le+1)}setTimeout(()=>z(he)),ge.preventDefault()}})})})})})})});vV.displayName=lTe;var dTe="SelectItemAlignedPosition",bV=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=af(Vm,r),o=of(Vm,r),[l,c]=_.useState(null),[d,u]=_.useState(null),h=ss(t,k=>u(k)),p=Jj(r),f=_.useRef(!1),y=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:S}=o,N=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&v&&b){const k=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),B=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=B.left-A.left,le=P.left-ee,ke=k.left-le,Ne=k.width+ke,G=Math.max(Ne,A.width),Ae=window.innerWidth-Vl,ze=gL(le,[Vl,Math.max(Vl,Ae-G)]);l.style.minWidth=Ne+"px",l.style.left=ze+"px"}else{const ee=A.right-B.right,le=window.innerWidth-P.right-ee,ke=window.innerWidth-k.right-le,Ne=k.width+ke,G=Math.max(Ne,A.width),Ae=window.innerWidth-Vl,ze=gL(le,[Vl,Math.max(Vl,Ae-G)]);l.style.minWidth=Ne+"px",l.style.right=ze+"px"}const T=p(),I=window.innerHeight-Vl*2,M=g.scrollHeight,D=window.getComputedStyle(d),V=parseInt(D.borderTopWidth,10),z=parseInt(D.paddingTop,10),X=parseInt(D.borderBottomWidth,10),q=parseInt(D.paddingBottom,10),Y=V+z+M+q+X,ie=Math.min(v.offsetHeight*5,Y),W=window.getComputedStyle(g),F=parseInt(W.paddingTop,10),Z=parseInt(W.paddingBottom,10),Q=k.top+k.height/2-Vl,ae=I-Q,de=v.offsetHeight/2,ge=v.offsetTop+de,Se=V+z+ge,J=Y-Se;if(Se<=Q){const ee=T.length>0&&v===T[T.length-1].ref.current;l.style.bottom="0px";const le=d.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(ae,de+(ee?Z:0)+le+X),Ne=Se+ke;l.style.height=Ne+"px"}else{const ee=T.length>0&&v===T[0].ref.current;l.style.top="0px";const ke=Math.max(Q,V+g.offsetTop+(ee?F:0)+de)+J;l.style.height=ke+"px",g.scrollTop=Se-Q+g.offsetTop}l.style.margin=`${Vl}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=I+"px",s?.(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,d,g,v,b,i.dir,s]);fi(()=>N(),[N]);const[w,C]=_.useState();fi(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const L=_.useCallback(k=>{k&&y.current===!0&&(N(),S?.(),y.current=!1)},[N,S]);return n.jsx(hTe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:L,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(fn.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});bV.displayName=dTe;var uTe="SelectPopperPosition",e6=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Vl,...i}=e,o=eN(r);return n.jsx(ZPe,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e6.displayName=uTe;var[hTe,Xk]=Vx(Vm,{}),t6="SelectViewport",wV=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=of(t6,r),o=Xk(t6,r),l=ss(t,i.onViewportChange),c=_.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Qj.Slot,{scope:r,children:n.jsx(fn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pn(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p?.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const y=window.innerHeight-Vl*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<y){const S=b+f,N=Math.min(y,S),w=S-N;h.style.height=N+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});wV.displayName=t6;var jV="SelectGroup",[fTe,mTe]=Vx(jV),pTe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=mg();return n.jsx(fTe,{scope:r,id:a,children:n.jsx(fn.div,{role:"group","aria-labelledby":a,...s,ref:t})})});pTe.displayName=jV;var NV="SelectLabel",SV=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=mTe(NV,r);return n.jsx(fn.div,{id:a.id,...s,ref:t})});SV.displayName=NV;var g2="SelectItem",[gTe,_V]=Vx(g2),AV=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=af(g2,r),c=of(g2,r),d=l.value===s,[u,h]=_.useState(i??""),[p,f]=_.useState(!1),y=ss(t,S=>c.itemRefCallback?.(S,s,a)),g=mg(),v=_.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(gTe,{scope:r,value:s,disabled:a,textId:g,isSelected:d,onItemTextChange:_.useCallback(S=>{h(N=>N||(S?.textContent??"").trim())},[]),children:n.jsx(Qj.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(fn.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:y,onFocus:Pn(o.onFocus,()=>f(!0)),onBlur:Pn(o.onBlur,()=>f(!1)),onClick:Pn(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Pn(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Pn(o.onPointerDown,S=>{v.current=S.pointerType}),onPointerMove:Pn(o.onPointerMove,S=>{v.current=S.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pn(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Pn(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(tTe.includes(S.key)&&b(),S.key===" "&&S.preventDefault())})})})})});AV.displayName=g2;var ty="SelectItemText",kV=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=af(ty,r),l=of(ty,r),c=_V(ty,r),d=aTe(ty,r),[u,h]=_.useState(null),p=ss(t,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),f=u?.textContent,y=_.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=d;return fi(()=>(g(y),()=>v(y)),[g,v,y]),n.jsxs(n.Fragment,{children:[n.jsx(fn.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mv.createPortal(i.children,o.valueNode):null]})});kV.displayName=ty;var CV="SelectItemIndicator",PV=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return _V(CV,r).isSelected?n.jsx(fn.span,{"aria-hidden":!0,...s,ref:t}):null});PV.displayName=CV;var r6="SelectScrollUpButton",TV=_.forwardRef((e,t)=>{const r=of(r6,e.__scopeSelect),s=Xk(r6,e.__scopeSelect),[a,i]=_.useState(!1),o=ss(t,s.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(OV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TV.displayName=r6;var n6="SelectScrollDownButton",EV=_.forwardRef((e,t)=>{const r=of(n6,e.__scopeSelect),s=Xk(n6,e.__scopeSelect),[a,i]=_.useState(!1),o=ss(t,s.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(OV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});EV.displayName=n6;var OV=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=of("SelectScrollButton",r),o=_.useRef(null),l=Jj(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),fi(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),n.jsx(fn.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pn(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Pn(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Pn(a.onPointerLeave,()=>{c()})})}),xTe="SelectSeparator",LV=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(fn.div,{"aria-hidden":!0,...s,ref:t})});LV.displayName=xTe;var s6="SelectArrow",yTe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=eN(r),i=af(s6,r),o=of(s6,r);return i.open&&o.position==="popper"?n.jsx(XPe,{...a,...s,ref:t}):null});yTe.displayName=s6;var vTe="SelectBubbleInput",IV=_.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=_.useRef(null),i=ss(s,a),o=gA(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(fn.select,{...r,style:{...cV,...r.style},ref:i,defaultValue:t})});IV.displayName=vTe;function MV(e){return e===""||e===void 0}function DV(e){const t=$m(e),r=_.useRef(""),s=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function FV(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=bTe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function bTe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var wTe=dV,RV=hV,jTe=mV,NTe=pV,STe=gV,$V=xV,_Te=wV,BV=SV,zV=AV,ATe=kV,kTe=PV,UV=TV,VV=EV,qV=LV;const WV=wTe,HV=jTe,Qk=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(RV,{ref:s,className:Bn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(NTe,{asChild:!0,children:n.jsx(Wh,{className:"h-4 w-4 opacity-50"})})]}));Qk.displayName=RV.displayName;const GV=_.forwardRef(({className:e,...t},r)=>n.jsx(UV,{ref:r,className:Bn("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(fR,{className:"h-4 w-4"})}));GV.displayName=UV.displayName;const KV=_.forwardRef(({className:e,...t},r)=>n.jsx(VV,{ref:r,className:Bn("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wh,{className:"h-4 w-4"})}));KV.displayName=VV.displayName;const Jk=_.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(STe,{children:n.jsxs($V,{ref:a,className:Bn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(GV,{}),n.jsx(_Te,{className:Bn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(KV,{})]})}));Jk.displayName=$V.displayName;const CTe=_.forwardRef(({className:e,...t},r)=>n.jsx(BV,{ref:r,className:Bn("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));CTe.displayName=BV.displayName;const gh=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(zV,{ref:s,className:Bn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(kTe,{children:n.jsx(ba,{className:"h-4 w-4"})})}),n.jsx(ATe,{children:t})]}));gh.displayName=zV.displayName;const PTe=_.forwardRef(({className:e,...t},r)=>n.jsx(qV,{ref:r,className:Bn("-mx-1 my-1 h-px bg-muted",e),...t}));PTe.displayName=qV.displayName;var Kv=e=>e.type==="checkbox",om=e=>e instanceof Date,Ei=e=>e==null;const YV=e=>typeof e=="object";var Ws=e=>!Ei(e)&&!Array.isArray(e)&&YV(e)&&!om(e),TTe=e=>Ws(e)&&e.target?Kv(e.target)?e.target.checked:e.target.value:e,ETe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OTe=(e,t)=>e.has(ETe(t)),LTe=e=>{const t=e.constructor&&e.constructor.prototype;return Ws(t)&&t.hasOwnProperty("isPrototypeOf")},e3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ka(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(e3&&(e instanceof Blob||s))&&(r||Ws(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!LTe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ka(e[a]));else return e;return t}var tN=e=>/^\w*$/.test(e),ta=e=>e===void 0,t3=e=>Array.isArray(e)?e.filter(Boolean):[],r3=e=>t3(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(e,t,r)=>{if(!t||!Ws(e))return r;const s=(tN(t)?[t]:r3(t)).reduce((a,i)=>Ei(a)?a:a[i],e);return ta(s)||s===e?ta(e[t])?r:e[t]:s},Mc=e=>typeof e=="boolean",Mn=(e,t,r)=>{let s=-1;const a=tN(t)?[t]:r3(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Ws(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const CL={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Id={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ITe=ve.createContext(null);ITe.displayName="HookFormContext";var MTe=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Xl.all&&(t._proxyFormState[o]=!s||Xl.all),e[o]}});return a};const DTe=typeof window<"u"?ve.useLayoutEffect:ve.useEffect;var qc=e=>typeof e=="string",FTe=(e,t,r,s,a)=>qc(e)?(s&&t.watch.add(e),Ct(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),Ct(r,i))):(s&&(t.watchAll=!0),r),a6=e=>Ei(e)||!YV(e);function xh(e,t,r=new WeakSet){if(a6(e)||a6(t))return e===t;if(om(e)&&om(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(om(o)&&om(l)||Ws(o)&&Ws(l)||Array.isArray(o)&&Array.isArray(l)?!xh(o,l,r):o!==l)return!1}}return!0}var ZV=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},gy=e=>Array.isArray(e)?e:[e],PL=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Qi=e=>Ws(e)&&!Object.keys(e).length,n3=e=>e.type==="file",Ql=e=>typeof e=="function",x2=e=>{if(!e3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},XV=e=>e.type==="select-multiple",s3=e=>e.type==="radio",RTe=e=>s3(e)||Kv(e),J5=e=>x2(e)&&e.isConnected;function $Te(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=ta(e)?s++:e[t[s++]];return e}function BTe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ta(e[t]))return!1;return!0}function Xs(e,t){const r=Array.isArray(t)?t:tN(t)?[t]:r3(t),s=r.length===1?e:$Te(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ws(s)&&Qi(s)||Array.isArray(s)&&BTe(s))&&Xs(e,r.slice(0,-1)),e}var QV=e=>{for(const t in e)if(Ql(e[t]))return!0;return!1};function y2(e,t={}){const r=Array.isArray(e);if(Ws(e)||r)for(const s in e)Array.isArray(e[s])||Ws(e[s])&&!QV(e[s])?(t[s]=Array.isArray(e[s])?[]:{},y2(e[s],t[s])):Ei(e[s])||(t[s]=!0);return t}function JV(e,t,r){const s=Array.isArray(e);if(Ws(e)||s)for(const a in e)Array.isArray(e[a])||Ws(e[a])&&!QV(e[a])?ta(t)||a6(r[a])?r[a]=Array.isArray(e[a])?y2(e[a],[]):{...y2(e[a])}:JV(e[a],Ei(t)?{}:t[a],r[a]):r[a]=!xh(e[a],t[a]);return r}var V0=(e,t)=>JV(e,t,y2(t));const TL={value:!1,isValid:!1},EL={value:!0,isValid:!0};var eq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ta(e[0].attributes.value)?ta(e[0].value)||e[0].value===""?EL:{value:e[0].value,isValid:!0}:EL:TL}return TL},tq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>ta(e)?e:t?e===""?NaN:e&&+e:r&&qc(e)?new Date(e):s?s(e):e;const OL={isValid:!1,value:null};var rq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,OL):OL;function LL(e){const t=e.ref;return n3(t)?t.files:s3(t)?rq(e.refs).value:XV(t)?[...t.selectedOptions].map(({value:r})=>r):Kv(t)?eq(e.refs).value:tq(ta(t.value)?e.ref.value:t.value,e)}var zTe=(e,t,r,s)=>{const a={};for(const i of e){const o=Ct(t,i);o&&Mn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},v2=e=>e instanceof RegExp,q0=e=>ta(e)?e:v2(e)?e.source:Ws(e)?v2(e.value)?e.value.source:e.value:e,IL=e=>({isOnSubmit:!e||e===Xl.onSubmit,isOnBlur:e===Xl.onBlur,isOnChange:e===Xl.onChange,isOnAll:e===Xl.all,isOnTouch:e===Xl.onTouched});const ML="AsyncFunction";var UTe=e=>!!e&&!!e.validate&&!!(Ql(e.validate)&&e.validate.constructor.name===ML||Ws(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ML)),VTe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),DL=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const xy=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=Ct(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(xy(l,t))break}else if(Ws(l)&&xy(l,t))break}}};function FL(e,t,r){const s=Ct(e,r);if(s||tN(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ct(t,i),l=Ct(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var qTe=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Qi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Xl.all))},WTe=(e,t,r)=>!e||!t||e===t||gy(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),HTe=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,GTe=(e,t)=>!t3(Ct(e,t)).length&&Xs(e,t),KTe=(e,t,r)=>{const s=gy(Ct(e,r));return Mn(s,"root",t[r]),Mn(e,r,s),e},B1=e=>qc(e);function RL(e,t,r="validate"){if(B1(e)||Array.isArray(e)&&e.every(B1)||Mc(e)&&!e)return{type:r,message:B1(e)?e:"",ref:t}}var zp=e=>Ws(e)&&!v2(e)?e:{value:e,message:""},$L=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:p,pattern:f,validate:y,name:g,valueAsNumber:v,mount:b}=e._f,S=Ct(r,g);if(!b||t.has(g))return{};const N=l?l[0]:o,w=I=>{a&&N.reportValidity&&(N.setCustomValidity(Mc(I)?"":I||""),N.reportValidity())},C={},L=s3(o),k=Kv(o),A=L||k,P=(v||n3(o))&&ta(o.value)&&ta(S)||x2(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,B=ZV.bind(null,g,s,C),T=(I,M,D,V=Id.maxLength,z=Id.minLength)=>{const X=I?M:D;C[g]={type:I?V:z,message:X,ref:o,...B(I?V:z,X)}};if(i?!Array.isArray(S)||!S.length:c&&(!A&&(P||Ei(S))||Mc(S)&&!S||k&&!eq(l).isValid||L&&!rq(l).isValid)){const{value:I,message:M}=B1(c)?{value:!!c,message:c}:zp(c);if(I&&(C[g]={type:Id.required,message:M,ref:N,...B(Id.required,M)},!s))return w(M),C}if(!P&&(!Ei(h)||!Ei(p))){let I,M;const D=zp(p),V=zp(h);if(!Ei(S)&&!isNaN(S)){const z=o.valueAsNumber||S&&+S;Ei(D.value)||(I=z>D.value),Ei(V.value)||(M=z<V.value)}else{const z=o.valueAsDate||new Date(S),X=ie=>new Date(new Date().toDateString()+" "+ie),q=o.type=="time",Y=o.type=="week";qc(D.value)&&S&&(I=q?X(S)>X(D.value):Y?S>D.value:z>new Date(D.value)),qc(V.value)&&S&&(M=q?X(S)<X(V.value):Y?S<V.value:z<new Date(V.value))}if((I||M)&&(T(!!I,D.message,V.message,Id.max,Id.min),!s))return w(C[g].message),C}if((d||u)&&!P&&(qc(S)||i&&Array.isArray(S))){const I=zp(d),M=zp(u),D=!Ei(I.value)&&S.length>+I.value,V=!Ei(M.value)&&S.length<+M.value;if((D||V)&&(T(D,I.message,M.message),!s))return w(C[g].message),C}if(f&&!P&&qc(S)){const{value:I,message:M}=zp(f);if(v2(I)&&!S.match(I)&&(C[g]={type:Id.pattern,message:M,ref:o,...B(Id.pattern,M)},!s))return w(M),C}if(y){if(Ql(y)){const I=await y(S,r),M=RL(I,N);if(M&&(C[g]={...M,...B(Id.validate,M.message)},!s))return w(M.message),C}else if(Ws(y)){let I={};for(const M in y){if(!Qi(I)&&!s)break;const D=RL(await y[M](S,r),N,M);D&&(I={...D,...B(M,D.message)},w(D.message),s&&(C[g]=I))}if(!Qi(I)&&(C[g]={ref:N,...I},!s))return C}}return w(!0),C};const YTe={mode:Xl.onSubmit,reValidateMode:Xl.onChange,shouldFocusError:!0};function ZTe(e={}){let t={...YTe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ql(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Ws(t.defaultValues)||Ws(t.values)?ka(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ka(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const p={array:PL(),state:PL()},f=t.criteriaMode===Xl.all,y=H=>te=>{clearTimeout(d),d=setTimeout(H,te)},g=async H=>{if(!t.disabled&&(u.isValid||h.isValid||H)){const te=t.resolver?Qi((await k()).errors):await P(s,!0);te!==r.isValid&&p.state.next({isValid:te})}},v=(H,te)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(ye=>{ye&&(te?Mn(r.validatingFields,ye,te):Xs(r.validatingFields,ye))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Qi(r.validatingFields)}))},b=(H,te=[],ye,Ce,Pe=!0,Ee=!0)=>{if(Ce&&ye&&!t.disabled){if(o.action=!0,Ee&&Array.isArray(Ct(s,H))){const Ve=ye(Ct(s,H),Ce.argA,Ce.argB);Pe&&Mn(s,H,Ve)}if(Ee&&Array.isArray(Ct(r.errors,H))){const Ve=ye(Ct(r.errors,H),Ce.argA,Ce.argB);Pe&&Mn(r.errors,H,Ve),GTe(r.errors,H)}if((u.touchedFields||h.touchedFields)&&Ee&&Array.isArray(Ct(r.touchedFields,H))){const Ve=ye(Ct(r.touchedFields,H),Ce.argA,Ce.argB);Pe&&Mn(r.touchedFields,H,Ve)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=V0(a,i)),p.state.next({name:H,isDirty:T(H,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mn(i,H,te)},S=(H,te)=>{Mn(r.errors,H,te),p.state.next({errors:r.errors})},N=H=>{r.errors=H,p.state.next({errors:r.errors,isValid:!1})},w=(H,te,ye,Ce)=>{const Pe=Ct(s,H);if(Pe){const Ee=Ct(i,H,ta(ye)?Ct(a,H):ye);ta(Ee)||Ce&&Ce.defaultChecked||te?Mn(i,H,te?Ee:LL(Pe._f)):D(H,Ee),o.mount&&g()}},C=(H,te,ye,Ce,Pe)=>{let Ee=!1,Ve=!1;const tt={name:H};if(!t.disabled){if(!ye||Ce){(u.isDirty||h.isDirty)&&(Ve=r.isDirty,r.isDirty=tt.isDirty=T(),Ee=Ve!==tt.isDirty);const it=xh(Ct(a,H),te);Ve=!!Ct(r.dirtyFields,H),it?Xs(r.dirtyFields,H):Mn(r.dirtyFields,H,!0),tt.dirtyFields=r.dirtyFields,Ee=Ee||(u.dirtyFields||h.dirtyFields)&&Ve!==!it}if(ye){const it=Ct(r.touchedFields,H);it||(Mn(r.touchedFields,H,ye),tt.touchedFields=r.touchedFields,Ee=Ee||(u.touchedFields||h.touchedFields)&&it!==ye)}Ee&&Pe&&p.state.next(tt)}return Ee?tt:{}},L=(H,te,ye,Ce)=>{const Pe=Ct(r.errors,H),Ee=(u.isValid||h.isValid)&&Mc(te)&&r.isValid!==te;if(t.delayError&&ye?(c=y(()=>S(H,ye)),c(t.delayError)):(clearTimeout(d),c=null,ye?Mn(r.errors,H,ye):Xs(r.errors,H)),(ye?!xh(Pe,ye):Pe)||!Qi(Ce)||Ee){const Ve={...Ce,...Ee&&Mc(te)?{isValid:te}:{},errors:r.errors,name:H};r={...r,...Ve},p.state.next(Ve)}},k=async H=>{v(H,!0);const te=await t.resolver(i,t.context,zTe(H||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(H),te},A=async H=>{const{errors:te}=await k(H);if(H)for(const ye of H){const Ce=Ct(te,ye);Ce?Mn(r.errors,ye,Ce):Xs(r.errors,ye)}else r.errors=te;return te},P=async(H,te,ye={valid:!0})=>{for(const Ce in H){const Pe=H[Ce];if(Pe){const{_f:Ee,...Ve}=Pe;if(Ee){const tt=l.array.has(Ee.name),it=Pe._f&&UTe(Pe._f);it&&u.validatingFields&&v([Ce],!0);const ft=await $L(Pe,l.disabled,i,f,t.shouldUseNativeValidation&&!te,tt);if(it&&u.validatingFields&&v([Ce]),ft[Ee.name]&&(ye.valid=!1,te))break;!te&&(Ct(ft,Ee.name)?tt?KTe(r.errors,ft,Ee.name):Mn(r.errors,Ee.name,ft[Ee.name]):Xs(r.errors,Ee.name))}!Qi(Ve)&&await P(Ve,te,ye)}}return ye.valid},B=()=>{for(const H of l.unMount){const te=Ct(s,H);te&&(te._f.refs?te._f.refs.every(ye=>!J5(ye)):!J5(te._f.ref))&&ge(H)}l.unMount=new Set},T=(H,te)=>!t.disabled&&(H&&te&&Mn(i,H,te),!xh(ie(),a)),I=(H,te,ye)=>FTe(H,l,{...o.mount?i:ta(te)?a:qc(H)?{[H]:te}:te},ye,te),M=H=>t3(Ct(o.mount?i:a,H,t.shouldUnregister?Ct(a,H,[]):[])),D=(H,te,ye={})=>{const Ce=Ct(s,H);let Pe=te;if(Ce){const Ee=Ce._f;Ee&&(!Ee.disabled&&Mn(i,H,tq(te,Ee)),Pe=x2(Ee.ref)&&Ei(te)?"":te,XV(Ee.ref)?[...Ee.ref.options].forEach(Ve=>Ve.selected=Pe.includes(Ve.value)):Ee.refs?Kv(Ee.ref)?Ee.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(Pe)?Ve.checked=!!Pe.find(tt=>tt===Ve.value):Ve.checked=Pe===Ve.value||!!Pe)}):Ee.refs.forEach(Ve=>Ve.checked=Ve.value===Pe):n3(Ee.ref)?Ee.ref.value="":(Ee.ref.value=Pe,Ee.ref.type||p.state.next({name:H,values:ka(i)})))}(ye.shouldDirty||ye.shouldTouch)&&C(H,Pe,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Y(H)},V=(H,te,ye)=>{for(const Ce in te){if(!te.hasOwnProperty(Ce))return;const Pe=te[Ce],Ee=H+"."+Ce,Ve=Ct(s,Ee);(l.array.has(H)||Ws(Pe)||Ve&&!Ve._f)&&!om(Pe)?V(Ee,Pe,ye):D(Ee,Pe,ye)}},z=(H,te,ye={})=>{const Ce=Ct(s,H),Pe=l.array.has(H),Ee=ka(te);Mn(i,H,Ee),Pe?(p.array.next({name:H,values:ka(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&ye.shouldDirty&&p.state.next({name:H,dirtyFields:V0(a,i),isDirty:T(H,Ee)})):Ce&&!Ce._f&&!Ei(Ee)?V(H,Ee,ye):D(H,Ee,ye),DL(H,l)&&p.state.next({...r,name:H}),p.state.next({name:o.mount?H:void 0,values:ka(i)})},X=async H=>{o.mount=!0;const te=H.target;let ye=te.name,Ce=!0;const Pe=Ct(s,ye),Ee=it=>{Ce=Number.isNaN(it)||om(it)&&isNaN(it.getTime())||xh(it,Ct(i,ye,it))},Ve=IL(t.mode),tt=IL(t.reValidateMode);if(Pe){let it,ft;const mt=te.type?LL(Pe._f):TTe(H),ut=H.type===CL.BLUR||H.type===CL.FOCUS_OUT,zt=!VTe(Pe._f)&&!t.resolver&&!Ct(r.errors,ye)&&!Pe._f.deps||HTe(ut,Ct(r.touchedFields,ye),r.isSubmitted,tt,Ve),er=DL(ye,l,ut);Mn(i,ye,mt),ut?(!te||!te.readOnly)&&(Pe._f.onBlur&&Pe._f.onBlur(H),c&&c(0)):Pe._f.onChange&&Pe._f.onChange(H);const Nt=C(ye,mt,ut),tr=!Qi(Nt)||er;if(!ut&&p.state.next({name:ye,type:H.type,values:ka(i)}),zt)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?ut&&g():ut||g()),tr&&p.state.next({name:ye,...er?{}:Nt});if(!ut&&er&&p.state.next({...r}),t.resolver){const{errors:Qr}=await k([ye]);if(Ee(mt),Ce){const Ft=FL(r.errors,s,ye),Ar=FL(Qr,s,Ft.name||ye);it=Ar.error,ye=Ar.name,ft=Qi(Qr)}}else v([ye],!0),it=(await $L(Pe,l.disabled,i,f,t.shouldUseNativeValidation))[ye],v([ye]),Ee(mt),Ce&&(it?ft=!1:(u.isValid||h.isValid)&&(ft=await P(s,!0)));Ce&&(Pe._f.deps&&Y(Pe._f.deps),L(ye,ft,it,Nt))}},q=(H,te)=>{if(Ct(r.errors,te)&&H.focus)return H.focus(),1},Y=async(H,te={})=>{let ye,Ce;const Pe=gy(H);if(t.resolver){const Ee=await A(ta(H)?H:Pe);ye=Qi(Ee),Ce=H?!Pe.some(Ve=>Ct(Ee,Ve)):ye}else H?(Ce=(await Promise.all(Pe.map(async Ee=>{const Ve=Ct(s,Ee);return await P(Ve&&Ve._f?{[Ee]:Ve}:Ve)}))).every(Boolean),!(!Ce&&!r.isValid)&&g()):Ce=ye=await P(s);return p.state.next({...!qc(H)||(u.isValid||h.isValid)&&ye!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:ye}:{},errors:r.errors}),te.shouldFocus&&!Ce&&xy(s,q,H?Pe:l.mount),Ce},ie=H=>{const te={...o.mount?i:a};return ta(H)?te:qc(H)?Ct(te,H):H.map(ye=>Ct(te,ye))},W=(H,te)=>({invalid:!!Ct((te||r).errors,H),isDirty:!!Ct((te||r).dirtyFields,H),error:Ct((te||r).errors,H),isValidating:!!Ct(r.validatingFields,H),isTouched:!!Ct((te||r).touchedFields,H)}),F=H=>{H&&gy(H).forEach(te=>Xs(r.errors,te)),p.state.next({errors:H?r.errors:{}})},Z=(H,te,ye)=>{const Ce=(Ct(s,H,{_f:{}})._f||{}).ref,Pe=Ct(r.errors,H)||{},{ref:Ee,message:Ve,type:tt,...it}=Pe;Mn(r.errors,H,{...it,...te,ref:Ce}),p.state.next({name:H,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},Q=(H,te)=>Ql(H)?p.state.subscribe({next:ye=>"values"in ye&&H(I(void 0,te),ye)}):I(H,te,!0),ae=H=>p.state.subscribe({next:te=>{WTe(H.name,te.name,H.exact)&&qTe(te,H.formState||u,ze,H.reRenderRoot)&&H.callback({values:{...i},...r,...te,defaultValues:a})}}).unsubscribe,de=H=>(o.mount=!0,h={...h,...H.formState},ae({...H,formState:h})),ge=(H,te={})=>{for(const ye of H?gy(H):l.mount)l.mount.delete(ye),l.array.delete(ye),te.keepValue||(Xs(s,ye),Xs(i,ye)),!te.keepError&&Xs(r.errors,ye),!te.keepDirty&&Xs(r.dirtyFields,ye),!te.keepTouched&&Xs(r.touchedFields,ye),!te.keepIsValidating&&Xs(r.validatingFields,ye),!t.shouldUnregister&&!te.keepDefaultValue&&Xs(a,ye);p.state.next({values:ka(i)}),p.state.next({...r,...te.keepDirty?{isDirty:T()}:{}}),!te.keepIsValid&&g()},Se=({disabled:H,name:te})=>{(Mc(H)&&o.mount||H||l.disabled.has(te))&&(H?l.disabled.add(te):l.disabled.delete(te))},J=(H,te={})=>{let ye=Ct(s,H);const Ce=Mc(te.disabled)||Mc(t.disabled);return Mn(s,H,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:H}},name:H,mount:!0,...te}}),l.mount.add(H),ye?Se({disabled:Mc(te.disabled)?te.disabled:t.disabled,name:H}):w(H,!0,te.value),{...Ce?{disabled:te.disabled||t.disabled}:{},...t.progressive?{required:!!te.required,min:q0(te.min),max:q0(te.max),minLength:q0(te.minLength),maxLength:q0(te.maxLength),pattern:q0(te.pattern)}:{},name:H,onChange:X,onBlur:X,ref:Pe=>{if(Pe){J(H,te),ye=Ct(s,H);const Ee=ta(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,Ve=RTe(Ee),tt=ye._f.refs||[];if(Ve?tt.find(it=>it===Ee):Ee===ye._f.ref)return;Mn(s,H,{_f:{...ye._f,...Ve?{refs:[...tt.filter(J5),Ee,...Array.isArray(Ct(a,H))?[{}]:[]],ref:{type:Ee.type,name:H}}:{ref:Ee}}}),w(H,!1,void 0,Ee)}else ye=Ct(s,H,{}),ye._f&&(ye._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(OTe(l.array,H)&&o.action)&&l.unMount.add(H)}}},he=()=>t.shouldFocusError&&xy(s,q,l.mount),ee=H=>{Mc(H)&&(p.state.next({disabled:H}),xy(s,(te,ye)=>{const Ce=Ct(s,ye);Ce&&(te.disabled=Ce._f.disabled||H,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Pe=>{Pe.disabled=Ce._f.disabled||H}))},0,!1))},le=(H,te)=>async ye=>{let Ce;ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let Pe=ka(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Ee,values:Ve}=await k();r.errors=Ee,Pe=ka(Ve)}else await P(s);if(l.disabled.size)for(const Ee of l.disabled)Xs(Pe,Ee);if(Xs(r.errors,"root"),Qi(r.errors)){p.state.next({errors:{}});try{await H(Pe,ye)}catch(Ee){Ce=Ee}}else te&&await te({...r.errors},ye),he(),setTimeout(he);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qi(r.errors)&&!Ce,submitCount:r.submitCount+1,errors:r.errors}),Ce)throw Ce},ke=(H,te={})=>{Ct(s,H)&&(ta(te.defaultValue)?z(H,ka(Ct(a,H))):(z(H,te.defaultValue),Mn(a,H,ka(te.defaultValue))),te.keepTouched||Xs(r.touchedFields,H),te.keepDirty||(Xs(r.dirtyFields,H),r.isDirty=te.defaultValue?T(H,ka(Ct(a,H))):T()),te.keepError||(Xs(r.errors,H),u.isValid&&g()),p.state.next({...r}))},Ne=(H,te={})=>{const ye=H?ka(H):a,Ce=ka(ye),Pe=Qi(H),Ee=Pe?a:Ce;if(te.keepDefaultValues||(a=ye),!te.keepValues){if(te.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(V0(a,i))]);for(const tt of Array.from(Ve))Ct(r.dirtyFields,tt)?Mn(Ee,tt,Ct(i,tt)):z(tt,Ct(Ee,tt))}else{if(e3&&ta(H))for(const Ve of l.mount){const tt=Ct(s,Ve);if(tt&&tt._f){const it=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(x2(it)){const ft=it.closest("form");if(ft){ft.reset();break}}}}if(te.keepFieldsRef)for(const Ve of l.mount)z(Ve,Ct(Ee,Ve));else s={}}i=t.shouldUnregister?te.keepDefaultValues?ka(a):{}:ka(Ee),p.array.next({values:{...Ee}}),p.state.next({values:{...Ee}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:Pe?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!xh(H,a)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Pe?{}:te.keepDirtyValues?te.keepDefaultValues&&i?V0(a,i):r.dirtyFields:te.keepDefaultValues&&H?V0(a,H):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},G=(H,te)=>Ne(Ql(H)?H(i):H,te),Ae=(H,te={})=>{const ye=Ct(s,H),Ce=ye&&ye._f;if(Ce){const Pe=Ce.refs?Ce.refs[0]:Ce.ref;Pe.focus&&(Pe.focus(),te.shouldSelect&&Ql(Pe.select)&&Pe.select())}},ze=H=>{r={...r,...H}},qe={control:{register:J,unregister:ge,getFieldState:W,handleSubmit:le,setError:Z,_subscribe:ae,_runSchema:k,_focusError:he,_getWatch:I,_getDirty:T,_setValid:g,_setFieldArray:b,_setDisabledField:Se,_setErrors:N,_getFieldArray:M,_reset:Ne,_resetDefaultValues:()=>Ql(t.defaultValues)&&t.defaultValues().then(H=>{G(H,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:ee,_subjects:p,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(H){o=H},get _defaultValues(){return a},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:de,trigger:Y,register:J,handleSubmit:le,watch:Q,setValue:z,getValues:ie,reset:G,resetField:ke,clearErrors:F,unregister:ge,setError:Z,setFocus:Ae,getFieldState:W};return{...qe,formControl:qe}}function BL(e={}){const t=ve.useRef(void 0),r=ve.useRef(void 0),[s,a]=ve.useState({isDirty:!1,isValidating:!1,isLoading:Ql(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ql(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ql(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=ZTe(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,DTe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ve.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ve.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ve.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ve.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ve.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),ve.useEffect(()=>{e.values&&!xh(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=MTe(s,i),t.current}const zL=(e,t,r)=>{if(e&&"reportValidity"in e){const s=Ct(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},nq=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?zL(s.ref,r,e):s.refs&&s.refs.forEach(a=>zL(a,r,e))}},XTe=(e,t)=>{t.shouldUseNativeValidation&&nq(e,t);const r={};for(const s in e){const a=Ct(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(QTe(t.names||Object.keys(e),s)){const o=Object.assign({},Ct(r,s));Mn(o,"root",i),Mn(r,s,o)}else Mn(r,s,i)}return r},QTe=(e,t)=>e.some(r=>r.startsWith(t+"."));var JTe=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=ZV(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},UL=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&nq({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:XTe(JTe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dn;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(dn||(dn={}));var VL;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(VL||(VL={}));const Tt=dn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fh=e=>{switch(typeof e){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return Number.isNaN(e)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(e)?Tt.array:e===null?Tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Tt.promise:typeof Map<"u"&&e instanceof Map?Tt.map:typeof Set<"u"&&e instanceof Set?Tt.set:typeof Date<"u"&&e instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},ht=dn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class cu extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof cu))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}cu.create=e=>new cu(e);const i6=(e,t)=>{let r;switch(e.code){case ht.invalid_type:e.received===Tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dn.jsonStringifyReplacer)}`;break;case ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${dn.joinValues(e.keys,", ")}`;break;case ht.invalid_union:r="Invalid input";break;case ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dn.joinValues(e.options)}`;break;case ht.invalid_enum_value:r=`Invalid enum value. Expected ${dn.joinValues(e.options)}, received '${e.received}'`;break;case ht.invalid_arguments:r="Invalid function arguments";break;case ht.invalid_return_type:r="Invalid function return type";break;case ht.invalid_date:r="Invalid date";break;case ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ht.custom:r="Invalid input";break;case ht.invalid_intersection_types:r="Intersection results could not be merged";break;case ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,dn.assertNever(e)}return{message:r}};let eEe=i6;function tEe(){return eEe}const rEe=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function jt(e,t){const r=tEe(),s=rEe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===i6?void 0:i6].filter(a=>!!a)});e.common.issues.push(s)}class $i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return pr;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return $i.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return pr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const pr=Object.freeze({status:"aborted"}),ry=e=>({status:"dirty",value:e}),wl=e=>({status:"valid",value:e}),qL=e=>e.status==="aborted",WL=e=>e.status==="dirty",ux=e=>e.status==="valid",b2=e=>typeof Promise<"u"&&e instanceof Promise;var Mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Mt||(Mt={}));class id{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const HL=(e,t)=>{if(ux(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new cu(e.common.issues);return this._error=r,this._error}}};function Er(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Xr{get description(){return this._def.description}_getType(t){return fh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $i,ctx:{common:t.parent.common,data:t.data,parsedType:fh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(b2(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)},a=this._parseSync({data:t,path:s.path,parent:s});return HL(s,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return ux(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>ux(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fh(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(b2(a)?a:Promise.resolve(a));return HL(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ht.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Xh({schema:this,typeName:ur.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Bh.create(this,this._def)}nullable(){return gx.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qc.create(this)}promise(){return S2.create(this,this._def)}or(t){return w2.create([this,t],this._def)}and(t){return j2.create(this,t,this._def)}transform(t){return new Xh({...Er(this._def),schema:this,typeName:ur.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new v6({...Er(this._def),innerType:this,defaultValue:r,typeName:ur.ZodDefault})}brand(){return new _Ee({typeName:ur.ZodBranded,type:this,...Er(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new b6({...Er(this._def),innerType:this,catchValue:r,typeName:ur.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return a3.create(this,t)}readonly(){return j6.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nEe=/^c[^\s-]{8,}$/i,sEe=/^[0-9a-z]+$/,aEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oEe=/^[a-z0-9_-]{21}$/i,lEe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cEe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dEe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uEe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let eS;const hEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gEe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xEe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yEe=new RegExp(`^${sq}$`);function aq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function vEe(e){return new RegExp(`^${aq(e)}$`)}function bEe(e){let t=`${sq}T${aq(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function wEe(e,t){return!!((t==="v4"||!t)&&hEe.test(e)||(t==="v6"||!t)&&mEe.test(e))}function jEe(e,t){if(!lEe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function NEe(e,t){return!!((t==="v4"||!t)&&fEe.test(e)||(t==="v6"||!t)&&pEe.test(e))}class Kd extends Xr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Tt.string){const i=this._getOrReturnCtx(t);return jt(i,{code:ht.invalid_type,expected:Tt.string,received:i.parsedType}),pr}const s=new $i;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?jt(a,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&jt(a,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")dEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"email",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")eS||(eS=new RegExp(uEe,"u")),eS.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"emoji",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")iEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"uuid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")oEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"nanoid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")nEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"cuid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")sEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"cuid2",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")aEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"ulid",code:ht.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),jt(a,{validation:"url",code:ht.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"regex",code:ht.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?bEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?yEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?vEe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?cEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"duration",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?wEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"ip",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?jEe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"jwt",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?NEe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"cidr",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?gEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"base64",code:ht.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?xEe.test(t.data)||(a=this._getOrReturnCtx(t,a),jt(a,{validation:"base64url",code:ht.invalid_string,message:i.message}),s.dirty()):dn.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:ht.invalid_string,...Mt.errToObj(s)})}_addCheck(t){return new Kd({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Mt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...Mt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Mt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Mt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Mt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...Mt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Mt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Mt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Mt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Mt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Mt.errToObj(r)})}nonempty(t){return this.min(1,Mt.errToObj(t))}trim(){return new Kd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Kd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Kd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Kd.create=e=>new Kd({checks:[],typeName:ur.ZodString,coerce:e?.coerce??!1,...Er(e)});function SEe(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class hx extends Xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Tt.number){const i=this._getOrReturnCtx(t);return jt(i,{code:ht.invalid_type,expected:Tt.number,received:i.parsedType}),pr}let s;const a=new $i;for(const i of this._def.checks)i.kind==="int"?dn.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?SEe(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.not_finite,message:i.message}),a.dirty()):dn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Mt.toString(r))}setLimit(t,r,s,a){return new hx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Mt.toString(a)}]})}_addCheck(t){return new hx({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}hx.create=e=>new hx({checks:[],typeName:ur.ZodNumber,coerce:e?.coerce||!1,...Er(e)});class fx extends Xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Tt.bigint)return this._getInvalidInput(t);let s;const a=new $i;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),jt(s,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):dn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return jt(r,{code:ht.invalid_type,expected:Tt.bigint,received:r.parsedType}),pr}gte(t,r){return this.setLimit("min",t,!0,Mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Mt.toString(r))}setLimit(t,r,s,a){return new fx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Mt.toString(a)}]})}_addCheck(t){return new fx({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}fx.create=e=>new fx({checks:[],typeName:ur.ZodBigInt,coerce:e?.coerce??!1,...Er(e)});class o6 extends Xr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Tt.boolean){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.boolean,received:s.parsedType}),pr}return wl(t.data)}}o6.create=e=>new o6({typeName:ur.ZodBoolean,coerce:e?.coerce||!1,...Er(e)});class yv extends Xr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Tt.date){const i=this._getOrReturnCtx(t);return jt(i,{code:ht.invalid_type,expected:Tt.date,received:i.parsedType}),pr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return jt(i,{code:ht.invalid_date}),pr}const s=new $i;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),jt(a,{code:ht.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):dn.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yv({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Mt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Mt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}yv.create=e=>new yv({checks:[],coerce:e?.coerce||!1,typeName:ur.ZodDate,...Er(e)});class l6 extends Xr{_parse(t){if(this._getType(t)!==Tt.symbol){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.symbol,received:s.parsedType}),pr}return wl(t.data)}}l6.create=e=>new l6({typeName:ur.ZodSymbol,...Er(e)});class c6 extends Xr{_parse(t){if(this._getType(t)!==Tt.undefined){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.undefined,received:s.parsedType}),pr}return wl(t.data)}}c6.create=e=>new c6({typeName:ur.ZodUndefined,...Er(e)});class d6 extends Xr{_parse(t){if(this._getType(t)!==Tt.null){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.null,received:s.parsedType}),pr}return wl(t.data)}}d6.create=e=>new d6({typeName:ur.ZodNull,...Er(e)});class u6 extends Xr{constructor(){super(...arguments),this._any=!0}_parse(t){return wl(t.data)}}u6.create=e=>new u6({typeName:ur.ZodAny,...Er(e)});class h6 extends Xr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wl(t.data)}}h6.create=e=>new h6({typeName:ur.ZodUnknown,...Er(e)});class Zh extends Xr{_parse(t){const r=this._getOrReturnCtx(t);return jt(r,{code:ht.invalid_type,expected:Tt.never,received:r.parsedType}),pr}}Zh.create=e=>new Zh({typeName:ur.ZodNever,...Er(e)});class f6 extends Xr{_parse(t){if(this._getType(t)!==Tt.undefined){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.void,received:s.parsedType}),pr}return wl(t.data)}}f6.create=e=>new f6({typeName:ur.ZodVoid,...Er(e)});class Qc extends Xr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==Tt.array)return jt(r,{code:ht.invalid_type,expected:Tt.array,received:r.parsedType}),pr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(jt(r,{code:o?ht.too_big:ht.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(jt(r,{code:ht.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(jt(r,{code:ht.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new id(r,o,r.path,l)))).then(o=>$i.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new id(r,o,r.path,l)));return $i.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Qc({...this._def,minLength:{value:t,message:Mt.toString(r)}})}max(t,r){return new Qc({...this._def,maxLength:{value:t,message:Mt.toString(r)}})}length(t,r){return new Qc({...this._def,exactLength:{value:t,message:Mt.toString(r)}})}nonempty(t){return this.min(1,t)}}Qc.create=(e,t)=>new Qc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ur.ZodArray,...Er(t)});function Hp(e){if(e instanceof Ts){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Bh.create(Hp(s))}return new Ts({...e._def,shape:()=>t})}else return e instanceof Qc?new Qc({...e._def,type:Hp(e.element)}):e instanceof Bh?Bh.create(Hp(e.unwrap())):e instanceof gx?gx.create(Hp(e.unwrap())):e instanceof qm?qm.create(e.items.map(t=>Hp(t))):e}class Ts extends Xr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Tt.object){const d=this._getOrReturnCtx(t);return jt(d,{code:ht.invalid_type,expected:Tt.object,received:d.parsedType}),pr}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zh&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new id(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Zh){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(jt(a,{code:ht.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new id(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,p=await u.value;d.push({key:h,value:p,alwaysSet:u.alwaysSet})}return d}).then(d=>$i.mergeObjectSync(s,d)):$i.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Mt.errToObj,new Ts({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{const a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:Mt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Ts({...this._def,unknownKeys:"strip"})}passthrough(){return new Ts({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ts({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ts({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ur.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ts({...this._def,catchall:t})}pick(t){const r={};for(const s of dn.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Ts({...this._def,shape:()=>r})}omit(t){const r={};for(const s of dn.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Ts({...this._def,shape:()=>r})}deepPartial(){return Hp(this)}partial(t){const r={};for(const s of dn.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new Ts({...this._def,shape:()=>r})}required(t){const r={};for(const s of dn.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Bh;)i=i._def.innerType;r[s]=i}return new Ts({...this._def,shape:()=>r})}keyof(){return iq(dn.objectKeys(this.shape))}}Ts.create=(e,t)=>new Ts({shape:()=>e,unknownKeys:"strip",catchall:Zh.create(),typeName:ur.ZodObject,...Er(t)});Ts.strictCreate=(e,t)=>new Ts({shape:()=>e,unknownKeys:"strict",catchall:Zh.create(),typeName:ur.ZodObject,...Er(t)});Ts.lazycreate=(e,t)=>new Ts({shape:e,unknownKeys:"strip",catchall:Zh.create(),typeName:ur.ZodObject,...Er(t)});class w2 extends Xr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new cu(l.ctx.common.issues));return jt(r,{code:ht.invalid_union,unionErrors:o}),pr}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new cu(c));return jt(r,{code:ht.invalid_union,unionErrors:l}),pr}}get options(){return this._def.options}}w2.create=(e,t)=>new w2({options:e,typeName:ur.ZodUnion,...Er(t)});function m6(e,t){const r=fh(e),s=fh(t);if(e===t)return{valid:!0,data:e};if(r===Tt.object&&s===Tt.object){const a=dn.objectKeys(t),i=dn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=m6(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Tt.array&&s===Tt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=m6(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Tt.date&&s===Tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class j2 extends Xr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(qL(i)||qL(o))return pr;const l=m6(i.value,o.value);return l.valid?((WL(i)||WL(o))&&r.dirty(),{status:r.value,value:l.data}):(jt(s,{code:ht.invalid_intersection_types}),pr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}j2.create=(e,t,r)=>new j2({left:e,right:t,typeName:ur.ZodIntersection,...Er(r)});class qm extends Xr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Tt.array)return jt(s,{code:ht.invalid_type,expected:Tt.array,received:s.parsedType}),pr;if(s.data.length<this._def.items.length)return jt(s,{code:ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),pr;!this._def.rest&&s.data.length>this._def.items.length&&(jt(s,{code:ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new id(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>$i.mergeArray(r,o)):$i.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new qm({...this._def,rest:t})}}qm.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qm({items:e,typeName:ur.ZodTuple,rest:null,...Er(t)})};class N2 extends Xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Tt.object)return jt(s,{code:ht.invalid_type,expected:Tt.object,received:s.parsedType}),pr;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new id(s,l,s.path,l)),value:o._parse(new id(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?$i.mergeObjectAsync(r,a):$i.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof Xr?new N2({keyType:t,valueType:r,typeName:ur.ZodRecord,...Er(s)}):new N2({keyType:Kd.create(),valueType:t,typeName:ur.ZodRecord,...Er(r)})}}class p6 extends Xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Tt.map)return jt(s,{code:ht.invalid_type,expected:Tt.map,received:s.parsedType}),pr;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new id(s,l,s.path,[d,"key"])),value:i._parse(new id(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return pr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return pr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}p6.create=(e,t,r)=>new p6({valueType:t,keyType:e,typeName:ur.ZodMap,...Er(r)});class mx extends Xr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Tt.set)return jt(s,{code:ht.invalid_type,expected:Tt.set,received:s.parsedType}),pr;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(jt(s,{code:ht.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(jt(s,{code:ht.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return pr;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new id(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new mx({...this._def,minSize:{value:t,message:Mt.toString(r)}})}max(t,r){return new mx({...this._def,maxSize:{value:t,message:Mt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}mx.create=(e,t)=>new mx({valueType:e,minSize:null,maxSize:null,typeName:ur.ZodSet,...Er(t)});class g6 extends Xr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}g6.create=(e,t)=>new g6({getter:e,typeName:ur.ZodLazy,...Er(t)});class x6 extends Xr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return jt(r,{received:r.data,code:ht.invalid_literal,expected:this._def.value}),pr}return{status:"valid",value:t.data}}get value(){return this._def.value}}x6.create=(e,t)=>new x6({value:e,typeName:ur.ZodLiteral,...Er(t)});function iq(e,t){return new px({values:e,typeName:ur.ZodEnum,...Er(t)})}class px extends Xr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return jt(r,{expected:dn.joinValues(s),received:r.parsedType,code:ht.invalid_type}),pr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return jt(r,{received:r.data,code:ht.invalid_enum_value,options:s}),pr}return wl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return px.create(t,{...this._def,...r})}exclude(t,r=this._def){return px.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}px.create=iq;class y6 extends Xr{_parse(t){const r=dn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Tt.string&&s.parsedType!==Tt.number){const a=dn.objectValues(r);return jt(s,{expected:dn.joinValues(a),received:s.parsedType,code:ht.invalid_type}),pr}if(this._cache||(this._cache=new Set(dn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=dn.objectValues(r);return jt(s,{received:s.data,code:ht.invalid_enum_value,options:a}),pr}return wl(t.data)}get enum(){return this._def.values}}y6.create=(e,t)=>new y6({values:e,typeName:ur.ZodNativeEnum,...Er(t)});class S2 extends Xr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.promise&&r.common.async===!1)return jt(r,{code:ht.invalid_type,expected:Tt.promise,received:r.parsedType}),pr;const s=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return wl(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}S2.create=(e,t)=>new S2({type:e,typeName:ur.ZodPromise,...Er(t)});class Xh extends Xr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ur.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{jt(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return pr;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?pr:c.status==="dirty"||r.value==="dirty"?ry(c.value):c});{if(r.value==="aborted")return pr;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?pr:l.status==="dirty"||r.value==="dirty"?ry(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?pr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?pr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ux(o))return pr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>ux(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):pr);dn.assertNever(a)}}Xh.create=(e,t,r)=>new Xh({schema:e,typeName:ur.ZodEffects,effect:t,...Er(r)});Xh.createWithPreprocess=(e,t,r)=>new Xh({schema:t,effect:{type:"preprocess",transform:e},typeName:ur.ZodEffects,...Er(r)});class Bh extends Xr{_parse(t){return this._getType(t)===Tt.undefined?wl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bh.create=(e,t)=>new Bh({innerType:e,typeName:ur.ZodOptional,...Er(t)});class gx extends Xr{_parse(t){return this._getType(t)===Tt.null?wl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gx.create=(e,t)=>new gx({innerType:e,typeName:ur.ZodNullable,...Er(t)});class v6 extends Xr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Tt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}v6.create=(e,t)=>new v6({innerType:e,typeName:ur.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Er(t)});class b6 extends Xr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return b2(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new cu(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new cu(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}b6.create=(e,t)=>new b6({innerType:e,typeName:ur.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Er(t)});class w6 extends Xr{_parse(t){if(this._getType(t)!==Tt.nan){const s=this._getOrReturnCtx(t);return jt(s,{code:ht.invalid_type,expected:Tt.nan,received:s.parsedType}),pr}return{status:"valid",value:t.data}}}w6.create=e=>new w6({typeName:ur.ZodNaN,...Er(e)});class _Ee extends Xr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class a3 extends Xr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?pr:i.status==="dirty"?(r.dirty(),ry(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?pr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new a3({in:t,out:r,typeName:ur.ZodPipeline})}}class j6 extends Xr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(ux(a)&&(a.value=Object.freeze(a.value)),a);return b2(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}j6.create=(e,t)=>new j6({innerType:e,typeName:ur.ZodReadonly,...Er(t)});Ts.lazycreate;var ur;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ur||(ur={}));const Lt=Kd.create,yy=hx.create;w6.create;const AEe=fx.create,Jf=o6.create,z1=yv.create;l6.create;c6.create;const kEe=d6.create,GL=u6.create;h6.create;Zh.create;f6.create;const vy=Qc.create,oq=Ts.create;Ts.strictCreate;const lq=w2.create;j2.create;qm.create;const CEe=N2.create;p6.create;mx.create;const PEe=g6.create;x6.create;const i3=px.create;y6.create;S2.create;Xh.create;Bh.create;gx.create;Xh.createWithPreprocess;const Yt=Symbol.for("drizzle:entityKind");function ga(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Yt))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=e.constructor;if(r)for(;r;){if(Yt in r&&r[Yt]===t[Yt])return!0;r=Object.getPrototypeOf(r)}return!1}var JD;JD=Yt;class qx{constructor(t,r){Ke(this,"name");Ke(this,"primary");Ke(this,"notNull");Ke(this,"default");Ke(this,"defaultFn");Ke(this,"hasDefault");Ke(this,"isUnique");Ke(this,"uniqueName");Ke(this,"uniqueType");Ke(this,"dataType");Ke(this,"columnType");Ke(this,"enumValues");Ke(this,"config");this.table=t,this.config=r,this.name=r.name,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}}Ke(qx,JD,"Column");const eg=Symbol.for("drizzle:SubqueryConfig");var e7,t7;t7=Yt,e7=eg;class o3{constructor(t,r,s,a=!1){Ke(this,e7);this[eg]={sql:t,selection:r,alias:s,isWith:a}}}Ke(o3,t7,"Subquery");function TEe(e,...t){return e(...t)}const EEe={startActiveSpan(e,t){return t()}},_2=Symbol.for("drizzle:ViewBaseConfig"),tS=Symbol.for("drizzle:Name"),rS=Symbol.for("drizzle:Schema"),KL=Symbol.for("drizzle:Columns"),nS=Symbol.for("drizzle:OriginalName"),sS=Symbol.for("drizzle:BaseName"),YL=Symbol.for("drizzle:IsAlias"),ZL=Symbol.for("drizzle:ExtraConfigBuilder"),OEe=Symbol.for("drizzle:IsDrizzleTable");var r7,n7,s7,a7,i7,o7,l7,c7,d7;d7=Yt,c7=tS,l7=nS,o7=rS,i7=KL,a7=sS,s7=YL,n7=ZL,r7=OEe;class na{constructor(t,r,s){Ke(this,c7);Ke(this,l7);Ke(this,o7);Ke(this,i7);Ke(this,a7);Ke(this,s7,!1);Ke(this,n7);Ke(this,r7,!0);this[tS]=this[nS]=t,this[rS]=r,this[sS]=s}}Ke(na,d7,"Table"),Ke(na,"Symbol",{Name:tS,Schema:rS,OriginalName:nS,Columns:KL,BaseName:sS,IsAlias:YL,ExtraConfigBuilder:ZL});function LEe(e){return typeof e=="object"&&e!==null&&"getSQL"in e&&typeof e.getSQL=="function"}function IEe(e){const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var u7;u7=Yt;class cl{constructor(t){Ke(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new qa([this])}}Ke(cl,u7,"StringChunk");var h7;h7=Yt;const tm=class tm{constructor(t){Ke(this,"decoder",cq);Ke(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return EEe.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{escapeName:a,escapeParam:i,prepareTyping:o,inlineParams:l,paramStartIndex:c}=s;return IEe(t.map(d=>{if(ga(d,cl))return{sql:d.value.join(""),params:[]};if(ga(d,A2))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const u=[new cl("(")];for(const[h,p]of d.entries())u.push(p),h<d.length-1&&u.push(new cl(", "));return u.push(new cl(")")),this.buildQueryFromSourceParams(u,s)}if(ga(d,tm))return this.buildQueryFromSourceParams(d.queryChunks,{...s,inlineParams:l||d.shouldInlineParams});if(ga(d,na)){const u=d[na.Symbol.Schema],h=d[na.Symbol.Name];return{sql:u===void 0?a(h):a(u)+"."+a(h),params:[]}}if(ga(d,qx))return{sql:a(d.table[na.Symbol.Name])+"."+a(d.name),params:[]};if(ga(d,uq)){const u=d[_2].schema,h=d[_2].name;return{sql:u===void 0?a(h):a(u)+"."+a(h),params:[]}}if(ga(d,l3)){const u=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(ga(u,tm))return this.buildQueryFromSourceParams([u],s);if(l)return{sql:this.mapInlineParam(u,s),params:[]};let h;return o!==void 0&&(h=[o(d.encoder)]),{sql:i(c.value++,u),params:[u],typings:h}}return ga(d,c3)?{sql:i(c.value++,d),params:[d]}:ga(d,tm.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:ga(d,o3)?d[eg].isWith?{sql:a(d[eg].alias),params:[]}:this.buildQueryFromSourceParams([new cl("("),d[eg].sql,new cl(") "),new A2(d[eg].alias)],s):LEe(d)?this.buildQueryFromSourceParams([new cl("("),d.getSQL(),new cl(")")],s):l?{sql:this.mapInlineParam(d,s),params:[]}:{sql:i(c.value++,d),params:[d]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new tm.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}};Ke(tm,h7,"SQL");let qa=tm;var f7;f7=Yt;class A2{constructor(t){Ke(this,"brand");this.value=t}getSQL(){return new qa([this])}}Ke(A2,f7,"Name");const cq={mapFromDriverValue:e=>e},dq={mapToDriverValue:e=>e};({...cq,...dq});var m7;m7=Yt;class l3{constructor(t,r=dq){Ke(this,"brand");this.value=t,this.encoder=r}getSQL(){return new qa([this])}}Ke(l3,m7,"Param");function k2(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new cl(e[0]));for(const[s,a]of t.entries())r.push(a,new cl(e[s+1]));return new qa(r)}(e=>{function t(){return new qa([])}e.empty=t;function r(c){return new qa(c)}e.fromList=r;function s(c){return new qa([new cl(c)])}e.raw=s;function a(c,d){const u=[];for(const[h,p]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(p);return new qa(u)}e.join=a;function i(c){return new A2(c)}e.identifier=i;function o(c){return new c3(c)}e.placeholder=o;function l(c,d){return new l3(c,d)}e.param=l})(k2||(k2={}));(e=>{var r;r=Yt;const s=class s{constructor(i,o){Ke(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};Ke(s,r,"SQL.Aliased");let t=s;e.Aliased=t})(qa||(qa={}));var p7;p7=Yt;class c3{constructor(t){this.name=t}getSQL(){return new qa([this])}}Ke(c3,p7,"Placeholder");var g7,x7;x7=Yt,g7=_2;class uq{constructor({name:t,schema:r,selectedFields:s,query:a}){Ke(this,g7);this[_2]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new qa([this])}}Ke(uq,x7,"View");qx.prototype.getSQL=function(){return new qa([this])};na.prototype.getSQL=function(){return new qa([this])};o3.prototype.getSQL=function(){return new qa([this])};var y7;y7=Yt;class hq{constructor(t,r,s){Ke(this,"config");Ke(this,"$default",this.$defaultFn);this.config={name:t,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}}Ke(hq,y7,"ColumnBuilder");const N6=Symbol.for("drizzle:PgInlineForeignKeys");var v7,b7,w7,j7;class xx extends(j7=na,w7=Yt,b7=N6,v7=na.Symbol.ExtraConfigBuilder,j7){constructor(){super(...arguments);Ke(this,b7,[]);Ke(this,v7)}}Ke(xx,w7,"PgTable"),Ke(xx,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:N6}));function MEe(e,t,r,s,a=e){const i=new xx(e,s,a),o=Object.fromEntries(Object.entries(t).map(([c,d])=>{const u=d,h=u.build(i);return i[N6].push(...u.buildForeignKeys(h,i)),[c,h]})),l=Object.assign(i,o);return l[na.Symbol.Columns]=o,l}const _r=(e,t,r)=>MEe(e,t,r,void 0);var N7;N7=Yt;class fq{constructor(t,r){Ke(this,"reference");Ke(this,"_onUpdate","no action");Ke(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new mq(t,this)}}Ke(fq,N7,"PgForeignKeyBuilder");var S7;S7=Yt;class mq{constructor(t,r){Ke(this,"reference");Ke(this,"onUpdate");Ke(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[xx.Symbol.Name],...a,s[0].table[xx.Symbol.Name],...i];return t??`${o.join("_")}_fk`}}Ke(mq,S7,"PgForeignKey");function DEe(e,t){return`${e[xx.Symbol.Name]}_${t.join("_")}_unique`}function XL(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function pq(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,d]=XL(e,s+1,!0);r.push(c),s=d;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,d]=pq(e,s+1);r.push(c),s=d;continue}const[o,l]=XL(e,s,!1);r.push(o),s=l}return[r,s]}function FEe(e){const[t]=pq(e,1);return t}function gq(e){return`{${e.map(t=>Array.isArray(t)?gq(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var _7,A7;class mu extends(A7=hq,_7=Yt,A7){constructor(){super(...arguments);Ke(this,"foreignKeyConfigs",[])}array(r){return new xq(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s?.nulls,this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>TEe((o,l)=>{const c=new fq(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}}Ke(mu,_7,"PgColumnBuilder");var k7,C7;class Vo extends(C7=qx,k7=Yt,C7){constructor(t,r){r.uniqueName||(r.uniqueName=DEe(t,[r.name])),super(t,r),this.table=t}}Ke(Vo,k7,"PgColumn");var P7,T7;class xq extends(T7=mu,P7=Yt,T7){constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new S6(t,this.config,r)}}Ke(xq,P7,"PgArrayBuilder");var E7,O7;const W2=class W2 extends(O7=Vo,E7=Yt,O7){constructor(r,s,a,i){super(r,s);Ke(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=FEe(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:ga(this.baseColumn,W2)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:gq(a)}};Ke(W2,E7,"PgArray");let S6=W2;var L7,I7;class yq extends(I7=mu,L7=Yt,I7){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new vq(t,this.config)}}Ke(yq,L7,"PgBooleanBuilder");var M7,D7;class vq extends(D7=Vo,M7=Yt,D7){getSQLType(){return"boolean"}}Ke(vq,M7,"PgBoolean");function Sr(e){return new yq(e)}var F7,R7;class bq extends(R7=Vo,F7=Yt,R7){constructor(){super(...arguments);Ke(this,"length",this.config.length);Ke(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Ke(bq,F7,"PgChar");var $7,B7;class rN extends(B7=mu,$7=Yt,B7){defaultNow(){return this.default(k2`now()`)}}Ke(rN,$7,"PgDateColumnBaseBuilder");var z7,U7;class wq extends(U7=rN,z7=Yt,U7){constructor(t){super(t,"string","PgDateString")}build(t){return new jq(t,this.config)}}Ke(wq,z7,"PgDateStringBuilder");var V7,q7;class jq extends(q7=Vo,V7=Yt,q7){getSQLType(){return"date"}}Ke(jq,V7,"PgDateString");function C2(e,t){return new wq(e)}var W7,H7;class Nq extends(H7=mu,W7=Yt,H7){constructor(t){super(t,"number","PgInteger")}build(t){return new Sq(t,this.config)}}Ke(Nq,W7,"PgIntegerBuilder");var G7,K7;class Sq extends(K7=Vo,G7=Yt,K7){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Ke(Sq,G7,"PgInteger");function Fn(e){return new Nq(e)}var Y7,Z7;class _q extends(Z7=mu,Y7=Yt,Z7){constructor(t){super(t,"json","PgJsonb")}build(t){return new Aq(t,this.config)}}Ke(_q,Y7,"PgJsonbBuilder");var X7,Q7;class Aq extends(Q7=Vo,X7=Yt,Q7){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Ke(Aq,X7,"PgJsonb");function qs(e){return new _q(e)}var J7,eF;class kq extends(eF=mu,J7=Yt,eF){constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new Cq(t,this.config)}}Ke(kq,J7,"PgNumericBuilder");var tF,rF;class Cq extends(rF=Vo,tF=Yt,rF){constructor(r,s){super(r,s);Ke(this,"precision");Ke(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Ke(Cq,tF,"PgNumeric");function REe(e,t){return new kq(e,t?.precision,t?.scale)}const $n=REe;var nF,sF;class Pq extends(sF=mu,nF=Yt,sF){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new Tq(t,this.config)}}Ke(Pq,nF,"PgTextBuilder");var aF,iF;class Tq extends(iF=Vo,aF=Yt,iF){constructor(){super(...arguments);Ke(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Ke(Tq,aF,"PgText");function xe(e,t={}){return new Pq(e,t)}var oF,lF;class Eq extends(lF=rN,oF=Yt,lF){constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new Oq(t,this.config)}}Ke(Eq,oF,"PgTimestampBuilder");var cF,dF;class Oq extends(dF=Vo,cF=Yt,dF){constructor(r,s){super(r,s);Ke(this,"withTimezone");Ke(this,"precision");Ke(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));Ke(this,"mapToDriverValue",r=>this.withTimezone?r.toUTCString():r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Ke(Oq,cF,"PgTimestamp");var uF,hF;class Lq extends(hF=rN,uF=Yt,hF){constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new Iq(t,this.config)}}Ke(Lq,uF,"PgTimestampStringBuilder");var fF,mF;class Iq extends(mF=Vo,fF=Yt,mF){constructor(r,s){super(r,s);Ke(this,"withTimezone");Ke(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Ke(Iq,fF,"PgTimestampString");function ot(e,t={}){return t.mode==="string"?new Lq(e,t.withTimezone??!1,t.precision):new Eq(e,t.withTimezone??!1,t.precision)}var pF,gF;class Mq extends(gF=mu,pF=Yt,gF){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(k2`gen_random_uuid()`)}build(t){return new d3(t,this.config)}}Ke(Mq,pF,"PgUUIDBuilder");var xF,yF;class d3 extends(yF=Vo,xF=Yt,yF){getSQLType(){return"uuid"}}Ke(d3,xF,"PgUUID");function Bt(e){return new Mq(e)}var vF,bF;class Dq extends(bF=Vo,vF=Yt,bF){constructor(){super(...arguments);Ke(this,"length",this.config.length);Ke(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Ke(Dq,vF,"PgVarchar");function $Ee(e){return e[na.Symbol.Columns]}const QL=Symbol.for("drizzle:MySqlInlineForeignKeys");var wF,jF,NF,SF,_F;class _6 extends(_F=na,SF=Yt,NF=na.Symbol.Columns,jF=QL,wF=na.Symbol.ExtraConfigBuilder,_F){constructor(){super(...arguments);Ke(this,NF);Ke(this,jF,[]);Ke(this,wF)}}Ke(_6,SF,"MySqlTable"),Ke(_6,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:QL}));function BEe(e,t){return`${e[_6.Symbol.Name]}_${t.join("_")}_unique`}var AF,kF;class nN extends(kF=qx,AF=Yt,kF){constructor(t,r){r.uniqueName||(r.uniqueName=BEe(t,[r.name])),super(t,r),this.table=t}}Ke(nN,AF,"MySqlColumn");var CF,PF;class Fq extends(PF=nN,CF=Yt,PF){constructor(){super(...arguments);Ke(this,"length",this.config.length);Ke(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Ke(Fq,CF,"MySqlChar");var TF,EF;class Rq extends(EF=nN,TF=Yt,EF){constructor(){super(...arguments);Ke(this,"length",this.config.length)}getSQLType(){return this.length===void 0?"varbinary":`varbinary(${this.length})`}}Ke(Rq,TF,"MySqlVarBinary");var OF,LF;class $q extends(LF=nN,OF=Yt,LF){constructor(){super(...arguments);Ke(this,"length",this.config.length);Ke(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Ke($q,OF,"MySqlVarChar");const JL=Symbol.for("drizzle:SQLiteInlineForeignKeys");var IF,MF,DF,FF,RF;class A6 extends(RF=na,FF=Yt,DF=na.Symbol.Columns,MF=JL,IF=na.Symbol.ExtraConfigBuilder,RF){constructor(){super(...arguments);Ke(this,DF);Ke(this,MF,[]);Ke(this,IF)}}Ke(A6,FF,"SQLiteTable"),Ke(A6,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:JL}));function zEe(e,t){return`${e[A6.Symbol.Name]}_${t.join("_")}_unique`}var $F,BF;class Bq extends(BF=qx,$F=Yt,BF){constructor(t,r){r.uniqueName||(r.uniqueName=zEe(t,[r.name])),super(t,r),this.table=t}}Ke(Bq,$F,"SQLiteColumn");var zF,UF;class zq extends(UF=Bq,zF=Yt,UF){constructor(r,s){super(r,s);Ke(this,"enumValues",this.config.enumValues);Ke(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}Ke(zq,zF,"SQLiteText");const UEe=lq([Lt(),yy(),Jf(),kEe()]),k6=PEe(()=>lq([UEe,vy(k6),CEe(k6)]));function Ks(e,t){const r=$Ee(e),s=Object.entries(r);let a=Object.fromEntries(s.map(([i,o])=>[i,Uq(o)]));t&&(a=Object.assign(a,Object.fromEntries(Object.entries(t).map(([i,o])=>[i,typeof o=="function"?o(a):o]))));for(const[i,o]of s)o.notNull?o.hasDefault&&(a[i]=a[i].optional()):a[i]=a[i].nullable().optional();return oq(a)}function Uq(e){let t;if(function(r){return"enumValues"in r&&Array.isArray(r.enumValues)&&r.enumValues.length>0}(e)&&(t=e.enumValues.length?i3(e.enumValues):Lt()),!t){if(ga(e,d3))t=Lt().uuid();else if(e.dataType==="custom")t=GL();else if(e.dataType==="json")t=k6;else if(e.dataType==="array")t=vy(Uq(e.baseColumn));else if(e.dataType==="number")t=yy();else if(e.dataType==="bigint")t=AEe();else if(e.dataType==="boolean")t=Jf();else if(e.dataType==="date")t=z1();else if(e.dataType==="string"){let r=Lt();(ga(e,bq)||ga(e,Dq)||ga(e,$q)||ga(e,Rq)||ga(e,Fq)||ga(e,zq))&&typeof e.length=="number"&&(r=r.max(e.length)),t=r}}return t||(t=GL()),t}const hc=_r("users",{id:Bt("id").primaryKey().defaultRandom(),email:xe("email").unique().notNull(),password:xe("password"),firstName:xe("first_name"),lastName:xe("last_name"),avatar:xe("avatar"),isAdmin:Sr("is_admin").default(!1),studioId:Bt("studio_id"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),VEe=_r("studio_configs",{id:Bt("id").primaryKey().defaultRandom(),studioName:xe("studio_name").notNull(),ownerEmail:xe("owner_email").notNull(),domain:xe("domain"),subdomain:xe("subdomain").unique(),activeTemplate:xe("active_template").default("template-01-modern-minimal"),logoUrl:xe("logo_url"),primaryColor:xe("primary_color").default("#7C3AED"),secondaryColor:xe("secondary_color").default("#F59E0B"),fontFamily:xe("font_family").default("Inter"),businessName:xe("business_name"),address:xe("address"),city:xe("city"),state:xe("state"),zip:xe("zip"),country:xe("country").default("Austria"),phone:xe("phone"),email:xe("email"),website:xe("website"),facebookUrl:xe("facebook_url"),instagramUrl:xe("instagram_url"),twitterUrl:xe("twitter_url"),openingHours:qs("opening_hours"),enabledFeatures:xe("enabled_features").array().default(["gallery","booking","blog","crm"]),metaTitle:xe("meta_title"),metaDescription:xe("meta_description"),isActive:Sr("is_active").default(!0),subscriptionStatus:xe("subscription_status").default("trial"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});_r("template_definitions",{id:xe("id").primaryKey(),name:xe("name").notNull(),description:xe("description"),category:xe("category"),previewImage:xe("preview_image"),demoUrl:xe("demo_url"),features:xe("features").array(),colorScheme:qs("color_scheme"),isActive:Sr("is_active").default(!0),isPremium:Sr("is_premium").default(!1),createdAt:ot("created_at").defaultNow()});const qEe=_r("admin_users",{id:Bt("id").primaryKey().defaultRandom(),email:xe("email").unique().notNull(),passwordHash:xe("password_hash").notNull(),firstName:xe("first_name"),lastName:xe("last_name"),role:xe("role").default("admin"),status:xe("status").default("active"),lastLoginAt:ot("last_login_at"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),WEe=_r("blog_posts",{id:Bt("id").primaryKey().defaultRandom(),title:xe("title").notNull(),slug:xe("slug").unique().notNull(),content:xe("content"),contentHtml:xe("content_html"),excerpt:xe("excerpt"),imageUrl:xe("image_url"),published:Sr("published").default(!1),publishedAt:ot("published_at"),scheduledFor:ot("scheduled_for"),status:xe("status").default("DRAFT"),authorId:Bt("author_id").references(()=>hc.id),tags:xe("tags").array(),metaDescription:xe("meta_description"),seoTitle:xe("seo_title"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),Wx=_r("crm_clients",{id:Bt("id").primaryKey().defaultRandom(),firstName:xe("first_name").notNull(),lastName:xe("last_name").notNull(),clientId:xe("client_id").unique(),email:xe("email").notNull(),phone:xe("phone"),address:xe("address"),city:xe("city"),state:xe("state"),zip:xe("zip"),country:xe("country"),company:xe("company"),notes:xe("notes"),status:xe("status").default("active"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),HEe=_r("crm_leads",{id:Bt("id").primaryKey().defaultRandom(),name:xe("name").notNull(),email:xe("email").notNull(),phone:xe("phone"),company:xe("company"),message:xe("message"),source:xe("source"),status:xe("status").default("new"),assigned_to:Bt("assigned_to").references(()=>hc.id),priority:xe("priority").default("medium"),tags:xe("tags").array(),follow_up_date:C2("follow_up_date"),value:$n("value",{precision:10,scale:2}),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),u3=_r("crm_invoices",{id:Bt("id").primaryKey().defaultRandom(),invoiceNumber:xe("invoice_number").unique().notNull(),clientId:Bt("client_id").references(()=>Wx.id).notNull(),issueDate:C2("issue_date").notNull(),dueDate:C2("due_date").notNull(),subtotal:$n("subtotal",{precision:10,scale:2}).notNull(),taxAmount:$n("tax_amount",{precision:10,scale:2}).default("0"),total:$n("total",{precision:10,scale:2}).notNull(),status:xe("status").default("draft"),notes:xe("notes"),termsAndConditions:xe("terms_and_conditions"),createdBy:Bt("created_by").references(()=>hc.id),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),GEe=_r("crm_invoice_items",{id:Bt("id").primaryKey().defaultRandom(),invoiceId:Bt("invoice_id").references(()=>u3.id,{onDelete:"cascade"}).notNull(),description:xe("description").notNull(),quantity:$n("quantity",{precision:10,scale:2}).default("1"),unitPrice:$n("unit_price",{precision:10,scale:2}).notNull(),taxRate:$n("tax_rate",{precision:5,scale:2}).default("0"),sortOrder:Fn("sort_order").default(0),createdAt:ot("created_at").defaultNow()});_r("crm_invoice_payments",{id:Bt("id").primaryKey().defaultRandom(),invoiceId:Bt("invoice_id").references(()=>u3.id,{onDelete:"cascade"}).notNull(),amount:$n("amount",{precision:10,scale:2}).notNull(),paymentMethod:xe("payment_method").default("bank_transfer"),paymentReference:xe("payment_reference"),paymentDate:C2("payment_date").notNull(),notes:xe("notes"),createdBy:Bt("created_by").references(()=>hc.id),createdAt:ot("created_at").defaultNow()});_r("studio_available_slots",{id:Bt("id").primaryKey().defaultRandom(),studioId:Bt("studio_id").references(()=>VEe.id).notNull(),startTime:ot("start_time").notNull(),durationMinutes:Fn("duration_minutes").default(120),isActive:Sr("is_active").default(!0),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});const Vq=_r("voucher_products",{id:Bt("id").primaryKey().defaultRandom(),name:xe("name").notNull(),description:xe("description"),price:$n("price",{precision:10,scale:2}).notNull(),originalPrice:$n("original_price",{precision:10,scale:2}),category:xe("category"),sessionDuration:Fn("session_duration").default(60),sessionType:xe("session_type"),validityPeriod:Fn("validity_period").default(1460),redemptionInstructions:xe("redemption_instructions"),termsAndConditions:xe("terms_and_conditions"),imageUrl:xe("image_url"),displayOrder:Fn("display_order").default(0),featured:Sr("featured").default(!1),badge:xe("badge"),isActive:Sr("is_active").default(!0),stockLimit:Fn("stock_limit"),maxPerCustomer:Fn("max_per_customer").default(5),slug:xe("slug").unique(),metaTitle:xe("meta_title"),metaDescription:xe("meta_description"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),h3=_r("discount_coupons",{id:Bt("id").primaryKey().defaultRandom(),code:xe("code").unique().notNull(),name:xe("name").notNull(),description:xe("description"),discountType:xe("discount_type").notNull(),discountValue:$n("discount_value",{precision:10,scale:2}).notNull(),minOrderAmount:$n("min_order_amount",{precision:10,scale:2}),maxDiscountAmount:$n("max_discount_amount",{precision:10,scale:2}),usageLimit:Fn("usage_limit"),usageCount:Fn("usage_count").default(0),usageLimitPerCustomer:Fn("usage_limit_per_customer").default(1),startDate:ot("start_date"),endDate:ot("end_date"),isActive:Sr("is_active").default(!0),applicableProducts:xe("applicable_products").array(),excludedProducts:xe("excluded_products").array(),firstTimeCustomersOnly:Sr("first_time_customers_only").default(!1),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),qq=_r("voucher_sales",{id:Bt("id").primaryKey().defaultRandom(),productId:Bt("product_id").references(()=>Vq.id),purchaserName:xe("purchaser_name").notNull(),purchaserEmail:xe("purchaser_email").notNull(),purchaserPhone:xe("purchaser_phone"),recipientName:xe("recipient_name"),recipientEmail:xe("recipient_email"),giftMessage:xe("gift_message"),voucherCode:xe("voucher_code").unique().notNull(),originalAmount:$n("original_amount",{precision:10,scale:2}).notNull(),discountAmount:$n("discount_amount",{precision:10,scale:2}).default("0"),finalAmount:$n("final_amount",{precision:10,scale:2}).notNull(),currency:xe("currency").default("EUR"),couponId:Bt("coupon_id").references(()=>h3.id),couponCode:xe("coupon_code"),paymentIntentId:xe("payment_intent_id"),paymentStatus:xe("payment_status").default("pending"),paymentMethod:xe("payment_method"),isRedeemed:Sr("is_redeemed").default(!1),redeemedAt:ot("redeemed_at"),redeemedBy:Bt("redeemed_by").references(()=>Wx.id),sessionId:Bt("session_id"),validFrom:ot("valid_from").defaultNow(),validUntil:ot("valid_until"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),KEe=_r("coupon_usage",{id:Bt("id").primaryKey().defaultRandom(),couponId:Bt("coupon_id").references(()=>h3.id),customerEmail:xe("customer_email").notNull(),orderAmount:$n("order_amount",{precision:10,scale:2}).notNull(),discountAmount:$n("discount_amount",{precision:10,scale:2}).notNull(),voucherSaleId:Bt("voucher_sale_id").references(()=>qq.id),usedAt:ot("used_at").defaultNow()}),YEe=_r("crm_messages",{id:Bt("id").primaryKey().defaultRandom(),senderName:xe("sender_name").notNull(),senderEmail:xe("sender_email").notNull(),subject:xe("subject").notNull(),content:xe("content").notNull(),messageType:xe("message_type").notNull().default("email"),status:xe("status").default("unread"),direction:xe("direction").default("inbound"),clientId:Bt("client_id").references(()=>Wx.id),assignedTo:Bt("assigned_to").references(()=>hc.id),emailMessageId:xe("email_message_id"),emailHeaders:qs("email_headers"),attachments:qs("attachments"),smsMessageId:xe("sms_message_id"),phoneNumber:xe("phone_number"),smsProvider:xe("sms_provider"),smsStatus:xe("sms_status"),campaignId:Bt("campaign_id"),sentAt:ot("sent_at"),deliveredAt:ot("delivered_at"),readAt:ot("read_at"),repliedAt:ot("replied_at"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),ZEe=_r("message_campaigns",{id:Bt("id").primaryKey().defaultRandom(),name:xe("name").notNull(),messageType:xe("message_type").notNull(),subject:xe("subject"),content:xe("content").notNull(),targetType:xe("target_type").notNull(),targetCriteria:qs("target_criteria"),targetClientIds:xe("target_client_ids").array(),scheduledAt:ot("scheduled_at"),status:xe("status").default("draft"),totalRecipients:Fn("total_recipients").default(0),sentCount:Fn("sent_count").default(0),deliveredCount:Fn("delivered_count").default(0),failedCount:Fn("failed_count").default(0),createdBy:Bt("created_by").references(()=>hc.id),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});_r("studio_appointments",{id:Bt("id").primaryKey().defaultRandom(),clientId:Bt("client_id").references(()=>Wx.id).notNull(),title:xe("title").notNull(),description:xe("description"),appointmentType:xe("appointment_type").notNull(),status:xe("status").notNull().default("scheduled"),startDateTime:ot("start_date_time").notNull(),endDateTime:ot("end_date_time").notNull(),location:xe("location").default("Studio"),googleCalendarEventId:xe("google_calendar_event_id"),notes:xe("notes"),reminderSent:Sr("reminder_sent").default(!1),reminderDateTime:ot("reminder_date_time"),createdBy:xe("created_by").notNull().default("system"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});_r("google_calendar_config",{id:Bt("id").primaryKey().defaultRandom(),calendarId:xe("calendar_id").notNull(),accessToken:xe("access_token"),refreshToken:xe("refresh_token"),clientId:xe("client_id"),clientSecret:xe("client_secret"),isActive:Sr("is_active").default(!1),lastSyncAt:ot("last_sync_at"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});const XEe=_r("sms_config",{id:Bt("id").primaryKey().defaultRandom(),provider:xe("provider").notNull().default("twilio"),accountSid:xe("account_sid"),authToken:xe("auth_token"),fromNumber:xe("from_number"),webhookUrl:xe("webhook_url"),apiKey:xe("api_key"),apiSecret:xe("api_secret"),isActive:Sr("is_active").default(!1),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),Wq=_r("galleries",{id:Bt("id").primaryKey().defaultRandom(),title:xe("title").notNull(),slug:xe("slug").unique().notNull(),description:xe("description"),coverImage:xe("cover_image"),isPublic:Sr("is_public").default(!0),isPasswordProtected:Sr("is_password_protected").default(!1),password:xe("password"),clientId:Bt("client_id").references(()=>Wx.id),createdBy:Bt("created_by").references(()=>hc.id),sortOrder:Fn("sort_order").default(0),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});_r("gallery_images",{id:Bt("id").primaryKey().defaultRandom(),galleryId:Bt("gallery_id").references(()=>Wq.id,{onDelete:"cascade"}).notNull(),filename:xe("filename").notNull(),url:xe("url").notNull(),title:xe("title"),description:xe("description"),sortOrder:Fn("sort_order").default(0),metadata:qs("metadata"),createdAt:ot("created_at").defaultNow()});_r("digital_files",{id:xe("id").primaryKey(),folderName:xe("folder_name"),fileName:xe("file_name").notNull(),fileType:xe("file_type").notNull(),fileSize:Fn("file_size").default(0),clientId:xe("client_id"),sessionId:xe("session_id"),description:xe("description"),tags:xe("tags"),isPublic:Sr("is_public").default(!1),uploadedAt:ot("uploaded_at",{withTimezone:!0}).defaultNow(),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("photography_sessions",{id:xe("id").primaryKey(),title:xe("title").notNull(),description:xe("description"),sessionType:xe("session_type").notNull(),status:xe("status").default("scheduled"),startTime:ot("start_time",{withTimezone:!0}).notNull(),endTime:ot("end_time",{withTimezone:!0}).notNull(),clientId:xe("client_id"),clientName:xe("client_name"),clientEmail:xe("client_email"),clientPhone:xe("client_phone"),attendees:qs("attendees"),locationName:xe("location_name"),locationAddress:xe("location_address"),locationCoordinates:xe("location_coordinates"),weatherDependent:Sr("weather_dependent").default(!1),goldenHourOptimized:Sr("golden_hour_optimized").default(!1),backupPlan:xe("backup_plan"),basePrice:$n("base_price",{precision:10,scale:2}),depositAmount:$n("deposit_amount",{precision:10,scale:2}),depositPaid:Sr("deposit_paid").default(!1),finalPayment:$n("final_payment",{precision:10,scale:2}),finalPaymentPaid:Sr("final_payment_paid").default(!1),paymentStatus:xe("payment_status").default("unpaid"),equipmentList:xe("equipment_list").array(),crewMembers:xe("crew_members").array(),conflictDetected:Sr("conflict_detected").default(!1),notes:xe("notes"),portfolioWorthy:Sr("portfolio_worthy").default(!1),editingStatus:xe("editing_status").default("not_started"),deliveryStatus:xe("delivery_status").default("pending"),deliveryDate:ot("delivery_date",{withTimezone:!0}),isRecurring:Sr("is_recurring").default(!1),recurrenceRule:xe("recurrence_rule"),parentEventId:xe("parent_event_id"),googleCalendarEventId:xe("google_calendar_event_id"),icalUid:xe("ical_uid"),externalCalendarSync:Sr("external_calendar_sync").default(!1),reminderSettings:qs("reminder_settings"),reminderSent:Sr("reminder_sent").default(!1),confirmationSent:Sr("confirmation_sent").default(!1),followUpSent:Sr("follow_up_sent").default(!1),isOnlineBookable:Sr("is_online_bookable").default(!1),bookingRequirements:qs("booking_requirements"),availabilityStatus:xe("availability_status").default("available"),color:xe("color"),priority:xe("priority").default("medium"),isPublic:Sr("is_public").default(!1),category:xe("category"),galleryId:xe("gallery_id"),photographerId:xe("photographer_id"),tags:xe("tags").array(),customFields:qs("custom_fields"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("session_equipment",{id:xe("id").primaryKey(),sessionId:xe("session_id").notNull(),equipmentName:xe("equipment_name").notNull(),equipmentType:xe("equipment_type"),rentalRequired:Sr("rental_required").default(!1),rentalCost:$n("rental_cost",{precision:10,scale:2}),notes:xe("notes"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow()});_r("session_tasks",{id:xe("id").primaryKey(),sessionId:xe("session_id").notNull(),taskType:xe("task_type").notNull(),title:xe("title").notNull(),description:xe("description"),assignedTo:xe("assigned_to"),status:xe("status").default("pending"),dueDate:ot("due_date",{withTimezone:!0}),completedAt:ot("completed_at",{withTimezone:!0}),createdAt:ot("created_at",{withTimezone:!0}).defaultNow()});_r("session_communications",{id:xe("id").primaryKey(),sessionId:xe("session_id").notNull(),communicationType:xe("communication_type").notNull(),subject:xe("subject"),content:xe("content"),sentTo:xe("sent_to"),sentAt:ot("sent_at",{withTimezone:!0}).defaultNow(),responseReceived:Sr("response_received").default(!1),createdAt:ot("created_at",{withTimezone:!0}).defaultNow()});_r("weather_data",{id:xe("id").primaryKey(),sessionId:xe("session_id").notNull(),forecastDate:ot("forecast_date",{withTimezone:!0}).notNull(),temperature:$n("temperature",{precision:5,scale:2}),condition:xe("condition"),precipitationChance:Fn("precipitation_chance"),windSpeed:$n("wind_speed",{precision:5,scale:2}),goldenHourStart:ot("golden_hour_start",{withTimezone:!0}),goldenHourEnd:ot("golden_hour_end",{withTimezone:!0}),createdAt:ot("created_at",{withTimezone:!0}).defaultNow()});_r("business_insights",{id:xe("id").primaryKey(),insightType:xe("insight_type").notNull(),title:xe("title").notNull(),description:xe("description"),dataPoint:$n("data_point",{precision:15,scale:2}),dataUnit:xe("data_unit"),periodStart:ot("period_start",{withTimezone:!0}),periodEnd:ot("period_end",{withTimezone:!0}),category:xe("category"),priority:xe("priority").default("medium"),actionable:Sr("actionable").default(!1),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("availability_templates",{id:xe("id").primaryKey(),name:xe("name").notNull(),description:xe("description"),photographerId:xe("photographer_id").notNull(),businessHours:qs("business_hours"),breakTime:qs("break_time"),bufferTime:Fn("buffer_time").default(30),maxSessionsPerDay:Fn("max_sessions_per_day").default(3),isDefault:Sr("is_default").default(!1),isActive:Sr("is_active").default(!0),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("availability_overrides",{id:xe("id").primaryKey(),photographerId:xe("photographer_id").notNull(),date:ot("date",{withTimezone:!0}).notNull(),overrideType:xe("override_type").notNull(),title:xe("title"),description:xe("description"),customHours:qs("custom_hours"),isRecurring:Sr("is_recurring").default(!1),recurrenceRule:xe("recurrence_rule"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("calendar_sync_settings",{id:xe("id").primaryKey(),userId:xe("user_id").notNull(),provider:xe("provider").notNull(),accessToken:xe("access_token"),refreshToken:xe("refresh_token"),calendarId:xe("calendar_id"),syncEnabled:Sr("sync_enabled").default(!0),syncDirection:xe("sync_direction").default("bidirectional"),lastSyncAt:ot("last_sync_at",{withTimezone:!0}),syncStatus:xe("sync_status").default("active"),syncErrors:qs("sync_errors"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("calendar_sync_logs",{id:xe("id").primaryKey(),syncSettingId:xe("sync_setting_id").notNull(),syncType:xe("sync_type").notNull(),status:xe("status").notNull(),eventsProcessed:Fn("events_processed").default(0),eventsCreated:Fn("events_created").default(0),eventsUpdated:Fn("events_updated").default(0),eventsDeleted:Fn("events_deleted").default(0),errors:qs("errors"),duration:Fn("duration"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow()});_r("booking_forms",{id:xe("id").primaryKey(),name:xe("name").notNull(),description:xe("description"),sessionTypes:xe("session_types").array(),fields:qs("fields"),requirements:qs("requirements"),pricing:qs("pricing"),availability:qs("availability"),confirmationMessage:xe("confirmation_message"),isActive:Sr("is_active").default(!0),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});_r("online_bookings",{id:xe("id").primaryKey(),formId:xe("form_id").notNull(),sessionId:xe("session_id"),clientName:xe("client_name").notNull(),clientEmail:xe("client_email").notNull(),clientPhone:xe("client_phone"),formData:qs("form_data"),requestedDate:ot("requested_date",{withTimezone:!0}),requestedTime:xe("requested_time"),sessionType:xe("session_type").notNull(),status:xe("status").default("pending"),notes:xe("notes"),adminNotes:xe("admin_notes"),processedAt:ot("processed_at",{withTimezone:!0}),processedBy:xe("processed_by"),createdAt:ot("created_at",{withTimezone:!0}).defaultNow(),updatedAt:ot("updated_at",{withTimezone:!0}).defaultNow()});oq({title:Lt(),description:Lt().optional(),sessionType:Lt(),status:Lt().optional(),startTime:z1(),endTime:z1(),clientId:Lt().optional(),clientName:Lt().optional(),clientEmail:Lt().optional(),clientPhone:Lt().optional(),locationName:Lt().optional(),locationAddress:Lt().optional(),locationCoordinates:Lt().optional(),basePrice:yy().optional(),depositAmount:yy().optional(),depositPaid:Jf().optional(),finalPayment:yy().optional(),finalPaymentPaid:Jf().optional(),equipmentList:vy(Lt()).optional(),crewMembers:vy(Lt()).optional(),weatherDependent:Jf().optional(),goldenHourOptimized:Jf().optional(),backupPlan:Lt().optional(),notes:Lt().optional(),portfolioWorthy:Jf().optional(),editingStatus:Lt().optional(),deliveryStatus:Lt().optional(),deliveryDate:z1().optional(),galleryId:Lt().optional(),photographerId:Lt().optional(),tags:vy(Lt()).optional()});Ks(hc).pick({email:!0,firstName:!0,lastName:!0,avatar:!0});Ks(WEe).pick({title:!0,content:!0,contentHtml:!0,slug:!0,excerpt:!0,published:!0,imageUrl:!0,tags:!0,publishedAt:!0,scheduledFor:!0,status:!0,seoTitle:!0,metaDescription:!0,authorId:!0});Ks(Wx).pick({firstName:!0,lastName:!0,email:!0,phone:!0,address:!0,city:!0,state:!0,zip:!0,country:!0,company:!0,notes:!0});Ks(HEe).pick({name:!0,email:!0,phone:!0,company:!0,message:!0,source:!0,status:!0,priority:!0,tags:!0,follow_up_date:!0,value:!0});Ks(Wq).pick({title:!0,description:!0,slug:!0,coverImage:!0,isPublished:!0,tags:!0,password:!0});Ks(u3).pick({invoiceNumber:!0,clientId:!0,issueDate:!0,dueDate:!0,subtotal:!0,taxAmount:!0,total:!0,status:!0,notes:!0,termsAndConditions:!0,createdBy:!0}).partial({invoiceNumber:!0});Ks(GEe).pick({invoiceId:!0,description:!0,quantity:!0,unitPrice:!0,taxRate:!0,sortOrder:!0});Ks(YEe).pick({senderName:!0,senderEmail:!0,subject:!0,content:!0,messageType:!0,status:!0,clientId:!0,phoneNumber:!0,campaignId:!0});Ks(ZEe).pick({name:!0,messageType:!0,subject:!0,content:!0,targetType:!0,targetCriteria:!0,targetClientIds:!0,scheduledAt:!0});Ks(XEe).pick({provider:!0,accountSid:!0,authToken:!0,fromNumber:!0,isActive:!0});const QEe=Ks(Vq,{name:Lt().min(1,"Product name is required"),price:Lt().min(1,"Price is required")}).omit({id:!0,createdAt:!0,updatedAt:!0}),JEe=Ks(h3,{code:Lt().min(1,"Coupon code is required"),name:Lt().min(1,"Coupon name is required"),discountType:i3(["percentage","fixed_amount"]),discountValue:Lt().min(1,"Discount value is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(qq,{purchaserName:Lt().min(1,"Purchaser name is required"),purchaserEmail:Lt().email("Valid email is required"),voucherCode:Lt().min(1,"Voucher code is required"),originalAmount:Lt().min(1,"Original amount is required"),finalAmount:Lt().min(1,"Final amount is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(KEe,{customerEmail:Lt().email("Valid email is required"),orderAmount:Lt().min(1,"Order amount is required"),discountAmount:Lt().min(1,"Discount amount is required")}).omit({id:!0,usedAt:!0});const eOe=_r("knowledge_base",{id:Bt("id").primaryKey().defaultRandom(),title:xe("title").notNull(),content:xe("content").notNull(),category:xe("category").notNull(),tags:xe("tags").array().default([]),isActive:Sr("is_active").default(!0),createdBy:Bt("created_by").references(()=>hc.id),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),tOe=_r("openai_assistants",{id:Bt("id").primaryKey().defaultRandom(),openaiAssistantId:xe("openai_assistant_id"),name:xe("name").notNull(),description:xe("description"),model:xe("model").default("gpt-4o"),instructions:xe("instructions").notNull(),isActive:Sr("is_active").default(!0),knowledgeBaseIds:xe("knowledge_base_ids").array().default([]),createdBy:Bt("created_by").references(()=>hc.id),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()});Ks(eOe,{title:Lt().min(1,"Title is required"),content:Lt().min(1,"Content is required"),category:Lt().min(1,"Category is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(tOe,{name:Lt().min(1,"Assistant name is required"),instructions:Lt().min(1,"Instructions are required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(qEe,{email:Lt().email("Valid email is required"),passwordHash:Lt().min(1,"Password hash is required"),firstName:Lt().min(1,"First name is required"),lastName:Lt().min(1,"Last name is required")}).omit({id:!0,createdAt:!0,updatedAt:!0,lastLoginAt:!0});const sN=_r("studios",{id:Bt("id").primaryKey().defaultRandom(),name:xe("name").notNull(),slug:xe("slug").unique().notNull(),default_currency:xe("default_currency").default("EUR"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),rOe=_r("studio_integrations",{id:Bt("id").primaryKey().defaultRandom(),studioId:Bt("studio_id").references(()=>sN.id,{onDelete:"cascade"}).notNull(),smtp_host:xe("smtp_host"),smtp_port:Fn("smtp_port").default(587),smtp_user:xe("smtp_user"),smtp_pass_encrypted:xe("smtp_pass_encrypted"),inbound_email_address:xe("inbound_email_address"),default_from_email:xe("default_from_email"),stripe_account_id:xe("stripe_account_id"),stripe_publishable_key:xe("stripe_publishable_key"),stripe_secret_key_encrypted:xe("stripe_secret_key_encrypted"),openai_api_key_encrypted:xe("openai_api_key_encrypted"),default_currency:xe("default_currency").default("EUR"),timezone:xe("timezone").default("Europe/Vienna"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),nOe=_r("ai_policies",{id:Bt("id").primaryKey().defaultRandom(),studioId:Bt("studio_id").references(()=>sN.id,{onDelete:"cascade"}).notNull(),mode:xe("mode").notNull().default("read_only"),authorities:xe("authorities").array().default([]),invoice_auto_limit:$n("invoice_auto_limit",{precision:10,scale:2}).default("0"),email_send_mode:xe("email_send_mode").default("draft"),max_daily_actions:Fn("max_daily_actions").default(100),require_approval_above:$n("require_approval_above",{precision:10,scale:2}).default("500"),createdAt:ot("created_at").defaultNow(),updatedAt:ot("updated_at").defaultNow()}),sOe=_r("agent_action_log",{id:Bt("id").primaryKey().defaultRandom(),studioId:Bt("studio_id").references(()=>sN.id,{onDelete:"cascade"}).notNull(),userId:Bt("user_id").references(()=>hc.id),action_type:xe("action_type").notNull(),action_details:qs("action_details"),assistant_id:xe("assistant_id"),conversation_id:xe("conversation_id"),success:Sr("success").default(!0),error_message:xe("error_message"),ip_address:xe("ip_address"),user_agent:xe("user_agent"),createdAt:ot("created_at").defaultNow()});Ks(sN,{name:Lt().min(1,"Studio name is required"),slug:Lt().min(1,"Studio slug is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(rOe,{studioId:Lt().uuid("Valid studio ID is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(nOe,{studioId:Lt().uuid("Valid studio ID is required"),mode:i3(["read_only","propose","auto_safe","auto_all"])}).omit({id:!0,createdAt:!0,updatedAt:!0});Ks(sOe,{studioId:Lt().uuid("Valid studio ID is required"),action_type:Lt().min(1,"Action type is required")}).omit({id:!0,createdAt:!0});const aOe=QEe.extend({price:Lt().min(1,"Price is required"),validityPeriod:Lt().min(1,"Validity period is required"),displayOrder:Lt().optional()}),iOe=JEe.extend({discountValue:Lt().min(1,"Discount value is required"),minOrderAmount:Lt().optional(),maxDiscountAmount:Lt().optional(),usageLimit:Lt().optional(),startDate:Lt().optional(),endDate:Lt().optional()});function oOe(){const[e,t]=_.useState("dashboard"),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),u=dA(),[h,p]=_.useState(null),[f,y]=_.useState(!1),g=BL({resolver:UL(aOe),defaultValues:{name:"",description:"",price:"",validityPeriod:"",isActive:!0,displayOrder:"0"}}),v=BL({resolver:UL(iOe),defaultValues:{code:"",name:"",description:"",discountType:"percentage",discountValue:"",isActive:!0}}),{data:b,isLoading:S,error:N}=P1({queryKey:["/api/vouchers/products"],queryFn:async()=>{const W=await fetch("/api/vouchers/products");if(!W.ok)throw new Error(`HTTP error! status: ${W.status}`);return await W.json()},refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0,gcTime:0}),{data:w,isLoading:C}=P1({queryKey:["/api/vouchers/coupons"]}),{data:L,isLoading:k}=P1({queryKey:["/api/vouchers/sales"]}),A={totalRevenue:L?.reduce((W,F)=>W+Number(F.finalAmount),0)||0,totalSales:L?.length||0,activeProducts:b?.filter(W=>W.isActive).length||0,activeCoupons:w?.filter(W=>W.isActive).length||0,avgOrderValue:L?.length?L.reduce((W,F)=>W+Number(F.finalAmount),0)/L.length:0,totalDiscountGiven:L?.reduce((W,F)=>W+Number(F.discountAmount),0)||0},P=X0({mutationFn:async W=>{const F=await fetch("/api/vouchers/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...W,price:W.price,validityPeriod:parseInt(W.validityPeriod),displayOrder:parseInt(W.displayOrder||"0"),imageUrl:h})});if(!F.ok)throw new Error("Failed to create product");return F.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/vouchers/products"]}),u.refetchQueries({queryKey:["/api/vouchers/products"]}),u.removeQueries({queryKey:["/api/vouchers/products"]}),l(!1),g.reset(),alert("Voucher product created successfully!"),window.location.reload()},onError:W=>{alert("Failed to create voucher product")}}),B=X0({mutationFn:async W=>{const F=await fetch(`/api/vouchers/products/${W.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...W,price:W.price,validityPeriod:parseInt(W.validityPeriod),displayOrder:parseInt(W.displayOrder||"0"),imageUrl:h})});if(!F.ok)throw new Error("Failed to update product");return F.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/vouchers/products"]}),l(!1),s(null),g.reset(),alert("Voucher product updated successfully!")},onError:W=>{alert("Failed to update voucher product")}}),T=X0({mutationFn:async W=>{const F=await fetch("/api/vouchers/coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...W,discountValue:W.discountValue,minOrderAmount:W.minOrderAmount||void 0,maxDiscountAmount:W.maxDiscountAmount||void 0,usageLimit:W.usageLimit?parseInt(W.usageLimit):void 0})});if(!F.ok)throw new Error("Failed to create coupon");return F.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/vouchers/coupons"]}),d(!1),v.reset(),alert("Discount coupon created successfully!")},onError:W=>{alert("Failed to create discount coupon")}}),I=async W=>{if(W){y(!0);try{const F=new FormData;F.append("file",W);const Z=await fetch("/api/upload/image",{method:"POST",body:F});if(!Z.ok)throw new Error("Image upload failed");const Q=await Z.json();p(Q.url)}catch{alert("Failed to upload image")}finally{y(!1)}}},M=()=>{s(null),g.reset(),p(null),l(!0)},D=W=>{s(W),p(W.imageUrl),g.reset({name:W.name,description:W.description||"",price:W.price.toString(),validityPeriod:W.validityPeriod?.toString()||"365",isActive:W.isActive,displayOrder:W.displayOrder?.toString()||"0"}),l(!0)},V=X0({mutationFn:async W=>{const F=await fetch(`/api/vouchers/products/${W}`,{method:"DELETE"});if(!F.ok)throw new Error("Failed to delete product");return F.json()},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/vouchers/products"]})}}),z=W=>{confirm(`Are you sure you want to delete "${W.name}"? This action cannot be undone.`)&&V.mutate(W.id)},X=()=>{i(null),v.reset(),d(!0)},q=W=>{i(W),v.reset({code:W.code,name:W.name,description:W.description||"",discountType:W.discountType,discountValue:W.discountValue.toString(),minOrderAmount:W.minOrderAmount?.toString()||"",maxDiscountAmount:W.maxDiscountAmount?.toString()||"",usageLimit:W.usageLimit?.toString()||"",startDate:W.startDate?W.startDate.toString():"",endDate:W.endDate?W.endDate.toString():"",isActive:W.isActive}),d(!0)},Y=W=>{r?B.mutate({...W,id:r.id}):P.mutate(W)},ie=W=>{a||T.mutate(W)};return n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Voucher & Sales Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage voucher products, discount codes, and track sales performance"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(js,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(Da,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:n.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Voucher Management",children:[n.jsx("button",{onClick:()=>t("dashboard"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(La,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),n.jsx("button",{onClick:()=>t("products"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="products"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ey,{className:"h-4 w-4 mr-2"}),"Products (",A.activeProducts,")"]})}),n.jsx("button",{onClick:()=>t("coupons"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="coupons"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(nu,{className:"h-4 w-4 mr-2"}),"Coupons (",A.activeCoupons,")"]})}),n.jsx("button",{onClick:()=>t("sales"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rd,{className:"h-4 w-4 mr-2"}),"Sales (",A.totalSales,")"]})})]})}),n.jsxs("div",{className:"p-6 bg-white",children:[e==="dashboard"&&n.jsx(lOe,{stats:A,onCreateProduct:M,onCreateCoupon:X,recentSales:L?.slice(0,5)||[]}),e==="products"&&n.jsx(cOe,{products:b||[],isLoading:S,onCreateProduct:M,onEditProduct:D,onDeleteProduct:z}),e==="coupons"&&n.jsx(dOe,{coupons:w||[],isLoading:C,onCreateCoupon:X,onEditCoupon:q}),e==="sales"&&n.jsx(uOe,{sales:L||[],isLoading:k})]})]})]}),n.jsx(hOe,{open:o,onOpenChange:l,product:r,onSubmit:Y,form:g,uploadedImage:h,onImageUpload:I,isUploading:f}),n.jsx(fOe,{open:c,onOpenChange:d,coupon:a,onSubmit:ie,form:v})]})}const lOe=({stats:e,onCreateProduct:t,onCreateCoupon:r,recentSales:s})=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(Gt,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[n.jsxs(Yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(sn,{className:"text-sm font-medium text-blue-100",children:"Total Revenue"}),n.jsx(Y2,{className:"h-4 w-4 text-blue-200"})]}),n.jsxs(sr,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["€",e.totalRevenue.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-100",children:["From ",e.totalSales," sales"]})]})]}),n.jsxs(Gt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(sn,{className:"text-sm font-medium text-gray-700",children:"Active Products"}),n.jsx(Ey,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(sr,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.activeProducts}),n.jsx("p",{className:"text-xs text-gray-600",children:"Available for sale"})]})]}),n.jsxs(Gt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(sn,{className:"text-sm font-medium text-gray-700",children:"Active Coupons"}),n.jsx(nu,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(sr,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.activeCoupons}),n.jsx("p",{className:"text-xs text-gray-600",children:"Currently valid"})]})]}),n.jsxs(Gt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Yr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(sn,{className:"text-sm font-medium text-gray-700",children:"Avg Order Value"}),n.jsx(Fs,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(sr,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["€",e.avgOrderValue.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Per voucher sale"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{className:"cursor-pointer",onClick:t,children:n.jsxs(Gt,{className:"bg-white border-2 border-dashed border-blue-300 hover:border-blue-500 transition-colors hover:bg-blue-50",children:[n.jsxs(Yr,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(Ey,{className:"h-6 w-6 text-blue-600"})}),n.jsx(sn,{className:"text-gray-900",children:"Create New Voucher Product"}),n.jsx(Ia,{className:"text-gray-700",children:"Set up a new photography voucher package for customers to purchase"})]}),n.jsx(sr,{className:"text-center",children:n.jsxs(dr,{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Create Voucher Product"]})})]})}),n.jsx("div",{className:"cursor-pointer",onClick:r,children:n.jsxs(Gt,{className:"bg-white border-2 border-dashed border-purple-300 hover:border-purple-500 transition-colors hover:bg-purple-50",children:[n.jsxs(Yr,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(nu,{className:"h-6 w-6 text-purple-600"})}),n.jsx(sn,{className:"text-gray-900",children:"Create Discount Coupon"}),n.jsx(Ia,{className:"text-gray-700",children:"Generate promotional codes for special offers and campaigns"})]}),n.jsx(sr,{className:"text-center",children:n.jsxs(dr,{onClick:r,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Create Discount Coupon"]})})]})})]}),n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{children:"Recent Sales"}),n.jsx(Ia,{children:"Latest voucher purchases from customers"})]}),n.jsx(sr,{children:s.length>0?n.jsx("div",{className:"space-y-4",children:s.map(a=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(og,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.purchaserName}),n.jsx("p",{className:"text-sm text-gray-500",children:a.voucherCode})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium",children:["€",Number(a.finalAmount).toFixed(2)]}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()})]})]},a.id))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(rd,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No sales yet. Create voucher products to start selling."})]})})]})]}),cOe=({products:e,isLoading:t,onCreateProduct:r,onEditProduct:s,onDeleteProduct:a})=>t?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(i=>n.jsxs(Gt,{className:"animate-pulse",children:[n.jsxs(Yr,{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsx(sr,{children:n.jsx("div",{className:"h-16 bg-gray-200 rounded"})})]},i))}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Product Catalog"}),n.jsx("p",{className:"text-gray-600",children:"Manage your photography voucher offerings"})]}),n.jsxs(dr,{onClick:r,children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),e.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>n.jsxs(Gt,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Yr,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(sn,{className:"text-lg",children:i.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx(hi,{variant:i.isActive?"default":"secondary",children:i.isActive?"Active":"Inactive"}),n.jsxs(hi,{variant:"outline",children:[i.validityPeriod||12," months"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["€",i.price]})})]})}),n.jsxs(sr,{children:[n.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:i.description}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(dr,{variant:"outline",size:"sm",onClick:()=>s(i),children:[n.jsx(Ga,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(dr,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>a(i),children:[n.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(ts,{className:"h-4 w-4 mr-1"}),"Preview"]})]})]})]},i.id))}):n.jsx(Gt,{className:"text-center py-12",children:n.jsxs(sr,{children:[n.jsx(Ey,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voucher products yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first voucher product to start selling photography packages"}),n.jsxs(dr,{onClick:r,children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Create Your First Product"]})]})})]}),dOe=({coupons:e,isLoading:t,onCreateCoupon:r,onEditCoupon:s})=>{const a=i=>{navigator.clipboard.writeText(i),alert(`Copied: ${i}`)};return t?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>n.jsx(Gt,{className:"animate-pulse",children:n.jsxs(Yr,{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},i))}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage promotional discount codes"})]}),n.jsxs(dr,{onClick:r,children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})]}),e.length>0?n.jsx("div",{className:"space-y-4",children:e.map(i=>n.jsxs(Gt,{className:"hover:shadow-md transition-shadow",children:[n.jsx(Yr,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("code",{className:"bg-gray-100 px-3 py-1 rounded text-lg font-mono font-bold",children:i.code}),n.jsx(dr,{variant:"ghost",size:"sm",onClick:()=>a(i.code),children:n.jsx(Gc,{className:"h-4 w-4"})})]}),n.jsx(sn,{className:"text-lg",children:i.name}),n.jsx(Ia,{children:i.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(hi,{variant:i.isActive?"default":"secondary",className:"mb-2",children:i.isActive?"Active":"Inactive"}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Used: ",i.usageCount," / ",i.usageLimit||"∞"]})]})]})}),n.jsxs(sr,{children:[n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(see,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:i.discountType==="percentage"?`${i.discountValue}% off`:`€${i.discountValue} off`})]}),i.minOrderAmount&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Y2,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:["Min: €",i.minOrderAmount]})]}),i.endDate&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(an,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:["Expires: ",new Date(i.endDate).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(dr,{variant:"outline",size:"sm",onClick:()=>s(i),children:[n.jsx(Ga,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Analytics"]})]})]})]},i.id))}):n.jsx(Gt,{className:"text-center py-12",children:n.jsxs(sr,{children:[n.jsx(nu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discount coupons yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create promotional codes to offer discounts to your customers"}),n.jsxs(dr,{onClick:r,children:[n.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Create Your First Coupon"]})]})})]})},uOe=({sales:e,isLoading:t})=>t?n.jsx(Gt,{children:n.jsx(sr,{className:"p-6",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(r=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},r))})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Sales History"}),n.jsx("p",{className:"text-gray-600",children:"Track all voucher sales and customer orders"})]}),n.jsxs(dr,{variant:"outline",children:[n.jsx(js,{className:"h-4 w-4 mr-2"}),"Export Sales"]})]}),e.length>0?n.jsx(Gt,{children:n.jsx(sr,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voucher Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm",children:r.voucherCode})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:r.purchaserName}),n.jsx("div",{className:"text-sm text-gray-500",children:r.purchaserEmail})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",Number(r.originalAmount).toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-€",Number(r.discountAmount).toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["€",Number(r.finalAmount).toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(hi,{variant:r.paymentStatus==="completed"?"default":"secondary",children:r.paymentStatus||"pending"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(r.createdAt).toLocaleDateString()})]},r.id))})]})})})}):n.jsx(Gt,{className:"text-center py-12",children:n.jsxs(sr,{children:[n.jsx(rd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),n.jsx("p",{className:"text-gray-600",children:"Voucher sales will appear here once customers start purchasing"})]})})]}),hOe=({open:e,onOpenChange:t,product:r,onSubmit:s,form:a,uploadedImage:i,onImageUpload:o,isUploading:l})=>{const[c,d]=_.useState(null),[u,h]=_.useState(null);_.useEffect(()=>{h(i||null)},[i]);const p=async f=>{const y=f.target.files?.[0];if(y){d(y);const g=new FileReader;g.onload=v=>{h(v.target?.result)},g.readAsDataURL(y),await o(y)}};return n.jsx(IU,{open:e,onOpenChange:t,children:n.jsxs(Mk,{children:[n.jsx(Hj,{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),n.jsxs(Dk,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto bg-white border-2 shadow-2xl",children:[n.jsxs(Fk,{children:[n.jsx($k,{children:r?"Edit Voucher Product":"Create New Voucher Product"}),n.jsx(Bk,{children:r?"Update the details of this voucher product including promotional images":"Create a new voucher product that customers can purchase with promotional imagery"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ea,{htmlFor:"product-image",className:"text-base font-medium",children:"Product Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:[u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>{d(null),h(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:"×"})]}),n.jsxs(dr,{variant:"outline",onClick:()=>document.getElementById("product-image")?.click(),className:"w-full",disabled:l,children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Change Image"]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Ey,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Upload a promotional image for this voucher"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x300px, JPG or PNG, max 2MB"})]}),n.jsxs(dr,{variant:"outline",onClick:()=>document.getElementById("product-image")?.click(),className:"mt-4",disabled:l,children:[n.jsx(Vs,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Upload Image"]})]}),n.jsx("input",{id:"product-image",type:"file",accept:"image/*",onChange:p,className:"hidden"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"name",children:"Product Name"}),n.jsx(Oi,{...a.register("name"),placeholder:"e.g., Family Photo Session Voucher",className:"bg-white"}),a.formState.errors.name&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"price",children:"Price (€)"}),n.jsx(Oi,{...a.register("price"),type:"number",step:"0.01",placeholder:"199.00",className:"bg-white"}),a.formState.errors.price&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.price.message})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"description",children:"Description"}),n.jsx(zk,{...a.register("description"),placeholder:"Describe what's included in this voucher package...",rows:4,className:"bg-white resize-none"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"validityPeriod",children:"Validity (Days)"}),n.jsx(Oi,{...a.register("validityPeriod"),type:"number",placeholder:"365",className:"bg-white"}),a.formState.errors.validityPeriod&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.validityPeriod.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"displayOrder",children:"Display Order"}),n.jsx(Oi,{...a.register("displayOrder"),type:"number",placeholder:"1",className:"bg-white"})]}),n.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[n.jsx(Uk,{checked:a.watch("isActive"),onCheckedChange:f=>a.setValue("isActive",f)}),n.jsx(ea,{className:"font-medium",children:"Active for sale"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"category",children:"Category"}),n.jsxs(WV,{onValueChange:f=>a.setValue("category",f),defaultValue:a.watch("category")||"familie",children:[n.jsx(Qk,{className:"bg-white",children:n.jsx(HV,{placeholder:"Select category"})}),n.jsxs(Jk,{children:[n.jsx(gh,{value:"familie",children:"Familie"}),n.jsx(gh,{value:"baby",children:"Baby & Newborn"}),n.jsx(gh,{value:"hochzeit",children:"Hochzeit"}),n.jsx(gh,{value:"business",children:"Business"}),n.jsx(gh,{value:"event",children:"Event"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"sessionType",children:"Session Type"}),n.jsx(Oi,{...a.register("sessionType"),placeholder:"e.g., Familie Portrait, Business Headshots",className:"bg-white"})]})]})]}),n.jsxs(Rk,{className:"pt-6",children:[n.jsx(dr,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(dr,{onClick:a.handleSubmit(s),disabled:a.formState.isSubmitting,children:r?"Update Product":"Create Product"})]})]})]})})},fOe=({open:e,onOpenChange:t,coupon:r,onSubmit:s,form:a})=>n.jsx(IU,{open:e,onOpenChange:t,children:n.jsxs(Mk,{children:[n.jsx(Hj,{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),n.jsxs(Dk,{className:"sm:max-w-[600px] bg-white border-2 shadow-2xl",children:[n.jsxs(Fk,{children:[n.jsx($k,{children:r?"Edit Discount Coupon":"Create New Discount Coupon"}),n.jsx(Bk,{children:r?"Update the details of this discount coupon":"Create a new discount coupon for promotional campaigns"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"code",children:"Coupon Code"}),n.jsx(Oi,{id:"code",placeholder:"e.g., WELCOME15",defaultValue:r?.code||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"coupon-name",children:"Coupon Name"}),n.jsx(Oi,{id:"coupon-name",placeholder:"e.g., Welcome Discount",defaultValue:r?.name||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"coupon-description",children:"Description"}),n.jsx(zk,{id:"coupon-description",placeholder:"Describe this discount offer...",rows:2,defaultValue:r?.description||""})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"discount-type",children:"Discount Type"}),n.jsxs(WV,{defaultValue:r?.discountType||"percentage",children:[n.jsx(Qk,{children:n.jsx(HV,{placeholder:"Select type"})}),n.jsxs(Jk,{children:[n.jsx(gh,{value:"percentage",children:"Percentage (%)"}),n.jsx(gh,{value:"fixed_amount",children:"Fixed Amount (€)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"discount-value",children:"Discount Value"}),n.jsx(Oi,{id:"discount-value",type:"number",placeholder:"15",defaultValue:r?.discountValue||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"min-order",children:"Min Order (€)"}),n.jsx(Oi,{id:"min-order",type:"number",placeholder:"100",defaultValue:r?.minOrderAmount||""})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ea,{htmlFor:"usage-limit",children:"Usage Limit"}),n.jsx(Oi,{id:"usage-limit",type:"number",placeholder:"100",defaultValue:r?.usageLimit||""})]}),n.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[n.jsx(Uk,{id:"coupon-active",defaultChecked:r?.isActive??!0}),n.jsx(ea,{htmlFor:"coupon-active",children:"Active"})]})]})]}),n.jsxs(Rk,{children:[n.jsx(dr,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(dr,{onClick:a.handleSubmit(s),disabled:a.formState.isSubmitting,children:r?"Update Coupon":"Create Coupon"})]})]})]})}),mOe=()=>{const{t:e}=wa(),t=En(),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,d]=_.useState(!0),[u,h]=_.useState(null),[p,f]=_.useState("asc"),[y,g]=_.useState("name"),[v,b]=_.useState(!1),[S,N]=_.useState(!1),[w,C]=_.useState([]),[L,k]=_.useState("email"),[A,P]=_.useState("keep-oldest"),[B,T]=_.useState(!1),[I,M]=_.useState(null),[D,V]=_.useState(!1);_.useEffect(()=>{z()},[]),_.useEffect(()=>{X()},[r,o,p,y]);const z=async()=>{try{d(!0);const J=await fetch("/api/crm/clients");if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const ee=(await J.json())?.map(le=>({id:le.id,firstName:le.firstName||"",lastName:le.lastName||"",clientId:le.clientId||le.id,email:le.email||"",phone:le.phone||"",address:le.address||"",city:le.city||"",state:le.state||"",zip:le.zip||"",country:le.country||"",total_sales:le.total_sales||0,outstanding_balance:le.outstanding_balance||0,createdAt:le.createdAt,updatedAt:le.updatedAt}));s(ee||[])}catch{h("Failed to load clients. Please try again.")}finally{d(!1)}},X=()=>{let J=r;if(o.trim()){const he=o.toLowerCase();J=r.filter(ee=>ee.firstName.toLowerCase().includes(he)||ee.lastName.toLowerCase().includes(he)||ee.email.toLowerCase().includes(he)||ee.phone.toLowerCase().includes(he)||ee.clientId.toLowerCase().includes(he))}J.sort((he,ee)=>{let le=0;if(y==="name"){const ke=he.lastName||"",Ne=he.firstName||"",G=ee.lastName||"",Ae=ee.firstName||"",ze=`${ke} ${Ne}`.trim().toLowerCase(),Be=`${G} ${Ae}`.trim().toLowerCase();ze&&Be?le=ze.localeCompare(Be):ze&&!Be?le=-1:!ze&&Be?le=1:le=(he.email||"").toLowerCase().localeCompare((ee.email||"").toLowerCase())}else y==="created"&&(le=new Date(he.createdAt).getTime()-new Date(ee.createdAt).getTime());return p==="asc"?le:-le}),i(J)},q=()=>{f(J=>J==="asc"?"desc":"asc")},Y=J=>{t(`/admin/clients/${J}`)},ie=J=>{t(`/admin/clients/${J}/edit`)},W=async J=>{if(window.confirm(e("message.confirmDelete")))try{if(!(await fetch(`/api/crm/clients/${J.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");s(ee=>ee.filter(le=>le.id!==J.id)),i(ee=>ee.filter(le=>le.id!==J.id)),alert(e("message.success"))}catch{alert(e("message.error"))}},F=()=>{try{const he=[["ID","First Name","Last Name","Email","Phone","Address","City","State","ZIP","Country","Total Sales","Outstanding Balance","Created At"].join(","),...a.map(Ne=>[Ne.clientId,`"${Ne.firstName||""}"`,`"${Ne.lastName||""}"`,`"${Ne.email||""}"`,`"${Ne.phone||""}"`,`"${Ne.address||""}"`,`"${Ne.city||""}"`,`"${Ne.state||""}"`,`"${Ne.zip||""}"`,`"${Ne.country||""}"`,Ne.total_sales||0,Ne.outstanding_balance||0,Ne.createdAt].join(","))].join(`
`),ee=new Blob([he],{type:"text/csv;charset=utf-8;"}),le=document.createElement("a"),ke=URL.createObjectURL(ee);le.setAttribute("href",ke),le.setAttribute("download",`clients_export_${new Date().toISOString().split("T")[0]}.csv`),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le)}catch{alert(e("message.error"))}},Z=async()=>{N(!0),M(null);try{const J=await fetch(`/api/crm/clients/merge-suggestions?by=${L}&strategy=${A}&limit=100`);if(!J.ok)throw new Error("Failed to fetch merge suggestions");const ee=((await J.json())?.suggestions||[]).map(le=>({...le,selected:!0}));C(ee)}catch(J){M(J.message||"Error loading suggestions")}finally{N(!1)}},Q=()=>{b(!0),Z()},ae=async()=>{const J=w.filter(ee=>ee.selected);if(J.length===0){M("No groups selected to merge.");return}if(!window.confirm(`Merge ${J.length} duplicate group(s)? This cannot be undone.`))return;T(!0),M(null);let he=0;try{const ee=J.map(ke=>({primaryId:ke.primary.id,duplicateIds:ke.duplicates.map(Ne=>Ne.id)})),le=await fetch("/api/crm/clients/merge-execute-batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merges:ee})});le.ok&&(he=(await le.json())?.results?.filter(Ne=>Ne.merged>0).length||0),M(`Merged ${he} group(s). Refreshing client list...`),await z(),await Z()}catch(ee){M(ee.message||"Failed executing merges")}finally{T(!1)}},de=J=>{C(he=>he.map(ee=>ee.key===J?{...ee,selected:!ee.selected}:ee))},ge=J=>{C(he=>he.map(ee=>({...ee,selected:J})))},Se=()=>{const J=w.length,he=w.reduce((ee,le)=>ee+1+le.duplicates.length,0);return{totalGroups:J,totalClientsImpacted:he}};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("page.clients")}),n.jsx("p",{className:"text-gray-600",children:e("clients.manage_database")})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:Q,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(yP,{size:20,className:"mr-2"}),"Merge Wizard"]}),n.jsxs("button",{onClick:F,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(js,{size:20,className:"mr-2"}),e("action.export")," CSV"]}),n.jsxs($t,{to:"/admin/clients/import",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ri,{size:20,className:"mr-2"}),e("action.import")," CSV"]}),n.jsxs($t,{to:"/admin/clients/import-logs",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Hn,{size:20,className:"mr-2"}),e("clients.import_logs")]}),n.jsxs("button",{onClick:()=>t("/admin/clients/new"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),e("clients.add")]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:e("clients.search"),value:o,onChange:J=>l(J.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("select",{value:y,onChange:J=>g(J.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"name",children:e("clients.sort_by_name")}),n.jsx("option",{value:"created",children:e("clients.sort_by_date")})]}),n.jsx("button",{onClick:q,className:"flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:`${e("action.sort")} ${e(p==="asc"?"clients.descending":"clients.ascending")}`,children:p==="asc"?n.jsx(NJ,{size:20}):n.jsx(uR,{size:20})})]}),n.jsxs("button",{onClick:()=>V(!0),className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Hh,{size:20,className:"mr-2"}),e("clients.more_filters")]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e("pagination.showing")," ",a.length," ",e("common.of")," ",r.length," ",e("clients.clients")]})]})}),c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:u}):a.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(J=>n.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:J.lastName||J.firstName?`${J.lastName||""}, ${J.firstName||""}`.replace(/^,\s*/,"").replace(/,\s*$/,""):e("clients.unnamed_client")}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:J.email}),n.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",J.clientId]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(Ym,{size:14,className:"mr-2"}),J.phone||e("clients.no_phone")]}),J.address&&n.jsxs("p",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx(ru,{size:14,className:"mr-2 mt-0.5"}),J.address,J.city&&`, ${J.city}`]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[e("clients.since")," ",new Date(J.createdAt).toLocaleDateString()]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Y(J.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:e("action.view"),children:n.jsx(ts,{size:16})}),n.jsx("button",{onClick:()=>ie(J.id),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:e("action.edit"),children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>W(J),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:e("action.delete"),children:n.jsx(Ns,{size:16})})]})]})]})},J.id))}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:e("clients.no_clients_found")})}),v&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black bg-opacity-50 overflow-auto p-6",children:n.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-lg shadow-lg p-6 relative",children:[n.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",onClick:()=>b(!1),children:"✕"}),n.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[n.jsx(yP,{className:"mr-2",size:22}),"Merge Wizard"]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Mode"}),n.jsxs("select",{value:L,onChange:J=>{k(J.target.value),Z()},className:"border rounded px-2 py-1",children:[n.jsx("option",{value:"email",children:"Email"}),n.jsx("option",{value:"phone",children:"Phone"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Strategy"}),n.jsxs("select",{value:A,onChange:J=>{P(J.target.value),Z()},className:"border rounded px-2 py-1",children:[n.jsx("option",{value:"keep-oldest",children:"Keep Oldest"}),n.jsx("option",{value:"keep-newest",children:"Keep Newest"})]})]}),n.jsx("div",{className:"text-sm text-gray-600",children:S?"Loading suggestions...":`${w.length} group(s) found`}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsx("button",{className:"px-3 py-2 text-xs rounded bg-gray-200 hover:bg-gray-300",onClick:()=>ge(!0),children:"Select All"}),n.jsx("button",{className:"px-3 py-2 text-xs rounded bg-gray-200 hover:bg-gray-300",onClick:()=>ge(!1),children:"Deselect All"}),n.jsx("button",{disabled:B||S,onClick:ae,className:"px-4 py-2 rounded bg-orange-600 hover:bg-orange-700 text-white disabled:opacity-60",children:B?"Merging...":"Execute Merges"})]})]}),I&&n.jsx("div",{className:"mb-4 text-sm text-blue-700 bg-blue-50 border border-blue-200 rounded p-2",children:I}),n.jsx("div",{className:"overflow-auto max-h-[60vh] border rounded",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-100 text-gray-600 text-xs uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2",children:"Select"}),n.jsx("th",{className:"p-2",children:"Key"}),n.jsx("th",{className:"p-2",children:"Primary"}),n.jsx("th",{className:"p-2",children:"Duplicates"}),n.jsx("th",{className:"p-2",children:"Preview"})]})}),n.jsxs("tbody",{children:[w.map(J=>n.jsxs("tr",{className:J.selected?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"p-2 align-top",children:n.jsx("input",{type:"checkbox",checked:J.selected,onChange:()=>de(J.key)})}),n.jsx("td",{className:"p-2 align-top font-mono text-xs",children:J.key}),n.jsxs("td",{className:"p-2 align-top w-48",children:[n.jsxs("div",{className:"font-semibold",children:[J.primary.last_name||J.primary.lastName||""," ",J.primary.first_name||J.primary.firstName||""]}),n.jsx("div",{className:"text-xs text-gray-500 break-all",children:J.primary.email||J.primary.phone}),n.jsxs("div",{className:"text-[10px] text-gray-400",children:["id: ",J.primary.id]})]}),n.jsx("td",{className:"p-2 align-top w-64",children:J.duplicates.map(he=>n.jsxs("div",{className:"mb-2 border-b last:border-b-0 pb-1",children:[n.jsxs("div",{className:"font-medium",children:[he.last_name||he.lastName||""," ",he.first_name||he.firstName||""]}),n.jsx("div",{className:"text-xs text-gray-500 break-all",children:he.email||he.phone}),n.jsxs("div",{className:"text-[10px] text-gray-400",children:["id: ",he.id]})]},he.id))}),n.jsx("td",{className:"p-2 align-top text-xs w-72",children:n.jsx("div",{className:"space-y-1",children:["phone","address","city","state","zip","country","company","notes"].map(he=>{const ee=J.primary[he]||"",le=J.duplicates.find(ke=>ke[he])?.[he];return!le||ee?null:n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsxs("span",{className:"text-gray-500",children:[he,":"]}),n.jsx("span",{className:"font-medium text-gray-800 truncate max-w-[160px]",title:le,children:String(le).slice(0,60)})]},he)})})})]},J.key)),!S&&w.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-500",children:"No duplicate groups found."})}),S&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"p-4 text-center",children:"Loading..."})})]})]})}),n.jsx("div",{className:"mt-4 text-xs text-gray-500",children:(()=>{const J=Se();return`Groups: ${J.totalGroups} | Total Clients Impacted: ${J.totalClientsImpacted}`})()})]})}),D&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[n.jsx("button",{onClick:()=>V(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:"✕"}),n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[n.jsx(Hh,{className:"mr-2",size:18}),"Advanced Filters"]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"(Placeholder) Add additional filtering options here (status, date range, has email, has phone, etc.)."}),n.jsx("div",{className:"flex justify-end gap-2",children:n.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-sm",children:e("action.close")})})]})})]})})};var eI={};class pOe{constructor(){this.isAuthenticated=!1,this.config={calendarId:"parrottsimon02@gmail.com",apiKey:eI.REACT_APP_GOOGLE_CALENDAR_API_KEY||"",clientId:eI.REACT_APP_GOOGLE_CLIENT_ID||""}}async initialize(){try{return console.log("Google Calendar service initialized"),!0}catch(t){return console.error("Failed to initialize Google Calendar:",t),!1}}async createEvent(t,r={}){try{const s={id:t.id||`event_${Date.now()}`,title:t.title,description:t.description||"",startTime:t.startTime.toISOString(),endTime:t.endTime.toISOString(),location:t.location||"",attendees:t.attendees||[],clientId:t.clientId},a=this.getLocalEvents();if(a.push(s),localStorage.setItem("calendarEvents",JSON.stringify(a)),r.promptGoogle){const i=this.generateGoogleCalendarUrl(t);window.confirm("Would you like to also add this event to Google Calendar?")&&window.open(i,"_blank")}return s.id}catch(s){return console.error("Failed to create calendar event:",s),null}}async updateEvent(t,r){try{const s=this.getLocalEvents(),a=s.findIndex(i=>i.id===t);if(a===-1)throw new Error("Event not found");return s[a]={...s[a],...r},localStorage.setItem("calendarEvents",JSON.stringify(s)),!0}catch(s){return console.error("Failed to update calendar event:",s),!1}}async deleteEvent(t){try{const s=this.getLocalEvents().filter(a=>a.id!==t);return localStorage.setItem("calendarEvents",JSON.stringify(s)),!0}catch(r){return console.error("Failed to delete calendar event:",r),!1}}async getEvents(t,r){try{return this.getLocalEvents().filter(a=>{const i=new Date(a.startTime);return i>=t&&i<=r}).map(a=>({...a,startTime:new Date(a.startTime),endTime:new Date(a.endTime)}))}catch(s){return console.error("Failed to get calendar events:",s),[]}}async getClientEvents(t){try{return this.getLocalEvents().filter(s=>s.clientId===t).map(s=>({...s,startTime:new Date(s.startTime),endTime:new Date(s.endTime)}))}catch(r){return console.error("Failed to get client events:",r),[]}}generateGoogleCalendarUrl(t){const r="https://calendar.google.com/calendar/render?action=TEMPLATE",s=new URLSearchParams({text:t.title,dates:`${this.formatDateForGoogle(t.startTime)}/${this.formatDateForGoogle(t.endTime)}`,details:t.description||"",location:t.location||"",ctz:"Europe/Vienna"});return`${r}&${s.toString()}`}formatDateForGoogle(t){return t.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"")}getLocalEvents(){try{const t=localStorage.getItem("calendarEvents");return t?JSON.parse(t):[]}catch(t){return console.error("Failed to get local events:",t),[]}}getPublicCalendarUrl(){return"https://calendar.google.com/calendar/u/0?cid=cGFycm90dHNpbW9uMDJAZ21haWwuY29t"}getEmbedUrl(){return"https://calendar.google.com/calendar/embed?src=parrottsimon02%40gmail.com&ctz=Europe%2FVienna"}}const tI=new pOe,gOe=({isOpen:e,onClose:t,client:r})=>{const[s,a]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState(!1),[d,u]=_.useState(null),h=async()=>{try{a(!0),u(null);const g=await fetch("/api/admin/create-questionnaire-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:r.id,template_id:"default-questionnaire"})});if(!g.ok)throw new Error("Failed to generate questionnaire link");const v=await g.json();o(v.link)}catch(g){u(g instanceof Error?g.message:"Failed to generate link")}finally{a(!1)}},p=async()=>{if(i)try{await navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3)}catch(g){console.error("Failed to copy link:",g)}},f=()=>{if(!i)return"";const g=`Hallo! Bitte füllen Sie unseren Fragebogen hier aus: ${i}`;return`https://wa.me/?text=${encodeURIComponent(g)}`},y=()=>{if(!i)return"";const g="Ihr Fragebogen - New Age Fotografie",v=`Hallo ${r.firstName},

bitte füllen Sie unseren Fragebogen über den folgenden Link aus:

${i}

Vielen Dank!

Mit freundlichen Grüßen,
New Age Fotografie Team`;return`mailto:${r.email}?subject=${encodeURIComponent(g)}&body=${encodeURIComponent(v)}`};return ve.useEffect(()=>{e&&!i&&h()},[e]),e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Send Questionnaire"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Send questionnaire link to:"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[r.firstName," ",r.lastName]}),n.jsx("p",{className:"text-sm text-gray-600",children:r.email})]}),d&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:d})}),s&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-gray-600",children:"Generating questionnaire link..."})}),i&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Questionnaire Link"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:i,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm"}),n.jsx("button",{onClick:p,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",title:"Copy link",children:l?n.jsx(ba,{size:16,className:"text-green-600"}):n.jsx(Gc,{size:16})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("a",{href:y(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[n.jsx(Ur,{size:16}),n.jsx("span",{children:"Email"})]}),n.jsxs("a",{href:f(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[n.jsx(jR,{size:16}),n.jsx("span",{children:"WhatsApp"})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[n.jsx("p",{children:"• Email: Opens your default email client with pre-filled message"}),n.jsx("p",{children:"• WhatsApp: Opens WhatsApp with ready-to-send message"}),n.jsx("p",{children:"• Link expires in 30 days"})]})]})]}),n.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t",children:n.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})})]})}):null},xOe=()=>{const{id:e}=Uo(),t=En(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,d]=_.useState(!1);_.useEffect(()=>{e&&u(e)},[e]);const u=async N=>{try{i(!0);const w=await fetch(`/api/crm/clients/${N}`);if(!w.ok)throw new Error("Client not found");const C=await w.json();s(C)}catch{l("Failed to load client details")}finally{i(!1)}},h=()=>{t(`/admin/clients/${e}/edit`)},p=async()=>{if(r&&window.confirm(`Are you sure you want to delete ${r.firstName} ${r.lastName}? This action cannot be undone.`))try{if(!(await fetch(`/api/crm/clients/${r.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");alert("Client deleted successfully"),t("/admin/clients")}catch{alert("Failed to delete client. Please try again.")}},f=async()=>{if(r)try{const N=new Date;N.setDate(N.getDate()+1),N.setHours(14,0,0,0);const w=new Date(N);w.setHours(16,0,0,0);const C={title:`Fotoshooting - ${r.firstName} ${r.lastName}`,description:`Fotoshooting-Termin mit ${r.firstName} ${r.lastName}

Kontakt:
E-Mail: ${r.email}
Telefon: ${r.phone||"Nicht angegeben"}

Adresse: ${r.address||"Nicht angegeben"}`,startTime:N,endTime:w,location:"New Age Fotografie Studio, Wehrgasse 11A/2+5, 1050 Wien",attendees:[r.email],clientId:r.id};await tI.createEvent(C,{promptGoogle:!1}),t(`/admin/calendar?clientId=${r.id}`)}catch(N){console.error("Failed to schedule session:",N),alert("Failed to schedule session. Please try again.")}},y=async()=>{if(!r)return;const N=new Date;N.setHours(N.getHours()+2,0,0,0);const w=new Date(N);w.setHours(w.getHours()+1);const C={title:`Appointment - ${r.firstName} ${r.lastName}`,description:`Linked to client ${r.firstName} ${r.lastName} (${r.email})`,startTime:N,endTime:w,clientId:r.id};await tI.createEvent(C,{promptGoogle:!1}),t(`/admin/calendar?clientId=${r.id}`)},g=()=>{t(`/admin/invoices?clientId=${r?.id}&action=new`)},v=async()=>{r&&t(`/admin/inbox?compose=1&to=${encodeURIComponent(r.email)}&name=${encodeURIComponent(r.firstName+" "+r.lastName)}`)},b=async()=>{if(r){if(!r.phone){alert("No phone number available for this client");return}try{const N=`Hallo ${r.firstName}, vielen Dank für Ihr Interesse an New Age Fotografie. Bei Fragen stehen wir gerne zur Verfügung!`;t(`/admin/communications?action=sms&clientId=${r.id}&phone=${encodeURIComponent(r.phone)}&message=${encodeURIComponent(N)}`)}catch(N){console.error("Failed to compose SMS:",N),alert("Failed to open SMS composer")}}},S=N=>{const w={active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},inactive:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Inactive"},archived:{bg:"bg-gray-100",text:"text-gray-800",label:"Archived"}},C=w[N]||w.active;return n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.bg} ${C.text}`,children:C.label})};return a?n.jsx(Ir,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):o||!r?n.jsx(Ir,{children:n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o||"Client not found"})}):n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>t("/admin/clients"),className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Wn,{size:20})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:[r.firstName," ",r.lastName]}),n.jsx("p",{className:"text-gray-600",children:"Client Details"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ga,{size:16,className:"mr-2"}),"Edit"]}),n.jsxs("button",{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Hn,{size:16,className:"mr-2"}),"Send Questionnaire"]}),n.jsxs("button",{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ns,{size:16,className:"mr-2"}),"Delete"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[r.firstName," ",r.lastName]}),r.company&&n.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[n.jsx(AJ,{size:16,className:"mr-2"}),r.company]})]}),S(r.status)]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ur,{size:16,className:"text-gray-400 mr-3"}),n.jsx("a",{href:`mailto:${r.email}`,className:"text-purple-600 hover:text-purple-700",children:r.email})]}),r.phone&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ym,{size:16,className:"text-gray-400 mr-3"}),n.jsx("a",{href:`tel:${r.phone}`,className:"text-purple-600 hover:text-purple-700",children:r.phone})]}),r.address&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(ru,{size:16,className:"text-gray-400 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900",children:r.address}),r.city&&n.jsxs("p",{className:"text-gray-600",children:[r.zip&&`${r.zip} `,r.city,r.state&&`, ${r.state}`,r.country&&`, ${r.country}`]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Details"}),n.jsxs("div",{className:"space-y-3",children:[r.clientId&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Client ID"}),n.jsx("p",{className:"text-gray-900",children:r.clientId})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Member Since"}),n.jsx("p",{className:"text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),r.notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:r.notes})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("button",{onClick:f,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors flex items-center justify-center",children:[n.jsx(an,{size:20,className:"mr-2 text-purple-600"}),n.jsx("span",{children:"Schedule Session"})]}),n.jsxs("button",{onClick:y,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-purple-300 transition-colors flex items-center justify-center",children:[n.jsx(Tr,{size:20,className:"mr-2 text-purple-600"}),n.jsx("span",{children:"Add Appointment"})]}),n.jsxs("button",{onClick:g,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-green-300 transition-colors flex items-center justify-center",children:[n.jsx(Y2,{size:20,className:"mr-2 text-green-600"}),n.jsx("span",{children:"Create Invoice"})]}),n.jsxs("button",{onClick:v,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-blue-300 transition-colors flex items-center justify-center",children:[n.jsx(Ur,{size:20,className:"mr-2 text-blue-600"}),n.jsx("span",{children:"Send Email"})]}),n.jsxs("button",{onClick:b,className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-orange-300 transition-colors flex items-center justify-center",disabled:!r?.phone,children:[n.jsx(Z2,{size:20,className:"mr-2 text-orange-600"}),n.jsx("span",{children:"Send SMS"})]})]})]}),r&&n.jsx(gOe,{isOpen:c,onClose:()=>d(!1),client:r})]})},rI=e=>{if(!e)return"";const t=["van","de","der","da","von","del","la","du","di","le"];return e.toLowerCase().split(" ").map((r,s)=>s===0?r.charAt(0).toUpperCase()+r.slice(1):t.includes(r)?r:r.charAt(0).toUpperCase()+r.slice(1)).join(" ")},aS=()=>{const e=En(),{id:t}=Uo(),r=!!t,[s,a]=_.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zip:"",country:"Austria",company:"",notes:""}),[i,o]=_.useState(!1),[l,c]=_.useState(null);_.useEffect(()=>{r&&t&&d()},[r,t]);const d=async()=>{try{o(!0);const p=await fetch(`/api/crm/clients/${t}`);if(!p.ok)throw new Error("Failed to fetch client");const f=await p.json();a({firstName:f.firstName||"",lastName:f.lastName||"",email:f.email||"",phone:f.phone||"",address:f.address||"",city:f.city||"",state:f.state||"",zip:f.zip||"",country:f.country||"Austria",company:f.company||"",notes:f.notes||""})}catch(p){console.error("Failed to load client:",p),c("Failed to load client data")}finally{o(!1)}},u=p=>{const{name:f,value:y}=p.target;let g=y;(f==="firstName"||f==="lastName")&&(g=rI(y)),f==="city"&&(g=rI(y)),a(v=>({...v,[f]:g}))},h=async p=>{p.preventDefault(),o(!0),c(null);try{const f=r?`/api/crm/clients/${t}`:"/api/crm/clients",y=r?"PUT":"POST";console.log("Submitting client data:",s),console.log("URL:",f,"Method:",y);const g=await fetch(f,{method:y,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("Response status:",g.status),console.log("Response ok:",g.ok),!g.ok){const b=await g.text();throw console.error("Error response:",b),new Error(`Failed to save client: ${g.status} ${b}`)}const v=await g.json();console.log("Success:",v),e("/admin/clients")}catch(f){console.error("Failed to save client:",f),c(f.message||"Failed to save client")}finally{o(!1)}};return i&&r?n.jsx(Ir,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Ir,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center space-x-4 mb-4",children:n.jsxs("button",{onClick:()=>e("/admin/clients"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(Wn,{className:"h-5 w-5 mr-2"}),"Back to Clients"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Client":"Add New Client"}),n.jsx("p",{className:"text-gray-600",children:r?"Update client information":"Create a new client profile"})]}),l&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Do,{className:"h-5 w-5 mr-2"}),"Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter first name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter last name"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),n.jsx("input",{type:"text",name:"company",value:s.company,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ur,{className:"h-5 w-5 mr-2"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(ru,{className:"h-5 w-5 mr-2"}),"Address Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:s.address,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter street address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),n.jsx("input",{type:"text",name:"city",value:s.city,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),n.jsx("input",{type:"text",name:"zip",value:s.zip,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter ZIP code"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),n.jsx("input",{type:"text",name:"state",value:s.state,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter state or province"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),n.jsxs("select",{name:"country",value:s.country,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Austria",children:"Austria"}),n.jsx("option",{value:"Germany",children:"Germany"}),n.jsx("option",{value:"Switzerland",children:"Switzerland"}),n.jsx("option",{value:"Czech Republic",children:"Czech Republic"}),n.jsx("option",{value:"Slovakia",children:"Slovakia"}),n.jsx("option",{value:"Hungary",children:"Hungary"}),n.jsx("option",{value:"Slovenia",children:"Slovenia"}),n.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:u,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes about this client..."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>e("/admin/clients"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[i&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx(pl,{className:"h-4 w-4 mr-2"}),r?"Update Client":"Create Client"]})]})]})})]})})};var Hq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,s)=>{e.exports=s()})(ul,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,d={};function u(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(P){var B=C(P);B.chunkSize=parseInt(B.chunkSize),P.step||P.chunk||(B.chunkSize=null),this._handle=new g(B),(this._handle.streamer=this)._config=B}.call(this,A),this.parseChunk=function(P,B){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let M=this._config.newline;M||(I=this._config.quoteChar||'"',M=this._handle.guessLineEndings(P,I)),P=[...P.split(M).slice(T)].join(M)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(P))!==void 0&&(P=I),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+P,I=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=I.meta.cursor,T=(this._finished||(this._partialLine=T.substring(P-this._baseIndex),this._baseIndex=P),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:I,workerId:d.WORKER_ID,finished:T});else if(k(this._config.chunk)&&!B){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!T||!k(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(P){k(this._config.error)?this._config.error(P):o&&this._config.error&&s.postMessage({workerId:d.WORKER_ID,error:P,finished:!1})}}function h(A){var P;(A=A||{}).chunkSize||(A.chunkSize=d.RemoteChunkSize),u.call(this,A),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=L(this._chunkLoaded,this),P.onerror=L(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var B,T=this._config.downloadRequestHeaders;for(B in T)P.setRequestHeader(B,T[B])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+I));try{P.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(B){B=P.statusText||B,this._sendError(new Error(B))}}function p(A){(A=A||{}).chunkSize||(A.chunkSize=d.LocalChunkSize),u.call(this,A);var P,B,T=typeof FileReader<"u";this.stream=function(I){this._input=I,B=I.slice||I.webkitSlice||I.mozSlice,T?((P=new FileReader).onload=L(this._chunkLoaded,this),P.onerror=L(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),I=B.call(I,this._start,M)),P.readAsText(I,this._config.encoding));T||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(P.error)}}function f(A){var P;u.call(this,A=A||{}),this.stream=function(B){return P=B,this._nextChunk()},this._nextChunk=function(){var B,T;if(!this._finished)return B=this._config.chunkSize,P=B?(T=P.substring(0,B),P.substring(B)):(T=P,""),this._finished=!P,this.parseChunk(T)}}function y(A){u.call(this,A=A||{});var P=[],B=!0,T=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):B=!0},this._streamData=L(function(I){try{P.push(typeof I=="string"?I:I.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(M){this._streamError(M)}},this),this._streamError=L(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=L(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(A){var P,B,T,I,M=Math.pow(2,53),D=-M,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,q=0,Y=0,ie=!1,W=!1,F=[],Z={data:[],errors:[],meta:{}};function Q(Se){return A.skipEmptyLines==="greedy"?Se.join("").trim()==="":Se.length===1&&Se[0].length===0}function ae(){if(Z&&T&&(ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),T=!1),A.skipEmptyLines&&(Z.data=Z.data.filter(function(ee){return!Q(ee)})),de()){let ee=function(le,ke){k(A.transformHeader)&&(le=A.transformHeader(le,ke)),F.push(le)};if(Z)if(Array.isArray(Z.data[0])){for(var Se=0;de()&&Se<Z.data.length;Se++)Z.data[Se].forEach(ee);Z.data.splice(0,1)}else Z.data.forEach(ee)}function J(ee,le){for(var ke=A.header?{}:[],Ne=0;Ne<ee.length;Ne++){var G=Ne,Ae=ee[Ne],Ae=((ze,Be)=>(qe=>(A.dynamicTypingFunction&&A.dynamicTyping[qe]===void 0&&(A.dynamicTyping[qe]=A.dynamicTypingFunction(qe)),(A.dynamicTyping[qe]||A.dynamicTyping)===!0))(ze)?Be==="true"||Be==="TRUE"||Be!=="false"&&Be!=="FALSE"&&((qe=>{if(V.test(qe)&&(qe=parseFloat(qe),D<qe&&qe<M))return 1})(Be)?parseFloat(Be):z.test(Be)?new Date(Be):Be===""?null:Be):Be)(G=A.header?Ne>=F.length?"__parsed_extra":F[Ne]:G,Ae=A.transform?A.transform(Ae,G):Ae);G==="__parsed_extra"?(ke[G]=ke[G]||[],ke[G].push(Ae)):ke[G]=Ae}return A.header&&(Ne>F.length?ge("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+Ne,Y+le):Ne<F.length&&ge("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+Ne,Y+le)),ke}var he;Z&&(A.header||A.dynamicTyping||A.transform)&&(he=1,!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(J),he=Z.data.length):Z.data=J(Z.data,0),A.header&&Z.meta&&(Z.meta.fields=F),Y+=he)}function de(){return A.header&&F.length===0}function ge(Se,J,he,ee){Se={type:Se,code:J,message:he},ee!==void 0&&(Se.row=ee),Z.errors.push(Se)}k(A.step)&&(I=A.step,A.step=function(Se){Z=Se,de()?ae():(ae(),Z.data.length!==0&&(q+=Se.data.length,A.preview&&q>A.preview?B.abort():(Z.data=Z.data[0],I(Z,X))))}),this.parse=function(Se,J,he){var ee=A.quoteChar||'"',ee=(A.newline||(A.newline=this.guessLineEndings(Se,ee)),T=!1,A.delimiter?k(A.delimiter)&&(A.delimiter=A.delimiter(Se),Z.meta.delimiter=A.delimiter):((ee=((le,ke,Ne,G,Ae)=>{var ze,Be,qe,H;Ae=Ae||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var te=0;te<Ae.length;te++){for(var ye,Ce=Ae[te],Pe=0,Ee=0,Ve=0,tt=(qe=void 0,new b({comments:G,delimiter:Ce,newline:ke,preview:10}).parse(le)),it=0;it<tt.data.length;it++)Ne&&Q(tt.data[it])?Ve++:(ye=tt.data[it].length,Ee+=ye,qe===void 0?qe=ye:0<ye&&(Pe+=Math.abs(ye-qe),qe=ye));0<tt.data.length&&(Ee/=tt.data.length-Ve),(Be===void 0||Pe<=Be)&&(H===void 0||H<Ee)&&1.99<Ee&&(Be=Pe,ze=Ce,H=Ee)}return{successful:!!(A.delimiter=ze),bestDelimiter:ze}})(Se,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ee.bestDelimiter:(T=!0,A.delimiter=d.DefaultDelimiter),Z.meta.delimiter=A.delimiter),C(A));return A.preview&&A.header&&ee.preview++,P=Se,B=new b(ee),Z=B.parse(P,J,he),ae(),ie?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,B.abort(),P=k(A.chunk)?"":P.substring(B.getCharIndex())},this.resume=function(){X.streamer._halted?(ie=!1,X.streamer.parseChunk(P,!0)):setTimeout(X.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,B.abort(),Z.meta.aborted=!0,k(A.complete)&&A.complete(Z),P=""},this.guessLineEndings=function(le,ee){le=le.substring(0,1048576);var ee=new RegExp(v(ee)+"([^]*?)"+v(ee),"gm"),he=(le=le.replace(ee,"")).split("\r"),ee=le.split(`
`),le=1<ee.length&&ee[0].length<he[0].length;if(he.length===1||le)return`
`;for(var ke=0,Ne=0;Ne<he.length;Ne++)he[Ne][0]===`
`&&ke++;return ke>=he.length/2?`\r
`:"\r"}}function v(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){var P=(A=A||{}).delimiter,B=A.newline,T=A.comments,I=A.step,M=A.preview,D=A.fastMode,V=null,z=!1,X=A.quoteChar==null?'"':A.quoteChar,q=X;if(A.escapeChar!==void 0&&(q=A.escapeChar),(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=","),T===P)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<d.BAD_DELIMITERS.indexOf(T))&&(T=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var Y=0,ie=!1;this.parse=function(W,F,Z){if(typeof W!="string")throw new Error("Input must be a string");var Q=W.length,ae=P.length,de=B.length,ge=T.length,Se=k(I),J=[],he=[],ee=[],le=Y=0;if(!W)return Pe();if(D||D!==!1&&W.indexOf(X)===-1){for(var ke=W.split(B),Ne=0;Ne<ke.length;Ne++){if(ee=ke[Ne],Y+=ee.length,Ne!==ke.length-1)Y+=B.length;else if(Z)return Pe();if(!T||ee.substring(0,ge)!==T){if(Se){if(J=[],H(ee.split(P)),Ee(),ie)return Pe()}else H(ee.split(P));if(M&&M<=Ne)return J=J.slice(0,M),Pe(!0)}}return Pe()}for(var G=W.indexOf(P,Y),Ae=W.indexOf(B,Y),ze=new RegExp(v(q)+v(X),"g"),Be=W.indexOf(X,Y);;)if(W[Y]===X)for(Be=Y,Y++;;){if((Be=W.indexOf(X,Be+1))===-1)return Z||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:Y}),ye();if(Be===Q-1)return ye(W.substring(Y,Be).replace(ze,X));if(X===q&&W[Be+1]===q)Be++;else if(X===q||Be===0||W[Be-1]!==q){G!==-1&&G<Be+1&&(G=W.indexOf(P,Be+1));var qe=te((Ae=Ae!==-1&&Ae<Be+1?W.indexOf(B,Be+1):Ae)===-1?G:Math.min(G,Ae));if(W.substr(Be+1+qe,ae)===P){ee.push(W.substring(Y,Be).replace(ze,X)),W[Y=Be+1+qe+ae]!==X&&(Be=W.indexOf(X,Y)),G=W.indexOf(P,Y),Ae=W.indexOf(B,Y);break}if(qe=te(Ae),W.substring(Be+1+qe,Be+1+qe+de)===B){if(ee.push(W.substring(Y,Be).replace(ze,X)),Ce(Be+1+qe+de),G=W.indexOf(P,Y),Be=W.indexOf(X,Y),Se&&(Ee(),ie))return Pe();if(M&&J.length>=M)return Pe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:Y}),Be++}}else if(T&&ee.length===0&&W.substring(Y,Y+ge)===T){if(Ae===-1)return Pe();Y=Ae+de,Ae=W.indexOf(B,Y),G=W.indexOf(P,Y)}else if(G!==-1&&(G<Ae||Ae===-1))ee.push(W.substring(Y,G)),Y=G+ae,G=W.indexOf(P,Y);else{if(Ae===-1)break;if(ee.push(W.substring(Y,Ae)),Ce(Ae+de),Se&&(Ee(),ie))return Pe();if(M&&J.length>=M)return Pe(!0)}return ye();function H(Ve){J.push(Ve),le=Y}function te(Ve){var tt=0;return tt=Ve!==-1&&(Ve=W.substring(Be+1,Ve))&&Ve.trim()===""?Ve.length:tt}function ye(Ve){return Z||(Ve===void 0&&(Ve=W.substring(Y)),ee.push(Ve),Y=Q,H(ee),Se&&Ee()),Pe()}function Ce(Ve){Y=Ve,H(ee),ee=[],Ae=W.indexOf(B,Y)}function Pe(Ve){if(A.header&&!F&&J.length&&!z){var tt=J[0],it=Object.create(null),ft=new Set(tt);let mt=!1;for(let ut=0;ut<tt.length;ut++){let zt=tt[ut];if(it[zt=k(A.transformHeader)?A.transformHeader(zt,ut):zt]){let er,Nt=it[zt];for(;er=zt+"_"+Nt,Nt++,ft.has(er););ft.add(er),tt[ut]=er,it[zt]++,mt=!0,(V=V===null?{}:V)[er]=zt}else it[zt]=1,tt[ut]=zt;ft.add(zt)}mt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:J,errors:he,meta:{delimiter:P,linebreak:B,aborted:ie,truncated:!!Ve,cursor:le+(F||0),renamedHeaders:V}}}function Ee(){I(Pe()),J=[],he=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Y}}function S(A){var P=A.data,B=l[P.workerId],T=!1;if(P.error)B.userError(P.error,P.file);else if(P.results&&P.results.data){var I={abort:function(){T=!0,N(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:w,resume:w};if(k(B.userStep)){for(var M=0;M<P.results.data.length&&(B.userStep({data:P.results.data[M],errors:P.results.errors,meta:P.results.meta},I),!T);M++);delete P.results}else k(B.userChunk)&&(B.userChunk(P.results,I,P.file),delete P.results)}P.finished&&!T&&N(P.workerId,P.results)}function N(A,P){var B=l[A];k(B.userComplete)&&B.userComplete(P),B.terminate(),delete l[A]}function w(){throw new Error("Not implemented.")}function C(A){if(typeof A!="object"||A===null)return A;var P,B=Array.isArray(A)?[]:{};for(P in A)B[P]=C(A[P]);return B}function L(A,P){return function(){A.apply(P,arguments)}}function k(A){return typeof A=="function"}return d.parse=function(A,P){var B=(P=P||{}).dynamicTyping||!1;if(k(B)&&(P.dynamicTypingFunction=B,B={}),P.dynamicTyping=B,P.transform=!!k(P.transform)&&P.transform,!P.worker||!d.WORKERS_SUPPORTED)return B=null,d.NODE_STREAM_INPUT,typeof A=="string"?(A=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(A),B=new(P.download?h:f)(P)):A.readable===!0&&k(A.read)&&k(A.on)?B=new y(P):(s.File&&A instanceof File||A instanceof Object)&&(B=new p(P)),B.stream(A);(B=(()=>{var T;return!!d.WORKERS_SUPPORTED&&(T=(()=>{var I=s.URL||s.webkitURL||null,M=r.toString();return d.BLOB_URL||(d.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(T=new s.Worker(T)).onmessage=S,T.id=c++,l[T.id]=T)})()).userStep=P.step,B.userChunk=P.chunk,B.userComplete=P.complete,B.userError=P.error,P.step=k(P.step),P.chunk=k(P.chunk),P.complete=k(P.complete),P.error=k(P.error),delete P.worker,B.postMessage({input:A,config:P,workerId:B.id})},d.unparse=function(A,P){var B=!1,T=!0,I=",",M=`\r
`,D='"',V=D+D,z=!1,X=null,q=!1,Y=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||d.BAD_DELIMITERS.filter(function(F){return P.delimiter.indexOf(F)!==-1}).length||(I=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(B=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(z=P.skipEmptyLines),typeof P.newline=="string"&&(M=P.newline),typeof P.quoteChar=="string"&&(D=P.quoteChar),typeof P.header=="boolean"&&(T=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");X=P.columns}P.escapeChar!==void 0&&(V=P.escapeChar+D),P.escapeFormulae instanceof RegExp?q=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(D),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ie(null,A,z);if(typeof A[0]=="object")return ie(X||Object.keys(A[0]),A,z)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||X),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ie(A.fields||[],A.data||[],z);throw new Error("Unable to serialize unrecognized input");function ie(F,Z,Q){var ae="",de=(typeof F=="string"&&(F=JSON.parse(F)),typeof Z=="string"&&(Z=JSON.parse(Z)),Array.isArray(F)&&0<F.length),ge=!Array.isArray(Z[0]);if(de&&T){for(var Se=0;Se<F.length;Se++)0<Se&&(ae+=I),ae+=W(F[Se],Se);0<Z.length&&(ae+=M)}for(var J=0;J<Z.length;J++){var he=(de?F:Z[J]).length,ee=!1,le=de?Object.keys(Z[J]).length===0:Z[J].length===0;if(Q&&!de&&(ee=Q==="greedy"?Z[J].join("").trim()==="":Z[J].length===1&&Z[J][0].length===0),Q==="greedy"&&de){for(var ke=[],Ne=0;Ne<he;Ne++){var G=ge?F[Ne]:Ne;ke.push(Z[J][G])}ee=ke.join("").trim()===""}if(!ee){for(var Ae=0;Ae<he;Ae++){0<Ae&&!le&&(ae+=I);var ze=de&&ge?F[Ae]:Ae;ae+=W(Z[J][ze],Ae)}J<Z.length-1&&(!Q||0<he&&!le)&&(ae+=M)}}return ae}function W(F,Z){var Q,ae;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(ae=!1,q&&typeof F=="string"&&q.test(F)&&(F="'"+F,ae=!0),Q=F.toString().replace(Y,V),(ae=ae||B===!0||typeof B=="function"&&B(F,Z)||Array.isArray(B)&&B[Z]||((de,ge)=>{for(var Se=0;Se<ge.length;Se++)if(-1<de.indexOf(ge[Se]))return!0;return!1})(Q,d.BAD_DELIMITERS)||-1<Q.indexOf(I)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?D+Q+D:Q)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!s.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=b,d.ParserHandle=g,d.NetworkStreamer=h,d.FileStreamer=p,d.StringStreamer=f,d.ReadableStreamStreamer=y,s.jQuery&&((a=s.jQuery).fn.parse=function(A){var P=A.config||{},B=[];return this.each(function(M){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)B.push({file:this.files[D],inputElem:this,instanceConfig:a.extend({},P)})}),T(),this;function T(){if(B.length===0)k(A.complete)&&A.complete();else{var M,D,V,z,X=B[0];if(k(A.before)){var q=A.before(X.file,X.inputElem);if(typeof q=="object"){if(q.action==="abort")return M="AbortError",D=X.file,V=X.inputElem,z=q.reason,void(k(A.error)&&A.error({name:M},D,V,z));if(q.action==="skip")return void I();typeof q.config=="object"&&(X.instanceConfig=a.extend(X.instanceConfig,q.config))}else if(q==="skip")return void I()}var Y=X.instanceConfig.complete;X.instanceConfig.complete=function(ie){k(Y)&&Y(ie,X.file,X.inputElem),I()},d.parse(X.file,X.instanceConfig)}}function I(){B.splice(0,1),T()}}),o&&(s.onmessage=function(A){A=A.data,d.WORKER_ID===void 0&&A&&(d.WORKER_ID=A.workerId),typeof A.input=="string"?s.postMessage({workerId:d.WORKER_ID,results:d.parse(A.input,A.config),finished:!0}):(s.File&&A.input instanceof File||A.input instanceof Object)&&(A=d.parse(A.input,A.config))&&s.postMessage({workerId:d.WORKER_ID,results:A,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(u.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(u.prototype)).constructor=y,d})})(Hq);var nI=Hq.exports;const yOe=()=>{const[e,t]=_.useState(1),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState({}),[c,d]=_.useState(!1),[u,h]=_.useState(null),[p,f]=_.useState(null),y=_.useRef(null),g=[{key:"firstName",label:"First Name",required:!0},{key:"lastName",label:"Last Name",required:!0},{key:"name",label:"Full Name (auto-split)",required:!1},{key:"email",label:"Email",required:!0},{key:"phone",label:"Phone",required:!1},{key:"address",label:"Address",required:!1},{key:"company",label:"Company",required:!1},{key:"notes",label:"Notes",required:!1},{key:"clientId",label:"Client ID",required:!1}],v=T=>{const I={};let M=!1,D=!1;return T.forEach(V=>{const z=V.toLowerCase().trim();z.includes("first")&&z.includes("name")?M=!0:z.includes("last")&&z.includes("name")&&(D=!0)}),T.forEach(V=>{const z=V.toLowerCase().trim();z.includes("first")&&z.includes("name")?I[V]="firstName":z.includes("last")&&z.includes("name")?I[V]="lastName":z.includes("name")&&!M&&!D?I[V]="name":z.includes("email")||z.includes("e-mail")?I[V]="email":z.includes("phone")||z.includes("mobile")||z.includes("tel")?I[V]="phone":z.includes("address")||z.includes("street")||z.includes("location")?I[V]="address":z.includes("company")||z.includes("business")||z.includes("organization")?I[V]="company":(z.includes("note")||z.includes("comment")||z.includes("description"))&&(I[V]="notes")}),I},b=T=>{if(!T.name.toLowerCase().endsWith(".csv")){f("Please select a CSV file");return}s(T),f(null),nI.parse(T,{complete:I=>{if(I.errors.length>0){f("Error parsing CSV file: "+I.errors[0].message);return}const M=I.data;if(M.length<2){f("CSV file must contain at least a header row and one data row");return}const D=M[0],V=M.slice(1,6);i({headers:D,rows:V,totalRows:M.length-1});const z=v(D);l(z),t(2)},header:!1,skipEmptyLines:!0})},S=T=>{const I=T.target.files?.[0];I&&b(I)},N=T=>{T.preventDefault();const I=T.dataTransfer.files?.[0];I&&b(I)},w=T=>{T.preventDefault()},C=()=>{const T=g.filter(M=>M.required),I=Object.values(o);for(const M of T)if(!I.includes(M.key))return f(`Required field "${M.label}" must be mapped`),!1;return!0},L=async()=>{if(!(!r||!a||!C())){d(!0),f(null);try{nI.parse(r,{complete:async T=>{const I=T.data,M=I[0],D=I.slice(1);let V=0,z=0;const X=[];for(let q=0;q<D.length;q++){const Y=D[q];try{if(Y.every(Q=>!Q||Q.trim()===""))continue;const ie={};let W="",F="",Z="";if(M.forEach((Q,ae)=>{const de=o[Q];if(de&&Y[ae]){let ge=Y[ae].trim();de==="name"?Z=ge:de==="firstName"?(W=ge,ie.firstName=ge):de==="lastName"?(F=ge,ie.lastName=ge):ie[de]=ge}}),Z&&!W&&!F){const Q=Z.trim().split(" ");Q.length>=2?(ie.firstName=Q[0],ie.lastName=Q.slice(1).join(" ")):(ie.firstName=Z,ie.lastName="")}else(W||F)&&(ie.firstName=W||"",ie.lastName=F||"");if(!ie.firstName||!ie.email){X.push(`Row ${q+2}: Missing required fields (firstName or email)`),z++;continue}ie.lastName||(ie.lastName=""),ie.status="active";try{await aJ("POST","/api/crm/clients",ie),V++}catch(Q){X.push(`Row ${q+2}: ${Q.message||"Failed to create client"}`),z++}}catch(ie){X.push(`Row ${q+2}: ${ie.message}`),z++}}h({successful:V,failed:z,errors:X}),t(3)},header:!1,skipEmptyLines:!0})}catch(T){f("Import failed: "+T.message)}finally{d(!1)}}},k=()=>{t(1),s(null),i(null),l({}),h(null),f(null),y.current&&(y.current.value="")},A=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",onDrop:N,onDragOver:w,children:[n.jsx(Ri,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Upload your CSV file"}),n.jsx("p",{className:"text-gray-500",children:"Drag and drop your file here, or click to browse"})]}),n.jsx("input",{ref:y,type:"file",accept:".csv",onChange:S,className:"hidden"}),n.jsx("button",{onClick:()=>y.current?.click(),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Choose File"})]}),r&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hn,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsx("span",{className:"text-green-800 font-medium",children:r.name}),n.jsx("button",{onClick:()=>s(null),className:"ml-auto text-green-600 hover:text-green-800",children:n.jsx(rs,{size:16})})]})})]}),P=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"CSV Preview"}),n.jsxs("p",{className:"text-blue-700 text-sm mb-3",children:["Found ",a?.totalRows," rows in your CSV file. Preview of first few rows:"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-xs",children:[n.jsx("thead",{children:n.jsx("tr",{className:"bg-blue-100",children:a?.headers.map((T,I)=>n.jsx("th",{className:"px-2 py-1 text-left font-medium text-blue-900 border-r border-blue-200",children:T},I))})}),n.jsx("tbody",{children:a?.rows.slice(0,3).map((T,I)=>n.jsx("tr",{className:"border-b border-blue-200",children:T.map((M,D)=>n.jsx("td",{className:"px-2 py-1 text-blue-800 border-r border-blue-200 max-w-[100px] truncate",children:M},D))},I))})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Map CSV Columns to Client Fields"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select which client field each CSV column should map to. Required fields are marked with *."}),n.jsx("div",{className:"space-y-3",children:a?.headers.map(T=>n.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-1",children:n.jsx("label",{className:"font-medium text-gray-900",children:T})}),n.jsx("div",{className:"flex-1",children:n.jsxs("select",{value:o[T]||"",onChange:I=>l(M=>({...M,[T]:I.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"-- Skip this column --"}),g.map(I=>n.jsxs("option",{value:I.key,children:[I.label," ",I.required?"*":""]},I.key))]})})]},T))}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:()=>t(1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),n.jsx("button",{onClick:L,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center disabled:opacity-50",children:c?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin h-4 w-4 mr-2"}),"Importing..."]}):n.jsxs(n.Fragment,{children:["Import Clients",n.jsx(Tm,{className:"h-4 w-4 ml-2"})]})})]})]})]}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(ba,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Import Complete"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:u?.successful||0}),n.jsx("div",{className:"text-green-800",children:"Successfully Imported"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:u?.failed||0}),n.jsx("div",{className:"text-red-800",children:"Failed"})]})]}),u?.errors&&u.errors.length>0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Import Errors"}),n.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[u.errors.slice(0,10).map((T,I)=>n.jsx("div",{className:"text-yellow-800 text-sm py-1",children:T},I)),u.errors.length>10&&n.jsxs("div",{className:"text-yellow-600 text-sm italic",children:["... and ",u.errors.length-10," more errors"]})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Import Another File"})})]});return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3].map(T=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=T?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>T?n.jsx(ba,{size:16}):T}),T<3&&n.jsx("div",{className:`w-12 h-0.5 ${e>T?"bg-blue-600":"bg-gray-200"}`})]},T))}),n.jsx("div",{className:"flex justify-center mt-2",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[e===1&&"Upload CSV File",e===2&&"Map Columns",e===3&&"Import Results"]})})]}),p&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-600 mr-2"}),n.jsx("span",{className:"text-red-800",children:p})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e===1&&A(),e===2&&P(),e===3&&B()]})]})},vOe=()=>n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs($t,{to:"/admin/clients",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(Wn,{size:16,className:"mr-1"})," Back to clients"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Clients"}),n.jsx("p",{className:"text-gray-600",children:"Bulk import clients from a CSV file"})]})}),"        ",n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsx(yOe,{})})]})});async function bOe(){try{const{data:{session:e},error:t}=await Kr.auth.getSession();if(t)throw new Error(`Authentication error: ${t.message}`);if(!e?.access_token)throw new Error("Authentication required");const{data:r,error:s}=await Kr.from("import_logs").select("*, imported_by(email)").order("created_at",{ascending:!1});if(s)throw s;return r||[]}catch(e){throw e}}const wOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(!0),[a,i]=_.useState(null);_.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const c=await bOe();t(c)}catch{i("Failed to load import logs. Please try again.")}finally{s(!1)}},l=c=>{const d=new Date(c);return d.toLocaleDateString()+" "+d.toLocaleTimeString()};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Logs"}),n.jsx("p",{className:"text-gray-600",children:"View history of client imports"})]}),n.jsxs($t,{to:"/admin/clients/import",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Hn,{size:20,className:"mr-2"}),"New Import"]})]}),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}):e.length>0?n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imported By"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(c=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hn,{size:16,className:"text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.filename})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(an,{size:16,className:"mr-2"}),l(c.created_at)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Do,{size:16,className:"mr-2"}),c.imported_by.email]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.rows_processed}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Fr,{size:16,className:"mr-2"}),c.rows_success]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.rows_error>0?n.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[n.jsx(SR,{size:16,className:"mr-2"}),c.rows_error]}):n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Fr,{size:16,className:"mr-2"}),"0"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.error_file_url&&n.jsx("a",{href:c.error_file_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-900",title:"Download Error File",children:n.jsx(js,{size:16})})})]},c.id))})]})})}):n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[n.jsx(Pm,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Import Logs Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't imported any client data yet."}),n.jsx($t,{to:"/admin/clients/import",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Import Clients"})]})]})})},f3=_.createContext(void 0),m3=({value:e,defaultValue:t="",className:r,children:s,onValueChange:a})=>{const[i,o]=_.useState(e??t);ve.useEffect(()=>{typeof e=="string"&&e!==i&&o(e)},[e]);const l=c=>{o(c),a&&a(c)};return n.jsx(f3.Provider,{value:{activeTab:i,setActiveTab:l},children:n.jsx("div",{className:Bn("w-full",r),children:s})})},p3=({className:e,children:t})=>n.jsx("div",{className:Bn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),children:t}),ec=({value:e,className:t,children:r})=>{const s=_.useContext(f3);if(!s)throw new Error("TabsTrigger must be used within Tabs");const{activeTab:a,setActiveTab:i}=s,o=a===e;return n.jsx("button",{onClick:()=>i(e),className:Bn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-background text-foreground shadow-sm":"hover:bg-muted",t),children:r})},tc=({value:e,className:t,children:r})=>{const s=_.useContext(f3);if(!s)throw new Error("TabsContent must be used within Tabs");const{activeTab:a}=s;return a!==e?null:n.jsx("div",{className:Bn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),children:r})},jOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState("lifetime_value"),[c,d]=_.useState("revenue");_.useEffect(()=>{u(),h()},[o,c]);const u=async()=>{try{const g=await fetch(`/api/crm/top-clients?orderBy=${o}&limit=20`);if(g.ok){const v=await g.json();t(v||[])}}catch(g){console.error("Failed to fetch top clients:",g)}},h=async()=>{try{const g=await fetch(`/api/crm/client-segments?segmentBy=${c}`);if(g.ok){const v=await g.json();s(v.segments||[])}}catch(g){console.error("Failed to fetch client segments:",g)}finally{i(!1)}},p=g=>new Intl.NumberFormat("de-AT",{style:"currency",currency:"EUR"}).format(g),f=g=>g?new Date(g).toLocaleDateString("de-AT"):"Never",y=g=>g>=1e3?{tier:"VIP",color:"bg-gold-500 text-white",icon:ew}:g>=500?{tier:"Premium",color:"bg-purple-500 text-white",icon:Fs}:g>=200?{tier:"Standard",color:"bg-blue-500 text-white",icon:Gn}:{tier:"Basic",color:"bg-gray-500 text-white",icon:Gn};return a?n.jsx(Ir,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{children:"Loading client data..."})})}):n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(ew,{className:"h-8 w-8 text-yellow-500"}),"High-Value Clients"]})}),n.jsxs(m3,{defaultValue:"top-clients",className:"w-full",children:[n.jsxs(p3,{className:"grid w-full grid-cols-3",children:[n.jsx(ec,{value:"top-clients",children:"Top Clients"}),n.jsx(ec,{value:"segments",children:"Client Segments"}),n.jsx(ec,{value:"analytics",children:"Analytics"})]}),n.jsxs(tc,{value:"top-clients",className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 mb-4",children:n.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"p-2 border rounded",children:[n.jsx("option",{value:"lifetime_value",children:"By Lifetime Value"}),n.jsx("option",{value:"total_revenue",children:"By Total Revenue"}),n.jsx("option",{value:"session_count",children:"By Session Count"}),n.jsx("option",{value:"recent_activity",children:"By Recent Activity"})]})}),n.jsx("div",{className:"grid gap-4",children:e.map((g,v)=>{const b=y(g.total_revenue),S=b.icon;return n.jsx(Gt,{children:n.jsxs(sr,{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-2xl font-bold text-gray-400",children:["#",v+1]}),n.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${b.color} flex items-center gap-1`,children:[n.jsx(S,{className:"h-3 w-3"}),b.tier]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold",children:[g.first_name," ",g.last_name]}),n.jsx("p",{className:"text-gray-600",children:g.email}),g.city&&n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(ru,{className:"h-3 w-3"}),g.city]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:p(g.total_revenue)}),n.jsx("div",{className:"text-sm text-gray-500",children:"Lifetime Value"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:g.invoice_count}),n.jsx("div",{className:"text-xs text-gray-500",children:"Invoices"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:g.session_count}),n.jsx("div",{className:"text-xs text-gray-500",children:"Sessions"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:p(g.average_invoice)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Avg Invoice"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:f(g.last_invoice_date)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Last Invoice"})]})]})]})},g.id)})})]}),n.jsxs(tc,{value:"segments",className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 mb-4",children:n.jsxs("select",{value:c,onChange:g=>d(g.target.value),className:"p-2 border rounded",children:[n.jsx("option",{value:"revenue",children:"By Revenue"}),n.jsx("option",{value:"frequency",children:"By Session Frequency"}),n.jsx("option",{value:"geography",children:"By Location"})]})}),n.jsx("div",{className:"grid gap-4",children:r.map((g,v)=>n.jsx(Gt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:g.segment}),n.jsxs("p",{className:"text-sm text-gray-600",children:[g.client_count," clients"]})]}),n.jsxs("div",{className:"text-right",children:[g.segment_revenue&&n.jsx("div",{className:"text-xl font-bold text-green-600",children:p(g.segment_revenue)}),g.total_sessions&&n.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[g.total_sessions," sessions"]}),g.avg_revenue_per_client&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Avg: ",p(g.avg_revenue_per_client),"/client"]})]})]})})},v))})]}),n.jsx(tc,{value:"analytics",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Y2,{className:"h-5 w-5"}),"Revenue Concentration"]})}),n.jsx(sr,{children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold",children:[e.length>0&&Math.round(e.slice(0,5).reduce((g,v)=>g+v.total_revenue,0)/e.reduce((g,v)=>g+v.total_revenue,0)*100),"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Top 5 clients revenue share"})]})})]}),n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5"}),"Client Retention"]})}),n.jsx(sr,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>g.session_count>1).length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Repeat clients"})]})})]}),n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Fs,{className:"h-5 w-5"}),"Average Value"]})}),n.jsx(sr,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:e.length>0&&p(e.reduce((g,v)=>g+v.total_revenue,0)/e.length)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Per top client"})]})})]})]})})]})]})})},NOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,d]=_.useState(!1),[u,h]=_.useState(!0);_.useEffect(()=>{p()},[]),_.useEffect(()=>{f()},[e,a,o]);const p=async()=>{try{t([{id:"1",title:"Mueller Family Session",description:"Outdoor family photoshoot in Stadtpark",clientName:"Sarah Mueller",clientId:"1",photoCount:45,coverImage:"https://images.pexels.com/photos/1668928/pexels-photo-1668928.jpeg",status:"active",createdAt:"2025-01-20T10:30:00Z",expiresAt:"2025-07-20T10:30:00Z"},{id:"2",title:"Schmidt Wedding",description:"Wedding ceremony and reception photos",clientName:"Michael Schmidt",clientId:"2",photoCount:120,coverImage:"https://images.pexels.com/photos/1024993/pexels-photo-1024993.jpeg",status:"shared",createdAt:"2025-01-18T09:15:00Z",expiresAt:"2025-12-18T09:15:00Z"},{id:"3",title:"Weber Newborn Session",description:"Newborn and family portraits",clientName:"Anna Weber",clientId:"3",photoCount:30,coverImage:"https://images.pexels.com/photos/3875080/pexels-photo-3875080.jpeg",status:"active",createdAt:"2025-01-15T16:45:00Z",expiresAt:"2025-06-15T16:45:00Z"},{id:"4",title:"Huber Corporate Headshots",description:"Professional business portraits",clientName:"Thomas Huber",clientId:"4",photoCount:15,coverImage:"https://images.pexels.com/photos/3760263/pexels-photo-3760263.jpeg",status:"archived",createdAt:"2025-01-10T14:20:00Z"}])}catch{}finally{h(!1)}},f=()=>{let v=e;a&&(v=v.filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.clientName.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(v=v.filter(b=>b.status===o)),s(v)},y=v=>{const S={active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},shared:{bg:"bg-blue-100",text:"text-blue-800",label:"Shared"},archived:{bg:"bg-gray-100",text:"text-gray-800",label:"Archived"}}[v];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.bg} ${S.text}`,children:S.label})},g=v=>{if(!v)return!1;const b=new Date(v),S=new Date,N=Math.ceil((b.getTime()-S.getTime())/(1e3*60*60*24));return N<=30&&N>0};return u?n.jsx(Ir,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Galleries Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage client photo galleries and sharing"})]}),n.jsxs("button",{onClick:()=>d(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),"Create Gallery"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search galleries...",value:a,onChange:v=>i(v.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"shared",children:"Shared"}),n.jsx("option",{value:"archived",children:"Archived"})]}),n.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Hh,{size:20,className:"mr-2"}),"More Filters"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>n.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow overflow-hidden",children:[n.jsx("div",{className:"aspect-w-16 aspect-h-9",children:n.jsx("img",{src:v.coverImage,alt:v.title,className:"w-full h-48 object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),n.jsx("p",{className:"text-sm text-gray-600",children:v.clientName})]}),y(v.status)]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:[v.photoCount," photos"]}),n.jsxs("span",{children:["Created ",new Date(v.createdAt).toLocaleDateString()]})]}),v.expiresAt&&n.jsxs("div",{className:`text-xs mb-4 flex items-center ${g(v.expiresAt)?"text-orange-600":"text-gray-500"}`,children:[n.jsx(an,{size:12,className:"mr-1"}),"Expires ",new Date(v.expiresAt).toLocaleDateString(),g(v.expiresAt)&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs",children:"Expiring Soon"})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View Gallery",children:n.jsx(ts,{size:16})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Edit Gallery",children:n.jsx(Ga,{size:16})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Upload Photos",children:n.jsx(Ri,{size:16})})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Download",children:n.jsx(js,{size:16})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Share",children:n.jsx(Mh,{size:16})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ns,{size:16})})]})]})]})]},v.id))}),r.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No galleries found matching your criteria."})})]})})};async function C6(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function SOe(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function _Oe(e){try{let t=null;if(e.coverImage)try{const o=new FileReader;t=await new Promise((c,d)=>{o.onload=()=>c(o.result),o.onerror=d,o.readAsDataURL(e.coverImage)})}catch{}const r=e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").substring(0,50),s={title:e.title,description:e.description||null,slug:r,coverImage:t,client_id:e.clientId,is_public:e.isPublic,is_password_protected:e.isPasswordProtected,password:e.password},a=await fetch("/api/galleries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const o=await a.text();throw new Error(`HTTP error! status: ${a.status}, message: ${o}`)}return await a.json()}catch(t){throw t}}async function AOe(e,t){try{const r=await fetch(`/api/galleries/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to update gallery")}return await r.json()}catch(r){throw r}}async function kOe(e){try{const t=await fetch(`/api/galleries/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}const r=await t.json()}catch(t){throw t}}async function COe(e,t){try{const r=new FormData;r.append("galleryId",e),t.forEach(a=>{r.append("images",a)});const s=await fetch(`/api/galleries/${e}/upload`,{method:"POST",body:r});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to upload images")}return await s.json()}catch(r){throw r}}async function iS(e){try{const t=await fetch(`/api/galleries/${e}/images`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery images")}return await t.json()}catch(t){throw t}}async function POe(e){try{const t=await fetch(`/api/galleries/${e}/visitors`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery visitors")}return await t.json()}catch(t){throw t}}async function TOe(e){try{const t=await fetch(`/api/galleries/${e}/access-logs`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery access logs")}return await t.json()}catch(t){throw t}}async function EOe(e){try{const t=await fetch(`/api/galleries/images/${e}`,{method:"DELETE"});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to delete image")}}catch(t){throw t}}async function OOe(e,t){try{const r=await fetch(`/api/galleries/${e}/cover-image`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to set cover image")}}catch(r){throw r}}async function LOe(e){try{const t=await fetch(`/api/galleries/${e}/stats`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery stats")}return await t.json()}catch(t){throw t}}async function IOe(e,t){try{const r=await fetch(`/api/galleries/${e}/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}return await r.json()}catch(r){throw r}}async function MOe(e,t){try{const r=await fetch(`/api/galleries/${e}/images`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to fetch gallery images")}return await r.json()}catch(r){throw r}}async function DOe(e,t){try{const r=await fetch(`/api/galleries/images/${e}/favorite`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to toggle favorite status")}}catch(r){throw r}}async function FOe(e){try{const t=await fetch("/api/galleries");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return e?r.slice(0,e):r}catch(t){throw t}}const Gq=({gallery:e,isEditing:t=!1})=>{const r=En(),[s,a]=_.useState("details"),[i,o]=_.useState({title:"",description:"",downloadEnabled:!0,status:"ACTIVE",expiresAt:""}),[l,c]=_.useState(""),[d,u]=_.useState(!1),[h,p]=_.useState(null),[f,y]=_.useState([]),[g,v]=_.useState([]),[b,S]=_.useState(!1),[N,w]=_.useState(null),[C,L]=_.useState(!1),[k,A]=_.useState(0),[P,B]=_.useState(null),[T,I]=_.useState(""),M=[{id:"details",label:"Details",icon:Hn,description:"Gallery title and description"},{id:"upload",label:"Upload",icon:Ri,description:"Add images to gallery"},{id:"settings",label:"Settings",icon:Da,description:"Access and sharing options"},{id:"preview",label:"Preview",icon:ts,description:"Review and publish"}];_.useEffect(()=>{e&&t&&(o({title:e.title||"",description:"",downloadEnabled:e.downloadEnabled,status:"ACTIVE",expiresAt:""}),u(!!e.passwordHash),I(e.coverImage||""),e.id&&D(e.id))},[e,t]);const D=async J=>{try{const{data:he,error:ee}=await Kr.from("gallery_images").select("*").eq("gallery_id",J).order("order_index");if(ee)throw ee;y(he||[])}catch{}},V=(J,he)=>{o(ee=>({...ee,[J]:he})),w(null)},z=J=>M.findIndex(he=>he.id===J),X=J=>{switch(J){case"details":return!!i.title.trim();case"upload":return g.length>0||f.length>0;case"settings":return!0;case"preview":return!0;default:return!1}},q=()=>{const J=z(s);J<M.length-1&&X(s)&&a(M[J+1].id)},Y=()=>{const J=z(s);J>0&&a(M[J-1].id)},ie=async J=>{try{L(!0);const he=J.name.split(".").pop(),ee=`galleries/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${he}`,{error:le}=await Kr.storage.from("images").upload(ee,J);if(le)throw le;const{data:{publicUrl:ke}}=Kr.storage.from("images").getPublicUrl(ee);I(ke),p(J)}catch{w("Failed to upload cover image. Please try again.")}finally{L(!1)}},W=async J=>{try{L(!0),A(0);const he=J.map(async(le,ke)=>{const Ne=le.name.split(".").pop(),G=`galleries/images/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${Ne}`,{error:Ae}=await Kr.storage.from("images").upload(G,le);if(Ae)throw Ae;const{data:{publicUrl:ze}}=Kr.storage.from("images").getPublicUrl(G);return A((ke+1)/J.length*100),{original_url:ze,display_url:ze,thumb_url:ze,filename:le.name,size_bytes:le.size,content_type:le.type,order_index:f.length+ke}}),ee=await Promise.all(he);y(le=>[...le,...ee]),v([])}catch{w("Failed to upload images. Please try again.")}finally{L(!1),A(0)}},F=async()=>{if(!i.title.trim()){w("Gallery title is required");return}try{S(!0),w(null);const{data:{user:J}}=await Kr.auth.getUser();if(!J)throw new Error("You must be logged in to create or edit galleries");const he={title:i.title,password:d?l:void 0,downloadEnabled:i.downloadEnabled,coverImage:h};let ee;if(t&&e?.id?(ee=(await AOe(e.id,he)).id,B("Gallery updated successfully!")):(ee=(await _Oe(he)).id,B("Gallery created successfully!")),g.length>0){await W(g);const le=f.map(Ne=>({...Ne,gallery_id:ee})),{error:ke}=await Kr.from("gallery_images").insert(le);if(ke)throw ke}setTimeout(()=>{r("/admin/galleries")},1500)}catch(J){let he="An error occurred while saving the gallery";J&&typeof J=="object"&&("message"in J?he=J.message:"error"in J?he=J.error:"details"in J&&(he=J.details)),w(he)}finally{S(!1)}},Z=()=>n.jsx("div",{className:"flex items-center justify-between mb-8",children:M.map((J,he)=>{const ee=J.id===s,le=X(J.id)&&z(s)>he,ke=J.icon;return n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${ee?"bg-purple-600 border-purple-600 text-white":le?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:le?n.jsx(ba,{size:20}):n.jsx(ke,{size:20})}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsx("div",{className:`text-sm font-medium ${ee?"text-purple-600":"text-gray-600"}`,children:J.label}),n.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:J.description})]})]}),he<M.length-1&&n.jsx("div",{className:`w-16 h-0.5 mx-4 ${le?"bg-green-600":"bg-gray-300"}`})]},J.id)})}),Q=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gallery Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:i.title,onChange:J=>V("title",J.target.value),className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter gallery title..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("textarea",{value:i.description||"",onChange:J=>V("description",J.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe this gallery..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cover Image ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),"        ",T?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:T,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>I(""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:n.jsx(rs,{size:16})})]}):n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Wa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:J=>{const he=J.target.files?.[0];he&&ie(he)}})]})]})})]})]}),ae=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Images"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[n.jsx(Ri,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium text-lg",children:"Choose images to upload"}),n.jsx("span",{className:"block text-gray-500 mt-1",children:"or drag and drop them here"}),n.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:J=>{const he=Array.from(J.target.files||[]);v(ee=>[...ee,...he])}})]})]}),C&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Uploading images..."}),n.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(k),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${k}%`}})})]}),g.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Selected Images (",g.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:g.map((J,he)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:URL.createObjectURL(J),alt:`Preview ${he}`,className:"w-full h-full object-cover"})}),n.jsx("button",{type:"button",onClick:()=>v(ee=>ee.filter((le,ke)=>ke!==he)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(rs,{size:12})}),n.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:J.name})]},he))})]}),f.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Uploaded Images (",f.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map((J,he)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:J.thumb_url||J.display_url,alt:J.filename,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:J.filename})]},he))})]})]})}),de=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Settings"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password Protection"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require a password to view this gallery"})]}),n.jsx("button",{type:"button",onClick:()=>u(!d),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${d?"bg-purple-600":"bg-gray-200"}`,children:n.jsx("span",{className:`${d?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]}),d&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Password"}),n.jsx("input",{type:"password",value:l,onChange:J=>c(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter password"})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Download Enabled"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Allow visitors to download images"})]}),"            ",n.jsx("button",{type:"button",onClick:()=>V("downloadEnabled",!i.downloadEnabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.downloadEnabled?"bg-purple-600":"bg-gray-200"}`,children:n.jsx("span",{className:`${i.downloadEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]})}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expiration Date ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("input",{type:"datetime-local",value:i.expiresAt||"",onChange:J=>V("expiresAt",J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for no expiration"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Status"}),n.jsxs("select",{value:i.status,onChange:J=>V("status",J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"ACTIVE",children:"Active"}),n.jsx("option",{value:"SHARED",children:"Shared"}),n.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]})}),ge=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Preview"}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"mb-6",children:["            ",T&&n.jsx("div",{className:"mb-4",children:n.jsx("img",{src:T,alt:"Cover",className:"w-full h-48 object-cover rounded-lg"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),i.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wa,{size:16,className:"mr-1"}),g.length+f.length," images"]}),d&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fg,{size:16,className:"mr-1"}),"Password protected"]}),"              ",n.jsxs("div",{className:"flex items-center",children:[n.jsx(js,{size:16,className:"mr-1"}),i.downloadEnabled?"Downloads enabled":"View only"]}),i.expiresAt&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{size:16,className:"mr-1"}),"Expires ",new Date(i.expiresAt).toLocaleDateString()]})]})]}),(g.length>0||f.length>0)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[f.slice(0,8).map((J,he)=>n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:J.thumb_url||J.display_url,alt:J.filename,className:"w-full h-full object-cover"})},he)),g.slice(0,8-f.length).map((J,he)=>n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:URL.createObjectURL(J),alt:`Preview ${he}`,className:"w-full h-full object-cover"})},`selected-${he}`)),g.length+f.length>8&&n.jsx("div",{className:"aspect-square flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsxs("span",{className:"text-gray-500",children:["+",g.length+f.length-8," more"]})})]})]})]})}),Se=()=>{switch(s){case"details":return Q();case"upload":return ae();case"settings":return de();case"preview":return ge();default:return Q()}};return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[N&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:N})]}),P&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:P}),Z(),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Se(),n.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:Y,disabled:z(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Wn,{size:16,className:"mr-2"}),"Previous"]}),n.jsx("div",{className:"flex space-x-3",children:z(s)===M.length-1?n.jsxs(n.Fragment,{children:["                ",n.jsxs("button",{type:"button",onClick:F,disabled:b||!X(s),className:"flex items-center px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:[b?n.jsx(zr,{className:"animate-spin mr-2 h-4 w-4"}):n.jsx(pl,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),n.jsxs("button",{type:"button",onClick:F,disabled:b||!X(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[b?n.jsx(zr,{className:"animate-spin mr-2 h-4 w-4"}):n.jsx(Mh,{className:"mr-2 h-4 w-4"}),"Share Gallery"]})]}):n.jsxs("button",{type:"button",onClick:q,disabled:!X(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:["Next",n.jsx(Tm,{size:16,className:"ml-2"})]})})]})]})]})},ROe=()=>n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs($t,{to:"/admin/galleries",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(Wn,{size:16,className:"mr-1"})," Back to galleries"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Gallery"}),n.jsx("p",{className:"text-gray-600",children:"Create a client photo gallery with our advanced editor"})]})}),n.jsx(Gq,{})]})}),$Oe=()=>{const{id:e}=Uo(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const d=await C6(c);r(d)}catch{o("Failed to load gallery. Please try again.")}finally{a(!1)}};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs($t,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Wn,{size:16,className:"mr-1"}),n.jsx("span",{children:"Back to Galleries"})]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Edit Gallery"}),n.jsx("p",{className:"text-gray-600",children:"Update gallery settings"})]}),"        ",n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):i?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:i})]}):t?n.jsx(Gq,{gallery:t,isEditing:!0}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500",children:"Gallery not found."}),n.jsx($t,{to:"/admin/galleries",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:"Return to galleries"})]})})]})})};let h1;const BOe=new Uint8Array(16);function zOe(){if(!h1&&(h1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h1(BOe)}const za=[];for(let e=0;e<256;++e)za.push((e+256).toString(16).slice(1));function UOe(e,t=0){return za[e[t+0]]+za[e[t+1]]+za[e[t+2]]+za[e[t+3]]+"-"+za[e[t+4]]+za[e[t+5]]+"-"+za[e[t+6]]+za[e[t+7]]+"-"+za[e[t+8]]+za[e[t+9]]+"-"+za[e[t+10]]+za[e[t+11]]+za[e[t+12]]+za[e[t+13]]+za[e[t+14]]+za[e[t+15]]}const VOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),sI={randomUUID:VOe};function qOe(e,t,r){if(sI.randomUUID&&!t&&!e)return sI.randomUUID();e=e||{};const s=e.random||(e.rng||zOe)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,UOe(s)}const WOe=({galleryId:e,onUploadComplete:t})=>{const[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(!1),[c,d]=_.useState(0),[u,h]=_.useState(null),[p,f]=_.useState(""),[y,g]=_.useState(!1),v=_.useRef(null),[b,S]=_.useState({}),N=T=>{if(!T.target.files||T.target.files.length===0)return;const I=Array.from(T.target.files);A(I)},w=T=>{T.preventDefault(),T.stopPropagation()},C=T=>{T.preventDefault(),T.stopPropagation()},L=T=>{T.preventDefault(),T.stopPropagation()},k=T=>{if(T.preventDefault(),T.stopPropagation(),!T.dataTransfer.files||T.dataTransfer.files.length===0)return;const M=Array.from(T.dataTransfer.files).filter(D=>D.type.startsWith("image/"));if(M.length===0){h("Please upload image files only.");return}A(M)},A=T=>{const I=T.map(M=>{const D=qOe();return{file:M,id:D}});s(M=>[...M,...I.map(D=>D.file)]),I.forEach(({file:M,id:D})=>{const V=new FileReader;V.onloadend=()=>{i(z=>[...z,V.result]),S(z=>({...z,[D]:!1}))},V.readAsDataURL(M)})},P=T=>{a[T]&&a[T].startsWith("blob:")&&URL.revokeObjectURL(a[T]),s(I=>I.filter((M,D)=>D!==T)),i(I=>I.filter((M,D)=>D!==T))},B=async()=>{if(r.length===0){h("Please select at least one image to upload.");return}if(!e){h("Gallery ID is missing. Please save the gallery first.");return}if(!p.trim()){h("Please enter a folder name for organizing your images.");return}try{l(!0),h(null);const T=setInterval(()=>{d(I=>I>=95?(clearInterval(T),I):I+5)},500);await COe(e,r,p.trim()),clearInterval(T),d(100),a.forEach(I=>{I.startsWith("blob:")&&URL.revokeObjectURL(I)}),s([]),i([]),f(""),g(!1),t(),setTimeout(()=>{d(0),l(!1)},1e3)}catch(T){h(T instanceof Error?T.message:"Failed to upload images. Please try again."),l(!1),d(0)}};return n.jsxs("div",{className:"space-y-6",children:[u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:u})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-purple-500 transition-colors",onDragOver:w,onDragEnter:C,onDragLeave:L,onDrop:k,onClick:()=>v.current?.click(),children:[n.jsx("input",{type:"file",ref:v,className:"hidden",accept:"image/*",multiple:!0,onChange:N,disabled:o}),n.jsx(Ri,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Upload Images"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Drag and drop image files here, or click to browse"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Supported formats: JPG, PNG, GIF, WEBP"})]}),a.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Selected Images (",a.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map((T,I)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:T,alt:`Preview ${I}`,className:"w-full h-full object-cover"})}),n.jsx("button",{type:"button",onClick:()=>P(I),disabled:o,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(rs,{size:14})}),n.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:r[I]?.name||"Image"})]},I))}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700",children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[c,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${c}%`}})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:B,disabled:o||a.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ri,{className:"-ml-1 mr-2 h-5 w-5"}),"Upload ",a.length," ",a.length===1?"Image":"Images"]})})})]})]})},Kq=({images:e,galleryId:t,isAdmin:r=!1,isPublic:s=!1,authToken:a="",downloadEnabled:i=!0,onImageDeleted:o,onSetCover:l})=>{const[c,d]=_.useState(null),[u,h]=_.useState(!1),[p,f]=_.useState(!1),[y,g]=_.useState(0);_.useEffect(()=>{},[e]),_.useEffect(()=>{const A=P=>{u&&(P.key==="Escape"?b():P.key==="ArrowLeft"?S("prev"):P.key==="ArrowRight"&&S("next"))};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A)}},[u]);const v=(A,P)=>{d(A),g(P),h(!0)},b=()=>{h(!1),d(null)},S=A=>{if(e.length<=1)return;let P;A==="next"?P=(y+1)%e.length:P=(y-1+e.length)%e.length,g(P),d(e[P])},N=async(A,P)=>{if(P&&P.stopPropagation(),!(!s||!a))try{f(!0),await DOe(A.id,a),A.isFavorite=!A.isFavorite,f(!1)}catch{f(!1)}},w=async(A,P)=>{if(P.stopPropagation(),!!i)try{const B=await fetch(A.displayUrl,{headers:a?{Authorization:`Bearer ${a}`}:{}});if(!B.ok)throw new Error("Failed to fetch image");const T=await B.blob(),I=window.URL.createObjectURL(T),M=document.createElement("a");M.href=I,M.download=A.filename,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(I)}catch{const T=document.createElement("a");T.href=A.displayUrl,T.download=A.filename,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T)}},C=async(A,P)=>{if(P.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{f(!0),await EOe(A.id),f(!1),o&&o()}catch{f(!1)}},L=async(A,P)=>{if(P.stopPropagation(),!!r)try{f(!0),await OOe(t,A.id),f(!1),l&&l()}catch{f(!1)}},k=async(A,P)=>{if(P.stopPropagation(),!!r)try{if(f(!0),!(await fetch(`undefined/rest/v1/gallery_images?id=eq.${A.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined",apikey:void 0,Prefer:"return=minimal"},body:JSON.stringify({shared_to_togninja:!0})})).ok)throw new Error("Failed to update image status");A.sharedToTogninja=!0,f(!1),alert("Image shared to JpegWriter successfully!")}catch{f(!1),alert("Failed to share image to JpegWriter. Please try again.")}};return n.jsxs("div",{children:[e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Wa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Yet"}),n.jsx("p",{className:"text-gray-500",children:r?"Upload images to get started.":"This gallery is empty. Check back later."})]}):n.jsx("div",{className:"gallery-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((A,P)=>n.jsxs("div",{className:"gallery-item relative group cursor-pointer",onClick:()=>v(A,P),children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:A.thumbUrl,alt:A.filename,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsxs("div",{className:"flex space-x-2",children:[s&&n.jsx("button",{onClick:B=>N(A,B),className:`p-2 rounded-full ${A.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:n.jsx(Tn,{size:16,className:A.isFavorite?"fill-current":""})}),i&&n.jsx("button",{onClick:B=>w(A,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:n.jsx(js,{size:16})}),r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:B=>L(A,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:n.jsx(Wa,{size:16})}),n.jsx("button",{onClick:B=>k(A,B),className:`p-2 rounded-full bg-white text-gray-800 ${A.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:A.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||A.sharedToTogninja,children:n.jsx(Mh,{size:16})}),n.jsx("button",{onClick:B=>C(A,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:n.jsx(Ns,{size:16})})]})]})}),s&&A.isFavorite&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Tn,{size:16,className:"text-red-500 fill-current"})}),r&&A.sharedToTogninja&&n.jsx("div",{className:"absolute top-2 left-2",children:n.jsx(Mh,{size:16,className:"text-green-500"})}),r&&n.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("p",{className:"text-xs text-white bg-black bg-opacity-50 p-1 rounded truncate",children:A.filename})})]},A.id))}),u&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",onClick:b,children:n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:A=>A.stopPropagation(),children:[n.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2",onClick:b,title:"Close (ESC)",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("button",{className:"absolute top-4 left-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2 flex items-center space-x-2",onClick:b,title:"Back to Gallery",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n.jsx("span",{className:"text-sm hidden sm:block",children:"Back to Gallery"})]}),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:A=>{A.stopPropagation(),S("prev")},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:A=>{A.stopPropagation(),S("next")},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsx("img",{src:c.displayUrl,alt:c.filename,className:"max-w-[95vw] max-h-[90vh] mx-auto object-contain"}),n.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[s&&n.jsx("button",{onClick:A=>{A.stopPropagation(),N(c)},className:`p-2 rounded-full ${c.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:n.jsx(Tn,{size:20,className:c.isFavorite?"fill-current":""})}),i&&n.jsx("button",{onClick:A=>w(c,A),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:n.jsx(js,{size:20})}),r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:A=>L(c,A),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:n.jsx(Wa,{size:20})}),n.jsx("button",{onClick:A=>k(c,A),className:`p-2 rounded-full bg-white text-gray-800 ${c.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:c.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||c.sharedToTogninja,children:n.jsx(Mh,{size:20})}),n.jsx("button",{onClick:A=>C(c,A),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:n.jsx(Ns,{size:20})})]})]}),n.jsx("div",{className:"absolute bottom-16 left-0 right-0 text-center",children:n.jsx("p",{className:"text-sm text-white bg-black bg-opacity-50 inline-block px-2 py-1 rounded",children:c.filename})})]})})]})},HOe=({stats:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Gn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Visitors"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.uniqueVisitors})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ts,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Views"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalViews})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(Tn,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Favorites"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalFavorites})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(js,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalDownloads})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Over Time"}),e.dailyStats.length>0?n.jsx("div",{className:"h-64",children:n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"Chart would be displayed here"})})}):n.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No activity data available yet"})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Popular Images"}),e.topImages.length>0?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.topImages.map((t,r)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:t.thumbUrl,alt:`Popular image ${r+1}`,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(ts,{size:12,className:"mr-1"})," ",t.views]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Tn,{size:12,className:"mr-1"})," ",t.favorites]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(js,{size:12,className:"mr-1"})," ",t.downloads]})]})]},t.imageId))}):n.jsx("div",{className:"h-40 flex items-center justify-center bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No image popularity data available yet"})})]})]}),GOe=()=>{const{id:e}=Uo(),t=En(),[r,s]=_.useState(null),[a,i]=_.useState([]),[o,l]=_.useState(null),[c,d]=_.useState([]),[u,h]=_.useState([]),[p,f]=_.useState("images"),[y,g]=_.useState(!0),[v,b]=_.useState(null),S=_.useRef(null),N=_.useRef(null),w=_.useRef(null),C=_.useRef(null);_.useEffect(()=>{e&&L(e)},[e]);const L=async M=>{try{g(!0);const D=await C6(M);s(D);const V=await iS(M);i(V);try{const z=await LOe(M);l(z)}catch{}try{const z=await POe(M);d(z)}catch{}try{const z=await TOe(M);h(z)}catch{}}catch{b("Failed to load gallery. Please try again.")}finally{g(!1)}},k=M=>{f(M),M==="images"&&S.current?S.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="upload"&&N.current?N.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="stats"&&w.current?w.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="visitors"&&C.current&&C.current.scrollIntoView({behavior:"smooth",block:"nearest"})},A=()=>{e&&iS(e).then(M=>{i(M),f("images")}).catch(M=>{})},P=()=>{e&&iS(e).then(M=>{i(M)}).catch(M=>{})},B=()=>{e&&C6(e).then(M=>{s(M)}).catch(M=>{})},T=async()=>{if(r&&window.confirm(`Are you sure you want to delete the gallery "${r.title}"? This action cannot be undone and will delete all images.`))try{g(!0),await kOe(r.id),t("/admin/galleries")}catch{b("Failed to delete gallery. Please try again."),g(!1)}},I=()=>{if(!r)return;const M=`${window.location.origin}/gallery/${r.slug}`;navigator.clipboard?navigator.clipboard.writeText(M).then(()=>{alert("Gallery link copied to clipboard!")}).catch(D=>{prompt("Copy this link:",M)}):prompt("Copy this link:",M)};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs($t,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(Wn,{size:16,className:"mr-1"}),n.jsx("span",{children:"Back to Galleries"})]}),y?n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Loading gallery..."}):r?n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:r.title}),n.jsxs("p",{className:"text-gray-600",children:[a.length," ",a.length===1?"image":"images"," • Created ",new Date(r.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-2",children:[n.jsxs("button",{onClick:I,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(Mh,{size:16,className:"mr-2"}),"Share"]}),n.jsxs($t,{to:`/admin/galleries/${r.id}/edit`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(Ga,{size:16,className:"mr-2"}),"Edit"]}),n.jsxs("button",{onClick:T,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[n.jsx(Ns,{size:16,className:"mr-2"}),"Delete"]})]})]}):n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Gallery not found"})]}),v&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:v})]}),y?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{ref:S,onClick:()=>k("images"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="images"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Images (",a.length,")"]}),n.jsxs("button",{ref:N,onClick:()=>k("upload"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="upload"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ri,{size:16,className:"inline mr-1"}),"Upload Images"]}),n.jsxs("button",{ref:w,onClick:()=>k("stats"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="stats"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(hR,{size:16,className:"inline mr-1"}),"Analytics"]}),n.jsxs("button",{ref:C,onClick:()=>k("visitors"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="visitors"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Gn,{size:16,className:"inline mr-1"}),"Visitors (",c.length,")"]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[p==="images"&&n.jsx(Kq,{images:a,galleryId:r.id,isAdmin:!0,onImageDeleted:P,onSetCover:B}),p==="upload"&&n.jsx(WOe,{galleryId:r.id,onUploadComplete:A}),p==="stats"&&(o?n.jsx(HOe,{stats:o}):n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]})),p==="visitors"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Visitors"}),c.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Access"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Access"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(M=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.firstName&&M.lastName?`${M.firstName} ${M.lastName}`:"Not provided"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdAt).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdAt).toLocaleString()})]},M.id))})]})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Visitors Yet"}),n.jsx("p",{className:"text-gray-500",children:"This gallery hasn't been viewed by any visitors yet."})]}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-8 mb-4",children:"Recent Access Logs"}),u&&u.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Time"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Browser"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(M=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.firstName&&M.lastName?`${M.firstName} ${M.lastName}`:"Not provided"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.accessedAt).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-xs",children:M.userAgent?M.userAgent.split(" ")[0]:"Unknown"})]},M.id))})]})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Os,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Access Logs"}),n.jsx("p",{className:"text-gray-500",children:"No access logs have been recorded for this gallery yet."})]})]})]})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been deleted."}),n.jsx("div",{className:"mt-6",children:n.jsx($t,{to:"/admin/galleries",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to galleries"})})]})]})})},Yq=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),aN=_.createContext({}),iN=_.createContext(null),oN=typeof document<"u",g3=oN?_.useLayoutEffect:_.useEffect,Zq=_.createContext({strict:!1}),x3=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),KOe="framerAppearId",Xq="data-"+x3(KOe);function YOe(e,t,r,s){const{visualElement:a}=_.useContext(aN),i=_.useContext(Zq),o=_.useContext(iN),l=_.useContext(Yq).reducedMotion,c=_.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;_.useInsertionEffect(()=>{d&&d.update(r,o)});const u=_.useRef(!!(r[Xq]&&!window.HandoffComplete));return g3(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),_.useEffect(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}function tg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZOe(e,t,r){return _.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):tg(r)&&(r.current=s))},[t])}function vv(e){return typeof e=="string"||Array.isArray(e)}function lN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const y3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v3=["initial",...y3];function cN(e){return lN(e.animate)||v3.some(t=>vv(e[t]))}function Qq(e){return!!(cN(e)||e.variants)}function XOe(e,t){if(cN(e)){const{initial:r,animate:s}=e;return{initial:r===!1||vv(r)?r:void 0,animate:vv(s)?s:void 0}}return e.inherit!==!1?t:{}}function QOe(e){const{initial:t,animate:r}=XOe(e,_.useContext(aN));return _.useMemo(()=>({initial:t,animate:r}),[aI(t),aI(r)])}function aI(e){return Array.isArray(e)?e.join(" "):e}const iI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bv={};for(const e in iI)bv[e]={isEnabled:t=>iI[e].some(r=>!!t[r])};function JOe(e){for(const t in e)bv[t]={...bv[t],...e[t]}}const b3=_.createContext({}),Jq=_.createContext({}),e8e=Symbol.for("motionComponentSymbol");function t8e({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){e&&JOe(e);function i(l,c){let d;const u={..._.useContext(Yq),...l,layoutId:r8e(l)},{isStatic:h}=u,p=QOe(l),f=s(l,h);if(!h&&oN){p.visualElement=YOe(a,f,u,t);const y=_.useContext(Jq),g=_.useContext(Zq).strict;p.visualElement&&(d=p.visualElement.loadFeatures(u,g,e,y))}return _.createElement(aN.Provider,{value:p},d&&p.visualElement?_.createElement(d,{visualElement:p.visualElement,...u}):null,r(a,l,ZOe(f,p.visualElement,c),f,h,p.visualElement))}const o=_.forwardRef(i);return o[e8e]=a,o}function r8e({layoutId:e}){const t=_.useContext(b3).id;return t&&e!==void 0?t+"-"+e:e}function n8e(e){function t(s,a={}){return t8e(e(s,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(s,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const s8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w3(e){return typeof e!="string"||e.includes("-")?!1:!!(s8e.indexOf(e)>-1||/[A-Z]/.test(e))}const P2={};function a8e(e){Object.assign(P2,e)}const Yv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tp=new Set(Yv);function eW(e,{layout:t,layoutId:r}){return tp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!P2[e]||e==="opacity")}const ro=e=>!!(e&&e.getVelocity),i8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o8e=Yv.length;function l8e(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},s,a){let i="";for(let o=0;o<o8e;o++){const l=Yv[o];if(e[l]!==void 0){const c=i8e[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,s?"":i):r&&s&&(i="none"),i}const tW=e=>t=>typeof t=="string"&&t.startsWith(e),rW=tW("--"),P6=tW("var(--"),c8e=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,d8e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qh=(e,t,r)=>Math.min(Math.max(r,e),t),rp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},by={...rp,transform:e=>Qh(0,1,e)},f1={...rp,default:1},wy=e=>Math.round(e*1e5)/1e5,dN=/(-)?([\d]*\.?[\d])+/g,nW=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,u8e=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zv(e){return typeof e=="string"}const Xv=e=>({test:t=>Zv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uh=Xv("deg"),Jc=Xv("%"),nr=Xv("px"),h8e=Xv("vh"),f8e=Xv("vw"),oI={...Jc,parse:e=>Jc.parse(e)/100,transform:e=>Jc.transform(e*100)},lI={...rp,transform:Math.round},sW={borderWidth:nr,borderTopWidth:nr,borderRightWidth:nr,borderBottomWidth:nr,borderLeftWidth:nr,borderRadius:nr,radius:nr,borderTopLeftRadius:nr,borderTopRightRadius:nr,borderBottomRightRadius:nr,borderBottomLeftRadius:nr,width:nr,maxWidth:nr,height:nr,maxHeight:nr,size:nr,top:nr,right:nr,bottom:nr,left:nr,padding:nr,paddingTop:nr,paddingRight:nr,paddingBottom:nr,paddingLeft:nr,margin:nr,marginTop:nr,marginRight:nr,marginBottom:nr,marginLeft:nr,rotate:uh,rotateX:uh,rotateY:uh,rotateZ:uh,scale:f1,scaleX:f1,scaleY:f1,scaleZ:f1,skew:uh,skewX:uh,skewY:uh,distance:nr,translateX:nr,translateY:nr,translateZ:nr,x:nr,y:nr,z:nr,perspective:nr,transformPerspective:nr,opacity:by,originX:oI,originY:oI,originZ:nr,zIndex:lI,fillOpacity:by,strokeOpacity:by,numOctaves:lI};function j3(e,t,r,s){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,d=!1,u=!0;for(const h in t){const p=t[h];if(rW(h)){i[h]=p;continue}const f=sW[h],y=d8e(p,f);if(tp.has(h)){if(c=!0,o[h]=y,!u)continue;p!==(f.default||0)&&(u=!1)}else h.startsWith("origin")?(d=!0,l[h]=y):a[h]=y}if(t.transform||(c||s?a.transform=l8e(e.transform,r,u,s):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;a.transformOrigin=`${h} ${p} ${f}`}}const N3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aW(e,t,r){for(const s in t)!ro(t[s])&&!eW(s,r)&&(e[s]=t[s])}function m8e({transformTemplate:e},t,r){return _.useMemo(()=>{const s=N3();return j3(s,t,{enableHardwareAcceleration:!r},e),Object.assign({},s.vars,s.style)},[t])}function p8e(e,t,r){const s=e.style||{},a={};return aW(a,s,e),Object.assign(a,m8e(e,t,r)),e.transformValues?e.transformValues(a):a}function g8e(e,t,r){const s={},a=p8e(e,t,r);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const x8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function T2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||x8e.has(e)}let iW=e=>!T2(e);function y8e(e){e&&(iW=t=>t.startsWith("on")?!T2(t):e(t))}try{y8e(require("@emotion/is-prop-valid").default)}catch{}function v8e(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(iW(a)||r===!0&&T2(a)||!t&&!T2(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function cI(e,t,r){return typeof e=="string"?e:nr.transform(t+r*e)}function b8e(e,t,r){const s=cI(t,e.x,e.width),a=cI(r,e.y,e.height);return`${s} ${a}`}const w8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},j8e={offset:"strokeDashoffset",array:"strokeDasharray"};function N8e(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?w8e:j8e;e[i.offset]=nr.transform(-s);const o=nr.transform(t),l=nr.transform(r);e[i.array]=`${o} ${l}`}function S3(e,{attrX:t,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h,p){if(j3(e,d,u,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:y,dimensions:g}=e;f.transform&&(g&&(y.transform=f.transform),delete f.transform),g&&(a!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=b8e(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&N8e(f,o,l,c,!1)}const oW=()=>({...N3(),attrs:{}}),_3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S8e(e,t,r,s){const a=_.useMemo(()=>{const i=oW();return S3(i,t,{enableHardwareAcceleration:!1},_3(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};aW(i,e.style,e),a.style={...i,...a.style}}return a}function _8e(e=!1){return(r,s,a,{latestValues:i},o)=>{const c=(w3(r)?S8e:g8e)(s,i,o,r),u={...v8e(s,typeof r=="string",e),...c,ref:a},{children:h}=s,p=_.useMemo(()=>ro(h)?h.get():h,[h]);return _.createElement(r,{...u,children:p})}}function lW(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}const cW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dW(e,t,r,s){lW(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(cW.has(a)?a:x3(a),t.attrs[a])}function A3(e,t){const{style:r}=e,s={};for(const a in r)(ro(r[a])||t.style&&ro(t.style[a])||eW(a,e))&&(s[a]=r[a]);return s}function uW(e,t){const r=A3(e,t);for(const s in e)if(ro(e[s])||ro(t[s])){const a=Yv.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function k3(e,t,r,s={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,a)),t}function hW(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const E2=e=>Array.isArray(e),A8e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),k8e=e=>E2(e)?e[e.length-1]||0:e;function U1(e){const t=ro(e)?e.get():e;return A8e(t)?t.toValue():t}function C8e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,a,i){const o={latestValues:P8e(s,a,i,e),renderState:t()};return r&&(o.mount=l=>r(s,l,o)),o}const fW=e=>(t,r)=>{const s=_.useContext(aN),a=_.useContext(iN),i=()=>C8e(e,t,s,a);return r?i():hW(i)};function P8e(e,t,r,s){const a={},i=s(e,{});for(const p in i)a[p]=U1(i[p]);let{initial:o,animate:l}=e;const c=cN(e),d=Qq(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;return h&&typeof h!="boolean"&&!lN(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const y=k3(e,f);if(!y)return;const{transitionEnd:g,transition:v,...b}=y;for(const S in b){let N=b[S];if(Array.isArray(N)){const w=u?N.length-1:0;N=N[w]}N!==null&&(a[S]=N)}for(const S in g)a[S]=g[S]}),a}const Us=e=>e;class dI{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function T8e(e){let t=new dI,r=new dI,s=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,d=!1,u=!1)=>{const h=u&&a,p=h?t:r;return d&&o.add(c),p.add(c)&&h&&a&&(s=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),s=t.order.length,s)for(let d=0;d<s;d++){const u=t.order[d];u(c),o.has(u)&&(l.schedule(u),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const m1=["prepare","read","update","preRender","render","postRender"],E8e=40;function O8e(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=m1.reduce((h,p)=>(h[p]=T8e(()=>r=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(h-a.timestamp,E8e),1),a.timestamp=h,a.isProcessing=!0,m1.forEach(o),a.isProcessing=!1,r&&t&&(s=!1,e(l))},c=()=>{r=!0,s=!0,a.isProcessing||e(l)};return{schedule:m1.reduce((h,p)=>{const f=i[p];return h[p]=(y,g=!1,v=!1)=>(r||c(),f.schedule(y,g,v)),h},{}),cancel:h=>m1.forEach(p=>i[p].cancel(h)),state:a,steps:i}}const{schedule:qn,cancel:du,state:ci,steps:oS}=O8e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),L8e={useVisualState:fW({scrapeMotionValuesFromProps:uW,createRenderState:oW,onMount:(e,t,{renderState:r,latestValues:s})=>{qn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),qn.render(()=>{S3(r,s,{enableHardwareAcceleration:!1},_3(t.tagName),e.transformTemplate),dW(t,r)})}})},I8e={useVisualState:fW({scrapeMotionValuesFromProps:A3,createRenderState:N3})};function M8e(e,{forwardMotionProps:t=!1},r,s){return{...w3(e)?L8e:I8e,preloadedFeatures:r,useRender:_8e(t),createVisualElement:s,Component:e}}function Yd(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}const mW=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function uN(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const D8e=e=>t=>mW(t)&&e(t,uN(t));function Jd(e,t,r,s){return Yd(e,t,D8e(r),s)}const F8e=(e,t)=>r=>t(e(r)),zh=(...e)=>e.reduce(F8e);function pW(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const uI=pW("dragHorizontal"),hI=pW("dragVertical");function gW(e){let t=!1;if(e==="y")t=hI();else if(e==="x")t=uI();else{const r=uI(),s=hI();r&&s?t=()=>{r(),s()}:(r&&r(),s&&s())}return t}function xW(){const e=gW(!0);return e?(e(),!1):!0}class lf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fI(e,t){const r="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||xW())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&qn.update(()=>l[s](i,o))};return Jd(e.current,r,a,{passive:!e.getProps()[s]})}class R8e extends lf{mount(){this.unmount=zh(fI(this.node,!0),fI(this.node,!1))}unmount(){}}class $8e extends lf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zh(Yd(this.node.current,"focus",()=>this.onFocus()),Yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yW=(e,t)=>t?e===t?!0:yW(e,t.parentElement):!1;function lS(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,uN(r))}class B8e extends lf{constructor(){super(...arguments),this.removeStartListeners=Us,this.removeEndListeners=Us,this.removeAccessibleListeners=Us,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=Jd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps();qn.update(()=>{!h&&!yW(this.node.current,l.target)?u&&u(l,c):d&&d(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=Jd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=zh(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||lS("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&qn.update(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=Yd(this.node.current,"keyup",o),lS("down",(l,c)=>{this.startPress(l,c)})},r=Yd(this.node.current,"keydown",t),s=()=>{this.isPressing&&lS("cancel",(i,o)=>this.cancelPress(i,o))},a=Yd(this.node.current,"blur",s);this.removeAccessibleListeners=zh(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&qn.update(()=>s(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!xW()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&qn.update(()=>s(t,r))}mount(){const t=this.node.getProps(),r=Jd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Yd(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zh(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const T6=new WeakMap,cS=new WeakMap,z8e=e=>{const t=T6.get(e.target);t&&t(e)},U8e=e=>{e.forEach(z8e)};function V8e({root:e,...t}){const r=e||document;cS.has(r)||cS.set(r,{});const s=cS.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(U8e,{root:e,...t})),s[a]}function q8e(e,t,r){const s=V8e(t);return T6.set(e,r),s.observe(e),()=>{T6.delete(e),s.unobserve(e)}}const W8e={some:0,all:1};class H8e extends lf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:W8e[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=d?u:h;p&&p(c)};return q8e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(G8e(t,r))&&this.startObserver()}unmount(){}}function G8e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const K8e={inView:{Feature:H8e},tap:{Feature:B8e},focus:{Feature:$8e},hover:{Feature:R8e}};function vW(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function Y8e(e){const t={};return e.values.forEach((r,s)=>t[s]=r.get()),t}function Z8e(e){const t={};return e.values.forEach((r,s)=>t[s]=r.getVelocity()),t}function hN(e,t,r){const s=e.getProps();return k3(s,t,r!==void 0?r:s.custom,Y8e(e),Z8e(e))}let O2=Us;const _m=e=>e*1e3,eu=e=>e/1e3,X8e={current:!1},bW=e=>Array.isArray(e)&&typeof e[0]=="number";function wW(e){return!!(!e||typeof e=="string"&&jW[e]||bW(e)||Array.isArray(e)&&e.every(wW))}const ny=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,jW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ny([0,.65,.55,1]),circOut:ny([.55,0,1,.45]),backIn:ny([.31,.01,.66,-.59]),backOut:ny([.33,1.53,.69,.99])};function NW(e){if(e)return bW(e)?ny(e):Array.isArray(e)?e.map(NW):jW[e]}function Q8e(e,t,r,{delay:s=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=NW(l);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:s,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function J8e(e,{repeat:t,repeatType:r="loop"}){const s=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[s]}const SW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,eLe=1e-7,tLe=12;function rLe(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=SW(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>eLe&&++l<tLe);return o}function Qv(e,t,r,s){if(e===t&&r===s)return Us;const a=i=>rLe(i,0,1,e,r);return i=>i===0||i===1?i:SW(a(i),t,s)}const nLe=Qv(.42,0,1,1),sLe=Qv(0,0,.58,1),_W=Qv(.42,0,.58,1),aLe=e=>Array.isArray(e)&&typeof e[0]!="number",AW=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,kW=e=>t=>1-e(1-t),C3=e=>1-Math.sin(Math.acos(e)),CW=kW(C3),iLe=AW(C3),PW=Qv(.33,1.53,.69,.99),P3=kW(PW),oLe=AW(P3),lLe=e=>(e*=2)<1?.5*P3(e):.5*(2-Math.pow(2,-10*(e-1))),mI={linear:Us,easeIn:nLe,easeInOut:_W,easeOut:sLe,circIn:C3,circInOut:iLe,circOut:CW,backIn:P3,backInOut:oLe,backOut:PW,anticipate:lLe},pI=e=>{if(Array.isArray(e)){O2(e.length===4);const[t,r,s,a]=e;return Qv(t,r,s,a)}else if(typeof e=="string")return O2(mI[e]!==void 0),mI[e];return e},T3=(e,t)=>r=>!!(Zv(r)&&u8e.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),TW=(e,t,r)=>s=>{if(!Zv(s))return s;const[a,i,o,l]=s.match(dN);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cLe=e=>Qh(0,255,e),dS={...rp,transform:e=>Math.round(cLe(e))},lm={test:T3("rgb","red"),parse:TW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+dS.transform(e)+", "+dS.transform(t)+", "+dS.transform(r)+", "+wy(by.transform(s))+")"};function dLe(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const E6={test:T3("#"),parse:dLe,transform:lm.transform},rg={test:T3("hsl","hue"),parse:TW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+Jc.transform(wy(t))+", "+Jc.transform(wy(r))+", "+wy(by.transform(s))+")"},Pi={test:e=>lm.test(e)||E6.test(e)||rg.test(e),parse:e=>lm.test(e)?lm.parse(e):rg.test(e)?rg.parse(e):E6.parse(e),transform:e=>Zv(e)?e:e.hasOwnProperty("red")?lm.transform(e):rg.transform(e)},bs=(e,t,r)=>-r*e+r*t+e;function uS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uLe({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=uS(c,l,e+1/3),i=uS(c,l,e),o=uS(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const hS=(e,t,r)=>{const s=e*e;return Math.sqrt(Math.max(0,r*(t*t-s)+s))},hLe=[E6,lm,rg],fLe=e=>hLe.find(t=>t.test(e));function gI(e){const t=fLe(e);let r=t.parse(e);return t===rg&&(r=uLe(r)),r}const EW=(e,t)=>{const r=gI(e),s=gI(t),a={...r};return i=>(a.red=hS(r.red,s.red,i),a.green=hS(r.green,s.green,i),a.blue=hS(r.blue,s.blue,i),a.alpha=bs(r.alpha,s.alpha,i),lm.transform(a))};function mLe(e){var t,r;return isNaN(e)&&Zv(e)&&(((t=e.match(dN))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(nW))===null||r===void 0?void 0:r.length)||0)>0}const OW={regex:c8e,countKey:"Vars",token:"${v}",parse:Us},LW={regex:nW,countKey:"Colors",token:"${c}",parse:Pi.parse},IW={regex:dN,countKey:"Numbers",token:"${n}",parse:rp.parse};function fS(e,{regex:t,countKey:r,token:s,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...i.map(a)))}function L2(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&fS(r,OW),fS(r,LW),fS(r,IW),r}function MW(e){return L2(e).values}function DW(e){const{values:t,numColors:r,numVars:s,tokenised:a}=L2(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<s?l=l.replace(OW.token,o[c]):c<s+r?l=l.replace(LW.token,Pi.transform(o[c])):l=l.replace(IW.token,wy(o[c]));return l}}const pLe=e=>typeof e=="number"?0:e;function gLe(e){const t=MW(e);return DW(e)(t.map(pLe))}const Jh={test:mLe,parse:MW,createTransformer:DW,getAnimatableNone:gLe},FW=(e,t)=>r=>`${r>0?t:e}`;function RW(e,t){return typeof e=="number"?r=>bs(e,t,r):Pi.test(e)?EW(e,t):e.startsWith("var(")?FW(e,t):BW(e,t)}const $W=(e,t)=>{const r=[...e],s=r.length,a=e.map((i,o)=>RW(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}},xLe=(e,t)=>{const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=RW(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}},BW=(e,t)=>{const r=Jh.createTransformer(t),s=L2(e),a=L2(t);return s.numVars===a.numVars&&s.numColors===a.numColors&&s.numNumbers>=a.numNumbers?zh($W(s.values,a.values),r):FW(e,t)},wv=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},xI=(e,t)=>r=>bs(e,t,r);function yLe(e){return typeof e=="number"?xI:typeof e=="string"?Pi.test(e)?EW:BW:Array.isArray(e)?$W:typeof e=="object"?xLe:xI}function vLe(e,t,r){const s=[],a=r||yLe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Us:t;l=zh(c,l)}s.push(l)}return s}function zW(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(O2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=vLe(t,s,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=wv(e[u],e[u+1],d);return o[u](h)};return r?d=>c(Qh(e[0],e[i-1],d)):c}function bLe(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=wv(0,t,s);e.push(bs(r,1,a))}}function wLe(e){const t=[0];return bLe(t,e.length-1),t}function jLe(e,t){return e.map(r=>r*t)}function NLe(e,t){return e.map(()=>t||_W).splice(0,e.length-1)}function I2({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=aLe(s)?s.map(pI):pI(s),i={done:!1,value:t[0]},o=jLe(r&&r.length===t.length?r:wLe(t),e),l=zW(o,t,{ease:Array.isArray(a)?a:NLe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function UW(e,t){return t?e*(1e3/t):0}const SLe=5;function VW(e,t,r){const s=Math.max(t-SLe,0);return UW(r-e(s),t-s)}const mS=.001,_Le=.01,ALe=10,kLe=.05,CLe=1;function PLe({duration:e=800,bounce:t=.25,velocity:r=0,mass:s=1}){let a,i,o=1-t;o=Qh(kLe,CLe,o),e=Qh(_Le,ALe,eu(e)),o<1?(a=d=>{const u=d*o,h=u*e,p=u-r,f=O6(d,o),y=Math.exp(-h);return mS-p/f*y},i=d=>{const h=d*o*e,p=h*r+r,f=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-h),g=O6(Math.pow(d,2),o);return(-a(d)+mS>0?-1:1)*((p-f)*y)/g}):(a=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-mS+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=ELe(a,i,l);if(e=_m(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const TLe=12;function ELe(e,t,r){let s=r;for(let a=1;a<TLe;a++)s=s-e(s)/t(s);return s}function O6(e,t){return e*Math.sqrt(1-t*t)}const OLe=["duration","bounce"],LLe=["stiffness","damping","mass"];function yI(e,t){return t.some(r=>e[r]!==void 0)}function ILe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yI(e,LLe)&&yI(e,OLe)){const r=PLe(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function qW({keyframes:e,restDelta:t,restSpeed:r,...s}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=ILe({...s,velocity:-eu(s.velocity||0)}),f=h||0,y=c/(2*Math.sqrt(l*d)),g=i-a,v=eu(Math.sqrt(l/d)),b=Math.abs(g)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let S;if(y<1){const N=O6(v,y);S=w=>{const C=Math.exp(-y*v*w);return i-C*((f+y*v*g)/N*Math.sin(N*w)+g*Math.cos(N*w))}}else if(y===1)S=N=>i-Math.exp(-v*N)*(g+(f+v*g)*N);else{const N=v*Math.sqrt(y*y-1);S=w=>{const C=Math.exp(-y*v*w),L=Math.min(N*w,300);return i-C*((f+y*v*g)*Math.sinh(L)+N*g*Math.cosh(L))/N}}return{calculatedDuration:p&&u||null,next:N=>{const w=S(N);if(p)o.done=N>=u;else{let C=f;N!==0&&(y<1?C=VW(S,N,w):C=0);const L=Math.abs(C)<=r,k=Math.abs(i-w)<=t;o.done=L&&k}return o.value=o.done?i:w,o}}}function vI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},f=A=>l!==void 0&&A<l||c!==void 0&&A>c,y=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let g=r*t;const v=h+g,b=o===void 0?v:o(v);b!==v&&(g=b-h);const S=A=>-g*Math.exp(-A/s),N=A=>b+S(A),w=A=>{const P=S(A),B=N(A);p.done=Math.abs(P)<=d,p.value=p.done?b:B};let C,L;const k=A=>{f(p.value)&&(C=A,L=qW({keyframes:[p.value,y(p.value)],velocity:VW(N,A,p.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:A=>{let P=!1;return!L&&C===void 0&&(P=!0,w(A),k(A)),C!==void 0&&A>C?L.next(A-C):(!P&&w(A),p)}}}const MLe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>qn.update(t,!0),stop:()=>du(t),now:()=>ci.isProcessing?ci.timestamp:performance.now()}},bI=2e4;function wI(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<bI;)t+=r,s=e.next(t);return t>=bI?1/0:t}const DLe={decay:vI,inertia:vI,tween:I2,keyframes:I2,spring:qW};function M2({autoplay:e=!0,delay:t=0,driver:r=MLe,keyframes:s,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:u,onUpdate:h,...p}){let f=1,y=!1,g,v;const b=()=>{v=new Promise(W=>{g=W})};b();let S;const N=DLe[a]||I2;let w;N!==I2&&typeof s[0]!="number"&&(w=zW([0,100],s,{clamp:!1}),s=[0,100]);const C=N({...p,keyframes:s});let L;l==="mirror"&&(L=N({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let k="idle",A=null,P=null,B=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=wI(C));const{calculatedDuration:T}=C;let I=1/0,M=1/0;T!==null&&(I=T+o,M=I*(i+1)-o);let D=0;const V=W=>{if(P===null)return;f>0&&(P=Math.min(P,W)),f<0&&(P=Math.min(W-M/f,P)),A!==null?D=A:D=Math.round(W-P)*f;const F=D-t*(f>=0?1:-1),Z=f>=0?F<0:F>M;D=Math.max(F,0),k==="finished"&&A===null&&(D=M);let Q=D,ae=C;if(i){const J=Math.min(D,M)/I;let he=Math.floor(J),ee=J%1;!ee&&J>=1&&(ee=1),ee===1&&he--,he=Math.min(he,i+1),!!(he%2)&&(l==="reverse"?(ee=1-ee,o&&(ee-=o/I)):l==="mirror"&&(ae=L)),Q=Qh(0,1,ee)*I}const de=Z?{done:!1,value:s[0]}:ae.next(Q);w&&(de.value=w(de.value));let{done:ge}=de;!Z&&T!==null&&(ge=f>=0?D>=M:D<=0);const Se=A===null&&(k==="finished"||k==="running"&&ge);return h&&h(de.value),Se&&q(),de},z=()=>{S&&S.stop(),S=void 0},X=()=>{k="idle",z(),g(),b(),P=B=null},q=()=>{k="finished",u&&u(),z(),g()},Y=()=>{if(y)return;S||(S=r(V));const W=S.now();c&&c(),A!==null?P=W-A:(!P||k==="finished")&&(P=W),k==="finished"&&b(),B=P,A=null,k="running",S.start()};e&&Y();const ie={then(W,F){return v.then(W,F)},get time(){return eu(D)},set time(W){W=_m(W),D=W,A!==null||!S||f===0?A=W:P=S.now()-W/f},get duration(){const W=C.calculatedDuration===null?wI(C):C.calculatedDuration;return eu(W)},get speed(){return f},set speed(W){W===f||!S||(f=W,ie.time=eu(D))},get state(){return k},play:Y,pause:()=>{k="paused",A=D},stop:()=>{y=!0,k!=="idle"&&(k="idle",d&&d(),X())},cancel:()=>{B!==null&&V(B),X()},complete:()=>{k="finished"},sample:W=>(P=0,V(W))};return ie}function FLe(e){let t;return()=>(t===void 0&&(t=e()),t)}const RLe=FLe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$Le=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),p1=10,BLe=2e4,zLe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!wW(t.ease);function ULe(e,t,{onUpdate:r,onComplete:s,...a}){if(!(RLe()&&$Le.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const u=()=>{c=new Promise(N=>{l=N})};u();let{keyframes:h,duration:p=300,ease:f,times:y}=a;if(zLe(t,a)){const N=M2({...a,repeat:0,delay:0});let w={done:!1,value:h[0]};const C=[];let L=0;for(;!w.done&&L<BLe;)w=N.sample(L),C.push(w.value),L+=p1;y=void 0,h=C,p=L-p1,f="linear"}const g=Q8e(e.owner.current,t,h,{...a,duration:p,ease:f,times:y}),v=()=>{d=!1,g.cancel()},b=()=>{d=!0,qn.update(v),l(),u()};return g.onfinish=()=>{d||(e.set(J8e(h,a)),s&&s(),b())},{then(N,w){return c.then(N,w)},attachTimeline(N){return g.timeline=N,g.onfinish=null,Us},get time(){return eu(g.currentTime||0)},set time(N){g.currentTime=_m(N)},get speed(){return g.playbackRate},set speed(N){g.playbackRate=N},get duration(){return eu(p)},play:()=>{o||(g.play(),du(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:N}=g;if(N){const w=M2({...a,autoplay:!1});e.setWithVelocity(w.sample(N-p1).value,w.sample(N).value,p1)}b()},complete:()=>{d||g.finish()},cancel:b}}function VLe({keyframes:e,delay:t,onUpdate:r,onComplete:s}){const a=()=>(r&&r(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Us,pause:Us,stop:Us,then:i=>(i(),Promise.resolve()),cancel:Us,complete:Us});return t?M2({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const qLe={type:"spring",stiffness:500,damping:25,restSpeed:10},WLe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HLe={type:"keyframes",duration:.8},GLe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KLe=(e,{keyframes:t})=>t.length>2?HLe:tp.has(e)?e.startsWith("scale")?WLe(t[1]):qLe:GLe,L6=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jh.test(t)||t==="0")&&!t.startsWith("url(")),YLe=new Set(["brightness","contrast","saturate","opacity"]);function ZLe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(dN)||[];if(!s)return e;const a=r.replace(s,"");let i=YLe.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const XLe=/([a-z-]*)\(.*?\)/g,I6={...Jh,getAnimatableNone:e=>{const t=e.match(XLe);return t?t.map(ZLe).join(" "):e}},QLe={...sW,color:Pi,backgroundColor:Pi,outlineColor:Pi,fill:Pi,stroke:Pi,borderColor:Pi,borderTopColor:Pi,borderRightColor:Pi,borderBottomColor:Pi,borderLeftColor:Pi,filter:I6,WebkitFilter:I6},E3=e=>QLe[e];function WW(e,t){let r=E3(e);return r!==I6&&(r=Jh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const HW=e=>/^0[^.\s]+$/.test(e);function JLe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||HW(e)}function eIe(e,t,r,s){const a=L6(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),JLe(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(a&&c.length&&l)for(let d=0;d<c.length;d++){const u=c[d];i[u]=WW(t,l)}return i}function tIe({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}function O3(e,t){return e[t]||e.default||e}const rIe={skipAnimations:!1},L3=(e,t,r,s={})=>a=>{const i=O3(s,e)||{},o=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-_m(o);const c=eIe(t,e,r,i),d=c[0],u=c[c.length-1],h=L6(e,d),p=L6(e,u);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(tIe(i)||(f={...f,...KLe(e,f)}),f.duration&&(f.duration=_m(f.duration)),f.repeatDelay&&(f.repeatDelay=_m(f.repeatDelay)),!h||!p||X8e.current||i.type===!1||rIe.skipAnimations)return VLe(f);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=ULe(t,e,f);if(y)return y}return M2(f)};function D2(e){return!!(ro(e)&&e.add)}const GW=e=>/^\-?\d*\.?\d+$/.test(e);function I3(e,t){e.indexOf(t)===-1&&e.push(t)}function M3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class D3{constructor(){this.subscriptions=[]}add(t){return I3(this.subscriptions,t),()=>M3(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nIe=e=>!isNaN(parseFloat(e));class sIe{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,a=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=ci;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,qn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>qn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=nIe(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new D3);const s=this.events[t].add(r);return t==="change"?()=>{s(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?UW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yx(e,t){return new sIe(e,t)}const KW=e=>t=>t.test(e),aIe={test:e=>e==="auto",parse:e=>e},YW=[rp,nr,Jc,uh,f8e,h8e,aIe],W0=e=>YW.find(KW(e)),iIe=[...YW,Pi,Jh],oIe=e=>iIe.find(KW(e));function lIe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,yx(r))}function cIe(e,t){const r=hN(e,t);let{transitionEnd:s={},transition:a={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...s};for(const o in i){const l=k8e(i[o]);lIe(e,o,l)}}function dIe(e,t,r){var s,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],d=t[c];let u=null;Array.isArray(d)&&(u=d[0]),u===null&&(u=(a=(s=r[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&a!==void 0?a:t[c]),u!=null&&(typeof u=="string"&&(GW(u)||HW(u))?u=parseFloat(u):!oIe(u)&&Jh.test(d)&&(u=WW(c,d)),e.addValue(c,yx(u,{owner:e})),r[c]===void 0&&(r[c]=u),u!==null&&e.setBaseTarget(c,u))}}function uIe(e,t){return t?(t[e]||t.default||t).from:void 0}function hIe(e,t,r){const s={};for(const a in e){const i=uIe(a,t);if(i!==void 0)s[a]=i;else{const o=r.getValue(a);o&&(s[a]=o.get())}}return s}function fIe({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function mIe(e,t){const r=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}else return r!==t}function ZW(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(i=s);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h),f=l[h];if(!p||f===void 0||u&&fIe(u,h))continue;const y={delay:r,elapsed:0,...O3(i||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[Xq];if(b){const S=window.HandoffAppearAnimations(b,h,p,qn);S!==null&&(y.elapsed=S,y.isHandoff=!0)}}let g=!y.isHandoff&&!mIe(p,f);if(y.type==="spring"&&(p.getVelocity()||y.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(L3(h,p,f,e.shouldReduceMotion&&tp.has(h)?{type:!1}:y));const v=p.animation;D2(c)&&(c.add(h),v.then(()=>c.remove(h))),d.push(v)}return o&&Promise.all(d).then(()=>{o&&cIe(e,o)}),d}function M6(e,t,r={}){const s=hN(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(ZW(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return pIe(e,t,d+c,u,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function pIe(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(e.variantChildren).sort(gIe).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(M6(d,t,{...i,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function gIe(e,t){return e.sortNodePosition(t)}function xIe(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>M6(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=M6(e,t,r);else{const a=typeof t=="function"?hN(e,t,r.custom):t;s=Promise.all(ZW(e,a,r))}return s.then(()=>e.notify("AnimationComplete",t))}const yIe=[...y3].reverse(),vIe=y3.length;function bIe(e){return t=>Promise.all(t.map(({animation:r,options:s})=>xIe(e,r,s)))}function wIe(e){let t=bIe(e);const r=NIe();let s=!0;const a=(c,d)=>{const u=hN(e,d);if(u){const{transition:h,transitionEnd:p,...f}=u;c={...c,...f,...p}}return c};function i(c){t=c(e)}function o(c,d){const u=e.getProps(),h=e.getVariantContext(!0)||{},p=[],f=new Set;let y={},g=1/0;for(let b=0;b<vIe;b++){const S=yIe[b],N=r[S],w=u[S]!==void 0?u[S]:h[S],C=vv(w),L=S===d?N.isActive:null;L===!1&&(g=b);let k=w===h[S]&&w!==u[S]&&C;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),N.protectedKeys={...y},!N.isActive&&L===null||!w&&!N.prevProp||lN(w)||typeof w=="boolean")continue;let P=jIe(N.prevProp,w)||S===d&&N.isActive&&!k&&C||b>g&&C,B=!1;const T=Array.isArray(w)?w:[w];let I=T.reduce(a,{});L===!1&&(I={});const{prevResolvedValues:M={}}=N,D={...M,...I},V=z=>{P=!0,f.has(z)&&(B=!0,f.delete(z)),N.needsAnimating[z]=!0};for(const z in D){const X=I[z],q=M[z];if(y.hasOwnProperty(z))continue;let Y=!1;E2(X)&&E2(q)?Y=!vW(X,q):Y=X!==q,Y?X!==void 0?V(z):f.add(z):X!==void 0&&f.has(z)?V(z):N.protectedKeys[z]=!0}N.prevProp=w,N.prevResolvedValues=I,N.isActive&&(y={...y,...I}),s&&e.blockInitialAnimation&&(P=!1),P&&(!k||B)&&p.push(...T.map(z=>({animation:z,options:{type:S,...c}})))}if(f.size){const b={};f.forEach(S=>{const N=e.getBaseTarget(S);N!==void 0&&(b[S]=N)}),p.push({animation:b})}let v=!!p.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(p):Promise.resolve()}function l(c,d,u){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(c,d)}),r[c].isActive=d;const p=o(u,c);for(const f in r)r[f].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function jIe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vW(t,e):!1}function Uf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NIe(){return{animate:Uf(!0),whileInView:Uf(),whileHover:Uf(),whileTap:Uf(),whileDrag:Uf(),whileFocus:Uf(),exit:Uf()}}class SIe extends lf{constructor(t){super(t),t.animationState||(t.animationState=wIe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),lN(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let _Ie=0;class AIe extends lf{constructor(){super(...arguments),this.id=_Ie++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const kIe={animation:{Feature:SIe},exit:{Feature:AIe}},jI=(e,t)=>Math.abs(e-t);function CIe(e,t){const r=jI(e.x,t.x),s=jI(e.y,t.y);return Math.sqrt(r**2+s**2)}class XW{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=gS(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=CIe(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:y}=h,{timestamp:g}=ci;this.history.push({...y,timestamp:g});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pS(p,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=gS(h.type==="pointercancel"?this.lastMoveEventInfo:pS(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),y&&y(h,v)},!mW(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=uN(t),l=pS(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ci;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,gS(l,this.history)),this.removeListeners=zh(Jd(this.contextWindow,"pointermove",this.handlePointerMove),Jd(this.contextWindow,"pointerup",this.handlePointerUp),Jd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),du(this.updatePoint)}}function pS(e,t){return t?{point:t(e.point)}:e}function NI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gS({point:e},t){return{point:e,delta:NI(e,QW(t)),offset:NI(e,PIe(t)),velocity:TIe(t,.1)}}function PIe(e){return e[0]}function QW(e){return e[e.length-1]}function TIe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=QW(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>_m(t)));)r--;if(!s)return{x:0,y:0};const i=eu(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zo(e){return e.max-e.min}function D6(e,t=0,r=.01){return Math.abs(e-t)<=r}function SI(e,t,r,s=.5){e.origin=s,e.originPoint=bs(t.min,t.max,e.origin),e.scale=zo(r)/zo(t),(D6(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=bs(r.min,r.max,e.origin)-e.originPoint,(D6(e.translate)||isNaN(e.translate))&&(e.translate=0)}function jy(e,t,r,s){SI(e.x,t.x,r.x,s?s.originX:void 0),SI(e.y,t.y,r.y,s?s.originY:void 0)}function _I(e,t,r){e.min=r.min+t.min,e.max=e.min+zo(t)}function EIe(e,t,r){_I(e.x,t.x,r.x),_I(e.y,t.y,r.y)}function AI(e,t,r){e.min=t.min-r.min,e.max=e.min+zo(t)}function Ny(e,t,r){AI(e.x,t.x,r.x),AI(e.y,t.y,r.y)}function OIe(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?bs(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?bs(r,e,s.max):Math.min(e,r)),e}function kI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function LIe(e,{top:t,left:r,bottom:s,right:a}){return{x:kI(e.x,r,a),y:kI(e.y,t,s)}}function CI(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function IIe(e,t){return{x:CI(e.x,t.x),y:CI(e.y,t.y)}}function MIe(e,t){let r=.5;const s=zo(e),a=zo(t);return a>s?r=wv(t.min,t.max-s,e.min):s>a&&(r=wv(e.min,e.max-a,t.min)),Qh(0,1,r)}function DIe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const F6=.35;function FIe(e=F6){return e===!1?e=0:e===!0&&(e=F6),{x:PI(e,"left","right"),y:PI(e,"top","bottom")}}function PI(e,t,r){return{min:TI(e,t),max:TI(e,r)}}function TI(e,t){return typeof e=="number"?e:e[t]||0}const EI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ng=()=>({x:EI(),y:EI()}),OI=()=>({min:0,max:0}),Qs=()=>({x:OI(),y:OI()});function ol(e){return[e("x"),e("y")]}function JW({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function RIe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $Ie(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function xS(e){return e===void 0||e===1}function R6({scale:e,scaleX:t,scaleY:r}){return!xS(e)||!xS(t)||!xS(r)}function Gf(e){return R6(e)||eH(e)||e.z||e.rotate||e.rotateX||e.rotateY}function eH(e){return LI(e.x)||LI(e.y)}function LI(e){return e&&e!=="0%"}function F2(e,t,r){const s=e-r,a=t*s;return r+a}function II(e,t,r,s,a){return a!==void 0&&(e=F2(e,a,s)),F2(e,r,s)+t}function $6(e,t=0,r=1,s,a){e.min=II(e.min,t,r,s,a),e.max=II(e.max,t,r,s,a)}function tH(e,{x:t,y:r}){$6(e.x,t.translate,t.scale,t.originPoint),$6(e.y,r.translate,r.scale,r.originPoint)}function BIe(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tH(e,o)),s&&Gf(i.latestValues)&&sg(e,i.latestValues))}t.x=MI(t.x),t.y=MI(t.y)}function MI(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mh(e,t){e.min=e.min+t,e.max=e.max+t}function DI(e,t,[r,s,a]){const i=t[a]!==void 0?t[a]:.5,o=bs(e.min,e.max,i);$6(e,t[r],t[s],o,t.scale)}const zIe=["x","scaleX","originX"],UIe=["y","scaleY","originY"];function sg(e,t){DI(e.x,t,zIe),DI(e.y,t,UIe)}function rH(e,t){return JW($Ie(e.getBoundingClientRect(),t))}function VIe(e,t,r){const s=rH(e,r),{scroll:a}=t;return a&&(mh(s.x,a.offset.x),mh(s.y,a.offset.y)),s}const nH=({current:e})=>e?e.ownerDocument.defaultView:null,qIe=new WeakMap;class WIe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qs(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(uN(u,"page").point)},i=(u,h)=>{const{drag:p,dragPropagation:f,onDragStart:y}=this.getProps();if(p&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gW(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ol(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Jc.test(b)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[v];N&&(b=zo(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),y&&qn.update(()=>y(u,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=HIe(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(u,h)},l=(u,h)=>this.stop(u,h),c=()=>ol(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new XW(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:nH(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&qn.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!g1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=OIe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&tg(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=LIe(a.layoutBox,r):this.constraints=!1,this.elastic=FIe(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ol(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=DIe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!tg(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=VIe(s,a.root,this.visualElement.getTransformPagePoint());let o=IIe(a.layout.layoutBox,i);if(r){const l=r(RIe(o));this.hasMutatedConstraints=!!l,l&&(o=JW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ol(u=>{if(!g1(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const p=a?200:1e6,f=a?40:1e7,y={type:"inertia",velocity:s?t[u]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return s.start(L3(t,s,0,r))}stopAnimation(){ol(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ol(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ol(r=>{const{drag:s}=this.getProps();if(!g1(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-bs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!tg(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ol(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=MIe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ol(o=>{if(!g1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(bs(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;qIe.set(this.visualElement,this);const t=this.visualElement.current,r=Jd(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();tg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),s();const o=Yd(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ol(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=F6,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function g1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function HIe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class GIe extends lf{constructor(t){super(t),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new WIe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const FI=e=>(t,r)=>{e&&qn.update(()=>e(t,r))};class KIe extends lf{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(t){this.session=new XW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:FI(t),onStart:FI(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&qn.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Jd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function YIe(){const e=_.useContext(iN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=_.useId();return _.useEffect(()=>s(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const V1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const H0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nr.test(e))e=parseFloat(e);else return e;const r=RI(e,t.target.x),s=RI(e,t.target.y);return`${r}% ${s}%`}},ZIe={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Jh.parse(e);if(a.length>5)return s;const i=Jh.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=bs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class XIe extends ve.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;a8e(QIe),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),V1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||qn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sH(e){const[t,r]=YIe(),s=_.useContext(b3);return ve.createElement(XIe,{...e,layoutGroup:s,switchLayoutGroup:_.useContext(Jq),isPresent:t,safeToRemove:r})}const QIe={borderRadius:{...H0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:H0,borderTopRightRadius:H0,borderBottomLeftRadius:H0,borderBottomRightRadius:H0,boxShadow:ZIe},aH=["TopLeft","TopRight","BottomLeft","BottomRight"],JIe=aH.length,$I=e=>typeof e=="string"?parseFloat(e):e,BI=e=>typeof e=="number"||nr.test(e);function eMe(e,t,r,s,a,i){a?(e.opacity=bs(0,r.opacity!==void 0?r.opacity:1,tMe(s)),e.opacityExit=bs(t.opacity!==void 0?t.opacity:1,0,rMe(s))):i&&(e.opacity=bs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<JIe;o++){const l=`border${aH[o]}Radius`;let c=zI(t,l),d=zI(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||BI(c)===BI(d)?(e[l]=Math.max(bs($I(c),$I(d),s),0),(Jc.test(d)||Jc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=bs(t.rotate||0,r.rotate||0,s))}function zI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tMe=iH(0,.5,CW),rMe=iH(.5,.95,Us);function iH(e,t,r){return s=>s<e?0:s>t?1:r(wv(e,t,s))}function UI(e,t){e.min=t.min,e.max=t.max}function il(e,t){UI(e.x,t.x),UI(e.y,t.y)}function VI(e,t,r,s,a){return e-=t,e=F2(e,1/r,s),a!==void 0&&(e=F2(e,1/a,s)),e}function nMe(e,t=0,r=1,s=.5,a,i=e,o=e){if(Jc.test(t)&&(t=parseFloat(t),t=bs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=bs(i.min,i.max,s);e===i&&(l-=t),e.min=VI(e.min,t,r,l,a),e.max=VI(e.max,t,r,l,a)}function qI(e,t,[r,s,a],i,o){nMe(e,t[r],t[s],t[a],t.scale,i,o)}const sMe=["x","scaleX","originX"],aMe=["y","scaleY","originY"];function WI(e,t,r,s){qI(e.x,t,sMe,r?r.x:void 0,s?s.x:void 0),qI(e.y,t,aMe,r?r.y:void 0,s?s.y:void 0)}function HI(e){return e.translate===0&&e.scale===1}function oH(e){return HI(e.x)&&HI(e.y)}function iMe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function lH(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function GI(e){return zo(e.x)/zo(e.y)}class oMe{constructor(){this.members=[]}add(t){I3(this.members,t),t.scheduleRender()}remove(t){if(M3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KI(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(s=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:d,rotateY:u}=r;c&&(s+=`rotate(${c}deg) `),d&&(s+=`rotateX(${d}deg) `),u&&(s+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const lMe=(e,t)=>e.depth-t.depth;class cMe{constructor(){this.children=[],this.isDirty=!1}add(t){I3(this.children,t),this.isDirty=!0}remove(t){M3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lMe),this.isDirty=!1,this.children.forEach(t)}}function dMe(e,t){const r=performance.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(du(s),e(i-t))};return qn.read(s,!0),()=>du(s)}function uMe(e){window.MotionDebug&&window.MotionDebug.record(e)}function hMe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function fMe(e,t,r){const s=ro(e)?e:yx(e);return s.start(L3("",s,t,r)),s.animation}const YI=["","X","Y","Z"],mMe={visibility:"hidden"},ZI=1e3;let pMe=0;const Kf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cH({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=pMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kf.totalNodes=Kf.resolvedTargetDeltas=Kf.recalculatedProjection=0,this.nodes.forEach(yMe),this.nodes.forEach(NMe),this.nodes.forEach(SMe),this.nodes.forEach(vMe),uMe(Kf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new cMe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new D3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hMe(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=dMe(p,250),V1.hasAnimatedSinceResize&&(V1.hasAnimatedSinceResize=!1,this.nodes.forEach(QI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||PMe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),S=!this.targetLayout||!lH(this.targetLayout,y)||f,N=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const w={...O3(g,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||QI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,du(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_Me),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XI);return}this.isUpdating||this.nodes.forEach(wMe),this.isUpdating=!1,this.nodes.forEach(jMe),this.nodes.forEach(gMe),this.nodes.forEach(xMe),this.clearAllSnapshots();const l=performance.now();ci.delta=Qh(0,1e3/60,l-ci.timestamp),ci.timestamp=l,ci.isProcessing=!0,oS.update.process(ci),oS.preRender.process(ci),oS.render.process(ci),ci.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(bMe),this.sharedNodes.forEach(AMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!oH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Gf(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),TMe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qs();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(mh(l.x,c.offset.x),mh(l.y,c.offset.y)),l}removeElementScroll(o){const l=Qs();il(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;if(d!==this.root&&u&&h.layoutScroll){if(u.isRoot){il(l,o);const{scroll:p}=this.root;p&&(mh(l.x,-p.offset.x),mh(l.y,-p.offset.y))}mh(l.x,u.offset.x),mh(l.y,u.offset.y)}}return l}applyTransform(o,l=!1){const c=Qs();il(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&sg(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Gf(u.latestValues)&&sg(c,u.latestValues)}return Gf(this.latestValues)&&sg(c,this.latestValues),c}removeTransform(o){const l=Qs();il(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Gf(d.latestValues))continue;R6(d.latestValues)&&d.updateSnapshot();const u=Qs(),h=d.measurePageBox();il(u,h),WI(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Gf(this.latestValues)&&WI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ci.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ci.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),Ny(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qs(),this.targetWithTransforms=Qs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EIe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):il(this.target,this.layout.layoutBox),tH(this.target,this.targetDelta)):il(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),Ny(this.relativeTargetOrigin,this.target,f.target),il(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||R6(this.parent.latestValues)||eH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ci.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;il(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;BIe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=ng(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ng(),this.projectionDeltaWithTransform=ng());const g=this.projectionTransform;jy(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=KI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Kf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=ng();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Qs(),f=c?c.source:void 0,y=this.layout?this.layout.source:void 0,g=f!==y,v=this.getStack(),b=!v||v.members.length<=1,S=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(CMe));this.animationProgress=0;let N;this.mixTargetDelta=w=>{const C=w/1e3;JI(h.x,o.x,C),JI(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ny(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kMe(this.relativeTarget,this.relativeTargetOrigin,p,C),N&&iMe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Qs()),il(N,this.relativeTarget)),g&&(this.animationValues=u,eMe(u,d,this.latestValues,C,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(du(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{V1.hasAnimatedSinceResize=!0,this.currentAnimation=fMe(0,ZI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&dH(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Qs();const h=zo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=zo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}il(l,c),sg(l,u),jy(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new oMe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let u=0;u<YI.length;u++){const h="rotate"+YI[u];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const u in d)o.setStaticValue(u,d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mMe;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=U1(o?.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=U1(o?.pointerEvents)||""),this.hasProjected&&!Gf(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=KI(this.projectionDeltaWithTransform,this.treeScale,p),u&&(d.transform=u(p,d.transform));const{x:f,y}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in P2){if(p[g]===void 0)continue;const{correct:v,applyTo:b}=P2[g],S=d.transform==="none"?p[g]:v(p[g],h);if(b){const N=b.length;for(let w=0;w<N;w++)d[b[w]]=S}else d[g]=S}return this.options.layoutId&&(d.pointerEvents=h===this?U1(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XI),this.root.sharedNodes.clear()}}}function gMe(e){e.updateLayout()}function xMe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ol(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=zo(p);p.min=s[h].min,p.max=p.min+f}):dH(i,r.layoutBox,s)&&ol(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=zo(s[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=ng();jy(l,s,r.layoutBox);const c=ng();o?jy(c,e.applyTransform(a,!0),r.measuredBox):jy(c,s,r.layoutBox);const d=!oH(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const y=Qs();Ny(y,r.layoutBox,p.layoutBox);const g=Qs();Ny(g,s,f.layoutBox),lH(y,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function yMe(e){Kf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vMe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bMe(e){e.clearSnapshot()}function XI(e){e.clearMeasurements()}function wMe(e){e.isLayoutDirty=!1}function jMe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function QI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NMe(e){e.resolveTargetDelta()}function SMe(e){e.calcProjection()}function _Me(e){e.resetRotation()}function AMe(e){e.removeLeadSnapshot()}function JI(e,t,r){e.translate=bs(t.translate,0,r),e.scale=bs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function eM(e,t,r,s){e.min=bs(t.min,r.min,s),e.max=bs(t.max,r.max,s)}function kMe(e,t,r,s){eM(e.x,t.x,r.x,s),eM(e.y,t.y,r.y,s)}function CMe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PMe={duration:.45,ease:[.4,0,.1,1]},tM=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),rM=tM("applewebkit/")&&!tM("chrome/")?Math.round:Us;function nM(e){e.min=rM(e.min),e.max=rM(e.max)}function TMe(e){nM(e.x),nM(e.y)}function dH(e,t,r){return e==="position"||e==="preserve-aspect"&&!D6(GI(t),GI(r),.2)}const EMe=cH({attachResizeListener:(e,t)=>Yd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yS={current:void 0},uH=cH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!yS.current){const e=new EMe({});e.mount(window),e.setOptions({layoutScroll:!0}),yS.current=e}return yS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OMe={pan:{Feature:KIe},drag:{Feature:GIe,ProjectionNode:uH,MeasureLayout:sH}},LMe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function IMe(e){const t=LMe.exec(e);if(!t)return[,];const[,r,s]=t;return[r,s]}function B6(e,t,r=1){const[s,a]=IMe(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return GW(o)?parseFloat(o):o}else return P6(a)?B6(a,t,r+1):a}function MMe(e,{...t},r){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const i=a.get();if(!P6(i))return;const o=B6(i,s);o&&a.set(o)});for(const a in t){const i=t[a];if(!P6(i))continue;const o=B6(i,s);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const DMe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hH=e=>DMe.has(e),FMe=e=>Object.keys(e).some(hH),sM=e=>e===rp||e===nr,aM=(e,t)=>parseFloat(e.split(", ")[t]),iM=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return aM(a[1],t);{const i=s.match(/^matrix\((.+)\)$/);return i?aM(i[1],e):0}},RMe=new Set(["x","y","z"]),$Me=Yv.filter(e=>!RMe.has(e));function BMe(e){const t=[];return $Me.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const vx={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:iM(4,13),y:iM(5,14)};vx.translateX=vx.x;vx.translateY=vx.y;const zMe=(e,t,r)=>{const s=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(d=>{l[d]=vx[d](s,i)}),t.render();const c=t.measureViewportBox();return r.forEach(d=>{const u=t.getValue(d);u&&u.jump(l[d]),e[d]=vx[d](c,i)}),e},UMe=(e,t,r={},s={})=>{t={...t},s={...s};const a=Object.keys(t).filter(hH);let i=[],o=!1;const l=[];if(a.forEach(c=>{const d=e.getValue(c);if(!e.hasValue(c))return;let u=r[c],h=W0(u);const p=t[c];let f;if(E2(p)){const y=p.length,g=p[0]===null?1:0;u=p[g],h=W0(u);for(let v=g;v<y&&p[v]!==null;v++)f?O2(W0(p[v])===f):f=W0(p[v])}else f=W0(p);if(h!==f)if(sM(h)&&sM(f)){const y=d.get();typeof y=="string"&&d.set(parseFloat(y)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&f===nr&&(t[c]=p.map(parseFloat))}else h?.transform&&f?.transform&&(u===0||p===0)?u===0?d.set(f.transform(u)):t[c]=h.transform(p):(o||(i=BMe(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],d.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=zMe(t,e,l);return i.length&&i.forEach(([u,h])=>{e.getValue(u).set(h)}),e.render(),oN&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:s}}else return{target:t,transitionEnd:s}};function VMe(e,t,r,s){return FMe(t)?UMe(e,t,r,s):{target:t,transitionEnd:s}}const qMe=(e,t,r,s)=>{const a=MMe(e,t,s);return t=a.target,s=a.transitionEnd,VMe(e,t,r,s)},z6={current:null},fH={current:!1};function WMe(){if(fH.current=!0,!!oN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>z6.current=e.matches;e.addListener(t),t()}else z6.current=!1}function HMe(e,t,r){const{willChange:s}=t;for(const a in t){const i=t[a],o=r[a];if(ro(i))e.addValue(a,i),D2(s)&&s.add(a);else if(ro(o))e.addValue(a,yx(i,{owner:e})),D2(s)&&s.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,yx(l!==void 0?l:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const oM=new WeakMap,mH=Object.keys(bv),GMe=mH.length,lM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],KMe=v3.length;class YMe{constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=cN(r),this.isVariantNode=Qq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(r,{});for(const h in u){const p=u[h];l[h]!==void 0&&ro(p)&&(p.set(l[h],!1),D2(d)&&d.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,oM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),fH.current||WMe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:z6.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oM.delete(this.current),this.projection&&this.projection.unmount(),du(this.notifyUpdate),du(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const s=tp.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&qn.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},s,a,i){let o,l;for(let c=0;c<GMe;c++){const d=mH[c],{isEnabled:u,Feature:h,ProjectionNode:p,MeasureLayout:f}=bv[d];p&&(o=p),u(r)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!u||h&&tg(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<lM.length;s++){const a=lM[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=HMe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<KMe;s++){const a=v3[s],i=this.props[a];(vv(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=yx(r,{owner:this}),this.addValue(t,s)),s}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props,a=typeof s=="string"||typeof s=="object"?(r=k3(this.props,s))===null||r===void 0?void 0:r[t]:void 0;if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ro(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new D3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class pH extends YMe{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...s},{transformValues:a},i){let o=hIe(s,t||{},this);if(a&&(r&&(r=a(r)),s&&(s=a(s)),o&&(o=a(o))),i){dIe(this,s,o);const l=qMe(this,s,o,r);r=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:r,...s}}}function ZMe(e){return window.getComputedStyle(e)}class XMe extends pH{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(tp.has(r)){const s=E3(r);return s&&s.default||0}else{const s=ZMe(t),a=(rW(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return rH(t,r)}build(t,r,s,a){j3(t,r,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return A3(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ro(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,s,a){lW(t,r,s,a)}}class QMe extends pH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(tp.has(r)){const s=E3(r);return s&&s.default||0}return r=cW.has(r)?r:x3(r),t.getAttribute(r)}measureInstanceViewportBox(){return Qs()}scrapeMotionValuesFromProps(t,r){return uW(t,r)}build(t,r,s,a){S3(t,r,s,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,s,a){dW(t,r,s,a)}mount(t){this.isSVGTag=_3(t.tagName),super.mount(t)}}const JMe=(e,t)=>w3(e)?new QMe(t,{enableHardwareAcceleration:!1}):new XMe(t,{enableHardwareAcceleration:!0}),eDe={layout:{ProjectionNode:uH,MeasureLayout:sH}},tDe={...kIe,...K8e,...OMe,...eDe},Yf=n8e((e,t)=>M8e(e,t,tDe,JMe));function gH(){const e=_.useRef(!1);return g3(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function rDe(){const e=gH(),[t,r]=_.useState(0),s=_.useCallback(()=>{e.current&&r(t+1)},[t]);return[_.useCallback(()=>qn.postRender(s),[s]),t]}class nDe extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sDe({children:e,isPresent:t}){const r=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!s.current||!i||!o)return;s.current.dataset.motionPopId=r;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),_.createElement(nDe,{isPresent:t,childRef:s,sizeRef:a},_.cloneElement(e,{ref:s}))}const vS=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=hW(aDe),c=_.useId(),d=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u=>{l.set(u,!0);for(const h of l.values())if(!h)return;s&&s()},register:u=>(l.set(u,!1),()=>l.delete(u))}),i?void 0:[r]);return _.useMemo(()=>{l.forEach((u,h)=>l.set(h,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(e=_.createElement(sDe,{isPresent:r},e)),_.createElement(iN.Provider,{value:d},e)};function aDe(){return new Map}function iDe(e){return _.useEffect(()=>()=>e(),[])}const Zf=e=>e.key||"";function oDe(e,t){e.forEach(r=>{const s=Zf(r);t.set(s,r)})}function lDe(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const q1=({children:e,custom:t,initial:r=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=_.useContext(b3).forceRender||rDe()[0],c=gH(),d=lDe(e);let u=d;const h=_.useRef(new Map).current,p=_.useRef(u),f=_.useRef(new Map).current,y=_.useRef(!0);if(g3(()=>{y.current=!1,oDe(d,f),p.current=u}),iDe(()=>{y.current=!0,f.clear(),h.clear()}),y.current)return _.createElement(_.Fragment,null,u.map(S=>_.createElement(vS,{key:Zf(S),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},S)));u=[...u];const g=p.current.map(Zf),v=d.map(Zf),b=g.length;for(let S=0;S<b;S++){const N=g[S];v.indexOf(N)===-1&&!h.has(N)&&h.set(N,void 0)}return o==="wait"&&h.size&&(u=[]),h.forEach((S,N)=>{if(v.indexOf(N)!==-1)return;const w=f.get(N);if(!w)return;const C=g.indexOf(N);let L=S;if(!L){const k=()=>{h.delete(N);const A=Array.from(f.keys()).filter(P=>!v.includes(P));if(A.forEach(P=>f.delete(P)),p.current=d.filter(P=>{const B=Zf(P);return B===N||A.includes(B)}),!h.size){if(c.current===!1)return;l(),s&&s()}};L=_.createElement(vS,{key:Zf(w),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},w),h.set(N,L)}u.splice(C,0,L)}),u=u.map(S=>{const N=S.key;return h.has(N)?S:_.createElement(vS,{key:Zf(S),isPresent:!0,presenceAffectsLayout:i,mode:o},S)}),_.createElement(_.Fragment,null,h.size?u:u.map(S=>_.cloneElement(S)))},cDe="modulepreload",dDe=function(e){return"/"+e},cM={},bS=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(r.map(c=>{if(c=dDe(c),c in cM)return;cM[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":cDe,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function jn(e){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jn(e)}var lc=Uint8Array,Lo=Uint16Array,F3=Int32Array,R3=new lc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$3=new lc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dM=new lc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xH=function(e,t){for(var r=new Lo(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new F3(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},yH=xH(R3,2),uDe=yH.b,U6=yH.r;uDe[28]=258,U6[258]=28;var hDe=xH($3,0),uM=hDe.r,V6=new Lo(32768);for(var es=0;es<32768;++es){var ih=(es&43690)>>1|(es&21845)<<1;ih=(ih&52428)>>2|(ih&13107)<<2,ih=(ih&61680)>>4|(ih&3855)<<4,V6[es]=((ih&65280)>>8|(ih&255)<<8)>>1}var Sy=function(e,t,r){for(var s=e.length,a=0,i=new Lo(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new Lo(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Lo(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var d=a<<4|e[a],u=t-e[a],h=o[e[a]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)l[V6[h]>>c]=d}else for(l=new Lo(s),a=0;a<s;++a)e[a]&&(l[a]=V6[o[e[a]-1]++]>>15-e[a]);return l},Wm=new lc(288);for(var es=0;es<144;++es)Wm[es]=8;for(var es=144;es<256;++es)Wm[es]=9;for(var es=256;es<280;++es)Wm[es]=7;for(var es=280;es<288;++es)Wm[es]=8;var R2=new lc(32);for(var es=0;es<32;++es)R2[es]=5;var fDe=Sy(Wm,9,0),mDe=Sy(R2,5,0),vH=function(e){return(e+7)/8|0},pDe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new lc(e.subarray(t,r))},Md=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},G0=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},wS=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:wH,l:0};if(a==1){var o=new lc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,L){return C.f-L.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,s=1;s<a;++s)i[s].s>p&&(p=i[s].s);var f=new Lo(p+1),y=q6(r[u-1],f,0);if(y>t){var s=0,g=0,v=y-t,b=1<<v;for(i.sort(function(L,k){return f[k.s]-f[L.s]||L.f-k.f});s<a;++s){var S=i[s].s;if(f[S]>t)g+=b-(1<<y-f[S]),f[S]=t;else break}for(g>>=v;g>0;){var N=i[s].s;f[N]<t?g-=1<<t-f[N]++-1:++s}for(;s>=0&&g;--s){var w=i[s].s;f[w]==t&&(--f[w],++g)}y=t}return{t:new lc(f),l:y}},q6=function(e,t,r){return e.s==-1?Math.max(q6(e.l,t,r+1),q6(e.r,t,r+1)):t[e.s]=r},hM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Lo(++t),s=0,a=e[0],i=1,o=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,s),n:t}},K0=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},bH=function(e,t,r){var s=r.length,a=vH(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},fM=function(e,t,r,s,a,i,o,l,c,d,u){Md(t,u++,r),++a[256];for(var h=wS(a,15),p=h.t,f=h.l,y=wS(i,15),g=y.t,v=y.l,b=hM(p),S=b.c,N=b.n,w=hM(g),C=w.c,L=w.n,k=new Lo(19),A=0;A<S.length;++A)++k[S[A]&31];for(var A=0;A<C.length;++A)++k[C[A]&31];for(var P=wS(k,7),B=P.t,T=P.l,I=19;I>4&&!B[dM[I-1]];--I);var M=d+5<<3,D=K0(a,Wm)+K0(i,R2)+o,V=K0(a,p)+K0(i,g)+o+14+3*I+K0(k,B)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&M<=D&&M<=V)return bH(t,u,e.subarray(c,c+d));var z,X,q,Y;if(Md(t,u,1+(V<D)),u+=2,V<D){z=Sy(p,f,0),X=p,q=Sy(g,v,0),Y=g;var ie=Sy(B,T,0);Md(t,u,N-257),Md(t,u+5,L-1),Md(t,u+10,I-4),u+=14;for(var A=0;A<I;++A)Md(t,u+3*A,B[dM[A]]);u+=3*I;for(var W=[S,C],F=0;F<2;++F)for(var Z=W[F],A=0;A<Z.length;++A){var Q=Z[A]&31;Md(t,u,ie[Q]),u+=B[Q],Q>15&&(Md(t,u,Z[A]>>5&127),u+=Z[A]>>12)}}else z=fDe,X=Wm,q=mDe,Y=R2;for(var A=0;A<l;++A){var ae=s[A];if(ae>255){var Q=ae>>18&31;G0(t,u,z[Q+257]),u+=X[Q+257],Q>7&&(Md(t,u,ae>>23&31),u+=R3[Q]);var de=ae&31;G0(t,u,q[de]),u+=Y[de],de>3&&(G0(t,u,ae>>5&8191),u+=$3[de])}else G0(t,u,z[ae]),u+=X[ae]}return G0(t,u,z[256]),u+X[256]},gDe=new F3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wH=new lc(0),xDe=function(e,t,r,s,a,i){var o=i.z||e.length,l=new lc(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(t){u&&(c[0]=i.r>>3);for(var h=gDe[t-1],p=h>>13,f=h&8191,y=(1<<r)-1,g=i.p||new Lo(32768),v=i.h||new Lo(y+1),b=Math.ceil(r/3),S=2*b,N=function(Ne){return(e[Ne]^e[Ne+1]<<b^e[Ne+2]<<S)&y},w=new F3(25e3),C=new Lo(288),L=new Lo(32),k=0,A=0,P=i.i||0,B=0,T=i.w||0,I=0;P+2<o;++P){var M=N(P),D=P&32767,V=v[M];if(g[D]=V,v[M]=D,T<=P){var z=o-P;if((k>7e3||B>24576)&&(z>423||!d)){u=fM(e,c,0,w,C,L,A,B,I,P-I,u),B=k=A=0,I=P;for(var X=0;X<286;++X)C[X]=0;for(var X=0;X<30;++X)L[X]=0}var q=2,Y=0,ie=f,W=D-V&32767;if(z>2&&M==N(P-W))for(var F=Math.min(p,z)-1,Z=Math.min(32767,P),Q=Math.min(258,z);W<=Z&&--ie&&D!=V;){if(e[P+q]==e[P+q-W]){for(var ae=0;ae<Q&&e[P+ae]==e[P+ae-W];++ae);if(ae>q){if(q=ae,Y=W,ae>F)break;for(var de=Math.min(W,ae-2),ge=0,X=0;X<de;++X){var Se=P-W+X&32767,J=g[Se],he=Se-J&32767;he>ge&&(ge=he,V=Se)}}}D=V,V=g[D],W+=D-V&32767}if(Y){w[B++]=268435456|U6[q]<<18|uM[Y];var ee=U6[q]&31,le=uM[Y]&31;A+=R3[ee]+$3[le],++C[257+ee],++L[le],T=P+q,++k}else w[B++]=e[P],++C[e[P]]}}for(P=Math.max(P,T);P<o;++P)w[B++]=e[P],++C[e[P]];u=fM(e,c,d,w,C,L,A,B,I,P-I,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=v,i.p=g,i.i=P,i.w=T)}else{for(var P=i.w||0;P<o+d;P+=65535){var ke=P+65535;ke>=o&&(c[u/8|0]=d,ke=o),u=bH(c,u+1,e.subarray(P,ke))}i.i=o}return pDe(l,0,s+vH(u)+a)},jH=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yDe=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new lc(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return xDe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},NH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},vDe=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=jH();a.p(t.dictionary),NH(e,2,a.d())}};function W6(e,t){t||(t={});var r=jH();r.p(e);var s=yDe(e,t,t.dictionary?6:2,4);return vDe(s,t),NH(s,s.length-4,r.d()),s}var bDe=typeof TextDecoder<"u"&&new TextDecoder,wDe=0;try{bDe.decode(wH,{stream:!0}),wDe=1}catch{}function jDe(e){if(Array.isArray(e))return e}function NDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function SDe(e,t){if(e){if(typeof e=="string")return mM(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mM(e,t):void 0}}function _De(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(e,t){return jDe(e)||NDe(e,t)||SDe(e,t)||_De()}function gM(e,t="utf8"){return new TextDecoder(t).decode(e)}const ADe=new TextEncoder;function kDe(e){return ADe.encode(e)}const CDe=1024*8,PDe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),jS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class B3{constructor(t=CDe,r={}){Ke(this,"buffer");Ke(this,"byteLength");Ke(this,"byteOffset");Ke(this,"length");Ke(this,"offset");Ke(this,"lastWrittenByte");Ke(this,"littleEndian");Ke(this,"_data");Ke(this,"_mark");Ke(this,"_marks");let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof B3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const s=jS[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===PDe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new jS[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new jS[r](i);return this.offset+=s,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let s=0;s<t;s++)r+=this.readChar();return r}readUtf8(t=1){return gM(this.readBytes(t))}decodeText(t=1,r="utf8"){return gM(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(kDe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const TDe=4,xM=0,yM=1,EDe=2;function Hx(e){let t=e.length;for(;--t>=0;)e[t]=0}const ODe=0,SH=1,LDe=2,IDe=3,MDe=258,z3=29,Jv=256,jv=Jv+1+z3,xg=30,U3=19,_H=2*jv+1,cm=15,NS=16,DDe=7,V3=256,AH=16,kH=17,CH=18,H6=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),W1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),FDe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),PH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RDe=512,Bd=new Array((jv+2)*2);Hx(Bd);const _y=new Array(xg*2);Hx(_y);const Nv=new Array(RDe);Hx(Nv);const Sv=new Array(MDe-IDe+1);Hx(Sv);const q3=new Array(z3);Hx(q3);const $2=new Array(xg);Hx($2);function SS(e,t,r,s,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=s,this.max_length=a,this.has_stree=e&&e.length}let TH,EH,OH;function _S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const LH=e=>e<256?Nv[e]:Nv[256+(e>>>7)],_v=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},eo=(e,t,r)=>{e.bi_valid>NS-r?(e.bi_buf|=t<<e.bi_valid&65535,_v(e,e.bi_buf),e.bi_buf=t>>NS-e.bi_valid,e.bi_valid+=r-NS):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Bc=(e,t,r)=>{eo(e,r[t*2],r[t*2+1])},IH=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},$De=e=>{e.bi_valid===16?(_v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},BDe=(e,t)=>{const r=t.dyn_tree,s=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,h,p,f,y,g=0;for(p=0;p<=cm;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<_H;d++)u=e.heap[d],p=r[r[u*2+1]*2+1]+1,p>c&&(p=c,g++),r[u*2+1]=p,!(u>s)&&(e.bl_count[p]++,f=0,u>=l&&(f=o[u-l]),y=r[u*2],e.opt_len+=y*(p+f),i&&(e.static_len+=y*(a[u*2+1]+f)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(u=e.bl_count[p];u!==0;)h=e.heap[--d],!(h>s)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),u--)}},MH=(e,t,r)=>{const s=new Array(cm+1);let a=0,i,o;for(i=1;i<=cm;i++)a=a+r[i-1]<<1,s[i]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=IH(s[l]++,l))}},zDe=()=>{let e,t,r,s,a;const i=new Array(cm+1);for(r=0,s=0;s<z3-1;s++)for(q3[s]=r,e=0;e<1<<H6[s];e++)Sv[r++]=s;for(Sv[r-1]=s,a=0,s=0;s<16;s++)for($2[s]=a,e=0;e<1<<W1[s];e++)Nv[a++]=s;for(a>>=7;s<xg;s++)for($2[s]=a<<7,e=0;e<1<<W1[s]-7;e++)Nv[256+a++]=s;for(t=0;t<=cm;t++)i[t]=0;for(e=0;e<=143;)Bd[e*2+1]=8,e++,i[8]++;for(;e<=255;)Bd[e*2+1]=9,e++,i[9]++;for(;e<=279;)Bd[e*2+1]=7,e++,i[7]++;for(;e<=287;)Bd[e*2+1]=8,e++,i[8]++;for(MH(Bd,jv+1,i),e=0;e<xg;e++)_y[e*2+1]=5,_y[e*2]=IH(e,5);TH=new SS(Bd,H6,Jv+1,jv,cm),EH=new SS(_y,W1,0,xg,cm),OH=new SS(new Array(0),FDe,0,U3,DDe)},DH=e=>{let t;for(t=0;t<jv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<xg;t++)e.dyn_dtree[t*2]=0;for(t=0;t<U3;t++)e.bl_tree[t*2]=0;e.dyn_ltree[V3*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},FH=e=>{e.bi_valid>8?_v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},vM=(e,t,r,s)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&s[t]<=s[r]},AS=(e,t,r)=>{const s=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&vM(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!vM(t,s,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=s},bM=(e,t,r)=>{let s,a,i=0,o,l;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+i++]&255,s+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],s===0?Bc(e,a,t):(o=Sv[a],Bc(e,o+Jv+1,t),l=H6[o],l!==0&&(a-=q3[o],eo(e,a,l)),s--,o=LH(s),Bc(e,o,r),l=W1[o],l!==0&&(s-=$2[o],eo(e,s,l)));while(i<e.sym_next);Bc(e,V3,t)},G6=(e,t)=>{const r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=_H,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,r[d*2]=1,e.depth[d]=0,e.opt_len--,a&&(e.static_len-=s[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)AS(e,r,o);d=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],AS(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[d*2]=r[o*2]+r[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=d,e.heap[1]=d++,AS(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],BDe(e,t),MH(r,c,e.bl_count)},wM=(e,t,r)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(r+1)*2+1]=65535,s=0;s<=r;s++)i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)&&(l<d?e.bl_tree[i*2]+=l:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[AH*2]++):l<=10?e.bl_tree[kH*2]++:e.bl_tree[CH*2]++,l=0,a=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4))},jM=(e,t,r)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),s=0;s<=r;s++)if(i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)){if(l<d)do Bc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==a&&(Bc(e,i,e.bl_tree),l--),Bc(e,AH,e.bl_tree),eo(e,l-3,2)):l<=10?(Bc(e,kH,e.bl_tree),eo(e,l-3,3)):(Bc(e,CH,e.bl_tree),eo(e,l-11,7));l=0,a=i,o===0?(c=138,d=3):i===o?(c=6,d=3):(c=7,d=4)}},UDe=e=>{let t;for(wM(e,e.dyn_ltree,e.l_desc.max_code),wM(e,e.dyn_dtree,e.d_desc.max_code),G6(e,e.bl_desc),t=U3-1;t>=3&&e.bl_tree[PH[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},VDe=(e,t,r,s)=>{let a;for(eo(e,t-257,5),eo(e,r-1,5),eo(e,s-4,4),a=0;a<s;a++)eo(e,e.bl_tree[PH[a]*2+1],3);jM(e,e.dyn_ltree,t-1),jM(e,e.dyn_dtree,r-1)},qDe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return xM;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return yM;for(r=32;r<Jv;r++)if(e.dyn_ltree[r*2]!==0)return yM;return xM};let NM=!1;const WDe=e=>{NM||(zDe(),NM=!0),e.l_desc=new _S(e.dyn_ltree,TH),e.d_desc=new _S(e.dyn_dtree,EH),e.bl_desc=new _S(e.bl_tree,OH),e.bi_buf=0,e.bi_valid=0,DH(e)},RH=(e,t,r,s)=>{eo(e,(ODe<<1)+(s?1:0),3),FH(e),_v(e,r),_v(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},HDe=e=>{eo(e,SH<<1,3),Bc(e,V3,Bd),$De(e)},GDe=(e,t,r,s)=>{let a,i,o=0;e.level>0?(e.strm.data_type===EDe&&(e.strm.data_type=qDe(e)),G6(e,e.l_desc),G6(e,e.d_desc),o=UDe(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?RH(e,t,r,s):e.strategy===TDe||i===a?(eo(e,(SH<<1)+(s?1:0),3),bM(e,Bd,_y)):(eo(e,(LDe<<1)+(s?1:0),3),VDe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),bM(e,e.dyn_ltree,e.dyn_dtree)),DH(e),s&&FH(e)},KDe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Sv[r]+Jv+1)*2]++,e.dyn_dtree[LH(t)*2]++),e.sym_next===e.sym_end);var YDe=WDe,ZDe=RH,XDe=GDe,QDe=KDe,JDe=HDe,e7e={_tr_init:YDe,_tr_stored_block:ZDe,_tr_flush_block:XDe,_tr_tally:QDe,_tr_align:JDe};const t7e=(e,t,r,s)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var Av=t7e;const r7e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},n7e=new Uint32Array(r7e()),s7e=(e,t,r,s)=>{const a=n7e,i=s+r;e^=-1;for(let o=s;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Pa=s7e,bx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},eb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:a7e,_tr_stored_block:K6,_tr_flush_block:i7e,_tr_tally:Uh,_tr_align:o7e}=e7e,{Z_NO_FLUSH:Vh,Z_PARTIAL_FLUSH:l7e,Z_FULL_FLUSH:c7e,Z_FINISH:fl,Z_BLOCK:SM,Z_OK:Va,Z_STREAM_END:_M,Z_STREAM_ERROR:ed,Z_DATA_ERROR:d7e,Z_BUF_ERROR:kS,Z_DEFAULT_COMPRESSION:u7e,Z_FILTERED:h7e,Z_HUFFMAN_ONLY:x1,Z_RLE:f7e,Z_FIXED:m7e,Z_DEFAULT_STRATEGY:p7e,Z_UNKNOWN:g7e,Z_DEFLATED:fN}=eb,x7e=9,y7e=15,v7e=8,b7e=29,w7e=256,Y6=w7e+1+b7e,j7e=30,N7e=19,S7e=2*Y6+1,_7e=15,Gr=3,Th=258,td=Th+Gr+1,A7e=32,wx=42,W3=57,Z6=69,X6=73,Q6=91,J6=103,dm=113,sy=666,Fi=1,Gx=2,Hm=3,Kx=4,k7e=3,um=(e,t)=>(e.msg=bx[t],t),AM=e=>e*2-(e>4?9:0),yh=e=>{let t=e.length;for(;--t>=0;)e[t]=0},C7e=e=>{let t,r,s,a=e.w_size;t=e.hash_size,s=t;do r=e.head[--s],e.head[s]=r>=a?r-a:0;while(--t);t=a,s=t;do r=e.prev[--s],e.prev[s]=r>=a?r-a:0;while(--t)};let P7e=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,qh=P7e;const ko=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Io=(e,t)=>{i7e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ko(e.strm)},mn=(e,t)=>{e.pending_buf[e.pending++]=t},Y0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},eA=(e,t,r,s)=>{let a=e.avail_in;return a>s&&(a=s),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=Av(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Pa(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},$H=(e,t)=>{let r=e.max_chain_length,s=e.strstart,a,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-td?e.strstart-(e.w_size-td):0,d=e.window,u=e.w_mask,h=e.prev,p=e.strstart+Th;let f=d[s+o-1],y=d[s+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(d[a+o]!==y||d[a+o-1]!==f||d[a]!==d[s]||d[++a]!==d[s+1])){s+=2,a++;do;while(d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&d[++s]===d[++a]&&s<p);if(i=Th-(p-s),s=p-Th,i>o){if(e.match_start=t,o=i,i>=l)break;f=d[s+o-1],y=d[s+o]}}while((t=h[t&u])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},jx=e=>{const t=e.w_size;let r,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-td)&&(e.window.set(e.window.subarray(t,t+t-s),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),C7e(e),s+=t),e.strm.avail_in===0)break;if(r=eA(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=r,e.lookahead+e.insert>=Gr)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=qh(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=qh(e,e.ins_h,e.window[a+Gr-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Gr)););}while(e.lookahead<td&&e.strm.avail_in!==0)},BH=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,a,i,o=0,l=e.strm.avail_in;do{if(s=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,s>a+e.strm.avail_in&&(s=a+e.strm.avail_in),s>i&&(s=i),s<r&&(s===0&&t!==fl||t===Vh||s!==a+e.strm.avail_in)))break;o=t===fl&&s===a+e.strm.avail_in?1:0,K6(e,0,0,o),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,ko(e.strm),a&&(a>s&&(a=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,s-=a),s&&(eA(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Kx:t!==Vh&&t!==fl&&e.strm.avail_in===0&&e.strstart===e.block_start?Gx:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(eA(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===fl)&&t!==Vh&&e.strm.avail_in===0&&a<=i)&&(s=a>i?i:a,o=t===fl&&e.strm.avail_in===0&&s===a?1:0,K6(e,e.block_start,s,o),e.block_start+=s,ko(e.strm)),o?Hm:Fi)},CS=(e,t)=>{let r,s;for(;;){if(e.lookahead<td){if(jx(e),e.lookahead<td&&t===Vh)return Fi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Gr&&(e.ins_h=qh(e,e.ins_h,e.window[e.strstart+Gr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-td&&(e.match_length=$H(e,r)),e.match_length>=Gr)if(s=Uh(e,e.strstart-e.match_start,e.match_length-Gr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Gr){e.match_length--;do e.strstart++,e.ins_h=qh(e,e.ins_h,e.window[e.strstart+Gr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=qh(e,e.ins_h,e.window[e.strstart+1]);else s=Uh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Io(e,!1),e.strm.avail_out===0))return Fi}return e.insert=e.strstart<Gr-1?e.strstart:Gr-1,t===fl?(Io(e,!0),e.strm.avail_out===0?Hm:Kx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Fi:Gx},Up=(e,t)=>{let r,s,a;for(;;){if(e.lookahead<td){if(jx(e),e.lookahead<td&&t===Vh)return Fi;if(e.lookahead===0)break}if(r=0,e.lookahead>=Gr&&(e.ins_h=qh(e,e.ins_h,e.window[e.strstart+Gr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Gr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-td&&(e.match_length=$H(e,r),e.match_length<=5&&(e.strategy===h7e||e.match_length===Gr&&e.strstart-e.match_start>4096)&&(e.match_length=Gr-1)),e.prev_length>=Gr&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Gr,s=Uh(e,e.strstart-1-e.prev_match,e.prev_length-Gr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=qh(e,e.ins_h,e.window[e.strstart+Gr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Gr-1,e.strstart++,s&&(Io(e,!1),e.strm.avail_out===0))return Fi}else if(e.match_available){if(s=Uh(e,0,e.window[e.strstart-1]),s&&Io(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Fi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=Uh(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Gr-1?e.strstart:Gr-1,t===fl?(Io(e,!0),e.strm.avail_out===0?Hm:Kx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Fi:Gx},T7e=(e,t)=>{let r,s,a,i;const o=e.window;for(;;){if(e.lookahead<=Th){if(jx(e),e.lookahead<=Th&&t===Vh)return Fi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Gr&&e.strstart>0&&(a=e.strstart-1,s=o[a],s===o[++a]&&s===o[++a]&&s===o[++a])){i=e.strstart+Th;do;while(s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&a<i);e.match_length=Th-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Gr?(r=Uh(e,1,e.match_length-Gr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Uh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Io(e,!1),e.strm.avail_out===0))return Fi}return e.insert=0,t===fl?(Io(e,!0),e.strm.avail_out===0?Hm:Kx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Fi:Gx},E7e=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(jx(e),e.lookahead===0)){if(t===Vh)return Fi;break}if(e.match_length=0,r=Uh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Io(e,!1),e.strm.avail_out===0))return Fi}return e.insert=0,t===fl?(Io(e,!0),e.strm.avail_out===0?Hm:Kx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Fi:Gx};function Lc(e,t,r,s,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=s,this.func=a}const ay=[new Lc(0,0,0,0,BH),new Lc(4,4,8,4,CS),new Lc(4,5,16,8,CS),new Lc(4,6,32,32,CS),new Lc(4,4,16,16,Up),new Lc(8,16,32,32,Up),new Lc(8,16,128,128,Up),new Lc(8,32,128,256,Up),new Lc(32,128,258,1024,Up),new Lc(32,258,258,4096,Up)],O7e=e=>{e.window_size=2*e.w_size,yh(e.head),e.max_lazy_match=ay[e.level].max_lazy,e.good_match=ay[e.level].good_length,e.nice_match=ay[e.level].nice_length,e.max_chain_length=ay[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Gr-1,e.match_available=0,e.ins_h=0};function L7e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(S7e*2),this.dyn_dtree=new Uint16Array((2*j7e+1)*2),this.bl_tree=new Uint16Array((2*N7e+1)*2),yh(this.dyn_ltree),yh(this.dyn_dtree),yh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(_7e+1),this.heap=new Uint16Array(2*Y6+1),yh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Y6+1),yh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const tb=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==wx&&t.status!==W3&&t.status!==Z6&&t.status!==X6&&t.status!==Q6&&t.status!==J6&&t.status!==dm&&t.status!==sy?1:0},zH=e=>{if(tb(e))return um(e,ed);e.total_in=e.total_out=0,e.data_type=g7e;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?W3:t.wrap?wx:dm,e.adler=t.wrap===2?0:1,t.last_flush=-2,a7e(t),Va},UH=e=>{const t=zH(e);return t===Va&&O7e(e.state),t},I7e=(e,t)=>tb(e)||e.state.wrap!==2?ed:(e.state.gzhead=t,Va),VH=(e,t,r,s,a,i)=>{if(!e)return ed;let o=1;if(t===u7e&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),a<1||a>x7e||r!==fN||s<8||s>15||t<0||t>9||i<0||i>m7e||s===8&&o!==1)return um(e,ed);s===8&&(s=9);const l=new L7e;return e.state=l,l.strm=e,l.status=wx,l.wrap=o,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Gr-1)/Gr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,UH(e)},M7e=(e,t)=>VH(e,t,fN,y7e,v7e,p7e),D7e=(e,t)=>{if(tb(e)||t>SM||t<0)return e?um(e,ed):ed;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===sy&&t!==fl)return um(e,e.avail_out===0?kS:ed);const s=r.last_flush;if(r.last_flush=t,r.pending!==0){if(ko(e),e.avail_out===0)return r.last_flush=-1,Va}else if(e.avail_in===0&&AM(t)<=AM(s)&&t!==fl)return um(e,kS);if(r.status===sy&&e.avail_in!==0)return um(e,kS);if(r.status===wx&&r.wrap===0&&(r.status=dm),r.status===wx){let a=fN+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=x1||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=A7e),a+=31-a%31,Y0(r,a),r.strstart!==0&&(Y0(r,e.adler>>>16),Y0(r,e.adler&65535)),e.adler=1,r.status=dm,ko(e),r.pending!==0)return r.last_flush=-1,Va}if(r.status===W3){if(e.adler=0,mn(r,31),mn(r,139),mn(r,8),r.gzhead)mn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),mn(r,r.gzhead.time&255),mn(r,r.gzhead.time>>8&255),mn(r,r.gzhead.time>>16&255),mn(r,r.gzhead.time>>24&255),mn(r,r.level===9?2:r.strategy>=x1||r.level<2?4:0),mn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(mn(r,r.gzhead.extra.length&255),mn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Pa(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Z6;else if(mn(r,0),mn(r,0),mn(r,0),mn(r,0),mn(r,0),mn(r,r.level===9?2:r.strategy>=x1||r.level<2?4:0),mn(r,k7e),r.status=dm,ko(e),r.pending!==0)return r.last_flush=-1,Va}if(r.status===Z6){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=l,ko(e),r.pending!==0)return r.last_flush=-1,Va;a=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=X6}if(r.status===X6){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a)),ko(e),r.pending!==0)return r.last_flush=-1,Va;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,mn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Q6}if(r.status===Q6){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a)),ko(e),r.pending!==0)return r.last_flush=-1,Va;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,mn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Pa(e.adler,r.pending_buf,r.pending-a,a))}r.status=J6}if(r.status===J6){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(ko(e),r.pending!==0))return r.last_flush=-1,Va;mn(r,e.adler&255),mn(r,e.adler>>8&255),e.adler=0}if(r.status=dm,ko(e),r.pending!==0)return r.last_flush=-1,Va}if(e.avail_in!==0||r.lookahead!==0||t!==Vh&&r.status!==sy){let a=r.level===0?BH(r,t):r.strategy===x1?E7e(r,t):r.strategy===f7e?T7e(r,t):ay[r.level].func(r,t);if((a===Hm||a===Kx)&&(r.status=sy),a===Fi||a===Hm)return e.avail_out===0&&(r.last_flush=-1),Va;if(a===Gx&&(t===l7e?o7e(r):t!==SM&&(K6(r,0,0,!1),t===c7e&&(yh(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ko(e),e.avail_out===0))return r.last_flush=-1,Va}return t!==fl?Va:r.wrap<=0?_M:(r.wrap===2?(mn(r,e.adler&255),mn(r,e.adler>>8&255),mn(r,e.adler>>16&255),mn(r,e.adler>>24&255),mn(r,e.total_in&255),mn(r,e.total_in>>8&255),mn(r,e.total_in>>16&255),mn(r,e.total_in>>24&255)):(Y0(r,e.adler>>>16),Y0(r,e.adler&65535)),ko(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Va:_M)},F7e=e=>{if(tb(e))return ed;const t=e.state.status;return e.state=null,t===dm?um(e,d7e):Va},R7e=(e,t)=>{let r=t.length;if(tb(e))return ed;const s=e.state,a=s.wrap;if(a===2||a===1&&s.status!==wx||s.lookahead)return ed;if(a===1&&(e.adler=Av(e.adler,t,r,0)),s.wrap=0,r>=s.w_size){a===0&&(yh(s.head),s.strstart=0,s.block_start=0,s.insert=0);let c=new Uint8Array(s.w_size);c.set(t.subarray(r-s.w_size,r),0),t=c,r=s.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,jx(s);s.lookahead>=Gr;){let c=s.strstart,d=s.lookahead-(Gr-1);do s.ins_h=qh(s,s.ins_h,s.window[c+Gr-1]),s.prev[c&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=c,c++;while(--d);s.strstart=c,s.lookahead=Gr-1,jx(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Gr-1,s.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,s.wrap=a,Va};var $7e=M7e,B7e=VH,z7e=UH,U7e=zH,V7e=I7e,q7e=D7e,W7e=F7e,H7e=R7e,G7e="pako deflate (from Nodeca project)",Ay={deflateInit:$7e,deflateInit2:B7e,deflateReset:z7e,deflateResetKeep:U7e,deflateSetHeader:V7e,deflate:q7e,deflateEnd:W7e,deflateSetDictionary:H7e,deflateInfo:G7e};const K7e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Y7e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)K7e(r,s)&&(e[s]=r[s])}}return e},Z7e=e=>{let t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].length;const r=new Uint8Array(t);for(let s=0,a=0,i=e.length;s<i;s++){let o=e[s];r.set(o,a),a+=o.length}return r},mN={assign:Y7e,flattenChunks:Z7e};let qH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qH=!1}const kv=new Uint8Array(256);for(let e=0;e<256;e++)kv[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;kv[254]=kv[254]=1;var X7e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,s,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Q7e=(e,t)=>{if(t<65534&&e.subarray&&qH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r};var J7e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=e[s++];if(o<128){i[a++]=o;continue}let l=kv[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|e[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return Q7e(i,a)},eFe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+kv[e[r]]>t?r:t},Cv={string2buf:X7e,buf2string:J7e,utf8border:eFe};function tFe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WH=tFe;const HH=Object.prototype.toString,{Z_NO_FLUSH:rFe,Z_SYNC_FLUSH:nFe,Z_FULL_FLUSH:sFe,Z_FINISH:aFe,Z_OK:B2,Z_STREAM_END:iFe,Z_DEFAULT_COMPRESSION:oFe,Z_DEFAULT_STRATEGY:lFe,Z_DEFLATED:cFe}=eb;function H3(e){this.options=mN.assign({level:oFe,method:cFe,chunkSize:16384,windowBits:15,memLevel:8,strategy:lFe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WH,this.strm.avail_out=0;let r=Ay.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==B2)throw new Error(bx[r]);if(t.header&&Ay.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=Cv.string2buf(t.dictionary):HH.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,r=Ay.deflateSetDictionary(this.strm,s),r!==B2)throw new Error(bx[r]);this._dict_set=!0}}H3.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?aFe:rFe,typeof e=="string"?r.input=Cv.string2buf(e):HH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(i===nFe||i===sFe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=Ay.deflate(r,i),a===iFe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ay.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===B2;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};H3.prototype.onData=function(e){this.chunks.push(e)};H3.prototype.onEnd=function(e){e===B2&&(this.result=mN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const y1=16209,dFe=16191;var uFe=function(t,r){let s,a,i,o,l,c,d,u,h,p,f,y,g,v,b,S,N,w,C,L,k,A,P,B;const T=t.state;s=t.next_in,P=t.input,a=s+(t.avail_in-5),i=t.next_out,B=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=T.dmax,d=T.wsize,u=T.whave,h=T.wnext,p=T.window,f=T.hold,y=T.bits,g=T.lencode,v=T.distcode,b=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{y<15&&(f+=P[s++]<<y,y+=8,f+=P[s++]<<y,y+=8),N=g[f&b];t:for(;;){if(w=N>>>24,f>>>=w,y-=w,w=N>>>16&255,w===0)B[i++]=N&65535;else if(w&16){C=N&65535,w&=15,w&&(y<w&&(f+=P[s++]<<y,y+=8),C+=f&(1<<w)-1,f>>>=w,y-=w),y<15&&(f+=P[s++]<<y,y+=8,f+=P[s++]<<y,y+=8),N=v[f&S];r:for(;;){if(w=N>>>24,f>>>=w,y-=w,w=N>>>16&255,w&16){if(L=N&65535,w&=15,y<w&&(f+=P[s++]<<y,y+=8,y<w&&(f+=P[s++]<<y,y+=8)),L+=f&(1<<w)-1,L>c){t.msg="invalid distance too far back",T.mode=y1;break e}if(f>>>=w,y-=w,w=i-o,L>w){if(w=L-w,w>u&&T.sane){t.msg="invalid distance too far back",T.mode=y1;break e}if(k=0,A=p,h===0){if(k+=d-w,w<C){C-=w;do B[i++]=p[k++];while(--w);k=i-L,A=B}}else if(h<w){if(k+=d+h-w,w-=h,w<C){C-=w;do B[i++]=p[k++];while(--w);if(k=0,h<C){w=h,C-=w;do B[i++]=p[k++];while(--w);k=i-L,A=B}}}else if(k+=h-w,w<C){C-=w;do B[i++]=p[k++];while(--w);k=i-L,A=B}for(;C>2;)B[i++]=A[k++],B[i++]=A[k++],B[i++]=A[k++],C-=3;C&&(B[i++]=A[k++],C>1&&(B[i++]=A[k++]))}else{k=i-L;do B[i++]=B[k++],B[i++]=B[k++],B[i++]=B[k++],C-=3;while(C>2);C&&(B[i++]=B[k++],C>1&&(B[i++]=B[k++]))}}else if(w&64){t.msg="invalid distance code",T.mode=y1;break e}else{N=v[(N&65535)+(f&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){T.mode=dFe;break e}else{t.msg="invalid literal/length code",T.mode=y1;break e}else{N=g[(N&65535)+(f&(1<<w)-1)];continue t}break}}while(s<a&&i<l);C=y>>3,s-=C,y-=C<<3,f&=(1<<y)-1,t.next_in=s,t.next_out=i,t.avail_in=s<a?5+(a-s):5-(s-a),t.avail_out=i<l?257+(l-i):257-(i-l),T.hold=f,T.bits=y};const Vp=15,kM=852,CM=592,PM=0,PS=1,TM=2,hFe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fFe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mFe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pFe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gFe=(e,t,r,s,a,i,o,l)=>{const c=l.bits;let d=0,u=0,h=0,p=0,f=0,y=0,g=0,v=0,b=0,S=0,N,w,C,L,k,A=null,P;const B=new Uint16Array(Vp+1),T=new Uint16Array(Vp+1);let I=null,M,D,V;for(d=0;d<=Vp;d++)B[d]=0;for(u=0;u<s;u++)B[t[r+u]]++;for(f=c,p=Vp;p>=1&&B[p]===0;p--);if(f>p&&(f=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&B[h]===0;h++);for(f<h&&(f=h),v=1,d=1;d<=Vp;d++)if(v<<=1,v-=B[d],v<0)return-1;if(v>0&&(e===PM||p!==1))return-1;for(T[1]=0,d=1;d<Vp;d++)T[d+1]=T[d]+B[d];for(u=0;u<s;u++)t[r+u]!==0&&(o[T[t[r+u]]++]=u);if(e===PM?(A=I=o,P=20):e===PS?(A=hFe,I=fFe,P=257):(A=mFe,I=pFe,P=0),S=0,u=0,d=h,k=i,y=f,g=0,C=-1,b=1<<f,L=b-1,e===PS&&b>kM||e===TM&&b>CM)return 1;for(;;){M=d-g,o[u]+1<P?(D=0,V=o[u]):o[u]>=P?(D=I[o[u]-P],V=A[o[u]-P]):(D=96,V=0),N=1<<d-g,w=1<<y,h=w;do w-=N,a[k+(S>>g)+w]=M<<24|D<<16|V|0;while(w!==0);for(N=1<<d-1;S&N;)N>>=1;if(N!==0?(S&=N-1,S+=N):S=0,u++,--B[d]===0){if(d===p)break;d=t[r+o[u]]}if(d>f&&(S&L)!==C){for(g===0&&(g=f),k+=h,y=d-g,v=1<<y;y+g<p&&(v-=B[y+g],!(v<=0));)y++,v<<=1;if(b+=1<<y,e===PS&&b>kM||e===TM&&b>CM)return 1;C=S&L,a[C]=f<<24|y<<16|k-i|0}}return S!==0&&(a[k+S]=d-g<<24|64<<16|0),l.bits=f,0};var ky=gFe;const xFe=0,GH=1,KH=2,{Z_FINISH:EM,Z_BLOCK:yFe,Z_TREES:v1,Z_OK:Gm,Z_STREAM_END:vFe,Z_NEED_DICT:bFe,Z_STREAM_ERROR:yl,Z_DATA_ERROR:YH,Z_MEM_ERROR:ZH,Z_BUF_ERROR:wFe,Z_DEFLATED:OM}=eb,pN=16180,LM=16181,IM=16182,MM=16183,DM=16184,FM=16185,RM=16186,$M=16187,BM=16188,zM=16189,z2=16190,Dd=16191,TS=16192,UM=16193,ES=16194,VM=16195,qM=16196,WM=16197,HM=16198,b1=16199,w1=16200,GM=16201,KM=16202,YM=16203,ZM=16204,XM=16205,OS=16206,QM=16207,JM=16208,cs=16209,XH=16210,QH=16211,jFe=852,NFe=592,SFe=15,_Fe=SFe,eD=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function AFe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const np=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<pN||t.mode>QH?1:0},JH=e=>{if(np(e))return yl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=pN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(jFe),t.distcode=t.distdyn=new Int32Array(NFe),t.sane=1,t.back=-1,Gm},eG=e=>{if(np(e))return yl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,JH(e)},tG=(e,t)=>{let r;if(np(e))return yl;const s=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?yl:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,eG(e))},rG=(e,t)=>{if(!e)return yl;const r=new AFe;e.state=r,r.strm=e,r.window=null,r.mode=pN;const s=tG(e,t);return s!==Gm&&(e.state=null),s},kFe=e=>rG(e,_Fe);let tD=!0,LS,IS;const CFe=e=>{if(tD){LS=new Int32Array(512),IS=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ky(GH,e.lens,0,288,LS,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ky(KH,e.lens,0,32,IS,0,e.work,{bits:5}),tD=!1}e.lencode=LS,e.lenbits=9,e.distcode=IS,e.distbits=5},nG=(e,t,r,s)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(t.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(t.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},PFe=(e,t)=>{let r,s,a,i,o,l,c,d,u,h,p,f,y,g,v=0,b,S,N,w,C,L,k,A;const P=new Uint8Array(4);let B,T;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(np(e)||!e.output||!e.input&&e.avail_in!==0)return yl;r=e.state,r.mode===Dd&&(r.mode=TS),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=r.hold,u=r.bits,h=l,p=c,A=Gm;e:for(;;)switch(r.mode){case pN:if(r.wrap===0){r.mode=TS;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,P[0]=d&255,P[1]=d>>>8&255,r.check=Pa(r.check,P,2,0),d=0,u=0,r.mode=LM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=cs;break}if((d&15)!==OM){e.msg="unknown compression method",r.mode=cs;break}if(d>>>=4,u-=4,k=(d&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=cs;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?zM:Dd,d=0,u=0;break;case LM:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==OM){e.msg="unknown compression method",r.mode=cs;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=cs;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=Pa(r.check,P,2,0)),d=0,u=0,r.mode=IM;case IM:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,r.check=Pa(r.check,P,4,0)),d=0,u=0,r.mode=MM;case MM:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=Pa(r.check,P,2,0)),d=0,u=0,r.mode=DM;case DM:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,r.check=Pa(r.check,P,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=FM;case FM:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+f),k)),r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=RM;case RM:if(r.flags&2048){if(l===0)break e;f=0;do k=s[i+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,f,i)),l-=f,i+=f,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=$M;case $M:if(r.flags&4096){if(l===0)break e;f=0;do k=s[i+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Pa(r.check,s,f,i)),l-=f,i+=f,k)break e}else r.head&&(r.head.comment=null);r.mode=BM;case BM:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=cs;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Dd;break;case zM:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}e.adler=r.check=eD(d),d=0,u=0,r.mode=z2;case z2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,bFe;e.adler=r.check=1,r.mode=Dd;case Dd:if(t===yFe||t===v1)break e;case TS:if(r.last){d>>>=u&7,u-=u&7,r.mode=OS;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=UM;break;case 1:if(CFe(r),r.mode=b1,t===v1){d>>>=2,u-=2;break e}break;case 2:r.mode=qM;break;case 3:e.msg="invalid block type",r.mode=cs}d>>>=2,u-=2;break;case UM:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=cs;break}if(r.length=d&65535,d=0,u=0,r.mode=ES,t===v1)break e;case ES:r.mode=VM;case VM:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=Dd;break;case qM:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=cs;break}r.have=0,r.mode=WM;case WM:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.lens[I[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},A=ky(xFe,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,A){e.msg="invalid code lengths set",r.mode=cs;break}r.have=0,r.mode=HM;case HM:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,S=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(N<16)d>>>=b,u-=b,r.lens[r.have++]=N;else{if(N===16){for(T=b+2;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=b,u-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=cs;break}k=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(N===17){for(T=b+3;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,k=0,f=3+(d&7),d>>>=3,u-=3}else{for(T=b+7;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=b,u-=b,k=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=cs;break}for(;f--;)r.lens[r.have++]=k}}if(r.mode===cs)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=cs;break}if(r.lenbits=9,B={bits:r.lenbits},A=ky(GH,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,A){e.msg="invalid literal/lengths set",r.mode=cs;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},A=ky(KH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,A){e.msg="invalid distances set",r.mode=cs;break}if(r.mode=b1,t===v1)break e;case b1:r.mode=w1;case w1:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,uFe(e,p),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Dd&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],b=v>>>24,S=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(S&&!(S&240)){for(w=b,C=S,L=N;v=r.lencode[L+((d&(1<<w+C)-1)>>w)],b=v>>>24,S=v>>>16&255,N=v&65535,!(w+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=w,u-=w,r.back+=w}if(d>>>=b,u-=b,r.back+=b,r.length=N,S===0){r.mode=XM;break}if(S&32){r.back=-1,r.mode=Dd;break}if(S&64){e.msg="invalid literal/length code",r.mode=cs;break}r.extra=S&15,r.mode=GM;case GM:if(r.extra){for(T=r.extra;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=KM;case KM:for(;v=r.distcode[d&(1<<r.distbits)-1],b=v>>>24,S=v>>>16&255,N=v&65535,!(b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(!(S&240)){for(w=b,C=S,L=N;v=r.distcode[L+((d&(1<<w+C)-1)>>w)],b=v>>>24,S=v>>>16&255,N=v&65535,!(w+b<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=w,u-=w,r.back+=w}if(d>>>=b,u-=b,r.back+=b,S&64){e.msg="invalid distance code",r.mode=cs;break}r.offset=N,r.extra=S&15,r.mode=YM;case YM:if(r.extra){for(T=r.extra;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=cs;break}r.mode=ZM;case ZM:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=cs;break}f>r.wnext?(f-=r.wnext,y=r.wsize-f):y=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=a,y=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=g[y++];while(--f);r.length===0&&(r.mode=w1);break;case XM:if(c===0)break e;a[o++]=r.length,c--,r.mode=w1;break;case OS:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Pa(r.check,a,p,o-p):Av(r.check,a,p,o-p)),p=c,r.wrap&4&&(r.flags?d:eD(d))!==r.check){e.msg="incorrect data check",r.mode=cs;break}d=0,u=0}r.mode=QM;case QM:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=cs;break}d=0,u=0}r.mode=JM;case JM:A=vFe;break e;case cs:A=YH;break e;case XH:return ZH;case QH:default:return yl}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||p!==e.avail_out&&r.mode<cs&&(r.mode<OS||t!==EM))&&nG(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Pa(r.check,a,p,e.next_out-p):Av(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Dd?128:0)+(r.mode===b1||r.mode===ES?256:0),(h===0&&p===0||t===EM)&&A===Gm&&(A=wFe),A},TFe=e=>{if(np(e))return yl;let t=e.state;return t.window&&(t.window=null),e.state=null,Gm},EFe=(e,t)=>{if(np(e))return yl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Gm):yl},OFe=(e,t)=>{const r=t.length;let s,a,i;return np(e)||(s=e.state,s.wrap!==0&&s.mode!==z2)?yl:s.mode===z2&&(a=1,a=Av(a,t,r,0),a!==s.check)?YH:(i=nG(e,t,r,r),i?(s.mode=XH,ZH):(s.havedict=1,Gm))};var LFe=eG,IFe=tG,MFe=JH,DFe=kFe,FFe=rG,RFe=PFe,$Fe=TFe,BFe=EFe,zFe=OFe,UFe="pako inflate (from Nodeca project)",zd={inflateReset:LFe,inflateReset2:IFe,inflateResetKeep:MFe,inflateInit:DFe,inflateInit2:FFe,inflate:RFe,inflateEnd:$Fe,inflateGetHeader:BFe,inflateSetDictionary:zFe,inflateInfo:UFe};function VFe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qFe=VFe;const sG=Object.prototype.toString,{Z_NO_FLUSH:WFe,Z_FINISH:HFe,Z_OK:Pv,Z_STREAM_END:MS,Z_NEED_DICT:DS,Z_STREAM_ERROR:GFe,Z_DATA_ERROR:rD,Z_MEM_ERROR:KFe}=eb;function rb(e){this.options=mN.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WH,this.strm.avail_out=0;let r=zd.inflateInit2(this.strm,t.windowBits);if(r!==Pv)throw new Error(bx[r]);if(this.header=new qFe,zd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Cv.string2buf(t.dictionary):sG.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zd.inflateSetDictionary(this.strm,t.dictionary),r!==Pv)))throw new Error(bx[r])}rb.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?HFe:WFe,sG.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=zd.inflate(r,o),i===DS&&a&&(i=zd.inflateSetDictionary(r,a),i===Pv?i=zd.inflate(r,o):i===rD&&(i=DS));r.avail_in>0&&i===MS&&r.state.wrap>0&&e[r.next_in]!==0;)zd.inflateReset(r),i=zd.inflate(r,o);switch(i){case GFe:case rD:case DS:case KFe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===MS))if(this.options.to==="string"){let c=Cv.utf8border(r.output,r.next_out),d=r.next_out-c,u=Cv.buf2string(r.output,c);r.next_out=d,r.avail_out=s-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Pv&&l===0)){if(i===MS)return i=zd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};rb.prototype.onData=function(e){this.chunks.push(e)};rb.prototype.onEnd=function(e){e===Pv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=mN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function G3(e,t){const r=new rb(t);if(r.push(e),r.err)throw r.msg||bx[r.err];return r.result}function YFe(e,t){return t=t||{},t.raw=!0,G3(e,t)}var ZFe=rb,XFe=G3,QFe=YFe,JFe=G3,eRe=eb,tRe={Inflate:ZFe,inflate:XFe,inflateRaw:QFe,ungzip:JFe,constants:eRe};const{Inflate:rRe,inflate:nRe,inflateRaw:I$e,ungzip:M$e}=tRe;var nD=rRe,sRe=nRe;const aG=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;aG[e]=t}const sD=4294967295;function aRe(e,t,r){let s=e;for(let a=0;a<r;a++)s=aG[(s^t[a])&255]^s>>>8;return s}function iRe(e,t){return(aRe(sD,e,t)^sD)>>>0}function aD(e,t,r){const s=e.readUint32(),a=iRe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function iG(e,t,r){for(let s=0;s<r;s++)t[s]=e[s]}function oG(e,t,r,s){let a=0;for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-s]&255}function lG(e,t,r,s){let a=0;if(r.length===0)for(;a<s;a++)t[a]=e[a];else for(;a<s;a++)t[a]=e[a]+r[a]&255}function cG(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function dG(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<s;i++)t[i]=e[i]+oRe(t[i-a],r[i],r[i-a])&255}}function oRe(e,t,r){const s=e+t-r,a=Math.abs(s-e),i=Math.abs(s-t),o=Math.abs(s-r);return a<=i&&a<=o?e:i<=o?t:r}function lRe(e,t,r,s,a,i){switch(e){case 0:iG(t,r,a);break;case 1:oG(t,r,a,i);break;case 2:lG(t,r,s,a);break;case 3:cG(t,r,s,a,i);break;case 4:dG(t,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const cRe=new Uint16Array([255]),dRe=new Uint8Array(cRe.buffer),uRe=dRe[0]===255;function hRe(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(p<=0||f<=0)continue;const y=p*l,g=new Uint8Array(y);for(let v=0;v<f;v++){const b=t[d++],S=t.subarray(d,d+y);d+=y;const N=new Uint8Array(y);lRe(b,S,N,g,y,l),g.set(N);for(let w=0;w<p;w++){const C=h.x+w*h.xStep,L=h.y+v*h.yStep;if(!(C>=r||L>=s))for(let k=0;k<l;k++)c[(L*r+C)*l+k]=N[w*l+k]}}}if(i===16){const u=new Uint16Array(c.buffer);if(uRe)for(let h=0;h<u.length;h++)u[h]=fRe(u[h]);return u}else return c}function fRe(e){return(e&255)<<8|e>>8&255}const mRe=new Uint16Array([255]),pRe=new Uint8Array(mRe.buffer),gRe=pRe[0]===255,xRe=new Uint8Array(0);function iD(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let d=xRe,u=0,h,p;for(let f=0;f<s;f++){switch(h=t.subarray(u+1,u+1+l),p=c.subarray(f*l,(f+1)*l),t[u]){case 0:iG(h,p,l);break;case 1:oG(h,p,l,o);break;case 2:lG(h,p,d,l);break;case 3:cG(h,p,d,l,o);break;case 4:dG(h,p,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=p,u+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(gRe)for(let y=0;y<f.length;y++)f[y]=yRe(f[y]);return f}else return c}function yRe(e){return(e&255)<<8|e>>8&255}const H1=Uint8Array.of(137,80,78,71,13,10,26,10);function oD(e){if(!vRe(e.readBytes(H1.length)))throw new Error("wrong PNG signature")}function vRe(e){if(e.length<H1.length)return!1;for(let t=0;t<H1.length;t++)if(e[t]!==H1[t])return!1;return!0}const bRe="tEXt",wRe=0,uG=new TextDecoder("latin1");function jRe(e){if(SRe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const NRe=/^[\u0000-\u00FF]*$/;function SRe(e){if(!NRe.test(e))throw new Error("invalid latin1 text")}function _Re(e,t,r){const s=hG(t);e[s]=ARe(t,r-s.length-1)}function hG(e){for(e.mark();e.readByte()!==wRe;);const t=e.offset;e.reset();const r=uG.decode(e.readBytes(t-e.offset-1));return e.skip(1),jRe(r),r}function ARe(e,t){return uG.decode(e.readBytes(t))}const So={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},FS={UNKNOWN:-1,DEFLATE:0},lD={UNKNOWN:-1,ADAPTIVE:0},RS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},j1={NONE:0,BACKGROUND:1,PREVIOUS:2},$S={SOURCE:0,OVER:1};class kRe extends B3{constructor(r,s={}){super(r);Ke(this,"_checkCrc");Ke(this,"_inflator");Ke(this,"_png");Ke(this,"_apng");Ke(this,"_end");Ke(this,"_hasPalette");Ke(this,"_palette");Ke(this,"_hasTransparency");Ke(this,"_transparency");Ke(this,"_compressionMethod");Ke(this,"_filterMethod");Ke(this,"_interlaceMethod");Ke(this,"_colorType");Ke(this,"_isAnimated");Ke(this,"_numberOfFrames");Ke(this,"_numberOfPlays");Ke(this,"_frames");Ke(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new nD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=FS.UNKNOWN,this._filterMethod=lD.UNKNOWN,this._interlaceMethod=RS.UNKNOWN,this._colorType=So.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oD(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeChunk(r,s)}return this.decodeImage(),this._png}decodeApng(){for(oD(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(r,s)}return this.decodeApngImage(),this._apng}decodeChunk(r,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case bRe:_Re(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?aD(this,r+4,s):this.skip(4)}decodeApngChunk(r,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,s),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?aD(this,r+4,s):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=CRe(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case So.GREYSCALE:a=1;break;case So.TRUECOLOUR:a=3;break;case So.INDEXED_COLOUR:a=1;break;case So.GREYSCALE_ALPHA:a=2;break;case So.TRUECOLOUR_ALPHA:a=4;break;case So.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==FS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const s=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const s=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let s=r,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case So.GREYSCALE:case So.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let s=0;s<r/2;s++)this._transparency[s]=this.readUint16();break}case So.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let s=0;for(;s<r;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case So.UNKNOWN:case So.GREYSCALE_ALPHA:case So.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const s=hG(this),a=this.readUint8();if(a!==FS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:sRe(i)}}decodepHYs(){const r=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const s={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=iD({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(r,s,a){switch(r.disposeOp){case j1.NONE:break;case j1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case j1.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,d=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(s.blendOp){case $S.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=s.data[d+u]}break;case $S.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let u=0;u<this._png.channels;u++){const h=s.data[d+this._png.channels-1]/a,p=u%(this._png.channels-1)===0?1:s.data[d+u],f=Math.floor(h*p+(1-h)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==lD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===RS.NO_INTERLACE)this._png.data=iD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===RS.ADAM7)this._png.data=hRe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,s=this._frames.at(-1);s?s.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:j1.NONE,blendOp:$S.SOURCE,data:r}),this._inflator=new nD,this._writingDataChunks=!1}}function CRe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var cD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(cD||(cD={}));function PRe(e,t){return new kRe(e,t).decode()}var cr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function BS(){cr.console&&typeof cr.console.log=="function"&&cr.console.log.apply(cr.console,arguments)}var Dn={log:BS,warn:function(e){cr.console&&(typeof cr.console.warn=="function"?cr.console.warn.apply(cr.console,arguments):BS.call(null,arguments))},error:function(e){cr.console&&(typeof cr.console.error=="function"?cr.console.error.apply(cr.console,arguments):BS(e))}};function zS(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Xf(s.response,t,r)},s.onerror=function(){Dn.error("could not download file")},s.send()}function dD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function N1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Xf=cr.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==cr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=cr.URL||cr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?dD(a.href)?zS(e,t,r):N1(a,a.target="_blank"):N1(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){N1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(dD(e))zS(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){N1(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:jn(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return zS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(cr.HTMLElement)||cr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(e)}else{var c=cr.URL||cr.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function fG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var G1=cr.atob.bind(cr),uD=cr.btoa.bind(cr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function US(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=ai(r,s,a,i,t[0],7,-680876936),i=ai(i,r,s,a,t[1],12,-389564586),a=ai(a,i,r,s,t[2],17,606105819),s=ai(s,a,i,r,t[3],22,-1044525330),r=ai(r,s,a,i,t[4],7,-176418897),i=ai(i,r,s,a,t[5],12,1200080426),a=ai(a,i,r,s,t[6],17,-1473231341),s=ai(s,a,i,r,t[7],22,-45705983),r=ai(r,s,a,i,t[8],7,1770035416),i=ai(i,r,s,a,t[9],12,-1958414417),a=ai(a,i,r,s,t[10],17,-42063),s=ai(s,a,i,r,t[11],22,-1990404162),r=ai(r,s,a,i,t[12],7,1804603682),i=ai(i,r,s,a,t[13],12,-40341101),a=ai(a,i,r,s,t[14],17,-1502002290),r=ii(r,s=ai(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ii(i,r,s,a,t[6],9,-1069501632),a=ii(a,i,r,s,t[11],14,643717713),s=ii(s,a,i,r,t[0],20,-373897302),r=ii(r,s,a,i,t[5],5,-701558691),i=ii(i,r,s,a,t[10],9,38016083),a=ii(a,i,r,s,t[15],14,-660478335),s=ii(s,a,i,r,t[4],20,-405537848),r=ii(r,s,a,i,t[9],5,568446438),i=ii(i,r,s,a,t[14],9,-1019803690),a=ii(a,i,r,s,t[3],14,-187363961),s=ii(s,a,i,r,t[8],20,1163531501),r=ii(r,s,a,i,t[13],5,-1444681467),i=ii(i,r,s,a,t[2],9,-51403784),a=ii(a,i,r,s,t[7],14,1735328473),r=oi(r,s=ii(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=oi(i,r,s,a,t[8],11,-2022574463),a=oi(a,i,r,s,t[11],16,1839030562),s=oi(s,a,i,r,t[14],23,-35309556),r=oi(r,s,a,i,t[1],4,-1530992060),i=oi(i,r,s,a,t[4],11,1272893353),a=oi(a,i,r,s,t[7],16,-155497632),s=oi(s,a,i,r,t[10],23,-1094730640),r=oi(r,s,a,i,t[13],4,681279174),i=oi(i,r,s,a,t[0],11,-358537222),a=oi(a,i,r,s,t[3],16,-722521979),s=oi(s,a,i,r,t[6],23,76029189),r=oi(r,s,a,i,t[9],4,-640364487),i=oi(i,r,s,a,t[12],11,-421815835),a=oi(a,i,r,s,t[15],16,530742520),r=li(r,s=oi(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=li(i,r,s,a,t[7],10,1126891415),a=li(a,i,r,s,t[14],15,-1416354905),s=li(s,a,i,r,t[5],21,-57434055),r=li(r,s,a,i,t[12],6,1700485571),i=li(i,r,s,a,t[3],10,-1894986606),a=li(a,i,r,s,t[10],15,-1051523),s=li(s,a,i,r,t[1],21,-2054922799),r=li(r,s,a,i,t[8],6,1873313359),i=li(i,r,s,a,t[15],10,-30611744),a=li(a,i,r,s,t[6],15,-1560198380),s=li(s,a,i,r,t[13],21,1309151649),r=li(r,s,a,i,t[4],6,-145523070),i=li(i,r,s,a,t[11],10,-1120210379),a=li(a,i,r,s,t[2],15,718787259),s=li(s,a,i,r,t[9],21,-343485551),e[0]=Eh(r,e[0]),e[1]=Eh(s,e[1]),e[2]=Eh(a,e[2]),e[3]=Eh(i,e[3])}function gN(e,t,r,s,a,i){return t=Eh(Eh(t,e),Eh(s,i)),Eh(t<<a|t>>>32-a,r)}function ai(e,t,r,s,a,i,o){return gN(t&r|~t&s,e,t,a,i,o)}function ii(e,t,r,s,a,i,o){return gN(t&s|r&~s,e,t,a,i,o)}function oi(e,t,r,s,a,i,o){return gN(t^r^s,e,t,a,i,o)}function li(e,t,r,s,a,i,o){return gN(r^(t|~s),e,t,a,i,o)}function mG(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)US(s,TRe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(US(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,US(s,a),s}function TRe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var hD="0123456789abcdef".split("");function ERe(e){for(var t="",r=0;r<4;r++)t+=hD[e>>8*r+4&15]+hD[e>>8*r&15];return t}function ORe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function tA(e){return mG(e).map(ORe).join("")}var LRe=function(e){for(var t=0;t<e.length;t++)e[t]=ERe(e[t]);return e.join("")}(mG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eh(e,t){if(LRe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rA(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,s=l}else l=s;var h=t.length,p=0,f=0,y="";for(c=0;c<h;c++)f=(f+(u=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=u,o=l[(l[p]+l[f])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fD={print:4,modify:8,copy:16,"annot-forms":32};function Gp(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(fD.perm!==void 0)throw new Error("Invalid permission: "+l);a+=fD[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=tA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=rA(this.encryptionKey,this.padding)}function Kp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[s]}return t}function mD(e){if(jn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(l){cr.console&&Dn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function U2(e){if(!(this instanceof U2))return new U2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function pG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function em(e,t,r,s,a){if(!(this instanceof em))return new em(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,pG.call(this,s,a)}function ag(e,t,r,s,a){if(!(this instanceof ag))return new ag(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,pG.call(this,s,a)}function Rt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;jn(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=mD;var y="1.3",g=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(R){y=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var b=f.__private__.getPageFormat=function(R){return v[R]};a=a||"a4";var S="compat",N="advanced",w=S;function C(){this.saveGraphicsState(),G(new Ht(mt,0,0,-mt,0,Ra()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),d="n",w=N}function L(){this.restoreGraphicsState(),d="S",w=S}var k=f.__private__.combineFontStyleAndFontWeight=function(R,se){if(R=="bold"&&se=="normal"||R=="bold"&&se==400||R=="normal"&&se=="italic"||R=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(R=se==400||se==="normal"?R==="italic"?"italic":"normal":se!=700&&se!=="bold"||R!=="normal"?(se==700?"bold":se)+""+R:"bold"),R};f.advancedAPI=function(R){var se=w===S;return se&&C.call(this),typeof R!="function"||(R(this),se&&L.call(this)),this},f.compatAPI=function(R){var se=w===N;return se&&L.call(this),typeof R!="function"||(R(this),se&&C.call(this)),this},f.isAdvancedAPI=function(){return w===N};var A,P=function(R){if(w!==N)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=f.roundToPrecision=f.__private__.roundToPrecision=function(R,se){var je=t||se;if(isNaN(R)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(je).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,16)};var T=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return B(R,2)},I=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return B(R,3)},M=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return w===S?R*mt:w===N?R:void 0},D=function(R){return M(function(se){return w===S?Ra()-se:w===N?se:void 0}(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var V,z="00000000000000000000000000000000",X=f.__private__.getFileId=function(){return z},q=f.__private__.setFileId=function(R){return z=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(ms=new Gp(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};f.setFileId=function(R){return q(R),this},f.getFileId=function(){return X()};var Y=f.__private__.convertDateToPDFDate=function(R){var se=R.getTimezoneOffset(),je=se<0?"+":"-",Te=Math.floor(Math.abs(se/60)),Fe=Math.abs(se%60),Je=[je,Q(Te),"'",Q(Fe),"'"].join("");return["D:",R.getFullYear(),Q(R.getMonth()+1),Q(R.getDate()),Q(R.getHours()),Q(R.getMinutes()),Q(R.getSeconds()),Je].join("")},ie=f.__private__.convertPDFDateToDate=function(R){var se=parseInt(R.substr(2,4),10),je=parseInt(R.substr(6,2),10)-1,Te=parseInt(R.substr(8,2),10),Fe=parseInt(R.substr(10,2),10),Je=parseInt(R.substr(12,2),10),rt=parseInt(R.substr(14,2),10);return new Date(se,je,Te,Fe,Je,rt,0)},W=f.__private__.setCreationDate=function(R){var se;if(R===void 0&&(R=new Date),R instanceof Date)se=Y(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=R}return V=se},F=f.__private__.getCreationDate=function(R){var se=V;return R==="jsDate"&&(se=ie(V)),se};f.setCreationDate=function(R){return W(R),this},f.getCreationDate=function(R){return F(R)};var Z,Q=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ae=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},de=0,ge=[],Se=[],J=0,he=[],ee=[],le=!1,ke=Se;f.__private__.setCustomOutputDestination=function(R){le=!0,ke=R};var Ne=function(R){le||(ke=R)};f.__private__.resetCustomOutputDestination=function(){le=!1,ke=Se};var G=f.__private__.out=function(R){return R=R.toString(),J+=R.length+1,ke.push(R),ke},Ae=f.__private__.write=function(R){return G(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},ze=f.__private__.getArrayBuffer=function(R){for(var se=R.length,je=new ArrayBuffer(se),Te=new Uint8Array(je);se--;)Te[se]=R.charCodeAt(se);return je},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Be};var qe=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return qe=w===N?R/mt:R,this};var H,te=f.__private__.getFontSize=f.getFontSize=function(){return w===S?qe:qe*mt},ye=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return ye=R,this},f.__private__.getR2L=f.getR2L=function(){return ye};var Ce,Pe=f.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))H=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');H=R}else H=parseInt(R,10)};f.__private__.getZoomMode=function(){return H};var Ee,Ve=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Ce=R};f.__private__.getPageMode=function(){return Ce};var tt=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Ee=R};f.__private__.getLayoutMode=function(){return Ee},f.__private__.setDisplayMode=f.setDisplayMode=function(R,se,je){return Pe(R),tt(se),Ve(je),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(it).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[R]},f.__private__.getDocumentProperties=function(){return it},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var se in it)it.hasOwnProperty(se)&&R[se]&&(it[se]=R[se]);return this},f.__private__.setDocumentProperty=function(R,se){if(Object.keys(it).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[R]=se};var ft,mt,ut,zt,er,Nt={},tr={},Qr=[],Ft={},Ar={},fr={},hs={},Ss=null,pn=0,or=[],on=new mD(f),ud=e.hotfixes||[],Na={},qo={},Wo=[],Ht=function R(se,je,Te,Fe,Je,rt){if(!(this instanceof R))return new R(se,je,Te,Fe,Je,rt);isNaN(se)&&(se=1),isNaN(je)&&(je=0),isNaN(Te)&&(Te=0),isNaN(Fe)&&(Fe=1),isNaN(Je)&&(Je=0),isNaN(rt)&&(rt=0),this._matrix=[se,je,Te,Fe,Je,rt]};Object.defineProperty(Ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ht.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(R)},Ht.prototype.multiply=function(R){var se=R.sx*this.sx+R.shy*this.shx,je=R.sx*this.shy+R.shy*this.sy,Te=R.shx*this.sx+R.sy*this.shx,Fe=R.shx*this.shy+R.sy*this.sy,Je=R.tx*this.sx+R.ty*this.shx+this.tx,rt=R.tx*this.shy+R.ty*this.sy+this.ty;return new Ht(se,je,Te,Fe,Je,rt)},Ht.prototype.decompose=function(){var R=this.sx,se=this.shy,je=this.shx,Te=this.sy,Fe=this.tx,Je=this.ty,rt=Math.sqrt(R*R+se*se),kt=(R/=rt)*je+(se/=rt)*Te;je-=R*kt,Te-=se*kt;var wt=Math.sqrt(je*je+Te*Te);return kt/=wt,R*(Te/=wt)<se*(je/=wt)&&(R=-R,se=-se,kt=-kt,rt=-rt),{scale:new Ht(rt,0,0,wt,0,0),translate:new Ht(1,0,0,1,Fe,Je),rotate:new Ht(R,se,-se,R,0,0),skew:new Ht(1,0,kt,1,0,0)}},Ht.prototype.toString=function(R){return this.join(" ")},Ht.prototype.inversed=function(){var R=this.sx,se=this.shy,je=this.shx,Te=this.sy,Fe=this.tx,Je=this.ty,rt=1/(R*Te-se*je),kt=Te*rt,wt=-se*rt,rr=-je*rt,mr=R*rt;return new Ht(kt,wt,rr,mr,-kt*Fe-rr*Je,-wt*Fe-mr*Je)},Ht.prototype.applyToPoint=function(R){var se=R.x*this.sx+R.y*this.shx+this.tx,je=R.x*this.shy+R.y*this.sy+this.ty;return new xd(se,je)},Ht.prototype.applyToRectangle=function(R){var se=this.applyToPoint(R),je=this.applyToPoint(new xd(R.x+R.w,R.y+R.h));return new Cu(se.x,se.y,je.x-se.x,je.y-se.y)},Ht.prototype.clone=function(){var R=this.sx,se=this.shy,je=this.shx,Te=this.sy,Fe=this.tx,Je=this.ty;return new Ht(R,se,je,Te,Fe,Je)},f.Matrix=Ht;var jl=f.matrixMult=function(R,se){return se.multiply(R)},ao=new Ht(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ao;var Bi=function(R,se){if(!Ar[R]){var je=(se instanceof em?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);se.id=je,Ar[R]=je,Ft[je]=se,on.publish("addPattern",se)}};f.ShadingPattern=em,f.TilingPattern=ag,f.addShadingPattern=function(R,se){return P("addShadingPattern()"),Bi(R,se),this},f.beginTilingPattern=function(R){P("beginTilingPattern()"),ps(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,se){P("endTilingPattern()"),se.stream=ee[Z].join(`
`),Bi(R,se),on.publish("endTilingPattern",se),Wo.pop().restore()};var Ka,as=f.__private__.newObject=function(){var R=Ys();return aa(R,!0),R},Ys=f.__private__.newObjectDeferred=function(){return de++,ge[de]=function(){return J},de},aa=function(R,se){return se=typeof se=="boolean"&&se,ge[R]=J,se&&G(R+" 0 obj"),R},hd=f.__private__.newAdditionalObject=function(){var R={objId:Ys(),content:""};return he.push(R),R},pc=Ys(),io=Ys(),Ho=f.__private__.decodeColorString=function(R){var se=R.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var je=parseFloat(se[0]);se=[je,je,je,"r"]}for(var Te="#",Fe=0;Fe<3;Fe++)Te+=("0"+Math.floor(255*parseFloat(se[Fe])).toString(16)).slice(-2);return Te},oo=f.__private__.encodeColorString=function(R){var se;typeof R=="string"&&(R={ch1:R});var je=R.ch1,Te=R.ch2,Fe=R.ch3,Je=R.ch4,rt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var kt=new fG(je);if(kt.ok)je=kt.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var wt=parseInt(je.substr(1),16);je=wt>>16&255,Te=wt>>8&255,Fe=255&wt}if(Te===void 0||Je===void 0&&je===Te&&Te===Fe)se=typeof je=="string"?je+" "+rt[0]:R.precision===2?T(je/255)+" "+rt[0]:I(je/255)+" "+rt[0];else if(Je===void 0||jn(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return["1.","1.","1.",rt[1]].join(" ");se=typeof je=="string"?[je,Te,Fe,rt[1]].join(" "):R.precision===2?[T(je/255),T(Te/255),T(Fe/255),rt[1]].join(" "):[I(je/255),I(Te/255),I(Fe/255),rt[1]].join(" ")}else se=typeof je=="string"?[je,Te,Fe,Je,rt[2]].join(" "):R.precision===2?[T(je),T(Te),T(Fe),T(Je),rt[2]].join(" "):[I(je),I(Te),I(Fe),I(Je),rt[2]].join(" ");return se},zi=f.__private__.getFilters=function(){return o},Ui=f.__private__.putStream=function(R){var se=(R=R||{}).data||"",je=R.filters||zi(),Te=R.alreadyAppliedFilters||[],Fe=R.addLength1||!1,Je=se.length,rt=R.objectId,kt=function(_n){return _n};if(u!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=ms.encryptor(rt,0));var wt={};je===!0&&(je=["FlateEncode"]);var rr=R.additionalKeyValues||[],mr=(wt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(se,je):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(wt.data.length!==0&&(rr.push({key:"Length",value:wt.data.length}),Fe===!0&&rr.push({key:"Length1",value:Je})),mr.length!=0)if(mr.split("/").length-1==1)rr.push({key:"Filter",value:mr});else{rr.push({key:"Filter",value:"["+mr+"]"});for(var kr=0;kr<rr.length;kr+=1)if(rr[kr].key==="DecodeParms"){for(var Sn=[],is=0;is<wt.reverseChain.split("/").length-1;is+=1)Sn.push("null");Sn.push(rr[kr].value),rr[kr].value="["+Sn.join(" ")+"]"}}G("<<");for(var qt=0;qt<rr.length;qt++)G("/"+rr[qt].key+" "+rr[qt].value);G(">>"),wt.data.length!==0&&(G("stream"),G(kt(wt.data)),G("endstream"))},fd=f.__private__.putPage=function(R){var se=R.number,je=R.data,Te=R.objId,Fe=R.contentsObjId;aa(Te,!0),G("<</Type /Page"),G("/Parent "+R.rootDictionaryObjId+" 0 R"),G("/Resources "+R.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(A(R.mediaBox.bottomLeftX))+" "+parseFloat(A(R.mediaBox.bottomLeftY))+" "+A(R.mediaBox.topRightX)+" "+A(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&G("/CropBox ["+A(R.cropBox.bottomLeftX)+" "+A(R.cropBox.bottomLeftY)+" "+A(R.cropBox.topRightX)+" "+A(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&G("/BleedBox ["+A(R.bleedBox.bottomLeftX)+" "+A(R.bleedBox.bottomLeftY)+" "+A(R.bleedBox.topRightX)+" "+A(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&G("/TrimBox ["+A(R.trimBox.bottomLeftX)+" "+A(R.trimBox.bottomLeftY)+" "+A(R.trimBox.topRightX)+" "+A(R.trimBox.topRightY)+"]"),R.artBox!==null&&G("/ArtBox ["+A(R.artBox.bottomLeftX)+" "+A(R.artBox.bottomLeftY)+" "+A(R.artBox.topRightX)+" "+A(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&G("/UserUnit "+R.userUnit),on.publish("putPage",{objId:Te,pageContext:or[se],pageNumber:se,page:je}),G("/Contents "+Fe+" 0 R"),G(">>"),G("endobj");var Je=je.join(`
`);return w===N&&(Je+=`
Q`),aa(Fe,!0),Ui({data:Je,filters:zi(),objectId:Fe}),G("endobj"),Te},Go=f.__private__.putPages=function(){var R,se,je=[];for(R=1;R<=pn;R++)or[R].objId=Ys(),or[R].contentsObjId=Ys();for(R=1;R<=pn;R++)je.push(fd({number:R,data:ee[R],objId:or[R].objId,contentsObjId:or[R].contentsObjId,mediaBox:or[R].mediaBox,cropBox:or[R].cropBox,bleedBox:or[R].bleedBox,trimBox:or[R].trimBox,artBox:or[R].artBox,userUnit:or[R].userUnit,rootDictionaryObjId:pc,resourceDictionaryObjId:io}));aa(pc,!0),G("<</Type /Pages");var Te="/Kids [";for(se=0;se<pn;se++)Te+=je[se]+" 0 R ";G(Te+"]"),G("/Count "+pn),G(">>"),G("endobj"),on.publish("postPutPages")},md=function(R){on.publish("putFont",{font:R,out:G,newObject:as,putStream:Ui}),R.isAlreadyPutted!==!0&&(R.objectNumber=as(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Kp(R.postScriptName)),G("/Subtype /Type1"),typeof R.encoding=="string"&&G("/Encoding /"+R.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},pu=function(R){R.objectNumber=as();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[A(R.x),A(R.y),A(R.x+R.width),A(R.y+R.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var je=R.pages[1].join(`
`);Ui({data:je,additionalKeyValues:se,objectId:R.objectNumber}),G("endobj")},gu=function(R,se){se||(se=21);var je=as(),Te=function(rt,kt){var wt,rr=[],mr=1/(kt-1);for(wt=0;wt<1;wt+=mr)rr.push(wt);if(rr.push(1),rt[0].offset!=0){var kr={offset:0,color:rt[0].color};rt.unshift(kr)}if(rt[rt.length-1].offset!=1){var Sn={offset:1,color:rt[rt.length-1].color};rt.push(Sn)}for(var is="",qt=0,_n=0;_n<rr.length;_n++){for(wt=rr[_n];wt>rt[qt+1].offset;)qt++;var os=rt[qt].offset,ia=(wt-os)/(rt[qt+1].offset-os),ho=rt[qt].color,bc=rt[qt+1].color;is+=ae(Math.round((1-ia)*ho[0]+ia*bc[0]).toString(16))+ae(Math.round((1-ia)*ho[1]+ia*bc[1]).toString(16))+ae(Math.round((1-ia)*ho[2]+ia*bc[2]).toString(16))}return is.trim()}(R.colors,se),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+se+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ui({data:Te,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),G("endobj"),R.objectNumber=as(),G("<< /ShadingType "+R.type),G("/ColorSpace /DeviceRGB");var Je="/Coords ["+A(parseFloat(R.coords[0]))+" "+A(parseFloat(R.coords[1]))+" ";R.type===2?Je+=A(parseFloat(R.coords[2]))+" "+A(parseFloat(R.coords[3])):Je+=A(parseFloat(R.coords[2]))+" "+A(parseFloat(R.coords[3]))+" "+A(parseFloat(R.coords[4]))+" "+A(parseFloat(R.coords[5])),G(Je+="]"),R.matrix&&G("/Matrix ["+R.matrix.toString()+"]"),G("/Function "+je+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Nl=function(R,se){var je=Ys(),Te=as();se.push({resourcesOid:je,objectOid:Te}),R.objectNumber=Te;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+R.boundingBox.map(A).join(" ")+"]"}),Fe.push({key:"XStep",value:A(R.xStep)}),Fe.push({key:"YStep",value:A(R.yStep)}),Fe.push({key:"Resources",value:je+" 0 R"}),R.matrix&&Fe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Ui({data:R.stream,additionalKeyValues:Fe,objectId:R.objectNumber}),G("endobj")},Zx=function(R){for(var se in R.objectNumber=as(),G("<<"),R)switch(se){case"opacity":G("/ca "+T(R[se]));break;case"stroke-opacity":G("/CA "+T(R[se]))}G(">>"),G("endobj")},gc=function(R){aa(R.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in G("/Font <<"),Nt)Nt.hasOwnProperty(se)&&(h===!1||h===!0&&p.hasOwnProperty(se))&&G("/"+se+" "+Nt[se].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(Ft).length>0){for(var se in G("/Shading <<"),Ft)Ft.hasOwnProperty(se)&&Ft[se]instanceof em&&Ft[se].objectNumber>=0&&G("/"+se+" "+Ft[se].objectNumber+" 0 R");on.publish("putShadingPatternDict"),G(">>")}}(),function(se){if(Object.keys(Ft).length>0){for(var je in G("/Pattern <<"),Ft)Ft.hasOwnProperty(je)&&Ft[je]instanceof f.TilingPattern&&Ft[je].objectNumber>=0&&Ft[je].objectNumber<se&&G("/"+je+" "+Ft[je].objectNumber+" 0 R");on.publish("putTilingPatternDict"),G(">>")}}(R.objectOid),function(){if(Object.keys(fr).length>0){var se;for(se in G("/ExtGState <<"),fr)fr.hasOwnProperty(se)&&fr[se].objectNumber>=0&&G("/"+se+" "+fr[se].objectNumber+" 0 R");on.publish("putGStateDict"),G(">>")}}(),function(){for(var se in G("/XObject <<"),Na)Na.hasOwnProperty(se)&&Na[se].objectNumber>=0&&G("/"+se+" "+Na[se].objectNumber+" 0 R");on.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},ap=function(R){tr[R.fontName]=tr[R.fontName]||{},tr[R.fontName][R.fontStyle]=R.id},ip=function(R,se,je,Te,Fe){var Je={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:R,fontName:se,fontStyle:je,encoding:Te,isStandardFont:Fe||!1,metadata:{}};return on.publish("addFont",{font:Je,instance:this}),Nt[Je.id]=Je,ap(Je),Je.id},Vi=f.__private__.pdfEscape=f.pdfEscape=function(R,se){return function(je,Te){var Fe,Je,rt,kt,wt,rr,mr,kr,Sn;if(rt=(Te=Te||{}).sourceEncoding||"Unicode",wt=Te.outputEncoding,(Te.autoencode||wt)&&Nt[ft].metadata&&Nt[ft].metadata[rt]&&Nt[ft].metadata[rt].encoding&&(kt=Nt[ft].metadata[rt].encoding,!wt&&Nt[ft].encoding&&(wt=Nt[ft].encoding),!wt&&kt.codePages&&(wt=kt.codePages[0]),typeof wt=="string"&&(wt=kt[wt]),wt)){for(mr=!1,rr=[],Fe=0,Je=je.length;Fe<Je;Fe++)(kr=wt[je.charCodeAt(Fe)])?rr.push(String.fromCharCode(kr)):rr.push(je[Fe]),rr[Fe].charCodeAt(0)>>8&&(mr=!0);je=rr.join("")}for(Fe=je.length;mr===void 0&&Fe!==0;)je.charCodeAt(Fe-1)>>8&&(mr=!0),Fe--;if(!mr)return je;for(rr=Te.noBOM?[]:[254,255],Fe=0,Je=je.length;Fe<Je;Fe++){if((Sn=(kr=je.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+je+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(Sn),rr.push(kr-(Sn<<8))}return String.fromCharCode.apply(void 0,rr)}(R,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xu=f.__private__.beginPage=function(R){ee[++pn]=[],or[pn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},op(pn),Ne(ee[Z])},cf=function(R,se){var je,Te,Fe;switch(r=se||r,typeof R=="string"&&(je=b(R.toLowerCase()),Array.isArray(je)&&(Te=je[0],Fe=je[1])),Array.isArray(R)&&(Te=R[0]*mt,Fe=R[1]*mt),isNaN(Te)&&(Te=a[0],Fe=a[1]),(Te>14400||Fe>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Fe=Math.min(14400,Fe)),a=[Te,Fe],r.substr(0,1)){case"l":Fe>Te&&(a=[Fe,Te]);break;case"p":Te>Fe&&(a=[Fe,Te])}xu(a),e0(hf),G(Au),mf!==0&&G(mf+" J"),pf!==0&&G(pf+" j"),on.publish("addPage",{pageNumber:pn})},yu=function(R){R>0&&R<=pn&&(ee.splice(R,1),or.splice(R,1),pn--,Z>pn&&(Z=pn),this.setPage(Z))},op=function(R){R>0&&R<=pn&&(Z=R)},lp=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ee.length-1},cp=function(R,se,je){var Te,Fe=void 0;return je=je||{},R=R!==void 0?R:Nt[ft].fontName,se=se!==void 0?se:Nt[ft].fontStyle,Te=R.toLowerCase(),tr[Te]!==void 0&&tr[Te][se]!==void 0?Fe=tr[Te][se]:tr[R]!==void 0&&tr[R][se]!==void 0?Fe=tr[R][se]:je.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+R+"', '"+se+"'. Refer to getFontList() for available fonts."),Fe||je.noFallback||(Fe=tr.times[se])==null&&(Fe=tr.times.normal),Fe},vu=f.__private__.putInfo=function(){var R=as(),se=function(Te){return Te};for(var je in u!==null&&(se=ms.encryptor(R,0)),G("<<"),G("/Producer ("+Vi(se("jsPDF "+Rt.version))+")"),it)it.hasOwnProperty(je)&&it[je]&&G("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Vi(se(it[je]))+")");G("/CreationDate ("+Vi(se(V))+")"),G(">>"),G("endobj")},dp=f.__private__.putCatalog=function(R){var se=(R=R||{}).rootDictionaryObjId||pc;switch(as(),G("<<"),G("/Type /Catalog"),G("/Pages "+se+" 0 R"),H||(H="fullwidth"),H){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+H;je.substr(je.length-1)==="%"&&(H=parseInt(H)/100),typeof H=="number"&&G("/OpenAction [3 0 R /XYZ null null "+T(H)+"]")}switch(Ee||(Ee="continuous"),Ee){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Ce&&G("/PageMode /"+Ce),on.publish("putCatalog"),G(">>"),G("endobj")},fs=f.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(de+1)),G("/Root "+de+" 0 R"),G("/Info "+(de-1)+" 0 R"),u!==null&&G("/Encrypt "+ms.oid+" 0 R"),G("/ID [ <"+z+"> <"+z+"> ]"),G(">>")},df=f.__private__.putHeader=function(){G("%PDF-"+y),G("%ºß¬à")},bu=f.__private__.putXRef=function(){var R="0000000000";G("xref"),G("0 "+(de+1)),G("0000000000 65535 f ");for(var se=1;se<=de;se++)typeof ge[se]=="function"?G((R+ge[se]()).slice(-10)+" 00000 n "):ge[se]!==void 0?G((R+ge[se]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Sl=f.__private__.buildDocument=function(){var R;de=0,J=0,Se=[],ge=[],he=[],pc=Ys(),io=Ys(),Ne(Se),on.publish("buildDocument"),df(),Go(),function(){on.publish("putAdditionalObjects");for(var je=0;je<he.length;je++){var Te=he[je];aa(Te.objId,!0),G(Te.content),G("endobj")}on.publish("postPutAdditionalObjects")}(),R=[],function(){for(var je in Nt)Nt.hasOwnProperty(je)&&(h===!1||h===!0&&p.hasOwnProperty(je))&&md(Nt[je])}(),function(){var je;for(je in fr)fr.hasOwnProperty(je)&&Zx(fr[je])}(),function(){for(var je in Na)Na.hasOwnProperty(je)&&pu(Na[je])}(),function(je){var Te;for(Te in Ft)Ft.hasOwnProperty(Te)&&(Ft[Te]instanceof em?gu(Ft[Te]):Ft[Te]instanceof ag&&Nl(Ft[Te],je))}(R),on.publish("putResources"),R.forEach(gc),gc({resourcesOid:io,objectOid:Number.MAX_SAFE_INTEGER}),on.publish("postPutResources"),u!==null&&(ms.oid=as(),G("<<"),G("/Filter /Standard"),G("/V "+ms.v),G("/R "+ms.r),G("/U <"+ms.toHexString(ms.U)+">"),G("/O <"+ms.toHexString(ms.O)+">"),G("/P "+ms.P),G(">>"),G("endobj")),vu(),dp();var se=J;return bu(),fs(),G("startxref"),G(""+se),G("%%EOF"),Ne(ee[Z]),Se.join(`
`)},xc=f.__private__.getBlob=function(R){return new Blob([ze(R)],{type:"application/pdf"})},Ya=f.output=f.__private__.output=(Ka=function(R,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",R){case void 0:return Sl();case"save":f.save(se.filename);break;case"arraybuffer":return ze(Sl());case"blob":return xc(Sl());case"bloburi":case"bloburl":if(cr.URL!==void 0&&typeof cr.URL.createObjectURL=="function")return cr.URL&&cr.URL.createObjectURL(xc(Sl()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Te=Sl();try{je=uD(Te)}catch{je=uD(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+se.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Fe=se.pdfObjectUrl,Je="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",kt=cr.open();return kt!==null&&kt.document.write(rt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(cr)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',rr=cr.open();if(rr!==null){rr.document.write(wt);var mr=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=se.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mr.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(cr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Sn=cr.open();if(Sn!==null&&(Sn.document.write(kr),Sn.document.title=se.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return cr.document.location.href=this.output("datauristring",se);default:return null}},Ka.foo=function(){try{return Ka.apply(this,arguments)}catch(je){var R=je.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var se="Error in function "+R.split(`
`)[0].split("<")[0]+": "+je.message;if(!cr.console)throw new Error(se);cr.console.error(se,je),cr.alert&&alert(se)}},Ka.foo.bar=Ka,Ka.foo),yc=function(R){return Array.isArray(ud)===!0&&ud.indexOf(R)>-1};switch(s){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=yc("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);mt=s}var ms=null;W(),q();var wu=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:or[R].objId,pageNumber:R,pageContext:or[R]}},up=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in or)if(or[se].objId===R)break;return wu(se)},uf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:or[Z].objId,pageNumber:Z,pageContext:or[Z]}};f.addPage=function(){return cf.apply(this,arguments),this},f.setPage=function(){return op.apply(this,arguments),Ne.call(this,ee[Z]),this},f.insertPage=function(R){return this.addPage(),this.movePage(Z,R),this},f.movePage=function(R,se){var je,Te;if(R>se){je=ee[R],Te=or[R];for(var Fe=R;Fe>se;Fe--)ee[Fe]=ee[Fe-1],or[Fe]=or[Fe-1];ee[se]=je,or[se]=Te,this.setPage(se)}else if(R<se){je=ee[R],Te=or[R];for(var Je=R;Je<se;Je++)ee[Je]=ee[Je+1],or[Je]=or[Je+1];ee[se]=je,or[se]=Te,this.setPage(se)}return this},f.deletePage=function(){return yu.apply(this,arguments),this},f.__private__.text=f.text=function(R,se,je,Te,Fe){var Je,rt,kt,wt,rr,mr,kr,Sn,is,qt=(Te=Te||{}).scope||this;if(typeof R=="number"&&typeof se=="number"&&(typeof je=="string"||Array.isArray(je))){var _n=je;je=se,se=R,R=_n}if(arguments[3]instanceof Ht==0?(kt=arguments[4],wt=arguments[5],jn(kr=arguments[3])==="object"&&kr!==null||(typeof kt=="string"&&(wt=kt,kt=null),typeof kr=="string"&&(wt=kr,kr=null),typeof kr=="number"&&(kt=kr,kr=null),Te={flags:kr,angle:kt,align:wt})):(P("The transform parameter of text() with a Matrix value"),is=Fe),isNaN(se)||isNaN(je)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return qt;var os,ia="",ho=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:pd,bc=qt.internal.scaleFactor;function o0(An){return An=An.split("	").join(Array(Te.TabLen||9).join(" ")),Vi(An,kr)}function mp(An){for(var rn,Ie=An.concat(),Ye=[],Ge=Ie.length;Ge--;)typeof(rn=Ie.shift())=="string"?Ye.push(rn):Array.isArray(An)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?Ye.push(rn[0]):Ye.push([rn[0],rn[1],rn[2]]);return Ye}function wc(An,rn){var Ie;if(typeof An=="string")Ie=rn(An)[0];else if(Array.isArray(An)){for(var Ye,Ge,vt=An.concat(),Ut=[],Rr=vt.length;Rr--;)typeof(Ye=vt.shift())=="string"?Ut.push(rn(Ye)[0]):Array.isArray(Ye)&&typeof Ye[0]=="string"&&(Ge=rn(Ye[0],Ye[1],Ye[2]),Ut.push([Ge[0],Ge[1],Ge[2]]));Ie=Ut}return Ie}var Za=!1,Ko=!0;if(typeof R=="string")Za=!0;else if(Array.isArray(R)){var Eu=R.concat();rt=[];for(var Cl,Ls=Eu.length;Ls--;)(typeof(Cl=Eu.shift())!="string"||Array.isArray(Cl)&&typeof Cl[0]!="string")&&(Ko=!1);Za=Ko}if(Za===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var fo=qe/qt.internal.scaleFactor,mo=fo*(ho-1);switch(Te.baseline){case"bottom":je-=mo;break;case"top":je+=fo-mo;break;case"hanging":je+=fo-2*mo;break;case"middle":je+=fo/2-mo}if((mr=Te.maxWidth||0)>0&&(typeof R=="string"?R=qt.splitTextToSize(R,mr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(An,rn){return An.concat(qt.splitTextToSize(rn,mr))},[]))),Je={text:R,x:se,y:je,options:Te,mutex:{pdfEscape:Vi,activeFontKey:ft,fonts:Nt,activeFontSize:qe}},on.publish("preProcessText",Je),R=Je.text,kt=(Te=Je.options).angle,is instanceof Ht==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,Te.rotationDirection===0&&(kt=-kt),w===N&&(kt=-kt);var yd=Math.cos(kt),gf=Math.sin(kt);is=new Ht(yd,gf,-gf,yd,0,0)}else kt&&kt instanceof Ht&&(is=kt);w!==N||is||(is=ao),(rr=Te.charSpace||ku)!==void 0&&(ia+=A(M(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=Te.horizontalScale)!==void 0&&(ia+=A(100*Sn)+` Tz
`),Te.lang;var oa=-1,Ou=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Lu=qt.internal.getCurrentPageInfo().pageContext;switch(Ou){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var xf=Lu.usedRenderingMode!==void 0?Lu.usedRenderingMode:-1;oa!==-1?ia+=oa+` Tr
`:xf!==-1&&(ia+=`0 Tr
`),oa!==-1&&(Lu.usedRenderingMode=oa),wt=Te.align||"left";var tn,Xa=qe*ho,Pl=qt.internal.pageSize.getWidth(),Iu=Nt[ft];rr=Te.charSpace||ku,mr=Te.maxWidth||0,kr=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Tl=[],Mu=function(An){return qt.getStringUnitWidth(An,{font:Iu,charSpace:rr,fontSize:qe,doKerning:!1})*qe/bc};if(Object.prototype.toString.call(R)==="[object Array]"){var Qa;rt=mp(R),wt!=="left"&&(tn=rt.map(Mu));var Ja,vd=0;if(wt==="right"){se-=tn[0],R=[],Ls=rt.length;for(var Yo=0;Yo<Ls;Yo++)Yo===0?(Ja=co(se),Qa=Al(je)):(Ja=M(vd-tn[Yo]),Qa=-Xa),R.push([rt[Yo],Ja,Qa]),vd=tn[Yo]}else if(wt==="center"){se-=tn[0]/2,R=[],Ls=rt.length;for(var pi=0;pi<Ls;pi++)pi===0?(Ja=co(se),Qa=Al(je)):(Ja=M((vd-tn[pi])/2),Qa=-Xa),R.push([rt[pi],Ja,Qa]),vd=tn[pi]}else if(wt==="left"){R=[],Ls=rt.length;for(var yf=0;yf<Ls;yf++)R.push(rt[yf])}else if(wt==="justify"&&Iu.encoding==="Identity-H"){R=[],Ls=rt.length,mr=mr!==0?mr:Pl;for(var jc=0,Kn=0;Kn<Ls;Kn++)if(Qa=Kn===0?Al(je):-Xa,Ja=Kn===0?co(se):jc,Kn<Ls-1){var pp=M((mr-tn[Kn])/(rt[Kn].split(" ").length-1)),la=rt[Kn].split(" ");R.push([la[0]+" ",Ja,Qa]),jc=0;for(var gi=1;gi<la.length;gi++){var Du=(Mu(la[gi-1]+" "+la[gi])-Mu(la[gi]))*bc+pp;gi==la.length-1?R.push([la[gi],Du,0]):R.push([la[gi]+" ",Du,0]),jc-=Du}}else R.push([rt[Kn],Ja,Qa]);R.push(["",jc,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ls=rt.length,mr=mr!==0?mr:Pl,Kn=0;Kn<Ls;Kn++)Qa=Kn===0?Al(je):-Xa,Ja=Kn===0?co(se):0,Kn<Ls-1?Tl.push(A(M((mr-tn[Kn])/(rt[Kn].split(" ").length-1)))):Tl.push(0),R.push([rt[Kn],Ja,Qa])}}(typeof Te.R2L=="boolean"?Te.R2L:ye)===!0&&(R=wc(R,function(An,rn,Ie){return[An.split("").reverse().join(""),rn,Ie]})),Je={text:R,x:se,y:je,options:Te,mutex:{pdfEscape:Vi,activeFontKey:ft,fonts:Nt,activeFontSize:qe}},on.publish("postProcessText",Je),R=Je.text,os=Je.mutex.isHex||!1;var vf=Nt[ft].encoding;vf!=="WinAnsiEncoding"&&vf!=="StandardEncoding"||(R=wc(R,function(An,rn,Ie){return[o0(An),rn,Ie]})),rt=mp(R),R=[];for(var Fu,po,ca,Nc=Array.isArray(rt[0])?1:0,El="",bf=function(An,rn,Ie){var Ye="";return Ie instanceof Ht?(Ie=typeof Te.angle=="number"?jl(Ie,new Ht(1,0,0,1,An,rn)):jl(new Ht(1,0,0,1,An,rn),Ie),w===N&&(Ie=jl(new Ht(1,0,0,-1,0,0),Ie)),Ye=Ie.join(" ")+` Tm
`):Ye=A(An)+" "+A(rn)+` Td
`,Ye},xi=0;xi<rt.length;xi++){switch(El="",Nc){case 1:ca=(os?"<":"(")+rt[xi][0]+(os?">":")"),Fu=parseFloat(rt[xi][1]),po=parseFloat(rt[xi][2]);break;case 0:ca=(os?"<":"(")+rt[xi]+(os?">":")"),Fu=co(se),po=Al(je)}Tl!==void 0&&Tl[xi]!==void 0&&(El=Tl[xi]+` Tw
`),xi===0?R.push(El+bf(Fu,po,is)+ca):Nc===0?R.push(El+ca):Nc===1&&R.push(El+bf(Fu,po,is)+ca)}R=Nc===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Zo=`BT
/`;return Zo+=ft+" "+qe+` Tf
`,Zo+=A(qe*ho)+` TL
`,Zo+=Jr+`
`,Zo+=ia,Zo+=R,G(Zo+="ET"),p[ft]=!0,qt};var Xx=f.__private__.clip=f.clip=function(R){return G(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Xx("evenodd")},f.__private__.discardPath=f.discardPath=function(){return G("n"),this};var lo=f.__private__.isValidStyle=function(R){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(se=!0),se};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return lo(R)&&(d=R),this};var ju=f.__private__.getStyle=f.getStyle=function(R){var se=d;switch(R){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=R}return se},Nu=f.close=function(){return G("h"),this};f.stroke=function(){return G("S"),this},f.fill=function(R){return mi("f",R),this},f.fillEvenOdd=function(R){return mi("f*",R),this},f.fillStroke=function(R){return mi("B",R),this},f.fillStrokeEvenOdd=function(R){return mi("B*",R),this};var mi=function(R,se){jn(se)==="object"?Qx(se,R):G(R)},Su=function(R){R===null||w===N&&R===void 0||(R=ju(R),G(R))};function hp(R,se,je,Te,Fe){var Je=new ag(se||this.boundingBox,je||this.xStep,Te||this.yStep,this.gState,Fe||this.matrix);Je.stream=this.stream;var rt=R+"$$"+this.cloneIndex+++"$$";return Bi(rt,Je),Je}var Qx=function(R,se){var je=Ar[R.key],Te=Ft[je];if(Te instanceof em)G("q"),G(fp(se)),Te.gState&&f.setGState(Te.gState),G(R.matrix.toString()+" cm"),G("/"+je+" sh"),G("Q");else if(Te instanceof ag){var Fe=new Ht(1,0,0,-1,0,Ra());R.matrix&&(Fe=Fe.multiply(R.matrix||ao),je=hp.call(Te,R.key,R.boundingBox,R.xStep,R.yStep,Fe).id),G("q"),G("/Pattern cs"),G("/"+je+" scn"),Te.gState&&f.setGState(Te.gState),G(se),G("Q")}},fp=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_u=f.moveTo=function(R,se){return G(A(M(R))+" "+A(D(se))+" m"),this},vc=f.lineTo=function(R,se){return G(A(M(R))+" "+A(D(se))+" l"),this},_l=f.curveTo=function(R,se,je,Te,Fe,Je){return G([A(M(R)),A(D(se)),A(M(je)),A(D(Te)),A(M(Fe)),A(D(Je)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,se,je,Te,Fe){if(isNaN(R)||isNaN(se)||isNaN(je)||isNaN(Te)||!lo(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return w===S?this.lines([[je-R,Te-se]],R,se,[1,1],Fe||"S"):this.lines([[je-R,Te-se]],R,se,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,se,je,Te,Fe,Je){var rt,kt,wt,rr,mr,kr,Sn,is,qt,_n,os,ia;if(typeof R=="number"&&(ia=je,je=se,se=R,R=ia),Te=Te||[1,1],Je=Je||!1,isNaN(se)||isNaN(je)||!Array.isArray(R)||!Array.isArray(Te)||!lo(Fe)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_u(se,je),rt=Te[0],kt=Te[1],rr=R.length,_n=se,os=je,wt=0;wt<rr;wt++)(mr=R[wt]).length===2?(_n=mr[0]*rt+_n,os=mr[1]*kt+os,vc(_n,os)):(kr=mr[0]*rt+_n,Sn=mr[1]*kt+os,is=mr[2]*rt+_n,qt=mr[3]*kt+os,_n=mr[4]*rt+_n,os=mr[5]*kt+os,_l(kr,Sn,is,qt,_n,os));return Je&&Nu(),Su(Fe),this},f.path=function(R){for(var se=0;se<R.length;se++){var je=R[se],Te=je.c;switch(je.op){case"m":_u(Te[0],Te[1]);break;case"l":vc(Te[0],Te[1]);break;case"c":_l.apply(this,Te);break;case"h":Nu()}}return this},f.__private__.rect=f.rect=function(R,se,je,Te,Fe){if(isNaN(R)||isNaN(se)||isNaN(je)||isNaN(Te)||!lo(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===S&&(Te=-Te),G([A(M(R)),A(D(se)),A(M(je)),A(M(Te)),"re"].join(" ")),Su(Fe),this},f.__private__.triangle=f.triangle=function(R,se,je,Te,Fe,Je,rt){if(isNaN(R)||isNaN(se)||isNaN(je)||isNaN(Te)||isNaN(Fe)||isNaN(Je)||!lo(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-R,Te-se],[Fe-je,Je-Te],[R-Fe,se-Je]],R,se,[1,1],rt,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,se,je,Te,Fe,Je,rt){if(isNaN(R)||isNaN(se)||isNaN(je)||isNaN(Te)||isNaN(Fe)||isNaN(Je)||!lo(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*je),Je=Math.min(Je,.5*Te),this.lines([[je-2*Fe,0],[Fe*kt,0,Fe,Je-Je*kt,Fe,Je],[0,Te-2*Je],[0,Je*kt,-Fe*kt,Je,-Fe,Je],[2*Fe-je,0],[-Fe*kt,0,-Fe,-Je*kt,-Fe,-Je],[0,2*Je-Te],[0,-Je*kt,Fe*kt,-Je,Fe,-Je]],R+Fe,se,[1,1],rt,!0),this},f.__private__.ellipse=f.ellipse=function(R,se,je,Te,Fe){if(isNaN(R)||isNaN(se)||isNaN(je)||isNaN(Te)||!lo(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*je,rt=4/3*(Math.SQRT2-1)*Te;return _u(R+je,se),_l(R+je,se-rt,R+Je,se-Te,R,se-Te),_l(R-Je,se-Te,R-je,se-rt,R-je,se),_l(R-je,se+rt,R-Je,se+Te,R,se+Te),_l(R+Je,se+Te,R+je,se+rt,R+je,se),Su(Fe),this},f.__private__.circle=f.circle=function(R,se,je,Te){if(isNaN(R)||isNaN(se)||isNaN(je)||!lo(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,se,je,je,Te)},f.setFont=function(R,se,je){return je&&(se=k(se,je)),ft=cp(R,se,{disableWarning:!1}),this};var Jx=f.__private__.getFont=f.getFont=function(){return Nt[cp.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,se,je={};for(R in tr)if(tr.hasOwnProperty(R))for(se in je[R]=[],tr[R])tr[R].hasOwnProperty(se)&&je[R].push(se);return je},f.addFont=function(R,se,je,Te,Fe){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(je=k(je,Te)),ip.call(this,R,se,je,Fe=Fe||"Identity-H")};var pd,hf=e.lineWidth||.200025,ar=f.__private__.getLineWidth=f.getLineWidth=function(){return hf},e0=f.__private__.setLineWidth=f.setLineWidth=function(R){return hf=R,G(A(M(R))+" w"),this};f.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(R,se){if(R=R||[],se=se||0,isNaN(se)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(je){return A(M(je))}).join(" "),se=A(M(se)),G("["+R+"] "+se+" d"),this};var t0=f.__private__.getLineHeight=f.getLineHeight=function(){return qe*pd};f.__private__.getLineHeight=f.getLineHeight=function(){return qe*pd};var r0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(pd=R),this},n0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return pd};r0(e.lineHeight);var co=f.__private__.getHorizontalCoordinate=function(R){return M(R)},Al=f.__private__.getVerticalCoordinate=function(R){return w===N?R:or[Z].mediaBox.topRightY-or[Z].mediaBox.bottomLeftY-M(R)},s0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return A(co(R))},a0=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return A(Al(R))},Au=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ho(Au)},f.__private__.setStrokeColor=f.setDrawColor=function(R,se,je,Te){return Au=oo({ch1:R,ch2:se,ch3:je,ch4:Te,pdfColorType:"draw",precision:2}),G(Au),this};var ff=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ho(ff)},f.__private__.setFillColor=f.setFillColor=function(R,se,je,Te){return ff=oo({ch1:R,ch2:se,ch3:je,ch4:Te,pdfColorType:"fill",precision:2}),G(ff),this};var Jr=e.textColor||"0 g",en=f.__private__.getTextColor=f.getTextColor=function(){return Ho(Jr)};f.__private__.setTextColor=f.setTextColor=function(R,se,je,Te){return Jr=oo({ch1:R,ch2:se,ch3:je,ch4:Te,pdfColorType:"text",precision:3}),this};var ku=e.charSpace,i0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ku||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ku=R,this};var mf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var se=f.CapJoinStyles[R];if(se===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mf=se,G(se+" J"),this};var pf=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var se=f.CapJoinStyles[R];if(se===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pf=se,G(se+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(A(M(R))+" M"),this},f.GState=U2,f.setGState=function(R){(R=typeof R=="string"?fr[hs[R]]:gd(null,R)).equals(Ss)||(G("/"+R.id+" gs"),Ss=R)};var gd=function(R,se){if(!R||!hs[R]){var je=!1;for(var Te in fr)if(fr.hasOwnProperty(Te)&&fr[Te].equals(se)){je=!0;break}if(je)se=fr[Te];else{var Fe="GS"+(Object.keys(fr).length+1).toString(10);fr[Fe]=se,se.id=Fe}return R&&(hs[R]=se.id),on.publish("addGState",se),se}};f.addGState=function(R,se){return gd(R,se),this},f.saveGraphicsState=function(){return G("q"),Qr.push({key:ft,size:qe,color:Jr}),this},f.restoreGraphicsState=function(){G("Q");var R=Qr.pop();return ft=R.key,qe=R.size,Jr=R.color,Ss=null,this},f.setCurrentTransformationMatrix=function(R){return G(R.toString()+" cm"),this},f.comment=function(R){return G("#"+R),this};var xd=function(R,se){var je=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(Je){isNaN(Je)||(je=parseFloat(Je))}});var Te=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Je){isNaN(Je)||(Te=parseFloat(Je))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Je){Fe=Je.toString()}}),this},Cu=function(R,se,je,Te){xd.call(this,R,se),this.type="rect";var Fe=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(rt){isNaN(rt)||(Fe=parseFloat(rt))}});var Je=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(rt){isNaN(rt)||(Je=parseFloat(rt))}}),this},Pu=function(){this.page=pn,this.currentPage=Z,this.pages=ee.slice(0),this.pagesContext=or.slice(0),this.x=ut,this.y=zt,this.matrix=er,this.width=uo(Z),this.height=Ra(Z),this.outputDestination=ke,this.id="",this.objectNumber=-1};Pu.prototype.restore=function(){pn=this.page,Z=this.currentPage,or=this.pagesContext,ee=this.pages,ut=this.x,zt=this.y,er=this.matrix,Tu(Z,this.width),gs(Z,this.height),ke=this.outputDestination};var ps=function(R,se,je,Te,Fe){Wo.push(new Pu),pn=Z=0,ee=[],ut=R,zt=se,er=Fe,xu([je,Te])};for(var kl in f.beginFormObject=function(R,se,je,Te,Fe){return ps(R,se,je,Te,Fe),this},f.endFormObject=function(R){return function(se){if(qo[se])Wo.pop().restore();else{var je=new Pu,Te="Xo"+(Object.keys(Na).length+1).toString(10);je.id=Te,qo[se]=Te,Na[Te]=je,on.publish("addFormObject",je),Wo.pop().restore()}}(R),this},f.doFormObject=function(R,se){var je=Na[qo[R]];return G("q"),G(se.toString()+" cm"),G("/"+je.id+" Do"),G("Q"),this},f.getFormObject=function(R){var se=Na[qo[R]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},f.save=function(R,se){return R=R||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Xf(xc(Sl()),R),typeof Xf.unload=="function"&&cr.setTimeout&&setTimeout(Xf.unload,911),this):new Promise(function(je,Te){try{var Fe=Xf(xc(Sl()),R);typeof Xf.unload=="function"&&cr.setTimeout&&setTimeout(Xf.unload,911),je(Fe)}catch(Je){Te(Je.message)}})},Rt.API)Rt.API.hasOwnProperty(kl)&&(kl==="events"&&Rt.API.events.length?function(R,se){var je,Te,Fe;for(Fe=se.length-1;Fe!==-1;Fe--)je=se[Fe][0],Te=se[Fe][1],R.subscribe.apply(R,[je].concat(typeof Te=="function"?[Te]:Te))}(on,Rt.API.events):f[kl]=Rt.API[kl]);var uo=f.getPageWidth=function(R){return(or[R=R||Z].mediaBox.topRightX-or[R].mediaBox.bottomLeftX)/mt},Tu=f.setPageWidth=function(R,se){or[R].mediaBox.topRightX=se*mt+or[R].mediaBox.bottomLeftX},Ra=f.getPageHeight=function(R){return(or[R=R||Z].mediaBox.topRightY-or[R].mediaBox.bottomLeftY)/mt},gs=f.setPageHeight=function(R,se){or[R].mediaBox.topRightY=se*mt+or[R].mediaBox.bottomLeftY};return f.internal={pdfEscape:Vi,getStyle:ju,getFont:Jx,getFontSize:te,getCharSpace:i0,getTextColor:en,getLineHeight:t0,getLineHeightFactor:n0,getLineWidth:ar,write:Ae,getHorizontalCoordinate:co,getVerticalCoordinate:Al,getCoordinateString:s0,getVerticalCoordinateString:a0,collections:{},newObject:as,newAdditionalObject:hd,newObjectDeferred:Ys,newObjectDeferredBegin:aa,getFilters:zi,putStream:Ui,events:on,scaleFactor:mt,pageSize:{getWidth:function(){return uo(Z)},setWidth:function(R){Tu(Z,R)},getHeight:function(){return Ra(Z)},setHeight:function(R){gs(Z,R)}},encryptionOptions:u,encryption:ms,getEncryptor:function(R){return u!==null?ms.encryptor(R,0):function(se){return se}},output:Ya,getNumberOfPages:lp,pages:ee,out:G,f2:T,f3:I,getPageInfo:wu,getPageInfoByObjId:up,getCurrentPageInfo:uf,getPDFVersion:g,Point:xd,Rectangle:Cu,Matrix:Ht,hasHotfix:yc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return uo(Z)},set:function(R){Tu(Z,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ra(Z)},set:function(R){gs(Z,R)},enumerable:!0,configurable:!0}),function(R){for(var se=0,je=Be.length;se<je;se++){var Te=ip.call(this,R[se][0],R[se][1],R[se][2],Be[se][3],!0);h===!1&&(p[Te]=!0);var Fe=R[se][0].split("-");ap({id:Te,fontName:Fe[0],fontStyle:Fe[1]||""})}on.publish("addFonts",{fonts:Nt,dictionary:tr})}.call(f,Be),ft="F1",cf(a,r),on.publish("initialized"),f}Gp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Gp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Gp.prototype.processOwnerPassword=function(e,t){return rA(tA(t).substr(0,5),e)},Gp.prototype.encryptor=function(e,t){var r=tA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return rA(r,s)}},U2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||jn(e)!==jn(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},Rt.API={events:[]},Rt.version="3.0.2";var Ps=Rt.API,K3=1,sp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},oh=function(e){return e.toFixed(5)};Ps.__acroform__={};var so=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pD=function(e){return e*K3},Ic=function(e){var t=new xG,r=Pt.internal.getHeight(e)||0,s=Pt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(s)),Number(xr(r))],t},IRe=Ps.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},MRe=Ps.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},DRe=Ps.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Rs=Ps.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DRe(e,t-1)},$s=Ps.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IRe(e,t-1)},Bs=Ps.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return MRe(e,t-1)},FRe=Ps.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(xr(c.lowerLeft_X)),Number(xr(c.lowerLeft_Y)),Number(xr(c.upperRight_X)),Number(xr(c.upperRight_Y))]},RRe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=nA(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+xr(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ic(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},nA=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,o=Pt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Pt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,I,M){if(T+1<a.length){var D=I+" "+a[T+1][0];return S1(D,e,M).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,u,h=S1("3",e,i).height,p=e.multiline?o-i:(o-h)/2,f=p+=2,y=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+S1(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",S=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var w=!1;if(a[N].length!==1&&v!==a[N].length-1){if((h+2)*(S+2)+2>o)continue e;b+=a[N][v],w=!0,g=N,N--}else{b=(b+=a[N][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(N),L=c(C,b,i),k=N>=a.length-1;if(L&&!k){b+=" ",v=0;continue}if(L||k){if(k)g=C;else if(e.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(S+2)+2>o)continue e;g=C}}for(var A="",P=y;P<=g;P++){var B=a[P];if(e.multiline){if(P===g){A+=B[v]+" ",v=(v+1)%B.length;continue}if(P===y){A+=B[B.length-1]+" ";continue}}A+=B[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=S1(A,e,i).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=xr(d)+" "+xr(f)+` Td
`,t+="("+sp(A)+`) Tj
`,t+=-xr(d)+` 0 Td
`,f=-(i+2),u=0,y=w?g:g+1,S++,b=""}break}return s.text=t,s.fontSize=i,s},S1=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},$Re={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},BRe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},zRe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($Re)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new yG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&BRe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=FRe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Pt.createDefaultAppearanceStream(l),jn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=RRe(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var y=f[o];typeof y=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(a,l)),h+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var S=b,N=g[b];v.internal.newObjectDeferredBegin(N.objId,!0),jn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete g[S]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},gG=Ps.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),jn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+sp(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},VS=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+sp(s(e))+")"},Wc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wc.prototype.toString=function(){return this.objId+" 0 R"},Wc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:gG(a,this.objId,this.scope)}):a instanceof Wc?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var xG=function(){Wc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};so(xG,Wc);var yG=function(){Wc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+sp(r(e))+")"}},set:function(r){e=r}})};so(yG,Wc);var fc=function e(){Wc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rs(t,3)},set:function(b){b?this.F=$s(t,3):this.F=Bs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof V2)return;i="FieldObject"+e.FieldNum++}var b=function(S){return S};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+sp(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/K3:d},set:function(b){d=b}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(b){u=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof V2||this instanceof Am))return VS(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Oa==0?VS(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Oa==0?b.substr(0,1)==="("?qp(b.substr(1,b.length-2)):qp(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa==1?qp(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Oa==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Oa==0?VS(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof Oa==0?b.substr(0,1)==="("?qp(b.substr(1,b.length-2)):qp(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oa==1?qp(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Oa==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(b){y=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,1)},set:function(b){b?this.Ff=$s(this.Ff,1):this.Ff=Bs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,2)},set:function(b){b?this.Ff=$s(this.Ff,2):this.Ff=Bs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,3)},set:function(b){b?this.Ff=$s(this.Ff,3):this.Ff=Bs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};so(fc,Wc);var yg=function(){fc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gG(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,18)},set:function(r){r?this.Ff=$s(this.Ff,18):this.Ff=Bs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$s(this.Ff,19):this.Ff=Bs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,20)},set:function(r){r?(this.Ff=$s(this.Ff,20),t.sort()):this.Ff=Bs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,22)},set:function(r){r?this.Ff=$s(this.Ff,22):this.Ff=Bs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(r){r?this.Ff=$s(this.Ff,23):this.Ff=Bs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,27)},set:function(r){r?this.Ff=$s(this.Ff,27):this.Ff=Bs(this.Ff,27)}}),this.hasAppearanceStream=!1};so(yg,fc);var vg=function(){yg.call(this),this.fontName="helvetica",this.combo=!1};so(vg,yg);var bg=function(){vg.call(this),this.combo=!0};so(bg,vg);var K1=function(){bg.call(this),this.edit=!0};so(K1,bg);var Oa=function(){fc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,15)},set:function(r){r?this.Ff=$s(this.Ff,15):this.Ff=Bs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,16)},set:function(r){r?this.Ff=$s(this.Ff,16):this.Ff=Bs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,17)},set:function(r){r?this.Ff=$s(this.Ff,17):this.Ff=Bs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(r){r?this.Ff=$s(this.Ff,26):this.Ff=Bs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+sp(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){jn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};so(Oa,fc);var Y1=function(){Oa.call(this),this.pushButton=!0};so(Y1,Oa);var wg=function(){Oa.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};so(wg,Oa);var V2=function(){var e,t;fc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+sp(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){jn(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};so(V2,fc),wg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},wg.prototype.createOption=function(e){var t=new V2;return t.Parent=this,t.optionName=e,this.Kids.push(t),URe.call(this.scope,t),t};var Z1=function(){Oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};so(Z1,Oa);var Am=function(){fc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,13)},set:function(t){t?this.Ff=$s(this.Ff,13):this.Ff=Bs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,21)},set:function(t){t?this.Ff=$s(this.Ff,21):this.Ff=Bs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(t){t?this.Ff=$s(this.Ff,23):this.Ff=Bs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,24)},set:function(t){t?this.Ff=$s(this.Ff,24):this.Ff=Bs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,25)},set:function(t){t?this.Ff=$s(this.Ff,25):this.Ff=Bs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(t){t?this.Ff=$s(this.Ff,26):this.Ff=Bs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};so(Am,fc);var X1=function(){Am.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,14)},set:function(e){e?this.Ff=$s(this.Ff,14):this.Ff=Bs(this.Ff,14)}}),this.password=!0};so(X1,Am);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=nA(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Pt.internal.getWidth(e))+" "+xr(Pt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+xr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=Pt.internal.getHeight(e),o=Pt.internal.getWidth(e),l=nA(e,e.caption);return a.push("1 g"),a.push("0 0 "+xr(o)+" "+xr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+xr(o-1)+" "+xr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+xr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Pt.internal.getWidth(e))+" "+xr(Pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Pt.RadioButton.Circle.YesNormal,t.D[e]=Pt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var r=[],s=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Pt.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+oh(Pt.internal.getWidth(e)/2)+" "+oh(Pt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=[],s=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Pt.internal.Bezier_C).toFixed(5)),o=Number((s*Pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oh(Pt.internal.getWidth(e)/2)+" "+oh(Pt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+oh(Pt.internal.getWidth(e)/2)+" "+oh(Pt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=[],s=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+oh(Pt.internal.getWidth(e)/2)+" "+oh(Pt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Pt.RadioButton.Cross.YesNormal,t.D[e]=Pt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ic(e);t.scope=e.scope;var r=[],s=Pt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Pt.internal.getWidth(e)-2)+" "+xr(Pt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(s.x1.x)+" "+xr(s.x1.y)+" m"),r.push(xr(s.x2.x)+" "+xr(s.x2.y)+" l"),r.push(xr(s.x4.x)+" "+xr(s.x4.y)+" m"),r.push(xr(s.x3.x)+" "+xr(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=Pt.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+xr(Pt.internal.getWidth(e))+" "+xr(Pt.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+xr(Pt.internal.getWidth(e)-2)+" "+xr(Pt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),s.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),s.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),s.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ic(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Pt.internal.getWidth(e))+" "+xr(Pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Pt.internal.getWidth(e),r=Pt.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},Pt.internal.getWidth=function(e){var t=0;return jn(e)==="object"&&(t=pD(e.Rect[2])),t},Pt.internal.getHeight=function(e){var t=0;return jn(e)==="object"&&(t=pD(e.Rect[3])),t};var URe=Ps.addField=function(e){if(zRe(this,e),!(e instanceof fc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ps.AcroFormChoiceField=yg,Ps.AcroFormListBox=vg,Ps.AcroFormComboBox=bg,Ps.AcroFormEditBox=K1,Ps.AcroFormButton=Oa,Ps.AcroFormPushButton=Y1,Ps.AcroFormRadioButton=wg,Ps.AcroFormCheckBox=Z1,Ps.AcroFormTextField=Am,Ps.AcroFormPasswordField=X1,Ps.AcroFormAppearance=Pt,Ps.AcroForm={ChoiceField:yg,ListBox:vg,ComboBox:bg,EditBox:K1,Button:Oa,PushButton:Y1,RadioButton:wg,CheckBox:Z1,TextField:Am,PasswordField:X1,Appearance:Pt},Rt.AcroForm={ChoiceField:yg,ListBox:vg,ComboBox:bg,EditBox:K1,Button:Oa,PushButton:Y1,RadioButton:wg,CheckBox:Z1,TextField:Am,PasswordField:X1,Appearance:Pt};function vG(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(T,I){var M,D,V,z,X,q=r;if((I=I||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(L(T))for(X in s)for(V=s[X],M=0;M<V.length;M+=1){for(z=!0,D=0;D<V[M].length;D+=1)if(V[M][D]!==void 0&&V[M][D]!==T[D]){z=!1;break}if(z===!0){q=X;break}}else for(X in s)for(V=s[X],M=0;M<V.length;M+=1){for(z=!0,D=0;D<V[M].length;D+=1)if(V[M][D]!==void 0&&V[M][D]!==T.charCodeAt(D)){z=!1;break}if(z===!0){q=X;break}}return q===r&&I!==r&&(q=I),q},i=function T(I){for(var M=this.internal.write,D=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:I.width}),z.push({key:"Height",value:I.height}),I.colorSpace===b.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===b.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var X="",q=0,Y=I.transparency.length;q<Y;q++)X+=I.transparency[q]+" "+I.transparency[q]+" ";z.push({key:"Mask",value:"["+X+"]"})}I.sMask!==void 0&&z.push({key:"SMask",value:I.objectId+1+" 0 R"});var ie=I.filter!==void 0?["/"+I.filter]:void 0;if(D({data:I.data,additionalKeyValues:z,alreadyAppliedFilters:ie,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var W=(I.predictor!=null?"/Predictor "+I.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+I.width,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:W,data:I.sMask};"filter"in I&&(F.filter=I.filter),T.call(this,F)}if(I.colorSpace===b.INDEXED){var Z=this.internal.newObject();D({data:A(new Uint8Array(I.palette)),objectId:Z}),M("endobj")}},o=function(){var T=this.internal.collections[t+"images"];for(var I in T)i.call(this,T[I])},l=function(){var T,I=this.internal.collections[t+"images"],M=this.internal.write;for(var D in I)M("/I"+(T=I[D]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},p=function(T){return jn(T)==="object"&&T.nodeType===1},f=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var M=""+T.getAttribute("src");if(M.indexOf("data:image/")===0)return G1(unescape(M).split("base64,").pop());var D=e.loadFile(M,!0);if(D!==void 0)return D}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var V;switch(I){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return G1(T.toDataURL(V,1).split("base64,").pop())}},y=function(T){var I=this.internal.collections[t+"images"];if(I){for(var M in I)if(T===I[M].alias)return I[M]}},g=function(T,I,M){return T||I||(T=-96,I=-96),T<0&&(T=-1*M.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),T===0&&(T=I*M.width/M.height),I===0&&(I=T*M.height/M.width),[T,I]},v=function(T,I,M,D,V,z){var X=g.call(this,M,D,V),q=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=d.call(this);if(M=X[0],D=X[1],ie[V.index]=V,z){z*=Math.PI/180;var W=Math.cos(z),F=Math.sin(z),Z=function(ae){return ae.toFixed(4)},Q=[Z(W),Z(F),Z(-1*F),Z(W),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,q(T),Y(I+D),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([q(M),"0","0",q(D),"0","0","cm"].join(" "))):this.internal.write([q(M),"0","0",q(D),q(T),Y(I+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(T){var I,M,D=0;if(typeof T=="string")for(M=T.length,I=0;I<M;I++)D=(D<<5)-D+T.charCodeAt(I),D|=0;else if(L(T))for(M=T.byteLength/2,I=0;I<M;I++)D=(D<<5)-D+T[I],D|=0;return D},w=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},C=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var I=T.indexOf(",");return I<0?null:T.substring(0,I).trim().endsWith("base64")?T.substring(I+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,M=new Uint8Array(I),D=0;D<I;D++)M[D]=T.charCodeAt(D);return M},A=e.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",M=L(T)?T:new Uint8Array(T),D=0;D<M.length;D+=8192)I+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return I};e.addImage=function(){var T,I,M,D,V,z,X,q,Y;if(typeof arguments[1]=="number"?(I=r,M=arguments[1],D=arguments[2],V=arguments[3],z=arguments[4],X=arguments[5],q=arguments[6],Y=arguments[7]):(I=arguments[1],M=arguments[2],D=arguments[3],V=arguments[4],z=arguments[5],X=arguments[6],q=arguments[7],Y=arguments[8]),jn(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var ie=T;T=ie.imageData,I=ie.format||I||r,M=ie.x||M||0,D=ie.y||D||0,V=ie.w||ie.width||V,z=ie.h||ie.height||z,X=ie.alias||X,q=ie.compression||q,Y=ie.rotation||ie.angle||Y}var W=this.internal.getFilters();if(q===void 0&&W.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=P.call(this,T,I,X,q);return v.call(this,M,D,V,z,F,Y),this};var P=function(T,I,M,D){var V,z,X;if(typeof T=="string"&&a(T)===r){T=unescape(T);var q=B(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(p(T)&&(T=f(T,I)),I=a(T,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((X=M)==null||X.length===0)&&(M=function(Y){return typeof Y=="string"||L(Y)?N(Y):L(Y.data)?N(Y.data):null}(T)),(V=y.call(this,M))||(T instanceof Uint8Array||I==="RGBA"||(z=T,T=k(T)),V=this["process"+I.toUpperCase()](T,u.call(this),M,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:S.NONE}(D),z)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},B=e.__addimage__.convertBase64ToBinaryString=function(T,I){I=typeof I!="boolean"||I;var M,D="";if(typeof T=="string"){var V;M=(V=C(T))!==null&&V!==void 0?V:T;try{D=G1(M)}catch(z){if(I)throw w(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(T){var I,M,D="";if(p(T)&&(T=f(T)),typeof T=="string"&&a(T)===r&&((D=B(T,!1))===""&&(D=e.loadFile(T)||""),T=D),M=a(T),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(T instanceof Uint8Array||(T=k(T)),!(I=this["process"+M.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(Rt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Rt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){s=d[p];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),S=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(b(s.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(b(S))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+N,s.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var w=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(y(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var C=this.annotations._nameMap[s.options.name];s.options.pageNumber=C.page,s.options.top=C.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var L=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+L+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var v=0,b=r,S="",N=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(N++,typeof(b=b[g.charCodeAt(v)])=="number"&&(S+=String.fromCharCode(b),b=r,N=0),v===g.length-1&&(b=r,S+=g.charAt(v-(N-1)),v-=N-1,N=0)):(b=r,S+=g.charAt(v-N),v-=N,N=0);return S};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&s[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,v,b){return o(g)?i(g)===!1?-1:!d(g)||!o(v)&&!o(b)||!o(b)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:u(g)&&o(v)&&!l(v)&&o(b)&&d(b)?3:l(g)||!o(b)?1:2:-1},f=function(g){var v=0,b=0,S=0,N="",w="",C="",L=(g=g||"").split("\\s+"),k=[];for(v=0;v<L.length;v+=1){for(k.push(""),b=0;b<L[v].length;b+=1)N=L[v][b],w=L[v][b-1],C=L[v][b+1],o(N)?(S=p(N,w,C),k[v]+=S!==-1?String.fromCharCode(t[N.charCodeAt(0)][S]):N):k[v]+=N;k[v]=h(k[v])}return k.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var S=0;for(b=[],S=0;S<v.length;S+=1)Array.isArray(v[S])?b.push([f(v[S][0]),v[S][1],v[S][2]]):b.push([f(v[S])]);g=b}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",y])}(Rt.API),Rt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,f=0,y=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=d.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,w){return N.concat(v.splitTextToSize(w,b))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)f<(g=this.getStringUnitWidth(c[S],{font:h})*u)&&(f=g);return f!==0&&(y=c.length),{w:f/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,y,g,v,b=[],S=[],N=[],w={},C={},L=[],k=[],A=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,B=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(B),h==null)S=b=Object.keys(u[0]),N=b.map(function(){return"left"});else if(Array.isArray(h)&&jn(h[0])==="object")for(b=h.map(function(ie){return ie.name}),S=h.map(function(ie){return ie.prompt||ie.name||""}),N=h.map(function(ie){return ie.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=b=h,N=b.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(w[v=b[f]]=u.map(function(ie){return ie[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=w[v],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)L.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,L)+I+I,L=[]}if(P){var V={};for(f=0;f<b.length;f+=1)V[b[f]]={},V[b[f]].text=S[f],V[b[f]].align=N[f];var z=l.call(this,V,C);k=b.map(function(ie){return new i(c,d,C[ie],z,V[ie].text,void 0,V[ie].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var X=h.reduce(function(ie,W){return ie[W.name]=W.align,ie},{});for(f=0;f<u.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:u[f]},this);var q=l.call(this,u[f],C);for(g=0;g<b.length;g+=1){var Y=u[f][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:Y},this),o.call(this,new i(c,d,C[b[g]],q,Y,f+2,X[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var y=c[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+u+u},this).reduce(function(f,y){return Math.max(f,y)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Rt.API);var bG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],sA=vG(wG),jG=[100,200,300,400,500,600,700,800,900],VRe=vG(jG);function qS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return bG[i=i||"normal"]?i:"normal"}(e.style),s=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof sA[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function gD(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var qRe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vD(e){return e.trimLeft()}function WRe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function HRe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var _1,bD,wD,Wp,A1,jD,ND,SD,WS=["times"];function _D(e,t,r,s){var a=4,i=kD;switch(s){case Rt.API.image_compression.FAST:a=1,i=AD;break;case Rt.API.image_compression.MEDIUM:a=6,i=CD;break;case Rt.API.image_compression.SLOW:a=9,i=PD}e=function(l,c,d,u){for(var h,p=l.length/c,f=new Uint8Array(l.length+p),y=[GRe,AD,kD,CD,PD],g=0;g<p;g+=1){var v=g*c,b=l.subarray(v,v+c);if(u)f.set(u(b,d,h),v+g);else{for(var S=y.length,N=[],w=0;w<S;w+=1)N[w]=y[w](b,d,h);var C=YRe(N.concat());f.set(N[C],v+g)}h=b}return f}(e,t,r,i);var o=W6(e,{level:a});return Rt.API.__addimage__.arrayBufferToBinaryString(o)}function GRe(e){var t=Array.apply([],e);return t.unshift(0),t}function AD(e,t){var r=e.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;s[a+1]=e[a]-i+256&255}return s}function kD(e,t,r){var s=e.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function CD(e,t,r){var s=e.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function PD(e,t,r){var s=e.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=KRe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function KRe(e,t,r){if(e===t&&t===r)return e;var s=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return s<=a&&s<=i?e:a<=i?t:r}function YRe(e){var t=e.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function HS(e,t,r){var s=t*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return NG(e,a)>>i&o}function TD(e,t,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(t&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var p=h>>8&255;d.setUint8(u,p)}})(e,i,NG(e,i)&~(l<<o)&65535|c)}function NG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function ZRe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,p=null,f=0,y=null;for(this.width=r,this.height=s;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,w=e[t++],C=w>>6&1,L=1<<1+(7&w),k=l,A=c,P=!1;w>>7&&(P=!0,k=t,A=L,t+=3*L);var B=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:v,y:b,width:S,height:N,has_local_palette:P,palette_offset:k,palette_size:A,data_offset:B,data_length:t-B,transparent_index:p,interlaced:!!C,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(I){if(I<0||I>=u.length)throw new Error("Frame index out of range.");return u[I]},this.decodeAndBlitFrameBGRA=function(I,M){var D=this.frameInfo(I),V=D.width*D.height,z=new Uint8Array(V);ED(e,D.data_offset,z,V);var X=D.palette_offset,q=D.transparent_index;q===null&&(q=256);var Y=D.width,ie=r-Y,W=Y,F=4*(D.y*r+D.x),Z=4*((D.y+D.height)*r+D.x),Q=F,ae=4*ie;D.interlaced===!0&&(ae+=4*r*7);for(var de=8,ge=0,Se=z.length;ge<Se;++ge){var J=z[ge];if(W===0&&(W=Y,(Q+=ae)>=Z&&(ae=4*ie+4*r*(de-1),Q=F+(Y+ie)*(de<<1),de>>=1)),J===q)Q+=4;else{var he=e[X+3*J],ee=e[X+3*J+1],le=e[X+3*J+2];M[Q++]=le,M[Q++]=ee,M[Q++]=he,M[Q++]=255}--W}},this.decodeAndBlitFrameRGBA=function(I,M){var D=this.frameInfo(I),V=D.width*D.height,z=new Uint8Array(V);ED(e,D.data_offset,z,V);var X=D.palette_offset,q=D.transparent_index;q===null&&(q=256);var Y=D.width,ie=r-Y,W=Y,F=4*(D.y*r+D.x),Z=4*((D.y+D.height)*r+D.x),Q=F,ae=4*ie;D.interlaced===!0&&(ae+=4*r*7);for(var de=8,ge=0,Se=z.length;ge<Se;++ge){var J=z[ge];if(W===0&&(W=Y,(Q+=ae)>=Z&&(ae=4*ie+4*r*(de-1),Q=F+(Y+ie)*(de<<1),de>>=1)),J===q)Q+=4;else{var he=e[X+3*J],ee=e[X+3*J+1],le=e[X+3*J+2];M[Q++]=he,M[Q++]=ee,M[Q++]=le,M[Q++]=255}--W}}}function ED(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,p=0,f=e[t++],y=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)h|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var v=h&d;if(h>>=c,u-=c,v!==i){if(v===o)break;for(var b=v<l?v:g,S=0,N=b;N>i;)N=y[N]>>8,++S;var w=N;if(p+S+(b!==v?1:0)>s)return void Dn.log("Warning, gif stream longer than expected.");r[p++]=w;var C=p+=S;for(b!==v&&(r[p++]=w),N=b;S--;)N=y[N],r[--C]=255&N,N>>=8;g!==null&&l<4096&&(y[l++]=g<<8|w,l>=d+1&&c<12&&(++c,d=d<<1|1)),g=v}else l=o+1,d=(1<<(c=a+1))-1,g=null}return p!==s&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GS(e){var t,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),y=new Array(64),g=[],v=0,b=7,S=new Array(64),N=new Array(64),w=new Array(64),C=new Array(256),L=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(F,Z){for(var Q=0,ae=0,de=new Array,ge=1;ge<=16;ge++){for(var Se=1;Se<=F[ge];Se++)de[Z[ae]]=[],de[Z[ae]][0]=Q,de[Z[ae]][1]=ge,ae++,Q++;Q*=2}return de}function X(F){for(var Z=F[0],Q=F[1]-1;Q>=0;)Z&1<<Q&&(v|=1<<b),Q--,--b<0&&(v==255?(q(255),q(0)):q(v),b=7,v=0)}function q(F){g.push(F)}function Y(F){q(F>>8&255),q(255&F)}function ie(F,Z,Q,ae,de){for(var ge,Se=de[0],J=de[240],he=function(qe,H){var te,ye,Ce,Pe,Ee,Ve,tt,it,ft,mt,ut=0;for(ft=0;ft<8;++ft){te=qe[ut],ye=qe[ut+1],Ce=qe[ut+2],Pe=qe[ut+3],Ee=qe[ut+4],Ve=qe[ut+5],tt=qe[ut+6];var zt=te+(it=qe[ut+7]),er=te-it,Nt=ye+tt,tr=ye-tt,Qr=Ce+Ve,Ft=Ce-Ve,Ar=Pe+Ee,fr=Pe-Ee,hs=zt+Ar,Ss=zt-Ar,pn=Nt+Qr,or=Nt-Qr;qe[ut]=hs+pn,qe[ut+4]=hs-pn;var on=.707106781*(or+Ss);qe[ut+2]=Ss+on,qe[ut+6]=Ss-on;var ud=.382683433*((hs=fr+Ft)-(or=tr+er)),Na=.5411961*hs+ud,qo=1.306562965*or+ud,Wo=.707106781*(pn=Ft+tr),Ht=er+Wo,jl=er-Wo;qe[ut+5]=jl+Na,qe[ut+3]=jl-Na,qe[ut+1]=Ht+qo,qe[ut+7]=Ht-qo,ut+=8}for(ut=0,ft=0;ft<8;++ft){te=qe[ut],ye=qe[ut+8],Ce=qe[ut+16],Pe=qe[ut+24],Ee=qe[ut+32],Ve=qe[ut+40],tt=qe[ut+48];var ao=te+(it=qe[ut+56]),Bi=te-it,Ka=ye+tt,as=ye-tt,Ys=Ce+Ve,aa=Ce-Ve,hd=Pe+Ee,pc=Pe-Ee,io=ao+hd,Ho=ao-hd,oo=Ka+Ys,zi=Ka-Ys;qe[ut]=io+oo,qe[ut+32]=io-oo;var Ui=.707106781*(zi+Ho);qe[ut+16]=Ho+Ui,qe[ut+48]=Ho-Ui;var fd=.382683433*((io=pc+aa)-(zi=as+Bi)),Go=.5411961*io+fd,md=1.306562965*zi+fd,pu=.707106781*(oo=aa+as),gu=Bi+pu,Nl=Bi-pu;qe[ut+40]=Nl+Go,qe[ut+24]=Nl-Go,qe[ut+8]=gu+md,qe[ut+56]=gu-md,ut++}for(ft=0;ft<64;++ft)mt=qe[ft]*H[ft],f[ft]=mt>0?mt+.5|0:mt-.5|0;return f}(F,Z),ee=0;ee<64;++ee)y[k[ee]]=he[ee];var le=y[0]-Q;Q=y[0],le==0?X(ae[0]):(X(ae[p[ge=32767+le]]),X(h[ge]));for(var ke=63;ke>0&&y[ke]==0;)ke--;if(ke==0)return X(Se),Q;for(var Ne,G=1;G<=ke;){for(var Ae=G;y[G]==0&&G<=ke;)++G;var ze=G-Ae;if(ze>=16){Ne=ze>>4;for(var Be=1;Be<=Ne;++Be)X(J);ze&=15}ge=32767+y[G],X(de[(ze<<4)+p[ge]]),X(h[ge]),G++}return ke!=63&&X(Se),Q}function W(F){F=Math.min(Math.max(F,1),100),i!=F&&(function(Z){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var de=o((Q[ae]*Z+50)/100);de=Math.min(Math.max(de,1),255),l[k[ae]]=de}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var J=o((ge[Se]*Z+50)/100);J=Math.min(Math.max(J,1),255),c[k[Se]]=J}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,le=0;le<8;le++)for(var ke=0;ke<8;ke++)d[ee]=1/(l[k[ee]]*he[le]*he[ke]*8),u[ee]=1/(c[k[ee]]*he[le]*he[ke]*8),ee++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,Z){Z&&W(Z),g=new Array,v=0,b=7,Y(65496),Y(65504),Y(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),Y(1),Y(1),q(0),q(0),function(){Y(65499),Y(132),q(0);for(var ye=0;ye<64;ye++)q(l[ye]);q(1);for(var Ce=0;Ce<64;Ce++)q(c[Ce])}(),function(ye,Ce){Y(65472),Y(17),q(8),Y(Ce),Y(ye),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(F.width,F.height),function(){Y(65476),Y(418),q(0);for(var ye=0;ye<16;ye++)q(A[ye+1]);for(var Ce=0;Ce<=11;Ce++)q(P[Ce]);q(16);for(var Pe=0;Pe<16;Pe++)q(B[Pe+1]);for(var Ee=0;Ee<=161;Ee++)q(T[Ee]);q(1);for(var Ve=0;Ve<16;Ve++)q(I[Ve+1]);for(var tt=0;tt<=11;tt++)q(M[tt]);q(17);for(var it=0;it<16;it++)q(D[it+1]);for(var ft=0;ft<=161;ft++)q(V[ft])}(),Y(65498),Y(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Q=0,ae=0,de=0;v=0,b=7,this.encode.displayName="_encode_";for(var ge,Se,J,he,ee,le,ke,Ne,G,Ae=F.data,ze=F.width,Be=F.height,qe=4*ze,H=0;H<Be;){for(ge=0;ge<qe;){for(ee=qe*H+ge,ke=-1,Ne=0,G=0;G<64;G++)le=ee+(Ne=G>>3)*qe+(ke=4*(7&G)),H+Ne>=Be&&(le-=qe*(H+1+Ne-Be)),ge+ke>=qe&&(le-=ge+ke-qe+4),Se=Ae[le++],J=Ae[le++],he=Ae[le++],S[G]=(L[Se]+L[J+256|0]+L[he+512|0]>>16)-128,N[G]=(L[Se+768|0]+L[J+1024|0]+L[he+1280|0]>>16)-128,w[G]=(L[Se+1280|0]+L[J+1536|0]+L[he+1792|0]>>16)-128;Q=ie(S,d,Q,t,s),ae=ie(N,u,ae,r,a),de=ie(w,u,de,r,a),ge+=32}H+=8}if(b>=0){var te=[];te[1]=b+1,te[0]=(1<<b+1)-1,X(te)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var F=String.fromCharCode,Z=0;Z<256;Z++)C[Z]=F(Z)}(),t=z(A,P),r=z(I,M),s=z(B,T),a=z(D,V),function(){for(var F=1,Z=2,Q=1;Q<=15;Q++){for(var ae=F;ae<Z;ae++)p[32767+ae]=Q,h[32767+ae]=[],h[32767+ae][1]=Q,h[32767+ae][0]=ae;for(var de=-(Z-1);de<=-F;de++)p[32767+de]=Q,h[32767+de]=[],h[32767+de][1]=Q,h[32767+de][0]=Z-1+de;F<<=1,Z<<=1}}(),function(){for(var F=0;F<256;F++)L[F]=19595*F,L[F+256|0]=38470*F,L[F+512|0]=7471*F+32768,L[F+768|0]=-11059*F,L[F+1024|0]=-21709*F,L[F+1280|0]=32768*F+8421375,L[F+1536|0]=-27439*F,L[F+1792|0]=-5329*F}(),W(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ul(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function OD(e){function t(P){if(!P)throw Error("assert :P")}function r(P,B,T){for(var I=0;4>I;I++)if(P[B+I]!=T.charCodeAt(I))return!0;return!1}function s(P,B,T,I,M){for(var D=0;D<M;D++)P[B+D]=T[I+D]}function a(P,B,T,I){for(var M=0;M<I;M++)P[B+M]=T}function i(P){return new Int32Array(P)}function o(P,B){for(var T=[],I=0;I<P;I++)T.push(new B);return T}function l(P,B){var T=[];return function I(M,D,V){for(var z=V[D],X=0;X<z&&(M.push(V.length>D+1?[]:new B),!(V.length<D+1));X++)I(M[X],D+1,V)}(T,0,P),T}var c=function(){var P=this;function B(j,E){for(var $=1<<E-1>>>0;j&$;)$>>>=1;return $?(j&$-1)+$:j}function T(j,E,$,K,re){t(!(K%$));do j[E+(K-=$)]=re;while(0<K)}function I(j,E,$,K,re){if(t(2328>=re),512>=re)var oe=i(512);else if((oe=i(re))==null)return 0;return function(ce,fe,pe,be,Me,We){var we,De,$e=fe,Ze=1<<pe,Ue=i(16),Xe=i(16);for(t(Me!=0),t(be!=null),t(ce!=null),t(0<pe),De=0;De<Me;++De){if(15<be[De])return 0;++Ue[be[De]]}if(Ue[0]==Me)return 0;for(Xe[1]=0,we=1;15>we;++we){if(Ue[we]>1<<we)return 0;Xe[we+1]=Xe[we]+Ue[we]}for(De=0;De<Me;++De)we=be[De],0<be[De]&&(We[Xe[we]++]=De);if(Xe[15]==1)return(be=new M).g=0,be.value=We[0],T(ce,$e,1,Ze,be),Ze;var et,ct=-1,nt=Ze-1,Ot=0,bt=1,Vt=1,Et=1<<pe;for(De=0,we=1,Me=2;we<=pe;++we,Me<<=1){if(bt+=Vt<<=1,0>(Vt-=Ue[we]))return 0;for(;0<Ue[we];--Ue[we])(be=new M).g=we,be.value=We[De++],T(ce,$e+Ot,Me,Et,be),Ot=B(Ot,we)}for(we=pe+1,Me=2;15>=we;++we,Me<<=1){if(bt+=Vt<<=1,0>(Vt-=Ue[we]))return 0;for(;0<Ue[we];--Ue[we]){if(be=new M,(Ot&nt)!=ct){for($e+=Et,et=1<<(ct=we)-pe;15>ct&&!(0>=(et-=Ue[ct]));)++ct,et<<=1;Ze+=Et=1<<(et=ct-pe),ce[fe+(ct=Ot&nt)].g=et+pe,ce[fe+ct].value=$e-fe-ct}be.g=we-pe,be.value=We[De++],T(ce,$e+(Ot>>pe),Me,Et,be),Ot=B(Ot,we)}}return bt!=2*Xe[15]-1?0:Ze}(j,E,$,K,re,oe)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function V(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Yo,D)}function z(j,E,$,K){t(j!=null),t(E!=null),t(2147483648>K),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=E,j.pa=$,j.Jd=E,j.Yc=$+K,j.Zc=4<=K?$+K-4+1:$,Se(j)}function X(j,E){for(var $=0;0<E--;)$|=he(j,128)<<E;return $}function q(j,E){var $=X(j,E);return J(j)?-$:$}function Y(j,E,$,K){var re,oe=0;for(t(j!=null),t(E!=null),t(4294967288>K),j.Sb=K,j.Ra=0,j.u=0,j.h=0,4<K&&(K=4),re=0;re<K;++re)oe+=E[$+re]<<8*re;j.Ra=oe,j.bb=K,j.oa=E,j.pa=$}function ie(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<jc-8>>>0,++j.bb,j.u-=8;ae(j)&&(j.h=1,j.u=0)}function W(j,E){if(t(0<=E),!j.h&&E<=yf){var $=Q(j)&pi[E];return j.u+=E,ie(j),$}return j.h=1,j.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(j){return j.Ra>>>(j.u&jc-1)>>>0}function ae(j){return t(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>jc}function de(j,E){j.u=E,j.h=ae(j)}function ge(j){j.u>=Kn&&(t(j.u>=Kn),ie(j))}function Se(j){t(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(t(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function J(j){return X(j,1)}function he(j,E){var $=j.Ca;0>j.b&&Se(j);var K=j.b,re=$*E>>>8,oe=(j.I>>>K>re)+0;for(oe?($-=re,j.I-=re+1<<K>>>0):$=re+1,K=$,re=0;256<=K;)re+=8,K>>=8;return K=7^re+pp[K],j.b-=K,j.Ca=($<<K)-1,oe}function ee(j,E,$){j[E+0]=$>>24&255,j[E+1]=$>>16&255,j[E+2]=$>>8&255,j[E+3]=255&$}function le(j,E){return j[E+0]|j[E+1]<<8}function ke(j,E){return le(j,E)|j[E+2]<<16}function Ne(j,E){return le(j,E)|le(j,E+2)<<16}function G(j,E){var $=1<<E;return t(j!=null),t(0<E),j.X=i($),j.X==null?0:(j.Mb=32-E,j.Xa=E,1)}function Ae(j,E){t(j!=null),t(E!=null),t(j.Xa==E.Xa),s(E.X,0,j.X,0,1<<E.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function Be(j,E,$,K){t($!=null),t(K!=null);var re=$[0],oe=K[0];return re==0&&(re=(j*oe+E/2)/E),oe==0&&(oe=(E*re+j/2)/j),0>=re||0>=oe?0:($[0]=re,K[0]=oe,1)}function qe(j,E){return j+(1<<E)-1>>>E}function H(j,E){return((4278255360&j)+(4278255360&E)>>>0&4278255360)+((16711935&j)+(16711935&E)>>>0&16711935)>>>0}function te(j,E){P[E]=function($,K,re,oe,ce,fe,pe){var be;for(be=0;be<ce;++be){var Me=P[j](fe[pe+be-1],re,oe+be);fe[pe+be]=H($[K+be],Me)}}}function ye(){this.ud=this.hd=this.jd=0}function Ce(j,E){return((4278124286&(j^E))>>>1)+(j&E)>>>0}function Pe(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function Ee(j,E){return Pe(j+(j-E+.5>>1))}function Ve(j,E,$){return Math.abs(E-$)-Math.abs(j-$)}function tt(j,E,$,K,re,oe,ce){for(K=oe[ce-1],$=0;$<re;++$)oe[ce+$]=K=H(j[E+$],K)}function it(j,E,$,K,re){var oe;for(oe=0;oe<$;++oe){var ce=j[E+oe],fe=ce>>8&255,pe=16711935&(pe=(pe=16711935&ce)+((fe<<16)+fe));K[re+oe]=(4278255360&ce)+pe>>>0}}function ft(j,E){E.jd=255&j,E.hd=j>>8&255,E.ud=j>>16&255}function mt(j,E,$,K,re,oe){var ce;for(ce=0;ce<K;++ce){var fe=E[$+ce],pe=fe>>>8,be=fe,Me=255&(Me=(Me=fe>>>16)+((j.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be+=(j.hd<<24>>24)*(pe<<24>>24)>>>5)+((j.ud<<24>>24)*(Me<<24>>24)>>>5)),re[oe+ce]=(4278255360&fe)+(Me<<16)+be}}function ut(j,E,$,K,re){P[E]=function(oe,ce,fe,pe,be,Me,We,we,De){for(pe=We;pe<we;++pe)for(We=0;We<De;++We)be[Me++]=re(fe[K(oe[ce++])])},P[j]=function(oe,ce,fe,pe,be,Me,We){var we=8>>oe.b,De=oe.Ea,$e=oe.K[0],Ze=oe.w;if(8>we)for(oe=(1<<oe.b)-1,Ze=(1<<we)-1;ce<fe;++ce){var Ue,Xe=0;for(Ue=0;Ue<De;++Ue)Ue&oe||(Xe=K(pe[be++])),Me[We++]=re($e[Xe&Ze]),Xe>>=we}else P["VP8LMapColor"+$](pe,be,$e,Ze,Me,We,ce,fe,De)}}function zt(j,E,$,K,re){for($=E+$;E<$;){var oe=j[E++];K[re++]=oe>>16&255,K[re++]=oe>>8&255,K[re++]=255&oe}}function er(j,E,$,K,re){for($=E+$;E<$;){var oe=j[E++];K[re++]=oe>>16&255,K[re++]=oe>>8&255,K[re++]=255&oe,K[re++]=oe>>24&255}}function Nt(j,E,$,K,re){for($=E+$;E<$;){var oe=(ce=j[E++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;K[re++]=oe,K[re++]=ce}}function tr(j,E,$,K,re){for($=E+$;E<$;){var oe=(ce=j[E++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;K[re++]=oe,K[re++]=ce}}function Qr(j,E,$,K,re){for($=E+$;E<$;){var oe=j[E++];K[re++]=255&oe,K[re++]=oe>>8&255,K[re++]=oe>>16&255}}function Ft(j,E,$,K,re,oe){if(oe==0)for($=E+$;E<$;)ee(K,((oe=j[E++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),re+=32;else s(K,re,j,E,$)}function Ar(j,E){P[E][0]=P[j+"0"],P[E][1]=P[j+"1"],P[E][2]=P[j+"2"],P[E][3]=P[j+"3"],P[E][4]=P[j+"4"],P[E][5]=P[j+"5"],P[E][6]=P[j+"6"],P[E][7]=P[j+"7"],P[E][8]=P[j+"8"],P[E][9]=P[j+"9"],P[E][10]=P[j+"10"],P[E][11]=P[j+"11"],P[E][12]=P[j+"12"],P[E][13]=P[j+"13"],P[E][14]=P[j+"0"],P[E][15]=P[j+"0"]}function fr(j){return j==Bu||j==zu||j==Uu||j==d0}function hs(){this.eb=[],this.size=this.A=this.fb=0}function Ss(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hs,this.f.kb=new Ss,this.sd=null}function or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ud(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function Na(j,E){var $=j.T,K=E.ba.f.RGBA,re=K.eb,oe=K.fb+j.ka*K.A,ce=vi[E.ba.S],fe=j.y,pe=j.O,be=j.f,Me=j.N,We=j.ea,we=j.W,De=E.cc,$e=E.dc,Ze=E.Mc,Ue=E.Nc,Xe=j.ka,et=j.ka+j.T,ct=j.U,nt=ct+1>>1;for(Xe==0?ce(fe,pe,null,null,be,Me,We,we,be,Me,We,we,re,oe,null,null,ct):(ce(E.ec,E.fc,fe,pe,De,$e,Ze,Ue,be,Me,We,we,re,oe-K.A,re,oe,ct),++$);Xe+2<et;Xe+=2)De=be,$e=Me,Ze=We,Ue=we,Me+=j.Rc,we+=j.Rc,oe+=2*K.A,ce(fe,(pe+=2*j.fa)-j.fa,fe,pe,De,$e,Ze,Ue,be,Me,We,we,re,oe-K.A,re,oe,ct);return pe+=j.fa,j.j+et<j.o?(s(E.ec,E.fc,fe,pe,ct),s(E.cc,E.dc,be,Me,nt),s(E.Mc,E.Nc,We,we,nt),$--):1&et||ce(fe,pe,null,null,be,Me,We,we,be,Me,We,we,re,oe+K.A,null,null,ct),$}function qo(j,E,$){var K=j.F,re=[j.J];if(K!=null){var oe=j.U,ce=E.ba.S,fe=ce==xp||ce==Uu;E=E.ba.f.RGBA;var pe=[0],be=j.ka;pe[0]=j.T,j.Kb&&(be==0?--pe[0]:(--be,re[0]-=j.width),j.j+j.ka+j.T==j.o&&(pe[0]=j.o-j.j-be));var Me=E.eb;be=E.fb+be*E.A,j=ib(K,re[0],j.width,oe,pe,Me,be+(fe?0:3),E.A),t($==pe),j&&fr(ce)&&Ru(Me,be,fe,oe,pe,E.A)}return 0}function Wo(j){var E=j.ma,$=E.ba.S,K=11>$,re=$==Sc||$==wd||$==xp||$==c0||$==12||fr($);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Qa(E.Oa,j,re?11:12))return 0;if(re&&fr($)&&Ko(),j.da)alert("todo:use_scaling");else{if(K){if(E.Ib=ud,j.Kb){if($=j.U+1>>1,E.memory=i(j.U+2*$),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+j.U,E.Mc=E.cc,E.Nc=E.dc+$,E.Ib=Na,Ko()}}else alert("todo:EmitYUV");re&&(E.Jb=qo,K&&wc())}if(K&&!pb){for(j=0;256>j;++j)Ml[j]=89858*(j-128)+Xo>>vp,AN[j]=-22014*(j-128)+Xo,_N[j]=-45773*(j-128),SN[j]=113618*(j-128)+Xo>>vp;for(j=Lf;j<f0;++j)E=76283*(j-16)+Xo>>vp,kN[j-Lf]=tn(E,255),CN[j-Lf]=tn(E+8>>4,15);pb=1}return 1}function Ht(j){var E=j.ma,$=j.U,K=j.T;return t(!(1&j.ka)),0>=$||0>=K?0:($=E.Ib(j,E),E.Jb!=null&&E.Jb(j,E,$),E.Dc+=$,1)}function jl(j){j.ma.memory=null}function ao(j,E,$,K){return W(j,8)!=47?0:(E[0]=W(j,14)+1,$[0]=W(j,14)+1,K[0]=W(j,1),W(j,3)!=0?0:!j.h)}function Bi(j,E){if(4>j)return j+1;var $=j-2>>1;return(2+(1&j)<<$)+W(E,$)+1}function Ka(j,E){return 120<E?E-120:1<=($=(($=yN[E-1])>>4)*j+(8-(15&$)))?$:1;var $}function as(j,E,$){var K=Q($),re=j[E+=255&K].g-8;return 0<re&&(de($,$.u+8),K=Q($),E+=j[E].value,E+=K&(1<<re)-1),de($,$.u+j[E].g),j[E].value}function Ys(j,E,$){return $.g+=j.g,$.value+=j.value<<E>>>0,t(8>=$.g),j.g}function aa(j,E,$){var K=j.xc;return t((E=K==0?0:j.vc[j.md*($>>K)+(E>>K)])<j.Wb),j.Ya[E]}function hd(j,E,$,K){var re=j.ab,oe=j.c*E,ce=j.C;E=ce+E;var fe=$,pe=K;for(K=j.Ta,$=j.Ua;0<re--;){var be=j.gc[re],Me=ce,We=E,we=fe,De=pe,$e=(pe=K,fe=$,be.Ea);switch(t(Me<We),t(We<=be.nc),be.hc){case 2:Du(we,De,(We-Me)*$e,pe,fe);break;case 0:var Ze=Me,Ue=We,Xe=pe,et=fe,ct=(Et=be).Ea;Ze==0&&(la(we,De,null,null,1,Xe,et),tt(we,De+1,0,0,ct-1,Xe,et+1),De+=ct,et+=ct,++Ze);for(var nt=1<<Et.b,Ot=nt-1,bt=qe(ct,Et.b),Vt=Et.K,Et=Et.w+(Ze>>Et.b)*bt;Ze<Ue;){var Mr=Vt,As=Et,lr=1;for(gi(we,De,Xe,et-ct,1,Xe,et);lr<ct;){var St=(lr&~Ot)+nt;St>ct&&(St=ct),(0,Nc[Mr[As++]>>8&15])(we,De+ +lr,Xe,et+lr-ct,St-lr,Xe,et+lr),lr=St}De+=ct,et+=ct,++Ze&Ot||(Et+=bt)}We!=be.nc&&s(pe,fe-$e,pe,fe+(We-Me-1)*$e,$e);break;case 1:for($e=we,Ue=De,ct=(we=be.Ea)-(et=we&~(Xe=(De=1<<be.b)-1)),Ze=qe(we,be.b),nt=be.K,be=be.w+(Me>>be.b)*Ze;Me<We;){for(Ot=nt,bt=be,Vt=new ye,Et=Ue+et,Mr=Ue+we;Ue<Et;)ft(Ot[bt++],Vt),El(Vt,$e,Ue,De,pe,fe),Ue+=De,fe+=De;Ue<Mr&&(ft(Ot[bt++],Vt),El(Vt,$e,Ue,ct,pe,fe),Ue+=ct,fe+=ct),++Me&Xe||(be+=Ze)}break;case 3:if(we==pe&&De==fe&&0<be.b){for(Ue=pe,we=$e=fe+(We-Me)*$e-(et=(We-Me)*qe(be.Ea,be.b)),De=pe,Xe=fe,Ze=[],et=(ct=et)-1;0<=et;--et)Ze[et]=De[Xe+et];for(et=ct-1;0<=et;--et)Ue[we+et]=Ze[et];vf(be,Me,We,pe,$e,pe,fe)}else vf(be,Me,We,we,De,pe,fe)}fe=K,pe=$}pe!=$&&s(K,$,fe,pe,oe)}function pc(j,E){var $=j.V,K=j.Ba+j.c*j.C,re=E-j.C;if(t(E<=j.l.o),t(16>=re),0<re){var oe=j.l,ce=j.Ta,fe=j.Ua,pe=oe.width;if(hd(j,re,$,K),re=fe=[fe],t(($=j.C)<(K=E)),t(oe.v<oe.va),K>oe.o&&(K=oe.o),$<oe.j){var be=oe.j-$;$=oe.j,re[0]+=be*pe}if($>=K?$=0:(re[0]+=4*oe.v,oe.ka=$-oe.j,oe.U=oe.va-oe.v,oe.T=K-$,$=1),$){if(fe=fe[0],11>($=j.ca).S){var Me=$.f.RGBA,We=(K=$.S,re=oe.U,oe=oe.T,be=Me.eb,Me.A),we=oe;for(Me=Me.fb+j.Ma*Me.A;0<we--;){var De=ce,$e=fe,Ze=re,Ue=be,Xe=Me;switch(K){case Cf:bf(De,$e,Ze,Ue,Xe);break;case Sc:xi(De,$e,Ze,Ue,Xe);break;case Bu:xi(De,$e,Ze,Ue,Xe),Ru(Ue,Xe,0,Ze,1,0);break;case _c:rn(De,$e,Ze,Ue,Xe);break;case wd:Ft(De,$e,Ze,Ue,Xe,1);break;case zu:Ft(De,$e,Ze,Ue,Xe,1),Ru(Ue,Xe,0,Ze,1,0);break;case xp:Ft(De,$e,Ze,Ue,Xe,0);break;case Uu:Ft(De,$e,Ze,Ue,Xe,0),Ru(Ue,Xe,1,Ze,1,0);break;case c0:Zo(De,$e,Ze,Ue,Xe);break;case d0:Zo(De,$e,Ze,Ue,Xe),Sf(Ue,Xe,Ze,1,0);break;case cb:An(De,$e,Ze,Ue,Xe);break;default:t(0)}fe+=pe,Me+=We}j.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(j.Ma<=$.height)}}j.C=E,t(j.C<=j.i)}function io(j){var E;if(0<j.ua)return 0;for(E=0;E<j.Wb;++E){var $=j.Ya[E].G,K=j.Ya[E].H;if(0<$[1][K[1]+0].g||0<$[2][K[2]+0].g||0<$[3][K[3]+0].g)return 0}return 1}function Ho(j,E,$,K,re,oe){if(j.Z!=0){var ce=j.qd,fe=j.rd;for(t(qi[j.Z]!=null);E<$;++E)qi[j.Z](ce,fe,K,re,K,re,oe),ce=K,fe=re,re+=oe;j.qd=ce,j.rd=fe}}function oo(j,E){var $=j.l.ma,K=$.Z==0||$.Z==1?j.l.j:j.C;if(K=j.C<K?K:j.C,t(E<=j.l.o),E>K){var re=j.l.width,oe=$.ca,ce=$.tb+re*K,fe=j.V,pe=j.Ba+j.c*K,be=j.gc;t(j.ab==1),t(be[0].hc==3),po(be[0],K,E,fe,pe,oe,ce),Ho($,K,E,oe,ce,re)}j.C=j.Ma=E}function zi(j,E,$,K,re,oe,ce){var fe=j.$/K,pe=j.$%K,be=j.m,Me=j.s,We=$+j.$,we=We;re=$+K*re;var De=$+K*oe,$e=280+Me.ua,Ze=j.Pb?fe:16777216,Ue=0<Me.ua?Me.Wa:null,Xe=Me.wc,et=We<De?aa(Me,pe,fe):null;t(j.C<oe),t(De<=re);var ct=!1;e:for(;;){for(;ct||We<De;){var nt=0;if(fe>=Ze){var Ot=We-$;t((Ze=j).Pb),Ze.wd=Ze.m,Ze.xd=Ot,0<Ze.s.ua&&Ae(Ze.s.Wa,Ze.s.vb),Ze=fe+hb}if(pe&Xe||(et=aa(Me,pe,fe)),t(et!=null),et.Qb&&(E[We]=et.qb,ct=!0),!ct)if(ge(be),et.jc){nt=be,Ot=E;var bt=We,Vt=et.pd[Q(nt)&Yo-1];t(et.jc),256>Vt.g?(de(nt,nt.u+Vt.g),Ot[bt]=Vt.value,nt=0):(de(nt,nt.u+Vt.g-256),t(256<=Vt.value),nt=Vt.value),nt==0&&(ct=!0)}else nt=as(et.G[0],et.H[0],be);if(be.h)break;if(ct||256>nt){if(!ct)if(et.nd)E[We]=(et.qb|nt<<8)>>>0;else{if(ge(be),ct=as(et.G[1],et.H[1],be),ge(be),Ot=as(et.G[2],et.H[2],be),bt=as(et.G[3],et.H[3],be),be.h)break;E[We]=(bt<<24|ct<<16|nt<<8|Ot)>>>0}if(ct=!1,++We,++pe>=K&&(pe=0,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(j,fe),Ue!=null))for(;we<We;)nt=E[we++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else if(280>nt){if(nt=Bi(nt-256,be),Ot=as(et.G[4],et.H[4],be),ge(be),Ot=Ka(K,Ot=Bi(Ot,be)),be.h)break;if(We-$<Ot||re-We<nt)break e;for(bt=0;bt<nt;++bt)E[We+bt]=E[We+bt-Ot];for(We+=nt,pe+=nt;pe>=K;)pe-=K,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(j,fe);if(t(We<=re),pe&Xe&&(et=aa(Me,pe,fe)),Ue!=null)for(;we<We;)nt=E[we++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt}else{if(!(nt<$e))break e;for(ct=nt-280,t(Ue!=null);we<We;)nt=E[we++],Ue.X[(506832829*nt&4294967295)>>>Ue.Mb]=nt;nt=We,t(!(ct>>>(Ot=Ue).Xa)),E[nt]=Ot.X[ct],ct=!0}ct||t(be.h==ae(be))}if(j.Pb&&be.h&&We<re)t(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&Ae(j.s.vb,j.s.Wa);else{if(be.h)break e;ce?.(j,fe>oe?oe:fe),j.a=0,j.$=We-$}return 1}return j.a=3,0}function Ui(j){t(j!=null),j.vc=null,j.yc=null,j.Ya=null;var E=j.Wa;E!=null&&(E.X=null),j.vb=null,t(j!=null)}function fd(){var j=new Sn;return j==null?null:(j.a=0,j.xb=Ef,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),Du=it,El=mt,bf=zt,xi=er,Zo=Nt,An=tr,rn=Qr,P.VP8LMapColor32b=Fu,P.VP8LMapColor8b=ca,j)}function Go(j,E,$,K,re){var oe=1,ce=[j],fe=[E],pe=K.m,be=K.s,Me=null,We=0;e:for(;;){if($)for(;oe&&W(pe,1);){var we=ce,De=fe,$e=K,Ze=1,Ue=$e.m,Xe=$e.gc[$e.ab],et=W(Ue,2);if($e.Oc&1<<et)oe=0;else{switch($e.Oc|=1<<et,Xe.hc=et,Xe.Ea=we[0],Xe.nc=De[0],Xe.K=[null],++$e.ab,t(4>=$e.ab),et){case 0:case 1:Xe.b=W(Ue,3)+2,Ze=Go(qe(Xe.Ea,Xe.b),qe(Xe.nc,Xe.b),0,$e,Xe.K),Xe.K=Xe.K[0];break;case 3:var ct,nt=W(Ue,8)+1,Ot=16<nt?0:4<nt?1:2<nt?2:3;if(we[0]=qe(Xe.Ea,Ot),Xe.b=Ot,ct=Ze=Go(nt,1,0,$e,Xe.K)){var bt,Vt=nt,Et=Xe,Mr=1<<(8>>Et.b),As=i(Mr);if(As==null)ct=0;else{var lr=Et.K[0],St=Et.w;for(As[0]=Et.K[0][0],bt=1;bt<1*Vt;++bt)As[bt]=H(lr[St+bt],As[bt-1]);for(;bt<4*Mr;++bt)As[bt]=0;Et.K[0]=null,Et.K[0]=As,ct=1}}Ze=ct;break;case 2:break;default:t(0)}oe=Ze}}if(ce=ce[0],fe=fe[0],oe&&W(pe,1)&&!(oe=1<=(We=W(pe,4))&&11>=We)){K.a=3;break e}var pt;if(pt=oe)t:{var xs,ir,Vr,kn=K,qr=ce,da=fe,Yn=We,On=$,ua=kn.m,ls=kn.s,wr=[null],cn=1,Dr=0,nn=vN[Yn];r:for(;;){if(On&&W(ua,1)){var ha=W(ua,3)+2,xo=qe(qr,ha),ys=qe(da,ha),_a=xo*ys;if(!Go(xo,ys,0,kn,wr))break r;for(wr=wr[0],ls.xc=ha,xs=0;xs<_a;++xs){var bn=wr[xs]>>8&65535;wr[xs]=bn,bn>=cn&&(cn=bn+1)}}if(ua.h)break r;for(ir=0;5>ir;++ir){var Zn=ub[ir];!ir&&0<Yn&&(Zn+=1<<Yn),Dr<Zn&&(Dr=Zn)}var ti=o(cn*nn,M),Ba=cn,wi=o(Ba,V);if(wi==null)var fa=null;else t(65536>=Ba),fa=wi;var ri=i(Dr);if(fa==null||ri==null||ti==null){kn.a=1;break r}var ji=ti;for(xs=Vr=0;xs<cn;++xs){var xn=fa[xs],ni=xn.G,yo=xn.H,jd=0,Dl=1,Zs=0;for(ir=0;5>ir;++ir){Zn=ub[ir],ni[ir]=ji,yo[ir]=Vr,!ir&&0<Yn&&(Zn+=1<<Yn);s:{var Gu,m0=Zn,Ku=kn,Yu=ri,xb=ji,yb=Vr,Zu=0,kc=Ku.m,vb=W(kc,1);if(a(Yu,0,0,m0),vb){var bb=W(kc,1)+1,EN=W(kc,1),p0=W(kc,EN==0?1:8);Yu[p0]=1,bb==2&&(Yu[p0=W(kc,8)]=1);var wp=1}else{var jp=i(19),g0=W(kc,4)+4;if(19<g0){Ku.a=3;var Xu=0;break s}for(Gu=0;Gu<g0;++Gu)jp[Sa[Gu]]=W(kc,3);var x0=void 0,Nd=void 0,br=Ku,ON=jp,Np=m0,Qu=Yu,Sp=0,Cc=br.m,wb=8,Ni=o(128,M);n:for(;I(Ni,0,7,ON,19);){if(W(Cc,1)){var LN=2+2*W(Cc,3);if((x0=2+W(Cc,LN))>Np)break n}else x0=Np;for(Nd=0;Nd<Np&&x0--;){ge(Cc);var If=Ni[0+(127&Q(Cc))];de(Cc,Cc.u+If.g);var Pc=If.value;if(16>Pc)Qu[Nd++]=Pc,Pc!=0&&(wb=Pc);else{var jb=Pc==16,y0=Pc-16,Si=xN[y0],Fl=W(Cc,db[y0])+Si;if(Nd+Fl>Np)break n;for(var v0=jb?wb:0;0<Fl--;)Qu[Nd++]=v0}}Sp=1;break n}Sp||(br.a=3),wp=Sp}(wp=wp&&!kc.h)&&(Zu=I(xb,yb,8,Yu,m0)),wp&&Zu!=0?Xu=Zu:(Ku.a=3,Xu=0)}if(Xu==0)break r;if(Dl&&Is[ir]==1&&(Dl=ji[Vr].g==0),jd+=ji[Vr].g,Vr+=Xu,3>=ir){var Ju,eh=ri[0];for(Ju=1;Ju<Zn;++Ju)ri[Ju]>eh&&(eh=ri[Ju]);Zs+=eh}}if(xn.nd=Dl,xn.Qb=0,Dl&&(xn.qb=(ni[3][yo[3]+0].value<<24|ni[1][yo[1]+0].value<<16|ni[2][yo[2]+0].value)>>>0,jd==0&&256>ni[0][yo[0]+0].value&&(xn.Qb=1,xn.qb+=ni[0][yo[0]+0].value<<8)),xn.jc=!xn.Qb&&6>Zs,xn.jc){var Mf,vo=xn;for(Mf=0;Mf<Yo;++Mf){var Rl=Mf,Jo=vo.pd[Rl],th=vo.G[0][vo.H[0]+Rl];256<=th.value?(Jo.g=th.g+256,Jo.value=th.value):(Jo.g=0,Jo.value=0,Rl>>=Ys(th,8,Jo),Rl>>=Ys(vo.G[1][vo.H[1]+Rl],16,Jo),Rl>>=Ys(vo.G[2][vo.H[2]+Rl],0,Jo),Ys(vo.G[3][vo.H[3]+Rl],24,Jo))}}}ls.vc=wr,ls.Wb=cn,ls.Ya=fa,ls.yc=ti,pt=1;break t}pt=0}if(!(oe=pt)){K.a=3;break e}if(0<We){if(be.ua=1<<We,!G(be.Wa,We)){K.a=1,oe=0;break e}}else be.ua=0;var el=K,Nb=ce,Tc=fe,_p=el.s,Ap=_p.xc;if(el.c=Nb,el.i=Tc,_p.md=qe(Nb,Ap),_p.wc=Ap==0?-1:(1<<Ap)-1,$){K.xb=wN;break e}if((Me=i(ce*fe))==null){K.a=1,oe=0;break e}oe=(oe=zi(K,Me,0,ce,fe,fe,null))&&!pe.h;break e}return oe?(re!=null?re[0]=Me:(t(Me==null),t($)),K.$=0,$||Ui(be)):Ui(be),oe}function md(j,E){var $=j.c*j.i,K=$+E+16*E;return t(j.c<=E),j.V=i(K),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+$+E,1)}function pu(j,E){var $=j.C,K=E-$,re=j.V,oe=j.Ba+j.c*$;for(t(E<=j.l.o);0<K;){var ce=16<K?16:K,fe=j.l.ma,pe=j.l.width,be=pe*ce,Me=fe.ca,We=fe.tb+pe*$,we=j.Ta,De=j.Ua;hd(j,ce,re,oe),ob(we,De,Me,We,be),Ho(fe,$,$+ce,Me,We,pe),K-=ce,re+=ce*j.c,$+=ce}t($==E),j.C=j.Ma=E}function gu(){this.ub=this.yd=this.td=this.Rb=0}function Nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zx(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function gc(){this.Yb=function(){var j=[];return function E($,K,re){for(var oe=re[K],ce=0;ce<oe&&($.push(re.length>K+1?[]:0),!(re.length<K+1));ce++)E($[ce],K+1,re)}(j,0,[3,11]),j}()}function ap(){this.jb=i(3),this.Wc=l([4,8],gc),this.Xc=l([4,17],gc)}function ip(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vi(){this.ld=this.La=this.dd=this.tc=0}function xu(){this.Na=this.la=0}function cf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yu(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function op(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vi),this.Y=0,this.ya=Array(new yu),this.aa=0,this.l=new vu}function lp(){this.y=i(16),this.f=i(8),this.ea=i(8)}function cp(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new gu,this.Kc=new Nl,this.ed=new ip,this.Qa=new Zx,this.Ic=this.$c=this.Aa=0,this.D=new op,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,cf),this.Pa=new ap,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lp),this.Hd=0,this.rb=Array(new xu),this.sb=0,this.wa=Array(new Vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yu),this.L=this.aa=0,this.gd=l([4,2],Vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function dp(){var j=new cp;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,Ll||(Ll=Sl)),j}function fs(j,E,$){return j.a==0&&(j.a=E,j.sc=$,j.cb=0),0}function df(j,E,$){return 3<=$&&j[E+0]==157&&j[E+1]==1&&j[E+2]==42}function bu(j,E){if(j==null)return 0;if(j.a=0,j.sc="OK",E==null)return fs(j,2,"null VP8Io passed to VP8GetHeaders()");var $=E.data,K=E.w,re=E.ha;if(4>re)return fs(j,7,"Truncated header.");var oe=$[K+0]|$[K+1]<<8|$[K+2]<<16,ce=j.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return fs(j,3,"Incorrect keyframe parameters.");if(!ce.yd)return fs(j,4,"Frame not displayable.");K+=3,re-=3;var fe=j.Kc;if(ce.Rb){if(7>re)return fs(j,7,"cannot parse picture header");if(!df($,K,re))return fs(j,3,"Bad code word");fe.c=16383&($[K+4]<<8|$[K+3]),fe.Td=$[K+4]>>6,fe.i=16383&($[K+6]<<8|$[K+5]),fe.Ud=$[K+6]>>6,K+=7,re-=7,j.za=fe.c+15>>4,j.Ub=fe.i+15>>4,E.width=fe.c,E.height=fe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((oe=j.Pa).jb,0,255,oe.jb.length),t((oe=j.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>re)return fs(j,7,"bad partition length");z(oe=j.m,$,K,ce.ub),K+=ce.ub,re-=ce.ub,ce.Rb&&(fe.Ld=J(oe),fe.Kd=J(oe)),fe=j.Qa;var pe,be=j.Pa;if(t(oe!=null),t(fe!=null),fe.Cb=J(oe),fe.Cb){if(fe.Bb=J(oe),J(oe)){for(fe.Fb=J(oe),pe=0;4>pe;++pe)fe.Zb[pe]=J(oe)?q(oe,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=J(oe)?q(oe,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=J(oe)?X(oe,8):255}else fe.Bb=0;if(oe.Ka)return fs(j,3,"cannot parse segment header");if((fe=j.ed).zd=J(oe),fe.Tb=X(oe,6),fe.wb=X(oe,3),fe.Pc=J(oe),fe.Pc&&J(oe)){for(be=0;4>be;++be)J(oe)&&(fe.vd[be]=q(oe,6));for(be=0;4>be;++be)J(oe)&&(fe.od[be]=q(oe,6))}if(j.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return fs(j,3,"cannot parse filter header");var Me=re;if(re=pe=K,K=pe+Me,fe=Me,j.Xb=(1<<X(j.m,2))-1,Me<3*(be=j.Xb))$=7;else{for(pe+=3*be,fe-=3*be,Me=0;Me<be;++Me){var We=$[re+0]|$[re+1]<<8|$[re+2]<<16;We>fe&&(We=fe),z(j.Jc[+Me],$,pe,We),pe+=We,fe-=We,re+=3}z(j.Jc[+be],$,pe,fe),$=pe<K?0:5}if($!=0)return fs(j,$,"cannot parse partitions");for($=X(pe=j.m,7),re=J(pe)?q(pe,4):0,K=J(pe)?q(pe,4):0,fe=J(pe)?q(pe,4):0,be=J(pe)?q(pe,4):0,pe=J(pe)?q(pe,4):0,Me=j.Qa,We=0;4>We;++We){if(Me.Cb){var we=Me.Zb[We];Me.Fb||(we+=$)}else{if(0<We){j.pb[We]=j.pb[0];continue}we=$}var De=j.pb[We];De.Sc[0]=u0[tn(we+re,127)],De.Sc[1]=Pf[tn(we+0,127)],De.Eb[0]=2*u0[tn(we+K,127)],De.Eb[1]=101581*Pf[tn(we+fe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=u0[tn(we+be,117)],De.Qc[1]=Pf[tn(we+pe,127)],De.lc=we+pe}if(!ce.Rb)return fs(j,4,"Not a key frame.");for(J(oe),ce=j.Pa,$=0;4>$;++$){for(re=0;8>re;++re)for(K=0;3>K;++K)for(fe=0;11>fe;++fe)be=he(oe,Wu[$][re][K][fe])?X(oe,8):Tf[$][re][K][fe],ce.Wc[$][re].Yb[K][fe]=be;for(re=0;17>re;++re)ce.Xc[$][re]=ce.Wc[$][bN[re]]}return j.kc=J(oe),j.kc&&(j.Bd=X(oe,8)),j.cb=1}function Sl(j,E,$,K,re,oe,ce){var fe=E[re].Yb[$];for($=0;16>re;++re){if(!he(j,fe[$+0]))return re;for(;!he(j,fe[$+1]);)if(fe=E[++re].Yb[0],$=0,re==16)return 16;var pe=E[re+1].Yb;if(he(j,fe[$+2])){var be=j,Me=0;if(he(be,(we=fe)[(We=$)+3]))if(he(be,we[We+6])){for(fe=0,We=2*(Me=he(be,we[We+8]))+(we=he(be,we[We+9+Me])),Me=0,we=h0[We];we[fe];++fe)Me+=Me+he(be,we[fe]);Me+=3+(8<<We)}else he(be,we[We+7])?(Me=7+2*he(be,165),Me+=he(be,145)):Me=5+he(be,159);else Me=he(be,we[We+4])?3+he(be,we[We+5]):2;fe=pe[2]}else Me=1,fe=pe[1];pe=ce+Vu[re],0>(be=j).b&&Se(be);var We,we=be.b,De=(We=be.Ca>>1)-(be.I>>we)>>31;--be.b,be.Ca+=De,be.Ca|=1,be.I-=(We+1&De)<<we,oe[pe]=((Me^De)-De)*K[(0<re)+0]}return 16}function xc(j){var E=j.rb[j.sb-1];E.la=0,E.Na=0,a(j.zc,0,0,j.zc.length),j.ja=0}function Ya(j,E,$,K,re){re=j[E+$+32*K]+(re>>3),j[E+$+32*K]=-256&re?0>re?0:255:re}function yc(j,E,$,K,re,oe){Ya(j,E,0,$,K+re),Ya(j,E,1,$,K+oe),Ya(j,E,2,$,K-oe),Ya(j,E,3,$,K-re)}function ms(j){return(20091*j>>16)+j}function wu(j,E,$,K){var re,oe=0,ce=i(16);for(re=0;4>re;++re){var fe=j[E+0]+j[E+8],pe=j[E+0]-j[E+8],be=(35468*j[E+4]>>16)-ms(j[E+12]),Me=ms(j[E+4])+(35468*j[E+12]>>16);ce[oe+0]=fe+Me,ce[oe+1]=pe+be,ce[oe+2]=pe-be,ce[oe+3]=fe-Me,oe+=4,E++}for(re=oe=0;4>re;++re)fe=(j=ce[oe+0]+4)+ce[oe+8],pe=j-ce[oe+8],be=(35468*ce[oe+4]>>16)-ms(ce[oe+12]),Ya($,K,0,0,fe+(Me=ms(ce[oe+4])+(35468*ce[oe+12]>>16))),Ya($,K,1,0,pe+be),Ya($,K,2,0,pe-be),Ya($,K,3,0,fe-Me),oe++,K+=32}function up(j,E,$,K){var re=j[E+0]+4,oe=35468*j[E+4]>>16,ce=ms(j[E+4]),fe=35468*j[E+1]>>16;yc($,K,0,re+ce,j=ms(j[E+1]),fe),yc($,K,1,re+oe,j,fe),yc($,K,2,re-oe,j,fe),yc($,K,3,re-ce,j,fe)}function uf(j,E,$,K,re){wu(j,E,$,K),re&&wu(j,E+16,$,K+4)}function Xx(j,E,$,K){Ye(j,E+0,$,K,1),Ye(j,E+32,$,K+128,1)}function lo(j,E,$,K){var re;for(j=j[E+0]+4,re=0;4>re;++re)for(E=0;4>E;++E)Ya($,K,E,re,j)}function ju(j,E,$,K){j[E+0]&&Ut(j,E+0,$,K),j[E+16]&&Ut(j,E+16,$,K+4),j[E+32]&&Ut(j,E+32,$,K+128),j[E+48]&&Ut(j,E+48,$,K+128+4)}function Nu(j,E,$,K){var re,oe=i(16);for(re=0;4>re;++re){var ce=j[E+0+re]+j[E+12+re],fe=j[E+4+re]+j[E+8+re],pe=j[E+4+re]-j[E+8+re],be=j[E+0+re]-j[E+12+re];oe[0+re]=ce+fe,oe[8+re]=ce-fe,oe[4+re]=be+pe,oe[12+re]=be-pe}for(re=0;4>re;++re)ce=(j=oe[0+4*re]+3)+oe[3+4*re],fe=oe[1+4*re]+oe[2+4*re],pe=oe[1+4*re]-oe[2+4*re],be=j-oe[3+4*re],$[K+0]=ce+fe>>3,$[K+16]=be+pe>>3,$[K+32]=ce-fe>>3,$[K+48]=be-pe>>3,K+=64}function mi(j,E,$){var K,re=E-32,oe=ei,ce=255-j[re-1];for(K=0;K<$;++K){var fe,pe=oe,be=ce+j[E-1];for(fe=0;fe<$;++fe)j[E+fe]=pe[be+j[re+fe]];E+=32}}function Su(j,E){mi(j,E,4)}function hp(j,E){mi(j,E,8)}function Qx(j,E){mi(j,E,16)}function fp(j,E){var $;for($=0;16>$;++$)s(j,E+32*$,j,E-32,16)}function _u(j,E){var $;for($=16;0<$;--$)a(j,E,j[E-1],16),E+=32}function vc(j,E,$){var K;for(K=0;16>K;++K)a(E,$+32*K,j,16)}function _l(j,E){var $,K=16;for($=0;16>$;++$)K+=j[E-1+32*$]+j[E+$-32];vc(K>>5,j,E)}function Jx(j,E){var $,K=8;for($=0;16>$;++$)K+=j[E-1+32*$];vc(K>>4,j,E)}function pd(j,E){var $,K=8;for($=0;16>$;++$)K+=j[E+$-32];vc(K>>4,j,E)}function hf(j,E){vc(128,j,E)}function ar(j,E,$){return j+2*E+$+2>>2}function e0(j,E){var $,K=E-32;for(K=new Uint8Array([ar(j[K-1],j[K+0],j[K+1]),ar(j[K+0],j[K+1],j[K+2]),ar(j[K+1],j[K+2],j[K+3]),ar(j[K+2],j[K+3],j[K+4])]),$=0;4>$;++$)s(j,E+32*$,K,0,K.length)}function t0(j,E){var $=j[E-1],K=j[E-1+32],re=j[E-1+64],oe=j[E-1+96];ee(j,E+0,16843009*ar(j[E-1-32],$,K)),ee(j,E+32,16843009*ar($,K,re)),ee(j,E+64,16843009*ar(K,re,oe)),ee(j,E+96,16843009*ar(re,oe,oe))}function r0(j,E){var $,K=4;for($=0;4>$;++$)K+=j[E+$-32]+j[E-1+32*$];for(K>>=3,$=0;4>$;++$)a(j,E+32*$,K,4)}function n0(j,E){var $=j[E-1+0],K=j[E-1+32],re=j[E-1+64],oe=j[E-1-32],ce=j[E+0-32],fe=j[E+1-32],pe=j[E+2-32],be=j[E+3-32];j[E+0+96]=ar(K,re,j[E-1+96]),j[E+1+96]=j[E+0+64]=ar($,K,re),j[E+2+96]=j[E+1+64]=j[E+0+32]=ar(oe,$,K),j[E+3+96]=j[E+2+64]=j[E+1+32]=j[E+0+0]=ar(ce,oe,$),j[E+3+64]=j[E+2+32]=j[E+1+0]=ar(fe,ce,oe),j[E+3+32]=j[E+2+0]=ar(pe,fe,ce),j[E+3+0]=ar(be,pe,fe)}function co(j,E){var $=j[E+1-32],K=j[E+2-32],re=j[E+3-32],oe=j[E+4-32],ce=j[E+5-32],fe=j[E+6-32],pe=j[E+7-32];j[E+0+0]=ar(j[E+0-32],$,K),j[E+1+0]=j[E+0+32]=ar($,K,re),j[E+2+0]=j[E+1+32]=j[E+0+64]=ar(K,re,oe),j[E+3+0]=j[E+2+32]=j[E+1+64]=j[E+0+96]=ar(re,oe,ce),j[E+3+32]=j[E+2+64]=j[E+1+96]=ar(oe,ce,fe),j[E+3+64]=j[E+2+96]=ar(ce,fe,pe),j[E+3+96]=ar(fe,pe,pe)}function Al(j,E){var $=j[E-1+0],K=j[E-1+32],re=j[E-1+64],oe=j[E-1-32],ce=j[E+0-32],fe=j[E+1-32],pe=j[E+2-32],be=j[E+3-32];j[E+0+0]=j[E+1+64]=oe+ce+1>>1,j[E+1+0]=j[E+2+64]=ce+fe+1>>1,j[E+2+0]=j[E+3+64]=fe+pe+1>>1,j[E+3+0]=pe+be+1>>1,j[E+0+96]=ar(re,K,$),j[E+0+64]=ar(K,$,oe),j[E+0+32]=j[E+1+96]=ar($,oe,ce),j[E+1+32]=j[E+2+96]=ar(oe,ce,fe),j[E+2+32]=j[E+3+96]=ar(ce,fe,pe),j[E+3+32]=ar(fe,pe,be)}function s0(j,E){var $=j[E+0-32],K=j[E+1-32],re=j[E+2-32],oe=j[E+3-32],ce=j[E+4-32],fe=j[E+5-32],pe=j[E+6-32],be=j[E+7-32];j[E+0+0]=$+K+1>>1,j[E+1+0]=j[E+0+64]=K+re+1>>1,j[E+2+0]=j[E+1+64]=re+oe+1>>1,j[E+3+0]=j[E+2+64]=oe+ce+1>>1,j[E+0+32]=ar($,K,re),j[E+1+32]=j[E+0+96]=ar(K,re,oe),j[E+2+32]=j[E+1+96]=ar(re,oe,ce),j[E+3+32]=j[E+2+96]=ar(oe,ce,fe),j[E+3+64]=ar(ce,fe,pe),j[E+3+96]=ar(fe,pe,be)}function a0(j,E){var $=j[E-1+0],K=j[E-1+32],re=j[E-1+64],oe=j[E-1+96];j[E+0+0]=$+K+1>>1,j[E+2+0]=j[E+0+32]=K+re+1>>1,j[E+2+32]=j[E+0+64]=re+oe+1>>1,j[E+1+0]=ar($,K,re),j[E+3+0]=j[E+1+32]=ar(K,re,oe),j[E+3+32]=j[E+1+64]=ar(re,oe,oe),j[E+3+64]=j[E+2+64]=j[E+0+96]=j[E+1+96]=j[E+2+96]=j[E+3+96]=oe}function Au(j,E){var $=j[E-1+0],K=j[E-1+32],re=j[E-1+64],oe=j[E-1+96],ce=j[E-1-32],fe=j[E+0-32],pe=j[E+1-32],be=j[E+2-32];j[E+0+0]=j[E+2+32]=$+ce+1>>1,j[E+0+32]=j[E+2+64]=K+$+1>>1,j[E+0+64]=j[E+2+96]=re+K+1>>1,j[E+0+96]=oe+re+1>>1,j[E+3+0]=ar(fe,pe,be),j[E+2+0]=ar(ce,fe,pe),j[E+1+0]=j[E+3+32]=ar($,ce,fe),j[E+1+32]=j[E+3+64]=ar(K,$,ce),j[E+1+64]=j[E+3+96]=ar(re,K,$),j[E+1+96]=ar(oe,re,K)}function ff(j,E){var $;for($=0;8>$;++$)s(j,E+32*$,j,E-32,8)}function Jr(j,E){var $;for($=0;8>$;++$)a(j,E,j[E-1],8),E+=32}function en(j,E,$){var K;for(K=0;8>K;++K)a(E,$+32*K,j,8)}function ku(j,E){var $,K=8;for($=0;8>$;++$)K+=j[E+$-32]+j[E-1+32*$];en(K>>4,j,E)}function i0(j,E){var $,K=4;for($=0;8>$;++$)K+=j[E+$-32];en(K>>3,j,E)}function mf(j,E){var $,K=4;for($=0;8>$;++$)K+=j[E-1+32*$];en(K>>3,j,E)}function pf(j,E){en(128,j,E)}function gd(j,E,$){var K=j[E-$],re=j[E+0],oe=3*(re-K)+$u[1020+j[E-2*$]-j[E+$]],ce=kf[112+(oe+4>>3)];j[E-$]=ei[255+K+kf[112+(oe+3>>3)]],j[E+0]=ei[255+re-ce]}function xd(j,E,$,K){var re=j[E+0],oe=j[E+$];return $a[255+j[E-2*$]-j[E-$]]>K||$a[255+oe-re]>K}function Cu(j,E,$,K){return 4*$a[255+j[E-$]-j[E+0]]+$a[255+j[E-2*$]-j[E+$]]<=K}function Pu(j,E,$,K,re){var oe=j[E-3*$],ce=j[E-2*$],fe=j[E-$],pe=j[E+0],be=j[E+$],Me=j[E+2*$],We=j[E+3*$];return 4*$a[255+fe-pe]+$a[255+ce-be]>K?0:$a[255+j[E-4*$]-oe]<=re&&$a[255+oe-ce]<=re&&$a[255+ce-fe]<=re&&$a[255+We-Me]<=re&&$a[255+Me-be]<=re&&$a[255+be-pe]<=re}function ps(j,E,$,K){var re=2*K+1;for(K=0;16>K;++K)Cu(j,E+K,$,re)&&gd(j,E+K,$)}function kl(j,E,$,K){var re=2*K+1;for(K=0;16>K;++K)Cu(j,E+K*$,1,re)&&gd(j,E+K*$,1)}function uo(j,E,$,K){var re;for(re=3;0<re;--re)ps(j,E+=4*$,$,K)}function Tu(j,E,$,K){var re;for(re=3;0<re;--re)kl(j,E+=4,$,K)}function Ra(j,E,$,K,re,oe,ce,fe){for(oe=2*oe+1;0<re--;){if(Pu(j,E,$,oe,ce))if(xd(j,E,$,fe))gd(j,E,$);else{var pe=j,be=E,Me=$,We=pe[be-2*Me],we=pe[be-Me],De=pe[be+0],$e=pe[be+Me],Ze=pe[be+2*Me],Ue=27*(et=$u[1020+3*(De-we)+$u[1020+We-$e]])+63>>7,Xe=18*et+63>>7,et=9*et+63>>7;pe[be-3*Me]=ei[255+pe[be-3*Me]+et],pe[be-2*Me]=ei[255+We+Xe],pe[be-Me]=ei[255+we+Ue],pe[be+0]=ei[255+De-Ue],pe[be+Me]=ei[255+$e-Xe],pe[be+2*Me]=ei[255+Ze-et]}E+=K}}function gs(j,E,$,K,re,oe,ce,fe){for(oe=2*oe+1;0<re--;){if(Pu(j,E,$,oe,ce))if(xd(j,E,$,fe))gd(j,E,$);else{var pe=j,be=E,Me=$,We=pe[be-Me],we=pe[be+0],De=pe[be+Me],$e=kf[112+(4+(Ze=3*(we-We))>>3)],Ze=kf[112+(Ze+3>>3)],Ue=$e+1>>1;pe[be-2*Me]=ei[255+pe[be-2*Me]+Ue],pe[be-Me]=ei[255+We+Ze],pe[be+0]=ei[255+we-$e],pe[be+Me]=ei[255+De-Ue]}E+=K}}function R(j,E,$,K,re,oe){Ra(j,E,$,1,16,K,re,oe)}function se(j,E,$,K,re,oe){Ra(j,E,1,$,16,K,re,oe)}function je(j,E,$,K,re,oe){var ce;for(ce=3;0<ce;--ce)gs(j,E+=4*$,$,1,16,K,re,oe)}function Te(j,E,$,K,re,oe){var ce;for(ce=3;0<ce;--ce)gs(j,E+=4,1,$,16,K,re,oe)}function Fe(j,E,$,K,re,oe,ce,fe){Ra(j,E,re,1,8,oe,ce,fe),Ra($,K,re,1,8,oe,ce,fe)}function Je(j,E,$,K,re,oe,ce,fe){Ra(j,E,1,re,8,oe,ce,fe),Ra($,K,1,re,8,oe,ce,fe)}function rt(j,E,$,K,re,oe,ce,fe){gs(j,E+4*re,re,1,8,oe,ce,fe),gs($,K+4*re,re,1,8,oe,ce,fe)}function kt(j,E,$,K,re,oe,ce,fe){gs(j,E+4,1,re,8,oe,ce,fe),gs($,K+4,1,re,8,oe,ce,fe)}function wt(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kr(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new M}function Sn(){this.xb=this.a=0,this.l=new vu,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kr,this.ab=0,this.gc=o(4,mr),this.Oc=0}function is(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function qt(j,E,$,K,re,oe,ce){for(j=j==null?0:j[E+0],E=0;E<ce;++E)re[oe+E]=j+$[K+E]&255,j=re[oe+E]}function _n(j,E,$,K,re,oe,ce){var fe;if(j==null)qt(null,null,$,K,re,oe,ce);else for(fe=0;fe<ce;++fe)re[oe+fe]=j[E+fe]+$[K+fe]&255}function os(j,E,$,K,re,oe,ce){if(j==null)qt(null,null,$,K,re,oe,ce);else{var fe,pe=j[E+0],be=pe,Me=pe;for(fe=0;fe<ce;++fe)be=Me+(pe=j[E+fe])-be,Me=$[K+fe]+(-256&be?0>be?0:255:be)&255,be=pe,re[oe+fe]=Me}}function ia(j,E,$,K){var re=E.width,oe=E.o;if(t(j!=null&&E!=null),0>$||0>=K||$+K>oe)return null;if(!j.Cc){if(j.ga==null){var ce;if(j.ga=new is,(ce=j.ga==null)||(ce=E.width*E.o,t(j.Gb.length==0),j.Gb=i(ce),j.Uc=0,j.Gb==null?ce=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,ce=1),ce=!ce),!ce){ce=j.ga;var fe=j.Fa,pe=j.P,be=j.qc,Me=j.mb,We=j.nb,we=pe+1,De=be-1,$e=ce.l;if(t(fe!=null&&Me!=null&&E!=null),qi[0]=null,qi[1]=qt,qi[2]=_n,qi[3]=os,ce.ca=Me,ce.tb=We,ce.c=E.width,ce.i=E.height,t(0<ce.c&&0<ce.i),1>=be)E=0;else if(ce.$a=3&fe[pe+0],ce.Z=fe[pe+0]>>2&3,ce.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||pe)E=0;else if($e.put=Ht,$e.ac=Wo,$e.bc=jl,$e.ma=ce,$e.width=E.width,$e.height=E.height,$e.Da=E.Da,$e.v=E.v,$e.va=E.va,$e.j=E.j,$e.o=E.o,ce.$a)e:{t(ce.$a==1),E=fd();t:for(;;){if(E==null){E=0;break e}if(t(ce!=null),ce.mc=E,E.c=ce.c,E.i=ce.i,E.l=ce.l,E.l.ma=ce,E.l.width=ce.c,E.l.height=ce.i,E.a=0,Y(E.m,fe,we,De),!Go(ce.c,ce.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&io(E.s)?(ce.ic=1,fe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(fe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ce.ic=0,E=md(E,ce.c)),!E))break t;E=1;break e}ce.mc=null,E=0}else E=De>=ce.c*ce.i;ce=!E}if(ce)return null;j.ga.Lc!=1?j.Ga=0:K=oe-$}t(j.ga!=null),t($+K<=oe);e:{if(E=(fe=j.ga).c,oe=fe.l.o,fe.$a==0){if(we=j.rc,De=j.Vc,$e=j.Fa,pe=j.P+1+$*E,be=j.mb,Me=j.nb+$*E,t(pe<=j.P+j.qc),fe.Z!=0)for(t(qi[fe.Z]!=null),ce=0;ce<K;++ce)qi[fe.Z](we,De,$e,pe,be,Me,E),we=be,De=Me,Me+=E,pe+=E;else for(ce=0;ce<K;++ce)s(be,Me,$e,pe,E),we=be,De=Me,Me+=E,pe+=E;j.rc=we,j.Vc=De}else{if(t(fe.mc!=null),E=$+K,t((ce=fe.mc)!=null),t(E<=ce.i),ce.C>=E)E=1;else if(fe.ic||wc(),fe.ic){fe=ce.V,we=ce.Ba,De=ce.c;var Ze=ce.i,Ue=($e=1,pe=ce.$/De,be=ce.$%De,Me=ce.m,We=ce.s,ce.$),Xe=De*Ze,et=De*E,ct=We.wc,nt=Ue<et?aa(We,be,pe):null;t(Ue<=Xe),t(E<=Ze),t(io(We));t:for(;;){for(;!Me.h&&Ue<et;){if(be&ct||(nt=aa(We,be,pe)),t(nt!=null),ge(Me),256>(Ze=as(nt.G[0],nt.H[0],Me)))fe[we+Ue]=Ze,++Ue,++be>=De&&(be=0,++pe<=E&&!(pe%16)&&oo(ce,pe));else{if(!(280>Ze)){$e=0;break t}Ze=Bi(Ze-256,Me);var Ot,bt=as(nt.G[4],nt.H[4],Me);if(ge(Me),!(Ue>=(bt=Ka(De,bt=Bi(bt,Me)))&&Xe-Ue>=Ze)){$e=0;break t}for(Ot=0;Ot<Ze;++Ot)fe[we+Ue+Ot]=fe[we+Ue+Ot-bt];for(Ue+=Ze,be+=Ze;be>=De;)be-=De,++pe<=E&&!(pe%16)&&oo(ce,pe);Ue<et&&be&ct&&(nt=aa(We,be,pe))}t(Me.h==ae(Me))}oo(ce,pe>E?E:pe);break t}!$e||Me.h&&Ue<Xe?($e=0,ce.a=Me.h?5:3):ce.$=Ue,E=$e}else E=zi(ce,ce.V,ce.Ba,ce.c,ce.i,E,pu);if(!E){K=0;break e}}$+K>=oe&&(j.Cc=1),K=1}if(!K)return null;if(j.Cc&&((K=j.ga)!=null&&(K.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+$*re}function ho(j,E,$,K,re,oe){for(;0<re--;){var ce,fe=j,pe=E+($?1:0),be=j,Me=E+($?0:3);for(ce=0;ce<K;++ce){var We=be[Me+4*ce];We!=255&&(We*=32897,fe[pe+4*ce+0]=fe[pe+4*ce+0]*We>>23,fe[pe+4*ce+1]=fe[pe+4*ce+1]*We>>23,fe[pe+4*ce+2]=fe[pe+4*ce+2]*We>>23)}E+=oe}}function bc(j,E,$,K,re){for(;0<K--;){var oe;for(oe=0;oe<$;++oe){var ce=j[E+2*oe+0],fe=15&(be=j[E+2*oe+1]),pe=4369*fe,be=(240&be|be>>4)*pe>>16;j[E+2*oe+0]=(240&ce|ce>>4)*pe>>16&240|(15&ce|ce<<4)*pe>>16>>4&15,j[E+2*oe+1]=240&be|fe}E+=re}}function o0(j,E,$,K,re,oe,ce,fe){var pe,be,Me=255;for(be=0;be<re;++be){for(pe=0;pe<K;++pe){var We=j[E+pe];oe[ce+4*pe]=We,Me&=We}E+=$,ce+=fe}return Me!=255}function mp(j,E,$,K,re){var oe;for(oe=0;oe<re;++oe)$[K+oe]=j[E+oe]>>8}function wc(){Ru=ho,Sf=bc,ib=o0,ob=mp}function Za(j,E,$){P[j]=function(K,re,oe,ce,fe,pe,be,Me,We,we,De,$e,Ze,Ue,Xe,et,ct){var nt,Ot=ct-1>>1,bt=fe[pe+0]|be[Me+0]<<16,Vt=We[we+0]|De[$e+0]<<16;t(K!=null);var Et=3*bt+Vt+131074>>2;for(E(K[re+0],255&Et,Et>>16,Ze,Ue),oe!=null&&(Et=3*Vt+bt+131074>>2,E(oe[ce+0],255&Et,Et>>16,Xe,et)),nt=1;nt<=Ot;++nt){var Mr=fe[pe+nt]|be[Me+nt]<<16,As=We[we+nt]|De[$e+nt]<<16,lr=bt+Mr+Vt+As+524296,St=lr+2*(Mr+Vt)>>3;Et=St+bt>>1,bt=(lr=lr+2*(bt+As)>>3)+Mr>>1,E(K[re+2*nt-1],255&Et,Et>>16,Ze,Ue+(2*nt-1)*$),E(K[re+2*nt-0],255&bt,bt>>16,Ze,Ue+(2*nt-0)*$),oe!=null&&(Et=lr+Vt>>1,bt=St+As>>1,E(oe[ce+2*nt-1],255&Et,Et>>16,Xe,et+(2*nt-1)*$),E(oe[ce+2*nt+0],255&bt,bt>>16,Xe,et+(2*nt+0)*$)),bt=Mr,Vt=As}1&ct||(Et=3*bt+Vt+131074>>2,E(K[re+ct-1],255&Et,Et>>16,Ze,Ue+(ct-1)*$),oe!=null&&(Et=3*Vt+bt+131074>>2,E(oe[ce+ct-1],255&Et,Et>>16,Xe,et+(ct-1)*$)))}}function Ko(){vi[Cf]=ue,vi[Sc]=Of,vi[_c]=Hu,vi[wd]=bi,vi[xp]=Or,vi[c0]=fb,vi[cb]=jN,vi[Bu]=Of,vi[zu]=bi,vi[Uu]=Or,vi[d0]=fb}function Eu(j){return j&~NN?0>j?0:255:j>>mb}function Cl(j,E){return Eu((19077*j>>8)+(26149*E>>8)-14234)}function Ls(j,E,$){return Eu((19077*j>>8)-(6419*E>>8)-(13320*$>>8)+8708)}function fo(j,E){return Eu((19077*j>>8)+(33050*E>>8)-17685)}function mo(j,E,$,K,re){K[re+0]=Cl(j,$),K[re+1]=Ls(j,E,$),K[re+2]=fo(j,E)}function yd(j,E,$,K,re){K[re+0]=fo(j,E),K[re+1]=Ls(j,E,$),K[re+2]=Cl(j,$)}function gf(j,E,$,K,re){var oe=Ls(j,E,$);E=oe<<3&224|fo(j,E)>>3,K[re+0]=248&Cl(j,$)|oe>>5,K[re+1]=E}function oa(j,E,$,K,re){var oe=240&fo(j,E)|15;K[re+0]=240&Cl(j,$)|Ls(j,E,$)>>4,K[re+1]=oe}function Ou(j,E,$,K,re){K[re+0]=255,mo(j,E,$,K,re+1)}function Lu(j,E,$,K,re){yd(j,E,$,K,re),K[re+3]=255}function xf(j,E,$,K,re){mo(j,E,$,K,re),K[re+3]=255}function tn(j,E){return 0>j?0:j>E?E:j}function Xa(j,E,$){P[j]=function(K,re,oe,ce,fe,pe,be,Me,We){for(var we=Me+(-2&We)*$;Me!=we;)E(K[re+0],oe[ce+0],fe[pe+0],be,Me),E(K[re+1],oe[ce+0],fe[pe+0],be,Me+$),re+=2,++ce,++pe,Me+=2*$;1&We&&E(K[re+0],oe[ce+0],fe[pe+0],be,Me)}}function Pl(j,E,$){return $==0?j==0?E==0?6:5:E==0?4:0:$}function Iu(j,E,$,K,re){switch(j>>>30){case 3:Ye(E,$,K,re,0);break;case 2:Ge(E,$,K,re);break;case 1:Ut(E,$,K,re)}}function Tl(j,E){var $,K,re=E.M,oe=E.Nb,ce=j.oc,fe=j.pc+40,pe=j.oc,be=j.pc+584,Me=j.oc,We=j.pc+600;for($=0;16>$;++$)ce[fe+32*$-1]=129;for($=0;8>$;++$)pe[be+32*$-1]=129,Me[We+32*$-1]=129;for(0<re?ce[fe-1-32]=pe[be-1-32]=Me[We-1-32]=129:(a(ce,fe-32-1,127,21),a(pe,be-32-1,127,9),a(Me,We-32-1,127,9)),K=0;K<j.za;++K){var we=E.ya[E.aa+K];if(0<K){for($=-1;16>$;++$)s(ce,fe+32*$-4,ce,fe+32*$+12,4);for($=-1;8>$;++$)s(pe,be+32*$-4,pe,be+32*$+4,4),s(Me,We+32*$-4,Me,We+32*$+4,4)}var De=j.Gd,$e=j.Hd+K,Ze=we.ad,Ue=we.Hc;if(0<re&&(s(ce,fe-32,De[$e].y,0,16),s(pe,be-32,De[$e].f,0,8),s(Me,We-32,De[$e].ea,0,8)),we.Za){var Xe=ce,et=fe-32+16;for(0<re&&(K>=j.za-1?a(Xe,et,De[$e].y[15],4):s(Xe,et,De[$e+1].y,0,4)),$=0;4>$;$++)Xe[et+128+$]=Xe[et+256+$]=Xe[et+384+$]=Xe[et+0+$];for($=0;16>$;++$,Ue<<=2)Xe=ce,et=fe+Qo[$],go[we.Ob[$]](Xe,et),Iu(Ue,Ze,16*+$,Xe,et)}else if(Xe=Pl(K,re,we.Ob[0]),Ac[Xe](ce,fe),Ue!=0)for($=0;16>$;++$,Ue<<=2)Iu(Ue,Ze,16*+$,ce,fe+Qo[$]);for($=we.Gc,Xe=Pl(K,re,we.Dd),Il[Xe](pe,be),Il[Xe](Me,We),Ue=Ze,Xe=pe,et=be,255&(we=0|$)&&(170&we?vt(Ue,256,Xe,et):Rr(Ue,256,Xe,et)),we=Me,Ue=We,255&($>>=8)&&(170&$?vt(Ze,320,we,Ue):Rr(Ze,320,we,Ue)),re<j.Ub-1&&(s(De[$e].y,0,ce,fe+480,16),s(De[$e].f,0,pe,be+224,8),s(De[$e].ea,0,Me,We+224,8)),$=8*oe*j.B,De=j.sa,$e=j.ta+16*K+16*oe*j.R,Ze=j.qa,we=j.ra+8*K+$,Ue=j.Ha,Xe=j.Ia+8*K+$,$=0;16>$;++$)s(De,$e+$*j.R,ce,fe+32*$,16);for($=0;8>$;++$)s(Ze,we+$*j.B,pe,be+32*$,8),s(Ue,Xe+$*j.B,Me,We+32*$,8)}}function Mu(j,E,$,K,re,oe,ce,fe,pe){var be=[0],Me=[0],We=0,we=pe!=null?pe.kd:0,De=pe??new rr;if(j==null||12>$)return 7;De.data=j,De.w=E,De.ha=$,E=[E],$=[$],De.gb=[De.gb];e:{var $e=E,Ze=$,Ue=De.gb;if(t(j!=null),t(Ze!=null),t(Ue!=null),Ue[0]=0,12<=Ze[0]&&!r(j,$e[0],"RIFF")){if(r(j,$e[0]+8,"WEBP")){Ue=3;break e}var Xe=Ne(j,$e[0]+4);if(12>Xe||4294967286<Xe){Ue=3;break e}if(we&&Xe>Ze[0]-8){Ue=7;break e}Ue[0]=Xe,$e[0]+=12,Ze[0]-=12}Ue=0}if(Ue!=0)return Ue;for(Xe=0<De.gb[0],$=$[0];;){e:{var et=j;Ze=E,Ue=$;var ct=be,nt=Me,Ot=$e=[0];if((Et=We=[We])[0]=0,8>Ue[0])Ue=7;else{if(!r(et,Ze[0],"VP8X")){if(Ne(et,Ze[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var bt=Ne(et,Ze[0]+8),Vt=1+ke(et,Ze[0]+12);if(2147483648<=Vt*(et=1+ke(et,Ze[0]+15))){Ue=3;break e}Ot!=null&&(Ot[0]=bt),ct!=null&&(ct[0]=Vt),nt!=null&&(nt[0]=et),Ze[0]+=18,Ue[0]-=18,Et[0]=1}Ue=0}}if(We=We[0],$e=$e[0],Ue!=0)return Ue;if(Ze=!!(2&$e),!Xe&&We)return 3;if(oe!=null&&(oe[0]=!!(16&$e)),ce!=null&&(ce[0]=Ze),fe!=null&&(fe[0]=0),ce=be[0],$e=Me[0],We&&Ze&&pe==null){Ue=0;break}if(4>$){Ue=7;break}if(Xe&&We||!Xe&&!We&&!r(j,E[0],"ALPH")){$=[$],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{bt=j,Ue=E,Xe=$;var Et=De.gb;ct=De.na,nt=De.P,Ot=De.Sa,Vt=22,t(bt!=null),t(Xe!=null),et=Ue[0];var Mr=Xe[0];for(t(ct!=null),t(Ot!=null),ct[0]=null,nt[0]=null,Ot[0]=0;;){if(Ue[0]=et,Xe[0]=Mr,8>Mr){Ue=7;break e}var As=Ne(bt,et+4);if(4294967286<As){Ue=3;break e}var lr=8+As+1&-2;if(Vt+=lr,0<Et&&Vt>Et){Ue=3;break e}if(!r(bt,et,"VP8 ")||!r(bt,et,"VP8L")){Ue=0;break e}if(Mr[0]<lr){Ue=7;break e}r(bt,et,"ALPH")||(ct[0]=bt,nt[0]=et+8,Ot[0]=As),et+=lr,Mr-=lr}}if($=$[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Ue!=0)break}$=[$],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Et=j,Ue=E,Xe=$,ct=De.gb[0],nt=De.Ja,Ot=De.xa,bt=Ue[0],et=!r(Et,bt,"VP8 "),Vt=!r(Et,bt,"VP8L"),t(Et!=null),t(Xe!=null),t(nt!=null),t(Ot!=null),8>Xe[0])Ue=7;else{if(et||Vt){if(Et=Ne(Et,bt+4),12<=ct&&Et>ct-12){Ue=3;break e}if(we&&Et>Xe[0]-8){Ue=7;break e}nt[0]=Et,Ue[0]+=8,Xe[0]-=8,Ot[0]=Vt}else Ot[0]=5<=Xe[0]&&Et[bt+0]==47&&!(Et[bt+4]>>5),nt[0]=Xe[0];Ue=0}if($=$[0],De.Ja=De.Ja[0],De.xa=De.xa[0],E=E[0],Ue!=0)break;if(4294967286<De.Ja)return 3;if(fe==null||Ze||(fe[0]=De.xa?2:1),ce=[ce],$e=[$e],De.xa){if(5>$){Ue=7;break}fe=ce,we=$e,Ze=oe,j==null||5>$?j=0:5<=$&&j[E+0]==47&&!(j[E+4]>>5)?(Xe=[0],Et=[0],ct=[0],Y(nt=new Z,j,E,$),ao(nt,Xe,Et,ct)?(fe!=null&&(fe[0]=Xe[0]),we!=null&&(we[0]=Et[0]),Ze!=null&&(Ze[0]=ct[0]),j=1):j=0):j=0}else{if(10>$){Ue=7;break}fe=$e,j==null||10>$||!df(j,E+3,$-3)?j=0:(we=j[E+0]|j[E+1]<<8|j[E+2]<<16,Ze=16383&(j[E+7]<<8|j[E+6]),j=16383&(j[E+9]<<8|j[E+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=De.Ja||!Ze||!j?j=0:(ce&&(ce[0]=Ze),fe&&(fe[0]=j),j=1))}if(!j||(ce=ce[0],$e=$e[0],We&&(be[0]!=ce||Me[0]!=$e)))return 3;pe!=null&&(pe[0]=De,pe.offset=E-pe.w,t(4294967286>E-pe.w),t(pe.offset==pe.ha-$));break}return Ue==0||Ue==7&&We&&pe==null?(oe!=null&&(oe[0]|=De.na!=null&&0<De.na.length),K!=null&&(K[0]=ce),re!=null&&(re[0]=$e),0):Ue}function Qa(j,E,$){var K=E.width,re=E.height,oe=0,ce=0,fe=K,pe=re;if(E.Da=j!=null&&0<j.Da,E.Da&&(fe=j.cd,pe=j.bd,oe=j.v,ce=j.j,11>$||(oe&=-2,ce&=-2),0>oe||0>ce||0>=fe||0>=pe||oe+fe>K||ce+pe>re))return 0;if(E.v=oe,E.j=ce,E.va=oe+fe,E.o=ce+pe,E.U=fe,E.T=pe,E.da=j!=null&&0<j.da,E.da){if(!Be(fe,pe,$=[j.ib],oe=[j.hb]))return 0;E.ib=$[0],E.hb=oe[0]}return E.ob=j!=null&&j.ob,E.Kb=j==null||!j.Sd,E.da&&(E.ob=E.ib<3*K/4&&E.hb<3*re/4,E.Kb=0),1}function Ja(j){if(j==null)return 2;if(11>j.S){var E=j.f.RGBA;E.fb+=(j.height-1)*E.A,E.A=-E.A}else E=j.f.kb,j=j.height,E.O+=(j-1)*E.fa,E.fa=-E.fa,E.N+=(j-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(j-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(j-1)*E.lb,E.lb=-E.lb);return 0}function vd(j,E,$,K){if(K==null||0>=j||0>=E)return 2;if($!=null){if($.Da){var re=$.cd,oe=$.bd,ce=-2&$.v,fe=-2&$.j;if(0>ce||0>fe||0>=re||0>=oe||ce+re>j||fe+oe>E)return 2;j=re,E=oe}if($.da){if(!Be(j,E,re=[$.ib],oe=[$.hb]))return 2;j=re[0],E=oe[0]}}K.width=j,K.height=E;e:{var pe=K.width,be=K.height;if(j=K.S,0>=pe||0>=be||!(j>=Cf&&13>j))j=2;else{if(0>=K.Rd&&K.sd==null){ce=oe=re=E=0;var Me=(fe=pe*gb[j])*be;if(11>j||(oe=(be+1)/2*(E=(pe+1)/2),j==12&&(ce=(re=pe)*be)),(be=i(Me+2*oe+ce))==null){j=1;break e}K.sd=be,11>j?((pe=K.f.RGBA).eb=be,pe.fb=0,pe.A=fe,pe.size=Me):((pe=K.f.kb).y=be,pe.O=0,pe.fa=fe,pe.Fd=Me,pe.f=be,pe.N=0+Me,pe.Ab=E,pe.Cd=oe,pe.ea=be,pe.W=0+Me+oe,pe.Db=E,pe.Ed=oe,j==12&&(pe.F=be,pe.J=0+Me+2*oe),pe.Tc=ce,pe.lb=re)}if(E=1,re=K.S,oe=K.width,ce=K.height,re>=Cf&&13>re)if(11>re)j=K.f.RGBA,E&=(fe=Math.abs(j.A))*(ce-1)+oe<=j.size,E&=fe>=oe*gb[re],E&=j.eb!=null;else{j=K.f.kb,fe=(oe+1)/2,Me=(ce+1)/2,pe=Math.abs(j.fa),be=Math.abs(j.Ab);var We=Math.abs(j.Db),we=Math.abs(j.lb),De=we*(ce-1)+oe;E&=pe*(ce-1)+oe<=j.Fd,E&=be*(Me-1)+fe<=j.Cd,E=(E&=We*(Me-1)+fe<=j.Ed)&pe>=oe&be>=fe&We>=fe,E&=j.y!=null,E&=j.f!=null,E&=j.ea!=null,re==12&&(E&=we>=oe,E&=De<=j.Tc,E&=j.F!=null)}else E=0;j=E?0:2}}return j!=0||$!=null&&$.fd&&(j=Ja(K)),j}var Yo=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yf=24,jc=32,Kn=8,pp=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(j){return j},P.Predictor2=function(j,E,$){return E[$+0]},P.Predictor3=function(j,E,$){return E[$+1]},P.Predictor4=function(j,E,$){return E[$-1]},P.Predictor5=function(j,E,$){return Ce(Ce(j,E[$+1]),E[$+0])},P.Predictor6=function(j,E,$){return Ce(j,E[$-1])},P.Predictor7=function(j,E,$){return Ce(j,E[$+0])},P.Predictor8=function(j,E,$){return Ce(E[$-1],E[$+0])},P.Predictor9=function(j,E,$){return Ce(E[$+0],E[$+1])},P.Predictor10=function(j,E,$){return Ce(Ce(j,E[$-1]),Ce(E[$+0],E[$+1]))},P.Predictor11=function(j,E,$){var K=E[$+0];return 0>=Ve(K>>24&255,j>>24&255,(E=E[$-1])>>24&255)+Ve(K>>16&255,j>>16&255,E>>16&255)+Ve(K>>8&255,j>>8&255,E>>8&255)+Ve(255&K,255&j,255&E)?K:j},P.Predictor12=function(j,E,$){var K=E[$+0];return(Pe((j>>24&255)+(K>>24&255)-((E=E[$-1])>>24&255))<<24|Pe((j>>16&255)+(K>>16&255)-(E>>16&255))<<16|Pe((j>>8&255)+(K>>8&255)-(E>>8&255))<<8|Pe((255&j)+(255&K)-(255&E)))>>>0},P.Predictor13=function(j,E,$){var K=E[$-1];return(Ee((j=Ce(j,E[$+0]))>>24&255,K>>24&255)<<24|Ee(j>>16&255,K>>16&255)<<16|Ee(j>>8&255,K>>8&255)<<8|Ee(255&j,255&K))>>>0};var la=P.PredictorAdd0;P.PredictorAdd1=tt,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var gi=P.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(j){return j>>8&255},function(j){return j}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(j){return j},function(j){return j>>8&255});var Du,vf=P.ColorIndexInverseTransform,Fu=P.MapARGB,po=P.VP8LColorIndexInverseTransformAlpha,ca=P.MapAlpha,Nc=P.VP8LPredictorsAdd=[];Nc.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var El,bf,xi,Zo,An,rn,Ie,Ye,Ge,vt,Ut,Rr,_s,gn,gp,nb,yi,wf,sb,bd,jf,Nf,ln,ab,Ru,Sf,ib,ob,lb=i(511),_f=i(2041),Ol=i(225),Af=i(767),l0=0,$u=_f,kf=Ol,ei=Af,$a=lb,Cf=0,Sc=1,_c=2,wd=3,xp=4,c0=5,cb=6,Bu=7,zu=8,Uu=9,d0=10,db=[2,3,7],xN=[3,3,11],ub=[280,256,256,256,40],Is=[0,1,1,1,0],Sa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hb=8,u0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ll=null,h0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Tf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ac=[],go=[],Il=[],wN=1,Ef=2,qi=[],vi=[];Za("UpsampleRgbLinePair",mo,3),Za("UpsampleBgrLinePair",yd,3),Za("UpsampleRgbaLinePair",xf,4),Za("UpsampleBgraLinePair",Lu,4),Za("UpsampleArgbLinePair",Ou,4),Za("UpsampleRgba4444LinePair",oa,2),Za("UpsampleRgb565LinePair",gf,2);var ue=P.UpsampleRgbLinePair,Hu=P.UpsampleBgrLinePair,Of=P.UpsampleRgbaLinePair,bi=P.UpsampleBgraLinePair,Or=P.UpsampleArgbLinePair,fb=P.UpsampleRgba4444LinePair,jN=P.UpsampleRgb565LinePair,vp=16,Xo=1<<vp-1,Lf=-227,f0=482,mb=6,NN=(256<<mb)-1,pb=0,Ml=i(256),SN=i(256),_N=i(256),AN=i(256),kN=i(f0-Lf),CN=i(f0-Lf);Xa("YuvToRgbRow",mo,3),Xa("YuvToBgrRow",yd,3),Xa("YuvToRgbaRow",xf,4),Xa("YuvToBgraRow",Lu,4),Xa("YuvToArgbRow",Ou,4),Xa("YuvToRgba4444Row",oa,2),Xa("YuvToRgb565Row",gf,2);var Qo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bp=[0,2,8],PN=[8,7,6,4,4,2,2,2,1,1,1,1],TN=1;this.WebPDecodeRGBA=function(j,E,$,K,re){var oe=Sc,ce=new wt,fe=new pn;ce.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,be=fe.height,Me=new or;if(Me==null||j==null)var We=2;else t(Me!=null),We=Mu(j,E,$,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(We!=0?pe=0:(pe!=null&&(pe[0]=Me.width[0]),be!=null&&(be[0]=Me.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],K!=null&&(K[0]=fe.width),re!=null&&(re[0]=fe.height);e:{if(K=new vu,(re=new rr).data=j,re.w=E,re.ha=$,re.kd=1,E=[0],t(re!=null),((j=Mu(re.data,re.w,re.ha,null,null,null,E,null,re))==0||j==7)&&E[0]&&(j=4),(E=j)==0){if(t(ce!=null),K.data=re.data,K.w=re.w+re.offset,K.ha=re.ha-re.offset,K.put=Ht,K.ac=Wo,K.bc=jl,K.ma=ce,re.xa){if((j=fd())==null){ce=1;break e}if(function(we,De){var $e=[0],Ze=[0],Ue=[0];t:for(;;){if(we==null)return 0;if(De==null)return we.a=2,0;if(we.l=De,we.a=0,Y(we.m,De.data,De.w,De.ha),!ao(we.m,$e,Ze,Ue)){we.a=3;break t}if(we.xb=Ef,De.width=$e[0],De.height=Ze[0],!Go($e[0],Ze[0],1,we,null))break t;return 1}return t(we.a!=0),0}(j,K)){if(K=(E=vd(K.width,K.height,ce.Oa,ce.ba))==0){t:{K=j;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t(($=K.l)!=null),t((re=$.ma)!=null),K.xb!=0){if(K.ca=re.ba,K.tb=re.tb,t(K.ca!=null),!Qa(re.Oa,$,wd)){K.a=2;break r}if(!md(K,$.width)||$.da)break r;if(($.da||fr(K.ca.S))&&wc(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&wc()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!G(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!zi(K,K.V,K.Ba,K.c,K.i,$.o,pc))break r;re.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(E=j.a)}else E=j.a}else{if((j=new dp)==null){ce=1;break e}if(j.Fa=re.na,j.P=re.P,j.qc=re.Sa,bu(j,K)){if((E=vd(K.width,K.height,ce.Oa,ce.ba))==0){if(j.Aa=0,$=ce.Oa,t((re=j)!=null),$!=null){if(0<(pe=0>(pe=$.Md)?0:100<pe?255:255*pe/100)){for(be=Me=0;4>be;++be)12>(We=re.pb[be]).lc&&(We.ia=pe*PN[0>We.lc?0:We.lc]>>3),Me|=We.ia;Me&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=$.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(we,De){if(we==null)return 0;if(De==null)return fs(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!bu(we,De))return 0;if(t(we.cb),De.ac==null||De.ac(De)){De.ob&&(we.L=0);var $e=bp[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=De.v-$e>>4,we.zb=De.j-$e>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=De.o+15+$e>>4,we.Hb=De.va+15+$e>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var Ze=we.ed;for($e=0;4>$e;++$e){var Ue;if(we.Qa.Cb){var Xe=we.Qa.Lb[$e];we.Qa.Fb||(Xe+=Ze.Tb)}else Xe=Ze.Tb;for(Ue=0;1>=Ue;++Ue){var et=we.gd[$e][Ue],ct=Xe;if(Ze.Pc&&(ct+=Ze.vd[0],Ue&&(ct+=Ze.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var nt=ct;0<Ze.wb&&(nt=4<Ze.wb?nt>>2:nt>>1)>9-Ze.wb&&(nt=9-Ze.wb),1>nt&&(nt=1),et.dd=nt,et.tc=2*ct+nt,et.ld=40<=ct?2:15<=ct?1:0}else et.tc=0;et.La=Ue}}}$e=0}else fs(we,6,"Frame setup failed"),$e=we.a;if($e=$e==0){if($e){we.$c=0,0<we.Aa||(we.Ic=TN);t:{$e=we.Ic,Ze=4*(nt=we.za);var Ot=32*nt,bt=nt+1,Vt=0<we.L?nt*(0<we.Aa?2:1):0,Et=(we.Aa==2?2:1)*nt;if((et=Ze+832+(Ue=3*(16*$e+bp[we.L])/2*Ot)+(Xe=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=et)$e=0;else{if(et>we.Vb){if(we.Vb=0,we.Ec=i(et),we.Fc=0,we.Ec==null){$e=fs(we,1,"no memory during frame initialization.");break t}we.Vb=et}et=we.Ec,ct=we.Fc,we.Ac=et,we.Bc=ct,ct+=Ze,we.Gd=o(Ot,lp),we.Hd=0,we.rb=o(bt+1,xu),we.sb=1,we.wa=Vt?o(Vt,Vi):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=nt),t(!0),we.oc=et,we.pc=ct,ct+=832,we.ya=o(Et,yu),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=nt),we.R=16*nt,we.B=8*nt,nt=(Ot=bp[we.L])*we.R,Ot=Ot/2*we.B,we.sa=et,we.ta=ct+nt,we.qa=we.sa,we.ra=we.ta+16*$e*we.R+Ot,we.Ha=we.qa,we.Ia=we.ra+8*$e*we.B+Ot,we.$c=0,ct+=Ue,we.mb=Xe?et:null,we.nb=Xe?ct:null,t(ct+Xe<=we.Fc+we.Vb),xc(we),a(we.Ac,we.Bc,0,Ze),$e=1}}if($e){if(De.ka=0,De.y=we.sa,De.O=we.ta,De.f=we.qa,De.N=we.ra,De.ea=we.Ha,De.Vd=we.Ia,De.fa=we.R,De.Rc=we.B,De.F=null,De.J=0,!l0){for($e=-255;255>=$e;++$e)lb[255+$e]=0>$e?-$e:$e;for($e=-1020;1020>=$e;++$e)_f[1020+$e]=-128>$e?-128:127<$e?127:$e;for($e=-112;112>=$e;++$e)Ol[112+$e]=-16>$e?-16:15<$e?15:$e;for($e=-255;510>=$e;++$e)Af[255+$e]=0>$e?0:255<$e?255:$e;l0=1}Ie=Nu,Ye=uf,vt=Xx,Ut=lo,Rr=ju,Ge=up,_s=R,gn=se,gp=Fe,nb=Je,yi=je,wf=Te,sb=rt,bd=kt,jf=ps,Nf=kl,ln=uo,ab=Tu,go[0]=r0,go[1]=Su,go[2]=e0,go[3]=t0,go[4]=n0,go[5]=Al,go[6]=co,go[7]=s0,go[8]=Au,go[9]=a0,Ac[0]=_l,Ac[1]=Qx,Ac[2]=fp,Ac[3]=_u,Ac[4]=Jx,Ac[5]=pd,Ac[6]=hf,Il[0]=ku,Il[1]=hp,Il[2]=ff,Il[3]=Jr,Il[4]=mf,Il[5]=i0,Il[6]=pf,$e=1}else $e=0}$e&&($e=function(Mr,As){for(Mr.M=0;Mr.M<Mr.Va;++Mr.M){var lr,St=Mr.Jc[Mr.M&Mr.Xb],pt=Mr.m,xs=Mr;for(lr=0;lr<xs.za;++lr){var ir=pt,Vr=xs,kn=Vr.Ac,qr=Vr.Bc+4*lr,da=Vr.zc,Yn=Vr.ya[Vr.aa+lr];if(Vr.Qa.Bb?Yn.$b=he(ir,Vr.Pa.jb[0])?2+he(ir,Vr.Pa.jb[2]):he(ir,Vr.Pa.jb[1]):Yn.$b=0,Vr.kc&&(Yn.Ad=he(ir,Vr.Bd)),Yn.Za=!he(ir,145)+0,Yn.Za){var On=Yn.Ob,ua=0;for(Vr=0;4>Vr;++Vr){var ls,wr=da[0+Vr];for(ls=0;4>ls;++ls){wr=yp[kn[qr+ls]][wr];for(var cn=qu[he(ir,wr[0])];0<cn;)cn=qu[2*cn+he(ir,wr[cn])];wr=-cn,kn[qr+ls]=wr}s(On,ua,kn,qr,4),ua+=4,da[0+Vr]=wr}}else wr=he(ir,156)?he(ir,128)?1:3:he(ir,163)?2:0,Yn.Ob[0]=wr,a(kn,qr,wr,4),a(da,0,wr,4);Yn.Dd=he(ir,142)?he(ir,114)?he(ir,183)?1:3:2:0}if(xs.m.Ka)return fs(Mr,7,"Premature end-of-partition0 encountered.");for(;Mr.ja<Mr.za;++Mr.ja){if(xs=St,ir=(pt=Mr).rb[pt.sb-1],kn=pt.rb[pt.sb+pt.ja],lr=pt.ya[pt.aa+pt.ja],qr=pt.kc?lr.Ad:0)ir.la=kn.la=0,lr.Za||(ir.Na=kn.Na=0),lr.Hc=0,lr.Gc=0,lr.ia=0;else{var Dr,nn;if(ir=kn,kn=xs,qr=pt.Pa.Xc,da=pt.ya[pt.aa+pt.ja],Yn=pt.pb[da.$b],Vr=da.ad,On=0,ua=pt.rb[pt.sb-1],wr=ls=0,a(Vr,On,0,384),da.Za)var ha=0,xo=qr[3];else{cn=i(16);var ys=ir.Na+ua.Na;if(ys=Ll(kn,qr[1],ys,Yn.Eb,0,cn,0),ir.Na=ua.Na=(0<ys)+0,1<ys)Ie(cn,0,Vr,On);else{var _a=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Vr[On+cn]=_a}ha=1,xo=qr[0]}var bn=15&ir.la,Zn=15&ua.la;for(cn=0;4>cn;++cn){var ti=1&Zn;for(_a=nn=0;4>_a;++_a)bn=bn>>1|(ti=(ys=Ll(kn,xo,ys=ti+(1&bn),Yn.Sc,ha,Vr,On))>ha)<<7,nn=nn<<2|(3<ys?3:1<ys?2:Vr[On+0]!=0),On+=16;bn>>=4,Zn=Zn>>1|ti<<7,ls=(ls<<8|nn)>>>0}for(xo=bn,ha=Zn>>4,Dr=0;4>Dr;Dr+=2){for(nn=0,bn=ir.la>>4+Dr,Zn=ua.la>>4+Dr,cn=0;2>cn;++cn){for(ti=1&Zn,_a=0;2>_a;++_a)ys=ti+(1&bn),bn=bn>>1|(ti=0<(ys=Ll(kn,qr[2],ys,Yn.Qc,0,Vr,On)))<<3,nn=nn<<2|(3<ys?3:1<ys?2:Vr[On+0]!=0),On+=16;bn>>=2,Zn=Zn>>1|ti<<5}wr|=nn<<4*Dr,xo|=bn<<4<<Dr,ha|=(240&Zn)<<Dr}ir.la=xo,ua.la=ha,da.Hc=ls,da.Gc=wr,da.ia=43690&wr?0:Yn.ia,qr=!(ls|wr)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[lr.$b][lr.Za],pt.wa[pt.Y+pt.ja].La|=!qr),xs.Ka)return fs(Mr,7,"Premature end-of-file encountered.")}if(xc(Mr),pt=As,xs=1,lr=(St=Mr).D,ir=0<St.L&&St.M>=St.zb&&St.M<=St.Va,St.Aa==0)t:{if(lr.M=St.M,lr.uc=ir,Tl(St,lr),xs=1,lr=(nn=St.D).Nb,ir=(wr=bp[St.L])*St.R,kn=wr/2*St.B,cn=16*lr*St.R,_a=8*lr*St.B,qr=St.sa,da=St.ta-ir+cn,Yn=St.qa,Vr=St.ra-kn+_a,On=St.Ha,ua=St.Ia-kn+_a,Zn=(bn=nn.M)==0,ls=bn>=St.Va-1,St.Aa==2&&Tl(St,nn),nn.uc)for(ti=(ys=St).D.M,t(ys.D.uc),nn=ys.yb;nn<ys.Hb;++nn){ha=nn,xo=ti;var Ba=(wi=(Zs=ys).D).Nb;Dr=Zs.R;var wi=wi.wa[wi.Y+ha],fa=Zs.sa,ri=Zs.ta+16*Ba*Dr+16*ha,ji=wi.dd,xn=wi.tc;if(xn!=0)if(t(3<=xn),Zs.L==1)0<ha&&Nf(fa,ri,Dr,xn+4),wi.La&&ab(fa,ri,Dr,xn),0<xo&&jf(fa,ri,Dr,xn+4),wi.La&&ln(fa,ri,Dr,xn);else{var ni=Zs.B,yo=Zs.qa,jd=Zs.ra+8*Ba*ni+8*ha,Dl=Zs.Ha,Zs=Zs.Ia+8*Ba*ni+8*ha;Ba=wi.ld,0<ha&&(gn(fa,ri,Dr,xn+4,ji,Ba),nb(yo,jd,Dl,Zs,ni,xn+4,ji,Ba)),wi.La&&(wf(fa,ri,Dr,xn,ji,Ba),bd(yo,jd,Dl,Zs,ni,xn,ji,Ba)),0<xo&&(_s(fa,ri,Dr,xn+4,ji,Ba),gp(yo,jd,Dl,Zs,ni,xn+4,ji,Ba)),wi.La&&(yi(fa,ri,Dr,xn,ji,Ba),sb(yo,jd,Dl,Zs,ni,xn,ji,Ba))}}if(St.ia&&alert("todo:DitherRow"),pt.put!=null){if(nn=16*bn,bn=16*(bn+1),Zn?(pt.y=St.sa,pt.O=St.ta+cn,pt.f=St.qa,pt.N=St.ra+_a,pt.ea=St.Ha,pt.W=St.Ia+_a):(nn-=wr,pt.y=qr,pt.O=da,pt.f=Yn,pt.N=Vr,pt.ea=On,pt.W=ua),ls||(bn-=wr),bn>pt.o&&(bn=pt.o),pt.F=null,pt.J=null,St.Fa!=null&&0<St.Fa.length&&nn<bn&&(pt.J=ia(St,pt,nn,bn-nn),pt.F=St.mb,pt.F==null&&pt.F.length==0)){xs=fs(St,3,"Could not decode alpha data.");break t}nn<pt.j&&(wr=pt.j-nn,nn=pt.j,t(!(1&wr)),pt.O+=St.R*wr,pt.N+=St.B*(wr>>1),pt.W+=St.B*(wr>>1),pt.F!=null&&(pt.J+=pt.width*wr)),nn<bn&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=nn-pt.j,pt.U=pt.va-pt.v,pt.T=bn-nn,xs=pt.put(pt))}lr+1!=St.Ic||ls||(s(St.sa,St.ta-ir,qr,da+16*St.R,ir),s(St.qa,St.ra-kn,Yn,Vr+8*St.B,kn),s(St.Ha,St.Ia-kn,On,ua+8*St.B,kn))}if(!xs)return fs(Mr,6,"Output aborted.")}return 1}(we,De)),De.bc!=null&&De.bc(De),$e&=1}return $e?(we.cb=0,$e):0})(j,K)||(E=j.a)}}else E=j.a}E==0&&ce.Oa!=null&&ce.Oa.fd&&(E=Ja(ce.ba))}ce=E}oe=ce!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var gb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(P,B){for(var T="",I=0;I<4;I++)T+=String.fromCharCode(P[B++]);return T}function u(P,B){return P[B+0]|P[B+1]<<8}function h(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16)>>>0}function p(P,B){return(P[B+0]|P[B+1]<<8|P[B+2]<<16|P[B+3]<<24)>>>0}new c;var f=[0],y=[0],g=[],v=new c,b=e,S=function(P,B){var T={},I=0,M=!1,D=0,V=0;if(T.frames=[],!function(F,Z){for(var Q=0;Q<4;Q++)if(F[Z+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(P,B)){for(p(P,B+=4),B+=8;B<P.length;){var z=d(P,B),X=p(P,B+=4);B+=4;var q=X+(1&X);switch(z){case"VP8 ":case"VP8L":T.frames[I]===void 0&&(T.frames[I]={}),(W=T.frames[I]).src_off=M?V:B-8,W.src_size=D+X+8,I++,M&&(M=!1,D=0,V=0);break;case"VP8X":(W=T.header={}).feature_flags=P[B];var Y=B+4;W.canvas_width=1+h(P,Y),Y+=3,W.canvas_height=1+h(P,Y),Y+=3;break;case"ALPH":M=!0,D=q+8,V=B-8;break;case"ANIM":(W=T.header).bgcolor=p(P,B),Y=B+4,W.loop_count=u(P,Y),Y+=2;break;case"ANMF":var ie,W;(W=T.frames[I]={}).offset_x=2*h(P,B),B+=3,W.offset_y=2*h(P,B),B+=3,W.width=1+h(P,B),B+=3,W.height=1+h(P,B),B+=3,W.duration=h(P,B),B+=3,ie=P[B++],W.dispose=1&ie,W.blend=ie>>1&1}z!="ANMF"&&(B+=q)}return T}}(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var N=S.header?S.header:null,w=S.frames?S.frames:null;if(N){N.loop_counter=N.loop_count,f=[N.canvas_height],y=[N.canvas_width];for(var C=0;C<w.length&&w[C].blend!=0;C++);}var L=w[0],k=v.WebPDecodeRGBA(b,L.src_off,L.src_size,y,f);L.rgba=k,L.imgwidth=y[0],L.imgheight=f[0];for(var A=0;A<y[0]*f[0]*4;A++)g[A]=k[A];return this.width=y,this.height=f,this.data=g,this}(function(e){var t,r,s,a,i,o,l,c,d,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=F;Object.defineProperty(this,"pdf",{get:function(){return Z}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ne){Q=!!Ne}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ne){ae=!!Ne}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Ne){isNaN(Ne)||(de=Ne)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ne){var G;typeof Ne=="number"?G=[Ne,Ne,Ne,Ne]:((G=new Array(4))[0]=Ne[0],G[1]=Ne.length>=2?Ne[1]:G[0],G[2]=Ne.length>=3?Ne[2]:G[0],G[3]=Ne.length>=4?Ne[3]:G[1]),d.margin=G}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Ne){Se=Ne}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(Ne){J=Ne}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Ne){he=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ne){Ne instanceof u&&(d=Ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ne){d.path=Ne}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(Ne){ee=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var G;G=p(Ne),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var G=p(Ne);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var le=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(Ne){le=null,ke=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var G;if(this.ctx.font=Ne,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Ae=G[1];G[2];var ze=G[3],Be=G[4];G[5];var qe=G[6],H=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(H==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:H==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var te=function(mt){var ut,zt,er=[],Nt=mt.trim();if(Nt==="")return WS;if(Nt in xD)return[xD[Nt]];for(;Nt!=="";){switch(zt=null,ut=(Nt=vD(Nt)).charAt(0)){case'"':case"'":zt=WRe(Nt.substring(1),ut);break;default:zt=HRe(Nt)}if(zt===null||(er.push(zt[0]),(Nt=vD(zt[1]))!==""&&Nt.charAt(0)!==","))return WS;Nt=Nt.replace(/^,/,"")}return er}(qe);if(this.fontFaces){var ye=function(mt,ut){if(le===null){var zt=function(er){var Nt=[];return Object.keys(er).forEach(function(tr){er[tr].forEach(function(Qr){var Ft=null;switch(Qr){case"bold":Ft={family:tr,weight:"bold"};break;case"italic":Ft={family:tr,style:"italic"};break;case"bolditalic":Ft={family:tr,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:tr}}Ft!==null&&(Ft.ref={name:tr,style:Qr},Nt.push(Ft))})}),Nt}(mt.getFontList());le=function(er){for(var Nt={},tr=0;tr<er.length;++tr){var Qr=qS(er[tr]),Ft=Qr.family,Ar=Qr.stretch,fr=Qr.style,hs=Qr.weight;Nt[Ft]=Nt[Ft]||{},Nt[Ft][Ar]=Nt[Ft][Ar]||{},Nt[Ft][Ar][fr]=Nt[Ft][Ar][fr]||{},Nt[Ft][Ar][fr][hs]=Qr}return Nt}(zt.concat(ut))}return le}(this.pdf,this.fontFaces),Ce=te.map(function(mt){return{family:mt,stretch:"normal",weight:ze,style:Ae}}),Pe=function(mt,ut,zt){for(var er=(zt=zt||{}).defaultFontFamily||"times",Nt=Object.assign({},qRe,zt.genericFontFamilies||{}),tr=null,Qr=null,Ft=0;Ft<ut.length;++Ft)if(Nt[(tr=qS(ut[Ft])).family]&&(tr.family=Nt[tr.family]),mt.hasOwnProperty(tr.family)){Qr=mt[tr.family];break}if(!(Qr=Qr||mt[er]))throw new Error("Could not find a font-family for the rule '"+yD(tr)+"' and default family '"+er+"'.");if(Qr=function(Ar,fr){if(fr[Ar])return fr[Ar];var hs=sA[Ar],Ss=hs<=sA.normal?-1:1,pn=gD(fr,wG,hs,Ss);if(!pn)throw new Error("Could not find a matching font-stretch value for "+Ar);return pn}(tr.stretch,Qr),Qr=function(Ar,fr){if(fr[Ar])return fr[Ar];for(var hs=bG[Ar],Ss=0;Ss<hs.length;++Ss)if(fr[hs[Ss]])return fr[hs[Ss]];throw new Error("Could not find a matching font-style for "+Ar)}(tr.style,Qr),!(Qr=function(Ar,fr){if(fr[Ar])return fr[Ar];if(Ar===400&&fr[500])return fr[500];if(Ar===500&&fr[400])return fr[400];var hs=VRe[Ar],Ss=gD(fr,jG,hs,Ar<400?-1:1);if(!Ss)throw new Error("Could not find a matching font-weight for value "+Ar);return Ss}(tr.weight,Qr)))throw new Error("Failed to resolve a font for the rule '"+yD(tr)+"'.");return Qr}(ye,Ce);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var Ee="";(ze==="bold"||parseInt(ze,10)>=700||Ae==="bold")&&(Ee="bold"),Ae==="italic"&&(Ee+="italic"),Ee.length===0&&(Ee="normal");for(var Ve="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},it=0;it<te.length;it++){if(this.pdf.internal.getFont(te[it],Ee,{noFallback:!0,disableWarning:!0})!==void 0){Ve=te[it];break}if(Ee==="bolditalic"&&this.pdf.internal.getFont(te[it],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=te[it],Ee="bold";else if(this.pdf.internal.getFont(te[it],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=te[it],Ee="normal";break}}if(Ve===""){for(var ft=0;ft<te.length;ft++)if(tt[te[ft]]){Ve=tt[te[ft]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Ee)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,Z){if(isNaN(F)||isNaN(Z))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(F,Z));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(F,Z)},h.prototype.closePath=function(){var F=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&jn(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){F=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,Z){if(isNaN(F)||isNaN(Z))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(F,Z));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,Z,Q,ae){if(isNaN(Q)||isNaN(ae)||isNaN(F)||isNaN(Z))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(Q,ae)),ge=this.ctx.transform.applyToPoint(new o(F,Z));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.bezierCurveTo=function(F,Z,Q,ae,de,ge){if(isNaN(de)||isNaN(ge)||isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new o(de,ge)),J=this.ctx.transform.applyToPoint(new o(F,Z)),he=this.ctx.transform.applyToPoint(new o(Q,ae));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:he.x,y2:he.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new o(Se.x,Se.y)},h.prototype.arc=function(F,Z,Q,ae,de,ge){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae)||isNaN(de))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new o(F,Z));F=Se.x,Z=Se.y;var J=this.ctx.transform.applyToPoint(new o(0,Q)),he=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(J.x-he.x,2)+Math.pow(J.y-he.y,2))}Math.abs(de-ae)>=2*Math.PI&&(ae=0,de=2*Math.PI),this.path.push({type:"arc",x:F,y:Z,radius:Q,startAngle:ae,endAngle:de,counterclockwise:ge})},h.prototype.arcTo=function(F,Z,Q,ae,de){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,Z,Q,ae){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Z),this.lineTo(F+Q,Z),this.lineTo(F+Q,Z+ae),this.lineTo(F,Z+ae),this.lineTo(F,Z),this.lineTo(F+Q,Z),this.lineTo(F,Z)},h.prototype.fillRect=function(F,Z,Q,ae){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Z,Q,ae),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},h.prototype.strokeRect=function(F,Z,Q,ae){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(F,Z,Q,ae),this.stroke())},h.prototype.clearRect=function(F,Z,Q,ae){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Z,Q,ae))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(F){var Z,Q,ae,de;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Z=0,Q=0,ae=0,de=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(ge!==null)Z=parseInt(ge[1]),Q=parseInt(ge[2]),ae=parseInt(ge[3]),de=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Z=parseInt(ge[1]),Q=parseInt(ge[2]),ae=parseInt(ge[3]),de=parseFloat(ge[4]);else{if(de=1,typeof F=="string"&&F.charAt(0)!=="#"){var Se=new fG(F);F=Se.ok?Se.toHex():"#000000"}F.length===4?(Z=F.substring(1,2),Z+=Z,Q=F.substring(2,3),Q+=Q,ae=F.substring(3,4),ae+=ae):(Z=F.substring(1,3),Q=F.substring(3,5),ae=F.substring(5,7)),Z=parseInt(Z,16),Q=parseInt(Q,16),ae=parseInt(ae,16)}}return{r:Z,g:Q,b:ae,a:de,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,Z,Q,ae){if(isNaN(Z)||isNaN(Q)||typeof F!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!f.call(this)){var de=q(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:F,x:Z,y:Q,scale:ge,angle:de,align:this.textAlign,maxWidth:ae})}},h.prototype.strokeText=function(F,Z,Q,ae){if(isNaN(Z)||isNaN(Q)||typeof F!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var de=q(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;I.call(this,{text:F,x:Z,y:Q,scale:ge,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ae})}},h.prototype.measureText=function(F){if(typeof F!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,Q=this.pdf.internal.scaleFactor,ae=Z.internal.getFontSize(),de=Z.getStringUnitWidth(F)*ae/Z.internal.scaleFactor;return new function(ge){var Se=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:de*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(F,Z){if(isNaN(F)||isNaN(Z))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(F,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(F){if(isNaN(F))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.translate=function(F,Z){if(isNaN(F)||isNaN(Z))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,F,Z);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(F,Z,Q,ae,de,ge){if(isNaN(F)||isNaN(Z)||isNaN(Q)||isNaN(ae)||isNaN(de)||isNaN(ge))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new c(F,Z,Q,ae,de,ge);this.ctx.transform=this.ctx.transform.multiply(Se)},h.prototype.setTransform=function(F,Z,Q,ae,de,ge){F=isNaN(F)?1:F,Z=isNaN(Z)?0:Z,Q=isNaN(Q)?0:Q,ae=isNaN(ae)?1:ae,de=isNaN(de)?0:de,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(F,Z,Q,ae,de,ge)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,Z,Q,ae,de,ge,Se,J,he){var ee=this.pdf.getImageProperties(F),le=1,ke=1,Ne=1,G=1;ae!==void 0&&J!==void 0&&(Ne=J/ae,G=he/de,le=ee.width/ae*J/ae,ke=ee.height/de*he/de),ge===void 0&&(ge=Z,Se=Q,Z=0,Q=0),ae!==void 0&&J===void 0&&(J=ae,he=de),ae===void 0&&J===void 0&&(J=ee.width,he=ee.height);for(var Ae,ze=this.ctx.transform.decompose(),Be=q(ze.rotate.shx),qe=new c,H=(qe=(qe=(qe=qe.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new l(ge-Z*Ne,Se-Q*G,ae*le,de*ke)),te=v.call(this,H),ye=[],Ce=0;Ce<te.length;Ce+=1)ye.indexOf(te[Ce])===-1&&ye.push(te[Ce]);if(N(ye),this.autoPaging)for(var Pe=ye[0],Ee=ye[ye.length-1],Ve=Pe;Ve<Ee+1;Ve++){this.pdf.setPage(Ve);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Ve===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Ve===1?0:ft+(Ve-2)*mt;if(this.ctx.clip_path.length!==0){var zt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ae,this.posX+this.margin[3],-ut+it+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=zt}var er=JSON.parse(JSON.stringify(H));er=S([er],this.posX+this.margin[3],-ut+it+this.ctx.prevPageLastElemOffset)[0];var Nt=(Ve>Pe||Ve<Ee)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,mt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",er.x,er.y,er.w,er.h,null,null,Be),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",H.x,H.y,H.w,H.h,null,null,Be)};var v=function(F,Z,Q){var ae=[];Z=Z||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ae.push(Math.floor((F.y+de)/Q)+1);break;case"arc":ae.push(Math.floor((F.y+de-F.radius)/Q)+1),ae.push(Math.floor((F.y+de+F.radius)/Q)+1);break;case"qct":var ge=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ae.push(Math.floor((ge.y+de)/Q)+1),ae.push(Math.floor((ge.y+ge.h+de)/Q)+1);break;case"bct":var Se=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ae.push(Math.floor((Se.y+de)/Q)+1),ae.push(Math.floor((Se.y+Se.h+de)/Q)+1);break;case"rect":ae.push(Math.floor((F.y+de)/Q)+1),ae.push(Math.floor((F.y+F.h+de)/Q)+1)}for(var J=0;J<ae.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<ae[J];)b.call(this);return ae},b=function(){var F=this.fillStyle,Z=this.strokeStyle,Q=this.font,ae=this.lineCap,de=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Z,this.font=Q,this.lineCap=ae,this.lineWidth=de,this.lineJoin=ge},S=function(F,Z,Q){for(var ae=0;ae<F.length;ae++)switch(F[ae].type){case"bct":F[ae].x2+=Z,F[ae].y2+=Q;case"qct":F[ae].x1+=Z,F[ae].y1+=Q;default:F[ae].x+=Z,F[ae].y+=Q}return F},N=function(F){return F.sort(function(Z,Q){return Z-Q})},w=function(F,Z){for(var Q,ae,de=this.fillStyle,ge=this.strokeStyle,Se=this.lineCap,J=this.lineWidth,he=Math.abs(J*this.ctx.transform.scaleX),ee=this.lineJoin,le=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ne=[],G=0;G<ke.length;G++)if(ke[G].x!==void 0)for(var Ae=v.call(this,ke[G]),ze=0;ze<Ae.length;ze+=1)Ne.indexOf(Ae[ze])===-1&&Ne.push(Ae[ze]);for(var Be=0;Be<Ne.length;Be++)for(;this.pdf.internal.getNumberOfPages()<Ne[Be];)b.call(this);if(N(Ne),this.autoPaging)for(var qe=Ne[0],H=Ne[Ne.length-1],te=qe;te<H+1;te++){this.pdf.setPage(te),this.fillStyle=de,this.strokeStyle=ge,this.lineCap=Se,this.lineWidth=he,this.lineJoin=ee;var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=te===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=te===1?0:Pe+(te-2)*Ee;if(this.ctx.clip_path.length!==0){var tt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Q,this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset),C.call(this,F,!0),this.path=tt}if(ae=JSON.parse(JSON.stringify(le)),this.path=S(ae,this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset),Z===!1||te===0){var it=(te>qe||te<H)&&g.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,Ee,null).clip().discardPath()),C.call(this,F,Z),it&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=he,C.call(this,F,Z),this.lineWidth=J;this.path=le},C=function(F,Z){if((F!=="stroke"||Z||!y.call(this))&&(F==="stroke"||Z||!f.call(this))){for(var Q,ae,de=[],ge=this.path,Se=0;Se<ge.length;Se++){var J=ge[Se];switch(J.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:J,deltas:[],abs:[]});break;case"lt":var he=de.length;if(ge[Se-1]&&!isNaN(ge[Se-1].x)&&(Q=[J.x-ge[Se-1].x,J.y-ge[Se-1].y],he>0)){for(;he>=0;he--)if(de[he-1].close!==!0&&de[he-1].begin!==!0){de[he-1].deltas.push(Q),de[he-1].abs.push(J);break}}break;case"bct":Q=[J.x1-ge[Se-1].x,J.y1-ge[Se-1].y,J.x2-ge[Se-1].x,J.y2-ge[Se-1].y,J.x-ge[Se-1].x,J.y-ge[Se-1].y],de[de.length-1].deltas.push(Q);break;case"qct":var ee=ge[Se-1].x+2/3*(J.x1-ge[Se-1].x),le=ge[Se-1].y+2/3*(J.y1-ge[Se-1].y),ke=J.x+2/3*(J.x1-J.x),Ne=J.y+2/3*(J.y1-J.y),G=J.x,Ae=J.y;Q=[ee-ge[Se-1].x,le-ge[Se-1].y,ke-ge[Se-1].x,Ne-ge[Se-1].y,G-ge[Se-1].x,Ae-ge[Se-1].y],de[de.length-1].deltas.push(Q);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(J)}}ae=Z?null:F==="stroke"?"stroke":"fill";for(var ze=!1,Be=0;Be<de.length;Be++)if(de[Be].arc)for(var qe=de[Be].abs,H=0;H<qe.length;H++){var te=qe[H];te.type==="arc"?A.call(this,te.x,te.y,te.radius,te.startAngle,te.endAngle,te.counterclockwise,void 0,Z,!ze):M.call(this,te.x,te.y),ze=!0}else if(de[Be].close===!0)this.pdf.internal.out("h"),ze=!1;else if(de[Be].begin!==!0){var ye=de[Be].start.x,Ce=de[Be].start.y;D.call(this,de[Be].deltas,ye,Ce),ze=!0}ae&&P.call(this,ae),Z&&B.call(this)}},L=function(F){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-Q;case"top":return F+Z-Q;case"hanging":return F+Z-2*Q;case"middle":return F+Z/2-Q;default:return F}},k=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Z,Q){this.colorStops.push([Z,Q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(F,Z,Q,ae,de,ge,Se,J,he){for(var ee=z.call(this,Q,ae,de,ge),le=0;le<ee.length;le++){var ke=ee[le];le===0&&(he?T.call(this,ke.x1+F,ke.y1+Z):M.call(this,ke.x1+F,ke.y1+Z)),V.call(this,F,Z,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}J?B.call(this):P.call(this,Se)},P=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(F,Z){this.pdf.internal.out(r(F)+" "+s(Z)+" m")},I=function(F){var Z;switch(F.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var Q=this.pdf.getTextDimensions(F.text),ae=L.call(this,F.y),de=k.call(this,ae)-Q.h,ge=this.ctx.transform.applyToPoint(new o(F.x,ae)),Se=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var he,ee,le,ke=this.ctx.transform.applyToRectangle(new l(F.x,ae,Q.w,Q.h)),Ne=J.applyToRectangle(new l(F.x,de,Q.w,Q.h)),G=v.call(this,Ne),Ae=[],ze=0;ze<G.length;ze+=1)Ae.indexOf(G[ze])===-1&&Ae.push(G[ze]);if(N(Ae),this.autoPaging)for(var Be=Ae[0],qe=Ae[Ae.length-1],H=Be;H<qe+1;H++){this.pdf.setPage(H);var te=H===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Pe=Ce-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],Ve=Ee-this.margin[3],tt=H===1?0:ye+(H-2)*Pe;if(this.ctx.clip_path.length!==0){var it=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(he,this.posX+this.margin[3],-1*tt+te),C.call(this,"fill",!0),this.path=it}var ft=S([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-tt+te+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale);var mt=this.autoPaging!=="text";if(mt||ft.y+ft.h<=Ce){if(mt||ft.y>=te&&ft.x<=Ee){var ut=mt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ee-ft.x)[0],zt=S([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-tt+te+this.ctx.prevPageLastElemOffset)[0],er=mt&&(H>Be||H<qe)&&g.call(this);er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Pe,null).clip().discardPath()),this.pdf.text(ut,zt.x,zt.y,{angle:F.angle,align:Z,renderingMode:F.renderingMode}),er&&this.pdf.restoreGraphicsState()}}else ft.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-ft.y);F.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=le)}else F.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale),this.pdf.text(F.text,ge.x+this.posX,ge.y+this.posY,{angle:F.angle,align:Z,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=le)},M=function(F,Z,Q,ae){Q=Q||0,ae=ae||0,this.pdf.internal.out(r(F+Q)+" "+s(Z+ae)+" l")},D=function(F,Z,Q){return this.pdf.lines(F,Z,Q,null,null)},V=function(F,Z,Q,ae,de,ge,Se,J){this.pdf.internal.out([t(a(Q+F)),t(i(ae+Z)),t(a(de+F)),t(i(ge+Z)),t(a(Se+F)),t(i(J+Z)),"c"].join(" "))},z=function(F,Z,Q,ae){for(var de=2*Math.PI,ge=Math.PI/2;Z>Q;)Z-=de;var Se=Math.abs(Q-Z);Se<de&&ae&&(Se=de-Se);for(var J=[],he=ae?-1:1,ee=Z;Se>1e-5;){var le=ee+he*Math.min(Se,ge);J.push(X.call(this,F,ee,le)),Se-=Math.abs(le-ee),ee=le}return J},X=function(F,Z,Q){var ae=(Q-Z)/2,de=F*Math.cos(ae),ge=F*Math.sin(ae),Se=de,J=-ge,he=Se*Se+J*J,ee=he+Se*de+J*ge,le=4/3*(Math.sqrt(2*he*ee)-ee)/(Se*ge-J*de),ke=Se-le*J,Ne=J+le*Se,G=ke,Ae=-Ne,ze=ae+Z,Be=Math.cos(ze),qe=Math.sin(ze);return{x1:F*Math.cos(Z),y1:F*Math.sin(Z),x2:ke*Be-Ne*qe,y2:ke*qe+Ne*Be,x3:G*Be-Ae*qe,y3:G*qe+Ae*Be,x4:F*Math.cos(Q),y4:F*Math.sin(Q)}},q=function(F){return 180*F/Math.PI},Y=function(F,Z,Q,ae,de,ge){var Se=F+.5*(Q-F),J=Z+.5*(ae-Z),he=de+.5*(Q-de),ee=ge+.5*(ae-ge),le=Math.min(F,de,Se,he),ke=Math.max(F,de,Se,he),Ne=Math.min(Z,ge,J,ee),G=Math.max(Z,ge,J,ee);return new l(le,Ne,ke-le,G-Ne)},ie=function(F,Z,Q,ae,de,ge,Se,J){var he,ee,le,ke,Ne,G,Ae,ze,Be,qe,H,te,ye,Ce,Pe=Q-F,Ee=ae-Z,Ve=de-Q,tt=ge-ae,it=Se-de,ft=J-ge;for(ee=0;ee<41;ee++)Be=(Ae=(le=F+(he=ee/40)*Pe)+he*((Ne=Q+he*Ve)-le))+he*(Ne+he*(de+he*it-Ne)-Ae),qe=(ze=(ke=Z+he*Ee)+he*((G=ae+he*tt)-ke))+he*(G+he*(ge+he*ft-G)-ze),ee==0?(H=Be,te=qe,ye=Be,Ce=qe):(H=Math.min(H,Be),te=Math.min(te,qe),ye=Math.max(ye,Be),Ce=Math.max(Ce,qe));return new l(Math.round(H),Math.round(te),Math.round(ye-H),Math.round(Ce-te))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Z,Q=(F=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Z}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Rt.API),function(e){var t=function(o){var l,c,d,u,h,p,f,y,g,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(y=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,y+33,g+33,v+33)):c.push(122);return function(b,S){for(var N=S;N>0;N--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,p=String,f="length",y=255,g="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[v](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[g](u)-33)+614125*(o[g](u+1)-33)+7225*(o[g](u+2)-33)+85*(o[g](u+3)-33)+(o[g](u+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(S,N){for(var w=N;w>0;w--)S.pop()}(d,l[f]),p.fromCharCode.apply(p,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=W6(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,r,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,p=0,f=function(y){var g=y.length,v=[],b=String.fromCharCode;for(p=0;p<g;p+=1)v.push(b(255&y.charCodeAt(p)));return v.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)}(a,i,o)}catch{}return l}(t,r,s)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(cr.html2canvas?Promise.resolve(cr.html2canvas):bS(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(cr.DOMPurify?Promise.resolve(cr.DOMPurify):bS(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=jn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var y=u[f],g=y.src.find(function(v){return v.format==="truetype"});g&&d.addFont(g.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,h).then(function(p){return d.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=d.call(h,l,c);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rt.getPageSize=function(l,c,d){if(jn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var y,g=0,v=0;if(f.hasOwnProperty(p))g=f[p][1]/h,v=f[p][0]/h;else try{g=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>g&&(y=v,v=g,g=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(y=v,v=g,g=y)}return{width:v,height:g,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(qS):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return wD=e,this.internal.events.subscribe("postPutResources",function(){_1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_1!==void 0&&bD!==void 0&&this.internal.out("/Names <</JavaScript "+_1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,g={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=f,t.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}f=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}}(Rt.API),Rt.API.processPNG=function(e,t,r,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=PRe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;a=d&&c===1?function(k){for(var A=k.width,P=k.height,B=k.data,T=k.palette,I=k.depth,M=!1,D=[],V=[],z=void 0,X=!1,q=0,Y=0;Y<T.length;Y++){var ie=pM(T[Y],4),W=ie[0],F=ie[1],Z=ie[2],Q=ie[3];D.push(W,F,Z),Q!=null&&(Q===0?(q++,V.length<1&&V.push(Y)):Q<255&&(X=!0))}if(X||q>1){M=!0,V=void 0;var ae=A*P;z=new Uint8Array(ae);for(var de=new DataView(B.buffer),ge=0;ge<ae;ge++){var Se=HS(de,ge,I),J=pM(T[Se],4)[3];z[ge]=J}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:B,alphaBytes:z,needSMask:M,palette:D,mask:V}}(i):c===2||c===4?function(k){for(var A=k.data,P=k.width,B=k.height,T=k.channels,I=k.depth,M=T===2?"DeviceGray":"DeviceRGB",D=T-1,V=P*B,z=D,X=V*z,q=1*V,Y=Math.ceil(X*I/8),ie=Math.ceil(q*I/8),W=new Uint8Array(Y),F=new Uint8Array(ie),Z=new DataView(A.buffer),Q=new DataView(W.buffer),ae=new DataView(F.buffer),de=!1,ge=0;ge<V;ge++){for(var Se=ge*T,J=0;J<z;J++)TD(Q,HS(Z,Se+J,I),ge*z+J,I);var he=HS(Z,Se+z,I);he<(1<<I)-1&&(de=!0),TD(ae,he,1*ge,I)}return{colorSpace:M,colorsPerPixel:D,colorBytes:W,alphaBytes:F,needSMask:de}}(i):function(k){var A=k.data,P=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:A instanceof Uint8Array?A:new Uint8Array(A.buffer),needSMask:!1}}(i);var h,p,f,y=a,g=y.colorSpace,v=y.colorsPerPixel,b=y.colorBytes,S=y.alphaBytes,N=y.needSMask,w=y.palette,C=y.mask,L=null;return s!==Rt.API.image_compression.NONE&&typeof W6=="function"?(L=function(k){var A;switch(k){case Rt.API.image_compression.FAST:A=11;break;case Rt.API.image_compression.MEDIUM:A=13;break;case Rt.API.image_compression.SLOW:A=14;break;default:A=12}return A}(s),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," "),e=_D(b,o*v,v,s),N&&(f=_D(S,o,1,s))):(h=void 0,p="",e=b,N&&(f=S)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:C,palette:w,sMask:f,predictor:L,width:o,height:l,bitsPerComponent:u,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,s,a){var i=new ZRe(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new GS(100).encode(d,100);return e.processJPEG.call(this,u,r,s,a)},e.processGIF87A=e.processGIF89A}(Rt.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},Ul.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ul.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Ul.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Ul.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Ul.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,a){var i=new Ul(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new GS(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}}(Rt.API),OD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,a){var i=new OD(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new GS(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)}}(Rt.API),Rt.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],p=s[d+2],f=s[d+3];i[l++]=u,i[l++]=h,i[l++]=p,o[c++]=f}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wp=Rt.API,A1=Wp.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,p=0,f=e.length,y=0,g=l[0]||c,v=[];for(r=0;r<f;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(p=h&&jn(d[s])==="object"&&!isNaN(parseInt(d[s][y],10))?d[s][y]/u:0,v.push((l[s]||g)/c+p)),y=s;return v},jD=Wp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Wp.processArabic&&(e=Wp.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:A1.apply(this,arguments).reduce(function(i,o){return i+o},0)},ND=function(e,t,r,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},SD=function(e,t,r){r||(r={});var s,a,i,o,l,c,d,u=[],h=[u],p=r.textIndent||0,f=0,y=0,g=e.split(" "),v=A1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),S=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?S=S.concat(w.map(function(C,L){return(L&&C.length?`
`:"")+C})):S.push(w[0])}),g=S,c=jD.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(s=g[i],c&&s[0]==`
`&&(s=s.substr(1),N=1),p+f+(y=(a=A1.apply(this,[s,r])).reduce(function(w,C){return w+C},0))>t||N){if(y>t){for(l=ND.apply(this,[s,a,t-(p+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);y=a.slice(s.length-(u[0]?u[0].length:0)).reduce(function(w,C){return w+C},0)}else u=[s];h.push(u),p=y+c,f=v}else u.push(s),p+=f+y,f=v}return d=c?function(w,C){return(C?b:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(d)},Wp.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(SD.apply(this,[s[l],o,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=t[i],a[t[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,y,g,v,b=["{"];for(var S in p){if(f=p[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),v="-"):(g=o(f).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(jn(f)!=="object")throw new Error("Don't know what to do with value type "+jn(f)+".");g=l(f)}b.push(y+g)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,y,g,v,b={},S=1,N=b,w=[],C="",L="",k=p.length-1,A=1;A<k;A+=1)(v=p[A])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(w.push([N,g]),N={},g=void 0):v=="}"?((y=w.pop())[0][y[1]]=N,g=void 0,N=y[0]):v=="-"?S=-1:g===void 0?s.hasOwnProperty(v)?(C+=s[v],g=parseInt(C,16)*S,S=1,C=""):C+=v:s.hasOwnProperty(v)?(L+=s[v],N[g]=parseInt(L,16)*S,S=1,g=void 0,L=""):L+=v;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,y=h.Unicode[f.postScriptName];y&&(f.metadata.Unicode={},f.metadata.Unicode.widths=y.widths,f.metadata.Unicode.kerning=y.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Rt.API),function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(G1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(Rt),Rt.API.addSvgAsImage=function(e,t,r,s,a,i,o,l){if(isNaN(t)||isNaN(r))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(cr.canvg?Promise.resolve(cr.canvg):bS(()=>import("./index.es-DBmf890M.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,s,a,o,l)})},Rt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},Rt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function p(y,g){var v,b=!1;for(v=0;v<y.length;v+=1)y[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(jn(e)==="object"){for(a in e)if(i=e[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,y){return f-y})).length;h<p;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",y=0;y<p.length;y++)f+=String.fromCharCode(p[y]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Kp(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Kp(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Kp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var y=d();u({data:p,addLength1:!0,objectId:y}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Kp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Kp(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,y=h.fonts,g=f,v="",b=0,S="",N=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(S=l,g=f,Array.isArray(l)&&(S=l[0]),b=0;b<S.length;b+=1)y[g].metadata.hasOwnProperty("cmap")&&(o=y[g].metadata.cmap.unicode.codeMap[S[b].charCodeAt(0)]),o||S[b].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?v+=S[b]:v+="";var w="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?w=p(v,g).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(w=r(v,y[g])),h.isHex=!0,{text:w,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,N=0;this.__bidiEngine__={};var w=function(T){var I=T.charCodeAt(),M=I>>8,D=g[M];return D!==void 0?h[256*D+(255&I)]:M===252||M===253?"AL":b.test(M)?"L":M===8?"R":"N"},C=function(T){for(var I,M=0;M<T.length;M++){if((I=w(T.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},L=function(T,I,M,D){var V,z,X,q,Y=I[D];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(Y="AN");break;case"AL":S=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":D<1||D+1>=I.length||(V=M[D-1])!=="EN"&&V!=="AN"||(z=I[D+1])!=="EN"&&z!=="AN"?Y="N":S&&(z="AN"),Y=z===V?z:"N";break;case"ES":Y=(V=D>0?M[D-1]:"B")==="EN"&&D+1<I.length&&I[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){Y="EN";break}if(S){Y="N";break}for(X=D+1,q=I.length;X<q&&I[X]==="ET";)X++;Y=X<q&&I[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=I.length,X=D+1;X<q&&I[X]==="NSM";)X++;if(X<q){var ie=T[D],W=ie>=1425&&ie<=2303||ie===64286;if(V=I[X],W&&(V==="R"||V==="AL")){Y="R";break}}}Y=D<1||(V=I[D-1])==="B"?"N":M[D-1];break;case"B":S=!1,a=!0,Y=N;break;case"S":i=!0,Y="N"}return Y},k=function(T,I,M){var D=T.split("");return M&&A(D,M,{hiLevel:N}),D.reverse(),I&&I.reverse(),D.join("")},A=function(T,I,M){var D,V,z,X,q,Y=-1,ie=T.length,W=0,F=[],Z=N?f:p,Q=[];for(S=!1,a=!1,i=!1,V=0;V<ie;V++)Q[V]=w(T[V]);for(z=0;z<ie;z++){if(q=W,F[z]=L(T,Q,F,z),D=240&(W=Z[q][y[F[z]]]),W&=15,I[z]=X=Z[W][5],D>0)if(D===16){for(V=Y;V<z;V++)I[V]=1;Y=-1}else Y=-1;if(Z[W][6])Y===-1&&(Y=z);else if(Y>-1){for(V=Y;V<z;V++)I[V]=X;Y=-1}Q[z]==="B"&&(I[z]=0),M.hiLevel|=X}i&&function(ae,de,ge){for(var Se=0;Se<ge;Se++)if(ae[Se]==="S"){de[Se]=N;for(var J=Se-1;J>=0&&ae[J]==="WS";J--)de[J]=N}}(Q,I,ie)},P=function(T,I,M,D,V){if(!(V.hiLevel<T)){if(T===1&&N===1&&!a)return I.reverse(),void(M&&M.reverse());for(var z,X,q,Y,ie=I.length,W=0;W<ie;){if(D[W]>=T){for(q=W+1;q<ie&&D[q]>=T;)q++;for(Y=W,X=q-1;Y<X;Y++,X--)z=I[Y],I[Y]=I[X],I[X]=z,M&&(z=M[Y],M[Y]=M[X],M[X]=z);W=q}W++}}},B=function(T,I,M){var D=T.split(""),V={hiLevel:N};return M||(M=[]),A(D,M,V),function(z,X,q){if(q.hiLevel!==0&&u)for(var Y,ie=0;ie<z.length;ie++)X[ie]===1&&(Y=v.indexOf(z[ie]))>=0&&(z[ie]=v[Y+1])}(D,M,V),P(2,D,I,M,V),P(1,D,I,M,V),D.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,M){if(function(V,z){if(z)for(var X=0;X<V.length;X++)z[X]=X;l===void 0&&(l=C(V)),d===void 0&&(d=C(V))}(T,I),o||!c||d)if(o&&c&&l^d)N=l?1:0,T=k(T,I,M);else if(!o&&c&&d)N=l?1:0,T=B(T,I,M),T=k(T,I);else if(!o||l||c||d){if(o&&!c&&l^d)T=k(T,I),l?(N=0,T=B(T,I,M)):(N=1,T=B(T,I,M),T=k(T,I));else if(o&&l&&!c&&d)N=1,T=B(T,I,M),T=k(T,I);else if(!o&&!c&&l^d){var D=u;l?(N=1,T=B(T,I,M),N=0,u=!1,T=B(T,I,M),u=D):(N=0,T=B(T,I,M),T=k(T,I),N=1,u=!1,T=B(T,I,M),u=D,T=k(T,I))}}else N=0,T=B(T,I,M);else N=l?1:0,T=B(T,I,M);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ef(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new u9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new XRe(this.contents),this.head=new JRe(this),this.name=new s9e(this),this.cmap=new SG(this),this.toUnicode={},this.hhea=new e9e(this),this.maxp=new a9e(this),this.hmtx=new i9e(this),this.post=new r9e(this),this.os2=new t9e(this),this.loca=new d9e(this),this.glyf=new o9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var mc,ef=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e}(),XRe=function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,l,c,d,u,h,p,f,y,g;for(g in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new ef).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,y=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(d),a.writeInt(p.length),y=y.concat(p),g==="head"&&(l=d),d+=p.length;d%4;)y.push(0),d++;return a.write(y),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=_G.call(r);r.length%4;)r.push(0);for(i=new ef(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),QRe={}.hasOwnProperty,dd=function(e,t){for(var r in t)QRe.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};mc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var JRe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new ef).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),LD=function(){function e(t,r){var s,a,i,o,l,c,d,u,h,p,f,y,g,v,b,S,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var w,C;for(C=[],c=w=0;0<=p?w<p:w>p;c=0<=p?++w:--w)C.push(t.readUInt16());return C}(),t.pos+=2,g=function(){var w,C;for(C=[],c=w=0;0<=p?w<p:w>p;c=0<=p?++w:--w)C.push(t.readUInt16());return C}(),d=function(){var w,C;for(C=[],c=w=0;0<=p?w<p:w>p;c=0<=p?++w:--w)C.push(t.readUInt16());return C}(),u=function(){var w,C;for(C=[],c=w=0;0<=p?w<p:w>p;c=0<=p?++w:--w)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,l=function(){var w,C;for(C=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)C.push(t.readUInt16());return C}(),c=b=0,N=i.length;b<N;c=++b)for(v=i[c],s=S=y=g[c];y<=v?S<=v:S>=v;s=y<=v?++S:--S)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-y)-(p-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}t.pos=h}return e.encode=function(t,r){var s,a,i,o,l,c,d,u,h,p,f,y,g,v,b,S,N,w,C,L,k,A,P,B,T,I,M,D,V,z,X,q,Y,ie,W,F,Z,Q,ae,de,ge,Se,J,he,ee,le;switch(D=new ef,o=Object.keys(t).sort(function(ke,Ne){return ke-Ne}),r){case"macroman":for(g=0,v=function(){var ke=[];for(y=0;y<256;++y)ke.push(0);return ke}(),S={0:0},i={},V=0,Y=o.length;V<Y;V++)S[J=t[a=o[V]]]==null&&(S[J]=++g),i[a]={old:t[a],new:S[t[a]]},v[a]=S[t[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:i,subtable:D.data,maxGlyphID:g+1};case"unicode":for(I=[],h=[],N=0,S={},s={},b=d=null,z=0,ie=o.length;z<ie;z++)S[C=t[a=o[z]]]==null&&(S[C]=++N),s[a]={old:C,new:S[C]},l=S[C]-a,b!=null&&l===d||(b&&h.push(b),I.push(a),d=l),b=a;for(b&&h.push(b),h.push(65535),I.push(65535),B=2*(P=I.length),A=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(A/2)/Math.LN2,k=2*P-A,c=[],L=[],f=[],y=X=0,W=I.length;X<W;y=++X){if(T=I[y],u=h[y],T===65535){c.push(0),L.push(0);break}if(T-(M=s[T].new)>=32768)for(c.push(0),L.push(2*(f.length+P-y)),a=q=T;T<=u?q<=u:q>=u;a=T<=u?++q:--q)f.push(s[a].new);else c.push(M-T),L.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*P+2*f.length),D.writeUInt16(0),D.writeUInt16(B),D.writeUInt16(A),D.writeUInt16(p),D.writeUInt16(k),ge=0,F=h.length;ge<F;ge++)a=h[ge],D.writeUInt16(a);for(D.writeUInt16(0),Se=0,Z=I.length;Se<Z;Se++)a=I[Se],D.writeUInt16(a);for(he=0,Q=c.length;he<Q;he++)l=c[he],D.writeUInt16(l);for(ee=0,ae=L.length;ee<ae;ee++)w=L[ee],D.writeUInt16(w);for(le=0,de=f.length;le<de;le++)g=f[le],D.writeUInt16(g);return{charMap:s,subtable:D.data,maxGlyphID:N+1}}},e}(),SG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new LD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,a;return r==null&&(r="macroman"),s=LD.encode(t,r),(a=new ef).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),e9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),t9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),r9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}.call(this)}},e}(),n9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},s9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,a,i,o,l,c,d,u,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=u=0,h=s.length;u<h;i=++u)a=s[i],t.pos=a.offset,d=t.readString(a.length),o=new n9e(d,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),a9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),i9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=a?d<a:d>a;r=0<=a?++d:--d)u.push(t.readInt16());return u}(),this.widths=function(){var d,u,h,p;for(p=[],d=0,u=(h=this.metrics).length;d<u;d++)i=h[d],p.push(i.advance);return p}.call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),_G=[].slice,o9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,a,i,o,l,c,d,u,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,o=(l=new ef(r.read(a))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new c9e(l,d,h,c,u):new l9e(l,o,d,h,c,u),this.cache[t]))},e.prototype.encode=function(t,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),l9e=function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),c9e=function(){function e(t,r,s,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new ef(_G.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),d9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return dd(e,mc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},e}(),u9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,l,c,d,u,h,p,f,y,g,v,b;for(a in s=SG.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},b=s.charMap)f[(c=b[a]).old]=c.new;for(y in p=s.maxGlyphID,o)y in f||(f[y]=p++);return u=function(S){var N,w;for(N in w={},S)w[S[N]]=N;return w}(f),h=Object.keys(u).sort(function(S,N){return S-N}),g=function(){var S,N,w;for(w=[],S=0,N=h.length;S<N;S++)l=h[S],w.push(u[l]);return w}(),i=this.font.glyf.encode(o,g,f),d=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(t.convert(s));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const h9e={async getPriceListItems(){try{const e=await fetch("/api/crm/price-list");if(!e.ok)return[];const t=await e.json();return Array.isArray(t)?t:[]}catch{return[]}},async createPriceListItem(e){try{const t=await fetch("/api/crm/price-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create price list item");return await t.json()}catch(t){throw t}},async updatePriceListItem(e,t){try{const r=await fetch(`/api/crm/price-list/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update price list item");return await r.json()}catch(r){throw console.error("Error updating price list item:",r),r}},async deletePriceListItem(e){try{if(!(await fetch(`/api/crm/price-list/${e}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete price list item")}catch(t){throw console.error("Error deleting price list item:",t),t}},async importPriceList(e){try{const t=await fetch("/api/crm/price-list/import",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({items:e})});if(!t.ok)throw new Error("Failed to import price list");return await t.json()||[]}catch(t){throw console.error("Error importing price list:",t),t}}},f9e=({isOpen:e,onClose:t,onSuccess:r,editingInvoice:s})=>{const[a,i]=_.useState(1),[o,l]=_.useState([]),[c,d]=_.useState([]),[u,h]=_.useState(""),[p,f]=_.useState(!1),[y,g]=_.useState(!1),[v,b]=_.useState(null),[S,N]=_.useState(!1),[w,C]=_.useState(""),[L,k]=_.useState([]),A=_.useRef(null),[P,B]=_.useState({client_id:"",due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],payment_terms:"Net 30",currency:"EUR",notes:"",discount_amount:0,items:[{id:"1",description:"",quantity:1,unit_price:0,tax_rate:19}]}),[T,I]=_.useState(!1),[M,D]=_.useState({payment_method:"cash",payment_reference:"",payment_notes:""}),[V,z]=_.useState(null),[X,q]=_.useState(!1),[Y,ie]=_.useState({subject:"",message:"",includeAttachment:!0}),W=[{id:1,title:"Client & Details",icon:Do},{id:2,title:"Line Items",icon:Hn},{id:3,title:"Payment & Terms",icon:Ty},{id:4,title:"Review & Create",icon:ts}];_.useEffect(()=>{e&&(Z(),F(),s&&ge())},[e,s]);const F=async()=>{try{const H=await h9e.getPriceListItems();k(H)}catch{k([])}};_.useEffect(()=>{const H=te=>{A.current&&!A.current.contains(te.target)&&f(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const Z=async()=>{try{g(!0),b(null);const H=await fetch("/api/crm/clients");if(!H.ok)throw new Error(`HTTP error! status: ${H.status}`);const te=await H.json();if(te&&te.length>0){const ye=te.map(Ce=>{const Pe=Ce.firstName||"",Ee=Ce.lastName||"",tt=(Ee||Pe?`${Ee}, ${Pe}`.replace(/^,\s*/,"").replace(/,\s*$/,""):"")||Ce.email||Ce.company||"Unnamed Client";return{id:Ce.id,name:tt,email:Ce.email||"",address1:Ce.address,city:Ce.city,country:Ce.country}});l(ye),d(ye)}else{const ye=de();l(ye),d(ye)}}catch{b("Failed to load clients from database");const te=de();l(te),d(te)}finally{g(!1)}},Q=H=>{if(h(H),!H.trim()){d(o);return}const te=o.filter(ye=>ye.name?.toLowerCase().includes(H.toLowerCase())||ye.email?.toLowerCase().includes(H.toLowerCase())||ye.address1&&ye.address1.toLowerCase().includes(H.toLowerCase())||ye.city&&ye.city.toLowerCase().includes(H.toLowerCase()));d(te)},ae=H=>{B(te=>({...te,client_id:H.id})),h(H.name),f(!1)},de=()=>[{id:"sample-1",name:"John Doe",email:"john.doe@example.com",address1:"123 Main Street",city:"Boston",country:"USA"},{id:"sample-2",name:"Jane Smith",email:"jane.smith@company.com",address1:"456 Oak Avenue",city:"Chicago",country:"USA"},{id:"sample-3",name:"Mike Johnson",email:"mike.johnson@test.com",address1:"789 Pine Street",city:"Miami",country:"USA"},{id:"sample-4",name:"Sarah Wilson",email:"sarah.wilson@demo.com",address1:"321 Elm Drive",city:"Seattle",country:"USA"},{id:"sample-5",name:"Robert Brown",email:"robert.brown@shop.com",address1:"654 Cedar Lane",city:"Portland",country:"USA"}],ge=()=>{},Se=H=>{const te=H.quantity*H.unit_price,ye=te*(H.tax_rate/100);return te+ye},J=()=>{const H=P.items.reduce((Pe,Ee)=>Pe+Ee.quantity*Ee.unit_price,0),te=P.items.reduce((Pe,Ee)=>Pe+Ee.quantity*Ee.unit_price*Ee.tax_rate/100,0),ye=P.discount_amount,Ce=H+te-ye;return{subtotal:H,totalTax:te,discount:ye,total:Ce}},he=()=>{const H={id:Date.now().toString(),description:"",quantity:1,unit_price:0,tax_rate:19};B(te=>({...te,items:[...te.items,H]}))},ee=H=>{P.items.length>1&&B(te=>({...te,items:te.items.filter(ye=>ye.id!==H)}))},le=(H,te)=>{B(ye=>({...ye,items:ye.items.map(Ce=>Ce.id===H?{...Ce,...te}:Ce)}))},ke=H=>{switch(H){case 1:return P.client_id!==""&&P.due_date!=="";case 2:return P.items.every(te=>te.description.trim()!==""&&te.quantity>0&&te.unit_price>=0);case 3:return P.payment_terms!=="";default:return!0}},Ne=()=>{ke(a)&&i(H=>Math.min(H+1,4))},G=()=>{i(H=>Math.max(H-1,1))},Ae=async()=>{try{g(!0),b(null);const H=P.items.reduce((Ve,tt)=>Ve+tt.quantity*tt.unit_price,0),te=P.items.reduce((Ve,tt)=>{const it=tt.quantity*tt.unit_price*(tt.tax_rate/100);return Ve+it},0),ye=H+te-P.discount_amount,Ce={clientId:P.client_id,issueDate:new Date().toISOString().split("T")[0],dueDate:P.due_date,subtotal:H.toString(),taxAmount:te.toString(),total:ye.toString(),status:T?"paid":"draft",notes:P.notes,termsAndConditions:P.payment_terms,items:P.items.map(Ve=>({description:Ve.description,quantity:Ve.quantity.toString(),unitPrice:Ve.unit_price.toString(),taxRate:Ve.tax_rate.toString()}))},Pe=await fetch("/api/crm/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(!Pe.ok){const Ve=await Pe.json();throw new Error(Ve.error||"Failed to create invoice")}const Ee=await Pe.json();if(z(Ee),T){const Ve={invoice_id:Ee.id,amount:ye,payment_method:M.payment_method,payment_reference:M.payment_reference,payment_date:new Date().toISOString().split("T")[0],notes:M.payment_notes};(await fetch("/api/crm/invoice-payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)})).ok}r(),t()}catch{b("Failed to create invoice. Please try again.")}finally{g(!1)}},ze=async()=>{if(V)try{g(!0);const H=await fetch(`/api/crm/invoices/${V.id}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!H.ok)throw new Error(`PDF generation failed: ${H.status}`);const te=await H.blob(),ye=window.URL.createObjectURL(te),Ce=document.createElement("a");Ce.style.display="none",Ce.href=ye,Ce.download=`Rechnung-${V.invoiceNumber||V.id}.pdf`,document.body.appendChild(Ce),Ce.click(),setTimeout(()=>{window.URL.revokeObjectURL(ye),document.body.removeChild(Ce)},100)}catch{b("PDF download failed. Please try again.")}finally{g(!1)}},Be=async()=>{if(V)try{g(!0);const H=await fetch(`/api/crm/invoices/${V.id}/email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!H.ok)throw new Error("Failed to send email");const te=await H.json();q(!1),alert("Invoice successfully sent by email!")}catch{b("Failed to send email. Please try again.")}finally{g(!1)}},qe=()=>{switch(a){case 1:return n.jsxs("div",{className:"space-y-6",children:["            ",n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Client * ",o.length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",o.length," clients available)"]})]}),n.jsxs("div",{className:"relative",ref:A,children:[n.jsx("input",{type:"text",value:u,onChange:H=>Q(H.target.value),onFocus:()=>f(!0),placeholder:y?"Loading clients...":"Search clients by name, email, or location...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!P.client_id,disabled:y}),p&&c.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:c.map(H=>n.jsxs("button",{type:"button",onClick:()=>ae(H),className:"w-full px-3 py-2 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:[n.jsx("div",{className:"font-medium text-gray-900",children:H.name}),n.jsx("div",{className:"text-sm text-gray-500",children:H.email}),H.city&&n.jsxs("div",{className:"text-xs text-gray-400",children:[H.city,H.country&&`, ${H.country}`]})]},H.id))}),p&&u&&c.length===0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3",children:n.jsxs("div",{className:"text-gray-500 text-center",children:['No clients found matching "',u,'"']})})]}),"              ",o.length===0&&!y&&n.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[n.jsx(Zr,{className:"inline w-4 h-4 mr-1"}),"No clients found. Using sample clients for demo."]}),n.jsx("div",{className:"mt-2",children:n.jsxs("button",{type:"button",onClick:()=>{alert("Quick client creation feature can be added here. For now, please go to the Clients page to add new clients.")},className:"text-sm text-purple-600 hover:text-purple-800 flex items-center",children:[n.jsx(Tr,{className:"w-4 h-4 mr-1"}),"Add New Client"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),n.jsx("input",{type:"date",value:P.due_date,onChange:H=>B(te=>({...te,due_date:H.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),n.jsxs("select",{value:P.currency,onChange:H=>B(te=>({...te,currency:H.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"EUR",children:"EUR (€)"}),n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"GBP",children:"GBP (£)"})]}),"              "]})]})]});case 2:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Items"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[n.jsx(rd,{size:16,className:"mr-1"}),"Price List"]}),n.jsxs("button",{onClick:he,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[n.jsx(Tr,{size:16,className:"mr-1"}),"Add Item"]}),"              "]})]}),n.jsx("div",{className:"space-y-3",children:P.items.map(H=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start",children:[n.jsxs("div",{className:"col-span-5",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),n.jsx("input",{type:"text",value:H.description,onChange:te=>le(H.id,{description:te.target.value}),placeholder:"Item description...",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),n.jsx("input",{type:"number",value:H.quantity,onChange:te=>le(H.id,{quantity:parseFloat(te.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",value:H.unit_price,onChange:te=>le(H.id,{unit_price:parseFloat(te.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tax %"}),n.jsx("input",{type:"number",value:H.tax_rate,onChange:te=>le(H.id,{tax_rate:parseFloat(te.target.value)||0}),min:"0",max:"100",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),n.jsx("div",{className:"col-span-1 flex items-end",children:n.jsx("button",{onClick:()=>ee(H.id),disabled:P.items.length===1,className:"p-2 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed",title:"Remove item",children:n.jsx(Ns,{size:16})})})]}),n.jsxs("div",{className:"mt-2 text-right text-sm text-gray-600",children:["Total: ",P.currency," ",(Se(H)||0).toFixed(2)]})]},H.id))}),n.jsx("div",{className:"border-t pt-4",children:n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Subtotal: ",P.currency," ",(J().subtotal||0).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Tax: ",P.currency," ",(J().totalTax||0).toFixed(2)]}),n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: ",P.currency," ",(J().total||0).toFixed(2),"                  "]})]})})})]});case 3:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms *"}),n.jsxs("select",{value:P.payment_terms,onChange:H=>B(te=>({...te,payment_terms:H.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[n.jsx("option",{value:"Net 15",children:"Net 15 (15 days)"}),n.jsx("option",{value:"Net 30",children:"Net 30 (30 days)"}),n.jsx("option",{value:"Net 60",children:"Net 60 (60 days)"}),n.jsx("option",{value:"Due on receipt",children:"Due on receipt"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount"}),n.jsx("input",{type:"number",value:P.discount_amount,onChange:H=>B(te=>({...te,discount_amount:parseFloat(H.target.value)||0})),min:"0",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"0.00"})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",id:"markAsPaid",checked:T,onChange:H=>I(H.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),n.jsx("label",{htmlFor:"markAsPaid",className:"ml-2 text-sm font-medium text-green-800",children:"💰 Client paid immediately - Mark invoice as PAID"})]}),T&&n.jsxs("div",{className:"space-y-4 border-t border-green-200 pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Method *"}),n.jsxs("select",{value:M.payment_method,onChange:H=>D(te=>({...te,payment_method:H.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Credit/Debit Card"}),n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"paypal",children:"PayPal"}),n.jsx("option",{value:"stripe",children:"Stripe"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Reference (Optional)"}),n.jsx("input",{type:"text",value:M.payment_reference,onChange:H=>D(te=>({...te,payment_reference:H.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Transaction ID, Check #, etc."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Notes (Optional)"}),n.jsx("textarea",{value:M.payment_notes,onChange:H=>D(te=>({...te,payment_notes:H.target.value})),rows:2,className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Additional payment details..."})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-800",children:["✅ This invoice will be marked as ",n.jsx("strong",{children:"PAID"})," and will appear as a completed sale in your dashboard and reports."]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx("textarea",{value:P.notes,onChange:H=>B(te=>({...te,notes:H.target.value})),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes for this invoice..."})]}),"          "]});case 4:{const H=J(),te=o.find(ye=>ye.id===P.client_id);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Details"}),n.jsx("p",{className:"text-gray-600",children:te?.name}),n.jsx("p",{className:"text-gray-600",children:te?.email})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Invoice Details"}),n.jsxs("p",{className:"text-gray-600",children:["Due Date: ",new Date(P.due_date).toLocaleDateString()]}),n.jsxs("p",{className:"text-gray-600",children:["Payment Terms: ",P.payment_terms]}),n.jsxs("p",{className:"text-gray-600",children:["Currency: ",P.currency]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Line Items"}),"                ",n.jsx("div",{className:"space-y-2",children:P.items.map(ye=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[ye.description," (x",ye.quantity,")"]}),n.jsxs("span",{children:[P.currency," ",(Se(ye)||0).toFixed(2)]})]},ye.id))})]}),n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"space-y-1 text-right",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{children:[P.currency," ",(H.subtotal||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tax:"}),n.jsxs("span",{children:[P.currency," ",(H.totalTax||0).toFixed(2)]})]}),H.discount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",P.currency," ",(H.discount||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:[P.currency," ",(H.total||0).toFixed(2)]})]})]})})]}),T&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"💰 Payment Details Preview"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Status:"}),n.jsx("span",{className:"font-semibold text-green-800",children:"PAID"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-green-800",children:[P.currency," ",(H.total||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Payment Method:"}),n.jsx("span",{className:"text-green-800 capitalize",children:M.payment_method.replace("_"," ")})]}),M.payment_reference&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Reference:"}),n.jsx("span",{className:"text-green-800",children:M.payment_reference})]}),n.jsx("div",{className:"mt-3 p-2 bg-green-100 rounded text-xs text-green-800",children:"✅ This sale will appear immediately in your dashboard revenue and reports"})]})]}),v&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:v})]}),"          "]})}default:return null}};return e?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[n.jsxs(Yf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Invoice":"Create New Invoice"}),n.jsxs("p",{className:"text-gray-600",children:["Step ",a," of ",W.length]})]}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(rs,{size:24})})]}),n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:W.map((H,te)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`
                  flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                  ${a>=H.id?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}
                `,children:a>H.id?n.jsx(ba,{size:16}):n.jsx(H.icon,{size:16})}),n.jsx("span",{className:`ml-2 text-sm font-medium ${a>=H.id?"text-purple-600":"text-gray-500"}`,children:H.title}),te<W.length-1&&n.jsx("div",{className:`w-12 h-px mx-4 ${a>H.id?"bg-purple-600":"bg-gray-300"}`})]},H.id))})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsx(q1,{mode:"wait",children:n.jsx(Yf.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:qe()},a)})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[n.jsxs("button",{onClick:G,disabled:a===1,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 disabled:text-gray-400 disabled:cursor-not-allowed",children:[n.jsx(Dv,{size:16,className:"mr-1"}),"Previous"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a<4?n.jsxs("button",{onClick:Ne,disabled:!ke(a),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Next",n.jsx(Hc,{size:16,className:"ml-1"})]}):n.jsx("div",{className:"flex space-x-2",children:V?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:ze,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(js,{size:16,className:"mr-2"}),"Download PDF"]}),n.jsxs("button",{onClick:()=>{const H=o.find(te=>te.id===P.client_id);ie({subject:`Rechnung ${V.invoiceNumber} - New Age Fotografie`,message:`Liebe/r ${H?.name},

anbei senden wir Ihnen Ihre Rechnung zu.

Mit freundlichen Grüßen,
New Age Fotografie Team`,includeAttachment:!0}),q(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(gl,{size:16,className:"mr-2"}),"Send Email"]})]}):n.jsx("button",{onClick:Ae,disabled:y,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ba,{size:16,className:"mr-2"}),"Create Invoice"]})})}),"          "]})]})]}),n.jsx(q1,{children:S&&n.jsx(Yf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",onClick:()=>N(!1),children:n.jsxs(Yf.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:H=>H.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select from Price List"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:20})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),n.jsxs("select",{value:w,onChange:H=>C(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"DIGITAL",children:"Digital Photos"}),n.jsx("option",{value:"PRINTS",children:"Print Products"}),n.jsx("option",{value:"SESSIONS",children:"Photo Sessions"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.length>0?L.map(H=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:H.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:H.description||"Professional photography service"}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("p",{className:"font-semibold text-purple-600",children:["€",(H.price||0).toFixed(2)]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:H.category})]}),n.jsx("button",{onClick:()=>{const te={id:Date.now().toString(),description:H.name+(H.description?` - ${H.description}`:""),quantity:1,unit_price:H.price||0,tax_rate:H.tax_rate||19};B(ye=>({...ye,items:[...ye.items,te]})),N(!1)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded text-sm",children:"Add to Invoice"})]},H.id)):n.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"Loading price list..."})})]})})}),n.jsx(q1,{children:X&&n.jsx(Yf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:n.jsx(Yf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ur,{className:"mr-2",size:20}),"Send Invoice by Email"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:Y.subject,onChange:H=>ie(te=>({...te,subject:H.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:Y.message,onChange:H=>ie(te=>({...te,message:H.target.value})),rows:4,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"includeAttachment",checked:Y.includeAttachment,onChange:H=>ie(te=>({...te,includeAttachment:H.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"includeAttachment",className:"ml-2 text-sm text-gray-700",children:"Include PDF attachment"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:Be,disabled:y,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gl,{size:16,className:"mr-2"}),"Send Email"]})})]})]})})})})]}):null},m9e=({invoice:e,companyInfo:t={name:"Your Company Name",address:"Your Company Address",email:"info@yourcompany.com",phone:"+49 123 456 789",website:"www.yourcompany.com"}})=>{const r=a=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e.currency}).format(a),s=a=>new Date(a).toLocaleDateString("de-DE");return n.jsxs("div",{className:"invoice-template max-w-4xl mx-auto bg-white p-8 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),n.jsxs("div",{className:"text-gray-600 space-y-1",children:[n.jsx("p",{children:t.address}),n.jsx("p",{children:t.email}),n.jsx("p",{children:t.phone}),t.website&&n.jsx("p",{children:t.website})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-600 mb-2",children:"INVOICE"}),n.jsxs("div",{className:"text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice #:"})," ",e.invoice_number]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",s(e.created_at)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Due Date:"})," ",s(e.due_date)]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bill To:"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:e.client_name}),n.jsx("p",{className:"text-gray-600",children:e.client_email}),e.client_address&&n.jsx("p",{className:"text-gray-600",children:e.client_address})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"text-left p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Description"}),n.jsx("th",{className:"text-center p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Qty"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Unit Price"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Tax Rate"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Total"})]})}),n.jsx("tbody",{children:e.items.map((a,i)=>n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("td",{className:"p-3 text-gray-900",children:a.description}),n.jsx("td",{className:"p-3 text-center text-gray-900",children:a.quantity}),n.jsx("td",{className:"p-3 text-right text-gray-900",children:r(a.unit_price)}),n.jsxs("td",{className:"p-3 text-right text-gray-900",children:[a.tax_rate,"%"]}),n.jsx("td",{className:"p-3 text-right text-gray-900",children:r(a.line_total)})]},i))})]})}),n.jsx("div",{className:"flex justify-end mb-8",children:n.jsx("div",{className:"w-64",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:r(e.subtotal_amount)})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Tax:"}),n.jsx("span",{children:r(e.tax_amount)})]}),e.discount_amount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",r(e.discount_amount)]})]}),n.jsx("div",{className:"border-t pt-2",children:n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:r(e.total_amount)})]})})]})})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Payment Terms"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-gray-700 mb-2",children:[n.jsx("strong",{children:"Payment Terms:"})," ",e.payment_terms]}),n.jsx("p",{className:"text-gray-700",children:"Payment is due within the specified terms. Late payments may be subject to additional charges."})]})]}),e.notes&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Notes"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsx("p",{className:"text-gray-700",children:e.notes})})]}),n.jsxs("div",{className:"border-t pt-6 text-center text-gray-500",children:[n.jsx("p",{children:"Thank you for your business!"}),n.jsxs("p",{className:"text-sm mt-2",children:["For questions about this invoice, please contact ",t.email]})]})]})};async function p9e(e){const{data:t,error:r}=await Kr.from("crm_invoices").select(`
      *,
      crm_clients(name, email, address1, city, country),
      crm_invoice_items(*),
      crm_invoice_payments(*)
    `).eq("id",e).single();if(r)throw r;return t}const g9e=({invoiceId:e,isOpen:t,onClose:r})=>{const[s,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{try{o(!0),c(null);const f=await p9e(e),y={invoice_number:f.invoice_number,client_name:f.crm_clients?.name||"Unknown Client",client_email:f.crm_clients?.email||"",client_address:[f.crm_clients?.address1,f.crm_clients?.city,f.crm_clients?.country].filter(Boolean).join(", "),due_date:f.due_date,created_at:f.created_at,currency:f.currency||"EUR",payment_terms:f.payment_terms||"Net 30",notes:f.notes,subtotal_amount:f.subtotal_amount||0,tax_amount:f.tax_amount||0,discount_amount:f.discount_amount||0,total_amount:f.total_amount||0,items:f.crm_invoice_items?.map(g=>({description:g.description,quantity:g.quantity,unit_price:g.unit_price,tax_rate:g.tax_rate,line_total:g.line_total}))||[]};a(y)}catch{c("Failed to load invoice")}finally{o(!1)}},u=()=>{window.print()},h=async()=>{window.print()},p=async()=>{alert("Email functionality would be integrated here")};return t?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 print:hidden",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Preview"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(gl,{size:16,className:"mr-2"}),"Send"]}),n.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(js,{size:16,className:"mr-2"}),"PDF"]}),n.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(aee,{size:16,className:"mr-2"}),"Print"]}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(rs,{size:24})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:i?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoice..."})]}):l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-2",children:l}),n.jsx("button",{onClick:d,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retry"})]})}):s?n.jsx(m9e,{invoice:s}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-gray-600",children:"No invoice data available"})})})]}),n.jsx("style",{children:`
        @media print {
          .print\\:hidden {
            display: none !important;
          }
          
          body * {
            visibility: hidden;
          }
          
          .invoice-template, .invoice-template * {
            visibility: visible;
          }
          
          .invoice-template {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
        }
      `})]}):null},x9e=({invoiceId:e,invoiceTotal:t,currency:r,isOpen:s,onClose:a,onPaymentAdded:i})=>{const[o,l]=_.useState([]),[c,d]=_.useState(!0),[u,h]=_.useState(null),[p,f]=_.useState(!1),[y,g]=_.useState({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""});_.useEffect(()=>{s&&v()},[s,e]);const v=async()=>{try{d(!0);const k=await fetch(`/api/crm/invoices/${e}/payments`,{credentials:"include"});if(!k.ok)throw new Error("Failed to fetch payments");const A=await k.json();l(A||[])}catch{h("Failed to load payments")}finally{d(!1)}},b=async()=>{try{if(d(!0),h(null),!(await fetch(`/api/crm/invoices/${e}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(y)})).ok)throw new Error("Failed to add payment");g({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),f(!1),await v(),i()}catch{h("Failed to add payment")}finally{d(!1)}},S=async k=>{if(confirm("Are you sure you want to delete this payment?"))try{if(d(!0),!(await fetch(`/api/crm/invoices/${e}/payments/${k}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete payment");await v(),i()}catch{h("Failed to delete payment")}finally{d(!1)}},N=o.reduce((k,A)=>k+A.amount,0),w=t-N,C=k=>new Intl.NumberFormat("de-DE",{style:"currency",currency:r}).format(k),L=k=>({bank_transfer:"Bank Transfer",credit_card:"Credit Card",paypal:"PayPal",stripe:"Stripe",cash:"Cash",check:"Check"})[k]||k;return s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Tracker"}),n.jsx("p",{className:"text-gray-600",children:"Track payments for this invoice"})]}),n.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(rs,{size:24})})]}),n.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rc,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Total"}),n.jsx("p",{className:"text-lg font-semibold",children:C(t)})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rc,{className:"h-8 w-8 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Paid"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:C(N)})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(rc,{className:"h-8 w-8 text-red-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"}),n.jsx("p",{className:"text-lg font-semibold text-red-600",children:C(w)})]})]})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment History"}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Add Payment"]})]}),u&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),p&&n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Add New Payment"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),n.jsx("input",{type:"number",value:y.amount,onChange:k=>g(A=>({...A,amount:parseFloat(k.target.value)||0})),step:"0.01",min:"0",max:w,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Max: ${C(w)}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsxs("select",{value:y.payment_method,onChange:k=>g(A=>({...A,payment_method:k.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"credit_card",children:"Credit Card"}),n.jsx("option",{value:"paypal",children:"PayPal"}),n.jsx("option",{value:"stripe",children:"Stripe"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"check",children:"Check"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date *"}),n.jsx("input",{type:"date",value:y.payment_date,onChange:k=>g(A=>({...A,payment_date:k.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference"}),n.jsx("input",{type:"text",value:y.payment_reference,onChange:k=>g(A=>({...A,payment_reference:k.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Transaction ID, Check #, etc."})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{value:y.notes,onChange:k=>g(A=>({...A,notes:k.target.value})),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes about this payment..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:c||y.amount<=0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400",children:c?"Adding...":"Add Payment"})]})]}),c&&!p?n.jsxs("div",{className:"flex items-center justify-center h-32",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payments..."})]}):o.length>0?n.jsx("div",{className:"space-y-4",children:o.map(k=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ty,{className:"h-5 w-5 text-gray-400 mr-2"}),n.jsx("span",{className:"font-medium text-gray-900",children:C(k.amount)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{className:"h-4 w-4 text-gray-400 mr-1"}),n.jsx("span",{className:"text-sm text-gray-600",children:new Date(k.payment_date).toLocaleDateString()})]}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:L(k.payment_method)})]}),k.payment_reference&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ref: ",k.payment_reference]}),k.notes&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.notes})]}),n.jsx("button",{onClick:()=>S(k.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete payment",children:n.jsx(Ns,{size:16})})]})},k.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Ty,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"No payments recorded yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add the first payment to get started"})]})]})]})}):null},y9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,d]=_.useState(!0),[u,h]=_.useState(null),[p,f]=_.useState(!1),[y,g]=_.useState(null),[v,b]=_.useState(null),[S,N]=_.useState(null);_.useEffect(()=>{w()},[]),_.useEffect(()=>{C()},[e,a,o]);const w=async()=>{try{d(!0),h(null);const M=await fetch("/api/crm/invoices",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch invoices");const V=(await M.json()).map(z=>({id:z.id,invoice_number:z.invoice_number,client_id:z.client_id,client_name:z.client_name||"Unknown Client",amount:parseFloat(z.subtotal||0),tax_amount:parseFloat(z.tax_amount||0),total_amount:parseFloat(z.total||0),status:z.status?.toLowerCase()||"pending",due_date:z.due_date,paid_date:null,notes:z.notes||"",created_at:z.created_at}));t(V||[])}catch{h("Failed to load invoices. Please try again.")}finally{d(!1)}},C=()=>{let M=[...e];a&&e.length>0&&(M=M.filter(D=>(D.invoice_number||"").toLowerCase().includes(a.toLowerCase())||(D.client_name||"").toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(M=M.filter(D=>D.status===o)),s(M)},L=async M=>{try{if(d(!0),!(await fetch(`/api/crm/invoices/${M}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete invoice");t(V=>V.filter(z=>z.id!==M)),N(null)}catch{h("Failed to delete invoice. Please try again.")}finally{d(!1)}},k=async(M,D)=>{try{d(!0);const V={status:D};if(D==="paid"&&(V.paid_date=new Date().toISOString().split("T")[0]),!(await fetch(`/api/crm/invoices/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(V)})).ok)throw new Error("Failed to update invoice status");t(X=>X.map(q=>q.id===M?{...q,status:D,paid_date:D==="paid"?new Date().toISOString().split("T")[0]:q.paid_date}:q))}catch{h("Failed to update invoice status. Please try again.")}finally{d(!1)}},A=M=>{const V={draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},sent:{bg:"bg-blue-100",text:"text-blue-800",label:"Sent"},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid"},overdue:{bg:"bg-red-100",text:"text-red-800",label:"Overdue"},cancelled:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Cancelled"}}[M]||{bg:"bg-gray-100",text:"text-gray-800",label:M||"Unknown"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V.bg} ${V.text}`,children:V.label})},P=(M,D)=>D!=="paid"&&new Date(M)<new Date,B=async M=>{try{const D=await fetch(`/api/crm/invoices/${M}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!D.ok)throw new Error(`PDF generation failed: ${D.status}`);const V=await D.blob(),z=window.URL.createObjectURL(V),X=document.createElement("a");X.style.display="none",X.href=z,X.download=`Invoice-${M}.pdf`,document.body.appendChild(X),X.click(),setTimeout(()=>{window.URL.revokeObjectURL(z),document.body.removeChild(X)},100)}catch{alert("PDF download failed. Please try again.")}},I=(()=>{if(!r||r.length===0)return{totalAmount:0,paidAmount:0,overdueAmount:0};const M=r.reduce((z,X)=>z+(X.total_amount||0),0),D=r.filter(z=>z.status==="paid").reduce((z,X)=>z+(X.total_amount||0),0),V=r.filter(z=>z.status==="overdue").reduce((z,X)=>z+(X.total_amount||0),0);return{totalAmount:M,paidAmount:D,overdueAmount:V}})();return n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Invoices Management"}),n.jsx("p",{className:"text-gray-600",children:"Create, send, and track client invoices"})]}),"          ",n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),"Create Invoice"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Hn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoiced"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(I.totalAmount||0).toFixed(2)]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(rc,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(I.paidAmount||0).toFixed(2)]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(an,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Amount"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(I.overdueAmount||0).toFixed(2)]})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:M=>i(M.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"sent",children:"Sent"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"overdue",children:"Overdue"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Hh,{size:20,className:"mr-2"}),"More Filters"]})]})}),u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:u})]}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoices..."})]}):r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(M=>n.jsxs("tr",{className:`hover:bg-gray-50 ${P(M.due_date,M.status)?"bg-red-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.invoice_number}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Created ",new Date(M.created_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.client_name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["€",(M.total_amount||0).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["€",(M.amount||0).toFixed(2)," + €",(M.tax_amount||0).toFixed(2)," tax"]})]}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A(M.status)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:`text-sm ${P(M.due_date,M.status)?"text-red-600 font-medium":"text-gray-900"}`,children:new Date(M.due_date).toLocaleDateString()}),M.paid_date&&n.jsxs("div",{className:"text-sm text-green-600",children:["Paid ",new Date(M.paid_date).toLocaleDateString()]})]}),"                      ",n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["                        ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(M.id),className:"text-blue-600 hover:text-blue-900",title:"View",children:n.jsx(ts,{size:16})}),"                          ",n.jsx("button",{onClick:()=>k(M.id,M.status==="draft"?"sent":M.status==="sent"?"paid":"draft"),className:"text-green-600 hover:text-green-900",title:"Change Status",children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>b({id:M.id,total:M.total_amount||0,currency:"EUR"}),className:"text-purple-600 hover:text-purple-900",title:"Track Payments",children:n.jsx(rc,{size:16})}),n.jsx("button",{onClick:()=>B(M.id),className:"text-indigo-600 hover:text-indigo-900",title:"Download PDF",children:n.jsx(js,{size:16})}),M.status==="draft"&&n.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Send",children:n.jsx(gl,{size:16})}),n.jsx("button",{onClick:()=>N(M.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(Ns,{size:16})})]})]})]},M.id))})]})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No invoices found matching your criteria."})})})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>S&&L(S),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),"      ",v&&n.jsx(x9e,{invoiceId:v.id,invoiceTotal:v.total,currency:v.currency,isOpen:!!v,onClose:()=>b(null),onPaymentAdded:()=>{w()}}),y&&n.jsx(g9e,{invoiceId:y,isOpen:!!y,onClose:()=>g(null)}),n.jsx(f9e,{isOpen:p,onClose:()=>f(!1),onSuccess:()=>{w(),f(!1)}})]})},ID=()=>{const{t:e}=wa(),[t,r]=_.useState([]),[s,a]=_.useState([]),[i,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState("created_at"),[h,p]=_.useState("desc"),[f,y]=_.useState("grid"),[g,v]=_.useState(!0),[b,S]=_.useState(null),[N,w]=_.useState(new Set),[C,L]=_.useState(!1),[k,A]=_.useState(!1),[P,B]=_.useState(null),[T,I]=_.useState({}),[M,D]=_.useState(0),[V,z]=_.useState(""),[X,q]=_.useState(null);_.useEffect(()=>{Y()},[]),_.useEffect(()=>{ie()},[t,i,l,d,h]);const Y=async()=>{try{v(!0),S(null);const ee=await fetch("/api/files");if(!ee.ok)throw new Error(`API error: ${ee.status}`);const le=await ee.json();r(le||[])}catch(ee){console.error("Files fetch error:",ee),S(ee.message||"Failed to load files. Please check API connection.")}finally{v(!1)}},ie=_.useCallback(()=>{let ee=[...t];if(i.trim()){const le=i.toLowerCase();ee=ee.filter(ke=>ke.original_filename.toLowerCase().includes(le)||ke.keywords?.some(Ne=>Ne.toLowerCase().includes(le))||ke.description?.toLowerCase().includes(le))}l!=="all"&&(ee=ee.filter(le=>le.category===l)),ee.sort((le,ke)=>{let Ne,G;switch(d){case"filename":Ne=le.original_filename.toLowerCase(),G=ke.original_filename.toLowerCase();break;case"size":Ne=le.file_size,G=ke.file_size;break;case"rating":Ne=le.rating||0,G=ke.rating||0;break;case"views":Ne=le.view_count||0,G=ke.view_count||0;break;default:Ne=new Date(le.created_at).getTime(),G=new Date(ke.created_at).getTime()}return h==="asc"?Ne<G?-1:Ne>G?1:0:Ne>G?-1:Ne<G?1:0}),a(ee)},[t,i,l,d,h]),W=async ee=>{if(ee.length){if(!V.trim()){S("Please enter a folder name to organize your files.");return}try{D(0);const{data:{user:le},error:ke}=await supabase.auth.getUser();if(ke||!le){S("Authentication required for file upload.");return}const Ne=ee.length;let G=0;const Ae=V.trim().replace(/[^a-zA-Z0-9\-_\s]/g,"").replace(/\s+/g,"_");for(const ze of Array.from(ee)){const Be=`${Date.now()}-${ze.name}`,qe=`${Ae}/${Be}`,{data:H,error:te}=await supabase.storage.from("digital-files").upload(qe,ze);if(te)throw new Error(`Storage upload failed: ${te.message}. Please ensure the 'digital-files' storage bucket exists.`);const ye=await F(ze),Ce={filename:Be,original_filename:ze.name,file_size:ze.size,mime_type:ze.type,file_path:H.path,category:Z(ze.type),is_public:!1,uploaded_by:le.id,location:Ae,...ye},{error:Pe}=await supabase.from("digital_files").insert(Ce);if(Pe)throw new Error(`Database error: ${Pe.message}. Please ensure the 'digital_files' table exists.`);G++,D(G/Ne*100)}await Y(),L(!1),D(0),z(""),q(null)}catch(le){S(le.message||"Failed to upload files. Please try again.")}}},F=async ee=>ee.type.startsWith("image/")?new Promise(le=>{const ke=new Image;ke.onload=()=>{le({width:ke.width,height:ke.height})},ke.onerror=()=>le({}),ke.src=URL.createObjectURL(ee)}):{},Z=ee=>ee.startsWith("image/")?"image":ee.startsWith("video/")?"video":ee.startsWith("audio/")?"audio":ee.includes("pdf")?"document":ee.includes("zip")||ee.includes("rar")?"archive":"other",Q=async(ee,le)=>{try{const{error:ke}=await supabase.from("digital_files").update({description:le.description,keywords:le.keywords,copyright:le.copyright,rating:le.rating}).eq("id",ee);if(ke)throw ke;await Y(),A(!1)}catch{S("Failed to update metadata. Please try again.")}},ae=ee=>{const le=new Set(N);le.has(ee)?le.delete(ee):le.add(ee),w(le)},de=()=>{N.size===s.length?w(new Set):w(new Set(s.map(ee=>ee.id)))},ge=async ee=>{if(N.size!==0)try{const le=Array.from(N);switch(ee){case"delete":for(const ke of le){const Ne=t.find(G=>G.id===ke);Ne&&(await supabase.storage.from("digital-files").remove([Ne.file_path]),await supabase.from("digital_files").delete().eq("id",ke))}break;case"favorite":await supabase.from("digital_files").update({is_favorite:!0}).in("id",le);break;case"unfavorite":await supabase.from("digital_files").update({is_favorite:!1}).in("id",le);break;case"public":await supabase.from("digital_files").update({is_public:!0}).in("id",le);break;case"private":await supabase.from("digital_files").update({is_public:!1}).in("id",le);break}await Y(),w(new Set)}catch{S("Failed to perform action. Please try again.")}},Se=(ee,le=20)=>ee.startsWith("image/")?n.jsx(Wa,{size:le}):ee.startsWith("video/")?n.jsx(_ee,{size:le}):ee.startsWith("audio/")?n.jsx(eee,{size:le}):ee.includes("pdf")?n.jsx(Hn,{size:le}):ee.includes("zip")||ee.includes("rar")?n.jsx(l_,{size:le}):n.jsx(LJ,{size:le}),J=ee=>{if(ee===0)return"0 Bytes";const le=1024,ke=["Bytes","KB","MB","GB"],Ne=Math.floor(Math.log(ee)/Math.log(le));return parseFloat((ee/Math.pow(le,Ne)).toFixed(2))+" "+ke[Ne]},he=(ee=0)=>n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(le=>n.jsx(Mo,{size:16,className:`${le<=ee?"text-yellow-400 fill-current":"text-gray-300"}`},le))});return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.digitalFiles")}),n.jsx("p",{className:"text-gray-600",children:"Professional digital asset management with IPTC metadata support"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>L(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),e("file.upload")]}),n.jsx("button",{onClick:()=>y(f==="grid"?"list":"grid"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center",children:f==="grid"?n.jsx(yR,{size:20}):n.jsx(pR,{size:20})})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ha,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",placeholder:e("action.search")+" files...",value:i,onChange:ee=>o(ee.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("select",{value:l,onChange:ee=>c(ee.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsxs("option",{value:"all",children:[e("common.all")," Categories"]}),n.jsx("option",{value:"image",children:"Images"}),n.jsx("option",{value:"video",children:"Videos"}),n.jsx("option",{value:"document",children:"Documents"}),n.jsx("option",{value:"audio",children:"Audio"}),n.jsx("option",{value:"archive",children:"Archives"}),n.jsx("option",{value:"other",children:"Other"})]}),n.jsxs("select",{value:d,onChange:ee=>u(ee.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsx("option",{value:"created_at",children:e("common.date")}),n.jsx("option",{value:"filename",children:"Filename"}),n.jsx("option",{value:"size",children:"File Size"}),n.jsx("option",{value:"rating",children:"Rating"}),n.jsx("option",{value:"views",children:"Views"})]}),n.jsxs("button",{onClick:()=>p(h==="asc"?"desc":"asc"),className:"flex items-center justify-center border border-gray-300 rounded-md px-3 py-2 hover:bg-gray-50",children:[h==="asc"?n.jsx(jJ,{size:16}):n.jsx(wJ,{size:16}),n.jsx("span",{className:"ml-2",children:h==="asc"?"Ascending":"Descending"})]})]})}),N.size>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800 font-medium",children:[N.size," file",N.size!==1?"s":""," selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>ge("favorite"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(Tn,{size:14,className:"mr-1"}),"Favorite"]}),n.jsxs("button",{onClick:()=>ge("public"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(Mh,{size:14,className:"mr-1"}),"Make Public"]}),n.jsxs("button",{onClick:()=>ge("delete"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(Ns,{size:14,className:"mr-1"}),e("action.delete")]})]})]})}),b&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:b})]}),g?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:e("message.loading")})]}):s.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsxs("button",{onClick:de,className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[N.size===s.length?n.jsx(c_,{size:16,className:"mr-2"}):n.jsx(jP,{size:16,className:"mr-2"}),"Select All (",s.length,")"]})}),f==="grid"?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:s.map(ee=>n.jsx("div",{className:`bg-white rounded-lg shadow-sm border-2 transition-all duration-200 hover:shadow-md ${N.has(ee.id)?"border-purple-500 bg-purple-50":"border-gray-200"}`,children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("button",{onClick:()=>ae(ee.id),className:"p-1 hover:bg-gray-100 rounded",children:N.has(ee.id)?n.jsx(c_,{size:16,className:"text-purple-600"}):n.jsx(jP,{size:16,className:"text-gray-400"})}),ee.is_favorite&&n.jsx(Tn,{size:16,className:"text-red-500 fill-current"})]}),n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:ee.mime_type.startsWith("image/")?n.jsx("img",{src:`undefined/storage/v1/object/public/digital-files/${ee.file_path}`,alt:ee.original_filename,className:"w-full h-full object-cover",loading:"lazy"}):n.jsx("div",{className:"text-gray-400",children:Se(ee.mime_type,48)})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium truncate",title:ee.original_filename,children:ee.original_filename}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsx("span",{children:J(ee.file_size)}),ee.width&&ee.height&&n.jsxs("span",{children:[ee.width,"×",ee.height]})]}),ee.rating&&n.jsx("div",{className:"flex items-center",children:he(ee.rating)}),n.jsxs("div",{className:"flex space-x-1 pt-2",children:[n.jsxs("button",{onClick:()=>{},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs flex items-center justify-center",children:[n.jsx(ts,{size:12,className:"mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>{B(ee),A(!0)},className:"flex-1 bg-purple-100 hover:bg-purple-200 text-purple-700 px-2 py-1 rounded text-xs flex items-center justify-center",children:[n.jsx(vP,{size:12,className:"mr-1"}),"IPTC"]})]})]})]})},ee.id))}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:N.size===s.length,onChange:de,className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dimensions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Camera"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(ee=>n.jsxs("tr",{className:N.has(ee.id)?"bg-purple-50":"",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:N.has(ee.id),onChange:()=>ae(ee.id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:ee.mime_type.startsWith("image/")?n.jsx("img",{src:`undefined/storage/v1/object/public/digital-files/${ee.file_path}`,alt:ee.original_filename,className:"h-10 w-10 object-cover rounded"}):n.jsx("div",{className:"h-10 w-10 bg-gray-100 rounded flex items-center justify-center",children:Se(ee.mime_type,24)})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center",children:[ee.original_filename,ee.is_favorite&&n.jsx(Tn,{size:14,className:"ml-2 text-red-500 fill-current"})]}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(ee.created_at).toLocaleDateString()})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:J(ee.file_size)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee.width&&ee.height?`${ee.width}×${ee.height}`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee.rating?he(ee.rating):"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ee.camera_make&&ee.camera_model?`${ee.camera_make} ${ee.camera_model}`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{},className:"text-purple-600 hover:text-purple-900",children:n.jsx(ts,{size:16})}),n.jsx("button",{onClick:()=>{B(ee),A(!0)},className:"text-blue-600 hover:text-blue-900",children:n.jsx(vP,{size:16})}),n.jsx("button",{onClick:()=>{},className:"text-green-600 hover:text-green-900",children:n.jsx(js,{size:16})})]})})]},ee.id))})]})})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx(Hn,{size:48})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:e("message.noData")}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your first digital asset to get started."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>L(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Tr,{className:"-ml-1 mr-2 h-5 w-5"}),e("file.upload")]})})]}),C&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e("file.upload")}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(DJ,{className:"inline h-4 w-4 mr-1"}),"Folder Name *"]}),n.jsx("input",{type:"text",value:V,onChange:ee=>z(ee.target.value),placeholder:"Enter folder name (e.g., 'Client Photos', 'Wedding 2024')",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 text-sm",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Files will be organized in this folder for better management"})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,onChange:ee=>ee.target.files&&q(ee.target.files),className:"hidden",id:"file-upload",accept:"image/*,video/*,.pdf,.doc,.docx,.txt"}),n.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[n.jsx(Ri,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Images, videos, documents up to 50MB"})]})]}),X&&X.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected files (",X.length,"):"]}),n.jsx("div",{className:"max-h-24 overflow-y-auto text-xs text-gray-600",children:Array.from(X).map((ee,le)=>n.jsxs("div",{className:"py-1",children:[ee.name," (",(ee.size/1024/1024).toFixed(1)," MB)"]},le))})]}),M>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Uploading... ",M.toFixed(0),"%"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>{L(!1),z(""),q(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),X&&X.length>0&&n.jsxs("button",{onClick:()=>W(X),disabled:!V.trim()||M>0,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center",children:[n.jsx(Ri,{className:"h-4 w-4 mr-1"}),'Upload to "',V.trim(),'"']})]})]})}),k&&P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["IPTC Metadata - ",P.original_filename]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),n.jsx("input",{type:"text",value:T.title||"",onChange:ee=>I({...T,title:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{rows:3,value:T.description||"",onChange:ee=>I({...T,description:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),n.jsx("input",{type:"text",placeholder:"Separate with commas",value:T.keywords?.join(", ")||"",onChange:ee=>I({...T,keywords:ee.target.value.split(",").map(le=>le.trim()).filter(le=>le)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Copyright"}),n.jsx("input",{type:"text",value:T.copyright||"",onChange:ee=>I({...T,copyright:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rating"}),n.jsxs("select",{value:T.rating||0,onChange:ee=>I({...T,rating:parseInt(ee.target.value)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsx("option",{value:0,children:"No Rating"}),n.jsx("option",{value:1,children:"1 Star"}),n.jsx("option",{value:2,children:"2 Stars"}),n.jsx("option",{value:3,children:"3 Stars"}),n.jsx("option",{value:4,children:"4 Stars"}),n.jsx("option",{value:5,children:"5 Stars"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Location Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),n.jsx("input",{type:"text",value:T.location||"",onChange:ee=>I({...T,location:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),n.jsx("input",{type:"text",value:T.city||"",onChange:ee=>I({...T,city:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State/Province"}),n.jsx("input",{type:"text",value:T.state||"",onChange:ee=>I({...T,state:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),n.jsx("input",{type:"text",value:T.country||"",onChange:ee=>I({...T,country:ee.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]})]})]})]}),P.camera_make&&n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Camera Information"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[P.camera_make&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Camera:"}),n.jsxs("div",{className:"font-medium",children:[P.camera_make," ",P.camera_model]})]}),P.lens_model&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Lens:"}),n.jsx("div",{className:"font-medium",children:P.lens_model})]}),P.focal_length&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Focal Length:"}),n.jsx("div",{className:"font-medium",children:P.focal_length})]}),P.aperture&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Aperture:"}),n.jsx("div",{className:"font-medium",children:P.aperture})]}),P.shutter_speed&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Shutter:"}),n.jsx("div",{className:"font-medium",children:P.shutter_speed})]}),P.iso&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"ISO:"}),n.jsx("div",{className:"font-medium",children:P.iso})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),n.jsxs("button",{onClick:()=>Q(P.id,T),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:[e("action.save")," Metadata"]})]})]})})]})})};async function v9e(e){const{data:t,error:r}=await Kr.from("email_campaigns").insert([e]).select().single();if(r)throw r;return t}async function b9e(e,t){const{data:r,error:s}=await Kr.from("email_campaigns").update(t).eq("id",e).select().single();if(s)throw s;return r}async function w9e(e){const{data:t,error:r}=await Kr.from("email_sequences").insert([e]).select().single();if(r)throw r;return t}async function j9e(){const{data:e,error:t}=await Kr.from("email_sequences").select("*, emails:sequence_emails(*)").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function N9e(){const{data:e,error:t}=await Kr.from("email_segments").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function S9e(e){let t=Kr.from("email_templates").select("*");const{data:r,error:s}=await t.order("created_at",{ascending:!1});if(s)throw s;return r||[]}async function _9e(e="month"){const t=await fetch(`/api/email/analytics/overall?period=${e}`);if(!t.ok)throw new Error("Failed to fetch overall analytics");return t.json()}async function A9e(e){const t=await fetch("/api/email/ai/insights");if(!t.ok)throw new Error("Failed to fetch AI insights");return t.json()}async function k9e(e){const t=await fetch("/api/email/ai/recommendations");if(!t.ok)throw new Error("Failed to fetch AI recommendations");return t.json()}async function C9e(e,t){const r=await fetch("/api/email/ai/subject-lines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,audience:t})});if(!r.ok)throw new Error("Failed to generate subject lines");return(await r.json()).suggestions}async function P9e(e){const t=await fetch(`/api/email/ai/predict-engagement/${e}`);if(!t.ok)throw new Error("Failed to predict engagement");return t.json()}const T9e=({campaign:e,onSave:t,onCancel:r})=>{const[s,a]=_.useState("content"),[i,o]=_.useState({name:"",type:"broadcast",subject:"",preview_text:"",content:"",sender_name:"New Age Fotografie",sender_email:"info@newagefotografie.com",reply_to:"info@newagefotografie.com",status:"draft",segments:[],tags_include:[],tags_exclude:[],ab_test:{enabled:!1,test_type:"subject",variants:[],winner_criteria:"open_rate",test_duration_hours:24,traffic_split:50},send_time_optimization:!1,frequency_capping:{enabled:!1,max_emails_per_day:1,max_emails_per_week:3,max_emails_per_month:12,respect_user_preferences:!0},deliverability_settings:{use_dedicated_ip:!1,ip_warming:!1,domain_authentication:{spf:!0,dkim:!0,dmarc:!0},reputation_monitoring:!0,bounce_handling:"automatic",complaint_handling:"automatic"},compliance_settings:{gdpr_compliant:!0,can_spam_compliant:!0,auto_unsubscribe_link:!0,subscription_preferences:!0,data_retention_days:365,consent_tracking:!0},...e}),[l,c]=_.useState([]),[d,u]=_.useState([]),[h,p]=_.useState([]),[f,y]=_.useState(null),[g,v]=_.useState(!1),[b,S]=_.useState(!1);_.useEffect(()=>{N()},[]);const N=async()=>{try{v(!0);const[D,V]=await Promise.all([S9e(),N9e()]);c(D),u(V)}catch{}finally{v(!1)}},w=async()=>{if(i.content)try{const D=await C9e(i.content,"photography clients");p(D)}catch{}},C=async()=>{if(i.id)try{const D=await P9e(i.id);y(D)}catch{}},L=async(D=!1)=>{try{S(!0);const V={...i,status:D?"sending":i.status,updated_at:new Date().toISOString()};let z;e?.id?z=await b9e(e.id,V):z=await v9e({...V,created_at:new Date().toISOString()}),t(z)}catch{}finally{S(!1)}},k=D=>{o(V=>({...V,...D}))},A=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:D=>k({name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter campaign name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Type"}),n.jsxs("select",{value:i.type,onChange:D=>k({type:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"broadcast",children:"Broadcast"}),n.jsx("option",{value:"drip",children:"Drip Campaign"}),n.jsx("option",{value:"trigger",children:"Trigger-based"}),n.jsx("option",{value:"rss",children:"RSS Campaign"}),n.jsx("option",{value:"transactional",children:"Transactional"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject Line *"}),n.jsxs("button",{onClick:w,className:"flex items-center text-sm text-purple-600 hover:text-purple-700",children:[n.jsx(Mg,{size:16,className:"mr-1"}),"AI Suggestions"]})]}),n.jsx("input",{type:"text",value:i.subject,onChange:D=>k({subject:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter subject line"}),h.length>0&&n.jsxs("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800 mb-2",children:"AI Suggestions:"}),n.jsx("div",{className:"space-y-1",children:h.map((D,V)=>n.jsx("button",{onClick:()=>k({subject:D}),className:"block w-full text-left text-sm text-purple-700 hover:text-purple-900 hover:bg-purple-100 px-2 py-1 rounded",children:D},V))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Text"}),n.jsx("input",{type:"text",value:i.preview_text,onChange:D=>k({preview_text:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Text shown in email preview"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Template"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.slice(0,6).map(D=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500 hover:shadow-md transition-all",onClick:()=>k({content:D.html_content,design_template:D.id}),children:[n.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-2 flex items-center justify-center",children:n.jsx(to,{size:24,className:"text-gray-400"})}),n.jsx("h4",{className:"font-medium text-sm",children:D.name}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:D.category})]},D.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Content"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(mR,{size:16,className:"mr-1"}),"HTML"]}),n.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(ts,{size:16,className:"mr-1"}),"Preview"]})]})]}),n.jsx("textarea",{value:i.content,onChange:D=>k({content:D.target.value}),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 font-mono text-sm",placeholder:"Enter your email HTML content..."})]})]}),P=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(fA,{size:20,className:"text-blue-600 mr-2"}),n.jsx("h3",{className:"font-medium text-blue-900",children:"Audience Targeting"})]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Define who should receive this campaign. You can combine segments, tags, and custom filters."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segments"}),n.jsx("div",{className:"space-y-2",children:d.map(D=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:i.segments?.includes(D.id)||!1,onChange:V=>{const z=i.segments||[],X=V.target.checked?[...z,D.id]:z.filter(q=>q!==D.id);k({segments:X})},className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:D.name}),n.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",D.subscriber_count," subscribers)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:D.description})]})]},D.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Tags"}),n.jsx("input",{type:"text",placeholder:"Add tags to include (comma-separated)",value:i.tags_include?.join(", ")||"",onChange:D=>k({tags_include:D.target.value.split(",").map(V=>V.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Tags"}),n.jsx("input",{type:"text",placeholder:"Add tags to exclude (comma-separated)",value:i.tags_exclude?.join(", ")||"",onChange:D=>k({tags_exclude:D.target.value.split(",").map(V=>V.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Estimated Audience"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Based on your targeting criteria"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2,847"}),n.jsx("div",{className:"text-sm text-gray-500",children:"subscribers"})]})]})})]}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sender Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Name"}),n.jsx("input",{type:"text",value:i.sender_name,onChange:D=>k({sender_name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Email"}),n.jsx("input",{type:"email",value:i.sender_email,onChange:D=>k({sender_email:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Send Time Optimization"}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:i.send_time_optimization,onChange:D=>k({send_time_optimization:D.target.checked}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Use AI-powered send time optimization"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Automatically send emails at the optimal time for each subscriber"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frequency Capping"}),n.jsxs("label",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.frequency_capping?.enabled,onChange:D=>k({frequency_capping:{...i.frequency_capping,enabled:D.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsx("span",{className:"font-medium",children:"Enable frequency capping"})]}),i.frequency_capping?.enabled&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 ml-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per day"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_day,onChange:D=>k({frequency_capping:{...i.frequency_capping,max_emails_per_day:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per week"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_week,onChange:D=>k({frequency_capping:{...i.frequency_capping,max_emails_per_week:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per month"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_month,onChange:D=>k({frequency_capping:{...i.frequency_capping,max_emails_per_month:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),T=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"A/B Testing"}),n.jsxs("label",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.ab_test?.enabled,onChange:D=>k({ab_test:{...i.ab_test,enabled:D.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsx("span",{className:"font-medium",children:"Enable A/B testing"})]}),i.ab_test?.enabled&&n.jsx("div",{className:"space-y-4 ml-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Type"}),n.jsxs("select",{value:i.ab_test.test_type,onChange:D=>k({ab_test:{...i.ab_test,test_type:D.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"subject",children:"Subject Line"}),n.jsx("option",{value:"content",children:"Email Content"}),n.jsx("option",{value:"send_time",children:"Send Time"}),n.jsx("option",{value:"sender",children:"Sender Name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Winner Criteria"}),n.jsxs("select",{value:i.ab_test.winner_criteria,onChange:D=>k({ab_test:{...i.ab_test,winner_criteria:D.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"open_rate",children:"Open Rate"}),n.jsx("option",{value:"click_rate",children:"Click Rate"}),n.jsx("option",{value:"conversion_rate",children:"Conversion Rate"})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Prediction"}),n.jsxs("button",{onClick:C,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Mg,{size:16,className:"mr-2"}),"Predict Engagement"]}),f&&n.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"AI Predictions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_open_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Open Rate"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_click_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Click Rate"})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:["Confidence: ",(f.confidence*100).toFixed(0),"%"]})]})]})]}),I=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Fr,{size:20,className:"text-green-600 mr-2"}),n.jsx("h3",{className:"font-medium text-green-900",children:"Ready to Send!"})]}),n.jsx("p",{className:"text-sm text-green-700",children:"Your campaign has been configured and is ready to be sent."})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Campaign Name:"}),n.jsx("span",{className:"font-medium",children:i.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subject Line:"}),n.jsx("span",{className:"font-medium",children:i.subject})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Campaign Type:"}),n.jsx("span",{className:"font-medium capitalize",children:i.type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Estimated Recipients:"}),n.jsx("span",{className:"font-medium",children:"2,847 subscribers"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sender:"}),n.jsxs("span",{className:"font-medium",children:[i.sender_name," <",i.sender_email,">"]})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pre-send Checklist"}),n.jsx("div",{className:"space-y-3",children:[{item:"Subject line is compelling and under 50 characters",checked:!0},{item:"Email content includes unsubscribe link",checked:!0},{item:"Images have alt text for accessibility",checked:!1},{item:"Links are working and properly tracked",checked:!0},{item:"Sender information is correct",checked:!0},{item:"Audience targeting is configured",checked:!0}].map((D,V)=>n.jsxs("div",{className:"flex items-center",children:[D.checked?n.jsx(Fr,{size:16,className:"text-green-500 mr-3"}):n.jsx(Zr,{size:16,className:"text-yellow-500 mr-3"}),n.jsx("span",{className:D.checked?"text-gray-900":"text-yellow-700",children:D.item})]},V))})]})]}),M=[{id:"content",label:"Content",icon:to},{id:"audience",label:"Audience",icon:Gn},{id:"settings",label:"Settings",icon:Da},{id:"test",label:"Test & Optimize",icon:yee},{id:"review",label:"Review & Send",icon:gl}];return g?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"})}):n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Campaign":"Create New Campaign"}),n.jsx("p",{className:"text-gray-600",children:"Build and send professional email campaigns with advanced features"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:()=>L(!1),disabled:b,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[b?n.jsx(zr,{size:16,className:"mr-2 animate-spin"}):n.jsx(pl,{size:16,className:"mr-2"}),"Save Draft"]}),n.jsxs("button",{onClick:()=>L(!0),disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[b?n.jsx(zr,{size:16,className:"mr-2 animate-spin"}):n.jsx(gl,{size:16,className:"mr-2"}),"Send Campaign"]})]})]}),n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"flex space-x-8",children:M.map(D=>{const V=D.icon;return n.jsxs("button",{onClick:()=>a(D.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===D.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(V,{size:16,className:"mr-2"}),D.label]},D.id)})})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s==="content"&&A(),s==="audience"&&P(),s==="settings"&&B(),s==="test"&&T(),s==="review"&&I()]})]})},E9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await j9e();t(f)}catch{}finally{l(!1)}},d=async f=>{try{const y=await w9e(f);t(g=>[y,...g]),i(!1)}catch{}},u=({sequence:f})=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(Da,{size:16})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.emails.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Emails"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Conversion"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${f.trigger_type==="signup"?"bg-blue-500":f.trigger_type==="purchase"?"bg-green-500":f.trigger_type==="behavior"?"bg-purple-500":"bg-gray-400"}`}),"Trigger: ",f.trigger_type]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>s(f),className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ga,{size:16})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:n.jsx(Gc,{size:16})}),f.status==="active"?n.jsx("button",{className:"text-yellow-600 hover:text-yellow-800",children:n.jsx(ree,{size:16})}):n.jsx("button",{className:"text-green-600 hover:text-green-800",children:n.jsx(bP,{size:16})})]})]})]}),h=({sequence:f})=>{const[y,g]=_.useState(f.emails||[]),[v,b]=_.useState(!1),[S,N]=_.useState(null),w=()=>{const L={sequence_id:f.id,order:y.length+1,name:`Email ${y.length+1}`,subject:"",content:"",delay_days:y.length===0?0:1,delay_hours:0,status:"active",personalization:{dynamic_content:[],conditional_blocks:[],product_recommendations:!1,behavioral_triggers:[]},open_rate:0,click_rate:0,conversion_rate:0};N(L),b(!0)},C=({email:L,index:k})=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600",children:L.subject})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{N(L),b(!0)},className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ga,{size:14})}),n.jsx("button",{className:"text-red-600 hover:text-red-800",children:n.jsx(Ns,{size:14})})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Os,{size:14,className:"mr-1"}),L.delay_days>0?`${L.delay_days} days`:"Immediate",L.delay_hours>0&&` ${L.delay_hours}h`]}),n.jsxs("div",{className:"flex space-x-4 text-xs",children:[n.jsxs("span",{className:"text-blue-600",children:[(L.open_rate*100).toFixed(1),"% opens"]}),n.jsxs("span",{className:"text-green-600",children:[(L.click_rate*100).toFixed(1),"% clicks"]})]})]}),k<y.length-1&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(uR,{size:20,className:"text-gray-400"})})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f.name}),n.jsx("p",{className:"text-gray-600",children:f.description})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[n.jsx(La,{size:16,className:"mr-2"}),"Analytics"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Mg,{size:16,className:"mr-2"}),"AI Optimize"]})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Emails"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Subscribers"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(f.completion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Completion Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Conversion Rate"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Sequence Flow"}),n.jsxs("button",{onClick:w,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Add Email"]})]}),y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No emails in sequence"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your email sequence by adding your first email."}),n.jsxs("button",{onClick:w,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Add First Email"]})]}):n.jsx("div",{className:"space-y-4",children:y.map((L,k)=>n.jsx(C,{email:L,index:k},L.id))})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trigger Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"signup",children:"User Signup"}),n.jsx("option",{value:"purchase",children:"Purchase Made"}),n.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),n.jsx("option",{value:"date",children:"Date-based"}),n.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Conditions"}),n.jsx("button",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-left text-gray-500 hover:bg-gray-50",children:"Configure conditions..."})]})]})]})]})},p=()=>{const[f,y]=_.useState({name:"",description:"",trigger_type:"signup",status:"draft"}),g=v=>{v.preventDefault(),d({...f,emails:[],subscribers_count:0,completion_rate:0,conversion_rate:0,tags:[],trigger_conditions:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Email Sequence"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sequence Name *"}),n.jsx("input",{type:"text",value:f.name,onChange:v=>y({...f,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Welcome Series",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:f.description,onChange:v=>y({...f,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe the purpose of this sequence..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),n.jsxs("select",{value:f.trigger_type,onChange:v=>y({...f,trigger_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"signup",children:"User Signup"}),n.jsx("option",{value:"purchase",children:"Purchase Made"}),n.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),n.jsx("option",{value:"date",children:"Date-based"}),n.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Sequence"})]})]})]})})};return r?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",children:[n.jsx(Tm,{size:16,className:"mr-2 rotate-180"}),"Back to Sequences"]}),n.jsx(h,{sequence:r})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Sequences"}),n.jsx("p",{className:"text-gray-600",children:"Create automated email sequences that nurture leads and drive conversions"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Create Sequence"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Sequences"})]}),n.jsx(Dh,{className:"h-8 w-8 text-purple-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(f=>f.status==="active").length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Sequences"})]}),n.jsx(bP,{className:"h-8 w-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((f,y)=>f+y.subscribers_count,0).toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Subscribers"})]}),n.jsx(Gn,{className:"h-8 w-8 text-blue-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.length>0?(e.reduce((f,y)=>f+y.conversion_rate,0)/e.length*100).toFixed(1):0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Conversion"})]}),n.jsx(Fs,{className:"h-8 w-8 text-purple-600"})]})})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-lg",children:[n.jsx(Ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No email sequences yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first automated email sequence to nurture leads and convert customers."}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Create Your First Sequence"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>n.jsx(u,{sequence:f},f.id))}),a&&n.jsx(p,{})]})},O9e=()=>{const[e,t]=_.useState(null),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState("month"),[c,d]=_.useState(!0);_.useEffect(()=>{u()},[o]);const u=async()=>{try{d(!0);const[w,C,L]=await Promise.all([_9e(o),A9e(),k9e()]);t(w),s(C),i(L)}catch{}finally{d(!1)}},h=w=>w>=1e6?`${(w/1e6).toFixed(1)}M`:w>=1e3?`${(w/1e3).toFixed(1)}K`:w.toString(),p=w=>`${(w*100).toFixed(1)}%`,f=w=>w>0?"text-green-600":w<0?"text-red-600":"text-gray-600",y=w=>w>0?n.jsx(Fs,{size:16,className:"text-green-600"}):w<0?n.jsx(NR,{size:16,className:"text-red-600"}):null,g=({title:w,value:C,change:L,icon:k,color:A})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:w}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:`text-2xl font-bold ${A}`,children:C}),L!==void 0&&n.jsxs("div",{className:"flex items-center space-x-1",children:[y(L),n.jsxs("span",{className:`text-sm font-medium ${f(L)}`,children:[Math.abs(L).toFixed(1),"%"]})]})]})]}),n.jsx("div",{className:`p-3 rounded-full ${A.replace("text-","bg-").replace("600","100")}`,children:k})]})}),v=({insight:w})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-full ${w.impact==="high"?"bg-red-100":w.impact==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:n.jsx(Mg,{size:16,className:w.impact==="high"?"text-red-600":w.impact==="medium"?"text-yellow-600":"text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:w.title}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.impact==="high"?"bg-red-100 text-red-800":w.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[w.impact," impact"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:w.type}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(w.confidence*100).toFixed(0),"% confidence"]})]})]})]})}),b=({recommendation:w})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:n.jsx(xP,{size:16,className:"text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:w.title}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.effort_level==="low"?"bg-green-100 text-green-800":w.effort_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[w.effort_level," effort"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.description}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-purple-600 font-medium",children:w.expected_improvement}),n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:w.type})]})]})]})});if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Gh,{className:"h-8 w-8 text-purple-600 animate-spin"})});if(!e)return n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No analytics data available"}),n.jsx("p",{className:"text-gray-600",children:"Send some campaigns to see your email marketing analytics."})]});const S=[{name:"Desktop",value:45,color:"#8b5cf6"},{name:"Mobile",value:40,color:"#3b82f6"},{name:"Tablet",value:15,color:"#10b981"}],N=e.metrics.opens.slice(-7).map((w,C)=>({time:new Date(w.date).toLocaleDateString(),opens:w.value,clicks:e.metrics.clicks[C]?.value||0}));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into your email marketing performance"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"day",children:"Last 7 Days"}),n.jsx("option",{value:"week",children:"Last 4 Weeks"}),n.jsx("option",{value:"month",children:"Last 12 Months"}),n.jsx("option",{value:"quarter",children:"Last 4 Quarters"})]}),n.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[n.jsx(Hh,{size:16,className:"mr-2"}),"Filter"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(js,{size:16,className:"mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(g,{title:"Total Sent",value:h(e.metrics.sent.reduce((w,C)=>w+C.value,0)),change:5.2,icon:n.jsx(Ur,{size:20}),color:"text-blue-600"}),n.jsx(g,{title:"Open Rate",value:p(.24),change:-2.1,icon:n.jsx(ts,{size:20}),color:"text-green-600"}),n.jsx(g,{title:"Click Rate",value:p(.035),change:8.7,icon:n.jsx(JJ,{size:20}),color:"text-purple-600"}),n.jsx(g,{title:"Unsubscribe Rate",value:p(.002),change:-12.5,icon:n.jsx(See,{size:20}),color:"text-red-600"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Opens & Clicks Trend"}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Opens"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Clicks"})]})]})]}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(py,{data:N,children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"time"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Li,{type:"monotone",dataKey:"opens",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),n.jsx(Li,{type:"monotone",dataKey:"clicks",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Breakdown"}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx(Gl,{width:"60%",height:200,children:n.jsxs(kk,{children:[n.jsx(dc,{data:S,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:S.map((w,C)=>n.jsx(Dx,{fill:w.color},`cell-${C}`))}),n.jsx(ra,{})]})}),n.jsx("div",{className:"space-y-3",children:S.map((w,C)=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w.color}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:w.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[w.value,"% of opens"]})]}),w.name==="Desktop"&&n.jsx(XJ,{size:16,className:"text-gray-400"}),w.name==="Mobile"&&n.jsx(hA,{size:16,className:"text-gray-400"}),w.name==="Tablet"&&n.jsx(fA,{size:16,className:"text-gray-400"})]},w.name))})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Industry Comparison"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{metric:"Open Rate",your:"24.2%",industry:"21.8%",better:!0},{metric:"Click Rate",your:"3.5%",industry:"2.9%",better:!0},{metric:"Unsubscribe Rate",your:"0.2%",industry:"0.3%",better:!0}].map(w=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:w.metric}),n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:w.your}),n.jsx("div",{className:"text-xs text-gray-500",children:"Your Average"})]}),n.jsx("div",{className:`text-sm font-medium ${w.better?"text-green-600":"text-red-600"}`,children:"vs"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-400",children:w.industry}),n.jsx("div",{className:"text-xs text-gray-500",children:"Industry Avg"})]})]})]},w.metric))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Insights"}),n.jsx(Mg,{className:"h-5 w-5 text-purple-600"})]}),n.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((w,C)=>n.jsx(v,{insight:w},C))})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Recommendations"}),n.jsx(xP,{className:"h-5 w-5 text-purple-600"})]}),n.jsx("div",{className:"space-y-4",children:a.slice(0,3).map((w,C)=>n.jsx(b,{recommendation:w},C))})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Campaigns"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",sent:2847,openRate:32.4,clickRate:5.8,revenue:"€1,240",date:"2024-06-15"},{name:"Wedding Season Announcement",sent:1923,openRate:28.7,clickRate:4.2,revenue:"€890",date:"2024-06-10"},{name:"Family Portrait Promotion",sent:3156,openRate:26.1,clickRate:3.9,revenue:"€1,567",date:"2024-06-05"}].map((w,C)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.sent.toLocaleString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[w.openRate,"%"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[w.clickRate,"%"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:w.revenue}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{size:14,className:"mr-1"}),new Date(w.date).toLocaleDateString()]})})]},C))})]})})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Best Send Times"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((w,C)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:w}),n.jsx("div",{className:"space-y-1",children:Array.from({length:24},(L,k)=>{const A=Math.random()*100;return n.jsx("div",{className:`h-2 w-full rounded ${A>80?"bg-green-500":A>60?"bg-yellow-500":A>40?"bg-orange-500":"bg-red-500"}`,title:`${k}:00 - ${A.toFixed(1)}% engagement`},k)})})]},w))}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"High engagement (80%+)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Good (60-80%)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Average (40-60%)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Low (<40%)"})]})]})]})]})},MD=()=>{const[e,t]=_.useState("overview"),[r,s]=_.useState(!1),[a,i]=_.useState(null),o=()=>{i(null),s(!0)},l=f=>{s(!1)},c=[{id:"overview",label:"Overview",icon:La},{id:"campaigns",label:"Campaigns",icon:Ur},{id:"sequences",label:"Sequences",icon:Dh},{id:"analytics",label:"Analytics",icon:Fs},{id:"templates",label:"Templates",icon:wP},{id:"subscribers",label:"Subscribers",icon:Gn}],d=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-8 text-white",children:n.jsxs("div",{className:"max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Advanced Email Marketing Suite"}),n.jsx("p",{className:"text-xl mb-6 text-purple-100",children:"Create, automate, and optimize email campaigns with AI-powered insights that exceed Mailchimp's capabilities."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("button",{onClick:o,className:"flex items-center px-6 py-3 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium",children:[n.jsx(Tr,{size:20,className:"mr-2"}),"Create Campaign"]}),n.jsxs("button",{onClick:()=>t("sequences"),className:"flex items-center px-6 py-3 border border-white/20 text-white rounded-lg hover:bg-white/10 font-medium",children:[n.jsx(Dh,{size:20,className:"mr-2"}),"Build Sequence"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(Mg,{size:24,className:"text-purple-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"AI-Powered Optimization"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced AI analyzes your campaigns and provides actionable insights to improve performance."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Smart subject line generation"}),n.jsx("li",{children:"• Send time optimization"}),n.jsx("li",{children:"• Engagement predictions"}),n.jsx("li",{children:"• Content recommendations"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(fA,{size:24,className:"text-blue-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Advanced Segmentation"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create sophisticated audience segments with behavioral triggers and custom conditions."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Dynamic segment creation"}),n.jsx("li",{children:"• Behavioral targeting"}),n.jsx("li",{children:"• Custom field filtering"}),n.jsx("li",{children:"• Real-time updates"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Dh,{size:24,className:"text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Automation Workflows"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Build complex email sequences with conditional logic and multi-path journeys."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Multi-step sequences"}),n.jsx("li",{children:"• Conditional branching"}),n.jsx("li",{children:"• Trigger-based automation"}),n.jsx("li",{children:"• Performance tracking"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"24"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Campaigns"})]}),n.jsx(Ur,{className:"h-8 w-8 text-blue-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+12% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8.7K"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),n.jsx(Gn,{className:"h-8 w-8 text-purple-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+8% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"32.4%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Open Rate"})]}),n.jsx(ts,{className:"h-8 w-8 text-green-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+15% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"€12.3K"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Revenue Generated"})]}),n.jsx(Fs,{className:"h-8 w-8 text-yellow-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+23% from last month"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Campaigns"}),n.jsx("button",{onClick:()=>t("campaigns"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View all campaigns →"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",status:"sent",recipients:2847,openRate:32.4,clickRate:5.8},{name:"Wedding Season Newsletter",status:"sending",recipients:1923,openRate:0,clickRate:0},{name:"Family Portrait Promotion",status:"draft",recipients:0,openRate:0,clickRate:0}].map((f,y)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="sent"?"bg-green-100 text-green-800":f.status==="sending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.recipients>0?f.recipients.toLocaleString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.openRate>0?`${f.openRate}%`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.clickRate>0?`${f.clickRate}%`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(ts,{size:16})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:n.jsx(Da,{size:16})})]})})]},y))})]})})]})]}),u=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Campaigns"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage your email marketing campaigns"})]}),n.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Create Campaign"]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[n.jsx(Ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Campaign management interface"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Advanced campaign list with filtering, sorting, and bulk actions."}),n.jsxs("button",{onClick:o,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Create Your First Campaign"]})]})]}),h=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Templates"}),n.jsx("p",{className:"text-gray-600",children:"Professional templates for all your email marketing needs"})]}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Create Template"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[{name:"Welcome Series",category:"welcome",preview:"/api/placeholder/300/200"},{name:"Newsletter",category:"newsletter",preview:"/api/placeholder/300/200"},{name:"Promotional",category:"promotional",preview:"/api/placeholder/300/200"},{name:"Event Invitation",category:"event",preview:"/api/placeholder/300/200"},{name:"Follow-up",category:"follow_up",preview:"/api/placeholder/300/200"},{name:"Abandoned Cart",category:"cart",preview:"/api/placeholder/300/200"}].map((f,y)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[n.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-3 flex items-center justify-center",children:n.jsx(wP,{size:24,className:"text-gray-400"})}),n.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-500 capitalize",children:f.category}),n.jsxs("div",{className:"mt-3 flex space-x-2",children:[n.jsx("button",{className:"flex-1 text-xs py-2 px-3 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Use Template"}),n.jsx("button",{className:"text-xs py-2 px-3 border border-gray-300 rounded hover:bg-gray-50",children:"Preview"})]})]},y))})]}),p=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subscribers"}),n.jsx("p",{className:"text-gray-600",children:"Manage your email subscribers and segments"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Import Subscribers"}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),"Add Subscriber"]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[n.jsx(Gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subscriber management interface"}),n.jsx("p",{className:"text-gray-600",children:"Advanced subscriber list with segmentation, tagging, and bulk operations."})]})]});return r?n.jsx(Ir,{children:n.jsx(T9e,{campaign:a||void 0,onSave:l,onCancel:()=>s(!1)})}):n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-8",children:c.map(f=>{const y=f.icon;return n.jsxs("button",{onClick:()=>t(f.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${e===f.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(y,{size:16,className:"mr-2"}),f.label]},f.id)})})}),e==="overview"&&n.jsx(d,{}),e==="campaigns"&&n.jsx(u,{}),e==="sequences"&&n.jsx(E9e,{}),e==="analytics"&&n.jsx(O9e,{}),e==="templates"&&n.jsx(h,{}),e==="subscribers"&&n.jsx(p,{}),"      "]})})};async function L9e(e){const t=await fetch("/api/email/settings/save",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to save email settings")}return t.json()}const I9e=({isOpen:e,onClose:t,onSave:r,currentSettings:s})=>{const[a,i]=_.useState(s||{provider:"smtp",smtpHost:"smtp.easyname.com",smtpPort:"465",username:"30840mail10",password:"HoveBN41!",useTLS:!0,syncEnabled:!0,syncInterval:5}),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,h]=_.useState(null),[p,f]=_.useState(!1),y=N=>{const w={gmail:{smtpHost:"smtp.gmail.com",smtpPort:"587"},outlook:{smtpHost:"smtp-mail.outlook.com",smtpPort:"587"},smtp:{smtpHost:"",smtpPort:"587"}};i(C=>({...C,provider:N,...w[N]}))},g=(N,w)=>{i(C=>({...C,[N]:w}))},v=async()=>{l(!0),h(null);try{const N=await fetch("/api/email/test-connection",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:a.provider,smtpHost:a.smtpHost,smtpPort:a.smtpPort,username:a.username,password:a.password,useTLS:a.useTLS})}),w=await N.json();N.ok&&w.success?h({success:!0,message:"Connection successful! Email settings are working correctly."}):h({success:!1,message:w.message||"Connection failed. Please check your credentials and settings."})}catch{h({success:!1,message:"Failed to test connection. Please try again."})}finally{l(!1)}},b=async()=>{f(!0);try{await L9e({smtpHost:a.smtpHost,smtpPort:a.smtpPort,smtpUser:a.username,smtpPass:a.password,fromEmail:a.username,fromName:"New Age Fotografie"}),h({success:!0,message:"Email settings saved successfully!"}),r(a),setTimeout(()=>{t()},1500)}catch{h({success:!1,message:"Failed to save email settings. Please try again."})}finally{f(!1)}},S=async()=>{d(!0);try{const w=await(await fetch("/api/email/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();w.success?h({success:!0,message:`Successfully imported ${w.count} emails`}):h({success:!1,message:w.message||"Failed to import emails"})}catch{h({success:!1,message:"Failed to import emails: Connection error"})}finally{d(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Da,{className:"h-6 w-6 text-gray-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inbox Settings"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"×"})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Email Provider"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"gmail",label:"Gmail",icon:"📧"},{value:"outlook",label:"Outlook",icon:"📮"},{value:"smtp",label:"Custom SMTP",icon:"⚙️"}].map(N=>n.jsxs("button",{onClick:()=>y(N.value),className:`p-3 border rounded-lg text-center transition-colors ${a.provider===N.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:N.icon}),n.jsx("div",{className:"text-sm font-medium",children:N.label})]},N.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(uee,{className:"inline h-4 w-4 mr-1"}),"SMTP Host"]}),n.jsx("input",{type:"text",value:a.smtpHost,onChange:N=>g("smtpHost",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),n.jsx("input",{type:"text",value:a.smtpPort,onChange:N=>g("smtpPort",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"587"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(Fg,{className:"h-5 w-5 mr-2"}),"Authentication"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ur,{className:"inline h-4 w-4 mr-1"}),"Email Address"]}),n.jsx("input",{type:"email",value:a.username,onChange:N=>g("username",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@domain.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password/App Password"}),n.jsx("input",{type:"password",value:a.password,onChange:N=>g("password",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security & Sync"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Use TLS Encryption"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended for secure connections"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.useTLS,onChange:N=>g("useTLS",N.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Email Sync"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync emails from your inbox"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.syncEnabled,onChange:N=>g("syncEnabled",N.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.syncEnabled&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sync Interval (minutes)"}),n.jsxs("select",{value:a.syncInterval,onChange:N=>g("syncInterval",parseInt(N.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"Every 1 minute"}),n.jsx("option",{value:5,children:"Every 5 minutes"}),n.jsx("option",{value:15,children:"Every 15 minutes"}),n.jsx("option",{value:30,children:"Every 30 minutes"}),n.jsx("option",{value:60,children:"Every hour"})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4",children:n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Quick Setup Guide"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Business Email (EasyName):"})," IMAP: imap.easyname.com:993"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"For Gmail:"})," Use your email + App Password (not regular password)"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"For Outlook:"})," Use your Microsoft account email + password"]})]})]})}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:v,disabled:o||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(xee,{className:`h-4 w-4 ${o?"animate-spin":""}`}),n.jsx("span",{children:o?"Testing...":"Test Connection"})]}),n.jsxs("button",{onClick:S,disabled:c||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Ur,{className:`h-4 w-4 ${c?"animate-spin":""}`}),n.jsx("span",{children:c?"Importing...":"Import Emails"})]})]}),u&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg flex items-start space-x-2 ${u.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[u.success?n.jsx(Fr,{className:"h-5 w-5 mt-0.5"}):n.jsx(Zr,{className:"h-5 w-5 mt-0.5"}),n.jsx("span",{className:"text-sm",children:u.message})]})]}),a.provider==="gmail"&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Gmail Setup Instructions"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("p",{children:"1. Enable 2-factor authentication on your Google account"}),n.jsx("p",{children:"2. Generate an App Password for this application"}),n.jsx("p",{children:"3. Use your email address and the App Password above"}),n.jsx("p",{children:"4. Keep TLS encryption enabled"})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:p||!a.username||!a.smtpHost,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Settings"})]})]})}):null};var q2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */q2.exports;(function(e,t){(function(){var r,s="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",d=500,u="__lodash_placeholder__",h=1,p=2,f=4,y=1,g=2,v=1,b=2,S=4,N=8,w=16,C=32,L=64,k=128,A=256,P=512,B=30,T="...",I=800,M=16,D=1,V=2,z=3,X=1/0,q=9007199254740991,Y=17976931348623157e292,ie=NaN,W=4294967295,F=W-1,Z=W>>>1,Q=[["ary",k],["bind",v],["bindKey",b],["curry",N],["curryRight",w],["flip",P],["partial",C],["partialRight",L],["rearg",A]],ae="[object Arguments]",de="[object Array]",ge="[object AsyncFunction]",Se="[object Boolean]",J="[object Date]",he="[object DOMException]",ee="[object Error]",le="[object Function]",ke="[object GeneratorFunction]",Ne="[object Map]",G="[object Number]",Ae="[object Null]",ze="[object Object]",Be="[object Promise]",qe="[object Proxy]",H="[object RegExp]",te="[object Set]",ye="[object String]",Ce="[object Symbol]",Pe="[object Undefined]",Ee="[object WeakMap]",Ve="[object WeakSet]",tt="[object ArrayBuffer]",it="[object DataView]",ft="[object Float32Array]",mt="[object Float64Array]",ut="[object Int8Array]",zt="[object Int16Array]",er="[object Int32Array]",Nt="[object Uint8Array]",tr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Ft="[object Uint32Array]",Ar=/\b__p \+= '';/g,fr=/\b(__p \+=) '' \+/g,hs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ss=/&(?:amp|lt|gt|quot|#39);/g,pn=/[&<>"']/g,or=RegExp(Ss.source),on=RegExp(pn.source),ud=/<%-([\s\S]+?)%>/g,Na=/<%([\s\S]+?)%>/g,qo=/<%=([\s\S]+?)%>/g,Wo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,jl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ao=/[\\^$.*+?()[\]{}|]/g,Bi=RegExp(ao.source),Ka=/^\s+/,as=/\s/,Ys=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,aa=/\{\n\/\* \[wrapped with (.+)\] \*/,hd=/,? & /,pc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,io=/[()=,{}\[\]\/\s]/,Ho=/\\(\\)?/g,oo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zi=/\w*$/,Ui=/^[-+]0x[0-9a-f]+$/i,fd=/^0b[01]+$/i,Go=/^\[object .+?Constructor\]$/,md=/^0o[0-7]+$/i,pu=/^(?:0|[1-9]\d*)$/,gu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nl=/($^)/,Zx=/['\n\r\u2028\u2029\\]/g,gc="\\ud800-\\udfff",ap="\\u0300-\\u036f",ip="\\ufe20-\\ufe2f",Vi="\\u20d0-\\u20ff",xu=ap+ip+Vi,cf="\\u2700-\\u27bf",yu="a-z\\xdf-\\xf6\\xf8-\\xff",op="\\xac\\xb1\\xd7\\xf7",lp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cp="\\u2000-\\u206f",vu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dp="A-Z\\xc0-\\xd6\\xd8-\\xde",fs="\\ufe0e\\ufe0f",df=op+lp+cp+vu,bu="['’]",Sl="["+gc+"]",xc="["+df+"]",Ya="["+xu+"]",yc="\\d+",ms="["+cf+"]",wu="["+yu+"]",up="[^"+gc+df+yc+cf+yu+dp+"]",uf="\\ud83c[\\udffb-\\udfff]",Xx="(?:"+Ya+"|"+uf+")",lo="[^"+gc+"]",ju="(?:\\ud83c[\\udde6-\\uddff]){2}",Nu="[\\ud800-\\udbff][\\udc00-\\udfff]",mi="["+dp+"]",Su="\\u200d",hp="(?:"+wu+"|"+up+")",Qx="(?:"+mi+"|"+up+")",fp="(?:"+bu+"(?:d|ll|m|re|s|t|ve))?",_u="(?:"+bu+"(?:D|LL|M|RE|S|T|VE))?",vc=Xx+"?",_l="["+fs+"]?",Jx="(?:"+Su+"(?:"+[lo,ju,Nu].join("|")+")"+_l+vc+")*",pd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ar=_l+vc+Jx,e0="(?:"+[ms,ju,Nu].join("|")+")"+ar,t0="(?:"+[lo+Ya+"?",Ya,ju,Nu,Sl].join("|")+")",r0=RegExp(bu,"g"),n0=RegExp(Ya,"g"),co=RegExp(uf+"(?="+uf+")|"+t0+ar,"g"),Al=RegExp([mi+"?"+wu+"+"+fp+"(?="+[xc,mi,"$"].join("|")+")",Qx+"+"+_u+"(?="+[xc,mi+hp,"$"].join("|")+")",mi+"?"+hp+"+"+fp,mi+"+"+_u,hf,pd,yc,e0].join("|"),"g"),s0=RegExp("["+Su+gc+xu+fs+"]"),a0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ff=-1,Jr={};Jr[ft]=Jr[mt]=Jr[ut]=Jr[zt]=Jr[er]=Jr[Nt]=Jr[tr]=Jr[Qr]=Jr[Ft]=!0,Jr[ae]=Jr[de]=Jr[tt]=Jr[Se]=Jr[it]=Jr[J]=Jr[ee]=Jr[le]=Jr[Ne]=Jr[G]=Jr[ze]=Jr[H]=Jr[te]=Jr[ye]=Jr[Ee]=!1;var en={};en[ae]=en[de]=en[tt]=en[it]=en[Se]=en[J]=en[ft]=en[mt]=en[ut]=en[zt]=en[er]=en[Ne]=en[G]=en[ze]=en[H]=en[te]=en[ye]=en[Ce]=en[Nt]=en[tr]=en[Qr]=en[Ft]=!0,en[ee]=en[le]=en[Ee]=!1;var ku={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},i0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gd=parseFloat,xd=parseInt,Cu=typeof ul=="object"&&ul&&ul.Object===Object&&ul,Pu=typeof self=="object"&&self&&self.Object===Object&&self,ps=Cu||Pu||Function("return this")(),kl=t&&!t.nodeType&&t,uo=kl&&!0&&e&&!e.nodeType&&e,Tu=uo&&uo.exports===kl,Ra=Tu&&Cu.process,gs=function(){try{var Ie=uo&&uo.require&&uo.require("util").types;return Ie||Ra&&Ra.binding&&Ra.binding("util")}catch{}}(),R=gs&&gs.isArrayBuffer,se=gs&&gs.isDate,je=gs&&gs.isMap,Te=gs&&gs.isRegExp,Fe=gs&&gs.isSet,Je=gs&&gs.isTypedArray;function rt(Ie,Ye,Ge){switch(Ge.length){case 0:return Ie.call(Ye);case 1:return Ie.call(Ye,Ge[0]);case 2:return Ie.call(Ye,Ge[0],Ge[1]);case 3:return Ie.call(Ye,Ge[0],Ge[1],Ge[2])}return Ie.apply(Ye,Ge)}function kt(Ie,Ye,Ge,vt){for(var Ut=-1,Rr=Ie==null?0:Ie.length;++Ut<Rr;){var _s=Ie[Ut];Ye(vt,_s,Ge(_s),Ie)}return vt}function wt(Ie,Ye){for(var Ge=-1,vt=Ie==null?0:Ie.length;++Ge<vt&&Ye(Ie[Ge],Ge,Ie)!==!1;);return Ie}function rr(Ie,Ye){for(var Ge=Ie==null?0:Ie.length;Ge--&&Ye(Ie[Ge],Ge,Ie)!==!1;);return Ie}function mr(Ie,Ye){for(var Ge=-1,vt=Ie==null?0:Ie.length;++Ge<vt;)if(!Ye(Ie[Ge],Ge,Ie))return!1;return!0}function kr(Ie,Ye){for(var Ge=-1,vt=Ie==null?0:Ie.length,Ut=0,Rr=[];++Ge<vt;){var _s=Ie[Ge];Ye(_s,Ge,Ie)&&(Rr[Ut++]=_s)}return Rr}function Sn(Ie,Ye){var Ge=Ie==null?0:Ie.length;return!!Ge&&Ko(Ie,Ye,0)>-1}function is(Ie,Ye,Ge){for(var vt=-1,Ut=Ie==null?0:Ie.length;++vt<Ut;)if(Ge(Ye,Ie[vt]))return!0;return!1}function qt(Ie,Ye){for(var Ge=-1,vt=Ie==null?0:Ie.length,Ut=Array(vt);++Ge<vt;)Ut[Ge]=Ye(Ie[Ge],Ge,Ie);return Ut}function _n(Ie,Ye){for(var Ge=-1,vt=Ye.length,Ut=Ie.length;++Ge<vt;)Ie[Ut+Ge]=Ye[Ge];return Ie}function os(Ie,Ye,Ge,vt){var Ut=-1,Rr=Ie==null?0:Ie.length;for(vt&&Rr&&(Ge=Ie[++Ut]);++Ut<Rr;)Ge=Ye(Ge,Ie[Ut],Ut,Ie);return Ge}function ia(Ie,Ye,Ge,vt){var Ut=Ie==null?0:Ie.length;for(vt&&Ut&&(Ge=Ie[--Ut]);Ut--;)Ge=Ye(Ge,Ie[Ut],Ut,Ie);return Ge}function ho(Ie,Ye){for(var Ge=-1,vt=Ie==null?0:Ie.length;++Ge<vt;)if(Ye(Ie[Ge],Ge,Ie))return!0;return!1}var bc=fo("length");function o0(Ie){return Ie.split("")}function mp(Ie){return Ie.match(pc)||[]}function wc(Ie,Ye,Ge){var vt;return Ge(Ie,function(Ut,Rr,_s){if(Ye(Ut,Rr,_s))return vt=Rr,!1}),vt}function Za(Ie,Ye,Ge,vt){for(var Ut=Ie.length,Rr=Ge+(vt?1:-1);vt?Rr--:++Rr<Ut;)if(Ye(Ie[Rr],Rr,Ie))return Rr;return-1}function Ko(Ie,Ye,Ge){return Ye===Ye?vf(Ie,Ye,Ge):Za(Ie,Cl,Ge)}function Eu(Ie,Ye,Ge,vt){for(var Ut=Ge-1,Rr=Ie.length;++Ut<Rr;)if(vt(Ie[Ut],Ye))return Ut;return-1}function Cl(Ie){return Ie!==Ie}function Ls(Ie,Ye){var Ge=Ie==null?0:Ie.length;return Ge?oa(Ie,Ye)/Ge:ie}function fo(Ie){return function(Ye){return Ye==null?r:Ye[Ie]}}function mo(Ie){return function(Ye){return Ie==null?r:Ie[Ye]}}function yd(Ie,Ye,Ge,vt,Ut){return Ut(Ie,function(Rr,_s,gn){Ge=vt?(vt=!1,Rr):Ye(Ge,Rr,_s,gn)}),Ge}function gf(Ie,Ye){var Ge=Ie.length;for(Ie.sort(Ye);Ge--;)Ie[Ge]=Ie[Ge].value;return Ie}function oa(Ie,Ye){for(var Ge,vt=-1,Ut=Ie.length;++vt<Ut;){var Rr=Ye(Ie[vt]);Rr!==r&&(Ge=Ge===r?Rr:Ge+Rr)}return Ge}function Ou(Ie,Ye){for(var Ge=-1,vt=Array(Ie);++Ge<Ie;)vt[Ge]=Ye(Ge);return vt}function Lu(Ie,Ye){return qt(Ye,function(Ge){return[Ge,Ie[Ge]]})}function xf(Ie){return Ie&&Ie.slice(0,Nc(Ie)+1).replace(Ka,"")}function tn(Ie){return function(Ye){return Ie(Ye)}}function Xa(Ie,Ye){return qt(Ye,function(Ge){return Ie[Ge]})}function Pl(Ie,Ye){return Ie.has(Ye)}function Iu(Ie,Ye){for(var Ge=-1,vt=Ie.length;++Ge<vt&&Ko(Ye,Ie[Ge],0)>-1;);return Ge}function Tl(Ie,Ye){for(var Ge=Ie.length;Ge--&&Ko(Ye,Ie[Ge],0)>-1;);return Ge}function Mu(Ie,Ye){for(var Ge=Ie.length,vt=0;Ge--;)Ie[Ge]===Ye&&++vt;return vt}var Qa=mo(ku),Ja=mo(i0);function vd(Ie){return"\\"+pf[Ie]}function Yo(Ie,Ye){return Ie==null?r:Ie[Ye]}function pi(Ie){return s0.test(Ie)}function yf(Ie){return a0.test(Ie)}function jc(Ie){for(var Ye,Ge=[];!(Ye=Ie.next()).done;)Ge.push(Ye.value);return Ge}function Kn(Ie){var Ye=-1,Ge=Array(Ie.size);return Ie.forEach(function(vt,Ut){Ge[++Ye]=[Ut,vt]}),Ge}function pp(Ie,Ye){return function(Ge){return Ie(Ye(Ge))}}function la(Ie,Ye){for(var Ge=-1,vt=Ie.length,Ut=0,Rr=[];++Ge<vt;){var _s=Ie[Ge];(_s===Ye||_s===u)&&(Ie[Ge]=u,Rr[Ut++]=Ge)}return Rr}function gi(Ie){var Ye=-1,Ge=Array(Ie.size);return Ie.forEach(function(vt){Ge[++Ye]=vt}),Ge}function Du(Ie){var Ye=-1,Ge=Array(Ie.size);return Ie.forEach(function(vt){Ge[++Ye]=[vt,vt]}),Ge}function vf(Ie,Ye,Ge){for(var vt=Ge-1,Ut=Ie.length;++vt<Ut;)if(Ie[vt]===Ye)return vt;return-1}function Fu(Ie,Ye,Ge){for(var vt=Ge+1;vt--;)if(Ie[vt]===Ye)return vt;return vt}function po(Ie){return pi(Ie)?bf(Ie):bc(Ie)}function ca(Ie){return pi(Ie)?xi(Ie):o0(Ie)}function Nc(Ie){for(var Ye=Ie.length;Ye--&&as.test(Ie.charAt(Ye)););return Ye}var El=mo(mf);function bf(Ie){for(var Ye=co.lastIndex=0;co.test(Ie);)++Ye;return Ye}function xi(Ie){return Ie.match(co)||[]}function Zo(Ie){return Ie.match(Al)||[]}var An=function Ie(Ye){Ye=Ye==null?ps:rn.defaults(ps.Object(),Ye,rn.pick(ps,Au));var Ge=Ye.Array,vt=Ye.Date,Ut=Ye.Error,Rr=Ye.Function,_s=Ye.Math,gn=Ye.Object,gp=Ye.RegExp,nb=Ye.String,yi=Ye.TypeError,wf=Ge.prototype,sb=Rr.prototype,bd=gn.prototype,jf=Ye["__core-js_shared__"],Nf=sb.toString,ln=bd.hasOwnProperty,ab=0,Ru=function(){var m=/[^.]+$/.exec(jf&&jf.keys&&jf.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Sf=bd.toString,ib=Nf.call(gn),ob=ps._,lb=gp("^"+Nf.call(ln).replace(ao,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_f=Tu?Ye.Buffer:r,Ol=Ye.Symbol,Af=Ye.Uint8Array,l0=_f?_f.allocUnsafe:r,$u=pp(gn.getPrototypeOf,gn),kf=gn.create,ei=bd.propertyIsEnumerable,$a=wf.splice,Cf=Ol?Ol.isConcatSpreadable:r,Sc=Ol?Ol.iterator:r,_c=Ol?Ol.toStringTag:r,wd=function(){try{var m=Df(gn,"defineProperty");return m({},"",{}),m}catch{}}(),xp=Ye.clearTimeout!==ps.clearTimeout&&Ye.clearTimeout,c0=vt&&vt.now!==ps.Date.now&&vt.now,cb=Ye.setTimeout!==ps.setTimeout&&Ye.setTimeout,Bu=_s.ceil,zu=_s.floor,Uu=gn.getOwnPropertySymbols,d0=_f?_f.isBuffer:r,db=Ye.isFinite,xN=wf.join,ub=pp(gn.keys,gn),Is=_s.max,Sa=_s.min,yN=vt.now,vN=Ye.parseInt,hb=_s.random,u0=wf.reverse,Pf=Df(Ye,"DataView"),Ll=Df(Ye,"Map"),h0=Df(Ye,"Promise"),Vu=Df(Ye,"Set"),qu=Df(Ye,"WeakMap"),Tf=Df(gn,"create"),yp=qu&&new qu,Wu={},bN=Ff(Pf),Ac=Ff(Ll),go=Ff(h0),Il=Ff(Vu),wN=Ff(qu),Ef=Ol?Ol.prototype:r,qi=Ef?Ef.valueOf:r,vi=Ef?Ef.toString:r;function ue(m){if(ks(m)&&!yr(m)&&!(m instanceof Or)){if(m instanceof bi)return m;if(ln.call(m,"__wrapped__"))return NC(m)}return new bi(m)}var Hu=function(){function m(){}return function(x){if(!vs(x))return{};if(kf)return kf(x);m.prototype=x;var O=new m;return m.prototype=r,O}}();function Of(){}function bi(m,x){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=r}ue.templateSettings={escape:ud,evaluate:Na,interpolate:qo,variable:"",imports:{_:ue}},ue.prototype=Of.prototype,ue.prototype.constructor=ue,bi.prototype=Hu(Of.prototype),bi.prototype.constructor=bi;function Or(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function fb(){var m=new Or(this.__wrapped__);return m.__actions__=Wi(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Wi(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Wi(this.__views__),m}function jN(){if(this.__filtered__){var m=new Or(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function vp(){var m=this.__wrapped__.value(),x=this.__dir__,O=yr(m),U=x<0,ne=O?m.length:0,me=zG(0,ne,this.__views__),_e=me.start,Le=me.end,Re=Le-_e,st=U?Le:_e-1,at=this.__iteratees__,lt=at.length,yt=0,It=Sa(Re,this.__takeCount__);if(!O||!U&&ne==Re&&It==Re)return Mf(m,this.__actions__);var Zt=[];e:for(;Re--&&yt<It;){st+=x;for(var Cr=-1,Xt=m[st];++Cr<lt;){var $r=at[Cr],Wr=$r.iteratee,wo=$r.type,Ai=Wr(Xt);if(wo==V)Xt=Ai;else if(!Ai){if(wo==D)continue e;break e}}Zt[yt++]=Xt}return Zt}Or.prototype=Hu(Of.prototype),Or.prototype.constructor=Or;function Xo(m){var x=-1,O=m==null?0:m.length;for(this.clear();++x<O;){var U=m[x];this.set(U[0],U[1])}}function Lf(){this.__data__=Tf?Tf(null):{},this.size=0}function f0(m){var x=this.has(m)&&delete this.__data__[m];return this.size-=x?1:0,x}function mb(m){var x=this.__data__;if(Tf){var O=x[m];return O===c?r:O}return ln.call(x,m)?x[m]:r}function NN(m){var x=this.__data__;return Tf?x[m]!==r:ln.call(x,m)}function pb(m,x){var O=this.__data__;return this.size+=this.has(m)?0:1,O[m]=Tf&&x===r?c:x,this}Xo.prototype.clear=Lf,Xo.prototype.delete=f0,Xo.prototype.get=mb,Xo.prototype.has=NN,Xo.prototype.set=pb;function Ml(m){var x=-1,O=m==null?0:m.length;for(this.clear();++x<O;){var U=m[x];this.set(U[0],U[1])}}function SN(){this.__data__=[],this.size=0}function _N(m){var x=this.__data__,O=Ue(x,m);if(O<0)return!1;var U=x.length-1;return O==U?x.pop():$a.call(x,O,1),--this.size,!0}function AN(m){var x=this.__data__,O=Ue(x,m);return O<0?r:x[O][1]}function kN(m){return Ue(this.__data__,m)>-1}function CN(m,x){var O=this.__data__,U=Ue(O,m);return U<0?(++this.size,O.push([m,x])):O[U][1]=x,this}Ml.prototype.clear=SN,Ml.prototype.delete=_N,Ml.prototype.get=AN,Ml.prototype.has=kN,Ml.prototype.set=CN;function Qo(m){var x=-1,O=m==null?0:m.length;for(this.clear();++x<O;){var U=m[x];this.set(U[0],U[1])}}function bp(){this.size=0,this.__data__={hash:new Xo,map:new(Ll||Ml),string:new Xo}}function PN(m){var x=Tb(this,m).delete(m);return this.size-=x?1:0,x}function TN(m){return Tb(this,m).get(m)}function gb(m){return Tb(this,m).has(m)}function j(m,x){var O=Tb(this,m),U=O.size;return O.set(m,x),this.size+=O.size==U?0:1,this}Qo.prototype.clear=bp,Qo.prototype.delete=PN,Qo.prototype.get=TN,Qo.prototype.has=gb,Qo.prototype.set=j;function E(m){var x=-1,O=m==null?0:m.length;for(this.__data__=new Qo;++x<O;)this.add(m[x])}function $(m){return this.__data__.set(m,c),this}function K(m){return this.__data__.has(m)}E.prototype.add=E.prototype.push=$,E.prototype.has=K;function re(m){var x=this.__data__=new Ml(m);this.size=x.size}function oe(){this.__data__=new Ml,this.size=0}function ce(m){var x=this.__data__,O=x.delete(m);return this.size=x.size,O}function fe(m){return this.__data__.get(m)}function pe(m){return this.__data__.has(m)}function be(m,x){var O=this.__data__;if(O instanceof Ml){var U=O.__data__;if(!Ll||U.length<a-1)return U.push([m,x]),this.size=++O.size,this;O=this.__data__=new Qo(U)}return O.set(m,x),this.size=O.size,this}re.prototype.clear=oe,re.prototype.delete=ce,re.prototype.get=fe,re.prototype.has=pe,re.prototype.set=be;function Me(m,x){var O=yr(m),U=!O&&Rf(m),ne=!O&&!U&&rh(m),me=!O&&!U&&!ne&&Tp(m),_e=O||U||ne||me,Le=_e?Ou(m.length,nb):[],Re=Le.length;for(var st in m)(x||ln.call(m,st))&&!(_e&&(st=="length"||ne&&(st=="offset"||st=="parent")||me&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||Ad(st,Re)))&&Le.push(st);return Le}function We(m){var x=m.length;return x?m[Xu(0,x-1)]:r}function we(m,x){return Eb(Wi(m),bt(x,0,m.length))}function De(m){return Eb(Wi(m))}function $e(m,x,O){(O!==r&&!$l(m[x],O)||O===r&&!(x in m))&&nt(m,x,O)}function Ze(m,x,O){var U=m[x];(!(ln.call(m,x)&&$l(U,O))||O===r&&!(x in m))&&nt(m,x,O)}function Ue(m,x){for(var O=m.length;O--;)if($l(m[O][0],x))return O;return-1}function Xe(m,x,O,U){return St(m,function(ne,me,_e){x(U,ne,O(ne),_e)}),U}function et(m,x){return m&&Ec(x,Aa(x),m)}function ct(m,x){return m&&Ec(x,Gi(x),m)}function nt(m,x,O){x=="__proto__"&&wd?wd(m,x,{configurable:!0,enumerable:!0,value:O,writable:!0}):m[x]=O}function Ot(m,x){for(var O=-1,U=x.length,ne=Ge(U),me=m==null;++O<U;)ne[O]=me?r:QN(m,x[O]);return ne}function bt(m,x,O){return m===m&&(O!==r&&(m=m<=O?m:O),x!==r&&(m=m>=x?m:x)),m}function Vt(m,x,O,U,ne,me){var _e,Le=x&h,Re=x&p,st=x&f;if(O&&(_e=ne?O(m,U,ne,me):O(m)),_e!==r)return _e;if(!vs(m))return m;var at=yr(m);if(at){if(_e=VG(m),!Le)return Wi(m,_e)}else{var lt=si(m),yt=lt==le||lt==ke;if(rh(m))return Ap(m,Le);if(lt==ze||lt==ae||yt&&!ne){if(_e=Re||yt?{}:mC(m),!Le)return Re?OG(m,ct(_e,m)):EG(m,et(_e,m))}else{if(!en[lt])return ne?m:{};_e=qG(m,lt,Le)}}me||(me=new re);var It=me.get(m);if(It)return It;me.set(m,_e),VC(m)?m.forEach(function(Xt){_e.add(Vt(Xt,x,O,Xt,m,me))}):zC(m)&&m.forEach(function(Xt,$r){_e.set($r,Vt(Xt,x,O,$r,m,me))});var Zt=st?Re?RN:FN:Re?Gi:Aa,Cr=at?r:Zt(m);return wt(Cr||m,function(Xt,$r){Cr&&($r=Xt,Xt=m[$r]),Ze(_e,$r,Vt(Xt,x,O,$r,m,me))}),_e}function Et(m){var x=Aa(m);return function(O){return Mr(O,m,x)}}function Mr(m,x,O){var U=O.length;if(m==null)return!U;for(m=gn(m);U--;){var ne=O[U],me=x[ne],_e=m[ne];if(_e===r&&!(ne in m)||!me(_e))return!1}return!0}function As(m,x,O){if(typeof m!="function")throw new yi(o);return j0(function(){m.apply(r,O)},x)}function lr(m,x,O,U){var ne=-1,me=Sn,_e=!0,Le=m.length,Re=[],st=x.length;if(!Le)return Re;O&&(x=qt(x,tn(O))),U?(me=is,_e=!1):x.length>=a&&(me=Pl,_e=!1,x=new E(x));e:for(;++ne<Le;){var at=m[ne],lt=O==null?at:O(at);if(at=U||at!==0?at:0,_e&&lt===lt){for(var yt=st;yt--;)if(x[yt]===lt)continue e;Re.push(at)}else me(x,lt,U)||Re.push(at)}return Re}var St=eC(On),pt=eC(ua,!0);function xs(m,x){var O=!0;return St(m,function(U,ne,me){return O=!!x(U,ne,me),O}),O}function ir(m,x,O){for(var U=-1,ne=m.length;++U<ne;){var me=m[U],_e=x(me);if(_e!=null&&(Le===r?_e===_e&&!bo(_e):O(_e,Le)))var Le=_e,Re=me}return Re}function Vr(m,x,O,U){var ne=m.length;for(O=jr(O),O<0&&(O=-O>ne?0:ne+O),U=U===r||U>ne?ne:jr(U),U<0&&(U+=ne),U=O>U?0:WC(U);O<U;)m[O++]=x;return m}function kn(m,x){var O=[];return St(m,function(U,ne,me){x(U,ne,me)&&O.push(U)}),O}function qr(m,x,O,U,ne){var me=-1,_e=m.length;for(O||(O=HG),ne||(ne=[]);++me<_e;){var Le=m[me];x>0&&O(Le)?x>1?qr(Le,x-1,O,U,ne):_n(ne,Le):U||(ne[ne.length]=Le)}return ne}var da=tC(),Yn=tC(!0);function On(m,x){return m&&da(m,x,Aa)}function ua(m,x){return m&&Yn(m,x,Aa)}function ls(m,x){return kr(x,function(O){return kd(m[O])})}function wr(m,x){x=el(x,m);for(var O=0,U=x.length;m!=null&&O<U;)m=m[Oc(x[O++])];return O&&O==U?m:r}function cn(m,x,O){var U=x(m);return yr(m)?U:_n(U,O(m))}function Dr(m){return m==null?m===r?Pe:Ae:_c&&_c in gn(m)?BG(m):JG(m)}function nn(m,x){return m>x}function ha(m,x){return m!=null&&ln.call(m,x)}function xo(m,x){return m!=null&&x in gn(m)}function ys(m,x,O){return m>=Sa(x,O)&&m<Is(x,O)}function _a(m,x,O){for(var U=O?is:Sn,ne=m[0].length,me=m.length,_e=me,Le=Ge(me),Re=1/0,st=[];_e--;){var at=m[_e];_e&&x&&(at=qt(at,tn(x))),Re=Sa(at.length,Re),Le[_e]=!O&&(x||ne>=120&&at.length>=120)?new E(_e&&at):r}at=m[0];var lt=-1,yt=Le[0];e:for(;++lt<ne&&st.length<Re;){var It=at[lt],Zt=x?x(It):It;if(It=O||It!==0?It:0,!(yt?Pl(yt,Zt):U(st,Zt,O))){for(_e=me;--_e;){var Cr=Le[_e];if(!(Cr?Pl(Cr,Zt):U(m[_e],Zt,O)))continue e}yt&&yt.push(Zt),st.push(It)}}return st}function bn(m,x,O,U){return On(m,function(ne,me,_e){x(U,O(ne),me,_e)}),U}function Zn(m,x,O){x=el(x,m),m=yC(m,x);var U=m==null?m:m[Oc(tl(x))];return U==null?r:rt(U,m,O)}function ti(m){return ks(m)&&Dr(m)==ae}function Ba(m){return ks(m)&&Dr(m)==tt}function wi(m){return ks(m)&&Dr(m)==J}function fa(m,x,O,U,ne){return m===x?!0:m==null||x==null||!ks(m)&&!ks(x)?m!==m&&x!==x:ri(m,x,O,U,fa,ne)}function ri(m,x,O,U,ne,me){var _e=yr(m),Le=yr(x),Re=_e?de:si(m),st=Le?de:si(x);Re=Re==ae?ze:Re,st=st==ae?ze:st;var at=Re==ze,lt=st==ze,yt=Re==st;if(yt&&rh(m)){if(!rh(x))return!1;_e=!0,at=!1}if(yt&&!at)return me||(me=new re),_e||Tp(m)?uC(m,x,O,U,ne,me):RG(m,x,Re,O,U,ne,me);if(!(O&y)){var It=at&&ln.call(m,"__wrapped__"),Zt=lt&&ln.call(x,"__wrapped__");if(It||Zt){var Cr=It?m.value():m,Xt=Zt?x.value():x;return me||(me=new re),ne(Cr,Xt,O,U,me)}}return yt?(me||(me=new re),$G(m,x,O,U,ne,me)):!1}function ji(m){return ks(m)&&si(m)==Ne}function xn(m,x,O,U){var ne=O.length,me=ne,_e=!U;if(m==null)return!me;for(m=gn(m);ne--;){var Le=O[ne];if(_e&&Le[2]?Le[1]!==m[Le[0]]:!(Le[0]in m))return!1}for(;++ne<me;){Le=O[ne];var Re=Le[0],st=m[Re],at=Le[1];if(_e&&Le[2]){if(st===r&&!(Re in m))return!1}else{var lt=new re;if(U)var yt=U(st,at,Re,m,x,lt);if(!(yt===r?fa(at,st,y|g,U,lt):yt))return!1}}return!0}function ni(m){if(!vs(m)||KG(m))return!1;var x=kd(m)?lb:Go;return x.test(Ff(m))}function yo(m){return ks(m)&&Dr(m)==H}function jd(m){return ks(m)&&si(m)==te}function Dl(m){return ks(m)&&Fb(m.length)&&!!Jr[Dr(m)]}function Zs(m){return typeof m=="function"?m:m==null?Ki:typeof m=="object"?yr(m)?yb(m[0],m[1]):xb(m):rP(m)}function Gu(m){if(!w0(m))return ub(m);var x=[];for(var O in gn(m))ln.call(m,O)&&O!="constructor"&&x.push(O);return x}function m0(m){if(!vs(m))return QG(m);var x=w0(m),O=[];for(var U in m)U=="constructor"&&(x||!ln.call(m,U))||O.push(U);return O}function Ku(m,x){return m<x}function Yu(m,x){var O=-1,U=Hi(m)?Ge(m.length):[];return St(m,function(ne,me,_e){U[++O]=x(ne,me,_e)}),U}function xb(m){var x=BN(m);return x.length==1&&x[0][2]?gC(x[0][0],x[0][1]):function(O){return O===m||xn(O,m,x)}}function yb(m,x){return UN(m)&&pC(x)?gC(Oc(m),x):function(O){var U=QN(O,m);return U===r&&U===x?JN(O,m):fa(x,U,y|g)}}function Zu(m,x,O,U,ne){m!==x&&da(x,function(me,_e){if(ne||(ne=new re),vs(me))kc(m,x,_e,O,Zu,U,ne);else{var Le=U?U(qN(m,_e),me,_e+"",m,x,ne):r;Le===r&&(Le=me),$e(m,_e,Le)}},Gi)}function kc(m,x,O,U,ne,me,_e){var Le=qN(m,O),Re=qN(x,O),st=_e.get(Re);if(st){$e(m,O,st);return}var at=me?me(Le,Re,O+"",m,x,_e):r,lt=at===r;if(lt){var yt=yr(Re),It=!yt&&rh(Re),Zt=!yt&&!It&&Tp(Re);at=Re,yt||It||Zt?yr(Le)?at=Le:Ms(Le)?at=Wi(Le):It?(lt=!1,at=Ap(Re,!0)):Zt?(lt=!1,at=Z3(Re,!0)):at=[]:N0(Re)||Rf(Re)?(at=Le,Rf(Le)?at=HC(Le):(!vs(Le)||kd(Le))&&(at=mC(Re))):lt=!1}lt&&(_e.set(Re,at),ne(at,Re,U,me,_e),_e.delete(Re)),$e(m,O,at)}function vb(m,x){var O=m.length;if(O)return x+=x<0?O:0,Ad(x,O)?m[x]:r}function bb(m,x,O){x.length?x=qt(x,function(me){return yr(me)?function(_e){return wr(_e,me.length===1?me[0]:me)}:me}):x=[Ki];var U=-1;x=qt(x,tn(Kt()));var ne=Yu(m,function(me,_e,Le){var Re=qt(x,function(st){return st(me)});return{criteria:Re,index:++U,value:me}});return gf(ne,function(me,_e){return TG(me,_e,O)})}function EN(m,x){return p0(m,x,function(O,U){return JN(m,U)})}function p0(m,x,O){for(var U=-1,ne=x.length,me={};++U<ne;){var _e=x[U],Le=wr(m,_e);O(Le,_e)&&Qu(me,el(_e,m),Le)}return me}function wp(m){return function(x){return wr(x,m)}}function jp(m,x,O,U){var ne=U?Eu:Ko,me=-1,_e=x.length,Le=m;for(m===x&&(x=Wi(x)),O&&(Le=qt(m,tn(O)));++me<_e;)for(var Re=0,st=x[me],at=O?O(st):st;(Re=ne(Le,at,Re,U))>-1;)Le!==m&&$a.call(Le,Re,1),$a.call(m,Re,1);return m}function g0(m,x){for(var O=m?x.length:0,U=O-1;O--;){var ne=x[O];if(O==U||ne!==me){var me=ne;Ad(ne)?$a.call(m,ne,1):v0(m,ne)}}return m}function Xu(m,x){return m+zu(hb()*(x-m+1))}function x0(m,x,O,U){for(var ne=-1,me=Is(Bu((x-m)/(O||1)),0),_e=Ge(me);me--;)_e[U?me:++ne]=m,m+=O;return _e}function Nd(m,x){var O="";if(!m||x<1||x>q)return O;do x%2&&(O+=m),x=zu(x/2),x&&(m+=m);while(x);return O}function br(m,x){return WN(xC(m,x,Ki),m+"")}function ON(m){return We(Ep(m))}function Np(m,x){var O=Ep(m);return Eb(O,bt(x,0,O.length))}function Qu(m,x,O,U){if(!vs(m))return m;x=el(x,m);for(var ne=-1,me=x.length,_e=me-1,Le=m;Le!=null&&++ne<me;){var Re=Oc(x[ne]),st=O;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return m;if(ne!=_e){var at=Le[Re];st=U?U(at,Re,Le):r,st===r&&(st=vs(at)?at:Ad(x[ne+1])?[]:{})}Ze(Le,Re,st),Le=Le[Re]}return m}var Sp=yp?function(m,x){return yp.set(m,x),m}:Ki,Cc=wd?function(m,x){return wd(m,"toString",{configurable:!0,enumerable:!1,value:t5(x),writable:!0})}:Ki;function wb(m){return Eb(Ep(m))}function Ni(m,x,O){var U=-1,ne=m.length;x<0&&(x=-x>ne?0:ne+x),O=O>ne?ne:O,O<0&&(O+=ne),ne=x>O?0:O-x>>>0,x>>>=0;for(var me=Ge(ne);++U<ne;)me[U]=m[U+x];return me}function LN(m,x){var O;return St(m,function(U,ne,me){return O=x(U,ne,me),!O}),!!O}function If(m,x,O){var U=0,ne=m==null?U:m.length;if(typeof x=="number"&&x===x&&ne<=Z){for(;U<ne;){var me=U+ne>>>1,_e=m[me];_e!==null&&!bo(_e)&&(O?_e<=x:_e<x)?U=me+1:ne=me}return ne}return Pc(m,x,Ki,O)}function Pc(m,x,O,U){var ne=0,me=m==null?0:m.length;if(me===0)return 0;x=O(x);for(var _e=x!==x,Le=x===null,Re=bo(x),st=x===r;ne<me;){var at=zu((ne+me)/2),lt=O(m[at]),yt=lt!==r,It=lt===null,Zt=lt===lt,Cr=bo(lt);if(_e)var Xt=U||Zt;else st?Xt=Zt&&(U||yt):Le?Xt=Zt&&yt&&(U||!It):Re?Xt=Zt&&yt&&!It&&(U||!Cr):It||Cr?Xt=!1:Xt=U?lt<=x:lt<x;Xt?ne=at+1:me=at}return Sa(me,F)}function jb(m,x){for(var O=-1,U=m.length,ne=0,me=[];++O<U;){var _e=m[O],Le=x?x(_e):_e;if(!O||!$l(Le,Re)){var Re=Le;me[ne++]=_e===0?0:_e}}return me}function y0(m){return typeof m=="number"?m:bo(m)?ie:+m}function Si(m){if(typeof m=="string")return m;if(yr(m))return qt(m,Si)+"";if(bo(m))return vi?vi.call(m):"";var x=m+"";return x=="0"&&1/m==-X?"-0":x}function Fl(m,x,O){var U=-1,ne=Sn,me=m.length,_e=!0,Le=[],Re=Le;if(O)_e=!1,ne=is;else if(me>=a){var st=x?null:DG(m);if(st)return gi(st);_e=!1,ne=Pl,Re=new E}else Re=x?[]:Le;e:for(;++U<me;){var at=m[U],lt=x?x(at):at;if(at=O||at!==0?at:0,_e&&lt===lt){for(var yt=Re.length;yt--;)if(Re[yt]===lt)continue e;x&&Re.push(lt),Le.push(at)}else ne(Re,lt,O)||(Re!==Le&&Re.push(lt),Le.push(at))}return Le}function v0(m,x){return x=el(x,m),m=yC(m,x),m==null||delete m[Oc(tl(x))]}function Ju(m,x,O,U){return Qu(m,x,O(wr(m,x)),U)}function eh(m,x,O,U){for(var ne=m.length,me=U?ne:-1;(U?me--:++me<ne)&&x(m[me],me,m););return O?Ni(m,U?0:me,U?me+1:ne):Ni(m,U?me+1:0,U?ne:me)}function Mf(m,x){var O=m;return O instanceof Or&&(O=O.value()),os(x,function(U,ne){return ne.func.apply(ne.thisArg,_n([U],ne.args))},O)}function vo(m,x,O){var U=m.length;if(U<2)return U?Fl(m[0]):[];for(var ne=-1,me=Ge(U);++ne<U;)for(var _e=m[ne],Le=-1;++Le<U;)Le!=ne&&(me[ne]=lr(me[ne]||_e,m[Le],x,O));return Fl(qr(me,1),x,O)}function Rl(m,x,O){for(var U=-1,ne=m.length,me=x.length,_e={};++U<ne;){var Le=U<me?x[U]:r;O(_e,m[U],Le)}return _e}function Jo(m){return Ms(m)?m:[]}function th(m){return typeof m=="function"?m:Ki}function el(m,x){return yr(m)?m:UN(m,x)?[m]:jC(yn(m))}var Nb=br;function Tc(m,x,O){var U=m.length;return O=O===r?U:O,!x&&O>=U?m:Ni(m,x,O)}var _p=xp||function(m){return ps.clearTimeout(m)};function Ap(m,x){if(x)return m.slice();var O=m.length,U=l0?l0(O):new m.constructor(O);return m.copy(U),U}function IN(m){var x=new m.constructor(m.byteLength);return new Af(x).set(new Af(m)),x}function kG(m,x){var O=x?IN(m.buffer):m.buffer;return new m.constructor(O,m.byteOffset,m.byteLength)}function CG(m){var x=new m.constructor(m.source,zi.exec(m));return x.lastIndex=m.lastIndex,x}function PG(m){return qi?gn(qi.call(m)):{}}function Z3(m,x){var O=x?IN(m.buffer):m.buffer;return new m.constructor(O,m.byteOffset,m.length)}function X3(m,x){if(m!==x){var O=m!==r,U=m===null,ne=m===m,me=bo(m),_e=x!==r,Le=x===null,Re=x===x,st=bo(x);if(!Le&&!st&&!me&&m>x||me&&_e&&Re&&!Le&&!st||U&&_e&&Re||!O&&Re||!ne)return 1;if(!U&&!me&&!st&&m<x||st&&O&&ne&&!U&&!me||Le&&O&&ne||!_e&&ne||!Re)return-1}return 0}function TG(m,x,O){for(var U=-1,ne=m.criteria,me=x.criteria,_e=ne.length,Le=O.length;++U<_e;){var Re=X3(ne[U],me[U]);if(Re){if(U>=Le)return Re;var st=O[U];return Re*(st=="desc"?-1:1)}}return m.index-x.index}function Q3(m,x,O,U){for(var ne=-1,me=m.length,_e=O.length,Le=-1,Re=x.length,st=Is(me-_e,0),at=Ge(Re+st),lt=!U;++Le<Re;)at[Le]=x[Le];for(;++ne<_e;)(lt||ne<me)&&(at[O[ne]]=m[ne]);for(;st--;)at[Le++]=m[ne++];return at}function J3(m,x,O,U){for(var ne=-1,me=m.length,_e=-1,Le=O.length,Re=-1,st=x.length,at=Is(me-Le,0),lt=Ge(at+st),yt=!U;++ne<at;)lt[ne]=m[ne];for(var It=ne;++Re<st;)lt[It+Re]=x[Re];for(;++_e<Le;)(yt||ne<me)&&(lt[It+O[_e]]=m[ne++]);return lt}function Wi(m,x){var O=-1,U=m.length;for(x||(x=Ge(U));++O<U;)x[O]=m[O];return x}function Ec(m,x,O,U){var ne=!O;O||(O={});for(var me=-1,_e=x.length;++me<_e;){var Le=x[me],Re=U?U(O[Le],m[Le],Le,O,m):r;Re===r&&(Re=m[Le]),ne?nt(O,Le,Re):Ze(O,Le,Re)}return O}function EG(m,x){return Ec(m,zN(m),x)}function OG(m,x){return Ec(m,hC(m),x)}function Sb(m,x){return function(O,U){var ne=yr(O)?kt:Xe,me=x?x():{};return ne(O,m,Kt(U,2),me)}}function kp(m){return br(function(x,O){var U=-1,ne=O.length,me=ne>1?O[ne-1]:r,_e=ne>2?O[2]:r;for(me=m.length>3&&typeof me=="function"?(ne--,me):r,_e&&_i(O[0],O[1],_e)&&(me=ne<3?r:me,ne=1),x=gn(x);++U<ne;){var Le=O[U];Le&&m(x,Le,U,me)}return x})}function eC(m,x){return function(O,U){if(O==null)return O;if(!Hi(O))return m(O,U);for(var ne=O.length,me=x?ne:-1,_e=gn(O);(x?me--:++me<ne)&&U(_e[me],me,_e)!==!1;);return O}}function tC(m){return function(x,O,U){for(var ne=-1,me=gn(x),_e=U(x),Le=_e.length;Le--;){var Re=_e[m?Le:++ne];if(O(me[Re],Re,me)===!1)break}return x}}function LG(m,x,O){var U=x&v,ne=b0(m);function me(){var _e=this&&this!==ps&&this instanceof me?ne:m;return _e.apply(U?O:this,arguments)}return me}function rC(m){return function(x){x=yn(x);var O=pi(x)?ca(x):r,U=O?O[0]:x.charAt(0),ne=O?Tc(O,1).join(""):x.slice(1);return U[m]()+ne}}function Cp(m){return function(x){return os(eP(JC(x).replace(r0,"")),m,"")}}function b0(m){return function(){var x=arguments;switch(x.length){case 0:return new m;case 1:return new m(x[0]);case 2:return new m(x[0],x[1]);case 3:return new m(x[0],x[1],x[2]);case 4:return new m(x[0],x[1],x[2],x[3]);case 5:return new m(x[0],x[1],x[2],x[3],x[4]);case 6:return new m(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new m(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var O=Hu(m.prototype),U=m.apply(O,x);return vs(U)?U:O}}function IG(m,x,O){var U=b0(m);function ne(){for(var me=arguments.length,_e=Ge(me),Le=me,Re=Pp(ne);Le--;)_e[Le]=arguments[Le];var st=me<3&&_e[0]!==Re&&_e[me-1]!==Re?[]:la(_e,Re);if(me-=st.length,me<O)return oC(m,x,_b,ne.placeholder,r,_e,st,r,r,O-me);var at=this&&this!==ps&&this instanceof ne?U:m;return rt(at,this,_e)}return ne}function nC(m){return function(x,O,U){var ne=gn(x);if(!Hi(x)){var me=Kt(O,3);x=Aa(x),O=function(Le){return me(ne[Le],Le,ne)}}var _e=m(x,O,U);return _e>-1?ne[me?x[_e]:_e]:r}}function sC(m){return _d(function(x){var O=x.length,U=O,ne=bi.prototype.thru;for(m&&x.reverse();U--;){var me=x[U];if(typeof me!="function")throw new yi(o);if(ne&&!_e&&Pb(me)=="wrapper")var _e=new bi([],!0)}for(U=_e?U:O;++U<O;){me=x[U];var Le=Pb(me),Re=Le=="wrapper"?$N(me):r;Re&&VN(Re[0])&&Re[1]==(k|N|C|A)&&!Re[4].length&&Re[9]==1?_e=_e[Pb(Re[0])].apply(_e,Re[3]):_e=me.length==1&&VN(me)?_e[Le]():_e.thru(me)}return function(){var st=arguments,at=st[0];if(_e&&st.length==1&&yr(at))return _e.plant(at).value();for(var lt=0,yt=O?x[lt].apply(this,st):at;++lt<O;)yt=x[lt].call(this,yt);return yt}})}function _b(m,x,O,U,ne,me,_e,Le,Re,st){var at=x&k,lt=x&v,yt=x&b,It=x&(N|w),Zt=x&P,Cr=yt?r:b0(m);function Xt(){for(var $r=arguments.length,Wr=Ge($r),wo=$r;wo--;)Wr[wo]=arguments[wo];if(It)var Ai=Pp(Xt),jo=Mu(Wr,Ai);if(U&&(Wr=Q3(Wr,U,ne,It)),me&&(Wr=J3(Wr,me,_e,It)),$r-=jo,It&&$r<st){var Ds=la(Wr,Ai);return oC(m,x,_b,Xt.placeholder,O,Wr,Ds,Le,Re,st-$r)}var Bl=lt?O:this,Pd=yt?Bl[m]:m;return $r=Wr.length,Le?Wr=eK(Wr,Le):Zt&&$r>1&&Wr.reverse(),at&&Re<$r&&(Wr.length=Re),this&&this!==ps&&this instanceof Xt&&(Pd=Cr||b0(Pd)),Pd.apply(Bl,Wr)}return Xt}function aC(m,x){return function(O,U){return bn(O,m,x(U),{})}}function Ab(m,x){return function(O,U){var ne;if(O===r&&U===r)return x;if(O!==r&&(ne=O),U!==r){if(ne===r)return U;typeof O=="string"||typeof U=="string"?(O=Si(O),U=Si(U)):(O=y0(O),U=y0(U)),ne=m(O,U)}return ne}}function MN(m){return _d(function(x){return x=qt(x,tn(Kt())),br(function(O){var U=this;return m(x,function(ne){return rt(ne,U,O)})})})}function kb(m,x){x=x===r?" ":Si(x);var O=x.length;if(O<2)return O?Nd(x,m):x;var U=Nd(x,Bu(m/po(x)));return pi(x)?Tc(ca(U),0,m).join(""):U.slice(0,m)}function MG(m,x,O,U){var ne=x&v,me=b0(m);function _e(){for(var Le=-1,Re=arguments.length,st=-1,at=U.length,lt=Ge(at+Re),yt=this&&this!==ps&&this instanceof _e?me:m;++st<at;)lt[st]=U[st];for(;Re--;)lt[st++]=arguments[++Le];return rt(yt,ne?O:this,lt)}return _e}function iC(m){return function(x,O,U){return U&&typeof U!="number"&&_i(x,O,U)&&(O=U=r),x=Cd(x),O===r?(O=x,x=0):O=Cd(O),U=U===r?x<O?1:-1:Cd(U),x0(x,O,U,m)}}function Cb(m){return function(x,O){return typeof x=="string"&&typeof O=="string"||(x=rl(x),O=rl(O)),m(x,O)}}function oC(m,x,O,U,ne,me,_e,Le,Re,st){var at=x&N,lt=at?_e:r,yt=at?r:_e,It=at?me:r,Zt=at?r:me;x|=at?C:L,x&=~(at?L:C),x&S||(x&=~(v|b));var Cr=[m,x,ne,It,lt,Zt,yt,Le,Re,st],Xt=O.apply(r,Cr);return VN(m)&&vC(Xt,Cr),Xt.placeholder=U,bC(Xt,m,x)}function DN(m){var x=_s[m];return function(O,U){if(O=rl(O),U=U==null?0:Sa(jr(U),292),U&&db(O)){var ne=(yn(O)+"e").split("e"),me=x(ne[0]+"e"+(+ne[1]+U));return ne=(yn(me)+"e").split("e"),+(ne[0]+"e"+(+ne[1]-U))}return x(O)}}var DG=Vu&&1/gi(new Vu([,-0]))[1]==X?function(m){return new Vu(m)}:s5;function lC(m){return function(x){var O=si(x);return O==Ne?Kn(x):O==te?Du(x):Lu(x,m(x))}}function Sd(m,x,O,U,ne,me,_e,Le){var Re=x&b;if(!Re&&typeof m!="function")throw new yi(o);var st=U?U.length:0;if(st||(x&=~(C|L),U=ne=r),_e=_e===r?_e:Is(jr(_e),0),Le=Le===r?Le:jr(Le),st-=ne?ne.length:0,x&L){var at=U,lt=ne;U=ne=r}var yt=Re?r:$N(m),It=[m,x,O,U,ne,at,lt,me,_e,Le];if(yt&&XG(It,yt),m=It[0],x=It[1],O=It[2],U=It[3],ne=It[4],Le=It[9]=It[9]===r?Re?0:m.length:Is(It[9]-st,0),!Le&&x&(N|w)&&(x&=~(N|w)),!x||x==v)var Zt=LG(m,x,O);else x==N||x==w?Zt=IG(m,x,Le):(x==C||x==(v|C))&&!ne.length?Zt=MG(m,x,O,U):Zt=_b.apply(r,It);var Cr=yt?Sp:vC;return bC(Cr(Zt,It),m,x)}function cC(m,x,O,U){return m===r||$l(m,bd[O])&&!ln.call(U,O)?x:m}function dC(m,x,O,U,ne,me){return vs(m)&&vs(x)&&(me.set(x,m),Zu(m,x,r,dC,me),me.delete(x)),m}function FG(m){return N0(m)?r:m}function uC(m,x,O,U,ne,me){var _e=O&y,Le=m.length,Re=x.length;if(Le!=Re&&!(_e&&Re>Le))return!1;var st=me.get(m),at=me.get(x);if(st&&at)return st==x&&at==m;var lt=-1,yt=!0,It=O&g?new E:r;for(me.set(m,x),me.set(x,m);++lt<Le;){var Zt=m[lt],Cr=x[lt];if(U)var Xt=_e?U(Cr,Zt,lt,x,m,me):U(Zt,Cr,lt,m,x,me);if(Xt!==r){if(Xt)continue;yt=!1;break}if(It){if(!ho(x,function($r,Wr){if(!Pl(It,Wr)&&(Zt===$r||ne(Zt,$r,O,U,me)))return It.push(Wr)})){yt=!1;break}}else if(!(Zt===Cr||ne(Zt,Cr,O,U,me))){yt=!1;break}}return me.delete(m),me.delete(x),yt}function RG(m,x,O,U,ne,me,_e){switch(O){case it:if(m.byteLength!=x.byteLength||m.byteOffset!=x.byteOffset)return!1;m=m.buffer,x=x.buffer;case tt:return!(m.byteLength!=x.byteLength||!me(new Af(m),new Af(x)));case Se:case J:case G:return $l(+m,+x);case ee:return m.name==x.name&&m.message==x.message;case H:case ye:return m==x+"";case Ne:var Le=Kn;case te:var Re=U&y;if(Le||(Le=gi),m.size!=x.size&&!Re)return!1;var st=_e.get(m);if(st)return st==x;U|=g,_e.set(m,x);var at=uC(Le(m),Le(x),U,ne,me,_e);return _e.delete(m),at;case Ce:if(qi)return qi.call(m)==qi.call(x)}return!1}function $G(m,x,O,U,ne,me){var _e=O&y,Le=FN(m),Re=Le.length,st=FN(x),at=st.length;if(Re!=at&&!_e)return!1;for(var lt=Re;lt--;){var yt=Le[lt];if(!(_e?yt in x:ln.call(x,yt)))return!1}var It=me.get(m),Zt=me.get(x);if(It&&Zt)return It==x&&Zt==m;var Cr=!0;me.set(m,x),me.set(x,m);for(var Xt=_e;++lt<Re;){yt=Le[lt];var $r=m[yt],Wr=x[yt];if(U)var wo=_e?U(Wr,$r,yt,x,m,me):U($r,Wr,yt,m,x,me);if(!(wo===r?$r===Wr||ne($r,Wr,O,U,me):wo)){Cr=!1;break}Xt||(Xt=yt=="constructor")}if(Cr&&!Xt){var Ai=m.constructor,jo=x.constructor;Ai!=jo&&"constructor"in m&&"constructor"in x&&!(typeof Ai=="function"&&Ai instanceof Ai&&typeof jo=="function"&&jo instanceof jo)&&(Cr=!1)}return me.delete(m),me.delete(x),Cr}function _d(m){return WN(xC(m,r,AC),m+"")}function FN(m){return cn(m,Aa,zN)}function RN(m){return cn(m,Gi,hC)}var $N=yp?function(m){return yp.get(m)}:s5;function Pb(m){for(var x=m.name+"",O=Wu[x],U=ln.call(Wu,x)?O.length:0;U--;){var ne=O[U],me=ne.func;if(me==null||me==m)return ne.name}return x}function Pp(m){var x=ln.call(ue,"placeholder")?ue:m;return x.placeholder}function Kt(){var m=ue.iteratee||r5;return m=m===r5?Zs:m,arguments.length?m(arguments[0],arguments[1]):m}function Tb(m,x){var O=m.__data__;return GG(x)?O[typeof x=="string"?"string":"hash"]:O.map}function BN(m){for(var x=Aa(m),O=x.length;O--;){var U=x[O],ne=m[U];x[O]=[U,ne,pC(ne)]}return x}function Df(m,x){var O=Yo(m,x);return ni(O)?O:r}function BG(m){var x=ln.call(m,_c),O=m[_c];try{m[_c]=r;var U=!0}catch{}var ne=Sf.call(m);return U&&(x?m[_c]=O:delete m[_c]),ne}var zN=Uu?function(m){return m==null?[]:(m=gn(m),kr(Uu(m),function(x){return ei.call(m,x)}))}:a5,hC=Uu?function(m){for(var x=[];m;)_n(x,zN(m)),m=$u(m);return x}:a5,si=Dr;(Pf&&si(new Pf(new ArrayBuffer(1)))!=it||Ll&&si(new Ll)!=Ne||h0&&si(h0.resolve())!=Be||Vu&&si(new Vu)!=te||qu&&si(new qu)!=Ee)&&(si=function(m){var x=Dr(m),O=x==ze?m.constructor:r,U=O?Ff(O):"";if(U)switch(U){case bN:return it;case Ac:return Ne;case go:return Be;case Il:return te;case wN:return Ee}return x});function zG(m,x,O){for(var U=-1,ne=O.length;++U<ne;){var me=O[U],_e=me.size;switch(me.type){case"drop":m+=_e;break;case"dropRight":x-=_e;break;case"take":x=Sa(x,m+_e);break;case"takeRight":m=Is(m,x-_e);break}}return{start:m,end:x}}function UG(m){var x=m.match(aa);return x?x[1].split(hd):[]}function fC(m,x,O){x=el(x,m);for(var U=-1,ne=x.length,me=!1;++U<ne;){var _e=Oc(x[U]);if(!(me=m!=null&&O(m,_e)))break;m=m[_e]}return me||++U!=ne?me:(ne=m==null?0:m.length,!!ne&&Fb(ne)&&Ad(_e,ne)&&(yr(m)||Rf(m)))}function VG(m){var x=m.length,O=new m.constructor(x);return x&&typeof m[0]=="string"&&ln.call(m,"index")&&(O.index=m.index,O.input=m.input),O}function mC(m){return typeof m.constructor=="function"&&!w0(m)?Hu($u(m)):{}}function qG(m,x,O){var U=m.constructor;switch(x){case tt:return IN(m);case Se:case J:return new U(+m);case it:return kG(m,O);case ft:case mt:case ut:case zt:case er:case Nt:case tr:case Qr:case Ft:return Z3(m,O);case Ne:return new U;case G:case ye:return new U(m);case H:return CG(m);case te:return new U;case Ce:return PG(m)}}function WG(m,x){var O=x.length;if(!O)return m;var U=O-1;return x[U]=(O>1?"& ":"")+x[U],x=x.join(O>2?", ":" "),m.replace(Ys,`{
/* [wrapped with `+x+`] */
`)}function HG(m){return yr(m)||Rf(m)||!!(Cf&&m&&m[Cf])}function Ad(m,x){var O=typeof m;return x=x??q,!!x&&(O=="number"||O!="symbol"&&pu.test(m))&&m>-1&&m%1==0&&m<x}function _i(m,x,O){if(!vs(O))return!1;var U=typeof x;return(U=="number"?Hi(O)&&Ad(x,O.length):U=="string"&&x in O)?$l(O[x],m):!1}function UN(m,x){if(yr(m))return!1;var O=typeof m;return O=="number"||O=="symbol"||O=="boolean"||m==null||bo(m)?!0:Ht.test(m)||!Wo.test(m)||x!=null&&m in gn(x)}function GG(m){var x=typeof m;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?m!=="__proto__":m===null}function VN(m){var x=Pb(m),O=ue[x];if(typeof O!="function"||!(x in Or.prototype))return!1;if(m===O)return!0;var U=$N(O);return!!U&&m===U[0]}function KG(m){return!!Ru&&Ru in m}var YG=jf?kd:i5;function w0(m){var x=m&&m.constructor,O=typeof x=="function"&&x.prototype||bd;return m===O}function pC(m){return m===m&&!vs(m)}function gC(m,x){return function(O){return O==null?!1:O[m]===x&&(x!==r||m in gn(O))}}function ZG(m){var x=Mb(m,function(U){return O.size===d&&O.clear(),U}),O=x.cache;return x}function XG(m,x){var O=m[1],U=x[1],ne=O|U,me=ne<(v|b|k),_e=U==k&&O==N||U==k&&O==A&&m[7].length<=x[8]||U==(k|A)&&x[7].length<=x[8]&&O==N;if(!(me||_e))return m;U&v&&(m[2]=x[2],ne|=O&v?0:S);var Le=x[3];if(Le){var Re=m[3];m[3]=Re?Q3(Re,Le,x[4]):Le,m[4]=Re?la(m[3],u):x[4]}return Le=x[5],Le&&(Re=m[5],m[5]=Re?J3(Re,Le,x[6]):Le,m[6]=Re?la(m[5],u):x[6]),Le=x[7],Le&&(m[7]=Le),U&k&&(m[8]=m[8]==null?x[8]:Sa(m[8],x[8])),m[9]==null&&(m[9]=x[9]),m[0]=x[0],m[1]=ne,m}function QG(m){var x=[];if(m!=null)for(var O in gn(m))x.push(O);return x}function JG(m){return Sf.call(m)}function xC(m,x,O){return x=Is(x===r?m.length-1:x,0),function(){for(var U=arguments,ne=-1,me=Is(U.length-x,0),_e=Ge(me);++ne<me;)_e[ne]=U[x+ne];ne=-1;for(var Le=Ge(x+1);++ne<x;)Le[ne]=U[ne];return Le[x]=O(_e),rt(m,this,Le)}}function yC(m,x){return x.length<2?m:wr(m,Ni(x,0,-1))}function eK(m,x){for(var O=m.length,U=Sa(x.length,O),ne=Wi(m);U--;){var me=x[U];m[U]=Ad(me,O)?ne[me]:r}return m}function qN(m,x){if(!(x==="constructor"&&typeof m[x]=="function")&&x!="__proto__")return m[x]}var vC=wC(Sp),j0=cb||function(m,x){return ps.setTimeout(m,x)},WN=wC(Cc);function bC(m,x,O){var U=x+"";return WN(m,WG(U,tK(UG(U),O)))}function wC(m){var x=0,O=0;return function(){var U=yN(),ne=M-(U-O);if(O=U,ne>0){if(++x>=I)return arguments[0]}else x=0;return m.apply(r,arguments)}}function Eb(m,x){var O=-1,U=m.length,ne=U-1;for(x=x===r?U:x;++O<x;){var me=Xu(O,ne),_e=m[me];m[me]=m[O],m[O]=_e}return m.length=x,m}var jC=ZG(function(m){var x=[];return m.charCodeAt(0)===46&&x.push(""),m.replace(jl,function(O,U,ne,me){x.push(ne?me.replace(Ho,"$1"):U||O)}),x});function Oc(m){if(typeof m=="string"||bo(m))return m;var x=m+"";return x=="0"&&1/m==-X?"-0":x}function Ff(m){if(m!=null){try{return Nf.call(m)}catch{}try{return m+""}catch{}}return""}function tK(m,x){return wt(Q,function(O){var U="_."+O[0];x&O[1]&&!Sn(m,U)&&m.push(U)}),m.sort()}function NC(m){if(m instanceof Or)return m.clone();var x=new bi(m.__wrapped__,m.__chain__);return x.__actions__=Wi(m.__actions__),x.__index__=m.__index__,x.__values__=m.__values__,x}function rK(m,x,O){(O?_i(m,x,O):x===r)?x=1:x=Is(jr(x),0);var U=m==null?0:m.length;if(!U||x<1)return[];for(var ne=0,me=0,_e=Ge(Bu(U/x));ne<U;)_e[me++]=Ni(m,ne,ne+=x);return _e}function nK(m){for(var x=-1,O=m==null?0:m.length,U=0,ne=[];++x<O;){var me=m[x];me&&(ne[U++]=me)}return ne}function sK(){var m=arguments.length;if(!m)return[];for(var x=Ge(m-1),O=arguments[0],U=m;U--;)x[U-1]=arguments[U];return _n(yr(O)?Wi(O):[O],qr(x,1))}var aK=br(function(m,x){return Ms(m)?lr(m,qr(x,1,Ms,!0)):[]}),iK=br(function(m,x){var O=tl(x);return Ms(O)&&(O=r),Ms(m)?lr(m,qr(x,1,Ms,!0),Kt(O,2)):[]}),oK=br(function(m,x){var O=tl(x);return Ms(O)&&(O=r),Ms(m)?lr(m,qr(x,1,Ms,!0),r,O):[]});function lK(m,x,O){var U=m==null?0:m.length;return U?(x=O||x===r?1:jr(x),Ni(m,x<0?0:x,U)):[]}function cK(m,x,O){var U=m==null?0:m.length;return U?(x=O||x===r?1:jr(x),x=U-x,Ni(m,0,x<0?0:x)):[]}function dK(m,x){return m&&m.length?eh(m,Kt(x,3),!0,!0):[]}function uK(m,x){return m&&m.length?eh(m,Kt(x,3),!0):[]}function hK(m,x,O,U){var ne=m==null?0:m.length;return ne?(O&&typeof O!="number"&&_i(m,x,O)&&(O=0,U=ne),Vr(m,x,O,U)):[]}function SC(m,x,O){var U=m==null?0:m.length;if(!U)return-1;var ne=O==null?0:jr(O);return ne<0&&(ne=Is(U+ne,0)),Za(m,Kt(x,3),ne)}function _C(m,x,O){var U=m==null?0:m.length;if(!U)return-1;var ne=U-1;return O!==r&&(ne=jr(O),ne=O<0?Is(U+ne,0):Sa(ne,U-1)),Za(m,Kt(x,3),ne,!0)}function AC(m){var x=m==null?0:m.length;return x?qr(m,1):[]}function fK(m){var x=m==null?0:m.length;return x?qr(m,X):[]}function mK(m,x){var O=m==null?0:m.length;return O?(x=x===r?1:jr(x),qr(m,x)):[]}function pK(m){for(var x=-1,O=m==null?0:m.length,U={};++x<O;){var ne=m[x];U[ne[0]]=ne[1]}return U}function kC(m){return m&&m.length?m[0]:r}function gK(m,x,O){var U=m==null?0:m.length;if(!U)return-1;var ne=O==null?0:jr(O);return ne<0&&(ne=Is(U+ne,0)),Ko(m,x,ne)}function xK(m){var x=m==null?0:m.length;return x?Ni(m,0,-1):[]}var yK=br(function(m){var x=qt(m,Jo);return x.length&&x[0]===m[0]?_a(x):[]}),vK=br(function(m){var x=tl(m),O=qt(m,Jo);return x===tl(O)?x=r:O.pop(),O.length&&O[0]===m[0]?_a(O,Kt(x,2)):[]}),bK=br(function(m){var x=tl(m),O=qt(m,Jo);return x=typeof x=="function"?x:r,x&&O.pop(),O.length&&O[0]===m[0]?_a(O,r,x):[]});function wK(m,x){return m==null?"":xN.call(m,x)}function tl(m){var x=m==null?0:m.length;return x?m[x-1]:r}function jK(m,x,O){var U=m==null?0:m.length;if(!U)return-1;var ne=U;return O!==r&&(ne=jr(O),ne=ne<0?Is(U+ne,0):Sa(ne,U-1)),x===x?Fu(m,x,ne):Za(m,Cl,ne,!0)}function NK(m,x){return m&&m.length?vb(m,jr(x)):r}var SK=br(CC);function CC(m,x){return m&&m.length&&x&&x.length?jp(m,x):m}function _K(m,x,O){return m&&m.length&&x&&x.length?jp(m,x,Kt(O,2)):m}function AK(m,x,O){return m&&m.length&&x&&x.length?jp(m,x,r,O):m}var kK=_d(function(m,x){var O=m==null?0:m.length,U=Ot(m,x);return g0(m,qt(x,function(ne){return Ad(ne,O)?+ne:ne}).sort(X3)),U});function CK(m,x){var O=[];if(!(m&&m.length))return O;var U=-1,ne=[],me=m.length;for(x=Kt(x,3);++U<me;){var _e=m[U];x(_e,U,m)&&(O.push(_e),ne.push(U))}return g0(m,ne),O}function HN(m){return m==null?m:u0.call(m)}function PK(m,x,O){var U=m==null?0:m.length;return U?(O&&typeof O!="number"&&_i(m,x,O)?(x=0,O=U):(x=x==null?0:jr(x),O=O===r?U:jr(O)),Ni(m,x,O)):[]}function TK(m,x){return If(m,x)}function EK(m,x,O){return Pc(m,x,Kt(O,2))}function OK(m,x){var O=m==null?0:m.length;if(O){var U=If(m,x);if(U<O&&$l(m[U],x))return U}return-1}function LK(m,x){return If(m,x,!0)}function IK(m,x,O){return Pc(m,x,Kt(O,2),!0)}function MK(m,x){var O=m==null?0:m.length;if(O){var U=If(m,x,!0)-1;if($l(m[U],x))return U}return-1}function DK(m){return m&&m.length?jb(m):[]}function FK(m,x){return m&&m.length?jb(m,Kt(x,2)):[]}function RK(m){var x=m==null?0:m.length;return x?Ni(m,1,x):[]}function $K(m,x,O){return m&&m.length?(x=O||x===r?1:jr(x),Ni(m,0,x<0?0:x)):[]}function BK(m,x,O){var U=m==null?0:m.length;return U?(x=O||x===r?1:jr(x),x=U-x,Ni(m,x<0?0:x,U)):[]}function zK(m,x){return m&&m.length?eh(m,Kt(x,3),!1,!0):[]}function UK(m,x){return m&&m.length?eh(m,Kt(x,3)):[]}var VK=br(function(m){return Fl(qr(m,1,Ms,!0))}),qK=br(function(m){var x=tl(m);return Ms(x)&&(x=r),Fl(qr(m,1,Ms,!0),Kt(x,2))}),WK=br(function(m){var x=tl(m);return x=typeof x=="function"?x:r,Fl(qr(m,1,Ms,!0),r,x)});function HK(m){return m&&m.length?Fl(m):[]}function GK(m,x){return m&&m.length?Fl(m,Kt(x,2)):[]}function KK(m,x){return x=typeof x=="function"?x:r,m&&m.length?Fl(m,r,x):[]}function GN(m){if(!(m&&m.length))return[];var x=0;return m=kr(m,function(O){if(Ms(O))return x=Is(O.length,x),!0}),Ou(x,function(O){return qt(m,fo(O))})}function PC(m,x){if(!(m&&m.length))return[];var O=GN(m);return x==null?O:qt(O,function(U){return rt(x,r,U)})}var YK=br(function(m,x){return Ms(m)?lr(m,x):[]}),ZK=br(function(m){return vo(kr(m,Ms))}),XK=br(function(m){var x=tl(m);return Ms(x)&&(x=r),vo(kr(m,Ms),Kt(x,2))}),QK=br(function(m){var x=tl(m);return x=typeof x=="function"?x:r,vo(kr(m,Ms),r,x)}),JK=br(GN);function eY(m,x){return Rl(m||[],x||[],Ze)}function tY(m,x){return Rl(m||[],x||[],Qu)}var rY=br(function(m){var x=m.length,O=x>1?m[x-1]:r;return O=typeof O=="function"?(m.pop(),O):r,PC(m,O)});function TC(m){var x=ue(m);return x.__chain__=!0,x}function nY(m,x){return x(m),m}function Ob(m,x){return x(m)}var sY=_d(function(m){var x=m.length,O=x?m[0]:0,U=this.__wrapped__,ne=function(me){return Ot(me,m)};return x>1||this.__actions__.length||!(U instanceof Or)||!Ad(O)?this.thru(ne):(U=U.slice(O,+O+(x?1:0)),U.__actions__.push({func:Ob,args:[ne],thisArg:r}),new bi(U,this.__chain__).thru(function(me){return x&&!me.length&&me.push(r),me}))});function aY(){return TC(this)}function iY(){return new bi(this.value(),this.__chain__)}function oY(){this.__values__===r&&(this.__values__=qC(this.value()));var m=this.__index__>=this.__values__.length,x=m?r:this.__values__[this.__index__++];return{done:m,value:x}}function lY(){return this}function cY(m){for(var x,O=this;O instanceof Of;){var U=NC(O);U.__index__=0,U.__values__=r,x?ne.__wrapped__=U:x=U;var ne=U;O=O.__wrapped__}return ne.__wrapped__=m,x}function dY(){var m=this.__wrapped__;if(m instanceof Or){var x=m;return this.__actions__.length&&(x=new Or(this)),x=x.reverse(),x.__actions__.push({func:Ob,args:[HN],thisArg:r}),new bi(x,this.__chain__)}return this.thru(HN)}function uY(){return Mf(this.__wrapped__,this.__actions__)}var hY=Sb(function(m,x,O){ln.call(m,O)?++m[O]:nt(m,O,1)});function fY(m,x,O){var U=yr(m)?mr:xs;return O&&_i(m,x,O)&&(x=r),U(m,Kt(x,3))}function mY(m,x){var O=yr(m)?kr:kn;return O(m,Kt(x,3))}var pY=nC(SC),gY=nC(_C);function xY(m,x){return qr(Lb(m,x),1)}function yY(m,x){return qr(Lb(m,x),X)}function vY(m,x,O){return O=O===r?1:jr(O),qr(Lb(m,x),O)}function EC(m,x){var O=yr(m)?wt:St;return O(m,Kt(x,3))}function OC(m,x){var O=yr(m)?rr:pt;return O(m,Kt(x,3))}var bY=Sb(function(m,x,O){ln.call(m,O)?m[O].push(x):nt(m,O,[x])});function wY(m,x,O,U){m=Hi(m)?m:Ep(m),O=O&&!U?jr(O):0;var ne=m.length;return O<0&&(O=Is(ne+O,0)),Rb(m)?O<=ne&&m.indexOf(x,O)>-1:!!ne&&Ko(m,x,O)>-1}var jY=br(function(m,x,O){var U=-1,ne=typeof x=="function",me=Hi(m)?Ge(m.length):[];return St(m,function(_e){me[++U]=ne?rt(x,_e,O):Zn(_e,x,O)}),me}),NY=Sb(function(m,x,O){nt(m,O,x)});function Lb(m,x){var O=yr(m)?qt:Yu;return O(m,Kt(x,3))}function SY(m,x,O,U){return m==null?[]:(yr(x)||(x=x==null?[]:[x]),O=U?r:O,yr(O)||(O=O==null?[]:[O]),bb(m,x,O))}var _Y=Sb(function(m,x,O){m[O?0:1].push(x)},function(){return[[],[]]});function AY(m,x,O){var U=yr(m)?os:yd,ne=arguments.length<3;return U(m,Kt(x,4),O,ne,St)}function kY(m,x,O){var U=yr(m)?ia:yd,ne=arguments.length<3;return U(m,Kt(x,4),O,ne,pt)}function CY(m,x){var O=yr(m)?kr:kn;return O(m,Db(Kt(x,3)))}function PY(m){var x=yr(m)?We:ON;return x(m)}function TY(m,x,O){(O?_i(m,x,O):x===r)?x=1:x=jr(x);var U=yr(m)?we:Np;return U(m,x)}function EY(m){var x=yr(m)?De:wb;return x(m)}function OY(m){if(m==null)return 0;if(Hi(m))return Rb(m)?po(m):m.length;var x=si(m);return x==Ne||x==te?m.size:Gu(m).length}function LY(m,x,O){var U=yr(m)?ho:LN;return O&&_i(m,x,O)&&(x=r),U(m,Kt(x,3))}var IY=br(function(m,x){if(m==null)return[];var O=x.length;return O>1&&_i(m,x[0],x[1])?x=[]:O>2&&_i(x[0],x[1],x[2])&&(x=[x[0]]),bb(m,qr(x,1),[])}),Ib=c0||function(){return ps.Date.now()};function MY(m,x){if(typeof x!="function")throw new yi(o);return m=jr(m),function(){if(--m<1)return x.apply(this,arguments)}}function LC(m,x,O){return x=O?r:x,x=m&&x==null?m.length:x,Sd(m,k,r,r,r,r,x)}function IC(m,x){var O;if(typeof x!="function")throw new yi(o);return m=jr(m),function(){return--m>0&&(O=x.apply(this,arguments)),m<=1&&(x=r),O}}var KN=br(function(m,x,O){var U=v;if(O.length){var ne=la(O,Pp(KN));U|=C}return Sd(m,U,x,O,ne)}),MC=br(function(m,x,O){var U=v|b;if(O.length){var ne=la(O,Pp(MC));U|=C}return Sd(x,U,m,O,ne)});function DC(m,x,O){x=O?r:x;var U=Sd(m,N,r,r,r,r,r,x);return U.placeholder=DC.placeholder,U}function FC(m,x,O){x=O?r:x;var U=Sd(m,w,r,r,r,r,r,x);return U.placeholder=FC.placeholder,U}function RC(m,x,O){var U,ne,me,_e,Le,Re,st=0,at=!1,lt=!1,yt=!0;if(typeof m!="function")throw new yi(o);x=rl(x)||0,vs(O)&&(at=!!O.leading,lt="maxWait"in O,me=lt?Is(rl(O.maxWait)||0,x):me,yt="trailing"in O?!!O.trailing:yt);function It(Ds){var Bl=U,Pd=ne;return U=ne=r,st=Ds,_e=m.apply(Pd,Bl),_e}function Zt(Ds){return st=Ds,Le=j0($r,x),at?It(Ds):_e}function Cr(Ds){var Bl=Ds-Re,Pd=Ds-st,nP=x-Bl;return lt?Sa(nP,me-Pd):nP}function Xt(Ds){var Bl=Ds-Re,Pd=Ds-st;return Re===r||Bl>=x||Bl<0||lt&&Pd>=me}function $r(){var Ds=Ib();if(Xt(Ds))return Wr(Ds);Le=j0($r,Cr(Ds))}function Wr(Ds){return Le=r,yt&&U?It(Ds):(U=ne=r,_e)}function wo(){Le!==r&&_p(Le),st=0,U=Re=ne=Le=r}function Ai(){return Le===r?_e:Wr(Ib())}function jo(){var Ds=Ib(),Bl=Xt(Ds);if(U=arguments,ne=this,Re=Ds,Bl){if(Le===r)return Zt(Re);if(lt)return _p(Le),Le=j0($r,x),It(Re)}return Le===r&&(Le=j0($r,x)),_e}return jo.cancel=wo,jo.flush=Ai,jo}var DY=br(function(m,x){return As(m,1,x)}),FY=br(function(m,x,O){return As(m,rl(x)||0,O)});function RY(m){return Sd(m,P)}function Mb(m,x){if(typeof m!="function"||x!=null&&typeof x!="function")throw new yi(o);var O=function(){var U=arguments,ne=x?x.apply(this,U):U[0],me=O.cache;if(me.has(ne))return me.get(ne);var _e=m.apply(this,U);return O.cache=me.set(ne,_e)||me,_e};return O.cache=new(Mb.Cache||Qo),O}Mb.Cache=Qo;function Db(m){if(typeof m!="function")throw new yi(o);return function(){var x=arguments;switch(x.length){case 0:return!m.call(this);case 1:return!m.call(this,x[0]);case 2:return!m.call(this,x[0],x[1]);case 3:return!m.call(this,x[0],x[1],x[2])}return!m.apply(this,x)}}function $Y(m){return IC(2,m)}var BY=Nb(function(m,x){x=x.length==1&&yr(x[0])?qt(x[0],tn(Kt())):qt(qr(x,1),tn(Kt()));var O=x.length;return br(function(U){for(var ne=-1,me=Sa(U.length,O);++ne<me;)U[ne]=x[ne].call(this,U[ne]);return rt(m,this,U)})}),YN=br(function(m,x){var O=la(x,Pp(YN));return Sd(m,C,r,x,O)}),$C=br(function(m,x){var O=la(x,Pp($C));return Sd(m,L,r,x,O)}),zY=_d(function(m,x){return Sd(m,A,r,r,r,x)});function UY(m,x){if(typeof m!="function")throw new yi(o);return x=x===r?x:jr(x),br(m,x)}function VY(m,x){if(typeof m!="function")throw new yi(o);return x=x==null?0:Is(jr(x),0),br(function(O){var U=O[x],ne=Tc(O,0,x);return U&&_n(ne,U),rt(m,this,ne)})}function qY(m,x,O){var U=!0,ne=!0;if(typeof m!="function")throw new yi(o);return vs(O)&&(U="leading"in O?!!O.leading:U,ne="trailing"in O?!!O.trailing:ne),RC(m,x,{leading:U,maxWait:x,trailing:ne})}function WY(m){return LC(m,1)}function HY(m,x){return YN(th(x),m)}function GY(){if(!arguments.length)return[];var m=arguments[0];return yr(m)?m:[m]}function KY(m){return Vt(m,f)}function YY(m,x){return x=typeof x=="function"?x:r,Vt(m,f,x)}function ZY(m){return Vt(m,h|f)}function XY(m,x){return x=typeof x=="function"?x:r,Vt(m,h|f,x)}function QY(m,x){return x==null||Mr(m,x,Aa(x))}function $l(m,x){return m===x||m!==m&&x!==x}var JY=Cb(nn),eZ=Cb(function(m,x){return m>=x}),Rf=ti(function(){return arguments}())?ti:function(m){return ks(m)&&ln.call(m,"callee")&&!ei.call(m,"callee")},yr=Ge.isArray,tZ=R?tn(R):Ba;function Hi(m){return m!=null&&Fb(m.length)&&!kd(m)}function Ms(m){return ks(m)&&Hi(m)}function rZ(m){return m===!0||m===!1||ks(m)&&Dr(m)==Se}var rh=d0||i5,nZ=se?tn(se):wi;function sZ(m){return ks(m)&&m.nodeType===1&&!N0(m)}function aZ(m){if(m==null)return!0;if(Hi(m)&&(yr(m)||typeof m=="string"||typeof m.splice=="function"||rh(m)||Tp(m)||Rf(m)))return!m.length;var x=si(m);if(x==Ne||x==te)return!m.size;if(w0(m))return!Gu(m).length;for(var O in m)if(ln.call(m,O))return!1;return!0}function iZ(m,x){return fa(m,x)}function oZ(m,x,O){O=typeof O=="function"?O:r;var U=O?O(m,x):r;return U===r?fa(m,x,r,O):!!U}function ZN(m){if(!ks(m))return!1;var x=Dr(m);return x==ee||x==he||typeof m.message=="string"&&typeof m.name=="string"&&!N0(m)}function lZ(m){return typeof m=="number"&&db(m)}function kd(m){if(!vs(m))return!1;var x=Dr(m);return x==le||x==ke||x==ge||x==qe}function BC(m){return typeof m=="number"&&m==jr(m)}function Fb(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=q}function vs(m){var x=typeof m;return m!=null&&(x=="object"||x=="function")}function ks(m){return m!=null&&typeof m=="object"}var zC=je?tn(je):ji;function cZ(m,x){return m===x||xn(m,x,BN(x))}function dZ(m,x,O){return O=typeof O=="function"?O:r,xn(m,x,BN(x),O)}function uZ(m){return UC(m)&&m!=+m}function hZ(m){if(YG(m))throw new Ut(i);return ni(m)}function fZ(m){return m===null}function mZ(m){return m==null}function UC(m){return typeof m=="number"||ks(m)&&Dr(m)==G}function N0(m){if(!ks(m)||Dr(m)!=ze)return!1;var x=$u(m);if(x===null)return!0;var O=ln.call(x,"constructor")&&x.constructor;return typeof O=="function"&&O instanceof O&&Nf.call(O)==ib}var XN=Te?tn(Te):yo;function pZ(m){return BC(m)&&m>=-q&&m<=q}var VC=Fe?tn(Fe):jd;function Rb(m){return typeof m=="string"||!yr(m)&&ks(m)&&Dr(m)==ye}function bo(m){return typeof m=="symbol"||ks(m)&&Dr(m)==Ce}var Tp=Je?tn(Je):Dl;function gZ(m){return m===r}function xZ(m){return ks(m)&&si(m)==Ee}function yZ(m){return ks(m)&&Dr(m)==Ve}var vZ=Cb(Ku),bZ=Cb(function(m,x){return m<=x});function qC(m){if(!m)return[];if(Hi(m))return Rb(m)?ca(m):Wi(m);if(Sc&&m[Sc])return jc(m[Sc]());var x=si(m),O=x==Ne?Kn:x==te?gi:Ep;return O(m)}function Cd(m){if(!m)return m===0?m:0;if(m=rl(m),m===X||m===-X){var x=m<0?-1:1;return x*Y}return m===m?m:0}function jr(m){var x=Cd(m),O=x%1;return x===x?O?x-O:x:0}function WC(m){return m?bt(jr(m),0,W):0}function rl(m){if(typeof m=="number")return m;if(bo(m))return ie;if(vs(m)){var x=typeof m.valueOf=="function"?m.valueOf():m;m=vs(x)?x+"":x}if(typeof m!="string")return m===0?m:+m;m=xf(m);var O=fd.test(m);return O||md.test(m)?xd(m.slice(2),O?2:8):Ui.test(m)?ie:+m}function HC(m){return Ec(m,Gi(m))}function wZ(m){return m?bt(jr(m),-q,q):m===0?m:0}function yn(m){return m==null?"":Si(m)}var jZ=kp(function(m,x){if(w0(x)||Hi(x)){Ec(x,Aa(x),m);return}for(var O in x)ln.call(x,O)&&Ze(m,O,x[O])}),GC=kp(function(m,x){Ec(x,Gi(x),m)}),$b=kp(function(m,x,O,U){Ec(x,Gi(x),m,U)}),NZ=kp(function(m,x,O,U){Ec(x,Aa(x),m,U)}),SZ=_d(Ot);function _Z(m,x){var O=Hu(m);return x==null?O:et(O,x)}var AZ=br(function(m,x){m=gn(m);var O=-1,U=x.length,ne=U>2?x[2]:r;for(ne&&_i(x[0],x[1],ne)&&(U=1);++O<U;)for(var me=x[O],_e=Gi(me),Le=-1,Re=_e.length;++Le<Re;){var st=_e[Le],at=m[st];(at===r||$l(at,bd[st])&&!ln.call(m,st))&&(m[st]=me[st])}return m}),kZ=br(function(m){return m.push(r,dC),rt(KC,r,m)});function CZ(m,x){return wc(m,Kt(x,3),On)}function PZ(m,x){return wc(m,Kt(x,3),ua)}function TZ(m,x){return m==null?m:da(m,Kt(x,3),Gi)}function EZ(m,x){return m==null?m:Yn(m,Kt(x,3),Gi)}function OZ(m,x){return m&&On(m,Kt(x,3))}function LZ(m,x){return m&&ua(m,Kt(x,3))}function IZ(m){return m==null?[]:ls(m,Aa(m))}function MZ(m){return m==null?[]:ls(m,Gi(m))}function QN(m,x,O){var U=m==null?r:wr(m,x);return U===r?O:U}function DZ(m,x){return m!=null&&fC(m,x,ha)}function JN(m,x){return m!=null&&fC(m,x,xo)}var FZ=aC(function(m,x,O){x!=null&&typeof x.toString!="function"&&(x=Sf.call(x)),m[x]=O},t5(Ki)),RZ=aC(function(m,x,O){x!=null&&typeof x.toString!="function"&&(x=Sf.call(x)),ln.call(m,x)?m[x].push(O):m[x]=[O]},Kt),$Z=br(Zn);function Aa(m){return Hi(m)?Me(m):Gu(m)}function Gi(m){return Hi(m)?Me(m,!0):m0(m)}function BZ(m,x){var O={};return x=Kt(x,3),On(m,function(U,ne,me){nt(O,x(U,ne,me),U)}),O}function zZ(m,x){var O={};return x=Kt(x,3),On(m,function(U,ne,me){nt(O,ne,x(U,ne,me))}),O}var UZ=kp(function(m,x,O){Zu(m,x,O)}),KC=kp(function(m,x,O,U){Zu(m,x,O,U)}),VZ=_d(function(m,x){var O={};if(m==null)return O;var U=!1;x=qt(x,function(me){return me=el(me,m),U||(U=me.length>1),me}),Ec(m,RN(m),O),U&&(O=Vt(O,h|p|f,FG));for(var ne=x.length;ne--;)v0(O,x[ne]);return O});function qZ(m,x){return YC(m,Db(Kt(x)))}var WZ=_d(function(m,x){return m==null?{}:EN(m,x)});function YC(m,x){if(m==null)return{};var O=qt(RN(m),function(U){return[U]});return x=Kt(x),p0(m,O,function(U,ne){return x(U,ne[0])})}function HZ(m,x,O){x=el(x,m);var U=-1,ne=x.length;for(ne||(ne=1,m=r);++U<ne;){var me=m==null?r:m[Oc(x[U])];me===r&&(U=ne,me=O),m=kd(me)?me.call(m):me}return m}function GZ(m,x,O){return m==null?m:Qu(m,x,O)}function KZ(m,x,O,U){return U=typeof U=="function"?U:r,m==null?m:Qu(m,x,O,U)}var ZC=lC(Aa),XC=lC(Gi);function YZ(m,x,O){var U=yr(m),ne=U||rh(m)||Tp(m);if(x=Kt(x,4),O==null){var me=m&&m.constructor;ne?O=U?new me:[]:vs(m)?O=kd(me)?Hu($u(m)):{}:O={}}return(ne?wt:On)(m,function(_e,Le,Re){return x(O,_e,Le,Re)}),O}function ZZ(m,x){return m==null?!0:v0(m,x)}function XZ(m,x,O){return m==null?m:Ju(m,x,th(O))}function QZ(m,x,O,U){return U=typeof U=="function"?U:r,m==null?m:Ju(m,x,th(O),U)}function Ep(m){return m==null?[]:Xa(m,Aa(m))}function JZ(m){return m==null?[]:Xa(m,Gi(m))}function eX(m,x,O){return O===r&&(O=x,x=r),O!==r&&(O=rl(O),O=O===O?O:0),x!==r&&(x=rl(x),x=x===x?x:0),bt(rl(m),x,O)}function tX(m,x,O){return x=Cd(x),O===r?(O=x,x=0):O=Cd(O),m=rl(m),ys(m,x,O)}function rX(m,x,O){if(O&&typeof O!="boolean"&&_i(m,x,O)&&(x=O=r),O===r&&(typeof x=="boolean"?(O=x,x=r):typeof m=="boolean"&&(O=m,m=r)),m===r&&x===r?(m=0,x=1):(m=Cd(m),x===r?(x=m,m=0):x=Cd(x)),m>x){var U=m;m=x,x=U}if(O||m%1||x%1){var ne=hb();return Sa(m+ne*(x-m+gd("1e-"+((ne+"").length-1))),x)}return Xu(m,x)}var nX=Cp(function(m,x,O){return x=x.toLowerCase(),m+(O?QC(x):x)});function QC(m){return e5(yn(m).toLowerCase())}function JC(m){return m=yn(m),m&&m.replace(gu,Qa).replace(n0,"")}function sX(m,x,O){m=yn(m),x=Si(x);var U=m.length;O=O===r?U:bt(jr(O),0,U);var ne=O;return O-=x.length,O>=0&&m.slice(O,ne)==x}function aX(m){return m=yn(m),m&&on.test(m)?m.replace(pn,Ja):m}function iX(m){return m=yn(m),m&&Bi.test(m)?m.replace(ao,"\\$&"):m}var oX=Cp(function(m,x,O){return m+(O?"-":"")+x.toLowerCase()}),lX=Cp(function(m,x,O){return m+(O?" ":"")+x.toLowerCase()}),cX=rC("toLowerCase");function dX(m,x,O){m=yn(m),x=jr(x);var U=x?po(m):0;if(!x||U>=x)return m;var ne=(x-U)/2;return kb(zu(ne),O)+m+kb(Bu(ne),O)}function uX(m,x,O){m=yn(m),x=jr(x);var U=x?po(m):0;return x&&U<x?m+kb(x-U,O):m}function hX(m,x,O){m=yn(m),x=jr(x);var U=x?po(m):0;return x&&U<x?kb(x-U,O)+m:m}function fX(m,x,O){return O||x==null?x=0:x&&(x=+x),vN(yn(m).replace(Ka,""),x||0)}function mX(m,x,O){return(O?_i(m,x,O):x===r)?x=1:x=jr(x),Nd(yn(m),x)}function pX(){var m=arguments,x=yn(m[0]);return m.length<3?x:x.replace(m[1],m[2])}var gX=Cp(function(m,x,O){return m+(O?"_":"")+x.toLowerCase()});function xX(m,x,O){return O&&typeof O!="number"&&_i(m,x,O)&&(x=O=r),O=O===r?W:O>>>0,O?(m=yn(m),m&&(typeof x=="string"||x!=null&&!XN(x))&&(x=Si(x),!x&&pi(m))?Tc(ca(m),0,O):m.split(x,O)):[]}var yX=Cp(function(m,x,O){return m+(O?" ":"")+e5(x)});function vX(m,x,O){return m=yn(m),O=O==null?0:bt(jr(O),0,m.length),x=Si(x),m.slice(O,O+x.length)==x}function bX(m,x,O){var U=ue.templateSettings;O&&_i(m,x,O)&&(x=r),m=yn(m),x=$b({},x,U,cC);var ne=$b({},x.imports,U.imports,cC),me=Aa(ne),_e=Xa(ne,me),Le,Re,st=0,at=x.interpolate||Nl,lt="__p += '",yt=gp((x.escape||Nl).source+"|"+at.source+"|"+(at===qo?oo:Nl).source+"|"+(x.evaluate||Nl).source+"|$","g"),It="//# sourceURL="+(ln.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ff+"]")+`
`;m.replace(yt,function(Xt,$r,Wr,wo,Ai,jo){return Wr||(Wr=wo),lt+=m.slice(st,jo).replace(Zx,vd),$r&&(Le=!0,lt+=`' +
__e(`+$r+`) +
'`),Ai&&(Re=!0,lt+=`';
`+Ai+`;
__p += '`),Wr&&(lt+=`' +
((__t = (`+Wr+`)) == null ? '' : __t) +
'`),st=jo+Xt.length,Xt}),lt+=`';
`;var Zt=ln.call(x,"variable")&&x.variable;if(!Zt)lt=`with (obj) {
`+lt+`
}
`;else if(io.test(Zt))throw new Ut(l);lt=(Re?lt.replace(Ar,""):lt).replace(fr,"$1").replace(hs,"$1;"),lt="function("+(Zt||"obj")+`) {
`+(Zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Le?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var Cr=tP(function(){return Rr(me,It+"return "+lt).apply(r,_e)});if(Cr.source=lt,ZN(Cr))throw Cr;return Cr}function wX(m){return yn(m).toLowerCase()}function jX(m){return yn(m).toUpperCase()}function NX(m,x,O){if(m=yn(m),m&&(O||x===r))return xf(m);if(!m||!(x=Si(x)))return m;var U=ca(m),ne=ca(x),me=Iu(U,ne),_e=Tl(U,ne)+1;return Tc(U,me,_e).join("")}function SX(m,x,O){if(m=yn(m),m&&(O||x===r))return m.slice(0,Nc(m)+1);if(!m||!(x=Si(x)))return m;var U=ca(m),ne=Tl(U,ca(x))+1;return Tc(U,0,ne).join("")}function _X(m,x,O){if(m=yn(m),m&&(O||x===r))return m.replace(Ka,"");if(!m||!(x=Si(x)))return m;var U=ca(m),ne=Iu(U,ca(x));return Tc(U,ne).join("")}function AX(m,x){var O=B,U=T;if(vs(x)){var ne="separator"in x?x.separator:ne;O="length"in x?jr(x.length):O,U="omission"in x?Si(x.omission):U}m=yn(m);var me=m.length;if(pi(m)){var _e=ca(m);me=_e.length}if(O>=me)return m;var Le=O-po(U);if(Le<1)return U;var Re=_e?Tc(_e,0,Le).join(""):m.slice(0,Le);if(ne===r)return Re+U;if(_e&&(Le+=Re.length-Le),XN(ne)){if(m.slice(Le).search(ne)){var st,at=Re;for(ne.global||(ne=gp(ne.source,yn(zi.exec(ne))+"g")),ne.lastIndex=0;st=ne.exec(at);)var lt=st.index;Re=Re.slice(0,lt===r?Le:lt)}}else if(m.indexOf(Si(ne),Le)!=Le){var yt=Re.lastIndexOf(ne);yt>-1&&(Re=Re.slice(0,yt))}return Re+U}function kX(m){return m=yn(m),m&&or.test(m)?m.replace(Ss,El):m}var CX=Cp(function(m,x,O){return m+(O?" ":"")+x.toUpperCase()}),e5=rC("toUpperCase");function eP(m,x,O){return m=yn(m),x=O?r:x,x===r?yf(m)?Zo(m):mp(m):m.match(x)||[]}var tP=br(function(m,x){try{return rt(m,r,x)}catch(O){return ZN(O)?O:new Ut(O)}}),PX=_d(function(m,x){return wt(x,function(O){O=Oc(O),nt(m,O,KN(m[O],m))}),m});function TX(m){var x=m==null?0:m.length,O=Kt();return m=x?qt(m,function(U){if(typeof U[1]!="function")throw new yi(o);return[O(U[0]),U[1]]}):[],br(function(U){for(var ne=-1;++ne<x;){var me=m[ne];if(rt(me[0],this,U))return rt(me[1],this,U)}})}function EX(m){return Et(Vt(m,h))}function t5(m){return function(){return m}}function OX(m,x){return m==null||m!==m?x:m}var LX=sC(),IX=sC(!0);function Ki(m){return m}function r5(m){return Zs(typeof m=="function"?m:Vt(m,h))}function MX(m){return xb(Vt(m,h))}function DX(m,x){return yb(m,Vt(x,h))}var FX=br(function(m,x){return function(O){return Zn(O,m,x)}}),RX=br(function(m,x){return function(O){return Zn(m,O,x)}});function n5(m,x,O){var U=Aa(x),ne=ls(x,U);O==null&&!(vs(x)&&(ne.length||!U.length))&&(O=x,x=m,m=this,ne=ls(x,Aa(x)));var me=!(vs(O)&&"chain"in O)||!!O.chain,_e=kd(m);return wt(ne,function(Le){var Re=x[Le];m[Le]=Re,_e&&(m.prototype[Le]=function(){var st=this.__chain__;if(me||st){var at=m(this.__wrapped__),lt=at.__actions__=Wi(this.__actions__);return lt.push({func:Re,args:arguments,thisArg:m}),at.__chain__=st,at}return Re.apply(m,_n([this.value()],arguments))})}),m}function $X(){return ps._===this&&(ps._=ob),this}function s5(){}function BX(m){return m=jr(m),br(function(x){return vb(x,m)})}var zX=MN(qt),UX=MN(mr),VX=MN(ho);function rP(m){return UN(m)?fo(Oc(m)):wp(m)}function qX(m){return function(x){return m==null?r:wr(m,x)}}var WX=iC(),HX=iC(!0);function a5(){return[]}function i5(){return!1}function GX(){return{}}function KX(){return""}function YX(){return!0}function ZX(m,x){if(m=jr(m),m<1||m>q)return[];var O=W,U=Sa(m,W);x=Kt(x),m-=W;for(var ne=Ou(U,x);++O<m;)x(O);return ne}function XX(m){return yr(m)?qt(m,Oc):bo(m)?[m]:Wi(jC(yn(m)))}function QX(m){var x=++ab;return yn(m)+x}var JX=Ab(function(m,x){return m+x},0),eQ=DN("ceil"),tQ=Ab(function(m,x){return m/x},1),rQ=DN("floor");function nQ(m){return m&&m.length?ir(m,Ki,nn):r}function sQ(m,x){return m&&m.length?ir(m,Kt(x,2),nn):r}function aQ(m){return Ls(m,Ki)}function iQ(m,x){return Ls(m,Kt(x,2))}function oQ(m){return m&&m.length?ir(m,Ki,Ku):r}function lQ(m,x){return m&&m.length?ir(m,Kt(x,2),Ku):r}var cQ=Ab(function(m,x){return m*x},1),dQ=DN("round"),uQ=Ab(function(m,x){return m-x},0);function hQ(m){return m&&m.length?oa(m,Ki):0}function fQ(m,x){return m&&m.length?oa(m,Kt(x,2)):0}return ue.after=MY,ue.ary=LC,ue.assign=jZ,ue.assignIn=GC,ue.assignInWith=$b,ue.assignWith=NZ,ue.at=SZ,ue.before=IC,ue.bind=KN,ue.bindAll=PX,ue.bindKey=MC,ue.castArray=GY,ue.chain=TC,ue.chunk=rK,ue.compact=nK,ue.concat=sK,ue.cond=TX,ue.conforms=EX,ue.constant=t5,ue.countBy=hY,ue.create=_Z,ue.curry=DC,ue.curryRight=FC,ue.debounce=RC,ue.defaults=AZ,ue.defaultsDeep=kZ,ue.defer=DY,ue.delay=FY,ue.difference=aK,ue.differenceBy=iK,ue.differenceWith=oK,ue.drop=lK,ue.dropRight=cK,ue.dropRightWhile=dK,ue.dropWhile=uK,ue.fill=hK,ue.filter=mY,ue.flatMap=xY,ue.flatMapDeep=yY,ue.flatMapDepth=vY,ue.flatten=AC,ue.flattenDeep=fK,ue.flattenDepth=mK,ue.flip=RY,ue.flow=LX,ue.flowRight=IX,ue.fromPairs=pK,ue.functions=IZ,ue.functionsIn=MZ,ue.groupBy=bY,ue.initial=xK,ue.intersection=yK,ue.intersectionBy=vK,ue.intersectionWith=bK,ue.invert=FZ,ue.invertBy=RZ,ue.invokeMap=jY,ue.iteratee=r5,ue.keyBy=NY,ue.keys=Aa,ue.keysIn=Gi,ue.map=Lb,ue.mapKeys=BZ,ue.mapValues=zZ,ue.matches=MX,ue.matchesProperty=DX,ue.memoize=Mb,ue.merge=UZ,ue.mergeWith=KC,ue.method=FX,ue.methodOf=RX,ue.mixin=n5,ue.negate=Db,ue.nthArg=BX,ue.omit=VZ,ue.omitBy=qZ,ue.once=$Y,ue.orderBy=SY,ue.over=zX,ue.overArgs=BY,ue.overEvery=UX,ue.overSome=VX,ue.partial=YN,ue.partialRight=$C,ue.partition=_Y,ue.pick=WZ,ue.pickBy=YC,ue.property=rP,ue.propertyOf=qX,ue.pull=SK,ue.pullAll=CC,ue.pullAllBy=_K,ue.pullAllWith=AK,ue.pullAt=kK,ue.range=WX,ue.rangeRight=HX,ue.rearg=zY,ue.reject=CY,ue.remove=CK,ue.rest=UY,ue.reverse=HN,ue.sampleSize=TY,ue.set=GZ,ue.setWith=KZ,ue.shuffle=EY,ue.slice=PK,ue.sortBy=IY,ue.sortedUniq=DK,ue.sortedUniqBy=FK,ue.split=xX,ue.spread=VY,ue.tail=RK,ue.take=$K,ue.takeRight=BK,ue.takeRightWhile=zK,ue.takeWhile=UK,ue.tap=nY,ue.throttle=qY,ue.thru=Ob,ue.toArray=qC,ue.toPairs=ZC,ue.toPairsIn=XC,ue.toPath=XX,ue.toPlainObject=HC,ue.transform=YZ,ue.unary=WY,ue.union=VK,ue.unionBy=qK,ue.unionWith=WK,ue.uniq=HK,ue.uniqBy=GK,ue.uniqWith=KK,ue.unset=ZZ,ue.unzip=GN,ue.unzipWith=PC,ue.update=XZ,ue.updateWith=QZ,ue.values=Ep,ue.valuesIn=JZ,ue.without=YK,ue.words=eP,ue.wrap=HY,ue.xor=ZK,ue.xorBy=XK,ue.xorWith=QK,ue.zip=JK,ue.zipObject=eY,ue.zipObjectDeep=tY,ue.zipWith=rY,ue.entries=ZC,ue.entriesIn=XC,ue.extend=GC,ue.extendWith=$b,n5(ue,ue),ue.add=JX,ue.attempt=tP,ue.camelCase=nX,ue.capitalize=QC,ue.ceil=eQ,ue.clamp=eX,ue.clone=KY,ue.cloneDeep=ZY,ue.cloneDeepWith=XY,ue.cloneWith=YY,ue.conformsTo=QY,ue.deburr=JC,ue.defaultTo=OX,ue.divide=tQ,ue.endsWith=sX,ue.eq=$l,ue.escape=aX,ue.escapeRegExp=iX,ue.every=fY,ue.find=pY,ue.findIndex=SC,ue.findKey=CZ,ue.findLast=gY,ue.findLastIndex=_C,ue.findLastKey=PZ,ue.floor=rQ,ue.forEach=EC,ue.forEachRight=OC,ue.forIn=TZ,ue.forInRight=EZ,ue.forOwn=OZ,ue.forOwnRight=LZ,ue.get=QN,ue.gt=JY,ue.gte=eZ,ue.has=DZ,ue.hasIn=JN,ue.head=kC,ue.identity=Ki,ue.includes=wY,ue.indexOf=gK,ue.inRange=tX,ue.invoke=$Z,ue.isArguments=Rf,ue.isArray=yr,ue.isArrayBuffer=tZ,ue.isArrayLike=Hi,ue.isArrayLikeObject=Ms,ue.isBoolean=rZ,ue.isBuffer=rh,ue.isDate=nZ,ue.isElement=sZ,ue.isEmpty=aZ,ue.isEqual=iZ,ue.isEqualWith=oZ,ue.isError=ZN,ue.isFinite=lZ,ue.isFunction=kd,ue.isInteger=BC,ue.isLength=Fb,ue.isMap=zC,ue.isMatch=cZ,ue.isMatchWith=dZ,ue.isNaN=uZ,ue.isNative=hZ,ue.isNil=mZ,ue.isNull=fZ,ue.isNumber=UC,ue.isObject=vs,ue.isObjectLike=ks,ue.isPlainObject=N0,ue.isRegExp=XN,ue.isSafeInteger=pZ,ue.isSet=VC,ue.isString=Rb,ue.isSymbol=bo,ue.isTypedArray=Tp,ue.isUndefined=gZ,ue.isWeakMap=xZ,ue.isWeakSet=yZ,ue.join=wK,ue.kebabCase=oX,ue.last=tl,ue.lastIndexOf=jK,ue.lowerCase=lX,ue.lowerFirst=cX,ue.lt=vZ,ue.lte=bZ,ue.max=nQ,ue.maxBy=sQ,ue.mean=aQ,ue.meanBy=iQ,ue.min=oQ,ue.minBy=lQ,ue.stubArray=a5,ue.stubFalse=i5,ue.stubObject=GX,ue.stubString=KX,ue.stubTrue=YX,ue.multiply=cQ,ue.nth=NK,ue.noConflict=$X,ue.noop=s5,ue.now=Ib,ue.pad=dX,ue.padEnd=uX,ue.padStart=hX,ue.parseInt=fX,ue.random=rX,ue.reduce=AY,ue.reduceRight=kY,ue.repeat=mX,ue.replace=pX,ue.result=HZ,ue.round=dQ,ue.runInContext=Ie,ue.sample=PY,ue.size=OY,ue.snakeCase=gX,ue.some=LY,ue.sortedIndex=TK,ue.sortedIndexBy=EK,ue.sortedIndexOf=OK,ue.sortedLastIndex=LK,ue.sortedLastIndexBy=IK,ue.sortedLastIndexOf=MK,ue.startCase=yX,ue.startsWith=vX,ue.subtract=uQ,ue.sum=hQ,ue.sumBy=fQ,ue.template=bX,ue.times=ZX,ue.toFinite=Cd,ue.toInteger=jr,ue.toLength=WC,ue.toLower=wX,ue.toNumber=rl,ue.toSafeInteger=wZ,ue.toString=yn,ue.toUpper=jX,ue.trim=NX,ue.trimEnd=SX,ue.trimStart=_X,ue.truncate=AX,ue.unescape=kX,ue.uniqueId=QX,ue.upperCase=CX,ue.upperFirst=e5,ue.each=EC,ue.eachRight=OC,ue.first=kC,n5(ue,function(){var m={};return On(ue,function(x,O){ln.call(ue.prototype,O)||(m[O]=x)}),m}(),{chain:!1}),ue.VERSION=s,wt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){ue[m].placeholder=ue}),wt(["drop","take"],function(m,x){Or.prototype[m]=function(O){O=O===r?1:Is(jr(O),0);var U=this.__filtered__&&!x?new Or(this):this.clone();return U.__filtered__?U.__takeCount__=Sa(O,U.__takeCount__):U.__views__.push({size:Sa(O,W),type:m+(U.__dir__<0?"Right":"")}),U},Or.prototype[m+"Right"]=function(O){return this.reverse()[m](O).reverse()}}),wt(["filter","map","takeWhile"],function(m,x){var O=x+1,U=O==D||O==z;Or.prototype[m]=function(ne){var me=this.clone();return me.__iteratees__.push({iteratee:Kt(ne,3),type:O}),me.__filtered__=me.__filtered__||U,me}}),wt(["head","last"],function(m,x){var O="take"+(x?"Right":"");Or.prototype[m]=function(){return this[O](1).value()[0]}}),wt(["initial","tail"],function(m,x){var O="drop"+(x?"":"Right");Or.prototype[m]=function(){return this.__filtered__?new Or(this):this[O](1)}}),Or.prototype.compact=function(){return this.filter(Ki)},Or.prototype.find=function(m){return this.filter(m).head()},Or.prototype.findLast=function(m){return this.reverse().find(m)},Or.prototype.invokeMap=br(function(m,x){return typeof m=="function"?new Or(this):this.map(function(O){return Zn(O,m,x)})}),Or.prototype.reject=function(m){return this.filter(Db(Kt(m)))},Or.prototype.slice=function(m,x){m=jr(m);var O=this;return O.__filtered__&&(m>0||x<0)?new Or(O):(m<0?O=O.takeRight(-m):m&&(O=O.drop(m)),x!==r&&(x=jr(x),O=x<0?O.dropRight(-x):O.take(x-m)),O)},Or.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Or.prototype.toArray=function(){return this.take(W)},On(Or.prototype,function(m,x){var O=/^(?:filter|find|map|reject)|While$/.test(x),U=/^(?:head|last)$/.test(x),ne=ue[U?"take"+(x=="last"?"Right":""):x],me=U||/^find/.test(x);ne&&(ue.prototype[x]=function(){var _e=this.__wrapped__,Le=U?[1]:arguments,Re=_e instanceof Or,st=Le[0],at=Re||yr(_e),lt=function($r){var Wr=ne.apply(ue,_n([$r],Le));return U&&yt?Wr[0]:Wr};at&&O&&typeof st=="function"&&st.length!=1&&(Re=at=!1);var yt=this.__chain__,It=!!this.__actions__.length,Zt=me&&!yt,Cr=Re&&!It;if(!me&&at){_e=Cr?_e:new Or(this);var Xt=m.apply(_e,Le);return Xt.__actions__.push({func:Ob,args:[lt],thisArg:r}),new bi(Xt,yt)}return Zt&&Cr?m.apply(this,Le):(Xt=this.thru(lt),Zt?U?Xt.value()[0]:Xt.value():Xt)})}),wt(["pop","push","shift","sort","splice","unshift"],function(m){var x=wf[m],O=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",U=/^(?:pop|shift)$/.test(m);ue.prototype[m]=function(){var ne=arguments;if(U&&!this.__chain__){var me=this.value();return x.apply(yr(me)?me:[],ne)}return this[O](function(_e){return x.apply(yr(_e)?_e:[],ne)})}}),On(Or.prototype,function(m,x){var O=ue[x];if(O){var U=O.name+"";ln.call(Wu,U)||(Wu[U]=[]),Wu[U].push({name:x,func:O})}}),Wu[_b(r,b).name]=[{name:"wrapper",func:r}],Or.prototype.clone=fb,Or.prototype.reverse=jN,Or.prototype.value=vp,ue.prototype.at=sY,ue.prototype.chain=aY,ue.prototype.commit=iY,ue.prototype.next=oY,ue.prototype.plant=cY,ue.prototype.reverse=dY,ue.prototype.toJSON=ue.prototype.valueOf=ue.prototype.value=uY,ue.prototype.first=ue.prototype.head,Sc&&(ue.prototype[Sc]=lY),ue},rn=An();uo?((uo.exports=rn)._=rn,kl._=rn):ps._=rn}).call(ul)})(q2,q2.exports);var M9e=q2.exports;const D9e=({key:e,data:t,enabled:r=!0,debounceMs:s=500})=>{const a=_.useCallback(M9e.debounce(l=>{if(r)try{localStorage.setItem(e,JSON.stringify(l)),console.log(`Draft auto-saved: ${e}`)}catch(c){console.warn("Failed to save draft:",c)}},s),[e,r,s]);_.useEffect(()=>(t&&r&&a(t),()=>{a.cancel()}),[t,a,r]);const i=_.useCallback(()=>{if(!r)return null;try{const l=localStorage.getItem(e);return l?JSON.parse(l):null}catch(l){return console.warn("Failed to restore draft:",l),null}},[e,r]),o=_.useCallback(()=>{localStorage.removeItem(e),console.log(`Draft cleared: ${e}`)},[e]);return{restoreDraft:i,clearDraft:o}},F9e=(e,t,r)=>{const s=`email-draft-${e}-${t}`;return D9e({key:s,data:r,enabled:!0,debounceMs:1e3})},R9e=({isOpen:e,onClose:t,onSent:r})=>{const[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState([]),h=_.useRef(null),p="studio-1",f="admin",y={to:s,subject:i,body:l},{restoreDraft:g,clearDraft:v}=F9e(p,f,y);if(_.useEffect(()=>{if(e){const C=g();C&&(a(C.to||""),o(C.subject||""),c(C.body||""),console.log("Draft restored successfully"))}},[e,g]),!e)return null;const b=async()=>{try{const C=d.map(async P=>new Promise(B=>{const T=new FileReader;T.onload=()=>{const I=T.result?.toString().split(",")[1];B({filename:P.name,content:I,contentType:P.type,encoding:"base64"})},T.readAsDataURL(P)})),L=await Promise.all(C),A=await(await fetch("/api/communications/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s,subject:i,content:l,html:l.replace(/\n/g,"<br>"),attachments:L,autoLinkClient:!0})})).json();A.success?(r?.({to:s,subject:i,body:l,attachments:d,messageId:A.messageId}),v(),t(),a(""),o(""),c(""),u([])):alert("Failed to send email: "+A.error)}catch{alert("Error sending email. Please try again.")}},S=C=>{const L=Array.from(C.target.files||[]);u(k=>[...k,...L])},N=C=>{u(L=>L.filter((k,A)=>A!==C))},w=C=>{if(C===0)return"0 Bytes";const L=1024,k=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(C)/Math.log(L));return parseFloat((C/Math.pow(L,A)).toFixed(2))+" "+k[A]};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-5/6 flex flex-col overflow-hidden",dir:"ltr",style:{direction:"ltr",textAlign:"left"},children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Compose Email"}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(rs,{size:16})})]}),n.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To:"}),n.jsx("input",{type:"email",value:s,onChange:C=>a(C.target.value),placeholder:"recipient@example.com",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject:"}),n.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"Email subject",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message:"}),n.jsx("textarea",{value:l,onChange:C=>c(C.target.value),placeholder:"Write your message here...",rows:8,className:"w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr",textAlign:"left",unicodeBidi:"embed",writingMode:"horizontal-tb"}})]}),d.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments:"}),n.jsx("div",{className:"space-y-2",children:d.map((C,L)=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[C.type.startsWith("image/")?n.jsx(Wa,{size:16,className:"text-blue-500"}):n.jsx(Hn,{size:16,className:"text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:C.name}),n.jsxs("span",{className:"text-xs text-gray-500",children:["(",w(C.size),")"]})]}),n.jsx("button",{onClick:()=>N(L),className:"text-red-500 hover:text-red-700",children:n.jsx(rs,{size:16})})]},L))})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{type:"button",onClick:()=>h.current?.click(),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[n.jsx(u_,{size:16}),n.jsx("span",{children:"Attach File"})]}),n.jsxs("button",{type:"button",onClick:()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.multiple=!0,C.onchange=L=>{const k=Array.from(L.target.files||[]);u(A=>[...A,...k])},C.click()},className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[n.jsx(Wa,{size:16}),n.jsx("span",{children:"Add Images"})]})]}),n.jsx("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:S})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Simple Email Composer",(!s.trim()||!i.trim())&&n.jsxs("div",{className:"text-xs text-red-500 mt-1",children:[!s.trim()&&"Please enter recipient email",!s.trim()&&!i.trim()&&" • ",!i.trim()&&"Please enter subject"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:b,disabled:!s.trim()||!i.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:s.trim()?i.trim()?"Send email":"Please enter subject":"Please enter recipient email",children:[n.jsx(gl,{size:16}),n.jsx("span",{children:"Send"})]})]})]})]})})},$9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(null),[o,l]=_.useState("inbox"),[c,d]=_.useState(""),[u,h]=_.useState(!1),[p,f]=_.useState(!1),[y,g]=_.useState(!1),[v,b]=_.useState(null),[S,N]=_.useState(null);_.useState(!1),_.useEffect(()=>{w()},[]);const w=async()=>{try{g(!0),N(null);const z=await fetch("/api/inbox/emails?"+Date.now(),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}});if(!z.ok)throw new Error("Failed to fetch messages");const q=(await z.json()).map(Y=>({id:Y.id,from:Y.senderEmail,fromName:Y.senderName,to:"hallo@newagefotografie.com",subject:Y.subject,body:Y.content,timestamp:Y.createdAt,isRead:Y.status==="read"||Y.status==="archived",isStarred:!1,isImportant:Y.status==="unread",hasAttachments:!1,labels:[],folder:"inbox",threadId:Y.id}));t(q)}catch{N("Failed to load messages. Please try again.")}finally{g(!1)}},C=[{id:"inbox",name:"Inbox",count:e.filter(z=>!z.subject.startsWith("[SENT]")).length,icon:n.jsx(Ur,{size:16})},{id:"sent",name:"Sent",count:e.filter(z=>z.subject.startsWith("[SENT]")).length,icon:n.jsx(gl,{size:16})},{id:"archive",name:"Archive",count:0,icon:n.jsx(l_,{size:16})},{id:"trash",name:"Trash",count:0,icon:n.jsx(Ns,{size:16})}],L=e.filter(z=>{let X=!1;switch(o){case"inbox":X=!z.subject.startsWith("[SENT]");break;case"sent":X=z.subject.startsWith("[SENT]");break;default:X=z.folder===o}const q=c===""||z.subject.toLowerCase().includes(c.toLowerCase())||z.fromName.toLowerCase().includes(c.toLowerCase())||z.body.toLowerCase().includes(c.toLowerCase());return X&&q}),k=z=>{s(X=>X.includes(z)?X.filter(q=>q!==z):[...X,z])},A=()=>{r.length===L.length?s([]):s(L.map(z=>z.id))},P=(z,X)=>{t(q=>q.map(Y=>z.includes(Y.id)?{...Y,isRead:X}:Y))},B=(z,X)=>{t(q=>q.map(Y=>z.includes(Y.id)?{...Y,isStarred:X}:Y))},T=z=>{t(X=>X.map(q=>z.includes(q.id)?{...q,folder:"archive"}:q)),s([])},I=z=>{t(X=>X.map(q=>z.includes(q.id)?{...q,folder:"trash"}:q)),s([])},M=z=>{const X=new Date(z),Y=(new Date().getTime()-X.getTime())/(1e3*60*60);return Y<24?X.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):Y<48?"Yesterday":X.toLocaleDateString("en-US",{month:"short",day:"numeric"})},D=()=>n.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",checked:r.length===L.length&&L.length>0,onChange:A,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:[o," (",L.length,")"]})]}),r.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>P(r,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Mark as read",children:n.jsx(GJ,{size:16})}),n.jsx("button",{onClick:()=>B(r,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Star",children:n.jsx(Mo,{size:16})}),n.jsx("button",{onClick:()=>T(r),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Archive",children:n.jsx(l_,{size:16})}),n.jsx("button",{onClick:()=>I(r),className:"p-2 text-red-600 hover:bg-red-100 rounded-md",title:"Delete",children:n.jsx(Ns,{size:16})})]})]})}),n.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:L.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ur,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No messages"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c?"No messages match your search.":"Your inbox is empty."})]}):L.map(z=>n.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${r.includes(z.id)?"bg-blue-50":""} ${z.isRead?"":"bg-blue-25"}`,onClick:()=>i(z),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:r.includes(z.id),onChange:()=>k(z.id),onClick:X=>X.stopPropagation(),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("button",{onClick:X=>{X.stopPropagation(),B([z.id],!z.isStarred)},className:`${z.isStarred?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,children:n.jsx(Mo,{size:16,fill:z.isStarred?"currentColor":"none"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`text-sm ${z.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:z.fromName}),z.isImportant&&n.jsx(IJ,{size:12,className:"text-red-500"}),z.hasAttachments&&n.jsx(u_,{size:12,className:"text-gray-400"})]}),n.jsx("span",{className:"text-xs text-gray-500",children:M(z.timestamp)})]}),n.jsx("div",{className:`text-sm ${z.isRead?"text-gray-600":"font-semibold text-gray-900"} truncate`,children:z.subject}),n.jsx("div",{className:"text-sm text-gray-500 mt-1 line-clamp-2 max-w-lg",children:z.body}),z.labels.length>0&&n.jsx("div",{className:"flex items-center space-x-1 mt-2",children:z.labels.map(X=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:X},X))})]})]})},z.id))})]}),V=()=>a?n.jsxs("div",{className:"w-1/2 bg-white rounded-lg shadow ml-6",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-md",children:n.jsx(rs,{size:16})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{b("reply"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Reply",children:n.jsx(lee,{size:16})}),n.jsx("button",{onClick:()=>{b("forward"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Forward",children:n.jsx(FJ,{size:16})}),n.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"More actions",children:n.jsx(QJ,{size:16})})]})]})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.subject}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:a.fromName}),n.jsx("div",{children:a.from})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{children:new Date(a.timestamp).toLocaleDateString()}),n.jsx("div",{children:new Date(a.timestamp).toLocaleTimeString()})]})]})]}),n.jsx("div",{className:"prose max-w-full overflow-hidden",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap break-words max-w-full overflow-x-auto",children:a.body})}),a.hasAttachments&&n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Attachments"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(u_,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"attachment.pdf"}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(js,{size:14})})]})]})]})]}):null;return n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Inbox"}),n.jsx("p",{className:"text-gray-600",children:"Manage client messages and inquiries"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[n.jsx(Gh,{size:16}),n.jsx("span",{children:"Sync"})]}),"            ",n.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[n.jsx(Da,{size:16}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Tr,{size:16}),n.jsx("span",{children:"Compose"})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search messages...",value:c,onChange:z=>d(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsxs("div",{className:"w-64 bg-white rounded-lg shadow p-4",children:[n.jsx("nav",{className:"space-y-2",children:C.map(z=>n.jsxs("button",{onClick:()=>l(z.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md ${o===z.id?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[z.icon,n.jsx("span",{children:z.name})]}),n.jsx("span",{className:"text-xs text-gray-500",children:z.count})]},z.id))}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Stats"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Unread"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>!z.isRead&&z.folder==="inbox").length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Starred"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>z.isStarred).length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Important"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>z.isImportant).length})]})]})]})]}),n.jsxs("div",{className:"flex-1 flex",children:[D(),a&&V()]}),"        "]})]}),n.jsx(I9e,{isOpen:p,onClose:()=>f(!1),onSave:z=>{}}),u&&n.jsx(R9e,{isOpen:u,onClose:()=>{h(!1),b(null)},onSent:z=>{h(!1),b(null),w()}})]})},k1=[{type:"text",label:"Text",icon:n.jsx(rw,{size:16}),description:"Single line text input",category:"basic"},{type:"multiple_choice",label:"Multiple Choice",icon:n.jsx(PJ,{size:16}),description:"Choose one option",category:"basic"},{type:"checkboxes",label:"Checkboxes",icon:n.jsx(c_,{size:16}),description:"Choose multiple options",category:"basic"},{type:"dropdown",label:"Dropdown",icon:n.jsx(Wh,{size:16}),description:"Select from dropdown",category:"basic"},{type:"email",label:"Email",icon:n.jsx(Ur,{size:16}),description:"Email address input",category:"basic"},{type:"phone",label:"Phone",icon:n.jsx(Ym,{size:16}),description:"Phone number input",category:"basic"},{type:"number",label:"Number",icon:n.jsx(RJ,{size:16}),description:"Numeric input",category:"basic"},{type:"date",label:"Date",icon:n.jsx(an,{size:16}),description:"Date picker",category:"basic"},{type:"time",label:"Time",icon:n.jsx(Os,{size:16}),description:"Time picker",category:"basic"},{type:"rating",label:"Rating",icon:n.jsx(Mo,{size:16}),description:"Star rating",category:"advanced"},{type:"scale",label:"Scale",icon:n.jsx(dee,{size:16}),description:"Numeric scale",category:"advanced"},{type:"ranking",label:"Ranking",icon:n.jsx(xR,{size:16}),description:"Rank items in order",category:"advanced"},{type:"matrix",label:"Matrix",icon:n.jsx(pR,{size:16}),description:"Matrix of questions",category:"advanced"},{type:"slider",label:"Slider",icon:n.jsx(hee,{size:16}),description:"Slider input",category:"advanced"},{type:"image_choice",label:"Image Choice",icon:n.jsx(Wa,{size:16}),description:"Choose from images",category:"advanced"},{type:"file_upload",label:"File Upload",icon:n.jsx(Ri,{size:16}),description:"Upload files",category:"advanced"},{type:"net_promoter_score",label:"NPS",icon:n.jsx(Fs,{size:16}),description:"Net Promoter Score",category:"specialized"},{type:"contact_info",label:"Contact Info",icon:n.jsx(Do,{size:16}),description:"Contact information form",category:"specialized"},{type:"address",label:"Address",icon:n.jsx(ru,{size:16}),description:"Address input",category:"specialized"}],B9e=({survey:e,onSave:t,onCancel:r,isLoading:s=!1})=>{const[a,i]=_.useState({title:e?.title||"",description:e?.description||"",status:e?.status||"draft",settings:e?.settings||{allowAnonymous:!0,progressBar:!0},pages:e?.pages||[{id:"page_1",title:"Page 1",order:0,questions:[]}]}),[o,l]=_.useState(null),[c,d]=_.useState(!1),[u,h]=_.useState("questions"),p=0,f=a.pages?.[p],y=f?.questions||[],g=_.useCallback(T=>{if(!f)return;const I={id:`q_${Date.now()}`,type:T,title:`New ${k1.find(M=>M.type===T)?.label||"Question"}`,description:"",required:!1,order:y.length,options:["multiple_choice","checkboxes","dropdown","rating","scale"].includes(T)?[{id:"opt_1",text:"Option 1"},{id:"opt_2",text:"Option 2"}]:void 0};i(M=>({...M,pages:M.pages?.map((D,V)=>V===p?{...D,questions:[...D.questions,I]}:D)||[]})),l(I.id),d(!1)},[f,y.length,p]),v=_.useCallback((T,I)=>{i(M=>({...M,pages:M.pages?.map((D,V)=>V===p?{...D,questions:D.questions.map(z=>z.id===T?{...z,...I}:z)}:D)||[]}))},[p]),b=_.useCallback(T=>{i(I=>({...I,pages:I.pages?.map((M,D)=>D===p?{...M,questions:M.questions.filter(V=>V.id!==T)}:M)||[]})),l(null)},[p]),S=_.useCallback(T=>{const I=y.find(M=>M.id===T);if(I){const M={...I,id:`q_${Date.now()}`,title:`${I.title} (Copy)`,order:y.length};i(D=>({...D,pages:D.pages?.map((V,z)=>z===p?{...V,questions:[...V.questions,M]}:V)||[]}))}},[y,p]),N=_.useCallback((T,I)=>{const M=[...y],D=M.findIndex(z=>z.id===T);if(D===-1)return;const V=I==="up"?D-1:D+1;V>=0&&V<M.length&&([M[D],M[V]]=[M[V],M[D]],M.forEach((z,X)=>{z.order=X}),i(z=>({...z,pages:z.pages?.map((X,q)=>q===p?{...X,questions:M}:X)||[]})))},[y,p]),w=_.useCallback(T=>{const I=y.find(M=>M.id===T);if(I&&I.options){const M={id:`opt_${Date.now()}`,text:`Option ${I.options.length+1}`};v(T,{options:[...I.options,M]})}},[y,v]),C=_.useCallback((T,I,M)=>{const D=y.find(V=>V.id===T);if(D&&D.options){const V=D.options.map(z=>z.id===I?{...z,text:M}:z);v(T,{options:V})}},[y,v]),L=_.useCallback((T,I)=>{const M=y.find(D=>D.id===T);if(M&&M.options&&M.options.length>1){const D=M.options.filter(V=>V.id!==I);v(T,{options:D})}},[y,v]),k=_.useCallback(()=>{t(a)},[a,t]),A=o?y.find(T=>T.id===o):null,P=()=>A?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),n.jsx("input",{type:"text",value:A.title,onChange:T=>v(A.id,{title:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your question..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:A.description||"",onChange:T=>v(A.id,{description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add additional context or instructions..."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"required",checked:A.required,onChange:T=>v(A.id,{required:T.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-900",children:"Required question"})]}),["multiple_choice","checkboxes","dropdown"].includes(A.type)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),n.jsxs("div",{className:"space-y-2",children:[A.options?.map((T,I)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500 w-8",children:[I+1,"."]}),n.jsx("input",{type:"text",value:T.text,onChange:M=>C(A.id,T.id,M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${I+1}`}),A.options&&A.options.length>1&&n.jsx("button",{onClick:()=>L(A.id,T.id),className:"text-red-600 hover:text-red-800",children:n.jsx(rs,{size:16})})]},T.id)),n.jsxs("button",{onClick:()=>w(A.id),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800",children:[n.jsx(Tr,{size:16}),n.jsx("span",{children:"Add Option"})]})]})]}),A.type==="rating"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Scale"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min Value"}),n.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max Value"}),n.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hn,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"Select a question to edit"})]})}),B=T=>{const I="p-4 border rounded-lg bg-white",M=o===T.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300";return n.jsx("div",{className:`${I} ${M} cursor-pointer`,onClick:()=>l(T.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[k1.find(D=>D.type===T.type)?.icon,n.jsx("span",{className:"text-sm font-medium text-gray-700",children:k1.find(D=>D.type===T.type)?.label})]}),T.required&&n.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Required"})]}),n.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:T.title}),T.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:T.description}),n.jsxs("div",{className:"mt-3",children:[T.type==="text"&&n.jsx("input",{type:"text",placeholder:"Text input...",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0}),T.type==="multiple_choice"&&n.jsx("div",{className:"space-y-2",children:T.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:`preview_${T.id}`,disabled:!0}),n.jsx("span",{className:"text-sm",children:D.text})]},D.id))}),T.type==="checkboxes"&&n.jsx("div",{className:"space-y-2",children:T.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",disabled:!0}),n.jsx("span",{className:"text-sm",children:D.text})]},D.id))}),T.type==="dropdown"&&n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[n.jsx("option",{children:"Select an option..."}),T.options?.map(D=>n.jsx("option",{children:D.text},D.id))]}),T.type==="rating"&&n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(D=>n.jsx(Mo,{size:20,className:"text-gray-300"},D))}),T.type==="email"&&n.jsx("input",{type:"email",placeholder:"email@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0}),T.type==="date"&&n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:D=>{D.stopPropagation(),N(T.id,"up")},disabled:T.order===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:n.jsx(fR,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),N(T.id,"down")},disabled:T.order===y.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:n.jsx(Wh,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),S(T.id)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Gc,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),b(T.id)},className:"text-red-400 hover:text-red-600",children:n.jsx(Ns,{size:16})})]})]})},T.id)};return n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"border-b border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",value:a.title,onChange:T=>i(I=>({...I,title:T.target.value})),className:"text-2xl font-bold text-gray-900 border-none focus:outline-none focus:ring-0 p-0",placeholder:"Untitled Survey"}),n.jsx("textarea",{value:a.description||"",onChange:T=>i(I=>({...I,description:T.target.value})),className:"mt-2 text-gray-600 border-none focus:outline-none focus:ring-0 p-0 resize-none",placeholder:"Add a description...",rows:2})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:k,disabled:s||!a.title,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[s&&n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx(pl,{size:16}),n.jsx("span",{children:"Save Survey"})]})]})]}),n.jsxs("div",{className:"flex space-x-6 mt-6",children:[n.jsxs("button",{onClick:()=>h("questions"),className:`pb-2 border-b-2 font-medium text-sm ${u==="questions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Questions (",y.length,")"]}),n.jsx("button",{onClick:()=>h("settings"),className:`pb-2 border-b-2 font-medium text-sm ${u==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Settings"}),n.jsx("button",{onClick:()=>h("preview"),className:`pb-2 border-b-2 font-medium text-sm ${u==="preview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Preview"})]})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u==="questions"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1/2 border-r border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Questions"}),n.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Tr,{size:16}),n.jsx("span",{children:"Add Question"})]})]}),c&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Choose Question Type"}),n.jsx("div",{className:"space-y-4",children:["basic","advanced","specialized"].map(T=>n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 capitalize",children:[T," Questions"]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:k1.filter(I=>I.category===T).map(I=>n.jsxs("button",{onClick:()=>g(I.type),className:"flex items-center space-x-3 p-3 text-left bg-white border border-gray-200 rounded-md hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[n.jsx("div",{className:"text-blue-600",children:I.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:I.label}),n.jsx("div",{className:"text-xs text-gray-500",children:I.description})]})]},I.type))})]},T))}),n.jsx("button",{onClick:()=>d(!1),className:"mt-4 text-sm text-gray-500 hover:text-gray-700",children:"Cancel"})]}),n.jsx("div",{className:"space-y-4",children:y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Hn,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"No questions yet"}),n.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-800",children:"Add your first question"})]}):y.map(T=>B(T))})]})}),n.jsx("div",{className:"w-1/2 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Question Editor"}),P()]})})]}),u==="settings"&&n.jsx("div",{className:"w-full overflow-y-auto",children:n.jsxs("div",{className:"p-6 max-w-2xl",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Survey Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Access & Permissions"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:a.settings?.allowAnonymous,onChange:T=>i(I=>({...I,settings:{...I.settings,allowAnonymous:T.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Allow anonymous responses"})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Display Options"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:a.settings?.progressBar,onChange:T=>i(I=>({...I,settings:{...I.settings,progressBar:T.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Show progress bar"})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thank You Message"}),n.jsx("textarea",{value:a.thankYouMessage||"",onChange:T=>i(I=>({...I,thankYouMessage:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Thank you for your response!"})]})]})]})}),u==="preview"&&n.jsx("div",{className:"w-full overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Survey Preview"}),n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.title||"Untitled Survey"}),a.description&&n.jsx("p",{className:"text-gray-600",children:a.description})]}),a.settings?.progressBar&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:["1 of ",y.length||0]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${y.length?1/y.length*100:0}%`}})})]}),n.jsx("div",{className:"space-y-8",children:y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Hn,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500",children:"No questions to preview"})]}):y.slice(0,1).map((T,I)=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[I+1,". ",T.title,T.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),T.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:T.description})]}),T.type==="text"&&n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."}),T.type==="multiple_choice"&&n.jsx("div",{className:"space-y-3",children:T.options?.map(M=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"radio",name:`question_${T.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("span",{className:"text-gray-900",children:M.text})]},M.id))}),T.type==="checkboxes"&&n.jsx("div",{className:"space-y-3",children:T.options?.map(M=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-gray-900",children:M.text})]},M.id))}),T.type==="dropdown"&&n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select an option..."}),T.options?.map(M=>n.jsx("option",{value:M.id,children:M.text},M.id))]}),T.type==="rating"&&n.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(M=>n.jsx(Mo,{size:24,className:"text-gray-300 hover:text-yellow-400 cursor-pointer"},M))}),T.type==="email"&&n.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"}),T.type==="date"&&n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},T.id))}),y.length>0&&n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gray-300 text-gray-500 rounded-md cursor-not-allowed",children:"Previous"}),n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:y.length===1?"Submit":"Next"})]})]})})]})})]})]})},Tv=e=>{if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Tv);const t={};for(const[r,s]of Object.entries(e)){const a=r.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`);t[a]=Tv(s)}return t},Oh=e=>{if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Oh);const t={};for(const[r,s]of Object.entries(e)){const a=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());t[a]=Oh(s)}return t},iy={async getSurveys(){try{const e=await fetch("/api/surveys");if(!e.ok)throw new Error(`Failed to fetch surveys: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching surveys:",e),e}},async createSurvey(e){try{const t=await fetch("/api/surveys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create survey: ${t.status}`);return(await t.json()).survey}catch(t){throw console.error("Error creating survey:",t),t}},async updateSurvey(e,t){try{const r=await fetch(`/api/surveys/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Failed to update survey: ${r.status}`);return(await r.json()).survey}catch(r){throw console.error("Error updating survey:",r),r}},async deleteSurvey(e){try{const t=await fetch(`/api/surveys/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete survey: ${t.status}`)}catch(t){throw console.error("Error deleting survey:",t),t}},async duplicateSurvey(e){try{const t=await fetch(`/api/surveys/${e}/duplicate`,{method:"POST"});if(!t.ok)throw new Error(`Failed to duplicate survey: ${t.status}`);return(await t.json()).survey}catch(t){throw console.error("Error duplicating survey:",t),t}},async getSurveys(e=1,t=10,r,s){let a=Kr.from("surveys").select("*",{count:"exact"}).order("created_at",{ascending:!1});r&&r!=="all"&&(a=a.eq("status",r)),s&&(a=a.or(`title.ilike.%${s}%,description.ilike.%${s}%`));const i=(e-1)*t,o=i+t-1,{data:l,error:c,count:d}=await a.range(i,o);if(c)throw c;return{surveys:(l||[]).map(Oh),total:d||0,page:e,limit:t}},async getSurvey(e){const{data:t,error:r}=await Kr.from("surveys").select("*").eq("id",e).single();if(r)throw r;return Oh(t)},async createSurvey(e){const t=Tv(e),r={...t,pages:t.pages||[],settings:t.settings||{allowAnonymous:!0,progressBar:!0},branding:t.branding||{},analytics:t.analytics||{totalViews:0,totalStarts:0,totalCompletes:0,completionRate:0,averageTime:0},created_by:t.created_by||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:s,error:a}=await Kr.from("surveys").insert([r]).select().single();if(a)throw a;return Oh(s)},async updateSurvey(e,t){const r=Tv(t);r.updated_at=new Date().toISOString();const{data:s,error:a}=await Kr.from("surveys").update(r).eq("id",e).select().single();if(a)throw a;return Oh(s)},async deleteSurvey(e){const{error:t}=await Kr.from("surveys").delete().eq("id",e);if(t)throw t},async duplicateSurvey(e,t){try{const r=await this.getSurvey(e),s={...r,title:t||`${r.title} (Copy)`,status:"draft",analytics:{totalViews:0,totalStarts:0,totalCompletes:0,completionRate:0,averageTime:0}};return delete s.id,delete s.createdAt,delete s.updatedAt,delete s.publishedAt,delete s.closedAt,await this.createSurvey(s)}catch(r){throw r}},async publishSurvey(e){return this.updateSurvey(e,{status:"active",publishedAt:new Date().toISOString()})},async pauseSurvey(e){return this.updateSurvey(e,{status:"paused"})},async closeSurvey(e){return this.updateSurvey(e,{status:"closed",closedAt:new Date().toISOString()})}},z9e={async getResponses(e,t=1,r=50){const s=(t-1)*r,a=s+r-1,{data:i,error:o,count:l}=await Kr.from("survey_responses").select("*",{count:"exact"}).eq("survey_id",e).order("started_at",{ascending:!1}).range(s,a);if(o)throw o;return{responses:(i||[]).map(Oh),total:l||0}},async submitResponse(e){const t=Tv(e);t.started_at=new Date().toISOString();const{data:r,error:s}=await Kr.from("survey_responses").insert([t]).select().single();if(s)throw s;return Oh(r)}},U9e=()=>{const{t:e}=wa(),[t,r]=_.useState([]),[s,a]=_.useState([]),[i,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!0),[h,p]=_.useState(null),[f,y]=_.useState(!1),[g,v]=_.useState(void 0),[b,S]=_.useState(null),[N,w]=_.useState(!1);_.useEffect(()=>{C()},[]),_.useEffect(()=>{L()},[t,i,l]);const C=async()=>{try{u(!0),p(null);const X=await fetch("/api/surveys");if(!X.ok)throw new Error("Failed to fetch surveys");const q=await X.json();r(q)}catch(X){console.error("Survey fetch error:",X),p("Failed to load surveys. Please try again.")}finally{u(!1)}},L=()=>{let X=[...t];i&&(X=X.filter(q=>q.title.toLowerCase().includes(i.toLowerCase())||q.description&&q.description.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(X=X.filter(q=>q.status===l)),a(X)},k=async X=>{try{u(!0),await iy.deleteSurvey(X),r(q=>q.filter(Y=>Y.id!==X)),S(null)}catch{p("Failed to delete survey. Please try again.")}finally{u(!1)}},A=async X=>{try{u(!0);const q=await iy.duplicateSurvey(X.id);r(Y=>[q,...Y])}catch{p("Failed to duplicate survey. Please try again.")}finally{u(!1)}},P=()=>{v(void 0),y(!0)},B=X=>{v(X),y(!0)},T=async X=>{try{if(w(!0),g){const q=await iy.updateSurvey(g.id,X);r(Y=>Y.map(ie=>ie.id===g.id?q:ie))}else{const q={...X,status:X.status||"draft",title:X.title||"Untitled Survey",pages:X.pages||[],settings:X.settings||{allowAnonymous:!0,progressBar:!0},createdBy:"current-user-id"},Y=await iy.createSurvey(q);r(ie=>[Y,...ie])}y(!1),v(void 0)}catch{p("Failed to save survey. Please try again.")}finally{w(!1)}},I=()=>{y(!1),v(void 0)},M=X=>{const Y={draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},paused:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Paused"},closed:{bg:"bg-red-100",text:"text-red-800",label:"Closed"},archived:{bg:"bg-gray-100",text:"text-gray-600",label:"Archived"}}[X];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.bg} ${Y.text}`,children:Y.label})},D=X=>{const q=`${window.location.origin}/survey/${X}`;navigator.clipboard.writeText(q),alert("Share link copied to clipboard!")},V=X=>X.pages.reduce((q,Y)=>q+Y.questions.length,0),z=X=>X.analytics?.totalCompletes||0;return f?n.jsx(Ir,{children:n.jsx("div",{className:"h-full",children:n.jsx(B9e,{survey:g,onSave:T,onCancel:I,isLoading:N})})}):n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:["        ",n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.surveys")}),n.jsxs("p",{className:"text-gray-600",children:[e("survey.create")," and manage surveys and questionnaires"]})]}),n.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Tr,{size:20}),n.jsx("span",{children:e("survey.create")})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"            ",n.jsx("input",{type:"text",placeholder:e("action.search")+" surveys...",value:i,onChange:X=>o(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hh,{size:20,className:"text-gray-400"}),n.jsxs("select",{value:l,onChange:X=>c(X.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"closed",children:"Closed"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),h&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("p",{children:h})})]})]})}),d&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(zr,{className:"h-8 w-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading surveys..."})]}),!d&&n.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ig,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No surveys"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||l!=="all"?"No surveys match your current filters.":"Get started by creating your first survey."}),!i&&l==="all"&&n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[n.jsx(Tr,{className:"-ml-1 mr-2 h-5 w-5"}),"Create Survey"]})})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Survey Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Questions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responses"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),n.jsx("th",{className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(X=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.title}),X.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:X.description})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M(X.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(ig,{size:16,className:"mr-1"}),V(X)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(Gn,{size:16,className:"mr-1"}),z(X)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{size:16,className:"mr-1"}),new Date(X.updatedAt).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[X.status==="active"&&n.jsx("button",{onClick:()=>D(X.id),className:"text-blue-600 hover:text-blue-900",title:"Copy share link",children:n.jsx(gR,{size:16})}),n.jsx("button",{onClick:()=>B(X),className:"text-indigo-600 hover:text-indigo-900",title:"Edit survey",children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>A(X),className:"text-green-600 hover:text-green-900",title:"Duplicate survey",children:n.jsx(Gc,{size:16})}),z(X)>0&&n.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"View analytics",children:n.jsx(La,{size:16})}),n.jsx("button",{onClick:()=>S(X.id),className:"text-red-600 hover:text-red-900",title:"Delete survey",children:n.jsx(Ns,{size:16})})]})})]},X.id))})]})})})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this survey? This action cannot be undone and will also delete all associated responses."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>b&&k(b),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})},DD=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#8b5a2b","#6366f1"],V9e=()=>{const[e,t]=_.useState(null),[r,s]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState("12months"),[c,d]=_.useState("overview");_.useEffect(()=>{u()},[o]);const u=async()=>{try{s(!0),i(null);const q=new Date,Y=new Date;switch(o){case"3months":Y.setMonth(q.getMonth()-3);break;case"6months":Y.setMonth(q.getMonth()-6);break;case"12months":Y.setMonth(q.getMonth()-12);break;case"24months":Y.setMonth(q.getMonth()-24);break}const[ie,W,F,Z,Q]=await Promise.allSettled([fetch(`/api/crm/invoices?from=${Y.toISOString()}`),fetch("/api/crm/clients"),fetch(`/api/crm/leads?from=${Y.toISOString()}`),fetch(`/api/vouchers/sales?from=${Y.toISOString()}`),fetch("/api/blog/posts")]),ae=ie.status==="fulfilled"&&ie.value.ok?await ie.value.json():[],de=W.status==="fulfilled"&&W.value.ok?await W.value.json():[],ge=F.status==="fulfilled"&&F.value.ok?await F.value.json():[],Se=Z.status==="fulfilled"&&Z.value.ok?await Z.value.json():[],J=Q.status==="fulfilled"&&Q.value.ok?await Q.value.json():[],he=[],ee=[],le={revenueByMonth:h(ae),revenueByService:p(ae),profitability:f(ae),clientsBySource:y(de),clientRetention:v(de,ae),topClients:g(de,ae),leadConversion:b(ge),leadsBySource:S(ge),bookingsByType:N(he),bookingsByMonth:w(he),seasonalTrends:C(he),emailCampaigns:[],blogMetrics:J.map(ke=>({title:ke.title||"Untitled",views:ke.view_count||0,engagement:ke.engagement_score||0,leads:ke.leads_generated||0})),averageOrderValue:A(ae),customerLifetimeValue:P(de,ae),averageProjectDuration:B(he),clientSatisfactionScore:4.8,galleryViews:[{gallery:"Wedding Portfolio",views:1250,inquiries:45},{gallery:"Portrait Gallery",views:890,inquiries:32},{gallery:"Family Photos",views:650,inquiries:28}],portfolioMetrics:[{category:"Weddings",views:2100,downloads:85},{category:"Portraits",views:1800,downloads:65},{category:"Events",views:950,downloads:35}],voucherSales:L(Se),voucherTypes:k(Se)};t(le)}catch{i("Failed to load reports. Please try again.")}finally{s(!1)}},h=q=>{const Y=new Map;return q.forEach(ie=>{const W=new Date(ie.created_at),F=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,Z=Y.get(F)||{month:F,revenue:0,invoices:0};Z.revenue+=ie.total_amount||0,Z.invoices+=1,Y.set(F,Z)}),Array.from(Y.values()).sort((ie,W)=>ie.month.localeCompare(W.month))},p=q=>{const Y=new Map;let ie=0;return q.forEach(W=>{const F=W.service_type||"Other",Z=W.total_amount||0;ie+=Z,Y.set(F,(Y.get(F)||0)+Z)}),Array.from(Y.entries()).map(([W,F])=>({service:W,revenue:F,percentage:ie>0?F/ie*100:0}))},f=q=>{const Y=new Map;return q.forEach(ie=>{const W=new Date(ie.created_at),F=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,Z=Y.get(F)||{month:F,revenue:0,expenses:0,profit:0},Q=ie.total_amount||0,ae=Q*.3;Z.revenue+=Q,Z.expenses+=ae,Z.profit=Z.revenue-Z.expenses,Y.set(F,Z)}),Array.from(Y.values()).sort((ie,W)=>ie.month.localeCompare(W.month))},y=q=>{const Y=new Map;let ie=q.length;return q.forEach(W=>{const F=W.lead_source||"Direct";Y.set(F,(Y.get(F)||0)+1)}),Array.from(Y.entries()).map(([W,F])=>({source:W,count:F,percentage:ie>0?F/ie*100:0}))},g=(q,Y)=>{const ie=new Map,W=new Map,F=new Map;return Y.forEach(Z=>{const Q=Z.client_id,ae=q.find(de=>de.id===Q);if(ae){const de=ie.get(ae.name)||0;ie.set(ae.name,de+(Z.total_amount||0)),W.set(ae.name,(W.get(ae.name)||0)+1),F.set(ae.name,Z.created_at)}}),Array.from(ie.entries()).map(([Z,Q])=>({name:Z,revenue:Q,bookings:W.get(Z)||0,lastBooking:F.get(Z)||""})).sort((Z,Q)=>Q.revenue-Z.revenue).slice(0,10)},v=(q,Y)=>{const ie=[];for(let W=11;W>=0;W--){const F=new Date;F.setMonth(F.getMonth()-W);const Z=`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`;ie.push({month:Z,new:Math.floor(Math.random()*20)+5,returning:Math.floor(Math.random()*15)+3,churn:Math.floor(Math.random()*5)+1})}return ie},b=q=>{const Y=new Map;return q.forEach(ie=>{const W=new Date(ie.created_at),F=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,Z=Y.get(F)||{month:F,leads:0,converted:0,rate:0};Z.leads+=1,ie.status==="CONVERTED"&&(Z.converted+=1),Z.rate=Z.leads>0?Z.converted/Z.leads*100:0,Y.set(F,Z)}),Array.from(Y.values()).sort((ie,W)=>ie.month.localeCompare(W.month))},S=q=>{const Y=new Map;return q.forEach(ie=>{const W=ie.form_source||"Unknown",F=Y.get(W)||{source:W,leads:0,converted:0,rate:0};F.leads+=1,ie.status==="CONVERTED"&&(F.converted+=1),F.rate=F.leads>0?F.converted/F.leads*100:0,Y.set(W,F)}),Array.from(Y.values())},N=q=>{const Y=new Map;return q.forEach(ie=>{const W=ie.service_type||"Other",F=Y.get(W)||{type:W,count:0,revenue:0};F.count+=1,F.revenue+=ie.total_amount||0,Y.set(W,F)}),Array.from(Y.values())},w=q=>{const Y=new Map;return q.forEach(ie=>{const W=new Date(ie.created_at),F=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,Z=Y.get(F)||{month:F,bookings:0,revenue:0};Z.bookings+=1,Z.revenue+=ie.total_amount||0,Y.set(F,Z)}),Array.from(Y.values()).sort((ie,W)=>ie.month.localeCompare(W.month))},C=q=>w(q).map(Y=>({...Y,avgValue:Y.bookings>0?Y.revenue/Y.bookings:0})),L=q=>{const Y=new Map;return q.forEach(ie=>{const W=new Date(ie.created_at),F=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}`,Z=Y.get(F)||{month:F,sales:0,revenue:0,redeemed:0};Z.sales+=1,Z.revenue+=ie.amount||0,ie.redeemed&&(Z.redeemed+=1),Y.set(F,Z)}),Array.from(Y.values()).sort((ie,W)=>ie.month.localeCompare(W.month))},k=q=>{const Y=new Map;return q.forEach(ie=>{const W=ie.voucher_type||"Standard",F=Y.get(W)||{type:W,sold:0,revenue:0,redeemed:0,redemptionRate:0};F.sold+=1,F.revenue+=ie.amount||0,ie.redeemed&&(F.redeemed+=1),F.redemptionRate=F.sold>0?F.redeemed/F.sold*100:0,Y.set(W,F)}),Array.from(Y.values())},A=q=>q.length===0?0:q.reduce((ie,W)=>ie+(W.total_amount||0),0)/q.length,P=(q,Y)=>q.length===0?0:Y.reduce((W,F)=>W+(F.total_amount||0),0)/q.length,B=q=>14,T=()=>{if(!e)return;let q="data:text/csv;charset=utf-8,";q+="Photography Business Comprehensive Report\\n\\n",q+="Revenue by Month\\n",q+="Month,Revenue,Invoice Count\\n",e.revenueByMonth.forEach(W=>{q+=`${W.month},${W.revenue},${W.invoices}\\n`}),q+="\\nRevenue by Service\\n",q+="Service,Revenue,Percentage\\n",e.revenueByService.forEach(W=>{q+=`${W.service},${W.revenue},${W.percentage.toFixed(2)}%\\n`}),q+="\\nTop Clients\\n",q+="Name,Revenue,Bookings,Last Booking\\n",e.topClients.forEach(W=>{q+=`${W.name},${W.revenue},${W.bookings},${W.lastBooking}\\n`});const Y=encodeURI(q),ie=document.createElement("a");ie.setAttribute("href",Y),ie.setAttribute("download",`comprehensive-photography-report-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},I=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(rc,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.averageOrderValue.toFixed(0)]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Gn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer LTV"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.customerLifetimeValue.toFixed(0)]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(an,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Project Duration"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.averageProjectDuration," days"]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Mo,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Client Satisfaction"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.clientSatisfactionScore,"/5"]})]})]})})]}),M=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Month"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(py,{data:e?.revenueByMonth||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{formatter:q=>[`€${q}`,"Revenue"]}),n.jsx(Li,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Service"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(kk,{children:[n.jsx(dc,{data:e?.revenueByService||[],cx:"50%",cy:"50%",labelLine:!1,label:({service:q,percentage:Y})=>`${q} (${Y.toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:(e?.revenueByService||[]).map((q,Y)=>n.jsx(Dx,{fill:DD[Y%DD.length]},`cell-${Y}`))}),n.jsx(ra,{formatter:q=>[`€${q}`,"Revenue"]})]})})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profitability Analysis"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(SAe,{data:e?.profitability||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{formatter:q=>[`€${q}`]}),n.jsx(Rh,{}),n.jsx(Sm,{type:"monotone",dataKey:"revenue",stroke:"#10b981",name:"Revenue"}),n.jsx(Sm,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",name:"Expenses"}),n.jsx(Sm,{type:"monotone",dataKey:"profit",stroke:"#8b5cf6",name:"Profit",strokeWidth:3})]})})]})]}),D=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clients by Source"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(K8,{data:e?.clientsBySource||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"source"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Qd,{dataKey:"count",fill:"#06b6d4"})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Client Retention"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(py,{data:e?.clientRetention||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Li,{type:"monotone",dataKey:"new",stackId:"1",stroke:"#10b981",fill:"#10b981"}),n.jsx(Li,{type:"monotone",dataKey:"returning",stackId:"1",stroke:"#06b6d4",fill:"#06b6d4"}),n.jsx(Li,{type:"monotone",dataKey:"churn",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Clients"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Booking"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.topClients||[]).map((q,Y)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q.name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",q.revenue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.bookings}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.lastBooking?new Date(q.lastBooking).toLocaleDateString():"N/A"})]},Y))})]})})]})]}),V=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Conversion"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(K8,{data:e?.leadConversion||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Rh,{}),n.jsx(Qd,{dataKey:"leads",fill:"#94a3b8",name:"Total Leads"}),n.jsx(Qd,{dataKey:"converted",fill:"#8b5cf6",name:"Converted"})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gallery Performance"}),n.jsx("div",{className:"space-y-4",children:(e?.galleryViews||[]).map((q,Y)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.gallery}),n.jsxs("p",{className:"text-sm text-gray-600",children:[q.views," views"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[q.inquiries," inquiries"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(q.inquiries/q.views*100).toFixed(1),"% conversion"]})]})]},Y))})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Campaign Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opened"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clicked"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.emailCampaigns||[]).map((q,Y)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q.sent}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[q.opened," (",q.sent>0?(q.opened/q.sent*100).toFixed(1):0,"%)"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[q.clicked," (",q.opened>0?(q.clicked/q.opened*100).toFixed(1):0,"%)"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",q.revenue.toFixed(2)]})]},Y))})]})})]})]}),z=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Sales Trend"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(py,{data:e?.voucherSales||[],children:[n.jsx($d,{strokeDasharray:"3 3"}),n.jsx(Po,{dataKey:"month"}),n.jsx(To,{}),n.jsx(ra,{}),n.jsx(Li,{type:"monotone",dataKey:"revenue",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Types Performance"}),n.jsx("div",{className:"space-y-4",children:(e?.voucherTypes||[]).map((q,Y)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.type}),n.jsxs("p",{className:"text-sm text-gray-600",children:[q.sold," sold"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["€",q.revenue.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[q.redemptionRate.toFixed(1),"% redeemed"]})]})]},Y))})]})]})}),X=()=>{if(r)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(zr,{className:"h-8 w-8 animate-spin text-purple-600"})});if(a)return n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zr,{className:"h-5 w-5 mr-2"}),a]})});if(!e)return n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No report data available."})});switch(c){case"financial":return M();case"clients":return D();case"marketing":return V();case"vouchers":return z();default:return n.jsxs("div",{className:"space-y-8",children:[I(),M()]})}};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Comprehensive Business Reports"}),n.jsx("p",{className:"text-gray-600",children:"Complete analytics and insights for your photography business"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:u,className:"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Gh,{size:18,className:"mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:T,disabled:!e,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center disabled:opacity-50",children:[n.jsx(js,{size:18,className:"mr-2"}),"Export CSV"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),n.jsxs("select",{value:o,onChange:q=>l(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"12months",children:"Last 12 Months"}),n.jsx("option",{value:"24months",children:"Last 24 Months"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Category"}),n.jsxs("select",{value:c,onChange:q=>d(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"overview",children:"Overview"}),n.jsx("option",{value:"financial",children:"Financial"}),n.jsx("option",{value:"clients",children:"Clients"}),n.jsx("option",{value:"marketing",children:"Marketing"}),n.jsx("option",{value:"vouchers",children:"Vouchers"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex space-x-2 w-full",children:[n.jsx("button",{onClick:()=>d("overview"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="overview"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Overview"}),n.jsx("button",{onClick:()=>d("financial"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="financial"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Financial"})]})})]})}),X()]})})},q9e=()=>{const{t:e}=wa(),t=H2(),r=[{title:"Knowledge & Documentation",description:"Manage your knowledge base and documentation",items:[{icon:uA,title:e("nav.knowledgeBase"),description:"Access and manage your knowledge base articles",path:"/admin/knowledge-base",color:"bg-blue-500"}]},{title:"System Configuration",description:"Configure core system settings",items:[{icon:tw,title:"Database Settings",description:"Manage database connections and migrations",path:"/admin/settings/database",color:"bg-green-500"},{icon:Ur,title:"Email Configuration",description:"Configure SMTP settings and email templates",path:"/admin/settings/email",color:"bg-red-500"},{icon:Bo,title:"Website Settings",description:"Manage website configuration and SEO",path:"/admin/settings/website",color:"bg-purple-500"}]},{title:"Security & Access",description:"Manage security settings and user access",items:[{icon:h_,title:"Security Settings",description:"Configure authentication and security policies",path:"/admin/settings/security",color:"bg-orange-500"},{icon:Gn,title:"User Management",description:"Manage user accounts and permissions",path:"/admin/settings/users",color:"bg-indigo-500"},{icon:WJ,title:"API Keys",description:"Manage API keys and integrations",path:"/admin/settings/api-keys",color:"bg-yellow-500"}]},{title:"Appearance & Notifications",description:"Customize appearance and notification preferences",items:[{icon:to,title:"Theme Settings",description:"Customize colors, fonts, and layouts",path:"/admin/settings/theme",color:"bg-pink-500"},{icon:T1,title:"Notifications",description:"Configure notification preferences",path:"/admin/settings/notifications",color:"bg-teal-500"}]}];return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Da,{className:"h-8 w-8 text-gray-600 mr-3"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-600",children:"Configure your CRM system settings and preferences"})]})]})}),n.jsx("div",{className:"space-y-8",children:r.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:s.title}),n.jsx("p",{className:"text-gray-600",children:s.description})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.items.map((i,o)=>{const l=i.icon,c=t.pathname===i.path;return n.jsx($t,{to:i.path,className:`group p-4 rounded-lg border-2 transition-all duration-200 ${c?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`${i.color} p-2 rounded-lg`,children:n.jsx(l,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-purple-600",children:i.title}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i.description})]})]})},o)})})]},a))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors",children:[n.jsx(tw,{className:"h-6 w-6 text-blue-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Test Database"})]}),n.jsxs("button",{className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors",children:[n.jsx(Ur,{className:"h-6 w-6 text-green-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-green-900",children:"Test Email"})]}),n.jsxs("button",{className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors",children:[n.jsx(h_,{className:"h-6 w-6 text-purple-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Security Check"})]}),n.jsxs("button",{className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors",children:[n.jsx(Bo,{className:"h-6 w-6 text-orange-600 mb-2"}),n.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Clear Cache"})]})]})]})]})})},W9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(!0),[a,i]=_.useState("");_.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0),i("");const l=await fetch("/api/debug/photography-sessions");if(l.ok){const c=await l.json();t(c),console.log("✅ Sessions loaded:",c)}else{const c=await l.text();i(`API Error: ${l.status} - ${c}`),console.error("❌ API Error:",l.status,c)}}catch(l){i(`Network Error: ${l.message}`),console.error("❌ Network Error:",l)}finally{s(!1)}};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar Test Page"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Testing calendar functionality and API connections"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"API Connection Test"}),r&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),n.jsx("span",{children:"Loading sessions..."})]}),a&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:[n.jsx("strong",{children:"Error:"})," ",a]}),!r&&!a&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx(an,{className:"h-5 w-5"}),n.jsx("span",{children:"✅ API connection successful"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Found ",e.length," photography sessions"]}),n.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Refresh Data"})]})]}),e.length>0&&n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Photography Sessions"}),n.jsx("div",{className:"space-y-3",children:e.map(l=>n.jsx("div",{className:"border rounded p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:l.title}),n.jsx("p",{className:"text-sm text-gray-600",children:l.description}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["Type: ",l.sessionType]}),n.jsxs("span",{children:["Status: ",l.status]}),l.basePrice&&n.jsxs("span",{children:["Price: $",l.basePrice]})]})]}),n.jsxs("div",{className:"text-right text-sm text-gray-600",children:[n.jsxs("div",{children:["Start: ",new Date(l.startTime).toLocaleDateString()]}),n.jsxs("div",{children:["Time: ",new Date(l.startTime).toLocaleTimeString()]})]})]})},l.id))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Next Steps"}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("p",{children:"1. ✅ Test API connection"}),n.jsx("p",{children:"2. ✅ Load photography sessions data"}),n.jsx("p",{children:"3. 🔄 Test calendar component integration"}),n.jsx("p",{children:"4. 🔄 Test session creation"}),n.jsx("p",{children:"5. 🔄 Test calendar navigation"})]})]})]})})},H9e=()=>{const[e,t]=_.useState("theme"),[r,s]=_.useState({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"}),[a,i]=_.useState({senderName:"TogNinja",senderEmail:"info@togninja.com",emailSignature:"<p>Best regards,<br>The TogNinja Team</p>",emailLogo:"/frontend-logo.jpg"}),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,h]=_.useState(null),p="asst_customization_helper_v1",f=N=>{N.theme&&s(w=>({...w,...N.theme})),N.email&&i(w=>({...w,...N.email})),N.activeTab&&["theme","email","templates","wizard","analyzer"].includes(N.activeTab)&&t(N.activeTab),d(!0),setTimeout(()=>d(!1),3e3)},y=N=>{const{name:w,value:C}=N.target;s(L=>({...L,[w]:C}))},g=N=>{const{name:w,value:C}=N.target;i(L=>({...L,[w]:C}))},v=async()=>{try{l(!0),h(null),await new Promise(N=>setTimeout(N,1e3)),d(!0),setTimeout(()=>d(!1),3e3)}catch{h("Failed to save theme settings. Please try again.")}finally{l(!1)}},b=async()=>{try{l(!0),h(null),await new Promise(N=>setTimeout(N,1e3)),d(!0),setTimeout(()=>d(!1),3e3)}catch{h("Failed to save email settings. Please try again.")}finally{l(!1)}},S=()=>{s({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"})};return n.jsx(Ir,{children:n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Customization"}),n.jsx("p",{className:"text-gray-600",children:"Manage website themes, templates, and customization tools"})]}),c&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ba,{className:"h-5 w-5 text-green-400 mt-0.5 mr-2"}),n.jsx("span",{children:"Settings saved successfully!"})]}),u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:u})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>t("theme"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="theme"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(to,{className:"inline-block mr-2 h-5 w-5"}),"Theme Settings"]}),n.jsxs("button",{onClick:()=>t("email"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="email"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ur,{className:"inline-block mr-2 h-5 w-5"}),"Email Settings"]}),n.jsxs("button",{onClick:()=>t("templates"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="templates"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Hn,{className:"inline-block mr-2 h-5 w-5"}),"Studio Templates"]}),n.jsxs("button",{onClick:()=>t("wizard"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="wizard"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(lg,{className:"inline-block mr-2 h-5 w-5"}),"Website Wizard"]}),n.jsxs("button",{onClick:()=>t("analyzer"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="analyzer"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(La,{className:"inline-block mr-2 h-5 w-5"}),"Website Analyzer"]})]})}),e==="theme"&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(to,{className:"mr-2 h-5 w-5 text-purple-600"}),"Color Scheme"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"primaryColor",name:"primaryColor",value:r.primaryColor,onChange:y,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.primaryColor,onChange:y,name:"primaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"secondaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"secondaryColor",name:"secondaryColor",value:r.secondaryColor,onChange:y,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.secondaryColor,onChange:y,name:"secondaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"accentColor",name:"accentColor",value:r.accentColor,onChange:y,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.accentColor,onChange:y,name:"accentColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(rw,{className:"mr-2 h-5 w-5 text-purple-600"}),"Typography & Branding"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fontFamily",className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Family"}),n.jsxs("select",{id:"fontFamily",name:"fontFamily",value:r.fontFamily,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"Poppins",children:"Poppins"}),n.jsx("option",{value:"Roboto",children:"Roboto"}),n.jsx("option",{value:"Open Sans",children:"Open Sans"}),n.jsx("option",{value:"Montserrat",children:"Montserrat"}),n.jsx("option",{value:"Lato",children:"Lato"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),n.jsx("input",{type:"text",id:"logoUrl",name:"logoUrl",value:r.logoUrl,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.logoUrl&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:r.logoUrl,alt:"Logo Preview",className:"h-12 object-contain"})})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(d_,{className:"mr-2 h-5 w-5 text-purple-600"}),"Layout Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"headerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Header Style"}),n.jsxs("select",{id:"headerStyle",name:"headerStyle",value:r.headerStyle,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"dark",children:"Dark"}),n.jsx("option",{value:"transparent",children:"Transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"footerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Footer Style"}),n.jsxs("select",{id:"footerStyle",name:"footerStyle",value:r.footerStyle,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"dark",children:"Dark"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Wa,{className:"mr-2 h-5 w-5 text-purple-600"}),"Preview"]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:`p-4 ${r.headerStyle==="light"?"bg-white text-gray-900":r.headerStyle==="dark"?"bg-gray-800 text-white":"bg-gradient-to-r from-purple-600 to-pink-500 text-white"}`,style:{fontFamily:r.fontFamily},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-white rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{style:{color:r.primaryColor},children:"NA"})}),n.jsx("span",{className:"font-bold",children:"New Age Fotografie"})]})}),n.jsxs("div",{className:"p-4 bg-white",style:{fontFamily:r.fontFamily},children:[n.jsx("div",{className:"p-2 rounded-lg text-white text-center font-medium",style:{backgroundColor:r.primaryColor},children:"Primary Button"}),n.jsx("div",{className:"mt-2 text-sm",style:{color:r.secondaryColor},children:"Secondary Text Color"}),n.jsx("div",{className:"mt-2 text-xs",style:{color:r.accentColor},children:"Accent Text Color"})]}),n.jsx("div",{className:`p-4 text-center text-sm ${r.footerStyle==="light"?"bg-gray-100 text-gray-700":"bg-gray-800 text-white"}`,style:{fontFamily:r.fontFamily},children:"© 2025 New Age Fotografie"})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsxs("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(Gh,{className:"inline-block mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsx("button",{onClick:v,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})]})]}),e==="email"&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Ur,{className:"mr-2 h-5 w-5 text-purple-600"}),"Sender Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name"}),n.jsx("input",{type:"text",id:"senderName",name:"senderName",value:a.senderName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"senderEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Email"}),n.jsx("input",{type:"email",id:"senderEmail",name:"senderEmail",value:a.senderEmail,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Wa,{className:"mr-2 h-5 w-5 text-purple-600"}),"Email Branding"]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emailLogo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Logo URL"}),n.jsx("input",{type:"text",id:"emailLogo",name:"emailLogo",value:a.emailLogo,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.emailLogo&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:a.emailLogo,alt:"Email Logo Preview",className:"h-12 object-contain"})})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Signature"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emailSignature",className:"block text-sm font-medium text-gray-700 mb-1",children:"HTML Signature"}),n.jsx("textarea",{id:"emailSignature",name:"emailSignature",value:a.emailSignature,onChange:g,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Signature Preview"}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["From: ",a.senderName," <",a.senderEmail,">"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"To: client@example.com"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subject: Thank you for your inquiry"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsx("p",{className:"text-gray-700 mb-4",children:"Dear Client,"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for your message. This is how your email signature will appear."}),n.jsx("div",{className:"border-t border-gray-200 pt-4 text-gray-700",dangerouslySetInnerHTML:{__html:a.emailSignature}}),a.emailLogo&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:a.emailLogo,alt:"Email Logo",className:"h-12 object-contain"})})]})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:b,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})})]}),e==="templates"&&n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Hn,{className:"mr-2 h-5 w-5 text-purple-600"}),"Studio Templates"]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Pre-designed templates for your photography studio website"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-400 to-pink-500 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold",children:"Modern Portfolio"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Modern Portfolio"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Clean, minimalist design perfect for showcasing photography portfolios"}),n.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold",children:"Wedding Studio"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Wedding Studio"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Elegant design specifically crafted for wedding photographers"}),n.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-green-400 to-teal-500 flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold",children:"Portrait Studio"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Portrait Studio"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Professional layout for portrait and headshot photographers"}),n.jsx("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Use Template"})]})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Custom Template"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Need a custom template? Use our AI assistant to generate a personalized website template based on your requirements."}),n.jsx(iw,{assistantId:p,onCRMAction:f,height:"400px",title:"Template Assistant",className:"w-full"})]})]})]})}),e==="wizard"&&n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(lg,{className:"mr-2 h-5 w-5 text-purple-600"}),"Website Wizard"]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Step-by-step guide to create your perfect photography website"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:"1"}),n.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Business Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Studio Name"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",placeholder:"Your Studio Name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Photography Style"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{children:"Wedding Photography"}),n.jsx("option",{children:"Portrait Photography"}),n.jsx("option",{children:"Commercial Photography"}),n.jsx("option",{children:"Event Photography"})]})]})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm font-medium",children:"2"}),n.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Design Preferences"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-purple-400 to-pink-500 rounded mb-2"}),n.jsx("p",{className:"text-sm font-medium text-center",children:"Modern & Clean"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-600 rounded mb-2"}),n.jsx("p",{className:"text-sm font-medium text-center",children:"Dark & Elegant"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500",children:[n.jsx("div",{className:"aspect-video bg-gradient-to-br from-amber-400 to-orange-500 rounded mb-2"}),n.jsx("p",{className:"text-sm font-medium text-center",children:"Warm & Inviting"})]})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 text-sm font-medium",children:"3"}),n.jsx("h4",{className:"ml-3 text-lg font-medium text-gray-900",children:"Features & Content"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:"Essential Features"}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Portfolio Gallery"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:!0}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Contact Form"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Online Booking"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:"Additional Features"}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Client Portal"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"E-commerce Store"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Blog Section"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[n.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Previous Step"}),n.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700",children:"Generate Website"})]})]})}),e==="analyzer"&&n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(La,{className:"mr-2 h-5 w-5 text-purple-600"}),"Website Analyzer"]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Analyze your website performance and get optimization recommendations"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Analyze Website"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("input",{type:"url",placeholder:"Enter your website URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),n.jsx("button",{className:"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Analyze"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Performance"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:"92"})]}),n.jsx("div",{className:"text-green-600",children:n.jsx(La,{className:"h-8 w-8"})})]})}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"SEO"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"78"})]}),n.jsx("div",{className:"text-blue-600",children:n.jsx(La,{className:"h-8 w-8"})})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Accessibility"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:"85"})]}),n.jsx("div",{className:"text-yellow-600",children:n.jsx(La,{className:"h-8 w-8"})})]})}),n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Best Practices"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"94"})]}),n.jsx("div",{className:"text-purple-600",children:n.jsx(La,{className:"h-8 w-8"})})]})})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Optimization Recommendations"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-red-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Optimize Images"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Reduce image file sizes to improve loading speed. Consider using WebP format."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Add Alt Text"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Include descriptive alt text for all images to improve accessibility and SEO."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Meta Descriptions"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add unique meta descriptions to all pages to improve click-through rates."})]})]})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"AI-Powered Analysis"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Get detailed insights and personalized recommendations from our AI assistant."}),n.jsx(iw,{assistantId:p,onCRMAction:f,height:"400px",title:"Website Analysis Assistant",className:"w-full"})]})]})]})})]})})})},G9e=({currentTemplate:e,onTemplateSelect:t,onPreview:r})=>{const[s,a]=_.useState([]),[i,o]=_.useState("all"),[l,c]=_.useState(!0);_.useEffect(()=>{d()},[]);const d=async()=>{try{a([{id:"template-01-modern-minimal",name:"Modern Minimal",description:"Clean, minimalist design focusing on your photography",category:"minimal",previewImage:"/templates/previews/modern-minimal.jpg",demoUrl:"/demo/modern-minimal",features:["Clean Layout","Fast Loading","Mobile First","SEO Optimized"],colorScheme:{primary:"#1a1a1a",secondary:"#f5f5f5",accent:"#007acc",background:"#ffffff"},isPremium:!1},{id:"template-02-elegant-classic",name:"Elegant Classic",description:"Timeless elegance with sophisticated typography",category:"classic",previewImage:"/templates/previews/elegant-classic.jpg",demoUrl:"/demo/elegant-classic",features:["Elegant Typography","Sophisticated Layout","Gallery Focus","Contact Integration"],colorScheme:{primary:"#2c2c2c",secondary:"#d4af37",accent:"#8b4513",background:"#faf8f5"},isPremium:!1},{id:"template-03-bold-artistic",name:"Bold Artistic",description:"Creative layout for artistic photographers",category:"artistic",previewImage:"/templates/previews/bold-artistic.jpg",demoUrl:"/demo/bold-artistic",features:["Creative Layouts","Animation Effects","Artistic Focus","Portfolio Showcase"],colorScheme:{primary:"#ff6b35",secondary:"#2a2d34",accent:"#ffd23f",background:"#1a1a1a"},isPremium:!0},{id:"template-04-wedding-romance",name:"Wedding Romance",description:"Romantic design perfect for wedding photographers",category:"classic",previewImage:"/templates/previews/wedding-romance.jpg",demoUrl:"/demo/wedding-romance",features:["Romantic Elements","Couple Focus","Elegant Gallery","Booking System"],colorScheme:{primary:"#d4a574",secondary:"#f7f3f0",accent:"#9b5a42",background:"#fff"},isPremium:!0},{id:"template-05-family-warm",name:"Family Warmth",description:"Warm, inviting design for family photographers",category:"modern",previewImage:"/templates/previews/family-warm.jpg",demoUrl:"/demo/family-warm",features:["Family Focused","Warm Colors","Child Friendly","Session Booking"],colorScheme:{primary:"#7c3aed",secondary:"#fbbf24",accent:"#10b981",background:"#fefefe"},isPremium:!1}]),c(!1)}catch{c(!1)}},u=i==="all"?s:s.filter(p=>p.category===i),h=[{id:"all",name:"All Templates",icon:d_},{id:"minimal",name:"Minimal",icon:hA},{id:"classic",name:"Classic",icon:to},{id:"modern",name:"Modern",icon:d_},{id:"artistic",name:"Artistic",icon:to}];return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Template"}),n.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select from 25 professionally designed templates to match your photography style. Each template is fully customizable and optimized for performance."})]}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:h.map(p=>{const f=p.icon;return n.jsxs("button",{onClick:()=>o(p.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${i===p.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(f,{size:16}),p.name]},p.id)})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>n.jsxs(Gt,{className:`relative overflow-hidden transition-all hover:shadow-lg ${e===p.id?"ring-2 ring-purple-500 shadow-lg":"hover:shadow-md"}`,children:[p.isPremium&&n.jsx("div",{className:"absolute top-3 right-3 z-10",children:n.jsxs(hi,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[n.jsx(ew,{size:12,className:"mr-1"}),"Premium"]})}),e===p.id&&n.jsx("div",{className:"absolute top-3 left-3 z-10",children:n.jsxs(hi,{className:"bg-green-100 text-green-800",children:[n.jsx(ba,{size:12,className:"mr-1"}),"Active"]})}),n.jsx("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsx("img",{src:p.previewImage,alt:p.name,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center bg-gradient-to-br" style="background: linear-gradient(135deg, ${p.colorScheme.primary}, ${p.colorScheme.secondary})">
                          <div class="text-center text-white">
                            <h3 class="text-lg font-bold">${p.name}</h3>
                            <p class="text-sm opacity-90">${p.category}</p>
                          </div>
                        </div>
                      `}})}),n.jsxs(Yr,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(sn,{className:"text-lg",children:p.name}),n.jsx("div",{className:"flex gap-1",children:Object.values(p.colorScheme).slice(0,3).map((f,y)=>n.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:f}},y))})]}),n.jsx(Ia,{className:"text-sm",children:p.description})]}),n.jsxs(sr,{className:"pt-0",children:[n.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:p.features.slice(0,3).map(f=>n.jsx(hi,{variant:"outline",className:"text-xs",children:f},f))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(dr,{variant:"outline",size:"sm",onClick:()=>r(p.id),className:"flex-1",children:[n.jsx(ts,{size:14,className:"mr-1"}),"Preview"]}),n.jsx(dr,{size:"sm",onClick:()=>t(p.id),disabled:e===p.id,className:"flex-1",children:e===p.id?"Active":"Select"})]})]})]},p.id))})]}),u.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No templates found in this category."})})]})},K9e=()=>{const[e,t]=_.useState({studioName:"New Age Fotografie",ownerEmail:"hallo@newagefotografie.com",activeTemplate:"template-01-modern-minimal",primaryColor:"#7C3AED",secondaryColor:"#F59E0B",businessName:"New Age Fotografie",address:"Schönbrunner Str. 25",city:"Wien",phone:"+43 677 933 99210",email:"hallo@newagefotografie.com"});_.useState(!1);const[r,s]=_.useState(!1),[a,i]=_.useState("template");_.useEffect(()=>{document.title="Studio Customization - Template & Design Management";let u=document.querySelector('meta[name="description"]');return u||(u=document.createElement("meta"),u.setAttribute("name","description"),document.head.appendChild(u)),u.setAttribute("content","Customize your photography studio website with professional templates, branding, and business settings."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const o=async u=>{s(!0);try{t(h=>({...h,activeTemplate:u}))}catch{}finally{s(!1)}},l=u=>{const h=`/preview/${u}`;window.open(h,"_blank","width=1200,height=800")},c=async()=>{s(!0);try{}catch{}finally{s(!1)}},d=(u,h)=>{t(p=>({...p,[u]:h}))};return n.jsx(ns,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Studio Customization"}),n.jsx("p",{className:"text-gray-600",children:"Customize your photography studio website template, branding, and business information."})]}),n.jsxs(Gt,{className:"mb-6",children:[n.jsx(Yr,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"h-5 w-5 text-purple-600"}),"Current Template"]}),n.jsx(Ia,{children:"Your active website design"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(ts,{className:"h-4 w-4 mr-2"}),"Preview Live Site"]}),n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),n.jsx(sr,{children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:n.jsx(Vs,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Modern Minimal"}),n.jsx("p",{className:"text-gray-600",children:"Clean, minimalist design focusing on your photography"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(hi,{variant:"secondary",children:"Active"}),n.jsx(hi,{variant:"outline",children:"Free Template"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.primaryColor}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.secondaryColor}})]})]})})]}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>i("template"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="template"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(to,{className:"h-4 w-4 inline mr-2"}),"Templates"]}),n.jsxs("button",{onClick:()=>i("branding"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="branding"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Da,{className:"h-4 w-4 inline mr-2"}),"Branding"]}),n.jsxs("button",{onClick:()=>i("business"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="business"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Bo,{className:"h-4 w-4 inline mr-2"}),"Business Info"]}),n.jsxs("button",{onClick:()=>i("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="settings"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Da,{className:"h-4 w-4 inline mr-2"}),"Settings"]})]})}),a==="template"&&n.jsx("div",{className:"mt-6",children:n.jsx(G9e,{currentTemplate:e.activeTemplate,onTemplateSelect:o,onPreview:l})}),a==="branding"&&n.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{children:"Brand Colors"}),n.jsx(Ia,{children:"Customize your brand colors to match your style"})]}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.primaryColor,onChange:u=>d("primaryColor",u.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),n.jsx("input",{type:"text",value:e.primaryColor,onChange:u=>d("primaryColor",u.target.value),placeholder:"#7C3AED",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.secondaryColor,onChange:u=>d("secondaryColor",u.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),n.jsx("input",{type:"text",value:e.secondaryColor,onChange:u=>d("secondaryColor",u.target.value),placeholder:"#F59E0B",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{children:"Logo & Assets"}),n.jsx(Ia,{children:"Upload your studio logo and brand assets"})]}),n.jsx(sr,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Logo"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx(Vs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload your logo"}),n.jsx(dr,{variant:"outline",size:"sm",children:"Choose File"})]})]})})})]})]}),a==="business"&&n.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Bo,{className:"h-5 w-5"}),"Studio Information"]}),n.jsx(Ia,{children:"Basic information about your photography studio"})]}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Name"}),n.jsx("input",{type:"text",value:e.studioName,onChange:u=>d("studioName",u.target.value),placeholder:"Your Studio Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),n.jsx("input",{type:"text",value:e.businessName,onChange:u=>d("businessName",u.target.value),placeholder:"Legal Business Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Ym,{className:"h-5 w-5"}),"Contact Details"]}),n.jsx(Ia,{children:"How clients can reach you"})]}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:e.email,onChange:u=>d("email",u.target.value),placeholder:"studio@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:e.phone,onChange:u=>d("phone",u.target.value),placeholder:"+43 123 456 789",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",value:e.address,onChange:u=>d("address",u.target.value),placeholder:"Street Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),n.jsx("input",{type:"text",value:e.city,onChange:u=>d("city",u.target.value),placeholder:"City, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),a==="settings"&&n.jsx("div",{className:"mt-6",children:n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{children:"Advanced Settings"}),n.jsx(Ia,{children:"Additional configuration options for your studio website"})]}),n.jsx(sr,{children:n.jsx("p",{className:"text-gray-600",children:"Advanced settings coming soon..."})})]})})]}),n.jsx("div",{className:"flex justify-end mt-8",children:n.jsx(dr,{onClick:c,disabled:r,size:"lg",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Gh,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})})})]})})})},Y9e=()=>{const[e,t]=_.useState(1),[r,s]=_.useState(""),[a,i]=_.useState(!1),[o,l]=_.useState(null);_.useState(null),_.useState({});const c=[{id:1,title:"Website URL",icon:Bo,description:"Enter your current website URL"},{id:2,title:"Data Analysis",icon:lg,description:"AI analyzes your content and SEO"},{id:3,title:"Template Selection",icon:Hn,description:"Choose your new design template"},{id:4,title:"Content Optimization",icon:Hn,description:"Review and approve SEO improvements"},{id:5,title:"Image Integration",icon:Wa,description:"Import and organize your photos"},{id:6,title:"Final Setup",icon:Da,description:"Configure forms and launch"}],d=async()=>{if(r){i(!0);try{const g=await(await fetch("/api/scrape-website",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r})})).json();l(g),t(2)}catch{}finally{i(!1)}}},u=()=>n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center",children:[n.jsx(Bo,{className:"mr-2"}),"Enter Your Current Website URL"]}),n.jsx(Ia,{children:"Our AI will analyze your existing website content, images, and SEO to create an optimized photography website"})]}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website URL"}),n.jsx(Oi,{type:"url",placeholder:"https://your-photography-website.com",value:r,onChange:y=>s(y.target.value),className:"w-full"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What we'll analyze:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Content and copy for SEO optimization"}),n.jsx("li",{children:"• Portfolio images and galleries"}),n.jsx("li",{children:"• Contact information and services"}),n.jsx("li",{children:"• Current SEO performance"}),n.jsx("li",{children:"• Brand colors and styling"})]})]}),n.jsx(dr,{onClick:d,disabled:!r||a,className:"w-full",children:a?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing Website..."]}):n.jsxs(n.Fragment,{children:[n.jsx(lg,{className:"mr-2 h-4 w-4"}),"Analyze Website"]})})]})]})}),h=()=>n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center",children:[n.jsx(lg,{className:"mr-2"}),"Website Analysis Complete"]}),n.jsx(Ia,{children:"Here's what we found on your current website"})]}),n.jsxs(sr,{children:[n.jsxs(m3,{defaultValue:"content",className:"w-full",children:[n.jsxs(p3,{className:"grid w-full grid-cols-4",children:[n.jsx(ec,{value:"content",children:"Content"}),n.jsx(ec,{value:"images",children:"Images"}),n.jsx(ec,{value:"seo",children:"SEO Analysis"}),n.jsx(ec,{value:"contact",children:"Contact Info"})]}),n.jsx(tc,{value:"content",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Current Title"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.title})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"About Section"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.content.aboutText})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Services Detected"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o?.content.services.map((y,g)=>n.jsx(hi,{variant:"secondary",children:y},g))})]})]})}),n.jsx(tc,{value:"images",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Logo"}),o?.images.logo?n.jsx("img",{src:o.images.logo,alt:"Logo",className:"h-12 w-auto"}):n.jsx("p",{className:"text-sm text-gray-500",children:"No logo detected"})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Gallery Images (",o?.images.gallery.length||0,")"]}),n.jsx("div",{className:"grid grid-cols-6 gap-2",children:o?.images.gallery.slice(0,12).map((y,g)=>n.jsx("img",{src:y,alt:`Gallery ${g+1}`,className:"w-full h-20 object-cover rounded"},g))})]})]})}),n.jsx(tc,{value:"seo",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:"SEO Score"}),n.jsxs(hi,{variant:o?.seoAnalysis.score>=80?"default":"secondary",children:[o?.seoAnalysis.score,"/100"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Issues Found"}),n.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.issues.map((y,g)=>n.jsxs("li",{className:"text-sm text-red-600 flex items-center",children:[n.jsx(Zr,{className:"mr-2 h-4 w-4"}),y]},g))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2 text-green-600",children:"Recommendations"}),n.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.recommendations.map((y,g)=>n.jsxs("li",{className:"text-sm text-green-600 flex items-center",children:[n.jsx(Fr,{className:"mr-2 h-4 w-4"}),y]},g))})]})]})}),n.jsx(tc,{value:"contact",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Contact Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Phone:"})," ",o?.content.contactInfo.phone||"Not found"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Email:"})," ",o?.content.contactInfo.email||"Not found"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Address:"})," ",o?.content.contactInfo.address||"Not found"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Social Links"}),n.jsx("div",{className:"space-y-1",children:o?.content.socialLinks.map((y,g)=>n.jsxs("a",{href:y,className:"text-sm text-blue-600 hover:underline flex items-center",children:[n.jsx(Dg,{className:"mr-1 h-3 w-3"}),y]},g))})]})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsxs(dr,{variant:"outline",onClick:()=>t(1),children:[n.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(dr,{onClick:()=>t(3),children:["Choose Template",n.jsx(Tm,{className:"ml-2 h-4 w-4"})]})]})]})]})}),p=()=>n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{children:"Choose Your Template"}),n.jsx(Ia,{children:"Select a template that matches your photography style"})]}),n.jsx(sr,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})})]})}),f=()=>{switch(e){case 1:return u();case 2:return h();case 3:return p();default:return u()}};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:c.map((y,g)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=y.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>y.id?n.jsx(Fr,{className:"h-5 w-5"}):n.jsx(y.icon,{className:"h-5 w-5"})}),n.jsx("div",{className:"ml-2 hidden sm:block",children:n.jsx("p",{className:`text-sm font-medium ${e>=y.id?"text-blue-600":"text-gray-500"}`,children:y.title})}),g<c.length-1&&n.jsx("div",{className:`w-12 h-0.5 ml-4 ${e>y.id?"bg-blue-600":"bg-gray-200"}`})]},y.id))}),f()]})})},Z9e=({sessions:e,clients:t,onSessionClick:r,onCreateSession:s,onUpdateSession:a,onDeleteSession:i,onDuplicateSession:o,onExportCalendar:l,onImportCalendar:c,onSyncExternalCalendar:d})=>{const[u,h]=_.useState(new Date),[p,f]=_.useState(null),[y,g]=_.useState("month"),[v,b]=_.useState(""),[S,N]=_.useState("all"),[w,C]=_.useState("");_.useState([]);const[L,k]=_.useState(null),[A,P]=_.useState(!1),[B,T]=_.useState("asc"),[I,M]=_.useState(""),[D,V]=_.useState(""),z=ve.useMemo(()=>{const H=new Map;for(const te of t||[]){const ye=te.name||`${te.firstName||""} ${te.lastName||""}`.trim();te.id&&H.set(te.id,{name:ye,email:te.email})}return H},[t]),[X,q]=_.useState(new Map);_.useEffect(()=>{const H=async()=>{const te=new Map,ye=Array.from(new Set(e.map(Ce=>Ce.clientId).filter(Boolean)));await Promise.all(ye.map(async Ce=>{try{const Pe=await fetch(`/api/crm/clients/${Ce}/gallery-cover`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(Pe.ok){const Ee=await Pe.json();Ee.coverImage&&te.set(Ce,Ee.coverImage)}}catch(Pe){console.warn(`Failed to fetch gallery cover for client ${Ce}:`,Pe)}})),q(te)};e.length>0&&H()},[e]);const Y=H=>{if(H.clientName&&H.clientName.trim())return H.clientName;if(H.clientId){const te=z.get(H.clientId);if(te?.name)return te.name}return""},ie=H=>{if(H.clientEmail&&H.clientEmail.trim())return H.clientEmail;if(H.clientId){const te=z.get(H.clientId);if(te?.email)return te.email}return""},W=H=>{const te=H.trim().split(/\s+/).filter(Boolean);return(te[0]?.[0]||"").toUpperCase()+(te[1]?.[0]||"").toUpperCase()},F=({session:H})=>{const te=Y(H);if(!te)return null;const ye=ie(H),Ce=H.clientId,Pe=Ce?X.get(Ce):null;return n.jsxs("div",{className:"flex items-center gap-1 truncate opacity-80",children:[n.jsxs("div",{className:"w-4 h-4 rounded-full bg-gray-200 text-[9px] leading-none flex items-center justify-center text-gray-700 overflow-hidden",children:[Pe?n.jsx("img",{src:Pe,alt:`${te} avatar`,className:"w-full h-full object-cover rounded-full",onError:Ee=>{const Ve=Ee.target;Ve.style.display="none";const tt=Ve.nextElementSibling;tt&&(tt.style.display="flex")}}):null,n.jsx("span",{className:`${Pe?"hidden":"flex"} items-center justify-center w-full h-full`,children:W(te)||"👤"})]}),Ce?n.jsx($t,{to:`/admin/clients/${Ce}`,className:"underline hover:text-blue-700 truncate",title:ye||te,onClick:Ee=>Ee.stopPropagation(),children:te}):n.jsx("span",{className:"truncate",title:ye||te,children:te})]})},Z=e.filter(H=>{if(v){const te=v.toLowerCase();if(!(H.title.toLowerCase().includes(te)||H.clientName?.toLowerCase().includes(te)||H.locationName?.toLowerCase().includes(te)||H.sessionType.toLowerCase().includes(te)))return!1}if(I||D){const te=H.startTime?Ln(H.startTime):H.endTime?Ln(H.endTime):null;if(!te)return!1;const ye=I?In(te,"MM")===I.padStart(2,"0"):!0,Ce=D?In(te,"yyyy")===D:!0;if(!(ye&&Ce))return!1}if(S!=="all"&&w)switch(S){case"sessionType":if(H.sessionType!==w)return!1;break;case"status":if(H.status!==w)return!1;break;case"client":if(H.clientName!==w)return!1;break;case"paymentStatus":if(H.paymentStatus!==w)return!1;break;case"priority":if(H.priority!==w)return!1;break}return!0}),Q=Array.from(new Set(e.map(H=>H.sessionType))),ae=Array.from(new Set(e.map(H=>H.status))),de=Array.from(new Set(e.map(H=>H.clientName).filter(Boolean))),ge=Array.from(new Set(e.map(H=>H.paymentStatus))),Se=Array.from(new Set(e.map(H=>H.priority))),J=H=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[H]||"bg-gray-100 border-gray-300 text-gray-800",he=H=>{switch(H){case"completed":return n.jsx(Fr,{className:"w-3 h-3 text-green-600"});case"in-progress":return n.jsx(Vs,{className:"w-3 h-3 text-blue-600"});case"scheduled":return n.jsx(Os,{className:"w-3 h-3 text-orange-600"});case"cancelled":return n.jsx(Pm,{className:"w-3 h-3 text-red-600"});default:return n.jsx(Os,{className:"w-3 h-3 text-gray-600"})}},ee=H=>{switch(H){case"urgent":return n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"});case"high":return n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"});case"medium":return n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"});case"low":return n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"});default:return n.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}},le=(H,te)=>{k(te),H.dataTransfer.effectAllowed="move"},ke=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},Ne=(H,te)=>{if(H.preventDefault(),L){const ye={...L,startTime:In(te,"yyyy-MM-dd'T'HH:mm:ss"),endTime:In(_Ae(te,0),"yyyy-MM-dd'T'HH:mm:ss")};a(ye),k(null)}},G=()=>{const H=LAe(u),te=OAe(u),ye=Rm(H),Ce=X8(te),Pe=Z8({start:ye,end:Ce});return n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(Ee=>n.jsx("div",{className:"p-2 text-center font-medium text-gray-700 bg-gray-50",children:Ee},Ee)),Pe.map(Ee=>{const Ve=Z.filter(mt=>{const ut=mt.startTime?Ln(mt.startTime):null,zt=!ut&&mt.endTime?Ln(mt.endTime):null;return ut&&Ld(ut,Ee)||zt&&Ld(zt,Ee)}),tt=Ike(Ee,u),it=Ld(Ee,new Date),ft=p&&Ld(Ee,p);return n.jsxs("div",{className:`min-h-[120px] p-1 border border-gray-200 cursor-pointer transition-colors ${tt?"bg-white":"bg-gray-50 text-gray-400"} ${it?"bg-blue-50":""} ${ft?"bg-blue-100":""} hover:bg-gray-50`,onClick:()=>f(Ee),onDragOver:ke,onDrop:mt=>Ne(mt,Ee),onDoubleClick:()=>s(Ee),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:`text-sm ${it?"font-bold text-blue-600":""}`,children:In(Ee,"d")}),Ve.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",Ve.length-3]})]}),n.jsx("div",{className:"space-y-1",children:Ve.slice(0,3).map(mt=>n.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer ${J(mt.sessionType)}`,draggable:!0,onDragStart:ut=>le(ut,mt),onClick:ut=>{ut.stopPropagation(),r(mt)},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"truncate flex-1",children:mt.title}),n.jsxs("div",{className:"flex items-center space-x-1",children:[ee(mt.priority),he(mt.status)]})]}),n.jsx(F,{session:mt})]},mt.id))})]},Ee.toISOString())})]})},Ae=()=>{const H=Rm(u),te=X8(u),ye=Z8({start:H,end:te}),Ce=Array.from({length:24},(Pe,Ee)=>Ee);return n.jsx("div",{className:"overflow-auto max-h-[600px]",children:n.jsxs("div",{className:"grid grid-cols-8 gap-1 min-w-[800px]",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("div",{className:"h-12 border-b border-gray-200"}),Ce.map(Pe=>n.jsx("div",{className:"h-16 border-b border-gray-100 p-1 text-xs text-gray-500",children:In(new Date().setHours(Pe,0,0,0),"HH:mm")},Pe))]}),ye.map(Pe=>{const Ee=Z.filter(tt=>{const it=tt.startTime?Ln(tt.startTime):null,ft=!it&&tt.endTime?Ln(tt.endTime):null;return it&&Ld(it,Pe)||ft&&Ld(ft,Pe)}),Ve=Ld(Pe,new Date);return n.jsxs("div",{className:"col-span-1",children:[n.jsxs("div",{className:`h-12 border-b border-gray-200 p-2 text-center ${Ve?"bg-blue-50":""}`,children:[n.jsx("div",{className:"font-medium",children:In(Pe,"EEE")}),n.jsx("div",{className:`text-sm ${Ve?"text-blue-600 font-bold":""}`,children:In(Pe,"d")})]}),n.jsxs("div",{className:"relative",children:[Ce.map(tt=>n.jsx("div",{className:"h-16 border-b border-gray-100 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const it=new Date(Pe);it.setHours(tt,0,0,0),s(it)}},tt)),Ee.map(tt=>{const it=Ln(tt.startTime),ft=Ln(tt.endTime),mt=it.getHours()+it.getMinutes()/60,ut=(ft.getTime()-it.getTime())/(1e3*60*60);return n.jsxs("div",{className:`absolute left-1 right-1 rounded p-1 text-xs border cursor-pointer ${J(tt.sessionType)}`,style:{top:`${mt*64}px`,height:`${Math.max(ut*64,32)}px`},draggable:!0,onDragStart:zt=>le(zt,tt),onClick:()=>r(tt),children:[n.jsx("div",{className:"font-medium truncate",children:tt.title}),n.jsx(F,{session:tt}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[ee(tt.priority),he(tt.status)]})]},tt.id)})]})]},Pe.toISOString())})]})})},ze=()=>{const H=Array.from({length:24},(ye,Ce)=>Ce),te=Z.filter(ye=>{const Ce=ye.startTime?Ln(ye.startTime):null,Pe=!Ce&&ye.endTime?Ln(ye.endTime):null;return Ce&&Ld(Ce,u)||Pe&&Ld(Pe,u)});return n.jsx("div",{className:"overflow-auto max-h-[600px]",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 min-w-[600px]",children:[n.jsxs("div",{children:[n.jsx("div",{className:"h-12 border-b border-gray-200 p-2 text-center bg-gray-50",children:n.jsx("div",{className:"font-medium",children:In(u,"EEEE, MMMM d, yyyy")})}),n.jsxs("div",{className:"relative",children:[H.map(ye=>n.jsx("div",{className:"h-16 border-b border-gray-100 p-2 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const Ce=new Date(u);Ce.setHours(ye,0,0,0),s(Ce)},children:n.jsx("div",{className:"text-sm text-gray-500",children:In(new Date().setHours(ye,0,0,0),"HH:mm")})},ye)),te.map(ye=>{const Ce=Ln(ye.startTime),Pe=Ln(ye.endTime),Ee=Ce.getHours()+Ce.getMinutes()/60,Ve=(Pe.getTime()-Ce.getTime())/(1e3*60*60);return n.jsxs("div",{className:`absolute left-2 right-2 rounded p-2 border cursor-pointer ${J(ye.sessionType)}`,style:{top:`${Ee*64}px`,height:`${Math.max(Ve*64,48)}px`},onClick:()=>r(ye),children:[n.jsx("div",{className:"font-medium",children:ye.title}),n.jsx(F,{session:ye}),n.jsxs("div",{className:"text-sm",children:[In(Ce,"HH:mm")," - ",In(Pe,"HH:mm")]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[ee(ye.priority),he(ye.status)]})]},ye.id)})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4",children:[n.jsx("h3",{className:"font-medium mb-4",children:"Sessions Today"}),n.jsx("div",{className:"space-y-3",children:te.map(ye=>n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:ye.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[ee(ye.priority),he(ye.status)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("div",{children:ye.clientName}),n.jsxs("div",{children:[In(Ln(ye.startTime),"HH:mm")," - ",In(Ln(ye.endTime),"HH:mm")]}),ye.locationName&&n.jsxs("div",{children:["📍 ",ye.locationName]}),ye.paymentStatus!=="fully_paid"&&n.jsxs("div",{className:"text-orange-600",children:["💰 Payment: ",ye.paymentStatus]})]}),n.jsxs("div",{className:"flex space-x-2 mt-2",children:[n.jsx("button",{onClick:()=>r(ye),className:"text-xs text-blue-600 hover:text-blue-800",children:n.jsx(ts,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>a(ye),className:"text-xs text-green-600 hover:text-green-800",children:n.jsx(Ga,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>o(ye),className:"text-xs text-purple-600 hover:text-purple-800",children:n.jsx(Gc,{className:"w-3 h-3"})})]})]},ye.id))})]})]})})},Be=()=>{const H=Z.filter(te=>Lke(Ln(te.startTime),new Date)).sort((te,ye)=>Ln(te.startTime).getTime()-Ln(ye.startTime).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-4",children:[H.map(te=>{const ye=Ln(te.startTime),Ce=Ln(te.endTime);return n.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${J(te.sessionType)}`,children:te.sessionType}),n.jsx("h3",{className:"font-medium",children:te.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[ee(te.priority),he(te.status)]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>r(te),className:"p-1 text-blue-600 hover:text-blue-800",children:n.jsx(ts,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(te),className:"p-1 text-green-600 hover:text-green-800",children:n.jsx(Ga,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(te),className:"p-1 text-purple-600 hover:text-purple-800",children:n.jsx(Gc,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>i(te.id),className:"p-1 text-red-600 hover:text-red-800",children:n.jsx(Ns,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{children:In(ye,"MMM d, yyyy")})]}),n.jsxs("div",{className:"ml-6",children:[In(ye,"HH:mm")," - ",In(Ce,"HH:mm")]})]}),n.jsxs("div",{children:[Y(te)&&n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(Gn,{className:"w-4 h-4"}),n.jsx(F,{session:te})]}),te.locationName&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ru,{className:"w-4 h-4"}),n.jsx("span",{children:te.locationName})]})]}),n.jsxs("div",{children:[te.basePrice&&n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(rc,{className:"w-4 h-4"}),n.jsxs("span",{children:["$",te.basePrice," (",te.paymentStatus,")"]})]}),te.equipmentList&&te.equipmentList.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vs,{className:"w-4 h-4"}),n.jsxs("span",{children:[te.equipmentList.length," items"]})]})]})]}),te.notes&&n.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:te.notes}),n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[te.weatherDependent&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(E1,{className:"w-3 h-3"}),n.jsx("span",{children:"Weather dependent"})]}),te.goldenHourOptimized&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(J0,{className:"w-3 h-3"}),n.jsx("span",{children:"Golden hour"})]}),te.portfolioWorthy&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Mo,{className:"w-3 h-3"}),n.jsx("span",{children:"Portfolio worthy"})]}),te.externalCalendarSync&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Dg,{className:"w-3 h-3"}),n.jsx("span",{children:"Synced"})]})]}),te.conflictDetected&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[n.jsx(Pm,{className:"w-3 h-3"}),n.jsx("span",{children:"Conflict detected"})]})]})]},te.id)}),H.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(an,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No upcoming sessions found"})]})]})},qe=()=>{const te=[...Z].sort((Ce,Pe)=>{const Ee=Ln(Ce.startTime).getTime(),Ve=Ln(Pe.startTime).getTime();return B==="asc"?Ee-Ve:Ve-Ee}).reduce((Ce,Pe)=>{const Ee=In(Ln(Pe.startTime),"yyyy-MM-dd");return Ce[Ee]||(Ce[Ee]=[]),Ce[Ee].push(Pe),Ce},{}),ye=Object.keys(te).sort((Ce,Pe)=>B==="asc"?Ce.localeCompare(Pe):Pe.localeCompare(Ce));return n.jsx("div",{className:"space-y-6",children:ye.map(Ce=>n.jsxs("div",{className:"bg-white border rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:n.jsx("h3",{className:"font-medium",children:In(Ln(Ce),"EEEE, MMMM d, yyyy")})}),n.jsx("div",{className:"divide-y",children:te[Ce].map(Pe=>n.jsx("div",{className:"p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${J(Pe.sessionType)}`,children:Pe.sessionType}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:Pe.title}),Y(Pe)&&n.jsx("div",{className:"text-sm text-gray-600",children:n.jsx(F,{session:Pe})})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[In(Ln(Pe.startTime),"HH:mm")," - ",In(Ln(Pe.endTime),"HH:mm")]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[ee(Pe.priority),he(Pe.status)]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>r(Pe),className:"p-1 text-blue-600 hover:text-blue-800",children:n.jsx(ts,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(Pe),className:"p-1 text-green-600 hover:text-green-800",children:n.jsx(Ga,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(Pe),className:"p-1 text-purple-600 hover:text-purple-800",children:n.jsx(Gc,{className:"w-4 h-4"})})]})]})]})},Pe.id))})]},Ce))})};return n.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[n.jsxs("div",{className:"border-b p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Photography Calendar"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>h(Zke(u,1)),className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(Dv,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>h(new Date),className:"px-3 py-1 text-sm hover:bg-gray-100 rounded font-medium",children:"Today"}),n.jsx("button",{onClick:()=>h(Kz(u,1)),className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(Hc,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"text-lg font-medium",children:In(u,"MMMM yyyy")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Sync with external calendars",children:[n.jsx(Gh,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Sync"})]}),n.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Export calendar",children:[n.jsx(js,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Export"})]}),n.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50 cursor-pointer",children:[n.jsx(Ri,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Import"}),n.jsx("input",{type:"file",accept:".ics,.csv",className:"hidden",onChange:H=>H.target.files?.[0]&&c(H.target.files[0])})]}),n.jsxs("button",{onClick:()=>s(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[n.jsx(Tr,{className:"w-4 h-4"}),n.jsx("span",{children:"New Session"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex border rounded",children:["month","week","day","agenda","list"].map(H=>n.jsx("button",{onClick:()=>g(H),className:`px-3 py-1 text-sm capitalize ${y===H?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:H},H))}),n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search sessions...",value:v,onChange:H=>b(H.target.value),className:"pl-9 pr-3 py-2 border rounded-md w-64 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("button",{onClick:()=>P(!A),className:`flex items-center space-x-2 px-3 py-2 border rounded ${A?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[n.jsx(Hh,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Filters"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("select",{value:I,onChange:H=>M(H.target.value),className:"px-2 py-1 border rounded text-sm",children:[n.jsx("option",{value:"",children:"All months"}),Array.from({length:12},(H,te)=>te+1).map(H=>n.jsx("option",{value:String(H).padStart(2,"0"),children:String(H).padStart(2,"0")},H))]}),n.jsxs("select",{value:D,onChange:H=>V(H.target.value),className:"px-2 py-1 border rounded text-sm",children:[n.jsx("option",{value:"",children:"All years"}),Array.from({length:7},(H,te)=>new Date().getFullYear()-3+te).map(H=>n.jsx("option",{value:String(H),children:H},H))]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[Z.length," of ",e.length," sessions"]})]}),A&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by"}),n.jsxs("select",{value:S,onChange:H=>{N(H.target.value),C("")},className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"sessionType",children:"Session Type"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"client",children:"Client"}),n.jsx("option",{value:"paymentStatus",children:"Payment Status"}),n.jsx("option",{value:"priority",children:"Priority"})]})]}),S!=="all"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),n.jsxs("select",{value:w,onChange:H=>C(H.target.value),className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select..."}),S==="sessionType"&&Q.map(H=>n.jsx("option",{value:H,children:H},H)),S==="status"&&ae.map(H=>n.jsx("option",{value:H,children:H},H)),S==="client"&&de.map(H=>n.jsx("option",{value:H,children:H},H)),S==="paymentStatus"&&ge.map(H=>n.jsx("option",{value:H,children:H},H)),S==="priority"&&Se.map(H=>n.jsx("option",{value:H,children:H},H))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{N("all"),C(""),b(""),M(""),V("")},className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"Clear Filters"})})]}),y==="list"&&n.jsxs("div",{className:"mt-3 flex items-center space-x-3",children:[n.jsx("span",{className:"text-sm text-gray-700",children:"List sort:"}),n.jsxs("select",{value:B,onChange:H=>T(H.target.value),className:"px-2 py-1 border rounded text-sm",children:[n.jsx("option",{value:"asc",children:"Ascending"}),n.jsx("option",{value:"desc",children:"Descending"})]})]})]})]}),n.jsxs("div",{className:"p-4",children:[y==="month"&&G(),y==="week"&&Ae(),y==="day"&&ze(),y==="agenda"&&Be(),y==="list"&&qe()]})]})},X9e=({onImportComplete:e})=>{const[t,r]=_.useState(!1),[s,a]=_.useState(null),[i,o]=_.useState(""),[l,c]=_.useState(null),[d,u]=_.useState(null),[h,p]=_.useState(20),[f,y]=_.useState(20),[g,v]=_.useState(""),[b,S]=_.useState(!0),[N,w]=_.useState(null),[C,L]=_.useState(!0),k=_.useRef(null),A=async V=>{if(!V.name.endsWith(".ics")){a({success:!1,error:"Please select a valid .ics calendar file"});return}r(!0),a(null);try{const z=await V.text(),X=await fetch("/api/calendar/import/ics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsContent:z,fileName:V.name})});if(!X.ok)throw new Error("Import failed");const q=await X.json();a({success:!0,count:q.imported}),e(q.imported)}catch{a({success:!1,error:"Failed to import calendar file. Please check the file format."})}finally{r(!1)}},P=async()=>{if(!i.trim()){a({success:!1,error:"Please enter a valid .ics URL"});return}r(!0),a(null);try{const V=await fetch("/api/calendar/import/ics-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsUrl:i.trim()})});if(!V.ok)throw new Error("Import failed");const z=await V.json();a({success:!0,count:z.imported}),e(z.imported)}catch{a({success:!1,error:"Failed to import from URL. Please check the URL is accessible."})}finally{r(!1)}},B=async()=>{try{r(!0),c(null),u(null);const V=new URLSearchParams({threshold:String(h),limit:String(f)}),z=await fetch(`/api/admin/calendar/stacked-clusters?${V.toString()}`);if(!z.ok)throw new Error("Failed to fetch clusters");const X=await z.json();c(X.clusters||[]),u(X.sample||[]),(X.clusters||[]).length>0&&v(X.clusters[0].start_time_iso)}catch{a({success:!1,error:"Failed to load stacked clusters."})}finally{r(!1)}},T=async()=>{if(!g){a({success:!1,error:"Select a target ISO timestamp from clusters first."});return}try{r(!0),w(null);const V=await fetch("/api/admin/calendar/cleanup-stacked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetStartTimeIso:g,onlyNullIcalUid:b,dryRun:!0})});if(!V.ok)throw new Error("Dry-run failed");const z=await V.json();w(z)}catch{a({success:!1,error:"Cleanup dry-run failed."})}finally{r(!1)}},I=async()=>{if(!g){a({success:!1,error:"Select a target ISO timestamp from clusters first."});return}try{r(!0);const V=await fetch("/api/admin/calendar/cleanup-stacked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetStartTimeIso:g,onlyNullIcalUid:b,dryRun:!1})});if(!V.ok)throw new Error("Cleanup failed");const z=await V.json();if(C&&i.trim())try{const X=await fetch("/api/calendar/import/ics-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsUrl:i.trim()})});if(X.ok){const q=await X.json();a({success:!0,count:q.imported}),e(q.imported||0)}else a({success:!1,error:"Cleanup done, but re-import failed."})}catch{a({success:!1,error:"Cleanup done, but re-import failed."})}else a({success:!0,count:0});B()}catch{a({success:!1,error:"Cleanup failed."})}finally{r(!1)}},M=()=>{k.current?.click()},D=V=>{const z=V.target.files?.[0];z&&A(z)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Import Existing Calendar Events"}),n.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Import your existing Google Calendar bookings into the photography CRM system."}),n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Import from .ics URL"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Paste your Google Calendar .ics URL:"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"url",placeholder:"https://calendar.google.com/calendar/ical/...",value:i,onChange:V=>o(V.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm"}),n.jsx("button",{onClick:P,disabled:t||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:t?"Importing...":"Import"})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Upload .ics File"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Or upload a downloaded .ics calendar file:"}),n.jsx("input",{ref:k,type:"file",accept:".ics",onChange:D,className:"hidden"}),n.jsxs("button",{onClick:M,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[n.jsx(Ri,{size:16}),n.jsx("span",{children:"Choose .ics File"})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"How to get your .ics URL from Google Calendar:"}),n.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[n.jsx("li",{children:"Open Google Calendar"}),n.jsx("li",{children:"Click the gear icon → Settings"}),n.jsx("li",{children:"Select your calendar from the left sidebar"}),n.jsx("li",{children:'Scroll to "Integrate calendar"'}),n.jsx("li",{children:'Copy the "Secret address in iCal format" URL'}),n.jsx("li",{children:"Paste it above and click Import"})]})]})]}),s&&n.jsxs("div",{className:`p-4 rounded-lg ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[s.success?n.jsx(ba,{className:"h-5 w-5 text-green-600"}):n.jsx(Zr,{className:"h-5 w-5 text-red-600"}),n.jsx("span",{className:`font-medium ${s.success?"text-green-900":"text-red-900"}`,children:s.success?`Successfully imported ${s.count} events!`:"Import failed"})]}),s.error&&n.jsx("p",{className:"text-sm text-red-800 mt-2",children:s.error})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"Admin: Cleanup legacy stacked entries"}),n.jsx("p",{className:"text-sm text-purple-800 mb-3",children:"Detect clusters of sessions sharing the exact same UTC start time and remove the broken ones (typically rows without iCal UID)."}),n.jsxs("div",{className:"bg-white p-4 rounded border space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Threshold"}),n.jsx("input",{type:"number",className:"w-24 p-1 border rounded text-sm",value:h,onChange:V=>p(parseInt(V.target.value||"0",10))}),n.jsx("label",{className:"text-sm text-gray-700",children:"Limit"}),n.jsx("input",{type:"number",className:"w-24 p-1 border rounded text-sm",value:f,onChange:V=>y(parseInt(V.target.value||"0",10))}),n.jsx("button",{onClick:B,disabled:t,className:"ml-auto px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 text-sm",children:"Scan"})]}),l&&l.length>0&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-gray-600",children:[n.jsx("th",{className:"py-1 pr-3",children:"Start Time (UTC ISO)"}),n.jsx("th",{className:"py-1 pr-3",children:"Count"}),n.jsx("th",{className:"py-1 pr-3",children:"with iCal UID"}),n.jsx("th",{className:"py-1 pr-3",children:"without iCal UID"}),n.jsx("th",{className:"py-1",children:"Select"})]})}),n.jsx("tbody",{children:l.map(V=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"py-1 pr-3 font-mono",children:V.start_time_iso}),n.jsx("td",{className:"py-1 pr-3",children:V.count}),n.jsx("td",{className:"py-1 pr-3",children:V.with_ical_uid}),n.jsx("td",{className:"py-1 pr-3",children:V.without_ical_uid}),n.jsx("td",{className:"py-1",children:n.jsx("button",{onClick:()=>v(V.start_time_iso),className:`px-2 py-1 rounded text-xs ${g===V.start_time_iso?"bg-purple-700 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Target"})})]},V.start_time_iso))})]})}),d&&d.length>0&&n.jsxs("div",{className:"text-xs text-gray-700",children:[n.jsx("div",{className:"font-medium mb-1",children:"Sample of latest rows in top cluster:"}),n.jsx("ul",{className:"list-disc list-inside",children:d.map(V=>n.jsxs("li",{className:"truncate",children:[V.id," — ",V.title||"(untitled)"," — ",V.ical_uid||"(no iCal UID)"," — ",V.created_at]},V.id))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm text-gray-700",children:"Target ISO"}),n.jsx("input",{value:g,onChange:V=>v(V.target.value),placeholder:"2025-09-08T16:36:48Z",className:"flex-1 p-2 border rounded text-sm font-mono"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-1",children:[n.jsx("input",{type:"checkbox",checked:b,onChange:V=>S(V.target.checked)}),"Delete only rows without iCal UID"]}),n.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-1 ml-auto",children:[n.jsx("input",{type:"checkbox",checked:C,onChange:V=>L(V.target.checked)}),"Re-import from .ics URL after cleanup"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:T,disabled:t||!g,className:"px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 disabled:opacity-50 text-sm",children:"Dry-run"}),n.jsx("button",{onClick:I,disabled:t||!g,className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:"Delete now"})]}),N&&n.jsxs("div",{className:"text-sm text-gray-800 bg-yellow-50 border border-yellow-200 p-2 rounded",children:[n.jsx("div",{className:"font-medium",children:"Dry-run summary"}),n.jsxs("div",{children:["Target: ",n.jsx("span",{className:"font-mono",children:N.targetStartTimeIso})]}),n.jsxs("div",{children:["Total at target: ",N.summary?.total??0]}),n.jsxs("div",{children:["With iCal UID: ",N.summary?.with_ical_uid??0]}),n.jsxs("div",{children:["Without iCal UID: ",N.summary?.without_ical_uid??0]})]})]})]}),n.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Alternative: Manual Entry"}),n.jsx("p",{className:"text-sm text-amber-800",children:"You can also manually create photography sessions in the CRM for your existing bookings. This gives you full control over client details, pricing, and session information."})]})]})},Q9e=({isOpen:e,onClose:t,onConnectionSuccess:r})=>{const[s,a]=_.useState("ical"),i=l=>{navigator.clipboard.writeText(l),alert("Copied to clipboard!")},o=()=>{window.open(`${window.location.origin}/api/calendar/photography-sessions.ics`,"_blank")};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(an,{className:"h-6 w-6 text-blue-600 mr-3"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Google Calendar Integration"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[n.jsx("button",{onClick:()=>a("ical"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="ical"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"iCal Subscription"}),n.jsx("button",{onClick:()=>a("import"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="import"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Import Existing Events"}),n.jsx("button",{onClick:()=>a("oauth"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="oauth"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"OAuth Integration"})]}),s==="ical"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"✨ Simple Google Calendar Integration"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-green-800",children:"Subscribe to your photography sessions calendar directly in Google Calendar using iCal feed."}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Photography Calendar iCal URL:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:`${window.location.origin}/api/calendar/photography-sessions.ics`,readOnly:!0,className:"flex-1 p-2 border border-gray-300 rounded bg-gray-50 text-sm"}),n.jsxs("button",{onClick:()=>i(`${window.location.origin}/api/calendar/photography-sessions.ics`),className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[n.jsx(Gc,{size:14}),n.jsx("span",{children:"Copy"})]})]})]}),n.jsxs("div",{className:"text-sm text-green-800",children:[n.jsx("p",{children:n.jsx("strong",{children:"How to add to Google Calendar:"})}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mt-2",children:[n.jsx("li",{children:"Open Google Calendar on your computer"}),n.jsx("li",{children:'On the left side, click "+" next to "Other calendars"'}),n.jsx("li",{children:'Select "From URL"'}),n.jsx("li",{children:"Paste the iCal URL above"}),n.jsx("li",{children:'Click "Add calendar"'})]}),n.jsxs("p",{className:"mt-2 text-green-700",children:[n.jsx("strong",{children:"✓ Your photography sessions will automatically appear in Google Calendar"}),n.jsx("br",{}),n.jsx("strong",{children:"✓ Updates sync every few hours"}),n.jsx("br",{}),n.jsx("strong",{children:"✓ No complex OAuth setup required"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-3",children:[n.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[n.jsx(js,{size:16}),n.jsx("span",{children:"Download .ics File"})]}),n.jsxs("button",{onClick:()=>window.open("https://calendar.google.com","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[n.jsx(Dg,{size:16}),n.jsx("span",{children:"Open Google Calendar"})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What's Included in Your Calendar Feed"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Photography session titles and descriptions"}),n.jsx("li",{children:"• Client names and session types"}),n.jsx("li",{children:"• Location details for each session"}),n.jsx("li",{children:"• Session status (confirmed, tentative, cancelled)"}),n.jsx("li",{children:"• Priority levels for important sessions"}),n.jsx("li",{children:"• Automatic updates when you modify sessions"})]})]})]}),s==="import"&&n.jsx("div",{className:"space-y-6",children:n.jsx(X9e,{onImportComplete:l=>{alert(`Successfully imported ${l} events!`)}})}),s==="oauth"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Advanced Integration (OAuth 2.0)"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[n.jsx("p",{children:"For two-way sync and advanced features, OAuth integration is available:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Two-way synchronization (Google Calendar ↔ Photography CRM)"}),n.jsx("li",{children:"Real-time updates"}),n.jsx("li",{children:"Create sessions directly from Google Calendar"}),n.jsx("li",{children:"Automatic conflict detection"}),n.jsx("li",{children:"Multiple calendar support"})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Requires:"})," Google Cloud Console setup with OAuth credentials"]}),n.jsxs("p",{className:"mt-2",children:["See ",n.jsx("code",{children:"docs/google-calendar-setup.md"})," for OAuth setup instructions."]})]})]}),n.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[n.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"OAuth Setup Required"}),n.jsxs("div",{className:"text-sm text-amber-800 space-y-2",children:[n.jsx("p",{children:"To enable OAuth integration, you need to:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Create a Google Cloud Console project"}),n.jsx("li",{children:"Enable the Google Calendar API"}),n.jsx("li",{children:"Create OAuth 2.0 credentials"}),n.jsx("li",{children:"Configure redirect URIs for your domain"}),n.jsx("li",{children:"Add credentials to environment variables"})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Environment variables needed:"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_ID"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_SECRET"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_REDIRECT_URI"})]})]})]})]})]}),n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Close"})})]})}):null},KS=(e,t=52.52,r=13.405)=>{const s=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),a=23.45*Math.sin(2*Math.PI*(284+s)/365)*Math.PI/180,i=t*Math.PI/180,o=Math.acos(-Math.tan(i)*Math.tan(a)),l=12-r/15,c=l-o*12/Math.PI,d=l+o*12/Math.PI,u=c,h=c+1,p=d-1,f=d,y=v=>{const b=Math.floor(v),S=Math.floor((v-b)*60);return`${b.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`},g=(v,b)=>{const S=new Date(v),N=Math.floor(b),w=Math.floor((b-N)*60);return S.setHours(N,w,0,0),S};return{morning:`${y(u)} - ${y(h)}`,evening:`${y(p)} - ${y(f)}`,windows:{morning:{start:g(e,u),end:g(e,h)},evening:{start:g(e,p),end:g(e,f)}}}},FD=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(!0);_.useState(new Date);const[c,d]=_.useState(8);_.useState(null),_.useState("calendar");const[u,h]=_.useState(!1),[p,f]=_.useState(localStorage.getItem("preferredDateFormat")||"MM/dd/yyyy"),[y,g]=_.useState([]),[v,b]=_.useState(!1),[S,N]=_.useState(""),[w,C]=_.useState({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientId:"",clientName:"",clientEmail:"",locationName:"",locationAddress:"",locationCoordinates:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),[L,k]=_.useState({firstName:"",lastName:"",email:"",phone:""}),[A,P]=_.useState(!1),[B,T]=_.useState(!1),[I,M]=_.useState(!1),[D,V]=_.useState([]),[z,X]=_.useState({totalSessions:0,upcomingSessions:0,completedSessions:0,totalRevenue:0,pendingDeposits:0,equipmentConflicts:0}),q=y.map(G=>({id:G.id,name:`${G.firstName} ${G.lastName}`.trim(),email:G.email||"",phone:G.phone}));_.useEffect(()=>{W(),Y(),ae(),ie()},[]);const Y=async()=>{try{const G=await fetch("/api/crm/leads");if(G.ok){const Ae=await G.json();d(Ae.length)}}catch{}},ie=async()=>{try{b(!0);const G=await fetch("/api/crm/clients",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!G.ok)return g([]);const Ae=await G.json(),ze=(Array.isArray(Ae)?Ae:[]).map(Be=>({id:Be.id,firstName:Be.first_name??Be.firstName??"",lastName:Be.last_name??Be.lastName??"",email:Be.email,phone:Be.phone}));g(ze)}catch{g([])}finally{b(!1)}},W=async()=>{try{l(!0);const ze=await fetch(!1?"/api/debug/photography-sessions":"/api/photography/sessions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(ze.ok){const Be=await ze.json();t(Be)}else t([])}catch{t([])}finally{l(!1)}},[F,Z]=_.useState(!1),Q=G=>{const Ae=new Date,ze=new Date;ze.setDate(ze.getDate()+30);let Be=0,qe=0,H=0,te=0,ye=0;const Ce={};return G.forEach(Pe=>{Pe.basePrice&&typeof Pe.basePrice=="number"&&(Be+=Pe.basePrice);const Ee=Pe.startTime?new Date(Pe.startTime):null;if(Pe.endTime&&new Date(Pe.endTime),Ee&&Ee>=Ae&&Ee<=ze&&qe++,Pe.status==="completed"&&Ee&&Ee.getFullYear()===Ae.getFullYear()&&Ee.getMonth()===Ae.getMonth()&&H++,Pe.depositAmount&&!Pe.depositPaid&&te++,Ee){const Ve=Ee.toISOString().slice(0,10);Ce[Ve]=Ce[Ve]||[],Ce[Ve].push(Pe)}}),Object.values(Ce).forEach(Pe=>{for(let Ee=0;Ee<Pe.length;Ee++)for(let Ve=Ee+1;Ve<Pe.length;Ve++){const tt=Pe[Ee],it=Pe[Ve];if(!tt.equipmentList||!it.equipmentList)continue;if(tt.equipmentList.filter(mt=>it.equipmentList.includes(mt)).length){const mt=new Date(tt.startTime).getTime(),ut=new Date(tt.endTime).getTime(),zt=new Date(it.startTime).getTime(),er=new Date(it.endTime).getTime();mt<er&&zt<ut&&ye++}}}),{totalSessions:G.length,upcomingSessions:qe,completedSessions:H,totalRevenue:Be,pendingDeposits:te,equipmentConflicts:ye}},ae=async()=>{try{const G=await fetch("/api/admin/dashboard-stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!G.ok)return;const Ae=await G.json();X({totalSessions:Ae.totalSessions??0,upcomingSessions:Ae.upcomingSessions??0,completedSessions:Ae.completedSessions??0,totalRevenue:Ae.totalRevenue??0,pendingDeposits:Ae.pendingDeposits??0,equipmentConflicts:Ae.equipmentConflicts??0}),Z(!0),typeof Ae.newLeads=="number"&&d(Ae.newLeads)}catch{}};_.useEffect(()=>{F||X(Q(e))},[e,F]);const de=G=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[G]||"bg-gray-100 border-gray-300 text-gray-800",ge=G=>{switch(G){case"completed":return n.jsx(Fr,{className:"w-3 h-3 text-green-600"});case"in-progress":return n.jsx(Vs,{className:"w-3 h-3 text-blue-600"});case"scheduled":return n.jsx(Os,{className:"w-3 h-3 text-orange-600"});case"cancelled":return n.jsx(Pm,{className:"w-3 h-3 text-red-600"});default:return n.jsx(Os,{className:"w-3 h-3 text-gray-600"})}},Se=G=>{const Ae=G.getTimezoneOffset()*6e4;return new Date(G.getTime()-Ae).toISOString().slice(0,16)},J=()=>{ie(),C(G=>{if(!G.startTime){const Ae=Se(new Date),ze=new Date;ze.setHours(ze.getHours()+1);const Be=Se(ze);return{...G,startTime:Ae,endTime:G.sessionType==="portrait"?Be:G.endTime}}if(G.sessionType==="portrait"&&G.startTime&&!G.endTime){const Ae=new Date(G.startTime),ze=new Date(Ae.getTime()+60*6e4);return{...G,endTime:Se(ze)}}return G}),h(!0)},he=async G=>{G.preventDefault();try{const Ae={...w,basePrice:w.basePrice?parseFloat(w.basePrice):void 0,depositAmount:w.depositAmount?parseFloat(w.depositAmount):void 0,equipmentList:w.equipmentList.filter(Be=>Be.trim()!==""),startTime:w.startTime?new Date(w.startTime).toISOString():void 0,endTime:w.endTime?new Date(w.endTime).toISOString():void 0};(await fetch("/api/photography/sessions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify(Ae)})).ok?(h(!1),C({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientId:"",clientName:"",clientEmail:"",locationName:"",locationAddress:"",locationCoordinates:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),W()):alert("Failed to create session. Please try again.")}catch{alert("Error creating session. Please try again.")}},ee=(G,Ae)=>{if(G==="endTime"&&T(!0),G==="startTime"&&M(!0),G==="clientName"){const ze=(Ae||"").toLowerCase();if(ze.length>=2){const Be=y.filter(qe=>`${qe.firstName} ${qe.lastName}`.trim().toLowerCase().includes(ze)).slice(0,5);V(Be)}else V([])}C(ze=>({...ze,[G]:Ae}))};_.useEffect(()=>{if(w.sessionType==="portrait"&&w.startTime&&(!B||!w.endTime)){const G=new Date(w.startTime),Ae=new Date(G.getTime()+60*6e4),ze=Ae.getTimezoneOffset()*6e4,Be=new Date(Ae.getTime()-ze).toISOString().slice(0,16);C(qe=>({...qe,endTime:Be}))}},[w.sessionType,w.startTime]),_.useEffect(()=>{if(w.goldenHourOptimized&&(!w.startTime||!I)){const G=w.startTime?new Date(w.startTime):new Date;let Ae=52.52,ze=13.405;if(w.locationCoordinates&&w.locationCoordinates.includes(",")){const[Pe,Ee]=w.locationCoordinates.split(",").map(parseFloat);!isNaN(Pe)&&!isNaN(Ee)&&(Ae=Pe,ze=Ee)}const Be=KS(G,Ae,ze),qe=new Date;let H=Be.windows.evening.start>qe?Be.windows.evening.start:Be.windows.morning.start;if(Be.windows.evening.end<qe){const Pe=new Date;Pe.setDate(Pe.getDate()+1),H=KS(Pe,Ae,ze).windows.morning.start}const te=H.getTimezoneOffset()*6e4,ye=new Date(H.getTime()-te).toISOString().slice(0,16),Ce=new Date(H.getTime()+60*6e4-te).toISOString().slice(0,16);C(Pe=>({...Pe,startTime:ye,endTime:Ce}))}},[w.goldenHourOptimized]),_.useEffect(()=>{if(w.clientName){const G=w.clientName.trim().toLowerCase(),Ae=y.find(ze=>`${ze.firstName} ${ze.lastName}`.trim().toLowerCase()===G);Ae&&(w.clientId||ee("clientId",Ae.id),!w.clientEmail&&Ae.email&&ee("clientEmail",Ae.email))}},[w.clientName,y]);const le=()=>{const G=prompt("Enter equipment item:");G&&C(Ae=>({...Ae,equipmentList:[...Ae.equipmentList,G]}))},ke=G=>{C(Ae=>({...Ae,equipmentList:Ae.equipmentList.filter((ze,Be)=>Be!==G)}))},Ne=G=>{i(G)};return n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Photography Calendar"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced photography session management system with equipment tracking and client workflow tools"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm text-gray-600",children:"Date Format:"}),n.jsxs("select",{value:p,onChange:G=>{f(G.target.value),localStorage.setItem("preferredDateFormat",G.target.value)},className:"text-sm border rounded px-2 py-1",children:[n.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),n.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),n.jsx("option",{value:"yyyy-MM-dd",children:"YYYY-MM-DD"}),n.jsx("option",{value:"dd.MM.yyyy",children:"DD.MM.YYYY"})]})]}),n.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[n.jsx(Da,{size:18}),n.jsx("span",{children:"Calendar Sync"})]}),n.jsxs("button",{onClick:J,className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:[n.jsx(Vs,{className:"w-4 h-4"}),n.jsx("span",{children:"New Session"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Business Metrics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),n.jsx(rc,{className:"h-5 w-5 text-purple-500"})]}),n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["€",z.totalRevenue.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 8.2%"}),"vs last month"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"New Leads"}),n.jsx(Fs,{className:"h-5 w-5 text-blue-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 12.5%"}),"this week"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming Bookings"}),n.jsx(an,{className:"h-5 w-5 text-green-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:z.upcomingSessions}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-blue-600 mr-1",children:"→ 0"}),"next 30 days"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),n.jsx(Fr,{className:"h-5 w-5 text-orange-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"87.5%"}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 3.2%"}),"vs last month"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Sessions"}),n.jsx(an,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:z.totalSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"All time"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),n.jsx(Os,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:z.upcomingSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"Next 30 days"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx(Fr,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:z.completedSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),n.jsx(rc,{className:"h-4 w-4 text-gray-400"})]}),n.jsxs("div",{className:"text-2xl font-bold",children:["$",z.totalRevenue.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending Deposits"}),n.jsx(Fs,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:z.pendingDeposits}),n.jsx("p",{className:"text-xs text-gray-500",children:z.pendingDeposits>0?"Need attention":"All current"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Equipment Conflicts"}),n.jsx(Pm,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:z.equipmentConflicts}),n.jsx("p",{className:"text-xs text-gray-500",children:z.equipmentConflicts>0?"Needs resolution":"All clear"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:J,className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(Vs,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Schedule Session"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(ru,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Location Scouting"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(Fr,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Equipment Check"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(Fs,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Revenue Report"})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"New Photography Calendar Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(J0,{className:"w-5 h-5 text-yellow-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Golden Hour Optimization"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Automatically suggests optimal shooting times based on location and season"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(E1,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Weather Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Real-time weather monitoring with automatic backup planning"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Vs,{className:"w-5 h-5 text-purple-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Equipment Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Smart conflict detection and rental coordination"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Mo,{className:"w-5 h-5 text-orange-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Portfolio Tracking"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Identify portfolio gaps and high-value sessions"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Fs,{className:"w-5 h-5 text-green-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"AI-Powered Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Booking patterns and revenue forecasting insights"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Fr,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Workflow Automation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Post-shoot pipeline with editing and delivery tracking"})]})]})]})]}),n.jsx(Z9e,{sessions:e,clients:q,onSessionClick:Ne,onCreateSession:J,onUpdateSession:()=>{},onDeleteSession:()=>{},onDuplicateSession:()=>{},onExportCalendar:()=>{},onImportCalendar:()=>{},onSyncExternalCalendar:()=>{}}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Session Types & Indicators"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-pink-200 rounded border border-pink-300"}),n.jsx("span",{children:"Wedding"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-200 rounded border border-blue-300"}),n.jsx("span",{children:"Portrait"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-200 rounded border border-green-300"}),n.jsx("span",{children:"Commercial"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-200 rounded border border-purple-300"}),n.jsx("span",{children:"Event"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J0,{className:"w-3 h-3 text-yellow-600"}),n.jsx("span",{children:"Golden Hour"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E1,{className:"w-3 h-3 text-blue-600"}),n.jsx("span",{children:"Weather Dependent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Mo,{className:"w-3 h-3 text-purple-600"}),n.jsx("span",{children:"Portfolio Worthy"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Fr,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{children:"Completed"})]})]})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Create New Photography Session"}),n.jsxs("form",{onSubmit:he,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Title"}),n.jsx("input",{type:"text",value:w.title,onChange:G=>ee("title",G.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:w.description,onChange:G=>ee("description",G.target.value),className:"w-full border rounded px-3 py-2",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Type"}),n.jsxs("select",{value:w.sessionType,onChange:G=>ee("sessionType",G.target.value),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"portrait",children:"Portrait"}),n.jsx("option",{value:"wedding",children:"Wedding"}),n.jsx("option",{value:"commercial",children:"Commercial"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"family",children:"Family"}),n.jsx("option",{value:"fashion",children:"Fashion"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-lg font-medium mb-2 text-gray-800",children:"Start Time"}),n.jsx("input",{type:"datetime-local",value:w.startTime,onChange:G=>{if(ee("startTime",G.target.value),G.target.value){const Ae=new Date(G.target.value),ze=w.sessionType==="wedding"?480:60,Be=new Date(Ae.getTime()+ze*6e4),qe=Se(Be);w.sessionType==="portrait"?ee("endTime",qe):w.endTime||ee("endTime",qe)}},className:"w-full border rounded px-4 py-3 text-lg font-medium",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-lg font-medium mb-2 text-gray-800",children:"End Time"}),n.jsx("input",{type:"datetime-local",value:w.endTime,onChange:G=>ee("endTime",G.target.value),className:"w-full border rounded px-4 py-3 text-lg font-medium",required:!0})]})]}),w.goldenHourOptimized&&w.startTime&&n.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(J0,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Golden Hour Optimization"})]}),(()=>{const G=new Date(w.startTime),Ae=KS(G,52.52,13.405);return n.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Morning Golden Hour:"})," ",Ae.morning]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Evening Golden Hour:"})," ",Ae.evening]}),n.jsx("p",{className:"text-yellow-600 mt-2",children:"💡 Consider weather conditions for optimal lighting"})]})})()]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Link Client (optional)"}),n.jsx("input",{type:"text",placeholder:"Search clients by name or email",value:S,onChange:G=>N(G.target.value),className:"w-full border rounded px-3 py-2 mb-2"}),n.jsxs("select",{value:w.clientId,onChange:G=>{const Ae=G.target.value;ee("clientId",Ae);const ze=y.find(Be=>Be.id===Ae);ze&&(ee("clientName",`${ze.firstName} ${ze.lastName}`.trim()),ze.email&&ee("clientEmail",ze.email))},className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"",children:"— No linked client —"}),(v?[]:y).filter(G=>{const Ae=S.trim().toLowerCase();return Ae?`${G.firstName} ${G.lastName}`.toLowerCase().includes(Ae)||(G.email?.toLowerCase().includes(Ae)??!1):!0}).slice(0,100).map(G=>n.jsxs("option",{value:G.id,children:[G.firstName," ",G.lastName,G.email?` — ${G.email}`:""]},G.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Selecting a client will auto-fill name and email."}),n.jsxs("div",{className:"mt-3 p-2 border rounded bg-gray-50",children:[n.jsx("div",{className:"text-xs font-medium mb-2",children:"Quick create client"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[n.jsx("input",{type:"text",placeholder:"First name",value:L.firstName,onChange:G=>k({...L,firstName:G.target.value}),className:"border rounded px-2 py-1 text-sm"}),n.jsx("input",{type:"text",placeholder:"Last name",value:L.lastName,onChange:G=>k({...L,lastName:G.target.value}),className:"border rounded px-2 py-1 text-sm"}),n.jsx("input",{type:"email",placeholder:"Email",value:L.email,onChange:G=>k({...L,email:G.target.value}),className:"border rounded px-2 py-1 text-sm col-span-2"}),n.jsx("input",{type:"text",placeholder:"Phone (optional)",value:L.phone,onChange:G=>k({...L,phone:G.target.value}),className:"border rounded px-2 py-1 text-sm col-span-2"})]}),n.jsx("button",{type:"button",disabled:A||!L.firstName||!L.lastName||!L.email,onClick:async()=>{try{P(!0);const G=await fetch("/api/crm/clients",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({firstName:L.firstName,lastName:L.lastName,email:L.email,phone:L.phone||void 0})});if(!G.ok){alert("Failed to create client");return}const Ae=await G.json();await ie(),ee("clientId",Ae.id),ee("clientName",`${Ae.first_name||Ae.firstName} ${Ae.last_name||Ae.lastName}`.trim()),Ae.email&&ee("clientEmail",Ae.email),k({firstName:"",lastName:"",email:"",phone:""})}catch{alert("Error creating client")}finally{P(!1)}},className:`text-xs px-3 py-1 rounded ${A?"bg-gray-300 text-gray-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:A?"Creating…":"Create & Link Client"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Name"}),n.jsx("input",{type:"text",value:w.clientName,onChange:G=>ee("clientName",G.target.value),className:"w-full border rounded px-3 py-2"}),D.length>0&&n.jsx("ul",{className:"mt-1 border rounded bg-white shadow divide-y max-h-40 overflow-auto text-sm",children:D.map(G=>n.jsxs("li",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer",onClick:()=>{ee("clientId",G.id),ee("clientName",`${G.firstName} ${G.lastName}`.trim()),G.email&&ee("clientEmail",G.email),V([])},children:[G.firstName," ",G.lastName,G.email?` – ${G.email}`:""]},G.id))}),w.clientName&&D.length===0&&y.some(G=>`${G.firstName} ${G.lastName}`.trim().toLowerCase()===w.clientName.trim().toLowerCase())&&n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Matched existing client. Will link automatically."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Email"}),n.jsx("input",{type:"email",value:w.clientEmail,onChange:G=>ee("clientEmail",G.target.value),className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location (Optional)"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Enter venue name or address",value:w.locationName,onChange:G=>ee("locationName",G.target.value),className:"w-full border rounded px-3 py-2"}),w.locationName&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{type:"button",onClick:()=>{const G=encodeURIComponent(w.locationName);window.open(`https://www.google.com/maps/search/${G}`,"_blank")},className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[n.jsx(ru,{className:"w-3 h-3"}),n.jsx("span",{children:"View on Google Maps"})]}),n.jsx("button",{type:"button",onClick:async()=>{try{const G=encodeURIComponent(w.locationName);ee("locationAddress",w.locationName)}catch(G){console.error("Failed to geocode location:",G)}},className:"flex items-center space-x-1 text-green-600 hover:text-green-800 text-sm",children:n.jsx("span",{children:"📍 Save Coordinates"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Base Price ($)"}),n.jsx("input",{type:"number",step:"0.01",value:w.basePrice,onChange:G=>ee("basePrice",G.target.value),className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deposit ($)"}),n.jsx("input",{type:"number",step:"0.01",value:w.depositAmount,onChange:G=>ee("depositAmount",G.target.value),className:"w-full border rounded px-3 py-2"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",children:"Equipment List"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:w.equipmentList.map((G,Ae)=>n.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center",children:[G,n.jsx("button",{type:"button",onClick:()=>ke(Ae),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},Ae))}),n.jsx("button",{type:"button",onClick:le,className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Equipment"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:w.weatherDependent,onChange:G=>ee("weatherDependent",G.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Weather Dependent"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:w.goldenHourOptimized,onChange:G=>ee("goldenHourOptimized",G.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Golden Hour Optimized"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:w.portfolioWorthy,onChange:G=>ee("portfolioWorthy",G.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Portfolio Worthy"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Create Session"}),n.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:a.title}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Session Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Type:"}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${de(a.sessionType)}`,children:a.sessionType})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[ge(a.status),n.jsx("span",{children:a.status})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start:"}),n.jsx("span",{children:In(Ln(a.startTime),"MMM d, yyyy h:mm a")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End:"}),n.jsx("span",{children:In(Ln(a.endTime),"MMM d, yyyy h:mm a")})]}),a.clientName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Client:"}),n.jsx("span",{children:a.clientName})]}),a.clientEmail&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{children:a.clientEmail})]}),a.locationName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsx("span",{children:a.locationName})]})]})]}),a.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),n.jsxs("div",{className:"space-y-4",children:[(a.basePrice||a.depositAmount)&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Pricing"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[a.basePrice&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Base Price:"}),n.jsxs("span",{children:["$",a.basePrice]})]}),a.depositAmount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Deposit:"}),n.jsxs("span",{children:["$",a.depositAmount]})]})]})]}),a.equipmentList&&a.equipmentList.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Equipment List"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:a.equipmentList.map((G,Ae)=>n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:G},Ae))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Special Features"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[a.goldenHourOptimized&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J0,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{children:"Golden Hour Optimized"})]}),a.weatherDependent&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(E1,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Weather Dependent"})]}),a.portfolioWorthy&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Mo,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{children:"Portfolio Worthy"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t",children:[n.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Close"}),n.jsx("button",{onClick:()=>{},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Session"})]})]})}),n.jsx(Q9e,{isOpen:r,onClose:()=>s(!1),onConnectionSuccess:()=>{W()}})]})})},J9e=()=>{const e=[{icon:n.jsx(ig,{className:"h-8 w-8 text-blue-600"}),title:"Advanced Survey Builder",description:"Drag-and-drop interface with 20+ question types, real-time preview, and multi-page support."},{icon:n.jsx(Gn,{className:"h-8 w-8 text-green-600"}),title:"Response Management",description:"Collect, analyze, and export responses with advanced filtering and real-time tracking."},{icon:n.jsx(La,{className:"h-8 w-8 text-purple-600"}),title:"Analytics & Insights",description:"Comprehensive analytics with completion rates, drop-off points, and visual reporting."},{icon:n.jsx(Da,{className:"h-8 w-8 text-orange-600"}),title:"Flexible Configuration",description:"Custom settings, access controls, time limits, and branded survey experiences."},{icon:n.jsx(Dh,{className:"h-8 w-8 text-yellow-600"}),title:"Smart Logic",description:"Skip logic, branching, and conditional questions for dynamic survey flows."},{icon:n.jsx(h_,{className:"h-8 w-8 text-red-600"}),title:"Security & Privacy",description:"Anonymous responses, data encryption, and GDPR-compliant data handling."}],t=["Text Input","Multiple Choice","Checkboxes","Dropdown","Email","Phone","Date & Time","Rating","Scale","Ranking","Matrix","Slider","Image Choice","File Upload","NPS","Contact Info","Address","Net Promoter Score"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Survey Monkey-Style",n.jsx("br",{}),n.jsx("span",{className:"text-blue-200",children:"Questionnaire System"})]}),n.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Create powerful surveys with advanced question types, real-time analytics, and enterprise-grade features built right into your admin panel."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs($t,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(ig,{className:"mr-2 h-5 w-5"}),"Start Building Surveys",n.jsx(Tm,{className:"ml-2 h-5 w-5"})]}),n.jsxs("button",{className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[n.jsx(Bo,{className:"mr-2 h-5 w-5"}),"View Demo Survey"]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need for Professional Surveys"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From simple feedback forms to complex research studies, our system provides all the tools you need to create, distribute, and analyze surveys effectively."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,s)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"mb-4",children:r.icon}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]},s))})]}),n.jsx("div",{className:"bg-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"20+ Question Types"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From basic text inputs to advanced matrix questions, we support all the question types you need for comprehensive data collection."})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:t.map((r,s)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Fr,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:r})]},s))})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Builder Interface"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Intuitive drag-and-drop survey builder with real-time preview and advanced customization options."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Survey Builder Features"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Drag-and-drop question reordering"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Real-time preview as you build"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Question categorization and search"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Conditional logic and branching"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Custom styling and branding"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Mobile-responsive design"})]})]})]}),n.jsxs("div",{className:"bg-gray-200 rounded-lg p-8 text-center",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[n.jsx("div",{className:"h-4 bg-blue-200 rounded mb-3"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-8 bg-gray-100 rounded"}),n.jsx("div",{className:"h-8 bg-gray-100 rounded"}),n.jsx("div",{className:"h-8 bg-gray-100 rounded"})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Survey Builder Interface Preview"})]})]})]}),n.jsx("div",{className:"bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Advanced Analytics & Reporting"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get deep insights into your survey performance with comprehensive analytics, real-time reporting, and data export capabilities."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(La,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Real-Time Analytics"}),n.jsx("p",{className:"text-gray-300",children:"Monitor responses as they come in with live dashboards and instant notifications."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(Gn,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Response Tracking"}),n.jsx("p",{className:"text-gray-300",children:"Track completion rates, drop-off points, and user behavior patterns."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(hA,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Device Analytics"}),n.jsx("p",{className:"text-gray-300",children:"Understand how users interact with your surveys across different devices."})]})]})]})}),n.jsx("div",{className:"bg-blue-600 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Creating Surveys?"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of organizations using our survey system to collect valuable feedback and insights from their audience."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs($t,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(ig,{className:"mr-2 h-5 w-5"}),"Access Survey Builder",n.jsx(Tm,{className:"ml-2 h-5 w-5"})]}),n.jsxs($t,{to:"/survey/demo",className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[n.jsx(Bo,{className:"mr-2 h-5 w-5"}),"Try Demo Survey"]})]})]})})}),n.jsx("div",{className:"bg-gray-800 text-gray-300",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{children:"© 2024 NEWAGEFrntEUI Survey System. Built with React, TypeScript, and Supabase."})})})})]})},e$e=()=>{const{surveyId:e}=Uo(),t=En(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,d]=_.useState(0),[u,h]=_.useState({}),[p,f]=_.useState(!1),[y,g]=_.useState(!1);_.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{if(i(!0),l(null),!e)throw new Error("Survey ID is required");const I=await iy.getSurvey(e);if(I.status!=="active")throw new Error("This survey is not currently active");s(I)}catch(I){l(I instanceof Error?I.message:"Failed to load survey")}finally{i(!1)}},b=(I,M)=>{h(D=>({...D,[I]:M}))},S=()=>{if(!r)return!1;const M=r.pages[c].questions.filter(D=>D.required);for(const D of M){const V=u[D.id];if(!V||Array.isArray(V)&&V.length===0||V==="")return!1}return!0},N=()=>{if(r){if(!S()){alert("Please answer all required questions before continuing.");return}c<r.pages.length-1&&d(I=>I+1)}},w=()=>{c>0&&d(I=>I-1)},C=async()=>{if(!(!r||!e)){if(!S()){alert("Please answer all required questions before submitting.");return}try{f(!0);const I={surveyId:e,respondentId:void 0,status:"completed",completedAt:new Date().toISOString(),ipAddress:void 0,userAgent:navigator.userAgent,answers:Object.entries(u).map(([M,D])=>({questionId:M,value:D})),metadata:{timeSpent:0,device:"desktop",browser:"unknown",os:"unknown"}};await z9e.submitResponse(I),g(!0)}catch{l("Failed to submit response. Please try again.")}finally{f(!1)}}},L=I=>{const M=u[I.id];switch(I.type){case"text":return n.jsx("input",{type:"text",value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."});case"email":return n.jsx("input",{type:"email",value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"});case"number":return n.jsx("input",{type:"number",value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter a number..."});case"date":return n.jsx("input",{type:"date",value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"});case"multiple_choice":return n.jsx("div",{className:"space-y-3",children:I.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"radio",name:`question_${I.id}`,value:D.id,checked:M===D.id,onChange:V=>b(I.id,V.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("span",{className:"text-gray-900",children:D.text})]},D.id))});case"checkboxes":return n.jsx("div",{className:"space-y-3",children:I.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",value:D.id,checked:Array.isArray(M)&&M.includes(D.id),onChange:V=>{const z=Array.isArray(M)?M:[];V.target.checked?b(I.id,[...z,D.id]):b(I.id,z.filter(X=>X!==D.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-gray-900",children:D.text})]},D.id))});case"dropdown":return n.jsxs("select",{value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select an option..."}),I.options?.map(D=>n.jsx("option",{value:D.id,children:D.text},D.id))]});case"rating":return n.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(D=>n.jsx("button",{type:"button",onClick:()=>b(I.id,D),className:`${M>=D?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:n.jsx(Mo,{size:24,fill:"currentColor"})},D))});default:return n.jsx("input",{type:"text",value:M||"",onChange:D=>b(I.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."})}};if(a)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading survey..."})]})});if(o)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[n.jsx(Zr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Unable to Load Survey"}),n.jsx("p",{className:"text-gray-600 mb-4",children:o}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(y)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[n.jsx(Fr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You!"}),n.jsx("p",{className:"text-gray-600 mb-4",children:r?.thankYouMessage||"Your response has been submitted successfully."}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(!r)return null;const k=r.pages[c],A=c===r.pages.length-1,P=r.pages.reduce((I,M)=>I+M.questions.length,0),B=Object.keys(u).length,T=P>0?B/P*100:0;return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-2xl mx-auto py-8 px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),r.description&&n.jsx("p",{className:"text-gray-600",children:r.description}),r.settings.progressBar&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[Math.round(T),"% Complete"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]})]}),n.jsx("div",{className:"px-6 py-6",children:n.jsx("div",{className:"space-y-8",children:k.questions.map((I,M)=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[M+1,". ",I.title,I.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),I.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:I.description})]}),L(I)]},I.id))})}),n.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("button",{onClick:w,disabled:c===0,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Dv,{size:16}),n.jsx("span",{children:"Previous"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",c+1," of ",r.pages.length]}),A?n.jsxs("button",{onClick:C,disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[p?n.jsx(zr,{size:16,className:"animate-spin"}):n.jsx(gl,{size:16}),n.jsx("span",{children:p?"Submitting...":"Submit"})]}):n.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx("span",{children:"Next"}),n.jsx(Hc,{size:16})]})]})})]})})})},RD=()=>{const{t:e}=wa(),[t,r]=_.useState([]),[s,a]=_.useState(""),[i,o]=_.useState("all"),[l,c]=_.useState(!0),[d,u]=_.useState(null),[h,p]=_.useState(null),[f,y]=_.useState(0),[g,v]=_.useState(1),[b,S]=_.useState(1),N=_.useCallback(async()=>{try{c(!0),u(null);const A=new URLSearchParams;i!=="all"&&(i==="published"?A.append("published","true"):i==="draft"&&A.append("published","false"));const P=await fetch(`/api/blog/posts?${A.toString()}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch blog posts");const T=(await P.json()).posts.map(M=>({id:M.id,title:M.title,slug:M.slug,excerpt:M.excerpt,content_html:M.contentHtml||M.content,cover_image:M.imageUrl,status:M.published?"PUBLISHED":"DRAFT",published:M.published,author_id:M.authorId,published_at:M.publishedAt,created_at:M.createdAt,updated_at:M.updatedAt,seo_title:M.seoTitle,meta_description:M.metaDescription,tags:M.tags||[]})),I=s?T.filter(M=>M.title.toLowerCase().includes(s.toLowerCase())||M.content_html.toLowerCase().includes(s.toLowerCase())||M.excerpt&&M.excerpt.toLowerCase().includes(s.toLowerCase())):T;r(I),y(I.length),S(Math.ceil(I.length/10))}catch{u("Failed to load blog posts. Please try again.")}finally{c(!1)}},[i,g,s]);_.useEffect(()=>{N()},[N]);const w=()=>{v(1),N()},C=async A=>{try{if(c(!0),!(await fetch(`/api/blog/posts/${A}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete post");N(),p(null)}catch{u("Failed to delete post. Please try again."),c(!1)}},L=async A=>{try{c(!0);const P=!A.published;if(!(await fetch(`/api/blog/posts/${A.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({published:P,publishedAt:P?new Date().toISOString():null})})).ok)throw new Error("Failed to update post status");N()}catch{u("Failed to update post status. Please try again."),N()}},k=A=>{switch(A.status){case"PUBLISHED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(Fr,{size:12,className:"mr-1"})," ",e("status.published")]});case"SCHEDULED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(Os,{size:12,className:"mr-1"})," ",e("status.scheduled")]});default:return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx(Os,{size:12,className:"mr-1"})," ",e("status.draft")]})}};return n.jsxs(Ir,{children:[n.jsxs("div",{className:"space-y-6",children:["        ",n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.blog")}),n.jsx("p",{className:"text-gray-600",children:e("blog.manage_content")})]}),n.jsxs($t,{to:"/admin/blog/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Tr,{size:20,className:"mr-2"}),e("blog.create")]})]}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:d})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"              ",n.jsx("input",{type:"text",placeholder:e("blog.search_posts"),value:s,onChange:A=>a(A.target.value),onKeyDown:A=>A.key==="Enter"&&w(),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:i,onChange:A=>o(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:e("filter.all_statuses")}),n.jsx("option",{value:"published",children:e("status.published")}),n.jsx("option",{value:"draft",children:e("status.draft")}),n.jsx("option",{value:"scheduled",children:e("status.scheduled")})]}),n.jsxs("button",{onClick:w,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Hh,{size:20,className:"mr-2"}),e("action.filter")]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:["          ",l?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(zr,{className:"animate-spin h-8 w-8 text-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:e("message.loading")})]}):t.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("blog.post")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.status")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.date")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.actions")})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(A=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["                        ",n.jsxs("div",{className:"flex items-center",children:[A.cover_image?n.jsx("img",{src:A.cover_image,alt:A.title,className:"h-10 w-10 rounded-md object-cover mr-3"}):n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 mr-3 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:e("blog.no_image")})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.title}),n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:A.excerpt||e("blog.no_excerpt")})]})]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(A)}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.status==="PUBLISHED"&&A.published_at?new Date(A.published_at).toLocaleDateString():A.status==="SCHEDULED"&&A.scheduled_for?`${e("status.scheduled")}: ${new Date(A.scheduled_for).toLocaleDateString()}`:new Date(A.created_at).toLocaleDateString()+` (${e("status.draft")})`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx($t,{to:`/admin/blog/edit/${A.id}`,className:"text-indigo-600 hover:text-indigo-900",title:e("action.edit"),children:n.jsx(Ga,{size:16})}),n.jsx("a",{href:`/blog/${A.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:e("action.view"),children:n.jsx(ts,{size:16})}),n.jsx("button",{onClick:()=>L(A),className:`${A.status==="PUBLISHED"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:A.status==="PUBLISHED"?e("blog.unpublish"):e("blog.publish"),children:A.status==="PUBLISHED"?n.jsx(Os,{size:16}):n.jsx(Fr,{size:16})}),n.jsx("button",{onClick:()=>p(A.id),className:"text-red-600 hover:text-red-900",title:e("action.delete"),children:n.jsx(Ns,{size:16})})]})})]},A.id))})]})}):n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("p",{className:"text-gray-500",children:e("blog.no_posts_found")}),n.jsxs($t,{to:"/admin/blog/new",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Tr,{size:16,className:"mr-2"}),e("blog.create_first_post")]})]})]}),"        ",b>1&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:[e("pagination.showing")," ",n.jsx("span",{className:"font-medium",children:t.length})," ",e("pagination.of")," ",n.jsx("span",{className:"font-medium",children:f})," ",e("pagination.results")]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>v(A=>Math.max(A-1,1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.previous")}),Array.from({length:b},(A,P)=>P+1).map(A=>n.jsx("button",{onClick:()=>v(A),className:`px-3 py-1 border rounded-md text-sm ${g===A?"bg-purple-600 text-white border-purple-600":"border-gray-300 text-gray-700"}`,children:A},A)),n.jsx("button",{onClick:()=>v(A=>Math.min(A+1,b)),disabled:g===b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.next")})]})]})]}),"      ",h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e("modal.confirm_deletion")}),n.jsx("p",{className:"text-gray-500 mb-6",children:e("modal.delete_post_warning")}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),n.jsx("button",{onClick:()=>h&&C(h),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:e("action.delete")})]})]})})]})},t$e=({value:e,onChange:t,placeholder:r="Start writing your blog post content..."})=>{const s=_.useRef(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,h]=_.useState(!1),[p,f]=_.useState(!1),[y,g]=_.useState(!1),[v,b]=_.useState(!1),[S,N]=_.useState(!1),[w,C]=_.useState(""),[L,k]=_.useState(""),[A,P]=_.useState(!1),[B,T]=_.useState(!1),[I,M]=_.useState(!1),[D,V]=_.useState(""),[z,X]=_.useState([e]),[q,Y]=_.useState(0),ie=["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF","#980000","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF","#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#741B47","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"],W=[{name:"Default",value:""},{name:"Arial",value:"Arial, sans-serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Times New Roman",value:'"Times New Roman", serif'},{name:"Courier New",value:'"Courier New", monospace'},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Trebuchet MS",value:'"Trebuchet MS", sans-serif'},{name:"Comic Sans MS",value:'"Comic Sans MS", cursive'},{name:"Impact",value:"Impact, sans-serif"},{name:"Palatino",value:"Palatino, serif"},{name:"Tahoma",value:"Tahoma, sans-serif"},{name:"Century Gothic",value:'"Century Gothic", sans-serif'},{name:"Lucida Console",value:'"Lucida Console", monospace'},{name:"Book Antiqua",value:'"Book Antiqua", serif'},{name:"Calibri",value:"Calibri, sans-serif"},{name:"Cambria",value:"Cambria, serif"},{name:"Garamond",value:"Garamond, serif"}],F=[{label:"8px",value:"1"},{label:"10px",value:"2"},{label:"12px",value:"3"},{label:"14px",value:"4"},{label:"18px",value:"5"},{label:"24px",value:"6"},{label:"36px",value:"7"}],Z=[{label:"Normal Text",value:"div"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Paragraph",value:"p"},{label:"Preformatted",value:"pre"}];_.useEffect(()=>{I&&V(e)},[e,I]),_.useEffect(()=>{s.current&&!I&&!B&&(s.current.innerHTML=e||`<p>${r}</p>`)},[e,I,B,r]);const Q=_.useCallback(G=>{const Ae=z.slice(0,q+1);Ae.push(G),X(Ae),Y(Ae.length-1)},[z,q]),ae=_.useCallback((G,Ae)=>{if(document.execCommand(G,!1,Ae),s.current?.focus(),s.current){const ze=s.current.innerHTML;t(ze),Q(ze)}},[t,Q]),de=_.useCallback(()=>{if(q>0){const G=q-1,Ae=z[G];Y(G),t(Ae),s.current&&(s.current.value=Ae)}},[z,q,t]),ge=_.useCallback(()=>{if(q<z.length-1){const G=q+1,Ae=z[G];Y(G),t(Ae),s.current&&(s.current.value=Ae)}},[z,q,t]),Se=async G=>{try{P(!0);const Ae=G.name.split(".").pop(),ze=`blog/content/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${Ae}`,{error:Be}=await Kr.storage.from("images").upload(ze,G);if(Be)throw Be;const{data:{publicUrl:qe}}=Kr.storage.from("images").getPublicUrl(ze),H=`<img src="${qe}" alt="${G.name}" style="max-width: 100%; height: auto; margin: 15px auto; display: block; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" />`;if(document.execCommand("insertHTML",!1,H),s.current){const te=s.current.innerHTML;t(te),Q(te)}g(!1)}catch{alert("Failed to upload image. Please try again.")}finally{P(!1)}},J=()=>{if(w&&L){const G=`<a href="${w}" target="_blank" rel="noopener noreferrer" style="color: #3B82F6; text-decoration: underline;">${L}</a>`;if(document.execCommand("insertHTML",!1,G),s.current){const Ae=s.current.innerHTML;t(Ae),Q(Ae)}C(""),k(""),b(!1)}},he=(G,Ae)=>{let ze='<table style="border-collapse: collapse; width: 100%; margin: 15px 0;">';for(let Be=0;Be<G;Be++){ze+="<tr>";for(let qe=0;qe<Ae;qe++)ze+=`<td style="border: 1px solid #ddd; padding: 12px; ${Be===0?"background-color: #f8f9fa; font-weight: bold;":""}">${Be===0?`Header ${qe+1}`:"Cell content"}</td>`;ze+="</tr>"}if(ze+="</table>",document.execCommand("insertHTML",!1,ze),s.current){const Be=s.current.innerHTML;t(Be),Q(Be)}N(!1)},ee=()=>{T(!B),M(!1)},le=()=>{I?(t(D),s.current&&(s.current.innerHTML=D)):V(e),M(!I),T(!1)},ke=({onClick:G,active:Ae,children:ze,title:Be,disabled:qe=!1})=>n.jsx("button",{type:"button",onClick:G,title:Be,disabled:qe,className:`p-2 rounded transition-colors ${qe?"text-gray-400 cursor-not-allowed":Ae?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:ze}),Ne=({children:G,title:Ae,isOpen:ze,onClick:Be})=>n.jsxs("button",{type:"button",onClick:Be,title:Ae,className:`p-2 rounded transition-colors flex items-center ${ze?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[G,n.jsx(Wh,{size:12,className:"ml-1"})]});return n.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",style:{direction:"ltr"},children:[n.jsx("div",{className:"bg-gray-50 border-b border-gray-300 p-2",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:de,title:"Undo",disabled:q<=0,children:n.jsx(jee,{size:16})}),n.jsx(ke,{onClick:ge,title:"Redo",disabled:q>=z.length-1,children:n.jsx(oee,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:ee,title:"Toggle Preview",active:B,children:B?n.jsx(TJ,{size:16}):n.jsx(ts,{size:16})}),n.jsx(ke,{onClick:le,title:"HTML Source",active:I,children:n.jsx(OJ,{size:16})})]}),!B&&!I&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(Ne,{onClick:()=>d(!c),title:"Font Family",isOpen:c,children:n.jsx(rw,{size:16})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-48 max-h-64 overflow-y-auto",children:W.map(G=>n.jsx("button",{type:"button",onClick:()=>{ae("fontName",G.value),d(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontFamily:G.value},children:G.name},G.value))})]}),n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(Ne,{onClick:()=>f(!p),title:"Heading",isOpen:p,children:n.jsx("span",{className:"text-sm font-medium",children:"H"})}),p&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-40",children:Z.map(G=>n.jsx("button",{type:"button",onClick:()=>{ae("formatBlock",G.value),f(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",children:G.value.startsWith("h")?n.jsx("span",{className:`font-bold ${G.value==="h1"?"text-2xl":G.value==="h2"?"text-xl":G.value==="h3"?"text-lg":G.value==="h4"?"text-base":G.value==="h5"?"text-sm":"text-xs"}`,children:G.label}):n.jsx("span",{children:G.label})},G.value))})]}),n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(Ne,{onClick:()=>h(!u),title:"Font Size",isOpen:u,children:n.jsx("span",{className:"text-xs",children:"Aa"})}),u&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-24",children:F.map(G=>n.jsx("button",{type:"button",onClick:()=>{ae("fontSize",G.value),h(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontSize:G.label},children:G.label},G.value))})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>ae("bold"),title:"Bold",children:n.jsx(_J,{size:16})}),n.jsx(ke,{onClick:()=>ae("italic"),title:"Italic",children:n.jsx(qJ,{size:16})}),n.jsx(ke,{onClick:()=>ae("underline"),title:"Underline",children:n.jsx(wee,{size:16})}),n.jsx(ke,{onClick:()=>ae("strikeThrough"),title:"Strikethrough",children:n.jsx(fee,{size:16})}),n.jsx(ke,{onClick:()=>ae("superscript"),title:"Superscript",children:n.jsx(pee,{size:16})}),n.jsx(ke,{onClick:()=>ae("subscript"),title:"Subscript",children:n.jsx(mee,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ke,{onClick:()=>i(!a),title:"Text Color",children:n.jsxs("div",{className:"relative",children:[n.jsx(rw,{size:16}),n.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-red-500 rounded"})]})}),a&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:n.jsx("div",{className:"grid grid-cols-10 gap-1",children:ie.map(G=>n.jsx("button",{type:"button",onClick:()=>{ae("foreColor",G),i(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:G},title:G},G))})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{onClick:()=>l(!o),title:"Background Color",children:n.jsxs("div",{className:"relative",children:[n.jsx(to,{size:16}),n.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-yellow-400 rounded"})]})}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:n.jsx("div",{className:"grid grid-cols-10 gap-1",children:ie.map(G=>n.jsx("button",{type:"button",onClick:()=>{ae("backColor",G),l(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:G},title:G},G))})})]})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>ae("justifyLeft"),title:"Align Left",children:n.jsx(vJ,{size:16})}),n.jsx(ke,{onClick:()=>ae("justifyCenter"),title:"Align Center",children:n.jsx(xJ,{size:16})}),n.jsx(ke,{onClick:()=>ae("justifyRight"),title:"Align Right",children:n.jsx(bJ,{size:16})}),n.jsx(ke,{onClick:()=>ae("justifyFull"),title:"Justify",children:n.jsx(yJ,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>ae("insertUnorderedList"),title:"Bullet List",children:n.jsx(yR,{size:16})}),n.jsx(ke,{onClick:()=>ae("insertOrderedList"),title:"Numbered List",children:n.jsx(xR,{size:16})}),n.jsx(ke,{onClick:()=>ae("outdent"),title:"Decrease Indent",children:n.jsx(tee,{size:16})}),n.jsx(ke,{onClick:()=>ae("indent"),title:"Increase Indent",children:n.jsx(zJ,{size:16})})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ke,{onClick:()=>b(!0),title:"Insert Link",children:n.jsx(gR,{size:16})}),n.jsx(ke,{onClick:()=>g(!0),title:"Insert Image",children:n.jsx(Wa,{size:16})}),n.jsx(ke,{onClick:()=>N(!0),title:"Insert Table",children:n.jsx(gee,{size:16})}),n.jsx(ke,{onClick:()=>ae("formatBlock","blockquote"),title:"Quote",children:n.jsx(iee,{size:16})}),n.jsx(ke,{onClick:()=>ae("formatBlock","pre"),title:"Code Block",children:n.jsx(mR,{size:16})})]})]})]})}),n.jsx("div",{className:"relative",children:B?n.jsx("div",{className:"min-h-96 p-6 prose max-w-none",dangerouslySetInnerHTML:{__html:e}}):I?n.jsx("textarea",{value:D,onChange:G=>V(G.target.value),className:"w-full min-h-96 p-4 font-mono text-sm border-0 outline-none resize-none",style:{direction:"ltr",textAlign:"left"},placeholder:"Edit HTML source..."}):n.jsx("div",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onInput:G=>{const Ae=G.currentTarget.innerHTML;t(Ae),Q(Ae)},onKeyDown:G=>{(G.ctrlKey||G.metaKey)&&(G.key==="z"&&!G.shiftKey?(G.preventDefault(),de()):(G.key==="z"&&G.shiftKey||G.key==="y")&&(G.preventDefault(),ge()))},className:"min-h-96 p-6 outline-none w-full border-0 focus:ring-0 prose max-w-none",style:{lineHeight:"1.7",fontSize:"16px",direction:"ltr",textAlign:"left",unicodeBidi:"embed",writingMode:"horizontal-tb",fontFamily:"inherit"},dangerouslySetInnerHTML:{__html:e||`<p>${r}</p>`}})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Link"}),n.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text"}),n.jsx("input",{type:"text",value:L,onChange:G=>k(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter link text"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),n.jsx("input",{type:"url",value:w,onChange:G=>C(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:J,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Insert Link"})]})]})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Image"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:20})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image"}),n.jsx("input",{type:"file",accept:"image/*",onChange:G=>{const Ae=G.target.files?.[0];Ae&&Se(Ae)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",disabled:A}),A&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[n.jsx(Ri,{className:"animate-pulse mr-2",size:16}),"Uploading image..."]})]})})]})}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Table"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Click to select table size:"}),n.jsx("div",{className:"grid grid-cols-8 gap-1 p-2 border border-gray-300 rounded",children:Array.from({length:64},(G,Ae)=>{const ze=Math.floor(Ae/8)+1,Be=Ae%8+1;return n.jsx("button",{onClick:()=>he(ze,Be),className:"w-6 h-6 border border-gray-300 hover:bg-purple-100 transition-colors",title:`${ze} x ${Be}`},Ae)})})]})]})})]})},AG=({post:e,isEditing:t=!1})=>{const r=En(),[s,a]=_.useState("content"),[i,o]=_.useState({title:"",slug:"",excerpt:"",content_html:"",status:"DRAFT",seo_title:"",meta_description:"",tags:[],scheduled_for:"",cover_image:""}),[l,c]=_.useState([]),[d,u]=_.useState([]),[h,p]=_.useState(""),[f,y]=_.useState(!1),[g,v]=_.useState(null),[b,S]=_.useState(!1),[N,w]=_.useState(null),C=[{id:"content",label:"Content",icon:Hn,description:"Write your blog post content"},{id:"media",label:"Media",icon:Wa,description:"Add cover image and media"},{id:"meta",label:"Meta",icon:Da,description:"SEO and publishing settings"},{id:"preview",label:"Preview",icon:ts,description:"Review and publish"}];_.useEffect(()=>{if(L(),e&&t){const ae={title:e.title||"",slug:e.slug||"",excerpt:e.excerpt||"",content_html:e.content_html||"",status:e.status||"DRAFT",seo_title:e.seo_title||"",meta_description:e.meta_description||"",tags:e.tags||[],scheduled_for:e.scheduled_for||"",cover_image:e.cover_image||"",id:e.id,author_id:e.author_id,published_at:e.published_at,created_at:e.created_at,updated_at:e.updated_at};o(ae),u(e.tags||[])}},[e,t]);const L=async()=>{try{const{data:ae,error:de}=await Kr.from("blog_tags").select("id, name").order("name");if(de)throw de;c(ae||[])}catch{}},k=ae=>ae.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,60),A=(ae,de)=>{o(ge=>({...ge,[ae]:de}))},P=async ae=>{const de=ae.target.files?.[0];if(de)try{S(!0),v(null);const ge=de.name.split(".").pop(),Se=`blog/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${ge}`,{error:J}=await Kr.storage.from("images").upload(Se,de);if(J)throw J;const{data:{publicUrl:he}}=Kr.storage.from("images").getPublicUrl(Se);A("cover_image",he)}catch{v("Failed to upload image. Please try again.")}finally{S(!1)}},B=()=>{if(h?.trim()&&!d.includes(h.trim())){const ae=[...d,h.trim()];u(ae),A("tags",ae),p("")}},T=ae=>{const de=d.filter(ge=>ge!==ae);u(de),A("tags",de)},I=ae=>{if(!d.includes(ae)){const de=[...d,ae];u(de),A("tags",de)}},M=ae=>{switch(ae){case"content":return!!(i.title?.trim()&&i.content_html?.trim());case"media":return!0;case"meta":return!!i.excerpt?.trim();case"preview":return!0;default:return!1}},D=()=>M(s),V=ae=>C.findIndex(de=>de.id===ae),z=()=>{const ae=V(s);ae<C.length-1&&D()&&a(C[ae+1].id)},X=()=>{const ae=V(s);ae>0&&a(C[ae-1].id)},q=async(ae=!1)=>{y(!0),v(null);try{const de={title:i.title||"",slug:i.slug||k(i.title||""),excerpt:i.excerpt||"",content:i.content_html||"",contentHtml:i.content_html||"",imageUrl:i.cover_image||"",published:ae||i.status==="PUBLISHED",metaDescription:i.meta_description||"",seoTitle:i.seo_title||"",tags:i.tags||[]};(ae||i.status==="PUBLISHED")&&(de.publishedAt=new Date().toISOString());const ge=await fetch(t&&e?.id?`/api/blog/posts/${e.id}`:"/api/blog/posts",{method:t&&e?.id?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(de)});if(!ge.ok){const Se=await ge.json();throw new Error(Se.error||"Failed to save post")}w(t?"Post updated successfully!":"Post created successfully!"),setTimeout(()=>{r("/admin/blog")},1500)}catch(de){v(de instanceof Error?de.message:"An error occurred while saving the post")}finally{y(!1)}},Y=()=>n.jsx("div",{className:"flex items-center justify-between mb-8",children:C.map((ae,de)=>{const ge=ae.id===s,Se=M(ae.id)&&V(s)>de,J=ae.icon;return n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${ge?"bg-purple-600 border-purple-600 text-white":Se?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:Se?n.jsx(ba,{size:20}):n.jsx(J,{size:20})}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsx("div",{className:`text-sm font-medium ${ge?"text-purple-600":"text-gray-600"}`,children:ae.label}),n.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:ae.description})]})]}),de<C.length-1&&n.jsx("div",{className:`w-16 h-0.5 mx-4 ${Se?"bg-green-600":"bg-gray-300"}`})]},ae.id)})}),ie=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Post Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:i.title,onChange:ae=>{A("title",ae.target.value),(!i.slug||i.slug===k(i.title||""))&&A("slug",k(ae.target.value))},className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your post title..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL Slug ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Used in the post URL)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-500 px-3 py-3 bg-gray-50 border border-gray-300 rounded-l-lg",children:"/blog/"}),n.jsx("input",{type:"text",value:i.slug||"",onChange:ae=>A("slug",ae.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"post-url-slug"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and hyphens allowed. Auto-generated from title if left empty."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(t$e,{value:i.content_html,onChange:ae=>A("content_html",ae),placeholder:"Start writing your blog post content..."})]})]}),W=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),i.cover_image?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:i.cover_image,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>A("cover_image",""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:n.jsx(rs,{size:16})})]}):n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ri,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),n.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),n.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"sr-only",disabled:b})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB"}),b&&n.jsxs("div",{className:"mt-4 flex items-center justify-center text-purple-600",children:[n.jsx(zr,{className:"animate-spin mr-2",size:20}),"Uploading..."]})]})})]})}),F=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Excerpt ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:i.excerpt,onChange:ae=>A("excerpt",ae.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Brief summary of your post (recommended: 280 characters)"}),n.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.excerpt.length,"/280 characters"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:h,onChange:ae=>p(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&(ae.preventDefault(),B()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a tag..."}),n.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[n.jsx(Tr,{size:16,className:"mr-1"}),"Add"]})]}),d.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(ae=>n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[ae,n.jsx("button",{type:"button",onClick:()=>T(ae),className:"ml-2 text-purple-600 hover:text-purple-800",children:n.jsx(rs,{size:14})})]},ae))}),l.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or select from existing tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.filter(ae=>!d.includes(ae.name)).slice(0,10).map(ae=>n.jsx("button",{type:"button",onClick:()=>I(ae.name),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50",children:ae.name},ae.id))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publishing Status"}),n.jsxs("select",{value:i.status,onChange:ae=>A("status",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"DRAFT",children:"Draft"}),n.jsx("option",{value:"PUBLISHED",children:"Published"}),n.jsx("option",{value:"SCHEDULED",children:"Scheduled"})]})]}),i.status==="SCHEDULED"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publish Date"}),n.jsx("input",{type:"datetime-local",value:i.scheduled_for?new Date(i.scheduled_for).toISOString().slice(0,16):"",onChange:ae=>A("scheduled_for",ae.target.value?new Date(ae.target.value).toISOString():""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),n.jsx("input",{type:"text",value:i.seo_title||"",onChange:ae=>A("seo_title",ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO optimized title (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),n.jsx("textarea",{value:i.meta_description||"",onChange:ae=>A("meta_description",ae.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO meta description (optional)"})]})]}),Z=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preview"}),i.cover_image&&n.jsx("img",{src:i.cover_image,alt:"Cover",className:"w-full h-64 object-cover rounded-lg mb-6"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),i.excerpt&&n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:i.excerpt}),d.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:d.map(ae=>n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:ae},ae))}),n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:i.content_html}})]})}),Q=()=>{switch(s){case"content":return ie();case"media":return W();case"meta":return F();case"preview":return Z();default:return ie()}};return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[g&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:g})]}),N&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:N}),Y(),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Q(),n.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:X,disabled:V(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Wn,{size:16,className:"mr-2"}),"Previous"]}),n.jsx("div",{className:"flex space-x-3",children:s==="preview"?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>q(!1),disabled:f,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:f?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"mr-2 h-4 w-4"}),"Save Draft"]})}),n.jsx("button",{type:"button",onClick:()=>q(!0),disabled:f,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:f?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin mr-2 h-4 w-4"}),"Publishing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gl,{className:"mr-2 h-4 w-4"}),"Publish Post"]})})]}):n.jsxs("button",{type:"button",onClick:z,disabled:!D(),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",n.jsx(Tm,{size:16,className:"ml-2"})]})})]})]})]})},r$e=()=>n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx($t,{to:"/admin/blog",className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Wn,{size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-gray-600",children:"Create and publish a new blog article with our advanced editor"})]})]})}),n.jsx(AG,{})]})}),n$e=()=>{const{id:e}=Uo(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const d=await fetch(`/api/blog/posts/${c}`);if(!d.ok)throw new Error("Failed to fetch post");const u=await d.json(),h={id:u.id,title:u.title||"",slug:u.slug||"",excerpt:u.excerpt||"",content_html:u.contentHtml||u.content_html||u.content||"",cover_image:u.imageUrl||u.cover_image||"",tags:u.tags||[],status:u.published?"PUBLISHED":"DRAFT",seo_title:u.seoTitle||u.seo_title||"",meta_description:u.metaDescription||u.meta_description||"",author_id:u.authorId||u.author_id||"",published_at:u.publishedAt||u.published_at||"",scheduled_for:u.scheduled_for||"",created_at:u.createdAt||u.created_at||"",updated_at:u.updatedAt||u.updated_at||""};r(h)}catch(d){console.error("Error fetching post:",d),o("Failed to load blog post. Please try again.")}finally{a(!1)}};return s?n.jsx(Ir,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"animate-spin h-8 w-8 text-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading post..."})]})}):!t&&!s?n.jsx(Ir,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Post Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),n.jsxs($t,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):i?n.jsx(Ir,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Error Loading Post"}),n.jsx("p",{className:"text-gray-600 mb-6",children:i}),n.jsxs($t,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Wn,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):n.jsx(Ir,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs($t,{to:"/admin/blog",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(Wn,{size:16,className:"mr-1"})," Back to posts"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Edit Blog Post"}),n.jsx("p",{className:"text-gray-600",children:"Update your blog post with the advanced editor"})]})}),"        ",t&&n.jsx(AG,{post:t,isEditing:!0})]})})},s$e=()=>{const[e,t]=_.useState("knowledge"),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,d]=_.useState("all"),[u,h]=_.useState(!1),[p,f]=_.useState(!1),[y,g]=_.useState(null);_.useState(null);const[v,b]=_.useState(!1),[S,N]=_.useState(null),[w,C]=_.useState({title:"",content:"",category:"",tags:""}),[L,k]=_.useState({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),A=["General FAQ","Booking Process","Pricing & Packages","Photography Services","Technical Support","Policies & Terms","Equipment & Setup","Post-Processing","Gallery Access","Payment & Invoicing"];_.useEffect(()=>{P(),B()},[]);const P=async()=>{try{b(!0);const F=await fetch("/api/knowledge-base",{credentials:"include"});if(F.ok){const Z=await F.json();s(Z)}}catch{s([{id:"1",title:"How to book a photo session?",content:"To book a photo session, clients can visit our booking page, select their preferred package, choose available dates, and complete the booking form with their contact details.",category:"Booking Process",tags:["booking","session","calendar"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},{id:"2",title:"What are your photography packages?",content:"We offer several packages: Family Session (€299), Newborn Session (€399), Maternity Session (€349), and Business Headshots (€199). All packages include professional editing and digital gallery access.",category:"Pricing & Packages",tags:["pricing","packages","family","newborn"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"}])}finally{b(!1)}},B=async()=>{try{const F=await fetch("/api/openai/assistants",{credentials:"include"});if(F.ok){const Z=await F.json();i(Z)}}catch{i([{id:"asst_support_chat_v1",name:"Support Chat Assistant",description:"Handles customer support inquiries using knowledge base",model:"gpt-4o",instructions:"You are a helpful photography studio assistant. Use the knowledge base to answer questions about booking, pricing, and services.",isActive:!0,knowledgeBaseIds:["1","2"],createdAt:new Date().toISOString()}])}},T=async()=>{if(!w.title||!w.content){N("Title and content are required");return}try{b(!0);const F=await fetch("/api/knowledge-base",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:w.title,content:w.content,category:w.category||"General FAQ",tags:w.tags.split(",").map(Z=>Z.trim()).filter(Boolean),isActive:!0})});if(F.ok){const Z=await F.json();s([...r,Z]),h(!1),D()}else N("Failed to create knowledge base entry")}catch{N("Failed to create knowledge base entry")}finally{b(!1)}},I=async()=>{if(!y||!w.title||!w.content){N("Title and content are required");return}try{b(!0);const F=await fetch(`/api/knowledge-base/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:w.title,content:w.content,category:w.category||y.category,tags:w.tags.split(",").map(Z=>Z.trim()).filter(Boolean),isActive:!0})});if(F.ok){const Z=await F.json(),Q=r.map(ae=>ae.id===y.id?Z:ae);s(Q),g(null),D()}else N("Failed to update knowledge base entry")}catch{N("Failed to update knowledge base entry")}finally{b(!1)}},M=async F=>{if(confirm("Are you sure you want to delete this knowledge base entry?"))try{(await fetch(`/api/knowledge-base/${F}`,{method:"DELETE",credentials:"include"})).ok?s(r.filter(Q=>Q.id!==F)):N("Failed to delete knowledge base entry")}catch{N("Failed to delete knowledge base entry")}},D=()=>{C({title:"",content:"",category:"",tags:""}),N(null)},V=()=>{k({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),N(null)},z=async()=>{if(!L.name||!L.instructions){N("Name and instructions are required");return}try{b(!0);const F=await fetch("/api/openai/assistants",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:L.name,description:L.description,model:L.model,instructions:L.instructions,knowledgeBaseIds:L.knowledgeBaseIds,isActive:!0})});if(F.ok){const Z=await F.json();i([...a,Z]),f(!1),V()}else N("Failed to create assistant")}catch{N("Failed to create assistant")}finally{b(!1)}},X=async F=>{if(confirm("Are you sure you want to delete this assistant?"))try{(await fetch(`/api/openai/assistants/${F}`,{method:"DELETE",credentials:"include"})).ok?i(a.filter(Q=>Q.id!==F)):N("Failed to delete assistant")}catch{N("Failed to delete assistant")}},q=F=>{g(F),C({title:F.title,content:F.content,category:F.category,tags:F.tags.join(", ")}),h(!0)},Y=r.filter(F=>{const Z=F.title?.toLowerCase()?.includes(o?.toLowerCase()||"")||F.content?.toLowerCase()?.includes(o?.toLowerCase()||""),Q=c==="all"||F.category===c;return Z&&Q}),ie=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage support articles and FAQ content for your chat assistant"})]}),n.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(Tr,{size:20}),"Add Article"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ha,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:o,onChange:F=>l(F.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:c,onChange:F=>d(F.target.value),children:[n.jsx("option",{value:"all",children:"All Categories"}),A.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hn,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Articles"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fr,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Articles"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.filter(F=>F.isActive).length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(nu,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categories"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:new Set(r.map(F=>F.category)).size})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ih,{className:"h-8 w-8 text-indigo-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"AI Assistants"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Knowledge Base Articles"})}),v?n.jsx("div",{className:"p-8 text-center",children:"Loading..."}):Y.length===0?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"No articles found. Create your first knowledge base article to get started."}):n.jsx("div",{className:"divide-y divide-gray-200",children:Y.map(F=>n.jsx("div",{className:"p-6 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:F.title}),n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.isActive?"Active":"Inactive"})]}),n.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:F.content}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(nu,{size:14}),F.category]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Os,{size:14}),new Date(F.updatedAt).toLocaleDateString()]}),n.jsx("div",{className:"flex items-center gap-1",children:F.tags.map(Z=>n.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:Z},Z))})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>q(F),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>M(F.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:n.jsx(Ns,{size:16})})]})]})},F.id))})]})]}),W=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Assistants"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage OpenAI assistants and their knowledge base connections"})]}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(Tr,{size:20}),"Create Assistant"]})]}),n.jsx("div",{className:"grid gap-6",children:a.map(F=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(Ih,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.name}),n.jsx("p",{className:"text-gray-600",children:F.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${F.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:F.isActive?"Active":"Inactive"}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:n.jsx(Da,{size:16})}),n.jsx("button",{onClick:()=>X(F.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(Ns,{size:16})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Model:"}),n.jsx("p",{className:"text-gray-900",children:F.model})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Knowledge Articles:"}),n.jsxs("p",{className:"text-gray-900",children:[F.knowledgeBaseIds.length," connected"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-900",children:new Date(F.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded text-sm",children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Instructions:"}),n.jsx("p",{className:"text-gray-700 mt-1",children:F.instructions})]})]},F.id))})]});return n.jsx(Ir,{children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"knowledge",label:"Knowledge Base",icon:uA},{id:"assistants",label:"AI Assistants",icon:Ih},{id:"settings",label:"Chat Settings",icon:Da}].map(F=>{const Z=F.icon;return n.jsxs("button",{onClick:()=>t(F.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===F.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Z,{size:16}),F.label]},F.id)})})}),e==="knowledge"&&ie(),e==="assistants"&&W(),e==="settings"&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chat settings configuration coming soon..."}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y?"Edit Article":"Create New Article"}),n.jsx("button",{onClick:()=>{h(!1),g(null),D()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:24})})]}),S&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:w.title,onChange:F=>C({...w,title:F.target.value}),placeholder:"Enter article title..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:w.category,onChange:F=>C({...w,category:F.target.value}),children:[n.jsx("option",{value:"",children:"Select category..."}),A.map(F=>n.jsx("option",{value:F,children:F},F))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:w.tags,onChange:F=>C({...w,tags:F.target.value}),placeholder:"booking, pricing, faq"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),n.jsx("textarea",{rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:w.content,onChange:F=>C({...w,content:F.target.value}),placeholder:"Enter article content..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{h(!1),g(null),D()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsxs("button",{onClick:y?I:T,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(pl,{size:16}),y?"Update":"Create"," Article"]})]})]})})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create AI Assistant"}),n.jsx("button",{onClick:()=>{f(!1),V()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(rs,{size:24})})]}),S&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assistant Name *"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.name,onChange:F=>k({...L,name:F.target.value}),placeholder:"e.g., Support Chat Assistant"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.description,onChange:F=>k({...L,description:F.target.value}),placeholder:"Brief description of the assistant's purpose"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.model,onChange:F=>k({...L,model:F.target.value}),children:[n.jsx("option",{value:"gpt-4o",children:"GPT-4o (Latest, Recommended)"}),n.jsx("option",{value:"gpt-4",children:"GPT-4"}),n.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Instructions *"}),n.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.instructions,onChange:F=>k({...L,instructions:F.target.value}),placeholder:"Define how the assistant should behave and respond to users..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Base Articles"}),n.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-3 space-y-2",children:r.map(F=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:L.knowledgeBaseIds.includes(F.id),onChange:Z=>{Z.target.checked?k({...L,knowledgeBaseIds:[...L.knowledgeBaseIds,F.id]}):k({...L,knowledgeBaseIds:L.knowledgeBaseIds.filter(Q=>Q!==F.id)})}}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:F.title})]},F.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which knowledge base articles this assistant can access"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:z,disabled:v,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:v?"Creating...":n.jsxs(n.Fragment,{children:[n.jsx(pl,{size:16}),"Create Assistant"]})}),n.jsx("button",{onClick:()=>{f(!1),V()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})})})]})})},a$e=()=>{const[e,t]=_.useState([]),r=i=>{console.log("CRM Action performed:",i),t(o=>[i,...o.slice(0,4)])},s=i=>{switch(i){case"email":return n.jsx(Ur,{className:"h-4 w-4"});case"booking":case"calendar":return n.jsx(an,{className:"h-4 w-4"});case"client":return n.jsx(O1,{className:"h-4 w-4"});case"invoice":return n.jsx(Hn,{className:"h-4 w-4"});case"data":return n.jsx(La,{className:"h-4 w-4"});default:return n.jsx(Dh,{className:"h-4 w-4"})}},a=i=>{switch(i){case"email":return"bg-blue-100 text-blue-800";case"booking":case"calendar":return"bg-green-100 text-green-800";case"client":return"bg-purple-100 text-purple-800";case"invoice":return"bg-orange-100 text-orange-800";case"data":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx($t,{to:"/admin",children:n.jsxs(dr,{variant:"outline",size:"sm",children:[n.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ih,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM Operations Assistant"}),n.jsx("p",{className:"text-gray-600",children:"AI-powered automation for your photography business"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Gt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ur,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Email Automations"}),n.jsx("p",{className:"text-2xl font-bold",children:"Active"})]})]})})}),n.jsx(Gt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(an,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Booking Management"}),n.jsx("p",{className:"text-2xl font-bold",children:"Ready"})]})]})})}),n.jsx(Gt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(O1,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Client Management"}),n.jsx("p",{className:"text-2xl font-bold",children:"Online"})]})]})})}),n.jsx(Gt,{children:n.jsx(sr,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(La,{className:"h-8 w-8 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Analytics"}),n.jsx("p",{className:"text-2xl font-bold",children:"Live"})]})]})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(Gt,{className:"h-[700px]",children:[n.jsxs(Yr,{children:[n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Ih,{className:"h-5 w-5 text-purple-600"}),"AI Assistant Chat"]}),n.jsx(Ia,{children:"Get help with CRM operations, automation, and business management"})]}),n.jsx(sr,{className:"h-[600px] p-0",children:n.jsx(iw,{assistantId:"asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:r,height:"100%",title:"CRM Operations Assistant",className:"border-0 rounded-none"})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{className:"text-lg",children:"Recent Actions"}),n.jsx(Ia,{children:"Actions performed by the AI assistant"})]}),n.jsx(sr,{children:e.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No actions performed yet"}):n.jsx("div",{className:"space-y-3",children:e.map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsxs(hi,{className:a(i.type),children:[s(i.type),n.jsx("span",{className:"ml-1",children:i.type})]}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.action})})]},o))})})]}),n.jsxs(Gt,{children:[n.jsxs(Yr,{children:[n.jsx(sn,{className:"text-lg",children:"Capabilities"}),n.jsx(Ia,{children:"What the assistant can help you with"})]}),n.jsx(sr,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Ur,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Email Management"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Send confirmations & replies"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(an,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Schedule Management"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Book & manage appointments"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(O1,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Client Records"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Create & update client data"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(Hn,{className:"h-5 w-5 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Invoice Generation"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Create & send invoices"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(La,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Analytics & Reports"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Generate business insights"})]})]})]})})]}),n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsx(sn,{className:"text-lg",children:"Assistant Info"})}),n.jsx(sr,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx(hi,{className:"bg-green-100 text-green-800",children:"Active"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Model:"}),n.jsx("span",{children:"GPT-4"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assistant ID:"}),n.jsx("span",{className:"font-mono text-xs",children:"asst_CH4v...f7vlfIV"})]})]})})]})]})]})]})},i$e=({value:e,className:t})=>n.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2.5 ${t}`,children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${e}%`}})});function o$e(){const[e,t]=_.useState(""),[r,s]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(0),c=async()=>{if(e){s(!0),l(0);try{const u=setInterval(()=>{l(f=>Math.min(f+10,90))},500),h=await fetch("/api/website-wizard/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});clearInterval(u),l(100);const p=await h.json();p.error?i({status:"error",error:p.error,message:p.message||"Analysis failed"}):p.status==="success"?i({status:"success",url:p.url,timestamp:p.timestamp,lighthouse:p.lighthouse,content:p.content,profile:p.profile,message:"Website analyzed successfully"}):i({status:"error",error:"Unknown response format",message:"Please try again"})}catch(u){i({status:"error",error:"Network error",message:u instanceof Error?u.message:"Unknown error"})}finally{s(!1)}}},d=u=>!u||u.length===0?null:n.jsx("div",{className:"flex flex-wrap gap-2",children:u.slice(0,8).map((h,p)=>n.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300 flex items-center justify-center text-xs font-mono",style:{backgroundColor:h},title:h,children:h.length<=4&&n.jsx("span",{className:"text-white mix-blend-difference",children:h})},p))});return n.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Website Wizard"}),n.jsx("p",{className:"text-gray-600",children:"Analyze any website to extract content, images, and SEO data for optimized photography website creation"})]}),n.jsxs(m3,{defaultValue:"analyze",className:"w-full",children:[n.jsxs(p3,{className:"grid w-full grid-cols-4",children:[n.jsxs(ec,{value:"analyze",className:"flex items-center gap-2",children:[n.jsx(Bo,{className:"w-4 h-4"}),"Website URL"]}),n.jsxs(ec,{value:"analysis",className:"flex items-center gap-2",children:[n.jsx(Ha,{className:"w-4 h-4"}),"Data Analysis"]}),n.jsxs(ec,{value:"template",className:"flex items-center gap-2",children:[n.jsx(to,{className:"w-4 h-4"}),"Template Selection"]}),n.jsxs(ec,{value:"optimization",className:"flex items-center gap-2",children:[n.jsx(La,{className:"w-4 h-4"}),"Content Optimization"]})]}),n.jsxs(tc,{value:"analyze",className:"space-y-6",children:[n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Bo,{className:"w-5 h-5"}),"Enter Your Current Website URL"]})}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Website URL"}),n.jsx(Oi,{value:e,onChange:u=>t(u.target.value),placeholder:"https://your-photography-website.com",type:"url"})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"What we'll analyze:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("li",{children:"• Content and copy for SEO optimization"}),n.jsx("li",{children:"• Portfolio images and galleries"}),n.jsx("li",{children:"• Contact information and services"}),n.jsx("li",{children:"• Current SEO performance"}),n.jsx("li",{children:"• Brand colors and styling"})]})]}),r&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(i$e,{value:o,className:"w-full"}),n.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Analyzing website... ",o,"%"]})]}),n.jsx(dr,{onClick:c,disabled:!e||r,className:"w-full",size:"lg",children:r?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyze Website"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ha,{className:"w-4 h-4 mr-2"}),"Analyze Website"]})})]})]}),a&&n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[a.status==="success"?n.jsx(Fr,{className:"w-5 h-5 text-green-600"}):n.jsx(Pm,{className:"w-5 h-5 text-red-600"}),"Analysis Result"]})}),n.jsx(sr,{children:a.status==="success"?n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded-lg",children:[n.jsx(Fr,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-green-800 dark:text-green-200",children:a.message})]}):n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 rounded-lg",children:[n.jsx(Pm,{className:"h-4 w-4 text-red-600"}),n.jsxs("span",{className:"text-red-800 dark:text-red-200",children:[a.error,": ",a.message]})]})})]})]}),n.jsx(tc,{value:"analysis",className:"space-y-6",children:a?.profile?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Hn,{className:"w-5 h-5"}),"Content Analysis"]})}),n.jsxs(sr,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Page Title"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.title||"No title found"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.description||"No description found"})]}),a.profile.keywords&&a.profile.keywords.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Keywords"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.profile.keywords.map((u,h)=>n.jsx(hi,{variant:"secondary",children:u},h))})]})]})]}),n.jsxs(Gt,{children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(to,{className:"w-5 h-5"}),"Brand Colors"]})}),n.jsxs(sr,{children:[d(a.profile.colors),(!a.profile.colors||a.profile.colors.length===0)&&n.jsx("p",{className:"text-sm text-gray-500",children:"No brand colors detected"})]})]}),a.profile.images&&a.profile.images.length>0&&n.jsxs(Gt,{className:"md:col-span-2",children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(Wa,{className:"w-5 h-5"}),"Images Found (",a.profile.images.length,")"]})}),n.jsx(sr,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:a.profile.images.slice(0,8).map((u,h)=>n.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:n.jsx(Wa,{className:"w-8 h-8 text-gray-400"})},h))})})]})]}):n.jsx(Gt,{children:n.jsxs(sr,{className:"text-center py-12",children:[n.jsx(Ha,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Analyze a website first to see the data analysis"})]})})}),n.jsx(tc,{value:"template",className:"space-y-6",children:n.jsx(Gt,{children:n.jsxs(sr,{className:"text-center py-12",children:[n.jsx(to,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Template selection will be available after analysis"})]})})}),n.jsx(tc,{value:"optimization",className:"space-y-6",children:n.jsx(Gt,{children:n.jsxs(sr,{className:"text-center py-12",children:[n.jsx(La,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Content optimization will be available after analysis"})]})})})]})]})}const l$e=({children:e})=>{const{user:t,isAdmin:r,loading:s}=K2();return s?n.jsx("div",{children:"Loading..."}):!t||!r?n.jsx(aA,{to:"/admin/login"}):n.jsx(n.Fragment,{children:e})},Lr=({children:e,requireAdmin:t=!1})=>{const{user:r,isAdmin:s,loading:a}=hJ();return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-pink-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r?t&&!s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this area."}),n.jsx("button",{onClick:()=>window.location.href="/admin/dashboard",className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})}):n.jsx(n.Fragment,{children:e}):(window.location.href="/admin/login",null)},Y3=class Y3{static async validateVoucherCode(t,r){await new Promise(i=>setTimeout(i,500));const s=this.voucherCodes.find(i=>i.code.toLowerCase()===t.toLowerCase()&&i.isActive);if(!s)return{success:!1,message:"Ungültiger Gutscheincode"};if(s.expiresAt&&s.expiresAt<new Date)return{success:!1,message:"Dieser Gutscheincode ist abgelaufen"};if(s.usageLimit&&s.usedCount>=s.usageLimit)return{success:!1,message:"Dieser Gutscheincode wurde bereits zu oft verwendet"};if(s.minAmount&&r<s.minAmount)return{success:!1,message:`Mindestbestellwert von €${(s.minAmount/100).toFixed(2)} erforderlich`};let a=0;return s.type==="percentage"?(a=Math.round(r*(s.value/100)),s.maxDiscount&&a>s.maxDiscount&&(a=s.maxDiscount)):a=Math.min(s.value,r),{success:!0,voucher:s,discount:a,message:`Gutscheincode erfolgreich angewendet! ${s.type==="percentage"?`${s.value}% Rabatt`:`€${(a/100).toFixed(2)} Rabatt`}`}}static async createStripePromotionCode(t){return`promo_${t}_${Date.now()}`}static calculateDiscountedTotal(t,r){return r?Math.max(0,t-r.discount):t}static formatDiscount(t){return t.type==="percentage"?`${t.discount}% Rabatt`:`€${(t.discount/100).toFixed(2)} Rabatt`}};Y3.voucherCodes=[{id:"1",code:"WELCOME20",type:"percentage",value:20,isActive:!0,usageLimit:100,usedCount:0,minAmount:5e3,maxDiscount:5e3,description:"20% Rabatt für Neukunden",createdAt:new Date},{id:"2",code:"PHOTO50",type:"fixed",value:5e3,isActive:!0,usageLimit:50,usedCount:0,minAmount:1e4,description:"€50 Rabatt ab €100 Bestellwert",createdAt:new Date},{id:"3",code:"EARLYBIRD",type:"percentage",value:15,isActive:!0,usageLimit:200,usedCount:0,expiresAt:new Date("2025-12-31"),description:"15% Frühbucherrabatt",createdAt:new Date}];let Cy=Y3;const c$e=()=>{const{items:e,removeItem:t,updateQuantity:r,total:s,clearCart:a}=Sx(),i=En(),[o,l]=_.useState(),[c,d]=_.useState(!1),[u,h]=_.useState(null),p=(N,w)=>{w>0&&w<=10&&r(N,w)},f=async N=>{const w=Math.round(s*100),C=await Cy.validateVoucherCode(N,w);if(C.success&&C.voucher&&C.discount){const L=await Cy.createStripePromotionCode(C.voucher.id);l({code:C.voucher.code,discount:C.discount,type:C.voucher.type,stripePromotionCodeId:L||void 0})}return C},y=()=>{l(void 0)},g=Cy.calculateDiscountedTotal(Math.round(s*100),o)/100,v=N=>{const w=N?e.find(k=>k.id===N):null;if((w?.type==="voucher"||w?.name?.toLowerCase().includes("gutschein")||w?.name?.toLowerCase().includes("voucher"))&&w){h(w),d(!0);return}if(!N){const k=e.filter(A=>A.type==="voucher"||A.name?.toLowerCase().includes("gutschein")||A.title?.toLowerCase().includes("voucher"));if(k.length>0){h(k[0]),d(!0);return}}const L={items:e,total:g,appliedVoucher:o};sessionStorage.setItem("checkoutData",JSON.stringify(L)),i("/checkout")},b=N=>{console.log("Voucher purchase completed:",N),u&&t(u.id),d(!1),h(null),alert("Vielen Dank! Ihr personalisierter Gutschein wurde erfolgreich bestellt.")},S=()=>{d(!1),h(null)};return c&&u?n.jsx(i9,{voucherType:u.name,baseAmount:u.price,onComplete:b,onBack:S}):e.length===0?n.jsx(ns,{children:n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsx(oy,{size:64,className:"text-gray-400 mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Ihr Warenkorb ist leer"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Entdecken Sie unsere Fotografie-Pakete und fügen Sie sie Ihrem Warenkorb hinzu."}),n.jsx("button",{onClick:()=>i("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Pakete ansehen"})]})})}):n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[n.jsx(Wn,{size:20,className:"mr-2"}),"Zurück"]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Warenkorb"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.map(N=>{const w=N.type==="voucher"||N.name?.toLowerCase().includes("gutschein")||N.title?.toLowerCase().includes("voucher");return n.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-0",children:[n.jsxs("div",{className:"flex-grow",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:N.title}),w&&n.jsx(og,{size:16,className:"text-purple-600"})]}),n.jsx("p",{className:"text-gray-600 text-sm",children:N.packageType}),w&&n.jsx("p",{className:"text-purple-600 text-sm font-medium",children:"Personalisierung verfügbar"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[!w&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>p(N.id,N.quantity-1),className:"text-gray-500 hover:text-gray-700",children:"-"}),n.jsx("input",{type:"number",min:"1",max:"10",value:N.quantity,onChange:C=>p(N.id,parseInt(C.target.value)),className:"w-16 text-center border border-gray-300 rounded-lg"}),n.jsx("button",{onClick:()=>p(N.id,N.quantity+1),className:"text-gray-500 hover:text-gray-700",children:"+"})]}),w&&n.jsx("button",{onClick:()=>v(N.id),className:"bg-purple-600 hover:bg-purple-700 text-white text-sm px-4 py-2 rounded-lg transition-colors",children:"Personalisieren"}),n.jsxs("div",{className:"text-right min-w-[100px]",children:[n.jsxs("div",{className:"font-semibold text-gray-800",children:["€",(N.price*N.quantity).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["€",N.price.toFixed(2)," pro Stück"]})]}),n.jsx("button",{onClick:()=>t(N.id),className:"text-red-500 hover:text-red-700",children:n.jsx(Ns,{size:20})})]})]},N.id)})})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Zusammenfassung"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Zwischensumme"}),n.jsxs("span",{children:["€",s.toFixed(2)]})]}),o&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsxs("span",{children:["Rabatt (",o.code,")"]}),n.jsxs("span",{children:["-€",(o.discount/100).toFixed(2)]})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[n.jsx("span",{children:"Gesamt"}),n.jsxs("span",{children:["€",g.toFixed(2)]})]})}),n.jsx("div",{className:"mb-6",children:n.jsx(a9,{onApplyVoucher:f,appliedVoucher:o,onRemoveVoucher:y})}),n.jsxs("div",{className:"space-y-4",children:[(()=>{const N=e.some(w=>w.type==="voucher"||w.name?.toLowerCase().includes("gutschein")||w.title?.toLowerCase().includes("voucher"));return n.jsx("button",{onClick:v,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:N?"Gutschein personalisieren":"Zur Kasse"})})(),n.jsx("button",{onClick:a,className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-3 px-6 rounded-lg transition-colors",children:"Warenkorb leeren"})]})]})})]})]})})},Yx=({children:e,title:t,subtitle:r,image:s})=>n.jsxs(ns,{children:[n.jsx("section",{className:"relative h-[60vh] bg-cover bg-center",style:{backgroundImage:`url(${s})`},children:n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t}),n.jsx("p",{className:"text-xl md:text-2xl",children:r})]})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:e})})]}),d$e=()=>{const{addItem:e}=Sx(),t=En();_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=[{title:"Family Basic",subtitle:"Perfect for Small Families",price:95,originalPrice:195,features:["30 Minuten Shooting","1 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"]},{title:"Family Premium",subtitle:"Ideal für größere Familien",price:195,originalPrice:295,features:["45 Minuten Shooting","5 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"],isFeatured:!0},{title:"Family Deluxe",subtitle:"Das komplette Familienerlebnis",price:295,originalPrice:395,features:["60 Minuten Shooting","10 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Alle Kombinationen","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"]}],s=[{url:"https://i.postimg.cc/qRZCsv3s/00007581.jpg",title:"Familienshooting im Studio",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.postimg.cc/hvdhVbgn/00480020.jpg",title:"Festive Familienshooting",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.imgur.com/puVF0cD.jpg",title:"Generationen Fotoshooting",description:"Besondere Momente mit der ganzen Familie"}],a=[{url:"https://i.postimg.cc/7LZM86Sz/expo-image.jpg",title:"Hobbie shooting",description:"Blühende Landschaften als perfekte Kulisse"},{url:"https://i.postimg.cc/BZK5GRPm/JAGSCHTITZ-A2-L.jpg",title:"Familenshooting",description:"Goldene Stunden im warmen Sonnenlicht"},{url:"https://i.postimg.cc/m2WYZVQB/m9-n1214.jpg",title:"Babyshooting",description:"Warme Farben und gemütliche Atmosphäre"}],i=[{url:"https://i.postimg.cc/6QbV9Xhm/F-HRER-70x50-L.jpg",title:"Geburtstag",description:"Unvergessliche Geburtstagsmomente"},{url:"https://i.postimg.cc/tRwx77yy/00009094.jpg",title:"Familientreffen",description:"Große Familientreffen festhalten"},{url:"https://i.postimg.cc/Y2GRChZf/00508819.jpg",title:"Jubiläen",description:"Besondere Meilensteine feiern"}],o=[{url:"https://i.postimg.cc/3RyXNcSJ/Mechtler-A3-Lein.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Familien Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return n.jsx(Yx,{title:"Familien Fotoshooting",subtitle:"Unvergessliche Momente für die ganze Familie",image:"https://i.imgur.com/o9HCqp0.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihr Moment, Ihr Zauber! ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Bei New Age Fotografie entstehen keine gestellten Posen – sondern Bilder, die eure Geschichte erzählen. Ob im hellen Studio in Wien oder draußen an eurem Lieblingsort – wir halten fest, was euch als Familie ausmacht: Lachen, Nähe, kleine Gesten."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Entspannte Atmosphäre für natürliche Aufnahmen"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Moderne Studios & ausgewählte Outdoor-Locations"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Flexible Terminvereinbarung, auch am Wochenende"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/GpjM3s5h/4-S8-A8377-2.jpg",alt:"Familie beim Fotoshooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,d)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(ba,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:u})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Gn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Für die ganze Familie"}),n.jsx("p",{className:"text-gray-600",children:"Alle Familienmitglieder willkommen"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Vs,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),n.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Anlässe"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Warum ein Familienportrait mit New Age Fotografie? 📸"}),n.jsx("p",{className:"text-gray-700 mb-6"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Individuell & persönlich: Jedes Shooting wird auf Ihre Familie zugeschnitten – mit Platz für bis zu 15 Personen und Haustiere."]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Zeitlose Portraits: Hochwertige Bilder, die Ihr Zuhause schmücken und sich ideal als Geschenke oder für Social Media eignen."]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Unvergessliches Erlebnis: Ein entspanntes Fotoshooting, das Spaß macht – mit Erinnerungen, die ein Leben lang halten."]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/L82CcTx0/E70I9183.jpg",alt:"Familie im Stadtpark",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Shooting-Locations in Wien und Umgebung"}),n.jsx("li",{children:"• Beratung zur Outfit-Wahl inklusive"})]})]})]})})},u$e=()=>{const{addItem:e}=Sx(),t=En();_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=[{title:"Basic",subtitle:"Erste Erinnerungen",price:95,originalPrice:195,features:["30min Shooting","1 bearbeitete Fotos","2 Setups","Requisiten inklusive"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["45min Shooting","5 bearbeitete Fotos","Familienfotos inklusive","Requisiten & Outfits inklusive"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:395,features:["1 Stunden Shooting","10 bearbeitete Fotos","Familienfotos inklusive","Alle Requisiten & Outfits"]}],s=[{url:"https://i.postimg.cc/7LWyk5JJ/DX4A3342.jpg",title:"Neugeborenen Studio",description:"Professionelle Aufnahmen in warmer Atmosphäre"},{url:"https://i.postimg.cc/0NQqFYjq/00371608.jpg",title:"Familien Shooting",description:"Die ganze Familie willkommen"},{url:"https://i.postimg.cc/BZ1JJBgS/4-S8-A7739-1024x683.jpg",title:"Geschwister Shooting",description:"Besondere Momente mit Geschwistern"}],a=[{url:"https://i.postimg.cc/mDPBzYWS/0a9a256b76eacc28798f22b9d58219e5.jpg",title:"Baby shooting"},{url:"https://i.postimg.cc/SsHqWnyb/E70I3814.jpg",title:"New born shooting"},{url:"https://i.postimg.cc/Hss3QBhH/00023276.jpg",title:"Kinder Fotosshooting"}],i=[{url:"https://i.postimg.cc/TY70Qgzb/00124146.jpg",title:"Geschwistershooting",description:"Besondere Geschwistermomente"},{url:"https://i.postimg.cc/T1Q9zDhZ/3W5K2689.jpg",title:"Familienshooting",description:"Die ganze Familie vereint"},{url:"https://i.postimg.cc/NMqpmtWP/4S8A2156.jpg",title:"Generationenshooting",description:"Drei Generationen zusammen"}],o=[{url:"https://i.postimg.cc/T2cCLZQC/OPLATEK-70x50-L.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/cJXfv7MC/classic-living-room-with-an-upholstered-bench-1-480x480.webp",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Neugeborenen Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return n.jsx(Yx,{title:"Neugeborenen Fotoshooting",subtitle:"Die ersten kostbaren Momente Ihres Babys",image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Die ersten Tage für immer festgehalten ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Die ersten Tage mit Ihrem Neugeborenen sind kostbar und einzigartig. In unserem speziell eingerichteten, warmen Studio schaffen wir eine sichere und gemütliche Atmosphäre für zauberhafte Babyfotos."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Spezialisiert auf Neugeborenen-Fotografie"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 5-14 Tage nach der Geburt"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Professionelle Requisiten inklusive"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/7LsqZBd6/IMG-6736.jpg",alt:"Neugeborenen-Shooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,d)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(ba,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:u})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine nach der Geburt flexibel planbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Tn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sanfte Betreuung"}),n.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Neugeborenen-Fotografie"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Vs,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Studio-Ausstattung"}),n.jsx("p",{className:"text-gray-600",children:"Professionelle Requisiten und Accessoires"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Perfekte Umgebung für Ihr Baby 📸"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Unser speziell eingerichtetes Neugeborenen-Studio bietet die perfekte, sichere Umgebung für die ersten Fotos Ihres Babys. Mit beheizbarem Raum und professioneller Ausstattung schaffen wir optimale Bedingungen für entspannte Aufnahmen."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Beheizbares, sicheres Studio"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Professionelle Baby-Requisiten"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Stillbereich für Mütter"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/GtbKgQ3F/Herbaczek-3-W5-K3552.jpg",alt:"Neugeborenen-Studio",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studios"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Beheiztes Studio für das Wohlbefinden des Babys"})]})]})]})})},h$e=()=>{const{addItem:e}=Sx(),t=En();_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=[{title:"Basic",subtitle:"Schöne Erinnerungen",price:95,originalPrice:195,features:["30 Minuten Shooting","1 bearbeitete Fotos","1 Outfit","Partner-Fotos optional"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["45 Minuten Shooting","5 bearbeitete Fotos","2 Outfits","Partner-Fotos inklusive"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:295,features:["60 Minuten Shooting","10 bearbeitete Fotos","Online Galerie","3 Outfits","Partner- & Familienfotos"]}],s=[{url:"https://i.imgur.com/Vd6xtPg.jpg",title:"Studio Schwangerschaft",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.imgur.com/AMnhw6w.jpg",title:"Partner + Schwangerschaft",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.postimg.cc/MHLVSbbf/E70-I3383-scaled.jpg",title:"Partner Shooting",description:"Gemeinsame Momente festhalten"}],a=[{url:"https://i.postimg.cc/T3gmzbyh/sw-6408.jpg",title:"Fun shooting",description:"Blühende Kulissen für strahlende Momente"},{url:"https://i.postimg.cc/X7Z9gm4f/E70I4421.jpg",title:"Maternity shooting",description:"Warmes Licht für zauberhafte Bilder"},{url:"https://i.postimg.cc/G2hyTSXs/E70I2880.jpg",title:"Bauch Shooting",description:"Stimmungsvolle Atmosphäre"}],i=[{url:"https://i.postimg.cc/VNwMmNMg/4S8A1454.jpg",title:"Paarshooting",description:"Gemeinsame Vorfreude festhalten"},{url:"https://i.postimg.cc/vTTfkS9d/DX4A9734.jpg",title:"Geschwistershooting",description:"Die wachsende Familie"},{url:"https://i.postimg.cc/jdGP3cSG/R8G5393.jpg",title:"Generationenshooting",description:"Drei Generationen vereint"}],o=[{url:"https://i.postimg.cc/cCvtXtyx/4-S8-A7529-58-2-2048x1365.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Babybauch-Shooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Geschichte und Wünsche wirklich verstehen. Sie erhalten hilfreiche Hinweise zur Vorbereitung – von Outfit-Tipps bis hin zu Inspirationen für persönliche Accessoires wie Ultraschallbilder, kleine Babyschuhe oder Erinnerungsstücke. So entstehen Aufnahmen, die Ihre Vorfreude und Ihre Persönlichkeit liebevoll widerspiegeln."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Schwangerschafts Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle,type:"voucher"}),window.scrollTo({top:0,behavior:"smooth"}),t("/cart")};return n.jsx(Yx,{title:"Schwangerschafts Fotoshooting",subtitle:"Magische Momente Ihrer Schwangerschaft",image:"https://i.postimg.cc/xjZzq5Mc/4S8A5701.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihre schönsten Momente festgehalten ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Ihre Schwangerschaft ist eine besondere Zeit voller Vorfreude und Emotionen. Wir fangen diese einzigartigen Momente in stilvollen, zeitlosen Bildern ein – ob im Studio oder an Ihrem Wunschort."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Professionelle Betreuung & Styling-Beratung"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 32.-36. Schwangerschaftswoche"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Tn,{className:"text-purple-600 mr-3",size:20}),"Partner & Familie können einbezogen werden"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/9XgGZC5X/NIEFERGALL-A4-L-683x1024.jpg",alt:"Schwangerschaftsshooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,d)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((u,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(ba,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:u})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},d))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Tn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Betreuung"}),n.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Schwangerschaftsfotografie"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Vs,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),n.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},d))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,d)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},d))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Persönliche Vorbereitung für authentische Ergebnisse 📸"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Individuell & persönlich: Jedes Schwangerschaftsshooting wird liebevoll auf Sie abgestimmt – gern auch mit Partner, Geschwistern oder zukünftigen Großeltern. Zeitlose Erinnerungen: Stilvolle, emotionale Bilder, die diese besondere Zeit festhalten – ideal als Dekoration, Geschenk oder für Ihre Social Media Profile. Einfühlsames Erlebnis: In entspannter Atmosphäre entstehen authentische Aufnahmen, die Ihre Vorfreude und Verbundenheit spürbar machen – ganz ohne Hektik."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsx("li",{className:"flex items-center text-gray-700"}),n.jsx("li",{className:"flex items-center text-gray-700"}),n.jsx("li",{className:"flex items-center text-gray-700"})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/HLtMxC9g/E70I2700.jpg",alt:"Schwangerschaftsshooting Location",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,d)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},d))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Styling-Beratung inklusive"})]})]})]})})},f$e=()=>{const e=[{url:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",title:"Professional Headshots"},{url:"https://i.postimg.cc/tRKspft4/19-L9686-683x1024.jpg",title:"Corporate Portraits"},{url:"https://imgur.com/2EsZmcP.jpg",title:"Team Photos"}],t=[{url:"https://i.postimg.cc/6QqWdLLP/Whats-App-Image-2025-05-24-at-2-38-46-PM.jpg",title:"Executive Portraits"},{url:"https://i.postimg.cc/rFg2QRm2/Whats-App-Image-2025-05-24-at-2-38-45-PM.jpg",title:"Business Casual"},{url:"https://i.postimg.cc/CMGgnQp1/11082260-883838491675315-8361533607387200890-o.jpg",title:"Corporate Events"},{url:"https://imgur.com/OvQtkkB.jpg",title:"Team Building"},{url:"https://imgur.com/XF8OK3q.jpg",title:"Office Culture"},{url:"https://imgur.com/L3gwSlu.jpg",title:"Professional Environment"}];return n.jsx(Yx,{title:"Businessportraits, die Eindruck machen",subtitle:"Professionell. Authentisch. Unvergesslich.",image:"https://i.postimg.cc/6Q2c2gS1/Whats-App-Image-2025-05-24-at-2-38-45-PM-2.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"✅ Starker Auftritt für Sie und Ihre Marke"}),n.jsx("p",{className:"text-gray-700 text-lg",children:"Ob für LinkedIn, Website oder Pitchdeck – Ihre Businessfotos sagen mehr als Worte. In unserem Studio in Wien (und Zürich) setzen wir Sie professionell in Szene: klar, sympathisch und markengerecht."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((r,s)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:r.url,alt:r.title,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:r.title})})})]},s))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Was Sie erwartet:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Entspannte Atmosphäre"}),n.jsx("p",{className:"text-gray-600",children:"Kein Stress, keine steifen Posen, einfach Sie in Bestform."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionelles Licht & Posing"}),n.jsx("p",{className:"text-gray-600",children:"Wir zeigen Ihnen, wie Sie authentisch & souverän wirken."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Individuelle Bildsprache"}),n.jsx("p",{className:"text-gray-600",children:"Auf Ihre Branche und Zielgruppe abgestimmt."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schnelle & einfache Buchung"}),n.jsx("p",{className:"text-gray-600",children:"Auch abends oder am Wochenende möglich."})]})]})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-6",children:"❌ Unscharfes Selfie statt souveränem Auftritt?"}),n.jsxs("ul",{className:"space-y-4 text-red-700",children:[n.jsx("li",{children:'• Ihre Website wirkt hochwertig – bis man Ihr „Über uns"-Foto sieht?'}),n.jsx("li",{children:"• Ihr LinkedIn-Profil überzeugt inhaltlich, aber das Bild wirkt wie ein Schnappschuss?"}),n.jsx("li",{children:"• Ihre Mitbewerber wirken präsent – Sie fragen sich, woran's liegt?"})]})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"📸 Professionelle Businessportraits"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Zeigen auf den ersten Blick, was Sie können. Sie schaffen Nähe, Vertrauen und bleiben im Gedächtnis."}),n.jsx("p",{className:"text-lg font-semibold text-purple-800",children:"Für Selbstständige, Gründer:innen, Teams & Führungskräfte"})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((r,s)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:r.url,alt:r.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx("span",{className:"text-white text-lg font-semibold",children:r.title})})]},s))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für LinkedIn & PR – endlich Fotos, die mich wirklich repräsentieren."'})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Professionell, entspannt & effizient – ein Shooting, das Spaß macht."'})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder haben sofort Wirkung gezeigt – auf Website, Socials und in Gesprächen."'})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum unsere Kunden wiederkommen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"💼 Starke Bildsprache"}),n.jsx("p",{className:"text-gray-600",children:"Die Vertrauen schafft"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🤝 Locker & professionell"}),n.jsx("p",{className:"text-gray-600",children:"Für Einzelpersonen & große Teams"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"📐 Vorteilhafte Darstellung"}),n.jsx("p",{className:"text-gray-600",children:"Aller Körpertypen"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🎯 Klare Anleitung"}),n.jsx("p",{className:"text-gray-600",children:"Auch wenn Sie sich vor der Kamera unwohl fühlen"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🖼️ Langfristige Nutzung"}),n.jsx("p",{className:"text-gray-600",children:"Bilder für alle Kanäle"})]})]})]}),n.jsxs("div",{className:"bg-purple-600 text-white rounded-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Jetzt Shooting buchen und Eindruck hinterlassen."}),n.jsx("p",{className:"text-lg mb-6",children:"Businessfotos in Wien & Zürich – New Age Fotografie"}),n.jsx("a",{href:"/warteliste",className:"inline-block bg-white text-purple-600 font-bold py-3 px-8 rounded-lg hover:bg-gray-100 transition-colors",children:"Termin vereinbaren"})]})]})})})},m$e=()=>{const e=[{url:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",title:"Corporate Event"},{url:"https://i.postimg.cc/QdHN7Jqy/121588004-364470784911600-8688844506532345601-n.jpg",title:"Conference"},{url:"https://i.postimg.cc/vBdGpFwJ/COS-1254.jpg",title:"Team Building"}],t=[{url:"https://i.postimg.cc/wTDQpDNn/IMG-2582.jpg",title:"Business Conference"},{url:"https://i.postimg.cc/bY79WmZQ/K36C7261.jpg",title:"Team Events"},{url:"https://i.postimg.cc/Y9kwd61k/4S8A8486.jpg",title:"Networking Events"},{url:"https://i.postimg.cc/gj2bWGST/IGEPHA-Park-Hyatt-6003.jpg",title:"Corporate Celebrations"},{url:"https://i.postimg.cc/Y9XyQYRd/COS-1203.jpg",title:"Product Presentations"},{url:"https://i.postimg.cc/Tw24yCVy/K36C8454.jpg",title:"Company Milestones"}],r=[{url:"https://i.postimg.cc/QMxS8Vks/Ball-des-Sports-2025-www-newagefotografie-com-5590.jpg",title:"Elegant Moments",description:"Capturing the grace of formal events"},{url:"https://i.postimg.cc/bwP35mZZ/Ball-des-Sports-2025-www-newagefotografie-com-5766.jpg",title:"Social Gatherings",description:"Networking in style"},{url:"https://i.postimg.cc/mrXjtR89/Ball-des-Sports-2025-www-newagefotografie-com-5825.jpg",title:"Event Highlights",description:"Key moments from the evening"},{url:"https://i.postimg.cc/FRYZSqBB/Ball-des-Sports-2025-www-newagefotografie-com-5855.jpg",title:"Candid Interactions",description:"Natural moments between guests"},{url:"https://i.postimg.cc/FFJpsMcf/Ball-des-Sports-2025-www-newagefotografie-com-5878.jpg",title:"Event Atmosphere",description:"The ambiance of the ball"},{url:"https://i.postimg.cc/yd2TyjqY/Ball-des-Sports-2025-www-newagefotografie-com-6331.jpg",title:"Distinguished Guests",description:"VIP moments captured"},{url:"https://i.postimg.cc/8cWmKvDd/Ball-des-Sports-2025-www-newagefotografie-com-6382.jpg",title:"Dance Floor",description:"Celebration in motion"},{url:"https://i.postimg.cc/RV5R3gQg/Ball-des-Sports-2025-www-newagefotografie-com-6459.jpg",title:"Evening Entertainment",description:"Performances and shows"},{url:"https://i.postimg.cc/SN6Gccgk/Ball-des-Sports-2025-www-newagefotografie-com-7025.jpg",title:"Formal Portraits",description:"Professional event photography"},{url:"https://i.postimg.cc/7b8TftF0/Ball-des-Sports-2025-www-newagefotografie-com-7789.jpg",title:"Event Details",description:"The finer points of the evening"},{url:"https://i.postimg.cc/3xZnQ2Gn/Ball-des-Sports-2025-www-newagefotografie-com-7920.jpg",title:"Social Moments",description:"Connections and conversations"},{url:"https://i.postimg.cc/Nfmdb3jh/Ball-des-Sports-2025-www-newagefotografie-com-7978.jpg",title:"Grand Finale",description:"Memorable closing moments"}];return n.jsx(Yx,{title:"Eventfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Authentisch. Professionell. Unvergesslich.",image:"https://i.postimg.cc/rwtMhFtV/Ball-des-Sports-2025-www-newagefotografie-com-5513.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Ihre Veranstaltung. Ihre Emotionen. Perfekt eingefangen."}),n.jsxs("p",{className:"text-gray-700 text-lg",children:["Sie planen ein Event und möchten sich darauf verlassen können, dass alle wichtigen Momente eingefangen werden?",n.jsx("br",{}),"Wir sind auf natürliche, stimmungsvolle Eventfotografie spezialisiert – ohne gestellte Posen, ohne steife Atmosphäre."]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Kunden uns wählen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Unauffällig & präsent"}),n.jsx("p",{className:"text-gray-600",children:"Wir bewegen uns dezent im Hintergrund und fangen echte Emotionen ein."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Authentisch & natürlich"}),n.jsx("p",{className:"text-gray-600",children:"Keine gestellten Bilder. Wir zeigen Sie, wie Sie wirklich sind – entspannt und sympathisch."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Ruhig in jeder Situation"}),n.jsx("p",{className:"text-gray-600",children:"Selbst in stressigen Momenten behalten wir den Überblick und dokumentieren jedes Detail."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schmeichelhafte Perspektiven"}),n.jsx("p",{className:"text-gray-600",children:"Wir kennen die besten Blickwinkel, damit sich alle auf den Bildern wiedererkennen und mögen."})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Eleganz & Stil"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexibel buchbar – auch an Wochenenden & Feiertagen"}),n.jsx("p",{className:"text-gray-700",children:"Unser einfacher Buchungsprozess ist 7 Tage die Woche verfügbar – so passt sich Ihr Fotograf Ihrem Zeitplan an, nicht umgekehrt."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für jedes Event."'}),n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unauffällig, professionell, sympathisch."'})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Fotos, die man wirklich gerne teilt."'}),n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfach zu buchen, zuverlässig und herzlich."'})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"📍 Verfügbar in Wien & Zürich"}),n.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",n.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Termin planen"})]}),n.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},p$e=()=>{const e=[{url:"https://i.postimg.cc/P5Y6qBwf/4S8A7472.jpg",title:"Wedding Ceremony"},{url:"https://i.postimg.cc/3R6QYX2s/00134022.jpg",title:"Wedding Portraits"},{url:"https://i.postimg.cc/zG15yF45/00371059.jpg",title:"Wedding Reception"}],t=[{url:"https://i.postimg.cc/VvWyM3x8/00145408.jpg",title:"Getting Ready"},{url:"https://i.postimg.cc/4Nwk3Rvv/00371294.jpg",title:"First Look"},{url:"https://i.postimg.cc/fyNnVwgC/events1.jpg",title:"Ceremony"},{url:"https://i.postimg.cc/t4T0ZvDK/HOFBAUER-70x50-L.jpg",title:"Bridal Portraits"},{url:"https://i.postimg.cc/YqtBkCFq/IMG-6997.jpg",title:"Reception"},{url:"https://i.postimg.cc/CMGpWqzQ/IMG-7898.jpg",title:"Party"}],r=[{url:"https://i.postimg.cc/85wB64ZY/4-S8-A0596aaa.jpg",title:"Romantic Moments",description:"Capturing intimate moments between newlyweds"},{url:"https://i.postimg.cc/k53c3BVT/COS-0308.jpg",title:"Wedding Details",description:"Beautiful wedding day details"},{url:"https://i.postimg.cc/bvxRzpkp/KULHAVY13032020-194-of-671-ddd.jpg",title:"Candid Moments",description:"Natural and spontaneous celebrations"},{url:"https://i.postimg.cc/4yS68dkb/Pic-9.jpg",title:"Venue Photography",description:"Stunning wedding venues"},{url:"https://i.postimg.cc/pTPJr4J8/TN-Post-wedding-portraits-168.jpg",title:"Portrait Sessions",description:"Professional wedding portraits"},{url:"https://i.postimg.cc/Gt2PJDNm/Villa-Antoinette-Gl-serstra-e-9-2680-Semmering-Kurort-Austria.jpg",title:"Location Shots",description:"Beautiful wedding locations"}];return n.jsx(Yx,{title:"Hochzeitsfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Eure Geschichte. Echt. Berührend. Für immer.",image:"https://i.postimg.cc/vBxS7p6K/DSC-0318-01299.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Eure Liebe, authentisch eingefangen."}),n.jsxs("p",{className:"text-gray-700 text-lg",children:["Euer Hochzeitstag ist einzigartig – ein Tag voller Emotionen, Lachen und bedeutungsvoller Momente.",n.jsx("br",{}),"Wir sorgen dafür, dass ihr ihn nie vergesst. Mit Bildern, die nicht gestellt wirken – sondern echt."]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Paare uns wählen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Natürlich & unaufdringlich"}),n.jsx("p",{className:"text-gray-600",children:"Wir halten echte Emotionen fest, ohne zu stören."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionell & herzlich"}),n.jsx("p",{className:"text-gray-600",children:"Ihr fühlt euch bei uns wohl, auch wenn ihr keine Kameraprofis seid."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Detailverliebt & kreativ"}),n.jsx("p",{className:"text-gray-600",children:"Vom kleinen Blick bis zur großen Geste – nichts geht verloren."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Nachhaltige Erinnerungen"}),n.jsx("p",{className:"text-gray-600",children:"Eure Fotos werden zum visuellen Erbe eurer Liebesgeschichte."})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexible Buchung – Auch an Wochenenden und Feiertagen"}),n.jsx("p",{className:"text-gray-700",children:"Ganz nach eurem Zeitplan – wir passen uns euch an, nicht umgekehrt."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unvergesslich! Matt und sein Team haben jeden Moment eingefangen – kreativ, entspannt und mit einem tollen Gespür für Timing."'}),n.jsx("p",{className:"font-semibold",children:"– Sasha & Marten ⭐⭐⭐⭐⭐"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfühlsam, professionell und einfach top. Wir würden sie jederzeit wieder buchen!"'}),n.jsx("p",{className:"font-semibold",children:"– Christina M. ⭐⭐⭐⭐⭐"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder sind magisch – so viele echte Emotionen. Und der Service war von Anfang bis Ende perfekt."'}),n.jsx("p",{className:"font-semibold",children:"– Tina & Robin ⭐⭐⭐⭐⭐"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Hochzeitsmomente für die Ewigkeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Eure Hochzeit. Euer Moment. Unser Versprechen."}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Ob Standesamt, Gartenhochzeit oder großes Fest – wir begleiten euch mit Erfahrung, Gefühl und einem Blick für das, was wirklich zählt."}),n.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",n.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Hochzeitsfotografie in Wien & Zürich"})]}),n.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},g$e=({gallerySlug:e,isPasswordProtected:t,onAuthenticated:r})=>{const[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState(""),[h,p]=_.useState(!1),[f,y]=_.useState(null),g=async v=>{if(v.preventDefault(),!s){y("Email is required");return}if(t&&!d){y("Password is required");return}try{p(!0),y(null);const{token:b}=await IOe(e,{email:s,firstName:i,lastName:l,password:t?d:void 0});localStorage.setItem(`gallery_token_${e}`,b),r(b)}catch(b){y(b instanceof Error?b.message:"Authentication failed. Please try again.")}finally{p(!1)}};return n.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-purple-100 text-purple-600 rounded-full p-3 inline-block",children:t?n.jsx(Fg,{className:"h-8 w-8"}):n.jsx(Ur,{className:"h-8 w-8"})}),n.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:t?"Protected Gallery":"Welcome to the Gallery"}),n.jsx("p",{className:"mt-2 text-gray-600",children:t?"Please enter the password to view this gallery":"Please enter your information to continue"})]}),f&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ur,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email",type:"email",value:s,onChange:v=>a(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"you@example.com",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{id:"firstName",type:"text",value:i,onChange:v=>o(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"First Name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{id:"lastName",type:"text",value:l,onChange:v=>c(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Last Name"})]})]}),t&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Fg,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",type:"password",value:d,onChange:v=>u(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Enter gallery password",required:!0})]})]}),n.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:h?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Authenticating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vR,{className:"-ml-1 mr-2 h-5 w-5"}),"Enter Gallery"]})})]})]})},$D=()=>{const{slug:e}=Uo(),[t,r]=_.useState(null),[s,a]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(""),[d,u]=_.useState(!1),[h,p]=_.useState(!0),[f,y]=_.useState(null);_.useEffect(()=>{if(e){g(e);const k=localStorage.getItem(`gallery_token_${e}`);k&&(c(k),o(!0))}else p(!1)},[e]),_.useEffect(()=>{document.title="Foto-Galerie Wien - Familienfotos & Porträts | New Age Fotografie";let k=document.querySelector('meta[name="description"]');k||(k=document.createElement("meta"),k.setAttribute("name","description"),document.head.appendChild(k)),k.setAttribute("content","Exklusive Foto-Galerie mit passwortgeschütztem Zugang. Familienfotos, Porträts und Hochzeitsbilder vom Wiener Familienfotograf.");let A=document.querySelector('meta[property="og:title"]');return A||(A=document.createElement("meta"),A.setAttribute("property","og:title"),document.head.appendChild(A)),A.setAttribute("content","Foto-Galerie - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]),_.useEffect(()=>{i&&e&&l&&v(e,l)},[i,e,l]);const g=async k=>{try{p(!0);const A=await SOe(k);r(A)}catch{y("Failed to load gallery. Please try again.")}finally{p(!1)}},v=async(k,A)=>{try{p(!0);const P=await MOe(k,A);a(P)}catch(P){y("Failed to load gallery images. Please try again."),P instanceof Error&&P.message.includes("Invalid token")&&(localStorage.removeItem(`gallery_token_${k}`),o(!1),c(""))}finally{p(!1)}},b=k=>{c(k),o(!0),S()},S=async k=>{},N=()=>{if(!t||!e||!l)return;if(!t.downloadEnabled){alert("Downloads are disabled for this gallery.");return}const k=document.createElement("a");k.href=`/api/galleries/${e}/download`,k.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.zip`,fetch(k.href,{headers:{Authorization:`Bearer ${l}`}}).then(A=>A.blob()).then(A=>{const P=window.URL.createObjectURL(A);k.href=P,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(P)}).catch(A=>{alert("Failed to download gallery. Please try again.")})},w=()=>{if(!t||!e)return;const k=`${window.location.origin}/gallery/${e}`;navigator.share?navigator.share({title:t.title,url:k}).catch(A=>{C(k)}):C(k)},C=k=>{navigator.clipboard?navigator.clipboard.writeText(k).then(()=>{alert("Gallery link copied to clipboard!")}).catch(A=>{prompt("Copy this link:",k)}):prompt("Copy this link:",k)},L=d?s.filter(k=>k.isFavorite):s;return e?n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs($t,{to:"/galleries",className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[n.jsx(Wn,{size:16,className:"mr-1"}),"Zurück zu allen Galerien"]}),h&&!t?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):f&&!t?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),t.description&&n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t.description})]}),i?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 flex flex-wrap items-center justify-between gap-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>u(!d),className:`inline-flex items-center px-4 py-2 border ${d?"border-red-300 bg-red-50 text-red-700 hover:bg-red-100":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} rounded-lg shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors`,children:[n.jsx(Tn,{size:16,className:`mr-2 ${d?"fill-current":""}`}),d?"Alle anzeigen":"Favoriten anzeigen"]}),t.downloadEnabled&&n.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[n.jsx(js,{size:16,className:"mr-2"}),"Alle herunterladen"]})]}),n.jsxs("button",{onClick:w,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[n.jsx(Mh,{size:16,className:"mr-2"}),"Galerie teilen"]})]}),h?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading images..."})]}):f?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[n.jsx(Kq,{images:L,galleryId:t.id,isPublic:!0,authToken:l,downloadEnabled:t.downloadEnabled}),d&&L.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Noch keine Favoriten"}),n.jsx("p",{className:"text-gray-500",children:"Sie haben noch keine Bilder zu Ihren Favoriten hinzugefügt."}),n.jsx("button",{onClick:()=>u(!1),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Alle Bilder anzeigen"})]})]})]}):n.jsx(g$e,{gallerySlug:e||"",isPasswordProtected:t.isPasswordProtected||!!t.password,onAuthenticated:b})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been removed."}),n.jsx("div",{className:"mt-6",children:n.jsx($t,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to home"})})]})]})}):n.jsx(aA,{to:"/galleries",replace:!0})},BD=()=>{const{t:e}=wa(),[t,r]=_.useState([]),[s,a]=_.useState([]),[i,o]=_.useState(""),[l,c]=_.useState(!0),[d,u]=_.useState(null);_.useEffect(()=>{h()},[]),_.useEffect(()=>{p()},[t,i]);const h=async()=>{try{c(!0);const g=await FOe();r(g)}catch{u("Failed to load galleries. Please try again.")}finally{c(!1)}},p=()=>{if(!i.trim()){a(t);return}const g=i.toLowerCase(),v=t.filter(b=>b.title.toLowerCase().includes(g)||b.description&&b.description.toLowerCase().includes(g)||b.clientEmail&&b.clientEmail.toLowerCase().includes(g));a(v)},f=g=>g.coverImage||"/placeholder-gallery.jpg",y=g=>new Date(g).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:e("gallery.publicTitle")}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:e("gallery.publicDescription")})]}),n.jsx("div",{className:"max-w-md mx-auto mb-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:e("gallery.searchPlaceholder"),value:i,onChange:g=>o(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-8",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:d})]}),l?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(zr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:e("gallery.loading")})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:n.jsxs("p",{className:"text-gray-600",children:[s.length," ",s.length===1?e("gallery.galleryFound"):e("gallery.galleriesFound")," ",e("gallery.found"),i&&` für "${i}"`]})}),s.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(g=>n.jsxs("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-purple-300 overflow-hidden",children:[n.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-purple-50 to-pink-50 overflow-hidden",children:[g.coverImage?n.jsx("img",{src:f(g),alt:g.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(Vs,{className:"w-8 h-8 text-purple-600"})}),n.jsx("p",{className:"text-sm text-gray-500",children:e("gallery.noPreview")})]})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsxs($t,{to:`/gallery/${g.slug}`,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-800 px-6 py-3 rounded-full font-semibold transition-all duration-200 transform hover:scale-110 flex items-center",children:[n.jsx(ts,{size:18,className:"mr-2"}),e("gallery.viewGallery")]})}),n.jsx("div",{className:"absolute bottom-2 right-2 opacity-50",children:n.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-8 w-auto opacity-75"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1",children:g.title}),g.description&&n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:g.description}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[n.jsx(an,{size:14,className:"mr-2"}),y(g.createdAt)]}),n.jsx($t,{to:`/gallery/${g.slug}`,className:"block w-full text-center bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:e("gallery.openGallery")})]})]},g.id))}):n.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 mb-6",children:n.jsx(Vs,{className:"w-full h-full"})}),n.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:e(i?"gallery.noGalleriesFound":"gallery.noGalleriesAvailable")}),n.jsx("p",{className:"text-gray-500 mb-6",children:i?`${e("gallery.noGalleriesDescription")} "${i}".`:e("gallery.noGalleriesAvailableDescription")}),i&&n.jsx("button",{onClick:()=>o(""),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:e("gallery.showAllGalleries")})]})]}),n.jsxs("div",{className:"mt-16 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e("gallery.notFoundTitle")}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:e("gallery.notFoundDescription")}),n.jsx($t,{to:"/kontakt",className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:e("gallery.contactUs")})]})]})})},x$e=()=>{const[e,t]=_.useState(!1),[r,s]=_.useState([{text:`Hallo! Ich bin Alex von New Age Fotografie Wien. 📸

Bevor wir starten, darf ich nach Ihrer WhatsApp Nummer oder E-Mail fragen? So kann ich Sie besser beraten und bei Interesse direkt kontaktieren.`,isUser:!1}]),[a,i]=_.useState(""),[o,l]=_.useState(!1);_.useState(null);const[c,d]=_.useState(!1),[u,h]=_.useState({name:"",email:"",phone:""}),[p,f]=_.useState(!1),y=_.useRef(null),g=()=>{y.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{g()},[r]);const v=async()=>{if(!a.trim()||o)return;const w=a;if(s(C=>[...C,{text:w,isUser:!0}]),i(""),l(!0),!p){const C=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,L=/(\+43|0043|0)?[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{2,4}/;if(C.test(w)){h(k=>({...k,email:w.match(C)?.[0]||""})),f(!0),s(k=>[...k,{text:`Perfekt! Vielen Dank für Ihre E-Mail: ${w.match(C)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}if(L.test(w)){h(k=>({...k,phone:w.match(L)?.[0]||""})),f(!0),s(k=>[...k,{text:`Super! Vielen Dank für Ihre Nummer: ${w.match(L)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}}s(C=>[...C,{text:"Alex schreibt...",isUser:!1,loading:!0}]);try{const L=await(await fetch("/api/openai/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:w,threadId:"fallback-mode"})})).json();s(k=>[...k.filter(P=>!P.loading),{text:L.response||"Entschuldigung, ich konnte Ihre Anfrage nicht bearbeiten.",isUser:!1}]),p&&r.filter(k=>k.isUser).length>=2&&setTimeout(()=>{N()},3e3)}catch{s(L=>[...L.filter(A=>!A.loading),{text:"Entschuldigung, es gab ein technisches Problem. Bitte kontaktieren Sie uns direkt unter 0677 633 99210.",isUser:!1}])}finally{l(!1)}},b=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),v())},S=async()=>{try{const w=r.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,message:w?.text||"Chat conversation",conversation:r})})).ok&&(s(L=>[...L,{text:"Vielen Dank! Ihre Kontaktdaten wurden gespeichert. Wir melden uns bald bei Ihnen!",isUser:!1}]),d(!1),h({name:"",email:"",phone:""}))}catch{}},N=async()=>{if(p)try{const w=r.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Chat Visitor",email:u.email,phone:u.phone,message:w?.text||"Website Chat Interest",conversation:r})})).ok}catch{}};return n.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[n.jsx(q1,{children:e&&n.jsxs(Yf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-16 right-0 w-80 bg-white rounded-lg shadow-xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 p-4 rounded-t-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold",children:"Alex - Photo Consultant"}),n.jsx("p",{className:"text-purple-100 text-sm",children:"New Age Fotografie Wien"})]}),n.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-gray-200 transition-colors",children:n.jsx(rs,{size:20})})]})}),n.jsxs("div",{className:"h-96 flex flex-col",children:[n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[r.map((w,C)=>n.jsx("div",{className:`mb-4 ${w.isUser?"text-right":"text-left"}`,children:n.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[280px] ${w.isUser?"bg-gradient-to-r from-purple-600 to-pink-500 text-white":"bg-gray-100 text-gray-800"}`,children:w.loading?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zr,{size:16,className:"animate-spin"}),w.text]}):w.text})},C)),n.jsx("div",{ref:y})]}),c&&n.jsxs("div",{className:"border-t p-4 bg-purple-50",children:[n.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Kontakt hinterlassen"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Ihr Name",value:u.name,onChange:w=>h(C=>({...C,name:w.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsx("input",{type:"email",placeholder:"E-Mail",value:u.email,onChange:w=>h(C=>({...C,email:w.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsx("input",{type:"tel",placeholder:"Telefon (optional)",value:u.phone,onChange:w=>h(C=>({...C,phone:w.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:S,className:"flex-1 bg-purple-600 text-white p-2 rounded text-sm hover:bg-purple-700",children:"Senden"}),n.jsx("button",{onClick:()=>d(!1),className:"px-4 bg-gray-300 text-gray-700 p-2 rounded text-sm hover:bg-gray-400",children:"Später"})]})]})]}),n.jsx("div",{className:"border-t p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:a,onChange:w=>i(w.target.value),onKeyPress:b,placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),n.jsx("button",{onClick:v,disabled:o,className:"p-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?n.jsx(zr,{size:20,className:"animate-spin"}):n.jsx(gl,{size:20})})]})})]})]})}),n.jsx("button",{onClick:()=>t(!e),className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white p-4 rounded-full shadow-lg hover:opacity-90 transition-opacity",children:n.jsx(jR,{size:24})})]})};function y$e({galleryId:e,clientId:t,isOpen:r,onClose:s}){const[a,i]=_.useState([]),{toast:o}=One(),{data:l,isLoading:c}=P1({queryKey:["/api/gallery/print-catalog"],enabled:r}),d=X0({mutationFn:async g=>{const v=await fetch("/api/gallery/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Checkout failed");return v.json()},onSuccess:g=>{g.checkout_url?window.location.href=g.checkout_url:o({title:"Order Created",description:`Order #${g.order_id} created for €${g.total}`})},onError:()=>{o({title:"Checkout Failed",description:"Unable to process your order. Please try again.",variant:"destructive"})}}),u=g=>{const v=a.find(b=>b.product_sku===g.sku);i(v?a.map(b=>b.product_sku===g.sku?{...b,qty:b.qty+1}:b):[...a,{product_sku:g.sku,qty:1,variant:{},product_name:g.name,unit_price:Number(g.base_price)}]),o({title:"Added to Cart",description:`${g.name} added to your cart`})},h=g=>{i(a.filter(v=>v.product_sku!==g))},p=(g,v)=>{v<=0?h(g):i(a.map(b=>b.product_sku===g?{...b,qty:v}:b))},f=()=>a.reduce((g,v)=>g+(v.unit_price||0)*v.qty,0),y=()=>{d.mutate({gallery_id:e,client_id:t,items:a})};return r?n.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),n.jsxs("div",{className:"ml-auto w-96 bg-white shadow-xl flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"h-5 w-5"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Buy Prints"})]}),n.jsx(dr,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(rs,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:c?n.jsx("div",{className:"text-center py-8",children:"Loading products..."}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Available Products"}),l?.map(g=>n.jsx(Gt,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium",children:g.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["€",g.base_price]})]}),n.jsx(dr,{size:"sm",onClick:()=>u(g),className:"ml-2",children:n.jsx(Tr,{className:"h-3 w-3"})})]})},g.sku))]}),a.length>0&&n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:"Your Cart"}),n.jsxs(hi,{variant:"secondary",children:[a.length," items"]})]}),a.map(g=>n.jsx(Gt,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"text-sm font-medium",children:g.product_name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["€",g.unit_price," each"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty-1),children:n.jsx(ZJ,{className:"h-3 w-3"})}),n.jsx("span",{className:"text-sm font-medium min-w-[20px] text-center",children:g.qty}),n.jsx(dr,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty+1),children:n.jsx(Tr,{className:"h-3 w-3"})})]})]})},g.product_sku))]})]})}),a.length>0&&n.jsxs("div",{className:"border-t p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["€",f().toFixed(2)]})]}),n.jsx(dr,{className:"w-full",onClick:y,disabled:d.isPending,children:d.isPending?"Processing...":"Proceed to Checkout"})]})]})]}):null}function v$e(){const[e,t]=_.useState(!1);return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs(Gt,{className:"max-w-4xl mx-auto",children:[n.jsx(Yr,{children:n.jsxs(sn,{className:"flex items-center gap-2",children:[n.jsx(rd,{className:"h-6 w-6"}),"Gallery Shop Test Page"]})}),n.jsxs(sr,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>n.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-gray-500",children:["Gallery Image ",a]})},a))}),n.jsxs("div",{className:"text-center",children:[n.jsxs(dr,{onClick:()=>t(!0),className:"bg-purple-600 hover:bg-purple-700",size:"lg",children:[n.jsx(rd,{className:"h-5 w-5 mr-2"}),"Buy Prints"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Click to test the Gallery Shop functionality"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Gallery Shop Features:"}),n.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[n.jsx("li",{children:"✅ Print catalog with 7 products"}),n.jsx("li",{children:"✅ Shopping cart functionality"}),n.jsx("li",{children:"✅ Order creation and tracking"}),n.jsx("li",{children:"✅ Stripe checkout integration (ready)"}),n.jsx("li",{children:"✅ CRM agent tool registered (#7)"})]})]})]})]}),n.jsx(y$e,{galleryId:"123e4567-e89b-12d3-a456-426614174000",clientId:"456e7890-e89b-12d3-a456-426614174001",isOpen:e,onClose:()=>t(!1)})]})}const b$e=()=>{const e=[{name:"crm_clients.csv",description:"Complete Client Database (2,153 records)",size:"520KB",icon:n.jsx(Gn,{className:"h-6 w-6"}),priority:"high"},{name:"blog_posts.csv",description:"Published Blog Posts (15 posts)",size:"185KB",icon:n.jsx(Hn,{className:"h-6 w-6"}),priority:"medium"},{name:"photography_sessions.csv",description:"Photography Sessions (9 sessions)",size:"6KB",icon:n.jsx(an,{className:"h-6 w-6"}),priority:"medium"},{name:"knowledge_base.csv",description:"CRM Agent Knowledge (5 entries)",size:"34KB",icon:n.jsx(tw,{className:"h-6 w-6"}),priority:"low"},{name:"crm_leads.csv",description:"Sales Leads (2 prospects)",size:"1KB",icon:n.jsx(Z2,{className:"h-6 w-6"}),priority:"medium"},{name:"users.csv",description:"Admin Users (2 accounts)",size:"1KB",icon:n.jsx(Gn,{className:"h-6 w-6"}),priority:"low"}],t=r=>{const s=document.createElement("a");s.href=`/${r}`,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Database Export - CSV Downloads"}),n.jsx("p",{className:"text-gray-600",children:"Download your complete database as CSV files"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total: 2,186 records across 6 main tables"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>n.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow ${r.priority==="high"?"ring-2 ring-purple-200 bg-purple-50":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${r.priority==="high"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:r.icon}),r.priority==="high"&&n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Priority"})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:r.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r.description}),n.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Size: ",r.size]}),n.jsxs("button",{onClick:()=>t(r.name),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-md font-medium transition-colors ${r.priority==="high"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[n.jsx(js,{className:"h-4 w-4"}),"Download"]})]},r.name))}),n.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Download Instructions"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Most Important:"})," ",n.jsx("code",{children:"crm_clients.csv"})," contains your 2,153 client records - your main business database."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Usage:"})," Open CSV files in Excel, Google Sheets, or import into any database system."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Migration:"})," Use these files to migrate your data to any new system that accepts CSV imports."]})]})]}),n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Alternative Download Methods:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:'• Right-click any CSV file in the Replit Files panel and select "Download"'}),n.jsxs("li",{children:["• Files are also available in the ",n.jsx("code",{children:"public/"})," folder"]}),n.jsxs("li",{children:["• Complete archive available as ",n.jsx("code",{children:"database-csv-export.tar.gz"})]})]})]})]})})},zD=()=>{const e=En();return _.useEffect(()=>{window.scrollTo(0,0)},[]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"TN"})}),n.jsx("span",{className:"font-semibold",children:"TogNinja"})]}),n.jsxs("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[n.jsx(Wn,{size:20}),n.jsx("span",{children:"Zurück zur Startseite"})]})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Fr,{size:48,className:"text-green-600"})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Bestellung erfolgreich! (Demo Modus)"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Vielen Dank für Ihren Kauf! Dies ist eine Demo-Bestätigung, da Stripe im Entwicklungsmodus läuft."})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Bestelldetails"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Bestellnummer:"}),n.jsxs("span",{className:"font-mono text-sm",children:["DEMO-",Date.now()]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:"bg-green-100 text-green-800 text-sm px-2 py-1 rounded",children:"Bezahlt (Demo)"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Produkt:"}),n.jsx("span",{children:"Fotoshooting Gutschein"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Nächste Schritte"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Ur,{size:20,className:"text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"E-Mail Bestätigung"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Sie erhalten in Kürze eine Bestätigungs-E-Mail mit allen Details (im echten System)."})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(js,{size:20,className:"text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-900",children:"Gutschein Download"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Ihr personalisierter Gutschein wird entsprechend der gewählten Versandart bereitgestellt."})]})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"}),n.jsx("h4",{className:"font-medium text-yellow-800",children:"Demo Hinweis"})]}),n.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Dies ist eine Demo-Umgebung. Es wurde keine echte Zahlung verarbeitet. Um echte Zahlungen zu akzeptieren, konfigurieren Sie gültige Stripe-Schlüssel in den Umgebungsvariablen."})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"Zur Startseite"}),n.jsx("button",{onClick:()=>e("/gutschein/family"),className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 px-8 py-3 rounded-lg font-semibold transition-colors",children:"Weiteren Gutschein kaufen"})]})]})]})},w$e=()=>{const[e,t]=_.useState("send"),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(!1),[c,d]=_.useState({to:"",subject:"",content:"",autoLinkClient:!0}),[u,h]=_.useState({to:"",content:"",autoLinkClient:!0,messageType:"sms"}),[p,f]=_.useState({content:"",targetType:"all",targetPreview:[]}),[y,g]=_.useState("siparrott@yahoo.co.uk");_.useEffect(()=>{v(),b()},[]);const v=async()=>{try{const k=await fetch("/api/communications/all");if(k.ok){const A=await k.json();s(A.communications||[])}}catch(k){console.error("Failed to load communications:",k)}},b=async()=>{try{const k=await fetch("/api/crm/clients");if(k.ok){const A=await k.json();i(A.clients||[])}}catch(k){console.error("Failed to load clients:",k)}},S=async()=>{if(!c.to||!c.subject||!c.content){alert("Please fill in all required fields");return}l(!0);try{const A=await(await fetch("/api/communications/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json();A.success?(alert(`Email sent successfully! ${A.clientId?"Linked to client record.":""}`),d({to:"",subject:"",content:"",autoLinkClient:!0}),v()):alert(`Failed to send email: ${A.error}`)}catch(k){alert(`Error sending email: ${k}`)}finally{l(!1)}},N=async()=>{if(!u.to||!u.content){alert("Please fill in all required fields");return}l(!0);try{const A=await(await fetch("/api/communications/sms/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();A.success?(alert(`SMS sent successfully! ${A.clientId?"Linked to client record.":""}`),h({to:"",content:"",autoLinkClient:!0,messageType:"sms"}),v()):alert(`Failed to send SMS: ${A.error}`)}catch(k){alert(`Error sending SMS: ${k}`)}finally{l(!1)}},w=async()=>{try{const A=await(await fetch("/api/communications/bulk/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetType:p.targetType})})).json();f(P=>({...P,targetPreview:A.clients||[]}))}catch(k){console.error("Failed to preview targets:",k)}},C=async()=>{if(!p.content){alert("Please enter SMS content");return}if(p.targetPreview.length===0){alert("No target recipients found");return}if(confirm(`Send SMS to ${p.targetPreview.length} recipients?`)){l(!0);try{const A=await(await fetch("/api/communications/sms/bulk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:p.content,targetType:p.targetType})})).json();A.success?(alert(`Bulk SMS campaign completed! Sent: ${A.sentCount}, Failed: ${A.failedCount}`),f({content:"",targetType:"all",targetPreview:[]}),v()):alert(`Failed to send bulk SMS: ${A.errors?.join(", ")}`)}catch(k){alert(`Error sending bulk SMS: ${k}`)}finally{l(!1)}}},L=async()=>{if(!y){alert("Please enter a test email address");return}l(!0);try{const A=await(await fetch("/api/communications/email/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testEmail:y})})).json();A.success?alert("Test email sent successfully!"):alert(`Test email failed: ${A.error}`)}catch(k){alert(`Error testing email: ${k}`)}finally{l(!1)}};return n.jsx(ns,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-purple-900 mb-8",children:"Communications Center"}),n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"send",label:"Send Messages"},{id:"bulk",label:"Bulk SMS"},{id:"history",label:"History"},{id:"test",label:"Test Config"}].map(k=>n.jsx("button",{onClick:()=>t(k.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${e===k.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:k.label},k.id))})}),e==="send"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Send Email"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To (Email)"}),n.jsx("input",{type:"email",value:c.to,onChange:k=>d(A=>({...A,to:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"client@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:c.subject,onChange:k=>d(A=>({...A,subject:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Email subject"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),n.jsx("textarea",{value:c.content,onChange:k=>d(A=>({...A,content:k.target.value})),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Email content..."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"autoLinkEmail",checked:c.autoLinkClient,onChange:k=>d(A=>({...A,autoLinkClient:k.target.checked})),className:"mr-2"}),n.jsx("label",{htmlFor:"autoLinkEmail",className:"text-sm text-gray-700",children:"Auto-link to client record"})]}),n.jsx("button",{onClick:S,disabled:o,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:opacity-50",children:o?"Sending...":"Send Email"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Send SMS / WhatsApp"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Type"}),n.jsxs("select",{value:u.messageType,onChange:k=>h(A=>({...A,messageType:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[n.jsx("option",{value:"sms",children:"📱 SMS Message"}),n.jsx("option",{value:"whatsapp",children:"💬 WhatsApp Message"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To (Phone)"}),n.jsx("input",{type:"tel",value:u.to,onChange:k=>h(A=>({...A,to:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+43 123 456 7890"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:u.content,onChange:k=>h(A=>({...A,content:k.target.value})),rows:4,maxLength:u.messageType==="whatsapp"?4096:160,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:u.messageType==="whatsapp"?"WhatsApp message (4096 characters max)":"SMS message (160 characters max)"}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[u.content.length,"/",u.messageType==="whatsapp"?"4096":"160"," characters"]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"autoLinkSMS",checked:u.autoLinkClient,onChange:k=>h(A=>({...A,autoLinkClient:k.target.checked})),className:"mr-2"}),n.jsx("label",{htmlFor:"autoLinkSMS",className:"text-sm text-gray-700",children:"Auto-link to client record"})]}),n.jsx("button",{onClick:N,disabled:o,className:`w-full text-white py-2 px-4 rounded-md hover:opacity-80 disabled:opacity-50 ${u.messageType==="whatsapp","bg-green-600 hover:bg-green-700"}`,children:o?"Sending...":`Send ${u.messageType==="whatsapp"?"WhatsApp":"SMS"}`})]})]})]}),e==="bulk"&&n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-2xl",children:[n.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Bulk SMS Campaign"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),n.jsxs("select",{value:p.targetType,onChange:k=>f(A=>({...A,targetType:k.target.value,targetPreview:[]})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[n.jsx("option",{value:"all",children:"All Clients"}),n.jsx("option",{value:"leads",children:"Leads Only"}),n.jsx("option",{value:"clients",children:"Active Clients Only"})]})]}),n.jsxs("div",{children:[n.jsx("button",{onClick:w,className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Preview Recipients"}),p.targetPreview.length>0&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Found ",p.targetPreview.length," recipients with phone numbers"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message (use ","{name}"," for personalization)"]}),n.jsx("textarea",{value:p.content,onChange:k=>f(A=>({...A,content:k.target.value})),rows:4,maxLength:160,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Hello {name}, special offer just for you!"}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[p.content.length,"/160 characters"]})]}),n.jsx("button",{onClick:C,disabled:o||p.targetPreview.length===0,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-md hover:bg-orange-700 disabled:opacity-50",children:o?"Sending...":`Send to ${p.targetPreview.length} Recipients`})]})]}),e==="history"&&n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h2",{className:"text-xl font-bold text-purple-900",children:"Communication History"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject/Content"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipient"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(k=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.messageType==="email"?"bg-blue-100 text-blue-800":k.messageType==="whatsapp"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.messageType==="email"?"📧 EMAIL":k.messageType==="whatsapp"?"💬 WHATSAPP":"📱 SMS"})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.messageType==="email"?k.subject:k.messageType==="whatsapp"?"WhatsApp Message":"SMS Message"}),n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:k.content})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:k.clientName?`${k.clientName}`:"Unknown"}),n.jsx("div",{className:"text-sm text-gray-500",children:k.clientEmail||k.phoneNumber})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.status==="sent"?"bg-green-100 text-green-800":k.status==="failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:k.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.sentAt?new Date(k.sentAt).toLocaleDateString():"N/A"})]},k.id))})]})})]}),e==="test"&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Test Email Configuration"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Email Address"}),n.jsx("input",{type:"email",value:y,onChange:k=>g(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"test@example.com"})]}),n.jsx("button",{onClick:L,disabled:o,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:opacity-50",children:o?"Sending...":"Send Test Email"}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("p",{children:"This will send a test email to verify your SMTP configuration."}),n.jsx("p",{className:"mt-2",children:"Configure SMTP settings in your Heroku Config Vars:"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 text-xs",children:[n.jsx("li",{children:"SMTP_HOST"}),n.jsx("li",{children:"SMTP_PORT"}),n.jsx("li",{children:"SMTP_USER"}),n.jsx("li",{children:"SMTP_PASS"})]})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold text-purple-900 mb-4",children:"Vonage SMS/WhatsApp Setup"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-green-600 font-medium",children:"✅ API Key Configured"})}),n.jsx("p",{className:"text-sm text-green-700 mt-1",children:"API Key: BPGlC0W6GktNXeO8"})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-yellow-600 font-medium",children:"⚠️ Setup Required"})}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Complete your Vonage setup:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-yellow-700 mt-2 space-y-1",children:[n.jsxs("li",{children:["Log into your ",n.jsx("a",{href:"https://dashboard.nexmo.com",target:"_blank",className:"underline",children:"Vonage Dashboard"})]}),n.jsx("li",{children:"Go to Settings → API Settings"}),n.jsx("li",{children:"Copy your API Secret"}),n.jsxs("li",{children:["Add these to your Heroku Config Vars:",n.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[n.jsx("li",{children:"VONAGE_API_SECRET=your-secret-here"}),n.jsx("li",{children:"VONAGE_PHONE_NUMBER=your-vonage-number"})]})]}),n.jsx("li",{children:'Click "Activate Vonage" below after adding the Config Vars'})]}),n.jsxs("div",{className:"mt-4 pt-3 border-t border-yellow-300",children:[n.jsx("button",{onClick:async()=>{l(!0);try{const A=await(await fetch("/api/communications/sms-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"vonage",apiKey:"BPGlC0W6GktNXeO8",apiSecret:"from-env",fromNumber:"TogNinja CRM"})})).json();A.success?(alert("✅ Vonage activated successfully! SMS and WhatsApp messaging is now enabled."),checkSMSConfig()):alert(`❌ Activation failed: ${A.error}`)}catch(k){alert(`❌ Error activating Vonage: ${k}`)}finally{l(!1)}},disabled:o,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50",children:o?"Activating...":"🚀 Activate Vonage Configuration"}),n.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Only click after adding VONAGE_API_SECRET to your Heroku Config Vars"})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:"💡 Features Available"})}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-blue-700 mt-2 space-y-1",children:[n.jsx("li",{children:"📱 SMS messaging to any phone number"}),n.jsx("li",{children:"💬 WhatsApp Business messaging"}),n.jsx("li",{children:"🔗 Auto-link messages to client records"}),n.jsx("li",{children:"📊 Bulk messaging campaigns"}),n.jsx("li",{children:"📈 Delivery tracking and reporting"})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:n.jsxs("p",{children:[n.jsx("strong",{children:"Security Note:"})," Your API credentials are stored securely in Heroku Config Vars and never exposed in the code."]})})]})]})]})]})})},j$e=()=>{const{token:e}=Uo(),t=En(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,h]=_.useState(null),[p,f]=_.useState({clientName:"",clientEmail:"",answers:{}});_.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{i(!0);const S=await fetch(`/api/questionnaire/${e}`);if(!S.ok)throw new Error("Questionnaire not found or expired");const N=await S.json();s(N),f(w=>({...w,clientName:N.clientName||"",clientEmail:N.clientEmail||""})),N.isUsed&&h("This questionnaire has already been completed.")}catch(S){h(S instanceof Error?S.message:"Failed to load questionnaire")}finally{i(!1)}},g=(S,N)=>{f(w=>({...w,answers:{...w.answers,[S]:N}}))},v=async S=>{if(S.preventDefault(),!r)return;const w=r.survey.pages.flatMap(C=>C.questions).filter(C=>C.required);for(const C of w)if(!p.answers[C.id]){h(`Please answer: ${C.title}`);return}if(!p.clientName.trim()||!p.clientEmail.trim()){h("Please provide your name and email address.");return}try{if(l(!0),h(null),!(await fetch("/api/email-questionnaire",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,clientName:p.clientName.trim(),clientEmail:p.clientEmail.trim(),answers:p.answers})})).ok)throw new Error("Failed to submit questionnaire");d(!0)}catch(C){h(C instanceof Error?C.message:"Failed to submit questionnaire")}finally{l(!1)}},b=S=>{const N=p.answers[S.id]||"";switch(S.type){case"single_choice":return n.jsx("div",{className:"space-y-2",children:S.options?.map(w=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"radio",name:S.id,value:w.id,checked:N===w.id,onChange:C=>g(S.id,C.target.value),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm",children:w.text})]},w.id))});case"long_text":return n.jsx("textarea",{value:N,onChange:w=>g(S.id,w.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your answer..."});case"text":default:return n.jsx("input",{type:"text",value:N,onChange:w=>g(S.id,w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your answer..."})}};return a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading questionnaire..."})]})}):c?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[n.jsx(Fr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Vielen Dank!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:r?.survey.settings.thankYouMessage||"Your questionnaire has been submitted successfully. We will be in touch soon!"}),n.jsx("button",{onClick:()=>t("/"),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Return to Home"})]})}):u||!r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[n.jsx(Zr,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Error"}),n.jsx("p",{className:"text-gray-600 mb-6",children:u||"Questionnaire not found"}),n.jsx("button",{onClick:()=>t("/"),className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors",children:"Return to Home"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("meta",{name:"robots",content:"noindex, nofollow"}),n.jsx("div",{className:"max-w-2xl mx-auto py-8 px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.survey.title}),r.survey.description&&n.jsx("p",{className:"text-gray-600",children:r.survey.description})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",value:p.clientName,onChange:S=>f(N=>({...N,clientName:S.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",value:p.clientEmail,onChange:S=>f(N=>({...N,clientEmail:S.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com"})]})]})]}),r.survey.pages.map(S=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 border-b pb-2",children:S.title}),S.questions.map(N=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[N.title,N.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),b(N)]},N.id))]},S.id)),u&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx(Zr,{className:"h-5 w-5 text-red-400"}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-700",children:u})})]})}),n.jsx("div",{className:"flex gap-4",children:n.jsx("button",{type:"submit",disabled:o,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:o?n.jsxs(n.Fragment,{children:[n.jsx(zr,{className:"h-5 w-5 animate-spin mr-2"}),"Sending..."]}):"Submit Questionnaire"})})]})]})})]})};function N$e(){return n.jsx(HQ,{client:sJ,children:n.jsx(dJ,{children:n.jsx(uJ,{children:n.jsx(cJ,{children:n.jsx(fJ,{children:n.jsx(mJ,{children:n.jsxs(yQ,{children:[n.jsxs(vQ,{children:[n.jsx(gt,{path:"/",element:n.jsx(u5,{})}),n.jsx(gt,{path:"/fotoshootings",element:n.jsx(ete,{})}),n.jsx(gt,{path:"/fotoshootings/business",element:n.jsx(f$e,{})}),n.jsx(gt,{path:"/fotoshootings/event",element:n.jsx(m$e,{})}),n.jsx(gt,{path:"/fotoshootings/wedding",element:n.jsx(p$e,{})}),n.jsx(gt,{path:"/gutschein",element:n.jsx(tte,{})}),n.jsx(gt,{path:"/gutschein/family",element:n.jsx(d$e,{})}),n.jsx(gt,{path:"/gutschein/newborn",element:n.jsx(u$e,{})}),n.jsx(gt,{path:"/gutschein/maternity",element:n.jsx(h$e,{})}),n.jsx(gt,{path:"/blog",element:n.jsx(rte,{})}),n.jsx(gt,{path:"/blog/:slug",element:n.jsx(Xte,{})}),n.jsx(gt,{path:"/warteliste",element:n.jsx(Qte,{})}),n.jsx(gt,{path:"/kontakt",element:n.jsx(Jte,{})}),n.jsx(gt,{path:"/vouchers",element:n.jsx(tre,{})}),n.jsx(gt,{path:"/voucher/:slug",element:n.jsx(rre,{})}),n.jsx(gt,{path:"/vouchers/checkout/:id",element:n.jsx(Ine,{})}),n.jsx(gt,{path:"/vouchers/success",element:n.jsx(Mne,{})}),n.jsx(gt,{path:"/checkout",element:n.jsx(qP,{})}),n.jsx(gt,{path:"/checkout/:id",element:n.jsx(qP,{})}),n.jsx(gt,{path:"/checkout/success",element:n.jsx(WP,{})}),n.jsx(gt,{path:"/checkout/mock-success",element:n.jsx(zD,{})}),n.jsx(gt,{path:"/demo-success",element:n.jsx(zD,{})}),n.jsx(gt,{path:"/order-complete/:id",element:n.jsx(WP,{})}),"                ",n.jsx(gt,{path:"/account",element:n.jsx(Bne,{})}),n.jsx(gt,{path:"/account/profile",element:n.jsx(zne,{})}),n.jsx(gt,{path:"/cart",element:n.jsx(c$e,{})}),n.jsx(gt,{path:"/galleries",element:n.jsx(BD,{})}),n.jsx(gt,{path:"/galerie",element:n.jsx(BD,{})}),n.jsx(gt,{path:"/gallery/:slug",element:n.jsx($D,{})}),n.jsx(gt,{path:"/gallery",element:n.jsx(l$e,{children:n.jsx($D,{})})}),n.jsx(gt,{path:"/survey-demo",element:n.jsx(J9e,{})}),n.jsx(gt,{path:"/survey/:id",element:n.jsx(e$e,{})}),n.jsx(gt,{path:"/q/:token",element:n.jsx(j$e,{})}),n.jsx(gt,{path:"/download-data",element:n.jsx(b$e,{})}),n.jsx(gt,{path:"/admin/login",element:n.jsx(t3e,{})}),n.jsx(gt,{path:"/admin/supabase-login",element:n.jsx(Qke,{})}),n.jsx(gt,{path:"/admin/dev",element:n.jsx(Xke,{})}),n.jsx(gt,{path:"/admin",element:n.jsx(Lr,{children:n.jsx(nL,{})})}),n.jsx(gt,{path:"/admin/dashboard",element:n.jsx(Lr,{children:n.jsx(nL,{})})}),n.jsx(gt,{path:"/admin/leads",element:n.jsx(Lr,{children:n.jsx(a3e,{})})}),n.jsx(gt,{path:"/admin/voucher-sales",element:n.jsx(Lr,{children:n.jsx(oOe,{})})}),n.jsx(gt,{path:"/admin/clients",element:n.jsx(Lr,{children:n.jsx(mOe,{})})}),n.jsx(gt,{path:"/admin/clients/new",element:n.jsx(Lr,{children:n.jsx(aS,{})})}),n.jsx(gt,{path:"/admin/clients/:id",element:n.jsx(Lr,{children:n.jsx(xOe,{})})}),n.jsx(gt,{path:"/admin/clients/:id/edit",element:n.jsx(Lr,{children:n.jsx(aS,{})})}),n.jsx(gt,{path:"/admin/clients/import",element:n.jsx(Lr,{children:n.jsx(vOe,{})})}),n.jsx(gt,{path:"/admin/clients/import-logs",element:n.jsx(Lr,{children:n.jsx(wOe,{})})}),n.jsx(gt,{path:"/admin/high-value-clients",element:n.jsx(Lr,{children:n.jsx(jOe,{})})}),n.jsx(gt,{path:"/admin/galleries",element:n.jsx(Lr,{children:n.jsx(NOe,{})})}),n.jsx(gt,{path:"/admin/galleries/new",element:n.jsx(Lr,{children:n.jsx(ROe,{})})}),n.jsx(gt,{path:"/admin/galleries/:id/edit",element:n.jsx(Lr,{children:n.jsx($Oe,{})})}),n.jsx(gt,{path:"/admin/galleries/:id",element:n.jsx(Lr,{children:n.jsx(GOe,{})})}),n.jsx(gt,{path:"/admin/calendar",element:n.jsx(Lr,{children:n.jsx(FD,{})})}),n.jsx(gt,{path:"/admin/invoices",element:n.jsx(Lr,{children:n.jsx(y9e,{})})}),n.jsx(gt,{path:"/admin/files",element:n.jsx(Lr,{children:n.jsx(ID,{})})}),n.jsx(gt,{path:"/admin/digital-files",element:n.jsx(Lr,{children:n.jsx(ID,{})})}),n.jsx(gt,{path:"/admin/campaigns",element:n.jsx(Lr,{children:n.jsx(MD,{})})}),n.jsx(gt,{path:"/admin/email-campaigns",element:n.jsx(Lr,{children:n.jsx(MD,{})})}),n.jsx(gt,{path:"/admin/inbox",element:n.jsx(Lr,{children:n.jsx($9e,{})})}),n.jsx(gt,{path:"/admin/communications",element:n.jsx(Lr,{children:n.jsx(w$e,{})})}),n.jsx(gt,{path:"/admin/questionnaires",element:n.jsx(Lr,{children:n.jsx(U9e,{})})}),n.jsx(gt,{path:"/admin/reports",element:n.jsx(Lr,{children:n.jsx(V9e,{})})}),n.jsx(gt,{path:"/admin/crm-assistant",element:n.jsx(Lr,{children:n.jsx(a$e,{})})}),n.jsx(gt,{path:"/admin/knowledge-base",element:n.jsx(Lr,{children:n.jsx(s$e,{})})}),n.jsx(gt,{path:"/admin/settings",element:n.jsx(Lr,{children:n.jsx(q9e,{})})}),n.jsx(gt,{path:"/admin/customization",element:n.jsx(Lr,{children:n.jsx(H9e,{})})}),n.jsx(gt,{path:"/admin/studio-templates",element:n.jsx(Lr,{children:n.jsx(K9e,{})})}),n.jsx(gt,{path:"/admin/website-wizard",element:n.jsx(Lr,{children:n.jsx(Y9e,{})})}),n.jsx(gt,{path:"/admin/website-analyzer",element:n.jsx(Lr,{children:n.jsx(o$e,{})})}),n.jsx(gt,{path:"/",element:n.jsx(u5,{})}),n.jsx(gt,{path:"/home",element:n.jsx(u5,{})}),n.jsx(gt,{path:"/admin/calendar",element:n.jsx(Lr,{children:n.jsx(FD,{})})}),n.jsx(gt,{path:"/admin/calendar-test",element:n.jsx(Lr,{children:n.jsx(W9e,{})})}),n.jsx(gt,{path:"/admin/studio-calendar",element:n.jsx(aA,{to:"/admin/calendar",replace:!0})}),n.jsx(gt,{path:"/admin/blog",element:n.jsx(Lr,{children:n.jsx(RD,{})})}),n.jsx(gt,{path:"/admin/blog/posts",element:n.jsx(Lr,{children:n.jsx(RD,{})})}),n.jsx(gt,{path:"/admin/blog/new",element:n.jsx(Lr,{children:n.jsx(r$e,{})})}),n.jsx(gt,{path:"/admin/blog/edit/:id",element:n.jsx(Lr,{children:n.jsx(n$e,{})})}),n.jsx(gt,{path:"/admin/clients/new",element:n.jsx(Lr,{children:n.jsx(aS,{})})}),n.jsx(gt,{path:"/gallery-shop-test",element:n.jsx(v$e,{})})]}),n.jsx(x$e,{})]})})})})})})})}{const e=console.error;console.error=(...t)=>{fetch("/api/client-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:t.join(" "),timestamp:new Date().toISOString()})}).catch(()=>{}),e.apply(console,t)}}window.addEventListener("load",()=>{document.body.style.pointerEvents="auto",document.body.style.userSelect="auto",document.body.style.overflow="auto",document.documentElement.style.overflow="auto"});const UD=()=>{try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");HF(e).render(n.jsx(_.StrictMode,{children:n.jsx(N$e,{})}))}catch(e){console.error("Failed to initialize app:",e);const t=document.getElementById("root");t&&(t.innerHTML=`
        <div style="
          display: flex; 
          align-items: center; 
          justify-content: center; 
          min-height: 100vh; 
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          text-align: center;
          font-family: system-ui, -apple-system, sans-serif;
        ">
          <div style="
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
          ">
            <h1 style="margin: 0 0 20px 0; font-size: 2rem;">NEW AGE FOTOGRAFIE</h1>
            <p style="margin: 0 0 20px 0;">Lade Anwendung...</p>
            <p style="margin: 0; opacity: 0.8;">
              Bei Problemen kontaktieren Sie uns: 
              <a href="mailto:hallo@newagefotografie.com" style="color: #fff;">hallo@newagefotografie.com</a>
            </p>
          </div>
        </div>
      `,setTimeout(()=>window.location.reload(),3e3))}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",UD):UD();export{jn as _};
