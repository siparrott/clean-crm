const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CPdF69_d.js","assets/vendor-DZkXyRe8.js","assets/router-5hN9ru4p.js"])))=>i.map(i=>d[i]);
var LQ=Object.defineProperty;var iP=e=>{throw TypeError(e)};var IQ=(e,t,r)=>t in e?LQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qe=(e,t,r)=>IQ(e,typeof t!="symbol"?t+"":t,r),c5=(e,t,r)=>t.has(e)||iP("Cannot "+r);var Ce=(e,t,r)=>(c5(e,t,"read from private field"),r?r.call(e):t.get(e)),Ht=(e,t,r)=>t.has(e)?iP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Nt=(e,t,r,s)=>(c5(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Er=(e,t,r)=>(c5(e,t,"access private method"),r);var $b=(e,t,r,s)=>({set _(a){Nt(e,t,a,r)},get _(){return Ce(e,t,s)}});import{r as _,a as Ov,c as ul,g as pn,b as ye,R as D7,d as MQ}from"./vendor-DZkXyRe8.js";import{u as u6,L as Gt,a as Jn,b as DQ,c as yl,N as R7,B as RQ,R as FQ,d as pt}from"./router-5hN9ru4p.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var F7={exports:{}},qw={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Q=_,BQ=Symbol.for("react.element"),zQ=Symbol.for("react.fragment"),UQ=Object.prototype.hasOwnProperty,qQ=$Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VQ={key:!0,ref:!0,__self:!0,__source:!0};function $7(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)UQ.call(t,s)&&!VQ.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:BQ,type:e,key:i,ref:o,props:a,_owner:qQ.current}}qw.Fragment=zQ;qw.jsx=$7;qw.jsxs=$7;F7.exports=qw;var n=F7.exports,B7,oP=Ov;B7=oP.createRoot,oP.hydrateRoot;var kx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pm=typeof window>"u"||"Deno"in globalThis;function Ei(){}function WQ(e,t){return typeof e=="function"?e(t):e}function X_(e){return typeof e=="number"&&e>=0&&e!==1/0}function z7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Th(e,t){return typeof e=="function"?e(t):e}function cl(e,t){return typeof e=="function"?e(t):e}function lP(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==d6(o,t.options))return!1}else if(!Py(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function cP(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Em(t.options.mutationKey)!==Em(i))return!1}else if(!Py(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function d6(e,t){return(t?.queryKeyHashFn||Em)(e)}function Em(e){return JSON.stringify(e,(t,r)=>Q_(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Py(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Py(e[r],t[r])):!1}function U7(e,t){if(e===t)return e;const r=uP(e)&&uP(t);if(r||Q_(e)&&Q_(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let u=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&c.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=U7(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Z1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function uP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Q_(e){if(!dP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!dP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function dP(e){return Object.prototype.toString.call(e)==="[object Object]"}function HQ(e){return new Promise(t=>{setTimeout(t,e)})}function J_(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?U7(e,t):t}function GQ(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function KQ(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var h6=Symbol();function q7(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===h6?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function V7(e,t){return typeof e=="function"?e(...t):!!e}var hm,xh,Ag,DD,YQ=(DD=class extends kx{constructor(){super();Ht(this,hm);Ht(this,xh);Ht(this,Ag);Nt(this,Ag,t=>{if(!Pm&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ce(this,xh)||this.setEventListener(Ce(this,Ag))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,xh))==null||t.call(this),Nt(this,xh,void 0))}setEventListener(t){var r;Nt(this,Ag,t),(r=Ce(this,xh))==null||r.call(this),Nt(this,xh,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){Ce(this,hm)!==t&&(Nt(this,hm,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){return typeof Ce(this,hm)=="boolean"?Ce(this,hm):globalThis.document?.visibilityState!=="hidden"}},hm=new WeakMap,xh=new WeakMap,Ag=new WeakMap,DD),f6=new YQ,kg,yh,Cg,RD,ZQ=(RD=class extends kx{constructor(){super();Ht(this,kg,!0);Ht(this,yh);Ht(this,Cg);Nt(this,Cg,t=>{if(!Pm&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){Ce(this,yh)||this.setEventListener(Ce(this,Cg))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,yh))==null||t.call(this),Nt(this,yh,void 0))}setEventListener(t){var r;Nt(this,Cg,t),(r=Ce(this,yh))==null||r.call(this),Nt(this,yh,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,kg)!==t&&(Nt(this,kg,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return Ce(this,kg)}},kg=new WeakMap,yh=new WeakMap,Cg=new WeakMap,RD),X1=new ZQ;function eS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function XQ(e){return Math.min(1e3*2**e,3e4)}function W7(e){return(e??"online")==="online"?X1.isOnline():!0}var H7=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function G7(e){let t=!1,r=0,s;const a=eS(),i=()=>a.status!=="pending",o=g=>{i()||(p(new H7(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>f6.isFocused()&&(e.networkMode==="always"||X1.isOnline())&&e.canRun(),d=()=>W7(e.networkMode)&&e.canRun(),h=g=>{i()||(s?.(),a.resolve(g))},p=g=>{i()||(s?.(),a.reject(g))},f=()=>new Promise(g=>{s=v=>{(i()||u())&&g(v)},e.onPause?.()}).then(()=>{s=void 0,i()||e.onContinue?.()}),x=()=>{if(i())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{if(i())return;const j=e.retry??(Pm?0:3),N=e.retryDelay??XQ,A=typeof N=="function"?N(r,b):N,S=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,b);if(t||!S){p(b);return}r++,e.onFail?.(r,b),HQ(A).then(()=>u()?void 0:f()).then(()=>{t?p(b):x()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(s?.(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():f().then(x),a)}}var QQ=e=>setTimeout(e,0);function JQ(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=QQ;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var xa=JQ(),fm,FD,K7=(FD=class{constructor(){Ht(this,fm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X_(this.gcTime)&&Nt(this,fm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pm?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,fm)&&(clearTimeout(Ce(this,fm)),Nt(this,fm,void 0))}},fm=new WeakMap,FD),Pg,Eg,ol,mm,ka,Cv,pm,Wl,Mu,$D,eJ=($D=class extends K7{constructor(t){super();Ht(this,Wl);Ht(this,Pg);Ht(this,Eg);Ht(this,ol);Ht(this,mm);Ht(this,ka);Ht(this,Cv);Ht(this,pm);Nt(this,pm,!1),Nt(this,Cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],Nt(this,mm,t.client),Nt(this,ol,Ce(this,mm).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Nt(this,Pg,tJ(this.options)),this.state=t.state??Ce(this,Pg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return Ce(this,ka)?.promise}setOptions(t){this.options={...Ce(this,Cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,ol).remove(this)}setData(t,r){const s=J_(this.state.data,t,this.options);return Er(this,Wl,Mu).call(this,{data:s,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),s}setState(t,r){Er(this,Wl,Mu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){const r=Ce(this,ka)?.promise;return Ce(this,ka)?.cancel(t),r?r.then(Ei).catch(Ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Pg))}isActive(){return this.observers.some(t=>cl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Th(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!z7(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),Ce(this,ka)?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),Ce(this,ka)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,ol).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ce(this,ka)&&(Ce(this,pm)?Ce(this,ka).cancel({revert:!0}):Ce(this,ka).cancelRetry()),this.scheduleGc()),Ce(this,ol).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Er(this,Wl,Mu).call(this,{type:"invalidate"})}async fetch(t,r){if(this.state.fetchStatus!=="idle"&&Ce(this,ka)?.status()!=="rejected"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(Ce(this,ka))return Ce(this,ka).continueRetry(),Ce(this,ka).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,a=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(Nt(this,pm,!0),s.signal)})},i=()=>{const c=q7(this.options,r),d=(()=>{const h={client:Ce(this,mm),queryKey:this.queryKey,meta:this.meta};return a(h),h})();return Nt(this,pm,!1),this.options.persister?this.options.persister(c,d,this):c(d)},l=(()=>{const c={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ce(this,mm),state:this.state,fetchFn:i};return a(c),c})();this.options.behavior?.onFetch(l,this),Nt(this,Eg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&Er(this,Wl,Mu).call(this,{type:"fetch",meta:l.fetchOptions?.meta}),Nt(this,ka,G7({initialPromise:r?.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onFail:(c,u)=>{Er(this,Wl,Mu).call(this,{type:"failed",failureCount:c,error:u})},onPause:()=>{Er(this,Wl,Mu).call(this,{type:"pause"})},onContinue:()=>{Er(this,Wl,Mu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const c=await Ce(this,ka).start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),Ce(this,ol).config.onSuccess?.(c,this),Ce(this,ol).config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof H7){if(c.silent)return Ce(this,ka).promise;if(c.revert){if(this.setState({...Ce(this,Eg),fetchStatus:"idle"}),this.state.data===void 0)throw c;return this.state.data}}throw Er(this,Wl,Mu).call(this,{type:"error",error:c}),Ce(this,ol).config.onError?.(c,this),Ce(this,ol).config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}},Pg=new WeakMap,Eg=new WeakMap,ol=new WeakMap,mm=new WeakMap,ka=new WeakMap,Cv=new WeakMap,pm=new WeakMap,Wl=new WeakSet,Mu=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y7(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Nt(this,Eg,t.manual?a:void 0),a;case"error":const i=t.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),xa.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ce(this,ol).notify({query:this,type:"updated",action:t})})},$D);function Y7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mc,BD,rJ=(BD=class extends kx{constructor(t={}){super();Ht(this,Mc);this.config=t,Nt(this,Mc,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??d6(a,r);let o=this.get(i);return o||(o=new eJ({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){Ce(this,Mc).has(t.queryHash)||(Ce(this,Mc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ce(this,Mc).get(t.queryHash);r&&(t.destroy(),r===t&&Ce(this,Mc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,Mc).get(t)}getAll(){return[...Ce(this,Mc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>lP(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>lP(t,s)):r}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mc=new WeakMap,BD),Dc,ki,gm,Rc,oh,zD,nJ=(zD=class extends K7{constructor(t){super();Ht(this,Rc);Ht(this,Dc);Ht(this,ki);Ht(this,gm);this.mutationId=t.mutationId,Nt(this,ki,t.mutationCache),Nt(this,Dc,[]),this.state=t.state||Z7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,Dc).includes(t)||(Ce(this,Dc).push(t),this.clearGcTimeout(),Ce(this,ki).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Nt(this,Dc,Ce(this,Dc).filter(r=>r!==t)),this.scheduleGc(),Ce(this,ki).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,Dc).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,ki).remove(this))}continue(){return Ce(this,gm)?.continue()??this.execute(this.state.variables)}async execute(t){const r=()=>{Er(this,Rc,oh).call(this,{type:"continue"})};Nt(this,gm,G7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{Er(this,Rc,oh).call(this,{type:"failed",failureCount:i,error:o})},onPause:()=>{Er(this,Rc,oh).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,ki).canRun(this)}));const s=this.state.status==="pending",a=!Ce(this,gm).canStart();try{if(s)r();else{Er(this,Rc,oh).call(this,{type:"pending",variables:t,isPaused:a}),await Ce(this,ki).config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&Er(this,Rc,oh).call(this,{type:"pending",context:o,variables:t,isPaused:a})}const i=await Ce(this,gm).start();return await Ce(this,ki).config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await Ce(this,ki).config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),Er(this,Rc,oh).call(this,{type:"success",data:i}),i}catch(i){try{throw await Ce(this,ki).config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await Ce(this,ki).config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{Er(this,Rc,oh).call(this,{type:"error",error:i})}}finally{Ce(this,ki).runNext(this)}}},Dc=new WeakMap,ki=new WeakMap,gm=new WeakMap,Rc=new WeakSet,oh=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xa.batch(()=>{Ce(this,Dc).forEach(s=>{s.onMutationUpdate(t)}),Ce(this,ki).notify({mutation:this,type:"updated",action:t})})},zD);function Z7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bu,Hl,Pv,UD,sJ=(UD=class extends kx{constructor(t={}){super();Ht(this,Bu);Ht(this,Hl);Ht(this,Pv);this.config=t,Nt(this,Bu,new Set),Nt(this,Hl,new Map),Nt(this,Pv,0)}build(t,r,s){const a=new nJ({mutationCache:this,mutationId:++$b(this,Pv)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){Ce(this,Bu).add(t);const r=Bb(t);if(typeof r=="string"){const s=Ce(this,Hl).get(r);s?s.push(t):Ce(this,Hl).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,Bu).delete(t)){const r=Bb(t);if(typeof r=="string"){const s=Ce(this,Hl).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&Ce(this,Hl).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Bb(t);if(typeof r=="string"){const a=Ce(this,Hl).get(r)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const r=Bb(t);return typeof r=="string"?Ce(this,Hl).get(r)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){xa.batch(()=>{Ce(this,Bu).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,Bu).clear(),Ce(this,Hl).clear()})}getAll(){return Array.from(Ce(this,Bu))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>cP(r,s))}findAll(t={}){return this.getAll().filter(r=>cP(t,r))}notify(t){xa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xa.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ei))))}},Bu=new WeakMap,Hl=new WeakMap,Pv=new WeakMap,UD);function Bb(e){return e.options.scope?.id}function hP(e){return{onFetch:(t,r)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},p=q7(t.options,t.fetchOptions),f=async(x,g,v)=>{if(d)return Promise.reject();if(g==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};return h(L),L})(),N=await p(j),{maxPages:A}=t.options,S=v?KQ:GQ;return{pages:S(x.pages,N,A),pageParams:S(x.pageParams,g,A)}};if(a&&i.length){const x=a==="backward",g=x?aJ:fP,v={pages:i,pageParams:o},b=g(s,v);l=await f(v,b,x)}else{const x=e??i.length;do{const g=c===0?o[0]??s.initialPageParam:fP(s,l);if(c>0&&g==null)break;l=await f(l,g),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function fP(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function aJ(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var ks,vh,bh,Tg,Og,wh,Lg,Ig,qD,iJ=(qD=class{constructor(e={}){Ht(this,ks);Ht(this,vh);Ht(this,bh);Ht(this,Tg);Ht(this,Og);Ht(this,wh);Ht(this,Lg);Ht(this,Ig);Nt(this,ks,e.queryCache||new rJ),Nt(this,vh,e.mutationCache||new sJ),Nt(this,bh,e.defaultOptions||{}),Nt(this,Tg,new Map),Nt(this,Og,new Map),Nt(this,wh,0)}mount(){$b(this,wh)._++,Ce(this,wh)===1&&(Nt(this,Lg,f6.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,ks).onFocus())})),Nt(this,Ig,X1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,ks).onOnline())})))}unmount(){var e,t;$b(this,wh)._--,Ce(this,wh)===0&&((e=Ce(this,Lg))==null||e.call(this),Nt(this,Lg,void 0),(t=Ce(this,Ig))==null||t.call(this),Nt(this,Ig,void 0))}isFetching(e){return Ce(this,ks).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,vh).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return Ce(this,ks).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ce(this,ks).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Th(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return Ce(this,ks).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=Ce(this,ks).get(s.queryHash)?.state.data,o=WQ(t,i);if(o!==void 0)return Ce(this,ks).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xa.batch(()=>Ce(this,ks).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return Ce(this,ks).get(t.queryHash)?.state}removeQueries(e){const t=Ce(this,ks);xa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ce(this,ks);return xa.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=xa.batch(()=>Ce(this,ks).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Ei).catch(Ei)}invalidateQueries(e,t={}){return xa.batch(()=>(Ce(this,ks).findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=xa.batch(()=>Ce(this,ks).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ei)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ei)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ce(this,ks).build(this,t);return r.isStaleByTime(Th(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ei).catch(Ei)}fetchInfiniteQuery(e){return e.behavior=hP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ei).catch(Ei)}ensureInfiniteQueryData(e){return e.behavior=hP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return X1.isOnline()?Ce(this,vh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,ks)}getMutationCache(){return Ce(this,vh)}getDefaultOptions(){return Ce(this,bh)}setDefaultOptions(e){Nt(this,bh,e)}setQueryDefaults(e,t){Ce(this,Tg).set(Em(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,Tg).values()],r={};return t.forEach(s=>{Py(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){Ce(this,Og).set(Em(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Og).values()],r={};return t.forEach(s=>{Py(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,bh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=d6(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===h6&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...Ce(this,bh).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,ks).clear(),Ce(this,vh).clear()}},ks=new WeakMap,vh=new WeakMap,bh=new WeakMap,Tg=new WeakMap,Og=new WeakMap,wh=new WeakMap,Lg=new WeakMap,Ig=new WeakMap,qD),Ki,Yr,Ev,Ci,xm,Mg,zu,jh,Tv,Dg,Rg,ym,vm,Nh,Fg,wn,Q0,tS,rS,nS,sS,aS,iS,oS,X7,VD,oJ=(VD=class extends kx{constructor(t,r){super();Ht(this,wn);Ht(this,Ki);Ht(this,Yr);Ht(this,Ev);Ht(this,Ci);Ht(this,xm);Ht(this,Mg);Ht(this,zu);Ht(this,jh);Ht(this,Tv);Ht(this,Dg);Ht(this,Rg);Ht(this,ym);Ht(this,vm);Ht(this,Nh);Ht(this,Fg,new Set);this.options=r,Nt(this,Ki,t),Nt(this,jh,null),Nt(this,zu,eS()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ce(this,Yr).addObserver(this),mP(Ce(this,Yr),this.options)?Er(this,wn,Q0).call(this):this.updateResult(),Er(this,wn,sS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lS(Ce(this,Yr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lS(Ce(this,Yr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Er(this,wn,aS).call(this),Er(this,wn,iS).call(this),Ce(this,Yr).removeObserver(this)}setOptions(t){const r=this.options,s=Ce(this,Yr);if(this.options=Ce(this,Ki).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cl(this.options.enabled,Ce(this,Yr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Er(this,wn,oS).call(this),Ce(this,Yr).setOptions(this.options),r._defaulted&&!Z1(this.options,r)&&Ce(this,Ki).getQueryCache().notify({type:"observerOptionsUpdated",query:Ce(this,Yr),observer:this});const a=this.hasListeners();a&&pP(Ce(this,Yr),s,this.options,r)&&Er(this,wn,Q0).call(this),this.updateResult(),a&&(Ce(this,Yr)!==s||cl(this.options.enabled,Ce(this,Yr))!==cl(r.enabled,Ce(this,Yr))||Th(this.options.staleTime,Ce(this,Yr))!==Th(r.staleTime,Ce(this,Yr)))&&Er(this,wn,tS).call(this);const i=Er(this,wn,rS).call(this);a&&(Ce(this,Yr)!==s||cl(this.options.enabled,Ce(this,Yr))!==cl(r.enabled,Ce(this,Yr))||i!==Ce(this,Nh))&&Er(this,wn,nS).call(this,i)}getOptimisticResult(t){const r=Ce(this,Ki).getQueryCache().build(Ce(this,Ki),t),s=this.createResult(r,t);return cJ(this,s)&&(Nt(this,Ci,s),Nt(this,Mg,this.options),Nt(this,xm,Ce(this,Yr).state)),s}getCurrentResult(){return Ce(this,Ci)}trackResult(t,r){return new Proxy(t,{get:(s,a)=>(this.trackProp(a),r?.(a),a==="promise"&&!this.options.experimental_prefetchInRender&&Ce(this,zu).status==="pending"&&Ce(this,zu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(s,a))})}trackProp(t){Ce(this,Fg).add(t)}getCurrentQuery(){return Ce(this,Yr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ce(this,Ki).defaultQueryOptions(t),s=Ce(this,Ki).getQueryCache().build(Ce(this,Ki),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Er(this,wn,Q0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ce(this,Ci)))}createResult(t,r){const s=Ce(this,Yr),a=this.options,i=Ce(this,Ci),o=Ce(this,xm),l=Ce(this,Mg),u=t!==s?t.state:Ce(this,Ev),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const E=this.hasListeners(),B=!E&&mP(t,r),C=E&&pP(t,s,r,a);(B||C)&&(h={...h,...Y7(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:v}=h;f=h.data;let b=!1;if(r.placeholderData!==void 0&&f===void 0&&v==="pending"){let E;i?.isPlaceholderData&&r.placeholderData===l?.placeholderData?(E=i.data,b=!0):E=typeof r.placeholderData=="function"?r.placeholderData(Ce(this,Rg)?.state.data,Ce(this,Rg)):r.placeholderData,E!==void 0&&(v="success",f=J_(i?.data,E,r),p=!0)}if(r.select&&f!==void 0&&!b)if(i&&f===o?.data&&r.select===Ce(this,Tv))f=Ce(this,Dg);else try{Nt(this,Tv,r.select),f=r.select(f),f=J_(i?.data,f,r),Nt(this,Dg,f),Nt(this,jh,null)}catch(E){Nt(this,jh,E)}Ce(this,jh)&&(x=Ce(this,jh),f=Ce(this,Dg),g=Date.now(),v="error");const j=h.fetchStatus==="fetching",N=v==="pending",A=v==="error",S=N&&j,L=f!==void 0,k={status:v,fetchStatus:h.fetchStatus,isPending:N,isSuccess:v==="success",isError:A,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:A&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&L,isStale:m6(t,r),refetch:this.refetch,promise:Ce(this,zu),isEnabled:cl(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},B=()=>{const O=Nt(this,zu,k.promise=eS());E(O)},C=Ce(this,zu);switch(C.status){case"pending":t.queryHash===s.queryHash&&E(C);break;case"fulfilled":(k.status==="error"||k.data!==C.value)&&B();break;case"rejected":(k.status!=="error"||k.error!==C.reason)&&B();break}}return k}updateResult(){const t=Ce(this,Ci),r=this.createResult(Ce(this,Yr),this.options);if(Nt(this,xm,Ce(this,Yr).state),Nt(this,Mg,this.options),Ce(this,xm).data!==void 0&&Nt(this,Rg,Ce(this,Yr)),Z1(r,t))return;Nt(this,Ci,r);const s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Ce(this,Fg).size)return!0;const o=new Set(i??Ce(this,Fg));return this.options.throwOnError&&o.add("error"),Object.keys(Ce(this,Ci)).some(l=>{const c=l;return Ce(this,Ci)[c]!==t[c]&&o.has(c)})};Er(this,wn,X7).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Er(this,wn,sS).call(this)}},Ki=new WeakMap,Yr=new WeakMap,Ev=new WeakMap,Ci=new WeakMap,xm=new WeakMap,Mg=new WeakMap,zu=new WeakMap,jh=new WeakMap,Tv=new WeakMap,Dg=new WeakMap,Rg=new WeakMap,ym=new WeakMap,vm=new WeakMap,Nh=new WeakMap,Fg=new WeakMap,wn=new WeakSet,Q0=function(t){Er(this,wn,oS).call(this);let r=Ce(this,Yr).fetch(this.options,t);return t?.throwOnError||(r=r.catch(Ei)),r},tS=function(){Er(this,wn,aS).call(this);const t=Th(this.options.staleTime,Ce(this,Yr));if(Pm||Ce(this,Ci).isStale||!X_(t))return;const s=z7(Ce(this,Ci).dataUpdatedAt,t)+1;Nt(this,ym,setTimeout(()=>{Ce(this,Ci).isStale||this.updateResult()},s))},rS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ce(this,Yr)):this.options.refetchInterval)??!1},nS=function(t){Er(this,wn,iS).call(this),Nt(this,Nh,t),!(Pm||cl(this.options.enabled,Ce(this,Yr))===!1||!X_(Ce(this,Nh))||Ce(this,Nh)===0)&&Nt(this,vm,setInterval(()=>{(this.options.refetchIntervalInBackground||f6.isFocused())&&Er(this,wn,Q0).call(this)},Ce(this,Nh)))},sS=function(){Er(this,wn,tS).call(this),Er(this,wn,nS).call(this,Er(this,wn,rS).call(this))},aS=function(){Ce(this,ym)&&(clearTimeout(Ce(this,ym)),Nt(this,ym,void 0))},iS=function(){Ce(this,vm)&&(clearInterval(Ce(this,vm)),Nt(this,vm,void 0))},oS=function(){const t=Ce(this,Ki).getQueryCache().build(Ce(this,Ki),this.options);if(t===Ce(this,Yr))return;const r=Ce(this,Yr);Nt(this,Yr,t),Nt(this,Ev,t.state),this.hasListeners()&&(r?.removeObserver(this),t.addObserver(this))},X7=function(t){xa.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ce(this,Ci))}),Ce(this,Ki).getQueryCache().notify({query:Ce(this,Yr),type:"observerResultsUpdated"})})},VD);function lJ(e,t){return cl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mP(e,t){return lJ(e,t)||e.state.data!==void 0&&lS(e,t,t.refetchOnMount)}function lS(e,t,r){if(cl(t.enabled,e)!==!1&&Th(t.staleTime,e)!=="static"){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&m6(e,t)}return!1}function pP(e,t,r,s){return(e!==t||cl(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&m6(e,r)}function m6(e,t){return cl(t.enabled,e)!==!1&&e.isStaleByTime(Th(t.staleTime,e))}function cJ(e,t){return!Z1(e.getCurrentResult(),t)}var _h,Sh,Yi,Uu,ed,k1,cS,WD,uJ=(WD=class extends kx{constructor(r,s){super();Ht(this,ed);Ht(this,_h);Ht(this,Sh);Ht(this,Yi);Ht(this,Uu);Nt(this,_h,r),this.setOptions(s),this.bindMethods(),Er(this,ed,k1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){const s=this.options;this.options=Ce(this,_h).defaultMutationOptions(r),Z1(this.options,s)||Ce(this,_h).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ce(this,Yi),observer:this}),s?.mutationKey&&this.options.mutationKey&&Em(s.mutationKey)!==Em(this.options.mutationKey)?this.reset():Ce(this,Yi)?.state.status==="pending"&&Ce(this,Yi).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||Ce(this,Yi)?.removeObserver(this)}onMutationUpdate(r){Er(this,ed,k1).call(this),Er(this,ed,cS).call(this,r)}getCurrentResult(){return Ce(this,Sh)}reset(){Ce(this,Yi)?.removeObserver(this),Nt(this,Yi,void 0),Er(this,ed,k1).call(this),Er(this,ed,cS).call(this)}mutate(r,s){return Nt(this,Uu,s),Ce(this,Yi)?.removeObserver(this),Nt(this,Yi,Ce(this,_h).getMutationCache().build(Ce(this,_h),this.options)),Ce(this,Yi).addObserver(this),Ce(this,Yi).execute(r)}},_h=new WeakMap,Sh=new WeakMap,Yi=new WeakMap,Uu=new WeakMap,ed=new WeakSet,k1=function(){const r=Ce(this,Yi)?.state??Z7();Nt(this,Sh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},cS=function(r){xa.batch(()=>{if(Ce(this,Uu)&&this.hasListeners()){const s=Ce(this,Sh).variables,a=Ce(this,Sh).context;r?.type==="success"?(Ce(this,Uu).onSuccess?.(r.data,s,a),Ce(this,Uu).onSettled?.(r.data,null,s,a)):r?.type==="error"&&(Ce(this,Uu).onError?.(r.error,s,a),Ce(this,Uu).onSettled?.(void 0,r.error,s,a))}this.listeners.forEach(s=>{s(Ce(this,Sh))})})},WD),Q7=_.createContext(void 0),p6=e=>{const t=_.useContext(Q7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dJ=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Q7.Provider,{value:e,children:t})),J7=_.createContext(!1),hJ=()=>_.useContext(J7);J7.Provider;function fJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mJ=_.createContext(fJ()),pJ=()=>_.useContext(mJ),gJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xJ=e=>{_.useEffect(()=>{e.clearReset()},[e])},yJ=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||V7(r,[e.error,s])),vJ=e=>{if(e.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bJ=(e,t)=>e.isLoading&&e.isFetching&&!t,wJ=(e,t)=>e?.suspense&&t.isPending,gP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jJ(e,t,r){const s=hJ(),a=pJ(),i=p6(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",vJ(o),gJ(o,a),xJ(a);const l=!i.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(h=>{const p=d?c.subscribe(xa.batchCalls(h)):Ei;return c.updateResult(),p},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o)},[o,c]),wJ(o,u))throw gP(o,c,a);if(yJ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Pm&&bJ(u,s)&&(l?gP(o,c,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(Ei).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function oy(e,t){return jJ(e,oJ)}function J0(e,t){const r=p6(),[s]=_.useState(()=>new uJ(r,e));_.useEffect(()=>{s.setOptions(e)},[s,e]);const a=_.useSyncExternalStore(_.useCallback(o=>s.subscribe(xa.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=_.useCallback((o,l)=>{s.mutate(o,l).catch(Ei)},[s]);if(a.error&&V7(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const NJ=new iJ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),_J=async(e,t)=>{const r=await fetch(e,{headers:{"Content-Type":"application/json",...t?.headers},...t});if(!r.ok){const s=await r.json().catch(()=>({message:"Request failed"}));throw new Error(s.message||`HTTP ${r.status}`)}return r.json()},u5=[{id:"1",title:"New Age Fotografie",logo:"https://imgur.com/jvVH1ja.jpg",description:"Professionelle Fotoshootings für jeden Anlass."},{id:"2",title:"Dreams Hotel",logo:"https://imgur.com/gTX0qyn.jpg",description:"Luxuriöse Unterkünfte für Ihren perfekten Aufenthalt."},{id:"3",title:"EventWorks",logo:"https://imgur.com/2EsZmcP.jpg",description:"Full-Service Eventplanung und Management."}],SJ=["Familie","Baby","Hochzeit","Business","Event"],ey=[{id:"1",title:"Vatertag Spezial Familienshooting",category:"Familie",partner:u5[0],description:"Spezielles Vatertag-Fotoshooting, das die besondere Bindung zwischen Vätern und ihren Kindern feiert. Inklusive Outdoor-Location mit natürlichem Licht und authentischen Momenten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/EOgBzhL.jpg",terms:"12 Monate ab Kaufdatum gültig. Vatertag-Spezialpaket beinhaltet 15 bearbeitete Fotos und einen Premium-Print.",stock:20,slug:"vatertag-spezial"},{id:"2",title:"Babybauch bis Baby Paket",category:"Baby",partner:u5[0],description:"Begleiten Sie Ihre Reise von der Schwangerschaft bis zum Neugeborenen mit zwei professionellen Fotoshootings. Beinhaltet ein Schwangerschaftsshooting (32.-36. Woche) und ein Neugeborenen-Shooting (innerhalb der ersten 14 Tage).",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/QcHVj4A.jpg",terms:"18 Monate ab Kaufdatum gültig. Beinhaltet sowohl Schwangerschafts- als auch Neugeborenen-Shooting mit je 20 bearbeiteten Fotos.",stock:15,slug:"babybauch-bis-baby"},{id:"3",title:"Erster Geburtstag & Großeltern Spezial",category:"Baby",partner:u5[0],description:"Feiern Sie den ersten Geburtstag Ihres Kleinen mit einem besonderen Fotoshooting zusammen mit den Großeltern. Perfekt um drei Generationen und diese kostbaren Meilenstein-Momente festzuhalten.",price:295,discountPrice:195,validFrom:"2025-01-01",validUntil:"2025-12-31",image:"https://imgur.com/puVF0cD.jpg",terms:"12 Monate ab Kaufdatum gültig. Beinhaltet Cake-Smash-Setup und Familienporträts mit Großeltern. 25 bearbeitete Fotos inklusive.",stock:25,slug:"erster-geburtstag-grosseltern"}],AJ=[{id:"1",voucher:ey[0],quantity:1,totalPrice:ey[0].discountPrice,purchaserName:"John Doe",purchaserEmail:"john@example.com",status:"paid",voucherCode:"FAM12345",createdAt:"2025-01-15"},{id:"2",voucher:ey[1],quantity:1,totalPrice:ey[1].discountPrice,purchaserName:"Jane Smith",purchaserEmail:"jane@example.com",status:"pending",voucherCode:"ROM67890",createdAt:"2025-01-20"}],kJ={id:"1",email:"user@example.com",name:"Demo User"},eF=_.createContext(void 0),CJ=({children:e})=>{const[t]=_.useState(ey),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState([]),d=r?t.filter(j=>j.category===r):t,h=j=>t.find(N=>N.slug===j),p=j=>t.find(N=>N.id===j),f=j=>{const N={...j,id:`order-${Date.now()}`,voucherCode:x(j.voucher.category),createdAt:new Date().toISOString().split("T")[0]};return u(A=>[...A,N]),N},x=j=>{const N=j.substring(0,3).toUpperCase(),A=Math.random().toString(36).substring(2,8).toUpperCase();return`${N}-${A}`},b={vouchers:t,filteredVouchers:d,categories:SJ,selectedCategory:r,setSelectedCategory:s,user:a,orders:c,getVoucherBySlug:h,getVoucherById:p,addOrder:f,isLoggedIn:o,login:()=>{i(kJ),l(!0),u(AJ)},logout:()=>{i(null),l(!1),u([])}};return n.jsx(eF.Provider,{value:b,children:e})},Qm=()=>{const e=_.useContext(eF);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},Dt={auth:{getSession:()=>Promise.resolve({data:{session:null},error:null}),getUser:()=>Promise.resolve({data:{user:null},error:null}),signInWithPassword:()=>Promise.resolve({data:null,error:{message:"Supabase auth disabled - use Express sessions"}}),signOut:()=>Promise.resolve({error:null}),onAuthStateChange:e=>(e("SIGNED_OUT",null),{data:{subscription:{unsubscribe:()=>{}}},error:null})},from:e=>({select:t=>({eq:()=>Promise.resolve({data:[],error:null}),filter:()=>Promise.resolve({data:[],error:null}),order:()=>Promise.resolve({data:[],error:null}),limit:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null}),then:r=>r({data:[],error:null})}),insert:t=>({select:()=>Promise.resolve({data:[],error:null}),single:()=>Promise.resolve({data:null,error:null})}),update:t=>({eq:()=>({select:()=>Promise.resolve({data:[],error:null})})}),delete:()=>({eq:()=>Promise.resolve({data:null,error:null})}),upsert:t=>({select:()=>Promise.resolve({data:[],error:null})})}),storage:{from:e=>({upload:()=>Promise.resolve({data:null,error:{message:"Supabase storage disabled - use local file storage"}}),getPublicUrl:t=>({data:{publicUrl:""}}),list:()=>Promise.resolve({data:[],error:null}),remove:()=>Promise.resolve({data:null,error:null})})}},uS=async()=>({active:!1,error:"Supabase project status disabled - app uses Neon database only",statusCode:0}),d5=e=>!1,tF=_.createContext(void 0),PJ=({children:e})=>{const[t,r]=_.useState(null),[s,a]=_.useState(!1),[i,o]=_.useState(!0);_.useEffect(()=>{Dt.auth.getSession().then(({data:{session:p},error:f})=>{r(p?.user??null),l(p?.user??null),o(!1)});const{data:{subscription:h}}=Dt.auth.onAuthStateChange((p,f)=>{r(f?.user??null),l(f?.user??null),o(!1)});return()=>h.unsubscribe()},[]);const l=async h=>{if(!h){a(!1);return}try{const{data:p,error:f}=await Dt.from("admin_users").select("is_admin").eq("user_id",h.id).single();if(f){a(!1);return}a(p?.is_admin??!1)}catch{a(!1)}},c=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await uS();if(!f?.active)throw new Error(f?.error||"Supabase project is not accessible");const{data:x,error:g}=await Dt.auth.signInWithPassword({email:h,password:p});if(g){if(g.message&&d5({message:g.message}))throw new Error(`Your Supabase project appears to be paused or experiencing database issues. Please:

1. Visit your Supabase dashboard (https://supabase.com/dashboard)
2. Check if your project is paused due to inactivity
3. If paused, click "Resume" to reactivate your project
4. Verify your project is on an active billing plan
5. Check the project logs for any specific error details

Once your project is active, try logging in again.`);const v=g.message||"";throw v.toLowerCase().includes("database error querying schema")?new Error(`Database connection error. Your Supabase project may be paused or experiencing issues. Please:

1. Check your Supabase dashboard to ensure the project is active
2. Verify your environment variables match your project settings
3. Check Supabase project logs for more details
4. Try refreshing the page and attempting login again`):v.toLowerCase().includes("invalid login credentials")?new Error("Invalid email or password. Please check your credentials and try again."):v.toLowerCase().includes("email not confirmed")?new Error("Please confirm your email address before signing in."):v.toLowerCase().includes("unexpected_failure")?new Error(`Supabase service error. This usually indicates:

1. Your project may be paused (check Supabase dashboard)
2. Database connectivity issues
3. Service maintenance

Please try again in a few minutes or check your Supabase project status.`):g.status===500?new Error(`Server error occurred. Please check:

1. Supabase project status in your dashboard
2. Project logs for specific error details
3. Try again in a few minutes`):g}}catch(f){throw f}},u=async(h,p)=>{if(!h||!p)throw new Error("Email and password are required");try{const f=await uS();if(!f?.active)throw f?.error&&d5({message:f.error})?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):new Error(f?.error||"Supabase project is not accessible");const{error:x}=await Dt.auth.signUp({email:h,password:p,options:{emailRedirectTo:`${window.location.origin}/gallery`}});if(x)throw x.message&&d5(x)?new Error("Your Supabase project appears to be paused. Please visit your Supabase dashboard and resume your project before creating an account."):x}catch(f){throw f}},d=async()=>{const{error:h}=await Dt.auth.signOut();if(h)throw h};return n.jsx(tF.Provider,{value:{user:t,isAdmin:s,loading:i,signIn:c,signUp:u,signOut:d},children:e})},Vw=()=>{const e=_.useContext(tF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},rF=_.createContext(void 0),EJ=({children:e})=>{const[t,r]=_.useState(null),[s,a]=_.useState(!1),[i,o]=_.useState(!0),l=_.useRef(!1);_.useRef(0),_.useEffect(()=>{c()},[]);const c=async()=>{if(!l.current){l.current=!0;try{const p=localStorage.getItem("admin_user");if(p)try{const x=JSON.parse(p);console.log("✅ Found stored user:",x.email,x.role),r(x),a(x.role==="admin"||x.role==="super_admin"),o(!1),l.current=!1;return}catch{console.log("❌ Failed to parse stored user, removing"),localStorage.removeItem("admin_user")}const f=await fetch("/api/auth/verify",{method:"GET",credentials:"include"});if(f.ok){const x=await f.json();x.success&&x.user?(console.log("✅ Server verified user:",x.user.email),r(x.user),a(x.user.role==="admin"||x.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(x.user))):(r(null),a(!1))}else r(null),a(!1)}catch(p){console.error("Auth check failed:",p),localStorage.getItem("admin_user")||(r(null),a(!1))}finally{o(!1),l.current=!1}}},h={user:t,isAdmin:s,loading:i,login:async(p,f)=>{try{const g=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:p,password:f})})).json();return g.success&&g.user?(r(g.user),a(g.user.role==="admin"||g.user.role==="super_admin"),localStorage.setItem("admin_user",JSON.stringify(g.user)),{success:!0}):{success:!1,error:g.error||"Login failed"}}catch{return{success:!1,error:"Network error: Unable to connect to server"}}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{r(null),a(!1),localStorage.removeItem("admin_user")}}};return n.jsx(rF.Provider,{value:h,children:e})},TJ=()=>{const e=_.useContext(rF);if(e===void 0)throw new Error("useNeonAuth must be used within a NeonAuthProvider");return e},nF=_.createContext(void 0),OJ=({children:e})=>{const[t,r]=_.useState([]),s=u=>{r(d=>[...d,{...u,id:`${u.title}-${Date.now()}`}])},a=u=>{r(d=>d.filter(h=>h.id!==u))},i=(u,d)=>{r(h=>h.map(p=>p.id===u?{...p,quantity:d}:p))},o=()=>{r([])},l=t.reduce((u,d)=>u+d.price*d.quantity,0),c=t.reduce((u,d)=>u+d.quantity,0);return n.jsx(nF.Provider,{value:{items:t,addItem:s,removeItem:a,updateQuantity:i,clearCart:o,total:l,itemCount:c},children:e})},Ww=()=>{const e=_.useContext(nF);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},LJ={en:{"nav.home":"Home","nav.photoshoots":"Photoshoots","nav.vouchers":"Vouchers","nav.blog":"Blog","nav.waitlist":"Waitlist","nav.contact":"Contact","nav.gallery":"My Gallery","nav.login":"Login","nav.logout":"Logout","nav.admin":"Admin Dashboard","nav.galleries":"Client Galleries","nav.myGallery":"My Gallery","newsletter.signup":"Sign up for newsletter","newsletter.thanks":"Thank you for signing up! Please check your email for the voucher.","newsletter.button":"Sign up","newsletter.placeholder":"Your email address","newsletter.error":"An error occurred. Please try again later.","admin.dashboard":"Admin Dashboard","admin.clients":"Clients","admin.invoices":"Invoices","admin.galleries":"Galleries","admin.blog":"Blog Posts","admin.surveys":"Surveys","admin.reports":"Reports","admin.digitalFiles":"Digital Files","action.create":"Create","action.edit":"Edit","action.delete":"Delete","action.save":"Save","action.cancel":"Cancel","action.view":"View","action.search":"Search","action.filter":"Filter","action.import":"Import","action.export":"Export","action.duplicate":"Duplicate","action.preview":"Preview","action.download":"Download","action.upload":"Upload","action.submit":"Submit","action.confirm":"Confirm","action.close":"Close","action.back":"Back","action.next":"Next","action.previous":"Previous","action.add":"Add","action.remove":"Remove","action.update":"Update","status.active":"Active","status.inactive":"Inactive","status.draft":"Draft","status.published":"Published","status.scheduled":"Scheduled","status.archived":"Archived","status.pending":"Pending","status.completed":"Completed","status.cancelled":"Cancelled","status.paid":"Paid","status.unpaid":"Unpaid","status.overdue":"Overdue","status.sent":"Sent","status.shared":"Shared","form.title":"Title","form.name":"Name","form.email":"Email","form.phone":"Phone","form.address":"Address","form.description":"Description","form.notes":"Notes","form.date":"Date","form.time":"Time","form.price":"Price","form.quantity":"Quantity","form.total":"Total","form.status":"Status","form.category":"Category","form.tags":"Tags","form.required":"Required","form.optional":"Optional","form.password":"Password","form.confirmPassword":"Confirm Password","message.success":"Success","message.error":"Error","message.warning":"Warning","message.info":"Information","message.loading":"Loading...","message.saving":"Saving...","message.deleting":"Deleting...","message.noData":"No data available","message.noResults":"No results found","message.confirmDelete":"Are you sure you want to delete this item?","message.unsavedChanges":"You have unsaved changes","page.home":"Home","page.contact":"Contact","page.about":"About","page.services":"Services","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galleries","page.invoices":"Invoices","page.clients":"Clients","page.dashboard":"Dashboard","page.reports":"Reports","page.settings":"Settings","page.profile":"Profile","page.login":"Login","page.register":"Register","gallery.create":"Create Gallery","gallery.edit":"Edit Gallery","gallery.images":"Images","gallery.upload":"Upload Images","gallery.password":"Password Protection","gallery.downloadEnabled":"Download Enabled","gallery.settings":"Gallery Settings","gallery.preview":"Gallery Preview","gallery.share":"Share Gallery","gallery.noImages":"No images uploaded yet","blog.create":"Create Post","blog.edit":"Edit Post","blog.manage_content":"Manage your blog content","blog.search_posts":"Search posts...","blog.no_excerpt":"No excerpt","blog.no_image":"No img","blog.post":"Post","blog.publish":"Publish","blog.unpublish":"Unpublish","blog.no_posts_found":"No posts found matching your criteria.","blog.create_first_post":"Create your first post","pagination.showing":"Showing","pagination.of":"of","pagination.results":"results","modal.confirm_deletion":"Confirm Deletion","modal.delete_post_warning":"Are you sure you want to delete this post? This action cannot be undone.","table.actions":"Actions","filter.all_statuses":"All Statuses","clients.add":"Add Client","clients.search":"Search clients...","clients.import_logs":"Import Logs","clients.more_filters":"More Filters","clients.no_phone":"No phone number","clients.since":"Client since","message.error.failed_to_update_post_status":"Failed to update post status. Please try again.","invoice.create":"Create Invoice","invoice.edit":"Edit Invoice","invoice.items":"Invoice Items","invoice.summary":"Invoice Summary","invoice.total":"Total","invoice.subtotal":"Subtotal","invoice.tax":"Tax","invoice.discount":"Discount","invoice.dueDate":"Due Date","invoice.paymentTerms":"Payment Terms","invoice.clientDetails":"Client Details","invoice.invoiceDetails":"Invoice Details","invoice.lineItems":"Line Items","invoice.management":"Invoice Management","invoice.totalInvoiced":"Total Invoiced","invoice.paidAmount":"Paid Amount","invoice.overdueAmount":"Overdue Amount","survey.create":"Create Survey","survey.edit":"Edit Survey","survey.questions":"Questions","survey.responses":"Responses","survey.analytics":"Analytics","survey.publish":"Publish","survey.unpublish":"Unpublish","survey.builder":"Survey Builder","survey.preview":"Preview Survey","survey.loadError":"Unable to Load Survey","survey.progress":"Progress","calendar.title":"Calendar","calendar.create":"Create Event","calendar.edit":"Edit Event","calendar.delete":"Delete Event","calendar.export":"Export Calendar","calendar.import":"Import Calendar","calendar.integration":"Calendar Integration","calendar.sync":"Sync Settings","calendar.autoSync":"Auto Sync","calendar.visibility":"Visibility","calendar.priority":"Priority","calendar.repeat":"Repeat","calendar.daily":"Daily","calendar.weekly":"Weekly","calendar.monthly":"Monthly","calendar.yearly":"Yearly","calendar.public":"Public","calendar.private":"Private","calendar.confidential":"Confidential","calendar.low":"Low","calendar.normal":"Normal","calendar.high":"High","email.inbox":"Inbox","email.compose":"Compose","email.send":"Send","email.reply":"Reply","email.forward":"Forward","email.delete":"Delete","email.archive":"Archive","email.star":"Star","email.unread":"Unread","email.read":"Read","email.subject":"Subject","email.from":"From","email.to":"To","email.cc":"CC","email.bcc":"BCC","email.priority":"Priority","email.attachment":"Attachment","email.noEmails":"No emails found","email.selectEmail":"Select an email","email.accounts":"Accounts","email.folders":"Folders","email.settings":"Email Settings","email.sync":"Sync","email.assistant":"AI Email Assistant","email.automation":"Automation Hub","file.upload":"Upload File","file.choose":"Choose File","file.dragDrop":"or drag and drop them here","file.processing":"Processing file...","file.error":"File upload error","file.success":"File uploaded successfully","common.all":"All","common.none":"None","common.yes":"Yes","common.no":"No","common.or":"or","common.and":"and","common.of":"of","common.in":"in","common.on":"on","common.at":"at","common.by":"by","common.from":"from","common.to":"to","common.with":"with","common.without":"without","common.today":"Today","common.yesterday":"Yesterday","common.tomorrow":"Tomorrow","common.week":"Week","common.month":"Month","common.year":"Year","common.date":"Date","common.time":"Time","common.language":"Language","common.currency":"Currency","common.timezone":"Timezone","contact.streetParking":"Street parking available"},de:{"nav.home":"Startseite","nav.photoshoots":"Fotoshootings","nav.vouchers":"Gutscheine","nav.blog":"Blog","nav.waitlist":"Warteliste","nav.contact":"Kontakt","nav.gallery":"Meine Galerie","nav.login":"Anmelden","nav.logout":"Abmelden","nav.admin":"Admin-Dashboard","nav.galleries":"Kundengalerien","nav.myGallery":"Meine Galerie","newsletter.signup":"Sichern Sie sich einen Fotoshooting-Gutschein im Wert von €50 Print Guthaben.","newsletter.thanks":"Vielen Dank für Ihre Anmeldung! Bitte prüfen Sie Ihre E-Mails für den Gutschein.","newsletter.button":"Anmelden","newsletter.placeholder":"Ihre E-Mail-Adresse","newsletter.error":"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.","admin.dashboard":"Admin-Dashboard","admin.clients":"Kunden","admin.invoices":"Rechnungen","admin.galleries":"Galerien","admin.blog":"Blog-Beiträge","admin.surveys":"Umfragen","admin.reports":"Berichte","admin.digitalFiles":"Digitale Dateien","action.create":"Erstellen","action.edit":"Bearbeiten","action.delete":"Löschen","action.save":"Speichern","action.cancel":"Abbrechen","action.view":"Anzeigen","action.search":"Suchen","action.filter":"Filtern","action.import":"Importieren","action.export":"Exportieren","action.duplicate":"Duplizieren","action.preview":"Vorschau","action.download":"Herunterladen","action.upload":"Hochladen","action.submit":"Senden","action.confirm":"Bestätigen","action.close":"Schließen","action.back":"Zurück","action.next":"Weiter","action.previous":"Zurück","action.add":"Hinzufügen","action.remove":"Entfernen","action.update":"Aktualisieren","status.active":"Aktiv","status.inactive":"Inaktiv","status.draft":"Entwurf","status.published":"Veröffentlicht","status.scheduled":"Geplant","status.archived":"Archiviert","status.pending":"Ausstehend","status.completed":"Abgeschlossen","status.cancelled":"Storniert","status.paid":"Bezahlt","status.unpaid":"Unbezahlt","status.overdue":"Überfällig","status.sent":"Gesendet","status.shared":"Geteilt","form.title":"Titel","form.name":"Name","form.email":"E-Mail","form.phone":"Telefon","form.address":"Adresse","form.description":"Beschreibung","form.notes":"Notizen","form.date":"Datum","form.time":"Zeit","form.price":"Preis","form.quantity":"Anzahl","form.total":"Gesamt","form.status":"Status","form.category":"Kategorie","form.tags":"Tags","form.required":"Erforderlich","form.optional":"Optional","form.password":"Passwort","form.confirmPassword":"Passwort bestätigen","message.success":"Erfolgreich","message.error":"Fehler","message.warning":"Warnung","message.info":"Information","message.loading":"Lädt...","message.saving":"Speichert...","message.deleting":"Löscht...","message.noData":"Keine Daten verfügbar","message.noResults":"Keine Ergebnisse gefunden","message.confirmDelete":"Sind Sie sicher, dass Sie dieses Element löschen möchten?","message.unsavedChanges":"Sie haben ungespeicherte Änderungen","page.home":"Startseite","page.contact":"Kontakt","page.about":"Über uns","page.services":"Dienstleistungen","page.portfolio":"Portfolio","page.blog":"Blog","page.galleries":"Galerien","page.invoices":"Rechnungen","page.clients":"Kunden","page.dashboard":"Dashboard","page.reports":"Berichte","page.settings":"Einstellungen","page.profile":"Profil","page.login":"Anmelden","page.register":"Registrieren","gallery.create":"Galerie erstellen","gallery.edit":"Galerie bearbeiten","gallery.images":"Bilder","gallery.upload":"Bilder hochladen","gallery.password":"Passwort-Schutz","gallery.downloadEnabled":"Download aktiviert","gallery.settings":"Galerie-Einstellungen","gallery.preview":"Galerie-Vorschau","gallery.share":"Galerie teilen","gallery.noImages":"Noch keine Bilder hochgeladen","invoice.create":"Rechnung erstellen","invoice.edit":"Rechnung bearbeiten","invoice.items":"Rechnungsposten","invoice.summary":"Rechnungsübersicht","invoice.total":"Gesamt","invoice.subtotal":"Zwischensumme","invoice.tax":"Steuer","invoice.discount":"Rabatt","invoice.dueDate":"Fälligkeitsdatum","invoice.paymentTerms":"Zahlungsbedingungen","invoice.clientDetails":"Kundendetails","invoice.invoiceDetails":"Rechnungsdetails","invoice.lineItems":"Positionen","invoice.management":"Rechnungsverwaltung","invoice.totalInvoiced":"Gesamt in Rechnung gestellt","invoice.paidAmount":"Bezahlter Betrag","invoice.overdueAmount":"Überfälliger Betrag","survey.create":"Umfrage erstellen","survey.edit":"Umfrage bearbeiten","survey.questions":"Fragen","survey.responses":"Antworten","survey.analytics":"Analytik","survey.publish":"Veröffentlichen","survey.unpublish":"Unveröffentlichen","survey.builder":"Umfrage-Builder","survey.preview":"Umfrage-Vorschau","survey.loadError":"Umfrage konnte nicht geladen werden","survey.progress":"Fortschritt","calendar.title":"Kalender","calendar.create":"Termin erstellen","calendar.edit":"Termin bearbeiten","calendar.delete":"Termin löschen","calendar.export":"Kalender exportieren","calendar.import":"Kalender importieren","calendar.integration":"Kalender-Integration","calendar.sync":"Sync-Einstellungen","calendar.autoSync":"Auto-Sync","calendar.visibility":"Sichtbarkeit","calendar.priority":"Priorität","calendar.repeat":"Wiederholen","calendar.daily":"Täglich","calendar.weekly":"Wöchentlich","calendar.monthly":"Monatlich","calendar.yearly":"Jährlich","calendar.public":"Öffentlich","calendar.private":"Privat","calendar.confidential":"Vertraulich","calendar.low":"Niedrig","calendar.normal":"Normal","calendar.high":"Hoch","email.inbox":"Posteingang","email.compose":"Verfassen","email.send":"Senden","email.reply":"Antworten","email.forward":"Weiterleiten","email.delete":"Löschen","email.archive":"Archivieren","email.star":"Markieren","email.unread":"Ungelesen","email.read":"Gelesen","email.subject":"Betreff","email.from":"Von","email.to":"An","email.cc":"CC","email.bcc":"BCC","email.priority":"Priorität","email.attachment":"Anhang","email.noEmails":"Keine E-Mails gefunden","email.selectEmail":"E-Mail auswählen","email.accounts":"Konten","email.folders":"Ordner","email.settings":"E-Mail-Einstellungen","email.sync":"Synchronisieren","email.assistant":"KI E-Mail-Assistent","email.automation":"Automatisierungs-Hub","file.upload":"Datei hochladen","file.choose":"Datei auswählen","file.dragDrop":"oder hier hineinziehen","file.processing":"Datei wird verarbeitet...","file.error":"Datei-Upload-Fehler","file.success":"Datei erfolgreich hochgeladen","common.all":"Alle","common.none":"Keine","common.yes":"Ja","common.no":"Nein","common.or":"oder","common.and":"und","common.of":"von","common.in":"in","common.on":"am","common.at":"um","common.by":"von","common.from":"von","common.to":"zu","common.with":"mit","common.without":"ohne","common.today":"Heute","common.yesterday":"Gestern","common.tomorrow":"Morgen","common.week":"Woche","common.month":"Monat","common.year":"Jahr","common.date":"Datum","common.time":"Zeit","common.language":"Sprache","common.currency":"Währung","common.timezone":"Zeitzone","blog.create":"Beitrag erstellen","blog.edit":"Beitrag bearbeiten","blog.manage_content":"Verwalten Sie Ihre Blog-Inhalte","blog.search_posts":"Beiträge suchen...","blog.no_excerpt":"Kein Auszug","blog.no_image":"Kein Bild","blog.post":"Beitrag","blog.publish":"Veröffentlichen","blog.unpublish":"Unveröffentlichen","blog.no_posts_found":"Keine Beiträge gefunden, die Ihren Kriterien entsprechen.","blog.create_first_post":"Erstellen Sie Ihren ersten Beitrag","table.actions":"Aktionen","filter.all_statuses":"Alle Status","clients.add":"Kunde hinzufügen","clients.search":"Kunden suchen...","clients.import_logs":"Import-Protokolle","clients.more_filters":"Weitere Filter","clients.no_phone":"Keine Telefonnummer","clients.since":"Kunde seit","pagination.showing":"Zeige","pagination.of":"von","pagination.results":"Ergebnisse","modal.confirm_deletion":"Löschung bestätigen","modal.delete_post_warning":"Sind Sie sicher, dass Sie diesen Beitrag löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.","message.error.failed_to_update_post_status":"Fehler beim Aktualisieren des Beitragsstatus. Bitte versuchen Sie es erneut.","contact.streetParking":"Straßenparkplätze verfügbar"}},sF=_.createContext(void 0),IJ=({children:e})=>{const[t,r]=_.useState(()=>{const a=localStorage.getItem("language");return a==="en"||a==="de"?a:"de"});_.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t},[t]);const s=a=>LJ[t][a]||a;return n.jsx(sF.Provider,{value:{language:t,setLanguage:r,t:s},children:e})},Jh=()=>{const e=_.useContext(sF);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(e,t)=>{const r=_.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...MJ,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${DJ(e)}`,l].join(" "),...u},[...t.map(([h,p])=>_.createElement(h,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Be("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Be("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Be("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Be("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=Be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Be("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Be("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Be("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Be("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Be("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Be("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=Be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=Be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Be("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Be("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=Be("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=Be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=Be("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=Be("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=Be("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=Be("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Be("Indent",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=Be("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Be("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=Be("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=Be("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=Be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=Be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=Be("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=Be("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=Be("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=Be("Outdent",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Be("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Be("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Be("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=Be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=Be("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=Be("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=Be("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=Be("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=Be("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=Be("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=Be("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=Be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=Be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=Be("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=Be("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=Be("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=Be("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=Be("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=Be("TestTube2",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01v0a2.83 2.83 0 0 1 0-4L17 3",key:"dg8b2p"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=Be("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Be("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=Be("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=Be("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=Be("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Be("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=Be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Hee=()=>{const[e,t]=_.useState(!1),r=u6(),{language:s,setLanguage:a,t:i}=Jh(),o=()=>{t(!e)},l=()=>{a(s==="en"?"de":"en")},c=d=>r.pathname===d,u=[{path:"/",label:i("nav.home")},{path:"/fotoshootings",label:i("nav.photoshoots")},{path:"/vouchers",label:i("nav.vouchers")},{path:"/blog",label:i("nav.blog")},{path:"/warteliste",label:i("nav.waitlist")},{path:"/kontakt",label:i("nav.contact")}];return n.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:["      ",n.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[n.jsx(Gt,{to:"/",className:"flex items-center",children:n.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-24 w-auto"})}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[u.map(d=>n.jsx(Gt,{to:d.path,className:`text-gray-700 hover:text-purple-600 transition-colors ${c(d.path)?"text-purple-600 font-semibold":""}`,children:d.label},d.path)),n.jsxs("button",{onClick:l,className:"text-gray-700 hover:text-purple-600 transition-colors flex items-center","aria-label":"Toggle language",children:[n.jsx(sc,{size:18,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:s})]})]}),n.jsx("button",{className:"md:hidden text-gray-700 focus:outline-none",onClick:o,children:n.jsx(yF,{size:24})})]}),e&&n.jsx("div",{className:"md:hidden bg-white shadow-lg",children:n.jsxs("div",{className:"container mx-auto px-4 py-2 flex flex-col",children:[u.map(d=>n.jsx(Gt,{to:d.path,className:`py-2 text-gray-700 hover:text-purple-600 transition-colors ${c(d.path)?"text-purple-600 font-semibold":""}`,onClick:()=>t(!1),children:d.label},d.path)),n.jsxs("button",{onClick:()=>{l(),t(!1)},className:"py-2 text-left text-gray-700 hover:text-purple-600 transition-colors flex items-center",children:[n.jsx(sc,{size:18,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:s})]})]})})]})};async function Gee(e){try{const t=await fetch("undefined/functions/v1/public/contact/kontakt",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(e)});return t.ok?await t.json():await NP(e)}catch{return await NP(e)}}async function Kee(e){try{const t=await fetch("undefined/functions/v1/public/contact/warteliste",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(e)});return t.ok?await t.json():await _P(e)}catch{return await _P(e)}}async function NP(e){try{const t=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.fullName,email:e.email,phone:e.phone||null,message:e.message,source:"KONTAKT",status:"new"})});if(!t.ok)throw new Error("Failed to submit contact form");return await t.json()}catch{throw new Error("Failed to submit contact form")}}async function _P(e){const t=`Preferred Date: ${e.preferredDate}${e.message?`

Message: `+e.message:""}`;try{const r=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.fullName,email:e.email,phone:e.phone||null,message:t,source:"WARTELISTE",status:"new"})});if(!r.ok)throw new Error("Failed to submit waitlist form");return await r.json()}catch{throw new Error("Failed to submit waitlist form")}}async function Yee(e){try{const t=await fetch("/api/public/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Newsletter Subscriber",email:e,phone:null,message:"Newsletter signup - €50 Print Gutschein interest",source:"NEWSLETTER",status:"new"})});if(!t.ok)throw new Error("Failed to submit newsletter signup");return{success:!0,data:await t.json(),message:"Newsletter signup successful!"}}catch{throw new Error("Failed to process newsletter signup - please try again later")}}const Zee=()=>{const{t:e}=Jh(),{user:t,signOut:r}=Vw(),[s,a]=_.useState(""),[i,o]=_.useState(!1),[l,c]=_.useState(null),[u,d]=_.useState(!1),h=async p=>{if(p.preventDefault(),!s.trim()){c("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.trim())){c("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}o(!0),c(null);try{const x=await Yee(s.trim());if(x.success)d(!0),a(""),setTimeout(()=>d(!1),5e3);else throw new Error(x.message||"Signup failed")}catch(x){const g=x instanceof Error?x.message:"Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.";c(g)}finally{o(!1)}};return n.jsx("footer",{className:"bg-gray-800 text-white mt-12",children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:["          ",n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Gt,{to:"/",className:"text-white text-xl font-bold mb-4 block",children:"New Age Fotografie"}),n.jsx("p",{className:"text-gray-300 mb-4",children:"Professional photography and CRM solutions for modern businesses."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(XJ,{size:20})}),n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(cee,{size:20})}),n.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:n.jsx(Bee,{size:20})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(Gt,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings",className:"text-gray-300 hover:text-white transition-colors",children:"Fotoshootings"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kontakt"}),n.jsxs("ul",{className:"space-y-2 text-gray-300",children:[n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"Büro- und Korrespondenzadresse:"})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"Julius Tandler Platz 5 / 13"})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"1090 Wien, Austria"})}),n.jsx("li",{children:n.jsx("span",{className:"text-sm",children:"Tel/WhatsApp: +43 677 633 99210"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/kontakt",className:"text-purple-400 hover:text-purple-300 transition-colors text-sm",children:"Vollständige Kontaktdaten"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Kategorien"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings?category=Familie",className:"text-gray-300 hover:text-white transition-colors",children:"Familie"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings?category=Baby",className:"text-gray-300 hover:text-white transition-colors",children:"Baby"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings?category=Hochzeit",className:"text-gray-300 hover:text-white transition-colors",children:"Hochzeit"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings?category=Business",className:"text-gray-300 hover:text-white transition-colors",children:"Business"})}),n.jsx("li",{children:n.jsx(Gt,{to:"/fotoshootings?category=Event",className:"text-gray-300 hover:text-white transition-colors",children:"Event"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Galerie"}),n.jsxs("ul",{className:"space-y-2",children:[t?n.jsxs(n.Fragment,{children:[n.jsx("li",{children:n.jsxs(Gt,{to:"/gallery",className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Ji,{size:18,className:"mr-2"}),e("nav.gallery")]})}),n.jsx("li",{children:n.jsxs("button",{onClick:()=>r(),className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(gF,{size:18,className:"mr-2"}),e("nav.logout")]})})]}):n.jsx("li",{children:n.jsxs(Gt,{to:"/gallery",className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Ji,{size:18,className:"mr-2"}),e("nav.login")]})}),n.jsx("li",{children:n.jsxs(Gt,{to:"/admin/login",className:"text-gray-300 hover:text-white transition-colors flex items-center",children:[n.jsx(Ji,{size:18,className:"mr-2"}),"Admin Login"]})})]})]}),n.jsx("div",{className:"md:col-span-5 mt-8",children:n.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("newsletter.signup")}),u?n.jsxs("div",{className:"text-green-400 flex items-center",children:[n.jsx(on,{className:"mr-2"}),e("newsletter.thanks")]}):n.jsxs("form",{onSubmit:h,className:"flex gap-4",children:[n.jsx("input",{type:"email",value:s,onChange:p=>a(p.target.value),placeholder:e("newsletter.placeholder"),required:!0,className:"flex-1 px-4 py-2 rounded-lg bg-gray-600 text-white placeholder-gray-400 border border-gray-500 focus:outline-none focus:border-purple-500"}),n.jsx("button",{type:"submit",disabled:i,className:`px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Wird gesendet...":e("newsletter.button")})]}),"              ",l&&n.jsx("p",{className:"mt-2 text-red-400 text-sm",children:l})]})})]}),"        ",n.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300",children:[n.jsx("p",{children:"© 2025 New Age Fotografie. All Rights Reserved"}),n.jsx("p",{className:"mt-2 text-sm",children:n.jsx("a",{href:"https://www.togninja.com",target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 transition-colors",children:"Powered By TogNinja"})})]})]})})},Xee=()=>{const e=[{url:"https://i.postimg.cc/bJGQXcx9/1626165386655.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/xT9cMVXp/217447.png",alt:"Partner logo"},{url:"https://i.postimg.cc/hPRVYYfV/bank-austria-edvfiasko-kostet-bank-austria20121107201134.jpg",alt:"Bank Austria"},{url:"https://i.postimg.cc/26PnrcTR/cropped-logo-web-text1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/2jhZnx2y/download.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/MHVVT7rc/download-1.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SNLcbGM3/download-2.png",alt:"Partner logo"},{url:"https://i.postimg.cc/sfhpwzDV/download-2.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Qd05HxSq/download-3.png",alt:"Partner logo"},{url:"https://i.postimg.cc/s2xWSdNC/download-4.png",alt:"Partner logo"},{url:"https://i.postimg.cc/3xKm8DjR/download-4.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Gpfyx7W8/download-5.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rmttnGTh/download-6.png",alt:"Partner logo"},{url:"https://i.postimg.cc/mkf10c2T/download-7.png",alt:"Partner logo"},{url:"https://i.postimg.cc/1XGVP9fw/download-8.png",alt:"Partner logo"},{url:"https://i.postimg.cc/ZKLvM5kh/erste.jpg",alt:"Erste Bank"},{url:"https://i.postimg.cc/wTzs2sGV/Eurovision.jpg",alt:"Eurovision"},{url:"https://i.postimg.cc/jSdn0YKn/Google-Trusted-Photographer-Badge.jpg",alt:"Google Trusted Photographer"},{url:"https://i.postimg.cc/DzSW0QS2/IGEPHA-Logo-transparent.png",alt:"IGEPHA"},{url:"https://i.postimg.cc/g01xZwh3/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/Jz6DRY46/images-3.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/wvJ7c65Z/kieninger-lagler-gmbh-full-1510837544.jpg",alt:"Kieninger Lagler"},{url:"https://i.postimg.cc/xTgqPpHf/kl-herzen-logo4c-ohnetext.jpg",alt:"KL Herzen"},{url:"https://i.postimg.cc/gjWrgfNJ/logo-300x141.png",alt:"Partner logo"},{url:"https://i.postimg.cc/SRfR3DvG/Porr-svg.png",alt:"Porr"},{url:"https://i.postimg.cc/PfWCC558/RB4PRNY.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/Hx2RcMcL/images.jpg",alt:"Partner logo"},{url:"https://i.postimg.cc/BbnyxvHB/images.png",alt:"Partner logo"},{url:"https://i.postimg.cc/rwrHG303/Leier-International-logo-svg.png",alt:"Leier International"},{url:"https://i.postimg.cc/PrccwTx1/Logo-BB-svg.png",alt:"BB Logo"},{url:"https://i.postimg.cc/vT2KXdvF/mydays-logo-png-seeklogo-357684.png",alt:"MyDays"},{url:"https://i.postimg.cc/66MFBdxj/QAP.png",alt:"QAP"},{url:"https://i.postimg.cc/QxVwCHXX/RIH-logo-90-90-90-300x152.jpg",alt:"RIH"},{url:"https://i.postimg.cc/FKXBTp0R/stekovics-tomaten-chili.jpg",alt:"Stekovics"}];return n.jsx("section",{className:"bg-gray-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"Our Partners"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8",children:e.map((t,r)=>n.jsx("div",{className:"bg-white rounded-lg p-4 flex items-center justify-center shadow-sm hover:shadow-md transition-shadow",children:n.jsx("img",{src:t.url,alt:t.alt,className:"max-h-16 w-auto object-contain transition-transform hover:scale-105"})},r))})]})})},Qee=()=>{const[e,t]=_.useState([{author_name:"Sabine Schuster",rating:5,text:"Matt ist ein wunderbarer Fotograf, der es versteht, die Persönlichkeit der Menschen einzufangen. Wir haben uns sehr wohl gefühlt und die Bilder sind einfach toll geworden. Sehr zu empfehlen!",profile_photo_url:"https://images.unsplash.com/photo-1494790108755-2616b345de9e?w=60&h=60&fit=crop&crop=face&auto=format",time:16867296e5},{author_name:"Katharina Müller",rating:5,text:"Wir hatten ein Familienshooting mit Matt und sind begeistert! Die Atmosphäre war super entspannt und die Bilder sind einfach wunderschön geworden. Besonders toll fanden wir, wie geduldig er mit unseren Kindern war. Absolute Empfehlung!",profile_photo_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=60&h=60&fit=crop&crop=face&auto=format",time:1692144e6},{author_name:"Thomas Wagner",rating:5,text:"Professionelles Business-Shooting mit hervorragenden Ergebnissen. Matt hat es geschafft, dass ich mich vor der Kamera wohl gefühlt habe, obwohl ich normalerweise nicht gerne fotografiert werde. Die Bilder nutze ich jetzt für meine Website und LinkedIn - top Qualität!",profile_photo_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=60&h=60&fit=crop&crop=face&auto=format",time:16894656e5},{author_name:"Lisa Huber",rating:5,text:"Unser Neugeborenen-Shooting mit Matt war ein wunderschönes Erlebnis. Er hat sich so viel Zeit genommen und war unglaublich einfühlsam mit unserem kleinen Sohn. Die Fotos sind traumhaft schön geworden und werden uns immer an diese besondere Zeit erinnern.",profile_photo_url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=60&h=60&fit=crop&crop=face&auto=format",time:16935264e5},{author_name:"Michael Bauer",rating:5,text:"Matt hat unsere Hochzeit fotografiert und wir sind mehr als zufrieden! Er hat alle wichtigen Momente eingefangen, ohne dabei aufdringlich zu sein. Die Bilder erzählen die Geschichte unseres Tages perfekt. Danke für diese wunderbaren Erinnerungen!",profile_photo_url:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=60&h=60&fit=crop&crop=face&auto=format",time:1688256e6},{author_name:"Anna Steiner",rating:5,text:"Mein Schwangerschaftsshooting mit Matt war ein tolles Erlebnis. Er hat eine sehr angenehme Art und schafft es, dass man sich sofort wohlfühlt. Die Bilder sind wunderschön geworden und zeigen genau die Emotionen, die ich mir gewünscht habe. Sehr empfehlenswert!",profile_photo_url:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=60&h=60&fit=crop&crop=face&auto=format",time:16915392e5}]),[r,s]=_.useState(0),[a,i]=_.useState([]);_.useEffect(()=>{const d=()=>{let h=1;window.innerWidth>=1024?h=3:window.innerWidth>=768&&(h=2);const p=[];for(let f=0;f<h;f++){const x=(r+f)%e.length;p.push(e[x])}i(p)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[r,e]);const o=()=>{s(d=>(d+1)%e.length)},l=()=>{s(d=>(d-1+e.length)%e.length)},c=d=>new Date(d).toLocaleDateString("de-DE",{year:"numeric",month:"long"}),u=d=>Array(5).fill(0).map((h,p)=>n.jsx(Do,{size:16,className:p<d?"text-yellow-500 fill-yellow-500":"text-gray-300"},p));return n.jsx("section",{className:"bg-gray-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Was unsere Kunden sagen"}),n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx("div",{className:"flex",children:u(5)}),n.jsx("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",children:"4.9 auf Google (253 Bewertungen)"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((d,h)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:d.profile_photo_url,alt:d.author_name,className:"w-12 h-12 rounded-full mr-4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:d.author_name}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex mr-2",children:u(d.rating)}),n.jsx("span",{className:"text-gray-500 text-sm",children:c(d.time)})]})]})]}),n.jsx("p",{className:"text-gray-600 line-clamp-4",children:d.text}),n.jsx("div",{className:"mt-4",children:n.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm inline-flex items-center",children:["Auf Google Maps ansehen",n.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]},h))}),n.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Previous review",children:n.jsx(Iv,{size:24})}),n.jsx("button",{onClick:o,className:"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 focus:outline-none hidden md:block","aria-label":"Next review",children:n.jsx(Oh,{size:24})})]}),n.jsx("div",{className:"flex justify-center mt-8",children:n.jsxs("a",{href:"https://maps.app.goo.gl/L5EFKkMSK7FaiRVa8",target:"_blank",rel:"noopener noreferrer",className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors inline-flex items-center",children:["Alle Bewertungen auf Google ansehen",n.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})})]})})},us=({children:e})=>(Jh(),n.jsxs("div",{className:"flex flex-col min-h-screen",style:{position:"static",overflow:"visible"},children:[n.jsx(Hee,{}),n.jsx("main",{className:"flex-grow",style:{position:"static",overflow:"visible"},children:e}),n.jsx(Qee,{}),n.jsx(Xee,{}),n.jsx(Zee,{})]}));var NF={exports:{}};(function(e,t){(function(r,s){e.exports=s(_)})(typeof self<"u"?self:ul,r=>(()=>{var s={2:(l,c,u)=>{var d=u(2199),h=u(4664),p=u(5950);l.exports=function(f){return d(f,p,h)}},79:(l,c,u)=>{var d=u(3702),h=u(80),p=u(4739),f=u(8655),x=u(1175);function g(v){var b=-1,j=v==null?0:v.length;for(this.clear();++b<j;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=d,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},80:(l,c,u)=>{var d=u(6025),h=Array.prototype.splice;l.exports=function(p){var f=this.__data__,x=d(f,p);return!(x<0||(x==f.length-1?f.pop():h.call(f,x,1),--this.size,0))}},270:(l,c,u)=>{var d=u(7068),h=u(346);l.exports=function p(f,x,g,v,b){return f===x||(f==null||x==null||!h(f)&&!h(x)?f!=f&&x!=x:d(f,x,g,v,p,b))}},289:(l,c,u)=>{var d=u(2651);l.exports=function(h){return d(this,h).get(h)}},294:l=>{l.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},317:l=>{l.exports=function(c){var u=-1,d=Array(c.size);return c.forEach(function(h,p){d[++u]=[p,h]}),d}},346:l=>{l.exports=function(c){return c!=null&&typeof c=="object"}},361:l=>{var c=/^(?:0|[1-9]\d*)$/;l.exports=function(u,d){var h=typeof u;return!!(d=d??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(u))&&u>-1&&u%1==0&&u<d}},392:l=>{l.exports=function(c,u){return c?.[u]}},659:(l,c,u)=>{var d=u(1873),h=Object.prototype,p=h.hasOwnProperty,f=h.toString,x=d?d.toStringTag:void 0;l.exports=function(g){var v=p.call(g,x),b=g[x];try{g[x]=void 0;var j=!0}catch{}var N=f.call(g);return j&&(v?g[x]=b:delete g[x]),N}},689:(l,c,u)=>{var d=u(2),h=Object.prototype.hasOwnProperty;l.exports=function(p,f,x,g,v,b){var j=1&x,N=d(p),A=N.length;if(A!=d(f).length&&!j)return!1;for(var S=A;S--;){var L=N[S];if(!(j?L in f:h.call(f,L)))return!1}var I=b.get(p),k=b.get(f);if(I&&k)return I==f&&k==p;var E=!0;b.set(p,f),b.set(f,p);for(var B=j;++S<A;){var C=p[L=N[S]],O=f[L];if(g)var M=j?g(O,C,L,f,p,b):g(C,O,L,p,f,b);if(!(M===void 0?C===O||v(C,O,x,g,b):M)){E=!1;break}B||(B=L=="constructor")}if(E&&!B){var D=p.constructor,W=f.constructor;D==W||!("constructor"in p)||!("constructor"in f)||typeof D=="function"&&D instanceof D&&typeof W=="function"&&W instanceof W||(E=!1)}return b.delete(p),b.delete(f),E}},695:(l,c,u)=>{var d=u(8096),h=u(2428),p=u(6449),f=u(3656),x=u(361),g=u(7167),v=Object.prototype.hasOwnProperty;l.exports=function(b,j){var N=p(b),A=!N&&h(b),S=!N&&!A&&f(b),L=!N&&!A&&!S&&g(b),I=N||A||S||L,k=I?d(b.length,String):[],E=k.length;for(var B in b)!j&&!v.call(b,B)||I&&(B=="length"||S&&(B=="offset"||B=="parent")||L&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||x(B,E))||k.push(B);return k}},938:l=>{l.exports=function(c){var u=this.__data__,d=u.delete(c);return this.size=u.size,d}},945:(l,c,u)=>{var d=u(79),h=u(8223),p=u(3661);l.exports=function(f,x){var g=this.__data__;if(g instanceof d){var v=g.__data__;if(!h||v.length<199)return v.push([f,x]),this.size=++g.size,this;g=this.__data__=new p(v)}return g.set(f,x),this.size=g.size,this}},1042:(l,c,u)=>{var d=u(6110)(Object,"create");l.exports=d},1175:(l,c,u)=>{var d=u(6025);l.exports=function(h,p){var f=this.__data__,x=d(f,h);return x<0?(++this.size,f.push([h,p])):f[x][1]=p,this}},1380:l=>{l.exports=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this}},1420:(l,c,u)=>{var d=u(79);l.exports=function(){this.__data__=new d,this.size=0}},1459:l=>{l.exports=function(c){return this.__data__.has(c)}},1549:(l,c,u)=>{var d=u(2032),h=u(3862),p=u(6721),f=u(2749),x=u(5749);function g(v){var b=-1,j=v==null?0:v.length;for(this.clear();++b<j;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=d,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},1873:(l,c,u)=>{var d=u(9325).Symbol;l.exports=d},1882:(l,c,u)=>{var d=u(2552),h=u(3805);l.exports=function(p){if(!h(p))return!1;var f=d(p);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},1986:(l,c,u)=>{var d=u(1873),h=u(7828),p=u(5288),f=u(5911),x=u(317),g=u(4247),v=d?d.prototype:void 0,b=v?v.valueOf:void 0;l.exports=function(j,N,A,S,L,I,k){switch(A){case"[object DataView]":if(j.byteLength!=N.byteLength||j.byteOffset!=N.byteOffset)return!1;j=j.buffer,N=N.buffer;case"[object ArrayBuffer]":return!(j.byteLength!=N.byteLength||!I(new h(j),new h(N)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+j,+N);case"[object Error]":return j.name==N.name&&j.message==N.message;case"[object RegExp]":case"[object String]":return j==N+"";case"[object Map]":var E=x;case"[object Set]":var B=1&S;if(E||(E=g),j.size!=N.size&&!B)return!1;var C=k.get(j);if(C)return C==N;S|=2,k.set(j,N);var O=f(E(j),E(N),S,L,I,k);return k.delete(j),O;case"[object Symbol]":if(b)return b.call(j)==b.call(N)}return!1}},2032:(l,c,u)=>{var d=u(1042);l.exports=function(){this.__data__=d?d(null):{},this.size=0}},2199:(l,c,u)=>{var d=u(4528),h=u(6449);l.exports=function(p,f,x){var g=f(p);return h(p)?g:d(g,x(p))}},2404:(l,c,u)=>{var d=u(270);l.exports=function(h,p){return d(h,p)}},2428:(l,c,u)=>{var d=u(7534),h=u(346),p=Object.prototype,f=p.hasOwnProperty,x=p.propertyIsEnumerable,g=d(function(){return arguments}())?d:function(v){return h(v)&&f.call(v,"callee")&&!x.call(v,"callee")};l.exports=g},2552:(l,c,u)=>{var d=u(1873),h=u(659),p=u(9350),f=d?d.toStringTag:void 0;l.exports=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":f&&f in Object(x)?h(x):p(x)}},2651:(l,c,u)=>{var d=u(4218);l.exports=function(h,p){var f=h.__data__;return d(p)?f[typeof p=="string"?"string":"hash"]:f.map}},2749:(l,c,u)=>{var d=u(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;return d?f[p]!==void 0:h.call(f,p)}},2804:(l,c,u)=>{var d=u(6110)(u(9325),"Promise");l.exports=d},2949:(l,c,u)=>{var d=u(2651);l.exports=function(h,p){var f=d(this,h),x=f.size;return f.set(h,p),this.size+=f.size==x?0:1,this}},3040:(l,c,u)=>{var d=u(1549),h=u(79),p=u(8223);l.exports=function(){this.size=0,this.__data__={hash:new d,map:new(p||h),string:new d}}},3146:(l,c,u)=>{for(var d=u(3491),h=typeof window>"u"?u.g:window,p=["moz","webkit"],f="AnimationFrame",x=h["request"+f],g=h["cancel"+f]||h["cancelRequest"+f],v=0;!x&&v<p.length;v++)x=h[p[v]+"Request"+f],g=h[p[v]+"Cancel"+f]||h[p[v]+"CancelRequest"+f];if(!x||!g){var b=0,j=0,N=[],A=1e3/60;x=function(S){if(N.length===0){var L=d(),I=Math.max(0,A-(L-b));b=I+L,setTimeout(function(){var k=N.slice(0);N.length=0;for(var E=0;E<k.length;E++)if(!k[E].cancelled)try{k[E].callback(b)}catch(B){setTimeout(function(){throw B},0)}},Math.round(I))}return N.push({handle:++j,callback:S,cancelled:!1}),j},g=function(S){for(var L=0;L<N.length;L++)N[L].handle===S&&(N[L].cancelled=!0)}}l.exports=function(S){return x.call(h,S)},l.exports.cancel=function(){g.apply(h,arguments)},l.exports.polyfill=function(S){S||(S=h),S.requestAnimationFrame=x,S.cancelAnimationFrame=g}},3345:l=>{l.exports=function(){return[]}},3491:function(l){(function(){var c,u,d,h,p,f;typeof performance<"u"&&performance!==null&&performance.now?l.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(l.exports=function(){return(c()-p)/1e6},u=process.hrtime,h=(c=function(){var x;return 1e9*(x=u())[0]+x[1]})(),f=1e9*process.uptime(),p=h-f):Date.now?(l.exports=function(){return Date.now()-d},d=Date.now()):(l.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)},3605:l=>{l.exports=function(c){return this.__data__.get(c)}},3650:(l,c,u)=>{var d=u(4335)(Object.keys,Object);l.exports=d},3656:(l,c,u)=>{l=u.nmd(l);var d=u(9325),h=u(9935),p=c&&!c.nodeType&&c,f=p&&l&&!l.nodeType&&l,x=f&&f.exports===p?d.Buffer:void 0,g=(x?x.isBuffer:void 0)||h;l.exports=g},3661:(l,c,u)=>{var d=u(3040),h=u(7670),p=u(289),f=u(4509),x=u(2949);function g(v){var b=-1,j=v==null?0:v.length;for(this.clear();++b<j;){var N=v[b];this.set(N[0],N[1])}}g.prototype.clear=d,g.prototype.delete=h,g.prototype.get=p,g.prototype.has=f,g.prototype.set=x,l.exports=g},3702:l=>{l.exports=function(){this.__data__=[],this.size=0}},3805:l=>{l.exports=function(c){var u=typeof c;return c!=null&&(u=="object"||u=="function")}},3862:l=>{l.exports=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u}},4218:l=>{l.exports=function(c){var u=typeof c;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?c!=="__proto__":c===null}},4247:l=>{l.exports=function(c){var u=-1,d=Array(c.size);return c.forEach(function(h){d[++u]=h}),d}},4248:l=>{l.exports=function(c,u){for(var d=-1,h=c==null?0:c.length;++d<h;)if(u(c[d],d,c))return!0;return!1}},4335:l=>{l.exports=function(c,u){return function(d){return c(u(d))}}},4509:(l,c,u)=>{var d=u(2651);l.exports=function(h){return d(this,h).has(h)}},4528:l=>{l.exports=function(c,u){for(var d=-1,h=u.length,p=c.length;++d<h;)c[p+d]=u[d];return c}},4664:(l,c,u)=>{var d=u(9770),h=u(3345),p=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,x=f?function(g){return g==null?[]:(g=Object(g),d(f(g),function(v){return p.call(g,v)}))}:h;l.exports=x},4739:(l,c,u)=>{var d=u(6025);l.exports=function(h){var p=this.__data__,f=d(p,h);return f<0?void 0:p[f][1]}},4840:(l,c,u)=>{var d=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;l.exports=d},4894:(l,c,u)=>{var d=u(1882),h=u(294);l.exports=function(p){return p!=null&&h(p.length)&&!d(p)}},4901:(l,c,u)=>{var d=u(2552),h=u(294),p=u(346),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,l.exports=function(x){return p(x)&&h(x.length)&&!!f[d(x)]}},5083:(l,c,u)=>{var d=u(1882),h=u(7296),p=u(3805),f=u(7473),x=/^\[object .+?Constructor\]$/,g=Function.prototype,v=Object.prototype,b=g.toString,j=v.hasOwnProperty,N=RegExp("^"+b.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function(A){return!(!p(A)||h(A))&&(d(A)?N:x).test(f(A))}},5288:l=>{l.exports=function(c,u){return c===u||c!=c&&u!=u}},5481:(l,c,u)=>{var d=u(9325)["__core-js_shared__"];l.exports=d},5527:l=>{var c=Object.prototype;l.exports=function(u){var d=u&&u.constructor;return u===(typeof d=="function"&&d.prototype||c)}},5580:(l,c,u)=>{var d=u(6110)(u(9325),"DataView");l.exports=d},5749:(l,c,u)=>{var d=u(1042);l.exports=function(h,p){var f=this.__data__;return this.size+=this.has(h)?0:1,f[h]=d&&p===void 0?"__lodash_hash_undefined__":p,this}},5861:(l,c,u)=>{var d=u(5580),h=u(8223),p=u(2804),f=u(6545),x=u(8303),g=u(2552),v=u(7473),b="[object Map]",j="[object Promise]",N="[object Set]",A="[object WeakMap]",S="[object DataView]",L=v(d),I=v(h),k=v(p),E=v(f),B=v(x),C=g;(d&&C(new d(new ArrayBuffer(1)))!=S||h&&C(new h)!=b||p&&C(p.resolve())!=j||f&&C(new f)!=N||x&&C(new x)!=A)&&(C=function(O){var M=g(O),D=M=="[object Object]"?O.constructor:void 0,W=D?v(D):"";if(W)switch(W){case L:return S;case I:return b;case k:return j;case E:return N;case B:return A}return M}),l.exports=C},5911:(l,c,u)=>{var d=u(8859),h=u(4248),p=u(9219);l.exports=function(f,x,g,v,b,j){var N=1&g,A=f.length,S=x.length;if(A!=S&&!(N&&S>A))return!1;var L=j.get(f),I=j.get(x);if(L&&I)return L==x&&I==f;var k=-1,E=!0,B=2&g?new d:void 0;for(j.set(f,x),j.set(x,f);++k<A;){var C=f[k],O=x[k];if(v)var M=N?v(O,C,k,x,f,j):v(C,O,k,f,x,j);if(M!==void 0){if(M)continue;E=!1;break}if(B){if(!h(x,function(D,W){if(!p(B,W)&&(C===D||b(C,D,g,v,j)))return B.push(W)})){E=!1;break}}else if(C!==O&&!b(C,O,g,v,j)){E=!1;break}}return j.delete(f),j.delete(x),E}},5950:(l,c,u)=>{var d=u(695),h=u(8984),p=u(4894);l.exports=function(f){return p(f)?d(f):h(f)}},6009:(l,c,u)=>{l=u.nmd(l);var d=u(4840),h=c&&!c.nodeType&&c,p=h&&l&&!l.nodeType&&l,f=p&&p.exports===h&&d.process,x=function(){try{return p&&p.require&&p.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();l.exports=x},6025:(l,c,u)=>{var d=u(5288);l.exports=function(h,p){for(var f=h.length;f--;)if(d(h[f][0],p))return f;return-1}},6110:(l,c,u)=>{var d=u(5083),h=u(392);l.exports=function(p,f){var x=h(p,f);return d(x)?x:void 0}},6449:l=>{var c=Array.isArray;l.exports=c},6545:(l,c,u)=>{var d=u(6110)(u(9325),"Set");l.exports=d},6721:(l,c,u)=>{var d=u(1042),h=Object.prototype.hasOwnProperty;l.exports=function(p){var f=this.__data__;if(d){var x=f[p];return x==="__lodash_hash_undefined__"?void 0:x}return h.call(f,p)?f[p]:void 0}},7068:(l,c,u)=>{var d=u(7217),h=u(5911),p=u(1986),f=u(689),x=u(5861),g=u(6449),v=u(3656),b=u(7167),j="[object Arguments]",N="[object Array]",A="[object Object]",S=Object.prototype.hasOwnProperty;l.exports=function(L,I,k,E,B,C){var O=g(L),M=g(I),D=O?N:x(L),W=M?N:x(I),z=(D=D==j?A:D)==A,G=(W=W==j?A:W)==A,V=D==W;if(V&&v(L)){if(!v(I))return!1;O=!0,z=!1}if(V&&!z)return C||(C=new d),O||b(L)?h(L,I,k,E,B,C):p(L,I,D,k,E,B,C);if(!(1&k)){var Y=z&&S.call(L,"__wrapped__"),ie=G&&S.call(I,"__wrapped__");if(Y||ie){var q=Y?L.value():L,R=ie?I.value():I;return C||(C=new d),B(q,R,k,E,C)}}return!!V&&(C||(C=new d),f(L,I,k,E,B,C))}},7167:(l,c,u)=>{var d=u(4901),h=u(7301),p=u(6009),f=p&&p.isTypedArray,x=f?h(f):d;l.exports=x},7217:(l,c,u)=>{var d=u(79),h=u(1420),p=u(938),f=u(3605),x=u(9817),g=u(945);function v(b){var j=this.__data__=new d(b);this.size=j.size}v.prototype.clear=h,v.prototype.delete=p,v.prototype.get=f,v.prototype.has=x,v.prototype.set=g,l.exports=v},7296:(l,c,u)=>{var d,h=u(5481),p=(d=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";l.exports=function(f){return!!p&&p in f}},7301:l=>{l.exports=function(c){return function(u){return c(u)}}},7473:l=>{var c=Function.prototype.toString;l.exports=function(u){if(u!=null){try{return c.call(u)}catch{}try{return u+""}catch{}}return""}},7534:(l,c,u)=>{var d=u(2552),h=u(346);l.exports=function(p){return h(p)&&d(p)=="[object Arguments]"}},7670:(l,c,u)=>{var d=u(2651);l.exports=function(h){var p=d(this,h).delete(h);return this.size-=p?1:0,p}},7828:(l,c,u)=>{var d=u(9325).Uint8Array;l.exports=d},8096:l=>{l.exports=function(c,u){for(var d=-1,h=Array(c);++d<c;)h[d]=u(d);return h}},8223:(l,c,u)=>{var d=u(6110)(u(9325),"Map");l.exports=d},8303:(l,c,u)=>{var d=u(6110)(u(9325),"WeakMap");l.exports=d},8655:(l,c,u)=>{var d=u(6025);l.exports=function(h){return d(this.__data__,h)>-1}},8859:(l,c,u)=>{var d=u(3661),h=u(1380),p=u(1459);function f(x){var g=-1,v=x==null?0:x.length;for(this.__data__=new d;++g<v;)this.add(x[g])}f.prototype.add=f.prototype.push=h,f.prototype.has=p,l.exports=f},8984:(l,c,u)=>{var d=u(5527),h=u(3650),p=Object.prototype.hasOwnProperty;l.exports=function(f){if(!d(f))return h(f);var x=[];for(var g in Object(f))p.call(f,g)&&g!="constructor"&&x.push(g);return x}},9155:l=>{l.exports=r},9219:l=>{l.exports=function(c,u){return c.has(u)}},9325:(l,c,u)=>{var d=u(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,p=d||h||Function("return this")();l.exports=p},9350:l=>{var c=Object.prototype.toString;l.exports=function(u){return c.call(u)}},9770:l=>{l.exports=function(c,u){for(var d=-1,h=c==null?0:c.length,p=0,f=[];++d<h;){var x=c[d];u(x,d,c)&&(f[p++]=x)}return f}},9817:l=>{l.exports=function(c){return this.__data__.has(c)}},9905:(l,c,u)=>{u.d(c,{default:()=>V});var d=u(3146),h=u.n(d);const p=function(Y){return new RegExp(/<[a-z][\s\S]*>/i).test(Y)},f=function(Y,ie){return Math.floor(Math.random()*(ie-Y+1))+Y};var x="TYPE_CHARACTER",g="REMOVE_CHARACTER",v="REMOVE_ALL",b="REMOVE_LAST_VISIBLE_NODE",j="PAUSE_FOR",N="CALL_FUNCTION",A="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",L="CHANGE_DELAY",I="CHANGE_CURSOR",k="PASTE_STRING",E="HTML_TAG";function B(Y){return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},B(Y)}function C(Y,ie){var q=Object.keys(Y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Y);ie&&(R=R.filter(function(K){return Object.getOwnPropertyDescriptor(Y,K).enumerable})),q.push.apply(q,R)}return q}function O(Y){for(var ie=1;ie<arguments.length;ie++){var q=arguments[ie]!=null?arguments[ie]:{};ie%2?C(Object(q),!0).forEach(function(R){z(Y,R,q[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):C(Object(q)).forEach(function(R){Object.defineProperty(Y,R,Object.getOwnPropertyDescriptor(q,R))})}return Y}function M(Y){return function(ie){if(Array.isArray(ie))return D(ie)}(Y)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(Y)||function(ie,q){if(ie){if(typeof ie=="string")return D(ie,q);var R={}.toString.call(ie).slice(8,-1);return R==="Object"&&ie.constructor&&(R=ie.constructor.name),R==="Map"||R==="Set"?Array.from(ie):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?D(ie,q):void 0}}(Y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(Y,ie){(ie==null||ie>Y.length)&&(ie=Y.length);for(var q=0,R=Array(ie);q<ie;q++)R[q]=Y[q];return R}function W(Y,ie){for(var q=0;q<ie.length;q++){var R=ie[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(Y,G(R.key),R)}}function z(Y,ie,q){return(ie=G(ie))in Y?Object.defineProperty(Y,ie,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[ie]=q,Y}function G(Y){var ie=function(q){if(B(q)!="object"||!q)return q;var R=q[Symbol.toPrimitive];if(R!==void 0){var K=R.call(q,"string");if(B(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(Y);return B(ie)=="symbol"?ie:ie+""}const V=function(){function Y(R,K){var Z=this;if(function(ue,ae){if(!(ue instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,Y),z(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),z(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),z(this,"setupWrapperElement",function(){Z.state.elements.container&&(Z.state.elements.wrapper.className=Z.options.wrapperClassName,Z.state.elements.cursor.className=Z.options.cursorClassName,Z.state.elements.cursor.innerHTML=Z.options.cursor,Z.state.elements.container.innerHTML="",Z.state.elements.container.appendChild(Z.state.elements.wrapper),Z.state.elements.container.appendChild(Z.state.elements.cursor))}),z(this,"start",function(){return Z.state.eventLoopPaused=!1,Z.runEventLoop(),Z}),z(this,"pause",function(){return Z.state.eventLoopPaused=!0,Z}),z(this,"stop",function(){return Z.state.eventLoop&&((0,d.cancel)(Z.state.eventLoop),Z.state.eventLoop=null),Z}),z(this,"pauseFor",function(ue){return Z.addEventToQueue(j,{ms:ue}),Z}),z(this,"typeOutAllStrings",function(){return typeof Z.options.strings=="string"?(Z.typeString(Z.options.strings).pauseFor(Z.options.pauseFor),Z):(Z.options.strings.forEach(function(ue){Z.typeString(ue).pauseFor(Z.options.pauseFor).deleteAll(Z.options.deleteSpeed)}),Z)}),z(this,"typeString",function(ue){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(p(ue))return Z.typeOutHTMLString(ue,ae);if(ue){var xe=(Z.options||{}).stringSplitter,X=typeof xe=="function"?xe(ue):ue.split("");Z.typeCharacters(X,ae)}return Z}),z(this,"pasteString",function(ue){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p(ue)?Z.typeOutHTMLString(ue,ae,!0):(ue&&Z.addEventToQueue(k,{character:ue,node:ae}),Z)}),z(this,"typeOutHTMLString",function(ue){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,xe=arguments.length>2?arguments[2]:void 0,X=function(ke){var je=document.createElement("div");return je.innerHTML=ke,je.childNodes}(ue);if(X.length>0)for(var me=0;me<X.length;me++){var ne=X[me],he=ne.innerHTML;ne&&ne.nodeType!==3?(ne.innerHTML="",Z.addEventToQueue(A,{node:ne,parentNode:ae}),xe?Z.pasteString(he,ne):Z.typeString(he,ne)):ne.textContent&&(xe?Z.pasteString(ne.textContent,ae):Z.typeString(ne.textContent,ae))}return Z}),z(this,"deleteAll",function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return Z.addEventToQueue(v,{speed:ue}),Z}),z(this,"changeDeleteSpeed",function(ue){if(!ue)throw new Error("Must provide new delete speed");return Z.addEventToQueue(S,{speed:ue}),Z}),z(this,"changeDelay",function(ue){if(!ue)throw new Error("Must provide new delay");return Z.addEventToQueue(L,{delay:ue}),Z}),z(this,"changeCursor",function(ue){if(!ue)throw new Error("Must provide new cursor");return Z.addEventToQueue(I,{cursor:ue}),Z}),z(this,"deleteChars",function(ue){if(!ue)throw new Error("Must provide amount of characters to delete");for(var ae=0;ae<ue;ae++)Z.addEventToQueue(g);return Z}),z(this,"callFunction",function(ue,ae){if(!ue||typeof ue!="function")throw new Error("Callback must be a function");return Z.addEventToQueue(N,{cb:ue,thisArg:ae}),Z}),z(this,"typeCharacters",function(ue){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ue||!Array.isArray(ue))throw new Error("Characters must be an array");return ue.forEach(function(xe){Z.addEventToQueue(x,{character:xe,node:ae})}),Z}),z(this,"removeCharacters",function(ue){if(!ue||!Array.isArray(ue))throw new Error("Characters must be an array");return ue.forEach(function(){Z.addEventToQueue(g)}),Z}),z(this,"addEventToQueue",function(ue,ae){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Z.addEventToStateProperty(ue,ae,xe,"eventQueue")}),z(this,"addReverseCalledEvent",function(ue,ae){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Z.options.loop?Z.addEventToStateProperty(ue,ae,xe,"reverseCalledEvents"):Z}),z(this,"addEventToStateProperty",function(ue,ae){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],X=arguments.length>3?arguments[3]:void 0,me={eventName:ue,eventArgs:ae||{}};return Z.state[X]=xe?[me].concat(M(Z.state[X])):[].concat(M(Z.state[X]),[me]),Z}),z(this,"runEventLoop",function(){Z.state.lastFrameTime||(Z.state.lastFrameTime=Date.now());var ue=Date.now(),ae=ue-Z.state.lastFrameTime;if(!Z.state.eventQueue.length){if(!Z.options.loop)return;Z.state.eventQueue=M(Z.state.calledEvents),Z.state.calledEvents=[],Z.options=O({},Z.state.initialOptions)}if(Z.state.eventLoop=h()(Z.runEventLoop),!Z.state.eventLoopPaused){if(Z.state.pauseUntil){if(ue<Z.state.pauseUntil)return;Z.state.pauseUntil=null}var xe,X=M(Z.state.eventQueue),me=X.shift();if(!(ae<=(xe=me.eventName===b||me.eventName===g?Z.options.deleteSpeed==="natural"?f(40,80):Z.options.deleteSpeed:Z.options.delay==="natural"?f(120,160):Z.options.delay))){var ne=me.eventName,he=me.eventArgs;switch(Z.logInDevMode({currentEvent:me,state:Z.state,delay:xe}),ne){case k:case x:var ke=he.character,je=he.node,Q=document.createTextNode(ke),ze=Q;Z.options.onCreateTextNode&&typeof Z.options.onCreateTextNode=="function"&&(ze=Z.options.onCreateTextNode(ke,Q)),ze&&(je?je.appendChild(ze):Z.state.elements.wrapper.appendChild(ze)),Z.state.visibleNodes=[].concat(M(Z.state.visibleNodes),[{type:"TEXT_NODE",character:ke,node:ze}]);break;case g:X.unshift({eventName:b,eventArgs:{removingCharacterNode:!0}});break;case j:var Ye=me.eventArgs.ms;Z.state.pauseUntil=Date.now()+parseInt(Ye);break;case N:var Ge=me.eventArgs,Ve=Ge.cb,J=Ge.thisArg;Ve.call(J,{elements:Z.state.elements});break;case A:var de=me.eventArgs,Se=de.node,De=de.parentNode;De?De.appendChild(Se):Z.state.elements.wrapper.appendChild(Se),Z.state.visibleNodes=[].concat(M(Z.state.visibleNodes),[{type:E,node:Se,parentNode:De||Z.state.elements.wrapper}]);break;case v:var He=Z.state.visibleNodes,Fe=he.speed,Ke=[];Fe&&Ke.push({eventName:S,eventArgs:{speed:Fe,temp:!0}});for(var lt=0,ct=He.length;lt<ct;lt++)Ke.push({eventName:b,eventArgs:{removingCharacterNode:!1}});Fe&&Ke.push({eventName:S,eventArgs:{speed:Z.options.deleteSpeed,temp:!0}}),X.unshift.apply(X,Ke);break;case b:var ft=me.eventArgs.removingCharacterNode;if(Z.state.visibleNodes.length){var Et=Z.state.visibleNodes.pop(),mt=Et.type,sr=Et.node,or=Et.character;Z.options.onRemoveNode&&typeof Z.options.onRemoveNode=="function"&&Z.options.onRemoveNode({node:sr,character:or}),sr&&sr.parentNode.removeChild(sr),mt===E&&ft&&X.unshift({eventName:b,eventArgs:{}})}break;case S:Z.options.deleteSpeed=me.eventArgs.speed;break;case L:Z.options.delay=me.eventArgs.delay;break;case I:Z.options.cursor=me.eventArgs.cursor,Z.state.elements.cursor.innerHTML=me.eventArgs.cursor}Z.options.loop&&(me.eventName===b||me.eventArgs&&me.eventArgs.temp||(Z.state.calledEvents=[].concat(M(Z.state.calledEvents),[me]))),Z.state.eventQueue=X,Z.state.lastFrameTime=ue}}}),R)if(typeof R=="string"){var se=document.querySelector(R);if(!se)throw new Error("Could not find container element");this.state.elements.container=se}else this.state.elements.container=R;K&&(this.options=O(O({},this.options),K)),this.state.initialOptions=O({},this.options),this.init()}var ie,q;return ie=Y,(q=[{key:"init",value:function(){var R,K;this.setupWrapperElement(),this.addEventToQueue(I,{cursor:this.options.cursor},!0),this.addEventToQueue(v,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(R=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(K=document.createElement("style")).appendChild(document.createTextNode(R)),document.head.appendChild(K),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(R){this.options.devMode&&console.log(R)}}])&&W(ie.prototype,q),Object.defineProperty(ie,"prototype",{writable:!1}),Y}()},9935:l=>{l.exports=function(){return!1}}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var u=a[l]={id:l,loaded:!1,exports:{}};return s[l].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}i.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return i.d(c,{a:c}),c},i.d=(l,c)=>{for(var u in c)i.o(c,u)&&!i.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),i.nmd=l=>(l.paths=[],l.children||(l.children=[]),l);var o={};return(()=>{i.d(o,{default:()=>A});var l=i(9155),c=i.n(l),u=i(9905),d=i(2404),h=i.n(d);function p(S){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},p(S)}function f(S,L){for(var I=0;I<L.length;I++){var k=L[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,j(k.key),k)}}function x(S,L){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},x(S,L)}function g(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function v(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!S})()}function b(S){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},b(S)}function j(S){var L=function(I){if(p(I)!="object"||!I)return I;var k=I[Symbol.toPrimitive];if(k!==void 0){var E=k.call(I,"string");if(p(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(S);return p(L)=="symbol"?L:L+""}var N=function(S){(function(B,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(C&&C.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),C&&x(B,C)})(E,S);var L,I,k=function(B){var C=v();return function(){var O,M=b(B);if(C){var D=b(this).constructor;O=Reflect.construct(M,arguments,D)}else O=M.apply(this,arguments);return function(W,z){if(z&&(p(z)=="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(W)}(this,O)}}(E);function E(){var B,C,O,M;(function(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")})(this,E);for(var D=arguments.length,W=new Array(D),z=0;z<D;z++)W[z]=arguments[z];return C=g(B=k.call.apply(k,[this].concat(W))),M={instance:null},(O=j(O="state"))in C?Object.defineProperty(C,O,{value:M,enumerable:!0,configurable:!0,writable:!0}):C[O]=M,B}return L=E,(I=[{key:"componentDidMount",value:function(){var B=this,C=new u.default(this.typewriter,this.props.options);this.setState({instance:C},function(){var O=B.props.onInit;O&&O(C)})}},{key:"componentDidUpdate",value:function(B){h()(this.props.options,B.options)||this.setState({instance:new u.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var B=this,C=this.props.component;return c().createElement(C,{ref:function(O){return B.typewriter=O},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&f(L.prototype,I),Object.defineProperty(L,"prototype",{writable:!1}),E}(l.Component);N.defaultProps={component:"div"};const A=N})(),o.default})())})(NF);var Jee=NF.exports;const ete=pn(Jee);var y6={},gS={exports:{}};(function(e,t){(function(r,s){s(t)})(ul,function(r){var s=function(){return s=Object.assign||function(i){for(var o,l=1,c=arguments.length;l<c;l++)for(var u in o=arguments[l])Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u]);return i},s.apply(this,arguments)},a=function(){function i(o,l,c){var u=this;this.endVal=l,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(d){u.startTime||(u.startTime=d);var h=d-u.startTime;u.remaining=u.duration-h,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(h,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(h,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(h/u.duration);var p=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=p?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),h<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(d){var h,p,f,x,g=d<0?"-":"";h=Math.abs(d).toFixed(u.options.decimalPlaces);var v=(h+="").split(".");if(p=v[0],f=v.length>1?u.options.decimal+v[1]:"",u.options.useGrouping){x="";for(var b=3,j=0,N=0,A=p.length;N<A;++N)u.options.useIndianSeparators&&N===4&&(b=2,j=1),N!==0&&j%b==0&&(x=u.options.separator+x),j++,x=p[A-N-1]+x;p=x}return u.options.numerals&&u.options.numerals.length&&(p=p.replace(/[0-9]/g,function(S){return u.options.numerals[+S]}),f=f.replace(/[0-9]/g,function(S){return u.options.numerals[+S]})),g+u.options.prefix+p+f+u.options.suffix},this.easeOutExpo=function(d,h,p,f){return p*(1-Math.pow(2,-10*d/f))*1024/1023+h},this.options=s(s({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return u.handleScroll(u)}),window.onscroll=function(){window.onScrollFns.forEach(function(d){return d()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(o){if(o&&window&&!o.once){var l=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),u=c.top+window.pageYOffset,d=c.top+c.height+window.pageYOffset;d<l&&d>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>d||u>l)&&!o.paused&&o.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var l=o-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(o){var l;if(this.el){var c=this.formattingFn(o);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},i.prototype.validateValue=function(o){var l=Number(o);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i.prototype.parse=function(o){var l=function(h){return h.replace(/([.,'  ])/g,"\\$1")},c=l(this.options.separator),u=l(this.options.decimal),d=o.replace(new RegExp(c,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(d)},i}();r.CountUp=a})})(gS,gS.exports);var tte=gS.exports;Object.defineProperty(y6,"__esModule",{value:!0});var Ea=_,rte=tte;function nte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function t2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(s){ite(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e){var t=ste(e,"string");return typeof t=="symbol"?t:String(t)}function ite(e,t,r){return t=ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xS.apply(this,arguments)}function ote(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _F(e,t){if(e==null)return{};var r=ote(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lte(e,t){return cte(e)||nte(e,t)||ute(e,t)||dte()}function cte(e){if(Array.isArray(e))return e}function ute(e,t){if(e){if(typeof e=="string")return AP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AP(e,t)}}function AP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ea.useLayoutEffect:Ea.useEffect;function Vl(e){var t=Ea.useRef(e);return hte(function(){t.current=e}),Ea.useCallback(function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.current.apply(void 0,s)},[])}var fte=function(t,r){var s=r.decimal,a=r.decimals,i=r.duration,o=r.easingFn,l=r.end,c=r.formattingFn,u=r.numerals,d=r.prefix,h=r.separator,p=r.start,f=r.suffix,x=r.useEasing,g=r.useGrouping,v=r.useIndianSeparators,b=r.enableScrollSpy,j=r.scrollSpyDelay,N=r.scrollSpyOnce,A=r.plugin;return new rte.CountUp(t,l,{startVal:p,duration:i,decimal:s,decimalPlaces:a,easingFn:o,formattingFn:c,numerals:u,separator:h,prefix:d,suffix:f,plugin:A,useEasing:x,useIndianSeparators:v,useGrouping:g,enableScrollSpy:b,scrollSpyDelay:j,scrollSpyOnce:N})},mte=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],pte={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},SF=function(t){var r=Object.fromEntries(Object.entries(t).filter(function(E){var B=lte(E,2),C=B[1];return C!==void 0})),s=Ea.useMemo(function(){return t2(t2({},pte),r)},[t]),a=s.ref,i=s.startOnMount,o=s.enableReinitialize,l=s.delay,c=s.onEnd,u=s.onStart,d=s.onPauseResume,h=s.onReset,p=s.onUpdate,f=_F(s,mte),x=Ea.useRef(),g=Ea.useRef(),v=Ea.useRef(!1),b=Vl(function(){return fte(typeof a=="string"?a:a.current,f)}),j=Vl(function(E){var B=x.current;if(B&&!E)return B;var C=b();return x.current=C,C}),N=Vl(function(){var E=function(){return j(!0).start(function(){c?.({pauseResume:A,reset:S,start:I,update:L})})};l&&l>0?g.current=setTimeout(E,l*1e3):E(),u?.({pauseResume:A,reset:S,update:L})}),A=Vl(function(){j().pauseResume(),d?.({reset:S,start:I,update:L})}),S=Vl(function(){j().el&&(g.current&&clearTimeout(g.current),j().reset(),h?.({pauseResume:A,start:I,update:L}))}),L=Vl(function(E){j().update(E),p?.({pauseResume:A,reset:S,start:I})}),I=Vl(function(){S(),N()}),k=Vl(function(E){i&&(E&&S(),N())});return Ea.useEffect(function(){v.current?o&&k(!0):(v.current=!0,k())},[o,v,k,l,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.formattingFn]),Ea.useEffect(function(){return function(){S()}},[S]),{start:I,pauseResume:A,reset:S,update:L,getCountUp:j}},gte=["className","redraw","containerProps","children","style"],xte=function(t){var r=t.className,s=t.redraw,a=t.containerProps,i=t.children,o=t.style,l=_F(t,gte),c=Ea.useRef(null),u=Ea.useRef(!1),d=SF(t2(t2({},l),{},{ref:c,startOnMount:typeof i!="function"||t.delay===0,enableReinitialize:!1})),h=d.start,p=d.reset,f=d.update,x=d.pauseResume,g=d.getCountUp,v=Vl(function(){h()}),b=Vl(function(A){t.preserveValue||p(),f(A)}),j=Vl(function(){if(typeof t.children=="function"&&!(c.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}g()});Ea.useEffect(function(){j()},[j]),Ea.useEffect(function(){u.current&&b(t.end)},[t.end,b]);var N=s&&t;return Ea.useEffect(function(){s&&u.current&&v()},[v,s,N]),Ea.useEffect(function(){!s&&u.current&&v()},[v,s,t.start,t.suffix,t.prefix,t.duration,t.separator,t.decimals,t.decimal,t.className,t.formattingFn]),Ea.useEffect(function(){u.current=!0},[]),typeof i=="function"?i({countUpRef:c,start:h,reset:p,update:f,pauseResume:x,getCountUp:g}):Ea.createElement("span",xS({className:r,ref:c,style:o},a),typeof t.start<"u"?g().formattingFn(t.start):"")},h5=y6.default=xte;y6.useCountUp=SF;const yte="/assets/photo-grid-B3_rTPhv.jpg",f5=()=>{const e=Jn(),t=[{name:"Sarah M.",image:"https://i.imgur.com/BScsxGX.jpg",role:"Familienshooting",text:"Ein wundervolles Erlebnis! Die Fotos sind einfach traumhaft geworden und die Atmosphäre war super entspannt. Unsere Kinder haben sich sofort wohlgefühlt."},{name:"Michael K.",image:"https://i.imgur.com/HGZGIGX.jpg",role:"Business Portrait",text:"Professionell, kreativ und effizient. Die Business Portraits sind genau so geworden, wie ich sie mir vorgestellt habe. Sehr zu empfehlen!"},{name:"Lisa & Tom",image:"https://i.imgur.com/fcFwAhs.jpg",role:"Hochzeitsfotografie",text:"Unsere Hochzeitsfotos sind einfach magisch! Jeder besondere Moment wurde perfekt eingefangen. Wir sind überglücklich mit dem Ergebnis."},{name:"Anna W.",image:"https://i.imgur.com/xx3UWL7.jpg",role:"Schwangerschaftsshooting",text:"Die Schwangerschaftsfotos sind wunderschön geworden. Ich fühlte mich während des Shootings sehr wohl und die Bilder spiegeln genau diese besondere Zeit wider."},{name:"Maria & Peter",image:"https://i.imgur.com/9d98SBH.jpg",role:"Neugeborenen-Shooting",text:"Die Fotos unseres Neugeborenen sind unbezahlbar. Die Geduld und Professionalität während des Shootings war beeindruckend. Jedes Bild ist ein Kunstwerk!"},{name:"Christina R.",image:"https://i.imgur.com/8HD86CW.jpg",role:"Event-Fotografie",text:"Die Fotos von unserer Firmenveranstaltung sind fantastisch. Jeder wichtige Moment wurde festgehalten, ohne dass es gestellt wirkt. Absolut empfehlenswert!"}],r=[{title:"Was macht New Age Fotografie einzigartig?",image:"https://i.postimg.cc/D09JNp5m/00014518.jpg",alt:"Unique photography style"},{title:"Wo finden die Fotoshootings statt?",image:"https://i.postimg.cc/YqFdbhxq/00505458.jpg",alt:"Studio and outdoor locations"},{title:"Wie bereiten wir uns auf das Fotoshooting vor?",image:"https://i.postimg.cc/66k02BNs/00509892.jpg",alt:"Photoshoot preparation"},{title:"Wie lange dauert ein Familienfotoshooting?",image:"https://i.postimg.cc/W1Pq6KhH/00015672.jpg",alt:"Family photoshoot duration"},{title:"Können wir Haustiere zum Fotoshooting mitbringen?",image:"https://i.postimg.cc/7Y1g57V7/RJGOQBO.jpg",alt:"Pets in photoshoot"},{title:"Wie sorgt ihr dafür, dass wir uns vor der Kamera wohlfühlen?",image:"https://i.postimg.cc/Wb070x2d/brother-sister-close-up-30x20-L.jpg",alt:"Bad weather alternatives"}];return n.jsxs(us,{children:[n.jsx("section",{className:"bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 flex flex-col md:flex-row items-center justify-between",children:[n.jsxs("div",{className:"max-w-2xl md:w-3/5 mb-8 md:mb-0",children:[n.jsx("h1",{className:"mb-4 leading-tight text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:"Familien- & Neugeborenenfotograf in Wien, dem Sie vertrauen können"}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-purple-600 text-transparent bg-clip-text",children:n.jsx(ete,{options:{strings:["Endlich ein Fotostudio..."],autoStart:!0,loop:!0,cursor:"",delay:50,deleteSpeed:50,pauseFor:2500}})}),n.jsx("span",{className:"block text-xl sm:text-2xl md:text-4xl font-bold text-gray-900 tracking-tighter animate-fade-in-up",children:"das spontane, natürliche und individuelle Porträts Ihrer Familie liefert..."})]}),n.jsx("button",{onClick:()=>e("/fotoshootings"),className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-medium py-3 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Jetzt Shooting Buchen"})]}),n.jsx("div",{className:"md:w-2/5",children:n.jsx("img",{src:yte,alt:"Comprehensive family portrait showcase featuring various photography styles including family groups, couples, newborns, maternity, and lifestyle sessions",className:"w-full rounded-lg shadow-lg",onError:s=>{s.currentTarget.src="https://i.postimg.cc/zGVgt500/Familienportrat-Wien-Krchnavy-Stolz-0105-1024x683-1.jpg"},loading:"lazy"})})]})}),n.jsx("section",{className:"py-12 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto text-center",children:n.jsxs("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:["Als ",n.jsx("strong",{children:"Familienfotograf in Wien"})," und spezialisierter ",n.jsx("strong",{children:"Neugeborenenfotograf in Wien"})," schaffen wir zeitlose Erinnerungen in entspannter Studioatmosphäre. Selbst wenn Sie kamerascheu sind oder unberechenbare Kinder haben, erstellen wir Familienporträts, die Sie für immer schätzen werden."]})})})}),n.jsx("section",{className:"bg-gradient-to-r from-pink-500 to-purple-600 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(h5,{end:27156,duration:2.5,separator:","})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:"Glückliche Familien"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(h5,{end:5431977,duration:2.5,separator:","})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:"Porträts eingefangen"})]}),n.jsxs("div",{className:"text-white",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:n.jsx(h5,{end:27,duration:2.5})}),n.jsx("div",{className:"text-base md:text-lg text-white/90",children:"Jahre Berufserfahrung"})]})]})})}),n.jsx("section",{className:"py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-16",children:[n.jsx("div",{className:"md:w-1/3",children:n.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg shadow-lg",children:n.jsx("img",{src:"https://i.postimg.cc/zGVgt500/Familienportrat-Wien-Krchnavy-Stolz-0105-1024x683-1.jpg",alt:"Familienfotografie Wien - Professionelle Familienporträts im Studio",className:"w-full h-full object-cover",loading:"lazy"})})}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:"Babybauch-Shooting & Familienporträts"}),n.jsxs("p",{className:"text-gray-700 mb-4",children:["Wir schaffen eine komfortable Umgebung und führen Sie durch die gesamte Sitzung, damit Sie sich entspannt und selbstbewusst fühlen. Unsere ",n.jsx("a",{href:"/galerie",className:"text-purple-600 font-semibold hover:underline",children:"Galerie mit Beispielen Familienfotos"})," zeigt die Qualität unserer Arbeit."]}),n.jsxs("p",{className:"text-gray-700 mb-4",children:[n.jsx("span",{className:"font-semibold",children:"Unsere Expertise, schmeichelhafte Winkel zu finden und natürliche, authentische Ausdrücke einzufangen,"})," stellt sicher, dass Ihre Fotos echt aussehen und sich auch so anfühlen. ",n.jsx("a",{href:"https://www.wien.gv.at/stadtentwicklung/projekte/zielgebiete/donaustadt/seestadt-aspern/fotowalk.html",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"Wien bietet einzigartige Fotospots"})," für Outdoor-Shootings."]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-semibold",children:"Wir bieten flexible Terminplanung mit verfügbaren Terminen an Wochenenden, einschließlich Sonntagen."})," Dadurch finden Sie leicht eine passende Zeit für Ihre Fotosession."]})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center gap-8",children:[n.jsx("div",{className:"md:w-1/3",children:n.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg shadow-lg",children:n.jsx("img",{src:"https://i.imgur.com/ITKEF8q.jpg",alt:"Neugeborenenfotos Wien - Einfühlsame Babyfotografie im Studio",className:"w-full h-full object-cover",loading:"lazy"})})}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-4",children:"Business-Headshots & Preise"}),n.jsxs("p",{className:"text-gray-700 mb-4",children:["Erleben Sie ",n.jsx("span",{className:"font-semibold",children:"maßgeschneiderte Fotoshootings in unserem kundenorientierten Studio."})," Wir legen großen Wert auf Details und schaffen eine komfortable Umgebung."]}),n.jsxs("p",{className:"text-gray-700 mb-4",children:[n.jsx("span",{className:"font-semibold",children:"Unsere professionellen Fotografen finden die schmeichelhaftesten Winkel und fangen authentische Ausdrücke ein."})," Unsere zeitlosen Fotos werden zu wertvollen Erinnerungen."]}),n.jsxs("p",{className:"text-gray-700",children:["Als familienfreundliches Studio bieten wir eine entspannte und stressfreie Atmosphäre für unvergessliche Shootings. ",n.jsx("span",{className:"font-semibold",children:"Kontaktieren Sie uns noch heute!"})]})]})]})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.postimg.cc/V6TFF8rC/00508749.jpg",alt:"Familienporträts Wien - Natürliche Familienfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Familienporträts in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden."})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/AMnhw6w.jpg",alt:"Babybauch Fotografie Wien - Schwangerschaftsfotos im Studio",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Schwangerschaftsfotografie in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben."})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/VLYZQof.jpg",alt:"Neugeborenenfotos im Studio Wien - Professionelle Babyfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Neugeborenenfotografie in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen."})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/9RaPUSK.jpg",alt:"Business Headshots Wien - Professionelle Businessfotografie",className:"w-full h-full object-cover",loading:"lazy"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Firmenfotografie in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren."})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/0KAHvWd.jpg",alt:"Event photography",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Eventfotografie in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten."})]})]}),n.jsxs("div",{onClick:()=>e("/fotoshootings"),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://images.pexels.com/photos/1024993/pexels-photo-1024993.jpeg",alt:"Wedding photography",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Hochzeitsfotografie in Wien & Zurich"}),n.jsx("p",{className:"text-gray-600",children:"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein."})]})]})]})})}),n.jsx("section",{className:"py-12",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:"Erstklassiges Portraitstudio in Wien & Zürich | Familien-, Neugeborenen-, Schwangerschafts- & Unternehmensfotografie"})})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/Vd6xtPg.jpg",alt:"Pregnancy photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Schwangerschafts-Shooting"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Professionelle Fotografie für werdende Mütter"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€199"}),n.jsx("button",{onClick:()=>e("/gutschein/maternity"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:"Jetzt Buchen"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/4m5hoL9.jpg",alt:"Family photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Familien-Shooting"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Unvergessliche Momente für die ganze Familie"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€249"}),n.jsx("button",{onClick:()=>e("/gutschein/family"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:"Jetzt Buchen"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:"https://i.imgur.com/QWOgLqX.jpg",alt:"Newborn photoshoot",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"Neugeborenen-Shooting"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Erste Momente Ihres kleinen Wunders"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"€299"}),n.jsx("button",{onClick:()=>e("/gutschein/newborn"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-full transition-colors",children:"Jetzt Buchen"})]})]})]})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:"Was unsere Kunden sagen"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:s.image,alt:s.name,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:s.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:s.role})]})]}),n.jsx("p",{className:"text-gray-700",children:s.text})]},a))})]})}),n.jsx("section",{className:"py-16 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-12 text-purple-900",children:"FAQs - Häufig gestellte Fragen"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((s,a)=>n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-lg mb-6",children:n.jsx("img",{src:s.image,alt:s.alt,className:"w-full h-full object-cover"})}),n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-4",children:s.title}),n.jsxs("p",{className:"text-gray-700",children:[a===0&&"Unsere Leidenschaft für authentische Momente und unser Engagement für Qualität. Wir verstehen Familie als mehr als nur eine Gruppe von Menschen; es sind die Beziehungen und Liebe, die wir in jedem Bild festhalten. Unser Ansatz verbindet künstlerische Vision mit persönlicher Betreuung, um Fotos zu erschaffen, die Ihre Familiengeschichte erzählen.",a===1&&"Unsere Fotoshootings finden ausschließlich in unserem Studio in Wien statt. Dort haben wir die perfekte Umgebung und professionelles Licht – ideal für natürliche und stilvolle Familienporträts.",a===2&&"Nach der Buchung erhalten Sie von uns eine detaillierte Anleitung zur Vorbereitung – von der Auswahl der Kleidung bis hin zu Tipps für die Gestaltung des Shootings. Unser Ziel ist es, dass Sie sich wohl fühlen und Spaß haben.",a===3&&"Unsere Familienfotoshootings dauern in der Regel bis zu einer Stunde. Wir nehmen uns genug Zeit, um sicherzustellen, dass schöne, natürliche Aufnahmen entstehen – ganz entspannt und ohne Eile.",a===4&&"Absolut! Haustiere sind ein wichtiger Teil der Familie und herzlich willkommen.",a===5&&"Wir wissen: Nicht jeder steht gerne vor der Kamera. Aber genau das ist unsere Stärke! Mit viel Einfühlungsvermögen, Humor und einer lockeren Atmosphäre helfen wir Groß und Klein, sich zu entspannen. Bei uns darf gelacht, gealbert und echt sein – so entstehen die natürlichsten Familienfotos."]})]},a))})]})})]})},vte=()=>{const e=Jn();_.useEffect(()=>{document.title="Fotoshootings Wien - Familien & Neugeborenen Fotografie | New Age Fotografie";let r=document.querySelector('meta[name="description"]');r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content","Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder, Business-Headshots. Erfahrener Fotograf mit Studio in 1050 Wien.");let s=document.querySelector('meta[property="og:title"]');return s||(s=document.createElement("meta"),s.setAttribute("property","og:title"),document.head.appendChild(s)),s.setAttribute("content","Fotoshootings Wien - Professionelle Fotografie | New Age Fotografie"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const t=[{title:"Familienporträts in Wien & Zürich",description:"Unsere Familiensitzungen drehen sich darum, die einzigartige Bindung festzuhalten, die Sie teilen. Von spontanen Momenten bis hin zu inszenierten Porträts schaffen wir Bilder, die Sie für immer schätzen werden.",image:"https://i.postimg.cc/gcKwDrqv/Baby-Pink-Bubbles-20x20.jpg",link:"/gutschein/family"},{title:"Schwangerschaftsfotografie in Wien & Zürich",description:"Feiern Sie die Schönheit der Mutterschaft mit unseren Schwangerschaftssitzungen. Wir schaffen atemberaubende Bilder, die diese besondere Zeit in Ihrem Leben hervorheben.",image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:"Neugeborenenfotografie in Wien & Zürich",description:"Es gibt nichts Zarteres als die ersten Tage im Leben eines Neugeborenen. Unsere Neugeborenensitzungen konzentrieren sich darauf, diese flüchtigen Momente mit Zärtlichkeit und Sorgfalt einzufangen.",image:"https://i.postimg.cc/43YQ9VD4/4-S8-A4770-105-1024x683-Copy.jpg",link:"/gutschein/newborn"},{title:"Firmenfotografie in Wien & Zürich",description:"Verbessern Sie Ihr professionelles Image mit unseren Firmenfotografie-Dienstleistungen. Von Porträts bis hin zu Teamfotos helfen wir Ihnen, Ihr Unternehmen im besten Licht zu präsentieren.",image:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",link:"/fotoshootings/business"},{title:"Eventfotografie in Wien & Zürich",description:"Es gibt nichts Aufregenderes als die unvergesslichen Momente bei Veranstaltungen. Unsere Eventfotografie konzentriert sich darauf, diese besonderen Augenblicke mit Kreativität und Professionalität festzuhalten.",image:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",link:"/fotoshootings/event"},{title:"Hochzeitsfotografie in Wien & Zürich",description:"Es gibt nichts Schöneres als die Magie eines Hochzeitstages. Unsere Hochzeitsfotografie fängt diese magischen Momente mit Liebe zum Detail und künstlerischem Flair ein.",image:"https://i.postimg.cc/j50XzC6p/4S8A7207.jpg",link:"/fotoshootings/wedding"}];return n.jsxs(us,{children:[n.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Fotoshootings Wien - Familien & Neugeborenen Fotografie"}),n.jsx("p",{className:"text-purple-100 text-lg",children:"Professionelle Fotoshootings in Wien: Familienporträts, Schwangerschaftsfotos, Neugeborenenbilder & Business-Headshots"})]})})}),n.jsx("section",{className:"py-16",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((r,s)=>n.jsxs("div",{className:"mb-12",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-4",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]}),n.jsxs("div",{className:"relative aspect-[4/3] rounded-lg overflow-hidden mb-8",children:[n.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:n.jsx("button",{onClick:()=>e(r.link),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-8 rounded-lg transition-colors transform hover:scale-105",children:"Mehr erfahren"})})]})]},s))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Wir bieten flexible Terminvereinbarung an, auch an Wochenenden"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Qn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Für die ganze Familie"}),n.jsx("p",{className:"text-gray-600",children:"Geeignet für Familien jeder Größe, inklusive Haustiere"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ra,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),n.jsx("p",{className:"text-gray-600",children:"Modernste Kameraausrüstung für beste Ergebnisse"})]})]})]})})]})},bte=()=>{const e=Jn();_.useEffect(()=>{document.title="Gutscheine für Fotoshootings Wien - Familien & Baby | New Age Fotografie";let r=document.querySelector('meta[name="description"]');return r||(r=document.createElement("meta"),r.setAttribute("name","description"),document.head.appendChild(r)),r.setAttribute("content","Fotoshooting-Gutscheine für Wien: Familienfotografie, Schwangerschaftsfotos, Neugeborenenbilder. Das perfekte Geschenk für besondere Momente."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const t=[{title:"Familien Fotoshooting",description:"Unvergessliche Momente für die ganze Familie",icon:ra,image:"https://i.imgur.com/4m5hoL9.jpg",link:"/gutschein/family"},{title:"Schwangerschafts Fotoshooting",description:"Magische Momente Ihrer Schwangerschaft",icon:Ln,image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",link:"/gutschein/maternity"},{title:"Neugeborenen Fotoshooting",description:"Die ersten kostbaren Momente Ihres Babys",icon:VJ,image:"https://i.imgur.com/QWOgLqX.jpg",link:"/gutschein/newborn"}];return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-purple-900 mb-8 text-center",children:"Fotoshooting Gutscheine Wien - Das perfekte Geschenk"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,s)=>{const a=r.icon;return n.jsxs("div",{onClick:()=>e(r.link),className:"bg-white rounded-lg shadow-lg overflow-hidden cursor-pointer transform transition-all hover:-translate-y-1 hover:shadow-xl",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute top-4 right-4 bg-white p-2 rounded-full shadow-lg",children:n.jsx(a,{className:"text-purple-600",size:24})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),n.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Mehr erfahren"})]})]},s)})})]})})},wte=()=>{const[e,t]=DQ(),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState(null),[d,h]=_.useState(0),[p,f]=_.useState(1),x=parseInt(e.get("page")||"1"),g=e.get("tag")||"",v=e.get("search")||"";_.useEffect(()=>{b()},[x,g,v]),_.useEffect(()=>{document.title="Blog - Fotografie Tipps & Inspiration | New Age Fotografie Wien";let S=document.querySelector('meta[name="description"]');S||(S=document.createElement("meta"),S.setAttribute("name","description"),document.head.appendChild(S)),S.setAttribute("content","Fotografie-Blog mit Tipps für Familienfotos, Neugeborenenbilder und Schwangerschaftsfotos. Inspiration und Beratung vom Wiener Familienfotograf.");let L=document.querySelector('meta[property="og:title"]');return L||(L=document.createElement("meta"),L.setAttribute("property","og:title"),document.head.appendChild(L)),L.setAttribute("content","Fotografie Blog - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const b=async()=>{try{l(!0),u(null);const S=new URLSearchParams;S.append("published","true"),g&&S.append("tag",g),v&&S.append("search",v),S.append("page",x.toString()),S.append("limit","10");const L=await fetch(`/api/blog/posts?${S.toString()}`);if(!L.ok)throw new Error("Failed to fetch blog posts");const I=await L.json(),k=I.posts||[];if(s(k),h(I.count||0),f(Math.ceil((I.count||0)/10)),a.length===0&&k.length>0){const E=k.flatMap(C=>C.tags||[]),B=[...new Set(E)].map(C=>({id:C,name:C,slug:C}));i(B)}}catch{u("Failed to load blog posts. Please try again later.")}finally{l(!1)}},j=S=>{const L=new URLSearchParams(e);S.target.value?L.set("search",S.target.value):L.delete("search"),L.set("page","1"),t(L)},N=S=>{const L=new URLSearchParams(e);S===g?L.delete("tag"):L.set("tag",S),L.set("page","1"),t(L)},A=S=>S?new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return n.jsxs(us,{children:[n.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-purple-800 py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Fotografie Blog - Tipps & Inspiration"}),n.jsx("p",{className:"text-purple-100 text-lg",children:"Entdecken Sie Fotografie-Tipps, Behind-the-Scenes und Inspiration für perfekte Familienfotos"})]})})}),n.jsx("div",{className:"container mx-auto px-4 py-12",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"lg:col-span-3",children:[n.jsxs("div",{className:"mb-8 relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search blog posts...",value:v,onChange:j,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),o?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading posts..."})]}):c?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}):r.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r.map(S=>n.jsxs("article",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:shadow-lg hover:-translate-y-1",children:[n.jsx(Gt,{to:`/blog/${S.slug}`,className:"block aspect-[16/9] overflow-hidden bg-gray-100",children:S.imageUrl?n.jsx("img",{src:S.imageUrl,alt:S.title,className:"w-full h-full object-cover transition-transform hover:scale-105",loading:"lazy",onError:L=>{L.currentTarget.style.display="none";const I=L.currentTarget.parentElement;I&&!I.querySelector(".placeholder-shown")&&(I.innerHTML=`
                                <div class="placeholder-shown w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center">
                                  <div class="text-center">
                                    <svg class="w-12 h-12 text-purple-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <p class="text-purple-600 text-sm font-medium">${S.title.substring(0,30)}...</p>
                                  </div>
                                </div>
                              `)}}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"w-12 h-12 text-purple-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsxs("p",{className:"text-purple-600 text-sm font-medium",children:[S.title.substring(0,30),"..."]})]})})}),n.jsxs("div",{className:"p-6",children:[S.tags&&S.tags.length>0&&n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Vh,{size:16,className:"text-purple-600 mr-2"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:S.tags.map((L,I)=>{const k=a.find(E=>E.name===L);return k?n.jsxs("span",{className:"text-sm text-purple-600 cursor-pointer hover:text-purple-800",onClick:()=>N(k.slug),children:[L,I<S.tags.length-1&&", "]},I):null})})]}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2 line-clamp-2",children:n.jsx(Gt,{to:`/blog/${S.slug}`,className:"hover:text-purple-600 transition-colors",children:S.title})}),S.excerpt&&n.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:S.excerpt}),n.jsx("div",{className:"flex flex-wrap items-center text-sm text-gray-500 mb-3 gap-4",children:S.publishedAt&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{size:14,className:"mr-1"}),A(S.publishedAt)]})}),n.jsxs(Gt,{to:`/blog/${S.slug}`,className:"text-purple-600 hover:text-purple-800 font-medium text-sm inline-flex items-center",children:["Read more",n.jsx(Oh,{size:16,className:"ml-1"})]})]})]},S.id))}):n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No posts found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:v||g?"No posts match your search criteria. Try adjusting your filters.":"We haven't published any blog posts yet. Check back soon!"}),(v||g)&&n.jsx("button",{onClick:()=>{t(new URLSearchParams)},className:"text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}),p>1&&n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs("nav",{className:"inline-flex rounded-md shadow",children:[n.jsx("button",{onClick:()=>{if(x>1){const S=new URLSearchParams(e);S.set("page",(x-1).toString()),t(S)}},disabled:x===1,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 ${x===1?"opacity-50 cursor-not-allowed":""}`,children:"Previous"}),Array.from({length:p},(S,L)=>L+1).map(S=>n.jsx("button",{onClick:()=>{const L=new URLSearchParams(e);L.set("page",S.toString()),t(L)},className:`px-4 py-2 text-sm font-medium ${S===x?"bg-purple-600 text-white border border-purple-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:S},S)),n.jsx("button",{onClick:()=>{if(x<p){const S=new URLSearchParams(e);S.set("page",(x+1).toString()),t(S)}},disabled:x===p,className:`px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 ${x===p?"opacity-50 cursor-not-allowed":""}`,children:"Next"})]})})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Categories"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs("button",{onClick:()=>N(""),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${g===""?"text-purple-600 font-medium":""}`,children:[n.jsx(Oh,{size:16,className:"mr-2"}),"All Categories"]})}),a.map(S=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>N(S.slug),className:`flex items-center text-gray-600 hover:text-purple-600 transition-colors ${g===S.slug?"text-purple-600 font-medium":""}`,children:[n.jsx(Oh,{size:16,className:"mr-2"}),S.name]})},S.id))]})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Newsletter"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Stay updated with our latest photography tips and special offers."}),n.jsxs("form",{className:"space-y-4",children:[n.jsx("input",{type:"email",placeholder:"Your email address",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),n.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Subscribe"})]})]})]})]})})]})};var AF={exports:{}},jte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nte=jte,_te=Nte;function kF(){}function CF(){}CF.resetWarningCache=kF;var Ste=function(){function e(s,a,i,o,l,c){if(c!==_te){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CF,resetWarningCache:kF};return r.PropTypes=r,r};AF.exports=Ste();var Ate=AF.exports;const gt=pn(Ate);function kte(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var PF=_,Cte=kte(PF);function kP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ete=!!(typeof window<"u"&&window.document&&window.document.createElement);function Tte(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(d){return d.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(d){Pte(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=l;return l=void 0,o=[],x};var p=h.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),c()},p.componentDidUpdate=function(){c()},p.componentWillUnmount=function(){var x=o.indexOf(this);o.splice(x,1),c()},p.render=function(){return Cte.createElement(i,this.props)},h}(PF.PureComponent);return kP(u,"displayName","SideEffect("+s(i)+")"),kP(u,"canUseDOM",Ete),u}}var Ote=Tte;const Lte=pn(Ote);var Ite=typeof Element<"u",Mte=typeof Map=="function",Dte=typeof Set=="function",Rte=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function T1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!T1(e[s],t[s]))return!1;return!0}var i;if(Mte&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;for(i=e.entries();!(s=i.next()).done;)if(!T1(s.value[1],t.get(s.value[0])))return!1;return!0}if(Dte&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(s=i.next()).done;)if(!t.has(s.value[0]))return!1;return!0}if(Rte&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[s]))return!1;if(Ite&&e instanceof Element)return!1;for(s=r;s--!==0;)if(!((a[s]==="_owner"||a[s]==="__v"||a[s]==="__o")&&e.$$typeof)&&!T1(e[a[s]],t[a[s]]))return!1;return!0}return e!==e&&t!==t}var Fte=function(t,r){try{return T1(t,r)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const $te=pn(Fte);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var CP=Object.getOwnPropertySymbols,Bte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable;function Ute(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function qte(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var s=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(s.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Vte=qte()?Object.assign:function(e,t){for(var r,s=Ute(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)Bte.call(r,o)&&(s[o]=r[o]);if(CP){a=CP(r);for(var l=0;l<a.length;l++)zte.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s};const Wte=pn(Vte);var bm={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},br={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(br).map(function(e){return br[e]});var as={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},r2={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ey={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Hte=Object.keys(r2).reduce(function(e,t){return e[r2[t]]=t,e},{}),Gte=[br.NOSCRIPT,br.SCRIPT,br.STYLE],Jl="data-react-helmet",Kte=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yte=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Zte=function(){function e(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),Gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xte=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},PP=function(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r},Qte=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},yS=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Jte=function(t){var r=mg(t,br.TITLE),s=mg(t,Ey.TITLE_TEMPLATE);if(s&&r)return s.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=mg(t,Ey.DEFAULT_TITLE);return r||a||void 0},ere=function(t){return mg(t,Ey.ON_CHANGE_CLIENT_STATE)||function(){}},m5=function(t,r){return r.filter(function(s){return typeof s[t]<"u"}).map(function(s){return s[t]}).reduce(function(s,a){return Gi({},s,a)},{})},tre=function(t,r){return r.filter(function(s){return typeof s[br.BASE]<"u"}).map(function(s){return s[br.BASE]}).reverse().reduce(function(s,a){if(!s.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&a[c])return s.concat(a)}return s},[])},A0=function(t,r,s){var a={};return s.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&are("Helmet: "+t+' should be of type "Array". Instead found type "'+Kte(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(p){for(var f=void 0,x=Object.keys(p),g=0;g<x.length;g++){var v=x[g],b=v.toLowerCase();r.indexOf(b)!==-1&&!(f===as.REL&&p[f].toLowerCase()==="canonical")&&!(b===as.REL&&p[b].toLowerCase()==="stylesheet")&&(f=b),r.indexOf(v)!==-1&&(v===as.INNER_HTML||v===as.CSS_TEXT||v===as.ITEM_PROP)&&(f=v)}if(!f||!p[f])return!1;var j=p[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][j]?!1:(l[f][j]=!0,!0)}).reverse().forEach(function(p){return i.push(p)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=Wte({},a[d],l[d]);a[d]=h}return i},[]).reverse()},mg=function(t,r){for(var s=t.length-1;s>=0;s--){var a=t[s];if(a.hasOwnProperty(r))return a[r]}return null},rre=function(t){return{baseTag:tre([as.HREF,as.TARGET],t),bodyAttributes:m5(bm.BODY,t),defer:mg(t,Ey.DEFER),encode:mg(t,Ey.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:m5(bm.HTML,t),linkTags:A0(br.LINK,[as.REL,as.HREF],t),metaTags:A0(br.META,[as.NAME,as.CHARSET,as.HTTPEQUIV,as.PROPERTY,as.ITEM_PROP],t),noscriptTags:A0(br.NOSCRIPT,[as.INNER_HTML],t),onChangeClientState:ere(t),scriptTags:A0(br.SCRIPT,[as.SRC,as.INNER_HTML],t),styleTags:A0(br.STYLE,[as.CSS_TEXT],t),title:Jte(t),titleAttributes:m5(bm.TITLE,t)}},vS=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){vS(t)},0)}}(),EP=function(t){return clearTimeout(t)},nre=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||vS:global.requestAnimationFrame||vS,sre=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||EP:global.cancelAnimationFrame||EP,are=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},k0=null,ire=function(t){k0&&sre(k0),t.defer?k0=nre(function(){TP(t,function(){k0=null})}):(TP(t),k0=null)},TP=function(t,r){var s=t.baseTag,a=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,d=t.scriptTags,h=t.styleTags,p=t.title,f=t.titleAttributes;bS(br.BODY,a),bS(br.HTML,i),ore(p,f);var x={baseTag:Rp(br.BASE,s),linkTags:Rp(br.LINK,o),metaTags:Rp(br.META,l),noscriptTags:Rp(br.NOSCRIPT,c),scriptTags:Rp(br.SCRIPT,d),styleTags:Rp(br.STYLE,h)},g={},v={};Object.keys(x).forEach(function(b){var j=x[b],N=j.newTags,A=j.oldTags;N.length&&(g[b]=N),A.length&&(v[b]=x[b].oldTags)}),r&&r(),u(t,g,v)},EF=function(t){return Array.isArray(t)?t.join(""):t},ore=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=EF(t)),bS(br.TITLE,r)},bS=function(t,r){var s=document.getElementsByTagName(t)[0];if(s){for(var a=s.getAttribute(Jl),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";s.getAttribute(u)!==d&&s.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(var p=o.length-1;p>=0;p--)s.removeAttribute(o[p]);i.length===o.length?s.removeAttribute(Jl):s.getAttribute(Jl)!==l.join(",")&&s.setAttribute(Jl,l.join(","))}},Rp=function(t,r){var s=document.head||document.querySelector(br.HEAD),a=s.querySelectorAll(t+"["+Jl+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var d in c)if(c.hasOwnProperty(d))if(d===as.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===as.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(Jl,"true"),i.some(function(p,f){return l=f,u.isEqualNode(p)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:o}},TF=function(t){return Object.keys(t).reduce(function(r,s){var a=typeof t[s]<"u"?s+'="'+t[s]+'"':""+s;return r?r+" "+a:a},"")},lre=function(t,r,s,a){var i=TF(s),o=EF(r);return i?"<"+t+" "+Jl+'="true" '+i+">"+yS(o,a)+"</"+t+">":"<"+t+" "+Jl+'="true">'+yS(o,a)+"</"+t+">"},cre=function(t,r,s){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===as.INNER_HTML||u===as.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+yS(i[d],s)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=Gte.indexOf(t)===-1;return a+"<"+t+" "+Jl+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},OF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[r2[a]||a]=t[a],s},r)},ure=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(s,a){return s[Hte[a]||a]=t[a],s},r)},dre=function(t,r,s){var a,i=(a={key:r},a[Jl]=!0,a),o=OF(s,i);return[ye.createElement(br.TITLE,o,r)]},hre=function(t,r){return r.map(function(s,a){var i,o=(i={key:a},i[Jl]=!0,i);return Object.keys(s).forEach(function(l){var c=r2[l]||l;if(c===as.INNER_HTML||c===as.CSS_TEXT){var u=s.innerHTML||s.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=s[l]}),ye.createElement(t,o)})},Pu=function(t,r,s){switch(t){case br.TITLE:return{toComponent:function(){return dre(t,r.title,r.titleAttributes)},toString:function(){return lre(t,r.title,r.titleAttributes,s)}};case bm.BODY:case bm.HTML:return{toComponent:function(){return OF(r)},toString:function(){return TF(r)}};default:return{toComponent:function(){return hre(t,r)},toString:function(){return cre(t,r,s)}}}},LF=function(t){var r=t.baseTag,s=t.bodyAttributes,a=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,d=t.styleTags,h=t.title,p=h===void 0?"":h,f=t.titleAttributes;return{base:Pu(br.BASE,r,a),bodyAttributes:Pu(bm.BODY,s,a),htmlAttributes:Pu(bm.HTML,i,a),link:Pu(br.LINK,o,a),meta:Pu(br.META,l,a),noscript:Pu(br.NOSCRIPT,c,a),script:Pu(br.SCRIPT,u,a),style:Pu(br.STYLE,d,a),title:Pu(br.TITLE,{title:p,titleAttributes:f},a)}},fre=function(t){var r,s;return s=r=function(a){Xte(i,a);function i(){return Yte(this,i),Qte(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!$te(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case br.SCRIPT:case br.NOSCRIPT:return{innerHTML:c};case br.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,p=l.nestedChildren;return Gi({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[Gi({},h,this.mapNestedChildrenToProps(u,p))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,p=l.newChildProps,f=l.nestedChildren;switch(d.type){case br.TITLE:return Gi({},h,(c={},c[d.type]=f,c.titleAttributes=Gi({},p),c));case br.BODY:return Gi({},h,{bodyAttributes:Gi({},p)});case br.HTML:return Gi({},h,{htmlAttributes:Gi({},p)})}return Gi({},h,(u={},u[d.type]=Gi({},p),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Gi({},c);return Object.keys(l).forEach(function(d){var h;u=Gi({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return ye.Children.forEach(l,function(h){if(!(!h||!h.props)){var p=h.props,f=p.children,x=PP(p,["children"]),g=ure(x);switch(u.warnOnInvalidChildren(h,f),h.type){case br.LINK:case br.META:case br.NOSCRIPT:case br.SCRIPT:case br.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:g,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:g,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=PP(l,["children"]),d=Gi({},u);return c&&(d=this.mapChildrenToProps(c,d)),ye.createElement(t,d)},Zte(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(ye.Component),r.propTypes={base:gt.object,bodyAttributes:gt.object,children:gt.oneOfType([gt.arrayOf(gt.node),gt.node]),defaultTitle:gt.string,defer:gt.bool,encodeSpecialCharacters:gt.bool,htmlAttributes:gt.object,link:gt.arrayOf(gt.object),meta:gt.arrayOf(gt.object),noscript:gt.arrayOf(gt.object),onChangeClientState:gt.func,script:gt.arrayOf(gt.object),style:gt.arrayOf(gt.object),title:gt.string,titleAttributes:gt.object,titleTemplate:gt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var a=t.rewind();return a||(a=LF({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},s},mre=function(){return null},pre=Lte(rre,ire,LF)(mre),wS=fre(pre);wS.renderStatic=wS.rewind;const gre=()=>{const{slug:e}=yl(),[t,r]=_.useState(null),[s,a]=_.useState([]),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{e&&u(e)},[e]);const u=async p=>{try{o(!0);const f=await fetch(`/api/blog/posts/${p}`);if(!f.ok){f.status===404?c("Blog post not found"):c("Failed to load blog post");return}const x=await f.json();r(x),d(x.id)}catch{c("Failed to load blog post. Please try again later.")}finally{o(!1)}},d=async p=>{try{const f=await fetch(`/api/blog/posts?published=true&limit=3&exclude=${p}`);if(f.ok){const x=await f.json();a(x.posts||[])}}catch{}},h=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return i?n.jsx(us,{children:n.jsx("div",{className:"container mx-auto px-4 py-16 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):l||!t?n.jsx(us,{children:n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:l||"Blog post not found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),n.jsxs(Gt,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700",children:[n.jsx(ls,{size:16,className:"mr-2"}),"Back to blog"]})]})})}):n.jsxs(us,{children:[n.jsxs(wS,{children:[n.jsxs("title",{children:[t.title," | New Age Fotografie Blog"]}),n.jsx("meta",{name:"description",content:t.excerpt||`Read about ${t.title}`}),n.jsx("meta",{property:"og:title",content:t.title}),n.jsx("meta",{property:"og:description",content:t.excerpt||`Read about ${t.title}`}),t.imageUrl&&n.jsx("meta",{property:"og:image",content:t.imageUrl}),n.jsx("meta",{property:"og:type",content:"article"}),n.jsx("link",{rel:"canonical",href:`https://newagefotografie.com/blog/${t.slug}`}),n.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:t.title,image:t.imageUrl?[t.imageUrl]:[],datePublished:t.publishedAt,dateModified:t.publishedAt,author:{"@type":"Person",name:"New Age Fotografie"},publisher:{"@type":"Organization",name:"New Age Fotografie",logo:{"@type":"ImageObject",url:"https://www.newagefotografie.com/logo.png"}},description:t.excerpt||`Read about ${t.title}`})})]}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs(Gt,{to:"/blog",className:"inline-flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[n.jsx(ls,{size:16,className:"mr-2"}),"Back to blog"]}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t.title}),n.jsxs("div",{className:"flex flex-wrap items-center text-gray-600 mb-6",children:[n.jsxs("div",{className:"flex items-center mr-6",children:[n.jsx(fn,{size:16,className:"mr-1"}),n.jsx("span",{children:h(t.publishedAt)})]}),t.author&&n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{children:["By ",t.author.email.split("@")[0]]})})]})]}),t.imageUrl&&n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full rounded-xl shadow-lg mb-8",loading:"lazy",onError:p=>{const f=p.currentTarget.parentElement;f&&(f.innerHTML=`
                      <div class="w-full h-48 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-lg flex items-center justify-center">
                        <div class="text-center">
                          <svg class="w-16 h-16 text-purple-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2V4a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2z"></path>
                          </svg>
                          <p class="text-purple-600 font-medium">${t.title}</p>
                        </div>
                      </div>
                    `)}})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8 mb-8",children:t.contentHtml||t.content?n.jsxs("div",{className:"max-w-none",children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                  .blog-post-content {
                    line-height: 1.8;
                    color: #374151;
                  }
                  .blog-post-content h1 {
                    font-size: 2.25rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding-bottom: 0.5rem;
                    border-bottom: 3px solid #a855f7;
                  }
                  .blog-post-content h2 {
                    font-size: 1.875rem;
                    font-weight: bold;
                    color: #1f2937;
                    margin: 2rem 0 1rem 0;
                    padding: 1rem 1.5rem;
                    border-left: 4px solid #a855f7;
                    background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(168, 85, 247, 0.1);
                  }
                  .blog-post-content h3 {
                    font-size: 1.5rem;
                    font-weight: 600;
                    color: #374151;
                    margin: 1.5rem 0 0.75rem 0;
                  }
                  .blog-post-content p {
                    margin: 1rem 0;
                    text-align: justify;
                    line-height: 1.7;
                  }
                  .blog-post-content ul, .blog-post-content ol {
                    margin: 1rem 0;
                    padding-left: 2rem;
                  }
                  .blog-post-content ul {
                    list-style-type: disc;
                  }
                  .blog-post-content li {
                    margin: 0.5rem 0;
                    line-height: 1.6;
                  }
                  .blog-post-content img {
                    margin: 2rem auto;
                    border-radius: 12px;
                    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
                    max-width: 100%;
                    height: auto;
                    display: block;
                  }
                  .blog-post-content blockquote {
                    border-left: 4px solid #a855f7;
                    background: #faf5ff;
                    padding: 1rem 1.5rem;
                    margin: 1.5rem 0;
                    border-radius: 0 8px 8px 0;
                    font-style: italic;
                  }
                  .blog-post-content strong {
                    font-weight: 700;
                    color: #1f2937;
                  }
                  .blog-post-content a {
                    color: #a855f7;
                    text-decoration: underline;
                    transition: color 0.2s ease;
                  }
                  .blog-post-content a:hover {
                    color: #9333ea;
                  }
                  .section-divider {
                    height: 1px;
                    background: linear-gradient(to right, transparent, #e5e7eb, transparent);
                    margin: 3rem 0;
                  }
                `}}),n.jsx("div",{className:"blog-post-content prose prose-purple max-w-none",dangerouslySetInnerHTML:{__html:t.contentHtml||t.content}})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Content Coming Soon"}),n.jsx("p",{className:"text-gray-600 mb-4",children:t.excerpt||"This blog post is being prepared. Please check back soon for the full content."}),n.jsxs(Gt,{to:"/blog",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(ls,{size:16,className:"mr-2"}),"Back to Blog"]})]})}),s.length>0&&n.jsxs("div",{className:"mt-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Posts"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.map(p=>n.jsxs(Gt,{to:`/blog/${p.slug}`,className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-transform hover:-translate-y-1",children:[n.jsx("div",{className:"h-40 overflow-hidden",children:p.imageUrl?n.jsx("img",{src:p.imageUrl,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.classList.add("bg-gray-200"),f.currentTarget.parentElement.classList.add("flex"),f.currentTarget.parentElement.classList.add("items-center"),f.currentTarget.parentElement.classList.add("justify-center")}}):n.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:n.jsx(Os,{size:24,className:"text-gray-400"})})}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-2",children:p.title}),n.jsx("span",{className:"text-purple-600 text-sm",children:"Read more"})]})]},p.id))})]})]})]})]})},xre=()=>{const[e,t]=_.useState({fullName:"",preferredDate:"",email:"",phone:"",message:""}),[r,s]=_.useState(!1),[a,i]=_.useState(!1),[o,l]=_.useState(null);_.useEffect(()=>{document.title="Termin anfragen - Fotoshooting Wien buchen | New Age Fotografie";let d=document.querySelector('meta[name="description"]');return d||(d=document.createElement("meta"),d.setAttribute("name","description"),document.head.appendChild(d)),d.setAttribute("content","Fotoshooting-Termin in Wien anfragen. Verfügbare Termine an Wochenenden für Familien-, Schwangerschafts- und Neugeborenen-Fotografie."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const c=async d=>{d.preventDefault(),s(!0),l(null);try{await Kee(e),i(!0),t({fullName:"",preferredDate:"",email:"",phone:"",message:""})}catch{l("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{s(!1)}},u=d=>{t({...e,[d.target.name]:d.target.value})};return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-12",children:[n.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-12",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-purple-600 mb-4",children:"Fotoshooting Termin in Wien anfragen"}),n.jsxs("p",{className:"text-xl text-gray-600",children:["Professioneller ",n.jsx("strong",{children:"Familienfotograf in Wien"})," mit flexiblen Terminen.",n.jsx("br",{}),"Wir bieten Fotoshootings an Wochenenden - kontaktieren Sie uns für die Verfügbarkeit."]})]}),n.jsxs("div",{className:"max-w-xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[a&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-6",children:"Ihre Anfrage wurde erfolgreich gesendet. Wir werden uns in Kürze bei Ihnen melden."}),o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:o}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Ji,{size:18,className:"mr-2 text-purple-600"}),"Vollname ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"text",name:"fullName",value:e.fullName,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"Ihr vollständiger Name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(fn,{size:18,className:"mr-2 text-purple-600"}),"Bevorzugtes Datum für Ihr Shooting ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"date",name:"preferredDate",value:e.preferredDate,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(on,{size:18,className:"mr-2 text-purple-600"}),"Email Adresse ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"email",name:"email",value:e.email,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"ihre@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(ep,{size:18,className:"mr-2 text-purple-600"}),"WhatsApp / Telefonnummer ",n.jsx("span",{className:"text-purple-600 ml-1",children:"*"})]}),n.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:u,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"+43 "})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Ihre Nachricht"}),n.jsx("textarea",{name:"message",value:e.message,onChange:u,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-600 focus:border-purple-600 transition-colors",placeholder:"Weitere Details zu Ihrem Shooting..."})]}),n.jsx("button",{type:"submit",disabled:r,className:`w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors ${r?"opacity-50 cursor-not-allowed":""}`,children:r?"Wird gesendet...":"Termin anfragen"}),n.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[n.jsx("span",{className:"text-purple-600",children:"*"})," Pflichtfelder"]})]})]})]})})},yre=()=>{const{t:e}=Jh(),[t,r]=_.useState({fullName:"",email:"",phone:"",message:""}),[s,a]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(null);_.useEffect(()=>{document.title="Kontakt - Familienfotograf Wien | New Age Fotografie";let h=document.querySelector('meta[name="description"]');h||(h=document.createElement("meta"),h.setAttribute("name","description"),document.head.appendChild(h)),h.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. Studio: Eingang Ecke Schönbrunnerstraße, Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 933 99210. Öffnungszeiten Fr-So 09:00-17:00.");let p=document.querySelector('meta[property="og:title"]');p||(p=document.createElement("meta"),p.setAttribute("property","og:title"),document.head.appendChild(p)),p.setAttribute("content","Kontakt - Familienfotograf Wien | New Age Fotografie");let f=document.querySelector('meta[property="og:description"]');return f||(f=document.createElement("meta"),f.setAttribute("property","og:description"),document.head.appendChild(f)),f.setAttribute("content","Kontaktieren Sie unseren Familienfotograf in Wien. Studio: Eingang Ecke Schönbrunnerstraße, Wehrgasse 11A/2+5, 1050 Wien. Tel: +43 677 933 99210."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const u=async h=>{h.preventDefault(),a(!0),c(null);try{await Gee(t),o(!0),r({fullName:"",email:"",phone:"",message:""})}catch{c("Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.")}finally{a(!1)}},d=h=>{r({...t,[h.target.name]:h.target.value})};return n.jsxs(us,{children:[n.jsx("div",{className:"bg-gray-50 py-16",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:"Kontakt - Familienfotograf Wien"}),n.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Vereinbaren Sie Ihr persönliches Fotoshooting in Wien"})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Fotostudio Wien - Kontaktinformationen"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(on,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"hallo@newagefotografie.com"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ep,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"+43 677 633 99210"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Os,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"Fr-So: 09:00 - 17:00"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(ef,{className:"w-6 h-6 text-gray-600"}),n.jsxs("div",{className:"text-gray-700",children:[n.jsx("div",{className:"font-medium",children:"Büro- und Korrespondenzadresse"}),n.jsx("div",{children:"Julius Tandler Platz 5 / 13, 1090 Wien, Austria"}),n.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Eingang Ecke Schönbrunnerstraße"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Studio: Wehrgasse 11A/2+5, 1050 Wien"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Anfahrt"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx($ee,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:"5 Minuten von Kettenbrückengasse"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(HJ,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-gray-700",children:e("contact.streetParking")})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Studio Location"}),n.jsx("div",{className:"rounded-lg overflow-hidden shadow-sm border",children:n.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2659.8!2d16.3608!3d48.1865!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x476d0774b3d4e1ab%3A0x123456789abcdef0!2sWehrgasse%2011A%2C%201050%20Wien%2C%20Austria!5e0!3m2!1sen!2sat!4v1625075400000!5m2!1sen!2sat",width:"100%",height:"300",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"New Age Fotografie Studio Location - Wehrgasse 11A/2+5, 1050 Wien"})})]})]}),n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Kontaktformular"}),i?n.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:n.jsx("p",{className:"text-green-800",children:"Vielen Dank für Ihre Nachricht! Ich melde mich in Kürze bei Ihnen."})}):n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:"Name"}),n.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-Mail"}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:d,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Telefon"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:d,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Nachricht"}),n.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:d,required:!0,rows:4,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),l&&n.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:n.jsx("p",{className:"text-red-800",children:l})}),n.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:s?"Wird gesendet...":"Nachricht senden"})]})]})]})})]})},vre=()=>{const{categories:e,selectedCategory:t,setSelectedCategory:r}=Qm(),s=a=>{r(a)};return n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Nach Kategorie filtern"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>s(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===null?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Alle"}),e.map(a=>n.jsx("button",{onClick:()=>s(a),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===a?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:a},a))]})]})},bre=e=>{const t=e.toLowerCase();return t.includes("famil")?"https://images.unsplash.com/photo-1511895426328-dc8714191300?w=400&h=300&fit=crop":t.includes("baby")||t.includes("newborn")?"https://images.unsplash.com/photo-1544298621-7ad5ac882d5d?w=400&h=300&fit=crop":t.includes("business")||t.includes("headshot")?"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop":t.includes("hochzeit")||t.includes("wedding")?"https://images.unsplash.com/photo-1519741497674-611481863552?w=400&h=300&fit=crop":"https://images.unsplash.com/photo-1502920917128-1aa500764cbd?w=400&h=300&fit=crop"},wre=()=>{const{selectedCategory:e}=Qm(),[t,r]=ye.useState(""),s=d=>{const h=`/vouchers/checkout/${d.id}`;window.location.href=h},{data:a,isLoading:i,error:o}=oy({queryKey:["/api/vouchers/products"],queryFn:async()=>{const d=await fetch("/api/vouchers/products");if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()},staleTime:0,gcTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});_.useEffect(()=>{document.title="Fotoshooting Gutscheine Wien - Geschenkideen | New Age Fotografie";let d=document.querySelector('meta[name="description"]');return d||(d=document.createElement("meta"),d.setAttribute("name","description"),document.head.appendChild(d)),d.setAttribute("content","Fotoshooting Gutscheine als perfekte Geschenkidee. Familien-, Schwangerschafts- und Neugeborenen-Fotoshootings in Wien zum Verschenken."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const l=a?.filter(d=>d.isActive)||[],c=e&&e!=="Alle"?l.filter(d=>{const h=d.name.toLowerCase();switch(e.toLowerCase()){case"familie":return h.includes("famil")||h.includes("family");case"baby":return h.includes("baby")||h.includes("neugeboren")||h.includes("newborn");case"hochzeit":return h.includes("hochzeit")||h.includes("wedding");case"business":return h.includes("business")||h.includes("headshot");case"event":return h.includes("event");default:return!0}}):l,u=t?c.filter(d=>d.name.toLowerCase().includes(t.toLowerCase())||(d.description||"").toLowerCase().includes(t.toLowerCase())):c;return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-8",children:n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n.jsx("img",{src:"/company-logo.svg",alt:"New Age Fotografie Logo",className:"h-16 w-auto mr-4",onError:d=>{const h=d.target;h.src="/logo.png"}}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 leading-tight",children:"NEW AGE FOTOGRAFIE"}),n.jsx("p",{className:"text-lg text-purple-600 font-medium",children:e?`${e} Fotoshooting Gutscheine Wien`:"Fotoshooting Gutscheine Wien"})]})]})})}),n.jsxs("div",{className:"lg:grid lg:grid-cols-4 lg:gap-8",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Suche"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Gutscheine suchen...",value:t,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"}),n.jsx(Wa,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),n.jsx(vre,{})]}),n.jsx("div",{className:"lg:col-span-3",children:i?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(d=>n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[n.jsx("div",{className:"h-48 bg-gray-200"}),n.jsxs("div",{className:"p-6 space-y-3",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]},d))}):o?n.jsxs("div",{className:"bg-red-50 border border-red-200 p-8 rounded-lg text-center",children:[n.jsx(Im,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-800",children:"Fehler beim Laden der Gutscheine"}),n.jsx("p",{className:"text-red-600",children:"Die Gutscheine konnten nicht geladen werden. Bitte versuchen Sie es später erneut."})]}):u.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>n.jsx(jre,{voucher:d,onPurchase:s},d.id))}):n.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[n.jsx(dF,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:t||e!=="Alle"?"Keine Gutscheine gefunden":"Noch keine Gutscheine verfügbar"}),n.jsx("p",{className:"text-gray-600 mb-4",children:t||e!=="Alle"?"Wir konnten keine Gutscheine finden, die Ihren Kriterien entsprechen.":"Unsere Fotoshooting-Gutscheine werden bald verfügbar sein."}),(t||e!=="Alle")&&n.jsx("button",{onClick:()=>{r("")},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Filter zurücksetzen"})]})})]})]})})},jre=({voucher:e,onPurchase:t})=>{const r=Math.floor(Math.random()*20)+10;return n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 group relative",children:[n.jsx("div",{className:"absolute top-4 right-4 z-10",children:n.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:[r,"% OFF"]})}),n.jsx("div",{className:"h-48 relative overflow-hidden",children:e.imageUrl?n.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}):n.jsxs("div",{className:"h-full relative",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${bre(e.name)})`}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx(Im,{className:"h-16 w-16 mx-auto mb-2 opacity-80"}),n.jsx("p",{className:"text-sm font-medium opacity-90",children:e.name.toLowerCase().includes("famil")?"FAMILIE":e.name.toLowerCase().includes("baby")||e.name.toLowerCase().includes("newborn")?"BABY":e.name.toLowerCase().includes("business")?"BUSINESS":e.name.toLowerCase().includes("hochzeit")?"HOCHZEIT":"FOTOSHOOTING"})]})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:e.name}),n.jsx("div",{className:"text-gray-600 text-sm mb-4 whitespace-pre-line",style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description||"Beschreibung folgt in Kürze"}),n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("span",{className:"text-sm text-gray-500",children:["Gültig bis ",Math.floor((e.validityPeriod||365)/30)," Monate"]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["€",(Number(e.price)*(1+r/100)).toFixed(2)]}),n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["€",Number(e.price).toFixed(2)]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Nach ",r,"% Rabatt verfügbar"]})]}),n.jsx("button",{onClick:()=>{t(e)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200 shadow-md hover:shadow-lg",children:"Jetzt kaufen"})]})]})]})},Nre=()=>{const{slug:e}=yl(),t=Jn(),{getVoucherBySlug:r}=Qm(),[s,a]=_.useState(1),i=r(e||"");if(!i)return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(ln,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Gutschein nicht gefunden"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Der gesuchte Gutschein konnte nicht gefunden werden."}),n.jsx("button",{onClick:()=>t("/vouchers"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Gutscheine durchsuchen"})]})});const o=i.stock>0,l=new Date,u=new Date(i.validUntil)>l,d=p=>{const f=parseInt(p.target.value);f>=1&&f<=i.stock&&a(f)},h=()=>{t(`/checkout/${i.id}`,{state:{quantity:s}})};return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[n.jsx(ls,{size:16,className:"mr-1"})," Zurück zu den Gutscheinen"]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"md:grid md:grid-cols-2",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"md:col-span-1 p-6 md:p-8",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Vh,{size:16,className:"text-purple-600 mr-2"}),n.jsx("span",{className:"text-sm font-semibold text-purple-600 uppercase",children:i.category})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:i.title}),n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsxs("div",{className:"mr-6 flex items-center",children:[n.jsx(fn,{size:16,className:"text-gray-500 mr-1"}),n.jsxs("span",{className:"text-sm text-gray-500",children:["Gültig bis ",new Date(i.validUntil).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${u?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-sm text-gray-500",children:u?"Aktiv":"Abgelaufen"})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-500 line-through text-lg",children:["€",i.price.toFixed(2)]}),n.jsxs("span",{className:"text-purple-600 font-bold text-3xl ml-2",children:["€",i.discountPrice.toFixed(2)]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:i.description}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("p",{className:"text-gray-700 mb-2",children:[n.jsx("span",{className:"font-semibold",children:"Anbieter:"})," ",i.partner.title]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-semibold",children:"Verfügbar:"})," Noch ",i.stock," Gutscheine"]})]}),o&&u?n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Anzahl"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"number",min:"1",max:i.stock,value:s,onChange:d,className:"w-20 px-3 py-2 border border-gray-300 rounded-lg mr-4 focus:ring-2 focus:ring-purple-600 focus:border-purple-600"}),n.jsxs("button",{onClick:h,className:"flex-grow bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(td,{size:18,className:"mr-2"}),"Jetzt kaufen - €",(i.discountPrice*s).toFixed(2)]})]})]}):n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(ln,{size:20,className:"text-red-500 mr-2 mt-0.5"}),n.jsx("p",{className:"text-red-700",children:o?"Dieser Gutschein ist abgelaufen und nicht mehr verfügbar.":"Dieser Gutschein ist derzeit ausverkauft."})]})}),n.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(lee,{size:20,className:"text-gray-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Geschäftsbedingungen"}),n.jsx("p",{className:"text-gray-700 text-sm",children:i.terms})]})]})})]})]})})]})})};function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(s){IF(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function O1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O1=function(t){return typeof t}:O1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O1(e)}function IF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _re(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Sre(e,t){if(e==null)return{};var r=_re(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Are(e,t){return kre(e)||Cre(e,t)||Pre(e,t)||Ere()}function kre(e){if(Array.isArray(e))return e}function Cre(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var s=[],a=!0,i=!1,o,l;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(s.push(o.value),!(t&&s.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw l}}return s}}function Pre(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wo=function(t,r,s){var a=!!s,i=ye.useRef(s);ye.useEffect(function(){i.current=s},[s]),ye.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,o),function(){t.off(r,o)}},[a,r,t,i])},Tre=function(t){var r=ye.useRef(t);return ye.useEffect(function(){r.current=t},[t]),r.current},n2=function(t){return t!==null&&O1(t)==="object"},MP="[object Object]",Ore=function e(t,r){if(!n2(t)||!n2(r))return t===r;var s=Array.isArray(t),a=Array.isArray(r);if(s!==a)return!1;var i=Object.prototype.toString.call(t)===MP,o=Object.prototype.toString.call(r)===MP;if(i!==o)return!1;if(!i&&!s)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var p=Object.keys(u);if(p.length!==l.length)return!1;var f=t,x=r,g=function(b){return e(f[b],x[b])};return p.every(g)},Lre=function(t,r,s){return n2(t)?Object.keys(t).reduce(function(a,i){var o=!n2(r)||!Ore(t[i],r[i]);return s.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?LP(LP({},a||{}),{},IF({},i,t[i])):a},null):null},MF=ye.createContext(null);MF.displayName="ElementsContext";var Ire=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t};gt.any,gt.object;gt.func.isRequired;var DF=ye.createContext(null);DF.displayName="CheckoutSdkContext";var Mre=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},Dre=ye.createContext(null);Dre.displayName="CheckoutContext";gt.any,gt.shape({fetchClientSecret:gt.func.isRequired,elementsOptions:gt.object}).isRequired;var DP=function(t){var r=ye.useContext(DF),s=ye.useContext(MF);if(r&&s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?Mre(r,t):Ire(s,t)},Rre=["mode"],Fre=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Hs=function(t,r){var s="".concat(Fre(t),"Element"),a=function(c){var u=c.id,d=c.className,h=c.options,p=h===void 0?{}:h,f=c.onBlur,x=c.onFocus,g=c.onReady,v=c.onChange,b=c.onEscape,j=c.onClick,N=c.onLoadError,A=c.onLoaderStart,S=c.onNetworksChange,L=c.onConfirm,I=c.onCancel,k=c.onShippingAddressChange,E=c.onShippingRateChange,B=DP("mounts <".concat(s,">")),C="elements"in B?B.elements:null,O="checkoutSdk"in B?B.checkoutSdk:null,M=ye.useState(null),D=Are(M,2),W=D[0],z=D[1],G=ye.useRef(null),V=ye.useRef(null);wo(W,"blur",f),wo(W,"focus",x),wo(W,"escape",b),wo(W,"click",j),wo(W,"loaderror",N),wo(W,"loaderstart",A),wo(W,"networkschange",S),wo(W,"confirm",L),wo(W,"cancel",I),wo(W,"shippingaddresschange",k),wo(W,"shippingratechange",E),wo(W,"change",v);var Y;g&&(t==="expressCheckout"?Y=g:Y=function(){g(W)}),wo(W,"ready",Y),ye.useLayoutEffect(function(){if(G.current===null&&V.current!==null&&(C||O)){var q=null;if(O)switch(t){case"payment":q=O.createPaymentElement(p);break;case"address":if("mode"in p){var R=p.mode,K=Sre(p,Rre);if(R==="shipping")q=O.createShippingAddressElement(K);else if(R==="billing")q=O.createBillingAddressElement(K);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":q=O.createExpressCheckoutElement(p);break;case"currencySelector":q=O.createCurrencySelectorElement();break;case"taxId":q=O.createTaxIdElement(p);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else C&&(q=C.create(t,p));G.current=q,z(q),q&&q.mount(V.current)}},[C,O,p]);var ie=Tre(p);return ye.useEffect(function(){if(G.current){var q=Lre(p,ie,["paymentRequest"]);q&&"update"in G.current&&G.current.update(q)}},[p,ie]),ye.useLayoutEffect(function(){return function(){if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}}},[]),ye.createElement("div",{id:u,className:d,ref:V})},i=function(c){DP("mounts <".concat(s,">"));var u=c.id,d=c.className;return ye.createElement("div",{id:u,className:d})},o=r?i:a;return o.propTypes={id:gt.string,className:gt.string,onChange:gt.func,onBlur:gt.func,onFocus:gt.func,onReady:gt.func,onEscape:gt.func,onClick:gt.func,onLoadError:gt.func,onLoaderStart:gt.func,onNetworksChange:gt.func,onConfirm:gt.func,onCancel:gt.func,onShippingAddressChange:gt.func,onShippingRateChange:gt.func,options:gt.object},o.displayName=s,o.__elementType=t,o},Gs=typeof window>"u",$re=ye.createContext(null);$re.displayName="EmbeddedCheckoutProviderContext";Hs("auBankAccount",Gs);Hs("card",Gs);Hs("cardNumber",Gs);Hs("cardExpiry",Gs);Hs("cardCvc",Gs);Hs("fpxBank",Gs);Hs("iban",Gs);Hs("idealBank",Gs);Hs("p24Bank",Gs);Hs("epsBank",Gs);Hs("payment",Gs);Hs("expressCheckout",Gs);Hs("currencySelector",Gs);Hs("paymentRequestButton",Gs);Hs("linkAuthentication",Gs);Hs("address",Gs);Hs("shippingAddress",Gs);Hs("paymentMethodMessaging",Gs);Hs("affirmMessage",Gs);Hs("afterpayClearpayMessage",Gs);Hs("taxId",Gs);var Bre="basil",RF="https://js.stripe.com",zre="".concat(RF,"/").concat(Bre,"/stripe.js"),Ure=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qre=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,RP="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Vre=function(t){return Ure.test(t)||qre.test(t)},Wre=function(){for(var t=document.querySelectorAll('script[src^="'.concat(RF,'"]')),r=0;r<t.length;r++){var s=t[r];if(Vre(s.src))return s}return null},FP=function(t){var r="",s=document.createElement("script");s.src="".concat(zre).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},C0=null,zb=null,Ub=null,Hre=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},Gre=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Kre=function(t){return C0!==null?C0:(C0=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(RP),window.Stripe){r(window.Stripe);return}try{var a=Wre();if(a&&t)console.warn(RP);else if(!a)a=FP(t);else if(a&&Ub!==null&&zb!==null){var i;a.removeEventListener("load",Ub),a.removeEventListener("error",zb),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=FP(t)}Ub=Gre(r,s),zb=Hre(s),a.addEventListener("load",Ub),a.addEventListener("error",zb)}catch(o){s(o);return}}),C0.catch(function(r){return C0=null,Promise.reject(r)}))},P0,Yre=function(){return P0||(P0=Kre(null).catch(function(t){return P0=null,Promise.reject(t)}),P0)};Promise.resolve().then(function(){return Yre()}).catch(function(e){console.warn(e)});function FF(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=FF(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function xr(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=FF(e))&&(s&&(s+=" "),s+=t);return s}const v6="-",Zre=e=>{const t=Qre(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(v6);return l[0]===""&&l.length!==1&&l.shift(),$F(l,t)||Xre(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},$F=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?$F(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(v6);return t.validators.find(({validator:o})=>o(i))?.classGroupId},$P=/^\[(.+)\]$/,Xre=e=>{if($P.test(e)){const t=$P.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Qre=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return ene(Object.entries(e.classGroups),r).forEach(([i,o])=>{jS(o,s,i,t)}),s},jS=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:BP(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Jre(a)){jS(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{jS(o,BP(t,i),r,s)})})},BP=(e,t)=>{let r=e;return t.split(v6).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Jre=e=>e.isThemeGetter,ene=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,tne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},BF="!",rne=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(s||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){h=v;continue}}b==="["?u++:b==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(BF),x=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},nne=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},sne=e=>({cache:tne(e.cacheSize),parseClassName:rne(e),...Zre(e)}),ane=/\s+/,ine=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(ane);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let x=!!f,g=s(x?p.substring(0,f):p);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=s(p),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=nne(d).join(":"),b=h?v+BF:v,j=b+g;if(i.includes(j))continue;i.push(j);const N=a(g,x);for(let A=0;A<N.length;++A){const S=N[A];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function one(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zF(t))&&(s&&(s+=" "),s+=r);return s}const zF=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=zF(e[s]))&&(r&&(r+=" "),r+=t);return r};function lne(e,...t){let r,s,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=sne(u),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=ine(c,r);return a(c,d),d}return function(){return i(one.apply(null,arguments))}}const Hn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},UF=/^\[(?:([a-z-]+):)?(.+)\]$/i,cne=/^\d+\/\d+$/,une=new Set(["px","full","screen"]),dne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eu=e=>pg(e)||une.has(e)||cne.test(e),rh=e=>Cx(e,"length",Nne),pg=e=>!!e&&!Number.isNaN(Number(e)),p5=e=>Cx(e,"number",pg),E0=e=>!!e&&Number.isInteger(Number(e)),gne=e=>e.endsWith("%")&&pg(e.slice(0,-1)),Sr=e=>UF.test(e),nh=e=>dne.test(e),xne=new Set(["length","size","percentage"]),yne=e=>Cx(e,xne,qF),vne=e=>Cx(e,"position",qF),bne=new Set(["image","url"]),wne=e=>Cx(e,bne,Sne),jne=e=>Cx(e,"",_ne),T0=()=>!0,Cx=(e,t,r)=>{const s=UF.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},Nne=e=>hne.test(e)&&!fne.test(e),qF=()=>!1,_ne=e=>mne.test(e),Sne=e=>pne.test(e),Ane=()=>{const e=Hn("colors"),t=Hn("spacing"),r=Hn("blur"),s=Hn("brightness"),a=Hn("borderColor"),i=Hn("borderRadius"),o=Hn("borderSpacing"),l=Hn("borderWidth"),c=Hn("contrast"),u=Hn("grayscale"),d=Hn("hueRotate"),h=Hn("invert"),p=Hn("gap"),f=Hn("gradientColorStops"),x=Hn("gradientColorStopPositions"),g=Hn("inset"),v=Hn("margin"),b=Hn("opacity"),j=Hn("padding"),N=Hn("saturate"),A=Hn("scale"),S=Hn("sepia"),L=Hn("skew"),I=Hn("space"),k=Hn("translate"),E=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Sr,t],O=()=>[Sr,t],M=()=>["",Eu,rh],D=()=>["auto",pg,Sr],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",Sr],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[pg,Sr];return{cacheSize:500,separator:":",theme:{colors:[T0],spacing:[Eu,rh],blur:["none","",nh,Sr],brightness:q(),borderColor:[e],borderRadius:["none","","full",nh,Sr],borderSpacing:O(),borderWidth:M(),contrast:q(),grayscale:Y(),hueRotate:q(),invert:Y(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[gne,rh],inset:C(),margin:C(),opacity:q(),padding:O(),saturate:q(),scale:q(),sepia:Y(),skew:q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Sr]}],container:["container"],columns:[{columns:[nh]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Sr]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",E0,Sr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Sr]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",E0,Sr]}],"grid-cols":[{"grid-cols":[T0]}],"col-start-end":[{col:["auto",{span:["full",E0,Sr]},Sr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[T0]}],"row-start-end":[{row:["auto",{span:[E0,Sr]},Sr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Sr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Sr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Sr,t]}],"min-w":[{"min-w":[Sr,t,"min","max","fit"]}],"max-w":[{"max-w":[Sr,t,"none","full","min","max","fit","prose",{screen:[nh]},nh]}],h:[{h:[Sr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Sr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Sr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Sr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nh,rh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p5]}],"font-family":[{font:[T0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Sr]}],"line-clamp":[{"line-clamp":["none",pg,p5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eu,Sr]}],"list-image":[{"list-image":["none",Sr]}],"list-style-type":[{list:["none","disc","decimal",Sr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eu,rh]}],"underline-offset":[{"underline-offset":["auto",Eu,Sr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Sr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Sr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),vne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Eu,Sr]}],"outline-w":[{outline:[Eu,rh]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Eu,rh]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nh,jne]}],"shadow-color":[{shadow:[T0]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",nh,Sr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Sr]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Sr]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Sr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[E0,Sr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Sr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Sr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Sr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Eu,rh,p5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kne=lne(Ane);function Sn(...e){return kne(xr(e))}const Vt=ye.forwardRef(({className:e,variant:t="default",size:r="default",...s},a)=>{const i="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o={default:"bg-primary text-primary-foreground hover:bg-primary/90 bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground border-gray-300 hover:bg-gray-50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-accent hover:text-accent-foreground hover:bg-gray-100",link:"text-primary underline-offset-4 hover:underline text-blue-600"},l={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return n.jsx("button",{className:Sn(i,o[t],l[r],e),ref:a,...s})});Vt.displayName="Button";const La=ye.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Sn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));La.displayName="Input";function zP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function VF(...e){return t=>{let r=!1;const s=e.map(a=>{const i=zP(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():zP(e[a],null)}}}}function An(...e){return _.useCallback(VF(...e),e)}function Ty(e){const t=Cne(e),r=_.forwardRef((s,a)=>{const{children:i,...o}=s,l=_.Children.toArray(i),c=l.find(Ene);if(c){const u=c.props.children,d=l.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return n.jsx(t,{...o,ref:a,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Cne(e){const t=_.forwardRef((r,s)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=One(a),l=Tne(i,a.props);return a.type!==_.Fragment&&(l.ref=s?VF(s,o):o),_.cloneElement(a,l)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Pne=Symbol("radix.slottable");function Ene(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Pne}function Tne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function One(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fr=Lne.reduce((e,t)=>{const r=Ty(`Primitive.${t}`),s=_.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Ine(e,t){e&&Ov.flushSync(()=>e.dispatchEvent(t))}var Mne="Label",WF=_.forwardRef((e,t)=>n.jsx(Fr.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));WF.displayName=Mne;var HF=WF;const UP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qP=xr,GF=(e,t)=>r=>{var s;if(t?.variants==null)return qP(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r?.[u],h=i?.[u];if(d===null)return null;const p=UP(d)||UP(h);return a[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,h,p]:u},[]);return qP(e,o,c,r?.class,r?.className)},Dne=GF("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wr=_.forwardRef(({className:e,...t},r)=>n.jsx(HF,{ref:r,className:Sn(Dne(),e),...t}));Wr.displayName=HF.displayName;function Rne(e,t){const r=_.createContext(t),s=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function cd(e,t=[]){let r=[];function s(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=h=>{const{scope:p,children:f,...x}=h,g=p?.[e]?.[c]||l,v=_.useMemo(()=>x,Object.values(x));return n.jsx(g.Provider,{value:v,children:f})};u.displayName=i+"Provider";function d(h,p){const f=p?.[e]?.[c]||l,x=_.useContext(f);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=l?.[e]||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Fne(a,...t)]}function Fne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function zr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var fi=globalThis?.document?_.useLayoutEffect:()=>{},$ne=D7[" useInsertionEffect ".trim().toString()]||fi;function Mm({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=Bne({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=_.useRef(e!==void 0);_.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=_.useCallback(d=>{if(l){const h=zne(d)?d(e):d;h!==e&&o.current?.(h)}else i(d)},[l,e,i,o]);return[c,u]}function Bne({defaultProp:e,onChange:t}){const[r,s]=_.useState(e),a=_.useRef(r),i=_.useRef(t);return $ne(()=>{i.current=t},[t]),_.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function zne(e){return typeof e=="function"}function Gw(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Kw(e){const[t,r]=_.useState(void 0);return fi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}function Une(e,t){return _.useReducer((r,s)=>t[r][s]??r,e)}var Px=e=>{const{present:t,children:r}=e,s=qne(t),a=typeof r=="function"?r({present:s.isPresent}):_.Children.only(r),i=An(s.ref,Vne(a));return typeof r=="function"||s.isPresent?_.cloneElement(a,{ref:i}):null};Px.displayName="Presence";function qne(e){const[t,r]=_.useState(),s=_.useRef(null),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Une(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=qb(s.current);i.current=l==="mounted"?u:"none"},[l]),fi(()=>{const u=s.current,d=a.current;if(d!==e){const p=i.current,f=qb(u);e?c("MOUNT"):f==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),fi(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const g=qb(s.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},p=f=>{f.target===t&&(i.current=qb(s.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{s.current=u?getComputedStyle(u):null,r(u)},[])}}function qb(e){return e?.animationName||"none"}function Vne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yw="Checkbox",[Wne,aBe]=cd(Yw),[Hne,b6]=Wne(Yw);function Gne(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[p,f]=Mm({prop:r,defaultProp:a??!1,onChange:c,caller:Yw}),[x,g]=_.useState(null),[v,b]=_.useState(null),j=_.useRef(!1),N=x?!!o||!!x.closest("form"):!0,A={checked:p,disabled:i,setChecked:f,control:x,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Mh(a)?!1:a,isFormControl:N,bubbleInput:v,setBubbleInput:b};return n.jsx(Hne,{scope:t,...A,children:Kne(h)?h(A):s})}var KF="CheckboxTrigger",YF=_.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:x}=b6(KF,e),g=An(a,d),v=_.useRef(c);return _.useEffect(()=>{const b=i?.form;if(b){const j=()=>h(v.current);return b.addEventListener("reset",j),()=>b.removeEventListener("reset",j)}},[i,h]),n.jsx(Fr.button,{type:"button",role:"checkbox","aria-checked":Mh(c)?"mixed":c,"aria-required":u,"data-state":e9(c),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:g,onKeyDown:zr(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:zr(r,b=>{h(j=>Mh(j)?!0:!j),x&&f&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});YF.displayName=KF;var w6=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return n.jsx(Gne,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>n.jsxs(n.Fragment,{children:[n.jsx(YF,{...h,ref:t,__scopeCheckbox:r}),p&&n.jsx(JF,{__scopeCheckbox:r})]})})});w6.displayName=Yw;var ZF="CheckboxIndicator",XF=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=b6(ZF,r);return n.jsx(Px,{present:s||Mh(i.checked)||i.checked===!0,children:n.jsx(Fr.span,{"data-state":e9(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});XF.displayName=ZF;var QF="CheckboxBubbleInput",JF=_.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:f}=b6(QF,e),x=An(r,f),g=Gw(i),v=Kw(s);_.useEffect(()=>{const j=p;if(!j)return;const N=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(N,"checked").set,L=!a.current;if(g!==i&&S){const I=new Event("click",{bubbles:L});j.indeterminate=Mh(i),S.call(j,Mh(i)?!1:i),j.dispatchEvent(I)}},[p,g,i,a]);const b=_.useRef(Mh(i)?!1:i);return n.jsx(Fr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JF.displayName=QF;function Kne(e){return typeof e=="function"}function Mh(e){return e==="indeterminate"}function e9(e){return Mh(e)?"indeterminate":e?"checked":"unchecked"}const Yne=_.forwardRef(({className:e,...t},r)=>n.jsx(w6,{ref:r,className:Sn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(XF,{className:Sn("flex items-center justify-center text-current"),children:n.jsx(is,{className:"h-4 w-4"})})}));Yne.displayName=w6.displayName;let Zne=0,Zw=[],L1=[];const t9=e=>{Zw=e,L1.forEach(t=>t(e))},Xne=e=>{const t=`toast-${++Zne}`,s=[{...e,id:t},...Zw].slice(0,5);return t9(s),setTimeout(()=>{r9(t)},5e3),{id:t}},r9=e=>{const t=Zw.filter(r=>r.id!==e);t9(t)},Qne=e=>Xne(e),j6=()=>{const[e,t]=_.useState(Zw);return _.useEffect(()=>(L1.push(t),()=>{const r=L1.indexOf(t);r>-1&&L1.splice(r,1)}),[]),{toasts:e,toast:Qne,dismiss:r9}},Rt=({className:e="",children:t})=>n.jsx("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${e}`,children:t}),Ar=({className:e="",children:t})=>n.jsx("div",{className:`p-6 pb-3 flex flex-col ${e}`,children:t}),Lr=({className:e="",children:t})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${e}`,children:t}),Ut=({className:e="",children:t})=>n.jsx("div",{className:`p-6 pt-3 ${e}`,children:t}),Ts=({className:e="",children:t})=>n.jsx("p",{className:`text-sm text-gray-600 ${e}`,children:t}),Jne=GF("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ma({className:e,variant:t,...r}){return n.jsx("div",{className:Sn(Jne({variant:t}),e),...r})}const ese=()=>{const{id:e}=yl(),t=Jn(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null);return _.useEffect(()=>{e?(async()=>{try{const u=await fetch(`/api/vouchers/products/${e}`);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const d=await u.json();s(d)}catch(u){l(u.message||"Gutschein nicht gefunden")}finally{i(!1)}})():(l("Keine Gutschein-ID gefunden"),i(!1))},[e]),a?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):o||!r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Gutschein nicht gefunden"}),n.jsxs(Vt,{onClick:()=>t("/vouchers"),variant:"outline",children:[n.jsx(ls,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Zahlungssystem wird eingerichtet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Unser Zahlungssystem wird gerade konfiguriert. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns direkt."}),n.jsxs(Vt,{onClick:()=>t("/vouchers"),variant:"outline",children:[n.jsx(ls,{className:"w-4 h-4 mr-2"}),"Zurück zu den Gutscheinen"]})]})})},tse=()=>{const e=Jn();return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-purple-600 to-purple-700 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xs",children:"NAF"})}),n.jsx("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"NEW AGE FOTOGRAFIE"})]}),n.jsxs(Vt,{variant:"ghost",onClick:()=>e("/"),className:"text-purple-600 hover:text-purple-700",children:[n.jsx(ls,{className:"w-4 h-4 mr-2"}),"Zur Startseite"]})]})})}),n.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[n.jsx("div",{className:"mb-6",children:n.jsx(Hr,{className:"w-16 h-16 text-green-600 mx-auto"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Zahlung erfolgreich!"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Vielen Dank für Ihren Kauf! Ihr Gutschein wurde erfolgreich erstellt und wird in Kürze per E-Mail versendet."}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Was passiert als nächstes?"}),n.jsxs("ul",{className:"text-sm text-green-800 space-y-2 text-left",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx(Hr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),"Sie erhalten in wenigen Minuten eine E-Mail mit Ihrem Gutschein"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Hr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),"Der Gutschein ist ab sofort 12 Monate gültig"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx(Hr,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),"Für Terminbuchungen kontaktieren Sie uns unter +43 677 933 99210"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs(Vt,{onClick:()=>e("/vouchers"),variant:"outline",className:"w-full",children:[n.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Weitere Gutscheine"]}),n.jsxs(Vt,{onClick:()=>window.open("https://newagefotografie.sproutstudio.com/invitation/live-link-shootings-new-age-fotografie","_blank"),className:"w-full bg-purple-600 hover:bg-purple-700",children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"Termin buchen"]})]}),n.jsxs("div",{className:"pt-6 border-t",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Haben Sie Fragen zu Ihrem Gutschein?"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Telefon:"})," +43 677 933 99210"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"E-Mail:"})," hallo@newagefotografie.com"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Öffnungszeiten:"})," Fr-So: 09:00 - 17:00"]})]})]})]})]})})]})};async function rse(e){try{const t=await fetch("undefined/functions/v1/public/voucher/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to process voucher purchase");return await t.json()}catch(t){throw t}}const nse=()=>{const{id:e}=yl(),t=u6(),r=Jn(),{getVoucherById:s,addOrder:a}=Qm(),o=t.state?.quantity||1,[l,c]=_.useState(o),[u,d]=_.useState(""),[h,p]=_.useState(""),[f,x]=_.useState(!1),[g,v]=_.useState({}),b=s(e||"");if(_.useEffect(()=>{b||r("/vouchers")},[b,r]),!b)return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(ln,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Voucher Not Found"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"We couldn't find the voucher you're looking for."}),n.jsx("button",{onClick:()=>r("/vouchers"),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Browse Vouchers"})]})});const j=b.discountPrice*l,N=()=>{const L={};return u.trim()||(L.name="Name is required"),h.trim()?/\S+@\S+\.\S+/.test(h)||(L.email="Email is invalid"):L.email="Email is required",v(L),Object.keys(L).length===0},A=async L=>{if(L.preventDefault(),!!N())try{x(!0);const I=`pi_${Math.random().toString(36).substring(2,15)}`;await rse({purchaserName:u,purchaserEmail:h,amount:j,paymentIntentId:I,voucherType:b.category});const k=a({voucher:b,quantity:l,totalPrice:j,purchaserName:u,purchaserEmail:h,status:"paid"});r(`/order-complete/${k.id}`)}catch{v({submit:"Failed to process payment. Please try again."}),x(!1)}},S=L=>{const I=parseInt(L.target.value);I>=1&&I<=b.stock&&c(I)};return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>r(`/voucher/${b.slug}`),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition-colors",children:[n.jsx(ls,{size:16,className:"mr-1"})," Back to voucher"]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Checkout"}),n.jsxs("div",{className:"md:grid md:grid-cols-3 md:gap-8",children:[n.jsx("div",{className:"md:col-span-2 mb-8 md:mb-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Your Information"}),n.jsxs("form",{onSubmit:A,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Ji,{size:16,className:"mr-2"})," Full Name"]}),n.jsx("input",{type:"text",value:u,onChange:L=>d(L.target.value),disabled:f,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors ${g.name?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),g.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.name})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(on,{size:16,className:"mr-2"})," Email Address"]}),n.jsx("input",{type:"email",value:h,onChange:L=>p(L.target.value),disabled:f,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors ${g.email?"border-red-500 focus:ring-red-600 focus:border-red-600":"border-gray-300"}`}),g.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.email})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold mb-6 text-gray-800 flex items-center",children:[n.jsx(Q1,{size:20,className:"mr-2"})," Payment Information"]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:n.jsxs("p",{className:"text-blue-700 text-sm",children:[n.jsx("strong",{children:"Note:"})," This is a demo application. No actual payment will be processed."]})}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Card Information"}),n.jsx("input",{type:"text",placeholder:"4242 4242 4242 4242",disabled:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-2 focus:ring-2 focus:ring-blue-600 focus:border-blue-600"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"MM / YY",disabled:f,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600"}),n.jsx("input",{type:"text",placeholder:"CVC",disabled:f,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600"})]})]})]}),g.submit&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:n.jsx("p",{className:"text-red-700 text-sm",children:g.submit})}),n.jsx("button",{type:"submit",disabled:f,className:`w-full py-3 px-6 rounded-lg font-medium text-white transition-colors ${f?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:f?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay €${j.toFixed(2)}`})]})]})}),n.jsx("div",{className:"md:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-24",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Order Summary"}),n.jsxs("div",{className:"flex mb-4",children:[n.jsx("img",{src:b.image,alt:b.title,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:b.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Valid until ",new Date(b.validUntil).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("label",{className:"text-gray-600",children:"Quantity:"}),n.jsx("input",{type:"number",min:"1",max:b.stock,value:l,onChange:S,disabled:f,className:"w-16 px-2 py-1 border border-gray-300 rounded text-right focus:ring-2 focus:ring-blue-600 focus:border-blue-600"})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Price per voucher:"}),n.jsxs("span",{className:"text-gray-800",children:["€",b.discountPrice.toFixed(2)]})]}),n.jsx("hr",{className:"my-4 border-gray-200"}),n.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"text-blue-600",children:["€",j.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Hr,{size:20,className:"text-green-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:"Secure Voucher Purchase"}),n.jsx("p",{className:"text-green-700 text-sm",children:"This voucher will be delivered to your email immediately after purchase."})]})]})})]})})]})]})})},sse=()=>{const{id:e}=yl(),t=Jn(),{orders:r,isLoggedIn:s}=Qm(),a=r.find(o=>o.id===e);_.useEffect(()=>{a||setTimeout(()=>{t("/")},3e3)},[a,t]);const i=()=>{a&&(navigator.clipboard.writeText(a.voucherCode),alert("Voucher code copied to clipboard!"))};return a?n.jsx(us,{children:n.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx(Hr,{size:64,className:"text-green-500 mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-800",children:"Thank You for Your Purchase!"}),n.jsxs("p",{className:"text-gray-600 mb-8",children:["Your order has been successfully processed. A confirmation email has been sent to ",a.purchaserEmail,"."]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Order Details"}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsx("span",{className:"font-medium text-gray-800",children:a.id})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-medium text-gray-800",children:new Date(a.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsxs("span",{className:"font-medium text-gray-800",children:["€",a.totalPrice.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:"font-medium text-green-600",children:"Paid"})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Your Voucher"}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("img",{src:a.voucher.image,alt:a.voucher.title,className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"ml-4 text-left",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:a.voucher.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",a.quantity]})]})]}),n.jsxs("div",{className:"border border-blue-200 rounded p-3 bg-white flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-800",children:a.voucherCode}),n.jsx("button",{onClick:i,className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Copy code",children:n.jsx(Ku,{size:18})})]}),n.jsx("p",{className:"text-sm text-gray-600 text-left",children:"This is your voucher code. Please save it as you will need it to redeem your voucher."})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("button",{onClick:()=>t("/"),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(aee,{size:18,className:"mr-2"}),"Return to Home"]}),s?n.jsxs("button",{onClick:()=>t("/account"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(User,{size:18,className:"mr-2"}),"View My Account"]}):n.jsxs("button",{onClick:()=>t("/vouchers"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center",children:[n.jsx(ly,{size:18,className:"mr-2"}),"Browse More Vouchers"]})]})]})})}):n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[n.jsx(ln,{size:48,className:"text-red-500 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Order Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Redirecting to home page..."})]})})},ase=({order:e})=>{const t=()=>{switch(e.status){case"paid":return n.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(Hr,{size:14,className:"mr-1"})," Paid"]});case"pending":return n.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(Os,{size:14,className:"mr-1"})," Pending"]});case"cancelled":return n.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs flex items-center",children:[n.jsx(ln,{size:14,className:"mr-1"})," Cancelled"]});default:return null}};return n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:e.voucher.title}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Order #",e.id]})]}),t()]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.voucher.image,alt:e.voucher.title,className:"w-20 h-20 object-cover rounded"})}),n.jsx("div",{className:"flex-grow",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Quantity: ",e.quantity]}),n.jsxs("p",{className:"text-gray-600",children:["Total Price: ",n.jsxs("span",{className:"font-semibold",children:["€",(e.totalPrice||0).toFixed(2)]})]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600",children:["Voucher Code: ",n.jsx("span",{className:"font-semibold",children:e.voucherCode})]}),n.jsxs("p",{className:"text-gray-600 flex items-center",children:[n.jsx(fn,{size:14,className:"mr-1"}),new Date(e.createdAt).toLocaleDateString()]})]})]})})]})]})},ise=()=>{const{user:e,orders:t,isLoggedIn:r,logout:s}=Qm(),a=Jn();if(_.useEffect(()=>{r||a("/")},[r,a]),!r||!e)return null;const i=t.length,o=t.filter(c=>c.status==="paid").length,l=t.filter(c=>c.status==="pending").length;return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"My Account"}),n.jsxs("div",{className:"md:grid md:grid-cols-4 md:gap-8",children:[n.jsx("div",{className:"md:col-span-1 mb-8 md:mb-0",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-24",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Ji,{className:"text-blue-600",size:32})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:e.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]}),n.jsx("hr",{className:"my-4 border-gray-200"}),n.jsx("nav",{children:n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs(Gt,{to:"/account",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[n.jsx(ly,{size:18,className:"mr-3"}),"My Orders"]})}),n.jsx("li",{children:n.jsxs(Gt,{to:"/account/profile",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",children:[n.jsx(Ga,{size:18,className:"mr-3"}),"Account Settings"]})}),n.jsx("li",{children:n.jsxs("button",{onClick:()=>{s(),a("/")},className:"w-full flex items-center px-4 py-2 text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[n.jsx(xF,{size:18,className:"mr-3"}),"Logout"]})})]})})]})}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(ly,{className:"text-blue-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:i})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(Hr,{className:"text-green-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Paid Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:o})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mr-4",children:n.jsx(Os,{className:"text-yellow-600",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 text-sm",children:"Pending Orders"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:l})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"My Orders"}),t.length>0?n.jsx("div",{className:"space-y-4",children:t.map(c=>n.jsx(ase,{order:c},c.id))}):n.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[n.jsx(ly,{size:48,className:"text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:"No Orders Yet"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't placed any orders yet."}),n.jsx(Gt,{to:"/vouchers",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Browse Vouchers"})]})]})]})]})]})})},ose=()=>{const{user:e,isLoggedIn:t}=Qm(),r=Jn(),[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(""),[h,p]=_.useState(""),[f,x]=_.useState({type:"",text:""});if(_.useEffect(()=>{t?e&&(a(e.name),o(e.email)):r("/")},[t,r,e]),!t||!e)return null;const g=b=>{b.preventDefault(),x({type:"success",text:"Profile updated successfully!"}),setTimeout(()=>{x({type:"",text:""})},3e3)},v=b=>{if(b.preventDefault(),u!==h){x({type:"error",text:"New passwords do not match!"});return}if(u.length<8){x({type:"error",text:"Password must be at least 8 characters long"});return}x({type:"success",text:"Password updated successfully!"}),c(""),d(""),p(""),setTimeout(()=>{x({type:"",text:""})},3e3)};return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-8 text-gray-800",children:"Account Settings"}),f.text&&n.jsx("div",{className:`p-4 mb-6 rounded-lg ${f.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.jsxs("div",{className:"flex items-center",children:[f.type==="success"?n.jsx(CheckCircle,{size:20,className:"mr-2"}):n.jsx(ln,{size:20,className:"mr-2"}),n.jsx("p",{children:f.text})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Profile Information"}),n.jsxs("form",{onSubmit:g,children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(Ji,{size:16,className:"mr-2"})," Name"]}),n.jsx("input",{type:"text",value:s,onChange:b=>a(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{className:"block text-gray-700 font-medium mb-2 flex items-center",children:[n.jsx(on,{size:16,className:"mr-2"})," Email Address"]}),n.jsx("input",{type:"email",value:i,onChange:b=>o(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[n.jsx(pl,{size:18,className:"mr-2"}),"Update Profile"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Change Password"}),n.jsxs("form",{onSubmit:v,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Current Password"}),n.jsx("input",{type:"password",value:l,onChange:b=>c(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"New Password"}),n.jsx("input",{type:"password",value:u,onChange:b=>d(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:h,onChange:b=>p(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-blue-600 transition-colors"})]}),n.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition-colors flex items-center",children:[n.jsx(pl,{size:18,className:"mr-2"}),"Update Password"]})]})]})]})]})})},Rr=({children:e})=>{const[t,r]=_.useState(!1),[s,a]=_.useState("en"),[i,o]=_.useState(0),[l,c]=_.useState(0),u=u6(),d=Jn(),{user:h,signOut:p}=Vw();_.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[u.pathname]),_.useEffect(()=>{const v=async()=>{try{const j=await fetch("/api/crm/leads?status=new");if(j.ok){const A=await j.json();o(A.length)}const N=await fetch("/api/inbox/emails?unread=true");if(N.ok){const A=await N.json();c(A.length)}}catch{}};v();const b=setInterval(v,3e4);return()=>clearInterval(b)},[]);const f=[{icon:dee,label:"Dashboard",path:"/admin/dashboard"},{icon:E1,label:"New Leads",path:"/admin/leads",badge:i},{icon:td,label:"Online Voucher Sales",path:"/admin/voucher-sales"},{icon:Qn,label:"Clients",path:"/admin/clients"},{icon:J1,label:"Top Clients",path:"/admin/high-value-clients"},{icon:Va,label:"Galleries",path:"/admin/galleries"},{icon:cs,label:"Invoices",path:"/admin/invoices"},{icon:fn,label:"Calendar",path:"/admin/calendar"},{icon:tee,label:"Digital Files",path:"/admin/pro-files"},{icon:_ee,label:"Blog",path:"/admin/blog"},{icon:Hc,label:"AI AutoBlog",path:"/admin/autoblog"},{icon:on,label:"Email Campaigns",path:"/admin/campaigns"},{icon:iee,label:"Inbox",path:"/admin/inbox",badge:l},{icon:fg,label:"Questionnaires",path:"/admin/questionnaires"},{icon:ml,label:"Reports",path:"/admin/reports"},{icon:ec,label:"CRM Operations Assistant",path:"/admin/crm-assistant"},{icon:iF,label:"Knowledge Base",path:"/admin/knowledge-base"},{icon:bF,label:"Test Chat",path:"/admin/test"},{icon:Ga,label:"Settings",path:"/admin/settings"},{icon:Mo,label:"Customization",path:"/admin/customization"},{icon:Mo,label:"Studio Templates",path:"/admin/studio-templates"},{icon:Hc,label:"Website Wizard",path:"/admin/website-wizard"},{icon:Wa,label:"Website Analyzer",path:"/admin/website-analyzer"}],x=async()=>{await p(),d("/admin/login")},g=()=>{a(s==="en"?"de":"en")};return _.useEffect(()=>{h&&h.role==="admin"?localStorage.setItem("admin_user",JSON.stringify(h)):localStorage.removeItem("admin_user")},[u.pathname,h]),n.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[n.jsxs("div",{className:`bg-gray-900 text-white transition-all duration-300 ${t?"w-16":"w-64"} flex flex-col max-h-screen`,children:["        ",n.jsx("div",{className:"p-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center",children:[t?n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mx-auto"}):n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-16 w-auto mr-2"})}),n.jsx("button",{onClick:()=>r(!t),className:"ml-auto p-1 rounded hover:bg-gray-700",children:n.jsx(yF,{size:20})})]})}),i>0&&n.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(xP,{size:16,className:"text-blue-600 mr-2 flex-shrink-0"}),!t&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-blue-900 font-medium",children:[i," unread leads waiting for your attention"]}),n.jsx("button",{onClick:()=>d("/admin/leads"),className:"text-blue-600 hover:text-blue-800 text-xs underline mt-1",children:"View all leads →"})]})]})}),l>0&&n.jsx("div",{className:"mx-4 mb-4 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(on,{size:16,className:"text-green-600 mr-2 flex-shrink-0"}),!t&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-green-900 font-medium",children:[l," new emails received"]}),n.jsx("button",{onClick:()=>d("/admin/inbox"),className:"text-green-600 hover:text-green-800 text-xs underline mt-1",children:"View inbox →"})]})]})}),n.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto max-h-full sidebar-scrollbar",children:[n.jsx("div",{className:"space-y-1 pb-4",children:f.map(v=>{const b=v.icon,j=u.pathname===v.path||v.path==="/admin/blog"&&u.pathname.startsWith("/admin/blog/");return n.jsxs(Gt,{to:v.path,className:`flex items-center px-4 py-3 text-sm transition-colors relative ${j?"bg-purple-600 text-white border-r-2 border-purple-400":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[n.jsx(b,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:v.label}),v.badge&&v.badge>0&&n.jsxs("div",{className:`absolute ${t?"top-2 right-2":"top-3 right-4"} flex items-center justify-center`,children:[!t&&n.jsx(xP,{size:14,className:"mr-1 text-red-400"}),n.jsx("span",{className:`bg-red-500 text-white text-xs font-bold rounded-full ${t?"h-4 w-4 text-xs":"h-5 w-5 text-xs"} flex items-center justify-center`,children:v.badge>99?"99+":v.badge})]})]},v.path)})}),n.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[n.jsx(Lm,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:"View Website"})]})]}),n.jsx("div",{className:"border-t border-gray-700 p-4",children:n.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white rounded transition-colors",children:[n.jsx(xF,{size:20,className:"flex-shrink-0"}),!t&&n.jsx("span",{className:"ml-3",children:"Sign Out"})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:f.find(v=>v.path===u.pathname||v.path==="/admin/blog"&&u.pathname.startsWith("/admin/blog/"))?.label||"Admin"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:g,className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[n.jsx(sc,{size:16,className:"mr-1"}),n.jsx("span",{className:"uppercase",children:s})]}),n.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[n.jsx(Lm,{size:16,className:"mr-1"}),n.jsx("span",{children:"View Website"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Ji,{size:16,className:"text-white"})}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:h?.email})]})]})]})}),n.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e})]})]})},N6=({assistantId:e="asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:t,height:r="600px",title:s="CRM Operations Assistant",className:a=""})=>{const[i,o]=_.useState(!1),[l,c]=_.useState([{id:"1",role:"assistant",content:`Hello! I'm your ${s}. I can help you:

📧 Send booking confirmations & replies
📅 Manage appointments & schedules  
👥 Create & update client records
💰 Generate & send invoices
📊 Run reports & analyze data
⚡ Automate routine tasks

What would you like me to help you with today?`,timestamp:new Date}]),[u,d]=_.useState(""),[h,p]=_.useState(!1),[f,x]=_.useState(null),[g,v]=_.useState(null),b=_.useRef(null),j=_.useRef(null),N=()=>{b.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{N()},[l]),_.useEffect(()=>{!i&&j.current&&j.current.focus()},[i]);const A=async()=>"agent-session-"+Date.now(),S=async(E,B)=>{try{const C=await fetch("/api/crm/agent/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:E,threadId:B})});if(!C.ok){const M=await C.json();throw new Error(M.error||"Failed to send message")}return await C.json()}catch(C){throw console.error("Failed to send message:",C),C}},L=async()=>{if(!u.trim()||h)return;const E={id:Date.now().toString(),role:"user",content:u.trim(),timestamp:new Date},B={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date,loading:!0};c(C=>[...C,E,B]),d(""),p(!0),x(null);try{let C=g;C||(C=await A(),v(C));const O=await S(u.trim(),C);c(M=>{const D=M.filter(z=>!z.loading),W={id:(Date.now()+2).toString(),role:"assistant",content:O.response,timestamp:new Date,actionPerformed:O.actionPerformed||!1};return[...D,W]}),O.crmAction&&t&&t(O.crmAction)}catch{x("Sorry, I encountered an error. Please try again."),c(O=>[...O.filter(D=>!D.loading),{id:(Date.now()+2).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again later.",timestamp:new Date}])}finally{p(!1)}},I=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),L())},k=E=>E.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden ${a}`,style:{height:i?"64px":r},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:n.jsx(ec,{className:"h-5 w-5 text-white"})}),n.jsx(Ih,{className:"h-3 w-3 absolute -top-1 -right-1 text-yellow-500"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 pt-2",children:s}),n.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered business automation"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>o(!i),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:i?"Maximize":"Minimize",children:i?n.jsx(mee,{className:"h-5 w-5 text-gray-600"}):n.jsx(gee,{className:"h-5 w-5 text-gray-600"})})})]}),!i&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{height:`calc(${r} - 140px)`},children:[l.map(E=>n.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`flex items-start space-x-3 max-w-[85%] ${E.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${E.role==="user"?"bg-blue-600 text-white":"bg-gradient-to-br from-blue-100 to-purple-100 text-blue-600"}`,children:E.role==="user"?n.jsx(Ji,{className:"h-5 w-5"}):n.jsx(ec,{className:"h-5 w-5"})}),n.jsx("div",{className:`rounded-xl p-4 ${E.role==="user"?"bg-blue-600 text-white":E.actionPerformed?"bg-green-50 text-gray-900 border border-green-200":"bg-gray-100 text-gray-900"}`,children:E.loading?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Xr,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:E.content}),E.actionPerformed&&n.jsxs("div",{className:"flex items-center mt-2 text-xs text-green-600",children:[n.jsx(Ih,{className:"h-3 w-3 mr-1"}),"Action performed"]}),n.jsx("p",{className:`text-xs mt-2 ${E.role==="user"?"text-blue-200":"text-gray-500"}`,children:k(E.timestamp)})]})})]})},E.id)),n.jsx("div",{ref:b})]}),f&&n.jsxs("div",{className:"mx-4 mb-2 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center text-red-700 text-sm",children:[n.jsx(ln,{className:"h-4 w-4 mr-2 flex-shrink-0"}),f]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("input",{ref:j,type:"text",value:u,onChange:E=>d(E.target.value),onKeyPress:I,placeholder:"Ask me to manage your CRM tasks...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:h}),n.jsx("button",{onClick:L,disabled:!u.trim()||h,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-lg px-4 py-3 transition-colors flex items-center justify-center",title:"Send message",children:h?n.jsx(Xr,{className:"h-4 w-4 animate-spin"}):n.jsx(Bo,{className:"h-4 w-4"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[n.jsx("strong",{children:"Try:"}),` "Reply to John's email" • "Book appointment for tomorrow" • "Generate this week's invoices"`]})]})]})]})};var lse=Array.isArray,to=lse,cse=typeof ul=="object"&&ul&&ul.Object===Object&&ul,n9=cse,use=n9,dse=typeof self=="object"&&self&&self.Object===Object&&self,hse=use||dse||Function("return this")(),au=hse,fse=au,mse=fse.Symbol,Mv=mse,VP=Mv,s9=Object.prototype,pse=s9.hasOwnProperty,gse=s9.toString,O0=VP?VP.toStringTag:void 0;function xse(e){var t=pse.call(e,O0),r=e[O0];try{e[O0]=void 0;var s=!0}catch{}var a=gse.call(e);return s&&(t?e[O0]=r:delete e[O0]),a}var yse=xse,vse=Object.prototype,bse=vse.toString;function wse(e){return bse.call(e)}var jse=wse,WP=Mv,Nse=yse,_se=jse,Sse="[object Null]",Ase="[object Undefined]",HP=WP?WP.toStringTag:void 0;function kse(e){return e==null?e===void 0?Ase:Sse:HP&&HP in Object(e)?Nse(e):_se(e)}var ud=kse;function Cse(e){return e!=null&&typeof e=="object"}var dd=Cse,Pse=ud,Ese=dd,Tse="[object Symbol]";function Ose(e){return typeof e=="symbol"||Ese(e)&&Pse(e)==Tse}var Ex=Ose,Lse=to,Ise=Ex,Mse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dse=/^\w*$/;function Rse(e,t){if(Lse(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ise(e)?!0:Dse.test(e)||!Mse.test(e)||t!=null&&e in Object(t)}var _6=Rse;function Fse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var tf=Fse;const Tx=pn(tf);var $se=ud,Bse=tf,zse="[object AsyncFunction]",Use="[object Function]",qse="[object GeneratorFunction]",Vse="[object Proxy]";function Wse(e){if(!Bse(e))return!1;var t=$se(e);return t==Use||t==qse||t==zse||t==Vse}var S6=Wse;const er=pn(S6);var Hse=au,Gse=Hse["__core-js_shared__"],Kse=Gse,g5=Kse,GP=function(){var e=/[^.]+$/.exec(g5&&g5.keys&&g5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yse(e){return!!GP&&GP in e}var Zse=Yse,Xse=Function.prototype,Qse=Xse.toString;function Jse(e){if(e!=null){try{return Qse.call(e)}catch{}try{return e+""}catch{}}return""}var a9=Jse,eae=S6,tae=Zse,rae=tf,nae=a9,sae=/[\\^$.*+?()[\]{}|]/g,aae=/^\[object .+?Constructor\]$/,iae=Function.prototype,oae=Object.prototype,lae=iae.toString,cae=oae.hasOwnProperty,uae=RegExp("^"+lae.call(cae).replace(sae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dae(e){if(!rae(e)||tae(e))return!1;var t=eae(e)?uae:aae;return t.test(nae(e))}var hae=dae;function fae(e,t){return e?.[t]}var mae=fae,pae=hae,gae=mae;function xae(e,t){var r=gae(e,t);return pae(r)?r:void 0}var tp=xae,yae=tp,vae=yae(Object,"create"),Xw=vae,KP=Xw;function bae(){this.__data__=KP?KP(null):{},this.size=0}var wae=bae;function jae(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Nae=jae,_ae=Xw,Sae="__lodash_hash_undefined__",Aae=Object.prototype,kae=Aae.hasOwnProperty;function Cae(e){var t=this.__data__;if(_ae){var r=t[e];return r===Sae?void 0:r}return kae.call(t,e)?t[e]:void 0}var Pae=Cae,Eae=Xw,Tae=Object.prototype,Oae=Tae.hasOwnProperty;function Lae(e){var t=this.__data__;return Eae?t[e]!==void 0:Oae.call(t,e)}var Iae=Lae,Mae=Xw,Dae="__lodash_hash_undefined__";function Rae(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Mae&&t===void 0?Dae:t,this}var Fae=Rae,$ae=wae,Bae=Nae,zae=Pae,Uae=Iae,qae=Fae;function Ox(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Ox.prototype.clear=$ae;Ox.prototype.delete=Bae;Ox.prototype.get=zae;Ox.prototype.has=Uae;Ox.prototype.set=qae;var Vae=Ox;function Wae(){this.__data__=[],this.size=0}var Hae=Wae;function Gae(e,t){return e===t||e!==e&&t!==t}var A6=Gae,Kae=A6;function Yae(e,t){for(var r=e.length;r--;)if(Kae(e[r][0],t))return r;return-1}var Qw=Yae,Zae=Qw,Xae=Array.prototype,Qae=Xae.splice;function Jae(e){var t=this.__data__,r=Zae(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():Qae.call(t,r,1),--this.size,!0}var eie=Jae,tie=Qw;function rie(e){var t=this.__data__,r=tie(t,e);return r<0?void 0:t[r][1]}var nie=rie,sie=Qw;function aie(e){return sie(this.__data__,e)>-1}var iie=aie,oie=Qw;function lie(e,t){var r=this.__data__,s=oie(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var cie=lie,uie=Hae,die=eie,hie=nie,fie=iie,mie=cie;function Lx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Lx.prototype.clear=uie;Lx.prototype.delete=die;Lx.prototype.get=hie;Lx.prototype.has=fie;Lx.prototype.set=mie;var Jw=Lx,pie=tp,gie=au,xie=pie(gie,"Map"),k6=xie,YP=Vae,yie=Jw,vie=k6;function bie(){this.size=0,this.__data__={hash:new YP,map:new(vie||yie),string:new YP}}var wie=bie;function jie(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Nie=jie,_ie=Nie;function Sie(e,t){var r=e.__data__;return _ie(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ej=Sie,Aie=ej;function kie(e){var t=Aie(this,e).delete(e);return this.size-=t?1:0,t}var Cie=kie,Pie=ej;function Eie(e){return Pie(this,e).get(e)}var Tie=Eie,Oie=ej;function Lie(e){return Oie(this,e).has(e)}var Iie=Lie,Mie=ej;function Die(e,t){var r=Mie(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var Rie=Die,Fie=wie,$ie=Cie,Bie=Tie,zie=Iie,Uie=Rie;function Ix(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Ix.prototype.clear=Fie;Ix.prototype.delete=$ie;Ix.prototype.get=Bie;Ix.prototype.has=zie;Ix.prototype.set=Uie;var C6=Ix,i9=C6,qie="Expected a function";function P6(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qie);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(P6.Cache||i9),r}P6.Cache=i9;var o9=P6;const Vie=pn(o9);var Wie=o9,Hie=500;function Gie(e){var t=Wie(e,function(s){return r.size===Hie&&r.clear(),s}),r=t.cache;return t}var Kie=Gie,Yie=Kie,Zie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xie=/\\(\\)?/g,Qie=Yie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Zie,function(r,s,a,i){t.push(a?i.replace(Xie,"$1"):s||r)}),t}),Jie=Qie;function eoe(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var E6=eoe,ZP=Mv,toe=E6,roe=to,noe=Ex,soe=1/0,XP=ZP?ZP.prototype:void 0,QP=XP?XP.toString:void 0;function l9(e){if(typeof e=="string")return e;if(roe(e))return toe(e,l9)+"";if(noe(e))return QP?QP.call(e):"";var t=e+"";return t=="0"&&1/e==-soe?"-0":t}var aoe=l9,ioe=aoe;function ooe(e){return e==null?"":ioe(e)}var c9=ooe,loe=to,coe=_6,uoe=Jie,doe=c9;function hoe(e,t){return loe(e)?e:coe(e,t)?[e]:uoe(doe(e))}var u9=hoe,foe=Ex,moe=1/0;function poe(e){if(typeof e=="string"||foe(e))return e;var t=e+"";return t=="0"&&1/e==-moe?"-0":t}var tj=poe,goe=u9,xoe=tj;function yoe(e,t){t=goe(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[xoe(t[r++])];return r&&r==s?e:void 0}var T6=yoe,voe=T6;function boe(e,t,r){var s=e==null?void 0:voe(e,t);return s===void 0?r:s}var d9=boe;const Ro=pn(d9);function woe(e){return e==null}var joe=woe;const fr=pn(joe);var Noe=ud,_oe=to,Soe=dd,Aoe="[object String]";function koe(e){return typeof e=="string"||!_oe(e)&&Soe(e)&&Noe(e)==Aoe}var Coe=koe;const Dm=pn(Coe);var h9={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=Symbol.for("react.element"),L6=Symbol.for("react.portal"),rj=Symbol.for("react.fragment"),nj=Symbol.for("react.strict_mode"),sj=Symbol.for("react.profiler"),aj=Symbol.for("react.provider"),ij=Symbol.for("react.context"),Poe=Symbol.for("react.server_context"),oj=Symbol.for("react.forward_ref"),lj=Symbol.for("react.suspense"),cj=Symbol.for("react.suspense_list"),uj=Symbol.for("react.memo"),dj=Symbol.for("react.lazy"),Eoe=Symbol.for("react.offscreen"),f9;f9=Symbol.for("react.module.reference");function vl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case O6:switch(e=e.type,e){case rj:case sj:case nj:case lj:case cj:return e;default:switch(e=e&&e.$$typeof,e){case Poe:case ij:case oj:case dj:case uj:case aj:return e;default:return t}}case L6:return t}}}kn.ContextConsumer=ij;kn.ContextProvider=aj;kn.Element=O6;kn.ForwardRef=oj;kn.Fragment=rj;kn.Lazy=dj;kn.Memo=uj;kn.Portal=L6;kn.Profiler=sj;kn.StrictMode=nj;kn.Suspense=lj;kn.SuspenseList=cj;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return vl(e)===ij};kn.isContextProvider=function(e){return vl(e)===aj};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===O6};kn.isForwardRef=function(e){return vl(e)===oj};kn.isFragment=function(e){return vl(e)===rj};kn.isLazy=function(e){return vl(e)===dj};kn.isMemo=function(e){return vl(e)===uj};kn.isPortal=function(e){return vl(e)===L6};kn.isProfiler=function(e){return vl(e)===sj};kn.isStrictMode=function(e){return vl(e)===nj};kn.isSuspense=function(e){return vl(e)===lj};kn.isSuspenseList=function(e){return vl(e)===cj};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rj||e===sj||e===nj||e===lj||e===cj||e===Eoe||typeof e=="object"&&e!==null&&(e.$$typeof===dj||e.$$typeof===uj||e.$$typeof===aj||e.$$typeof===ij||e.$$typeof===oj||e.$$typeof===f9||e.getModuleId!==void 0)};kn.typeOf=vl;h9.exports=kn;var Toe=h9.exports,Ooe=ud,Loe=dd,Ioe="[object Number]";function Moe(e){return typeof e=="number"||Loe(e)&&Ooe(e)==Ioe}var m9=Moe;const Doe=pn(m9);var Roe=m9;function Foe(e){return Roe(e)&&e!=+e}var $oe=Foe;const Mx=pn($oe);var Li=function(t){return t===0?0:t>0?1:-1},rm=function(t){return Dm(t)&&t.indexOf("%")===t.length-1},ot=function(t){return Doe(t)&&!Mx(t)},Boe=function(t){return fr(t)},va=function(t){return ot(t)||Dm(t)},zoe=0,rp=function(t){var r=++zoe;return"".concat(t||"").concat(r)},Ii=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(t)&&!Dm(t))return s;var i;if(rm(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Mx(i)&&(i=s),a&&i>r&&(i=r),i},mh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Uoe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},ya=function(t,r){return ot(t)&&ot(r)?function(s){return t+s*(r-t)}:function(){return r}};function s2(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Ro(s,t))===r})}var qoe=function(t,r){return ot(t)&&ot(r)?t-r:Dm(t)&&Dm(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function gg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function NS(e){"@babel/helpers - typeof";return NS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NS(e)}var Voe=["viewBox","children"],Woe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JP=["points","pathLength"],x5={svg:Voe,polygon:JP,polyline:JP},I6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],a2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(_.isValidElement(t)&&(s=t.props),!Tx(s))return null;var a={};return Object.keys(s).forEach(function(i){I6.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Hoe=function(t,r,s){return function(a){return t(r,s,a),null}},Rm=function(t,r,s){if(!Tx(t)||NS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];I6.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Hoe(o,r,s))}),a},Goe=["children"],Koe=["children"];function eE(e,t){if(e==null)return{};var r=Yoe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Yoe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _S(e){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_S(e)}var tE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Yu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},rE=null,y5=null,M6=function e(t){if(t===rE&&Array.isArray(y5))return y5;var r=[];return _.Children.forEach(t,function(s){fr(s)||(Toe.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),y5=r,rE=t,r};function Fo(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Yu(a)}):s=[Yu(t)],M6(e).forEach(function(a){var i=Ro(a,"type.displayName")||Ro(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Ao(e,t){var r=Fo(e,t);return r&&r[0]}var nE=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!ot(s)||s<=0||!ot(a)||a<=0)},Zoe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xoe=function(t){return t&&t.type&&Dm(t.type)&&Zoe.indexOf(t.type)>=0},p9=function(t){return t&&_S(t)==="object"&&"clipDot"in t},Qoe=function(t,r,s,a){var i,o=(i=x5?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!er(t)&&(a&&o.includes(r)||Woe.includes(r))||s&&I6.includes(r)},Ft=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!Tx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Qoe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},SS=function e(t,r){if(t===r)return!0;var s=_.Children.count(t);if(s!==_.Children.count(r))return!1;if(s===0)return!0;if(s===1)return sE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!sE(i,o))return!1}return!0},sE=function(t,r){if(fr(t)&&fr(r))return!0;if(!fr(t)&&!fr(r)){var s=t.props||{},a=s.children,i=eE(s,Goe),o=r.props||{},l=o.children,c=eE(o,Koe);return a&&l?gg(i,c)&&SS(a,l):!a&&!l?gg(i,c):!1}return!1},aE=function(t,r){var s=[],a={};return M6(t).forEach(function(i,o){if(Xoe(i))s.push(i);else if(i){var l=Yu(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var h=u(i,l,o);s.push(h),a[l]=!0}}}),s},Joe=function(t){var r=t&&t.type;return r&&tE[r]?tE[r]:null},ele=function(t,r){return M6(r).indexOf(t)},tle=["children","width","height","viewBox","className","style","title","desc"];function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},AS.apply(this,arguments)}function rle(e,t){if(e==null)return{};var r=nle(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function nle(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function kS(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=rle(e,tle),d=a||{width:r,height:s,x:0,y:0},h=xr("recharts-surface",i);return ye.createElement("svg",AS({},Ft(u,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ye.createElement("title",null,l),ye.createElement("desc",null,c),t)}var sle=["children","className"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},CS.apply(this,arguments)}function ale(e,t){if(e==null)return{};var r=ile(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ile(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Ur=ye.forwardRef(function(e,t){var r=e.children,s=e.className,a=ale(e,sle),i=xr("recharts-layer",s);return ye.createElement("g",CS({className:i},Ft(a,!0),{ref:t}),r)}),rc=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function ole(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var lle=ole,cle=lle;function ule(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:cle(e,t,r)}var dle=ule,hle="\\ud800-\\udfff",fle="\\u0300-\\u036f",mle="\\ufe20-\\ufe2f",ple="\\u20d0-\\u20ff",gle=fle+mle+ple,xle="\\ufe0e\\ufe0f",yle="\\u200d",vle=RegExp("["+yle+hle+gle+xle+"]");function ble(e){return vle.test(e)}var g9=ble;function wle(e){return e.split("")}var jle=wle,x9="\\ud800-\\udfff",Nle="\\u0300-\\u036f",_le="\\ufe20-\\ufe2f",Sle="\\u20d0-\\u20ff",Ale=Nle+_le+Sle,kle="\\ufe0e\\ufe0f",Cle="["+x9+"]",PS="["+Ale+"]",ES="\\ud83c[\\udffb-\\udfff]",Ple="(?:"+PS+"|"+ES+")",y9="[^"+x9+"]",v9="(?:\\ud83c[\\udde6-\\uddff]){2}",b9="[\\ud800-\\udbff][\\udc00-\\udfff]",Ele="\\u200d",w9=Ple+"?",j9="["+kle+"]?",Tle="(?:"+Ele+"(?:"+[y9,v9,b9].join("|")+")"+j9+w9+")*",Ole=j9+w9+Tle,Lle="(?:"+[y9+PS+"?",PS,v9,b9,Cle].join("|")+")",Ile=RegExp(ES+"(?="+ES+")|"+Lle+Ole,"g");function Mle(e){return e.match(Ile)||[]}var Dle=Mle,Rle=jle,Fle=g9,$le=Dle;function Ble(e){return Fle(e)?$le(e):Rle(e)}var zle=Ble,Ule=dle,qle=g9,Vle=zle,Wle=c9;function Hle(e){return function(t){t=Wle(t);var r=qle(t)?Vle(t):void 0,s=r?r[0]:t.charAt(0),a=r?Ule(r,1).join(""):t.slice(1);return s[e]()+a}}var Gle=Hle,Kle=Gle,Yle=Kle("toUpperCase"),Zle=Yle;const hj=pn(Zle);function Bn(e){return function(){return e}}const N9=Math.cos,i2=Math.sin,cc=Math.sqrt,o2=Math.PI,fj=2*o2,TS=Math.PI,OS=2*TS,qf=1e-6,Xle=OS-qf;function _9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Qle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _9;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class Jle{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_9:Qle(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,u=a-r,d=o-t,h=l-r,p=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>qf)if(!(Math.abs(h*c-u*d)>qf)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let f=s-o,x=a-l,g=c*c+u*u,v=f*f+x*x,b=Math.sqrt(g),j=Math.sqrt(p),N=i*Math.tan((TS-Math.acos((g+p-v)/(2*b*j)))/2),A=N/j,S=N/b;Math.abs(A-1)>qf&&this._append`L${t+A*d},${r+A*h}`,this._append`A${i},${i},0,0,${+(h*f>d*x)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),u=t+l,d=r+c,h=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>qf||Math.abs(this._y1-d)>qf)&&this._append`L${u},${d}`,s&&(p<0&&(p=p%OS+OS),p>Xle?this._append`A${s},${s},0,1,${h},${t-l},${r-c}A${s},${s},0,1,${h},${this._x1=u},${this._y1=d}`:p>qf&&this._append`A${s},${s},0,${+(p>=TS)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function D6(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new Jle(t)}function R6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S9(e){this._context=e}S9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mj(e){return new S9(e)}function A9(e){return e[0]}function k9(e){return e[1]}function C9(e,t){var r=Bn(!0),s=null,a=mj,i=null,o=D6(l);e=typeof e=="function"?e:e===void 0?A9:Bn(e),t=typeof t=="function"?t:t===void 0?k9:Bn(t);function l(c){var u,d=(c=R6(c)).length,h,p=!1,f;for(s==null&&(i=a(f=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(h,u,c),+t(h,u,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Bn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Vb(e,t,r){var s=null,a=Bn(!0),i=null,o=mj,l=null,c=D6(u);e=typeof e=="function"?e:e===void 0?A9:Bn(+e),t=typeof t=="function"?t:Bn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?k9:Bn(+r);function u(h){var p,f,x,g=(h=R6(h)).length,v,b=!1,j,N=new Array(g),A=new Array(g);for(i==null&&(l=o(j=c())),p=0;p<=g;++p){if(!(p<g&&a(v=h[p],p,h))===b)if(b=!b)f=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=f;--x)l.point(N[x],A[x]);l.lineEnd(),l.areaEnd()}b&&(N[p]=+e(v,p,h),A[p]=+t(v,p,h),l.point(s?+s(v,p,h):N[p],r?+r(v,p,h):A[p]))}if(j)return l=null,j+""||null}function d(){return C9().defined(a).curve(o).context(i)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),s=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Bn(+h),u):e},u.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:Bn(+h),u):s},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Bn(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Bn(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Bn(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(s).y(t)},u.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Bn(!!h),u):a},u.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),u):o},u.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),u):i},u}class P9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ece(e){return new P9(e,!0)}function tce(e){return new P9(e,!1)}const F6={draw(e,t){const r=cc(t/o2);e.moveTo(r,0),e.arc(0,0,r,0,fj)}},rce={draw(e,t){const r=cc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},E9=cc(1/3),nce=E9*2,sce={draw(e,t){const r=cc(t/nce),s=r*E9;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},ace={draw(e,t){const r=cc(t),s=-r/2;e.rect(s,s,r,r)}},ice=.8908130915292852,T9=i2(o2/10)/i2(7*o2/10),oce=i2(fj/10)*T9,lce=-N9(fj/10)*T9,cce={draw(e,t){const r=cc(t*ice),s=oce*r,a=lce*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=fj*i/5,l=N9(o),c=i2(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},v5=cc(3),uce={draw(e,t){const r=-cc(t/(v5*3));e.moveTo(0,r*2),e.lineTo(-v5*r,-r),e.lineTo(v5*r,-r),e.closePath()}},rl=-.5,nl=cc(3)/2,LS=1/cc(12),dce=(LS/2+1)*3,hce={draw(e,t){const r=cc(t/dce),s=r/2,a=r*LS,i=s,o=r*LS+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(rl*s-nl*a,nl*s+rl*a),e.lineTo(rl*i-nl*o,nl*i+rl*o),e.lineTo(rl*l-nl*c,nl*l+rl*c),e.lineTo(rl*s+nl*a,rl*a-nl*s),e.lineTo(rl*i+nl*o,rl*o-nl*i),e.lineTo(rl*l+nl*c,rl*c-nl*l),e.closePath()}};function fce(e,t){let r=null,s=D6(a);e=typeof e=="function"?e:Bn(e||F6),t=typeof t=="function"?t:Bn(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Bn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Bn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function l2(){}function c2(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function O9(e){this._context=e}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:c2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mce(e){return new O9(e)}function L9(e){this._context=e}L9.prototype={areaStart:l2,areaEnd:l2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pce(e){return new L9(e)}function I9(e){this._context=e}I9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:c2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gce(e){return new I9(e)}function M9(e){this._context=e}M9.prototype={areaStart:l2,areaEnd:l2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xce(e){return new M9(e)}function iE(e){return e<0?-1:1}function oE(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(iE(i)+iE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function lE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function b5(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function u2(e){this._context=e}u2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b5(this,this._t0,lE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,b5(this,lE(this,r=oE(this,e,t)),r);break;default:b5(this,this._t0,r=oE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function D9(e){this._context=new R9(e)}(D9.prototype=Object.create(u2.prototype)).point=function(e,t){u2.prototype.point.call(this,t,e)};function R9(e){this._context=e}R9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function yce(e){return new u2(e)}function vce(e){return new D9(e)}function F9(e){this._context=e}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=cE(e),a=cE(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cE(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function bce(e){return new F9(e)}function pj(e,t){this._context=e,this._t=t}pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wce(e){return new pj(e,.5)}function jce(e){return new pj(e,0)}function Nce(e){return new pj(e,1)}function zg(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function IS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _ce(e,t){return e[t]}function Sce(e){const t=[];return t.key=e,t}function Ace(){var e=Bn([]),t=IS,r=zg,s=_ce;function a(i){var o=Array.from(e.apply(this,arguments),Sce),l,c=o.length,u=-1,d;for(const h of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(h,o[l].key,u,i)]).data=h;for(l=0,d=R6(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Bn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Bn(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?IS:typeof i=="function"?i:Bn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??zg,a):r},a}function kce(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}zg(e,t)}}function Cce(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}zg(e,t)}}function Pce(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],h=d[s][1]||0,p=d[s-1][1]||0,f=(h-p)/2,x=0;x<l;++x){var g=e[t[x]],v=g[s][1]||0,b=g[s-1][1]||0;f+=v-b}c+=h,u+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=u/c)}a[s-1][1]+=a[s-1][0]=r,zg(e,t)}}function Oy(e){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oy(e)}var Ece=["type","size","sizeType"];function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MS.apply(this,arguments)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(s){Tce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Tce(e,t,r){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oce(e){var t=Lce(e,"string");return Oy(t)=="symbol"?t:t+""}function Lce(e,t){if(Oy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Oy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ice(e,t){if(e==null)return{};var r=Mce(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Mce(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var $9={symbolCircle:F6,symbolCross:rce,symbolDiamond:sce,symbolSquare:ace,symbolStar:cce,symbolTriangle:uce,symbolWye:hce},Dce=Math.PI/180,Rce=function(t){var r="symbol".concat(hj(t));return $9[r]||F6},Fce=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Dce;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$ce=function(t,r){$9["symbol".concat(hj(t))]=r},$6=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Ice(t,Ece),u=dE(dE({},c),{},{type:s,size:i,sizeType:l}),d=function(){var v=Rce(s),b=fce().type(v).size(Fce(i,l,s));return b()},h=u.className,p=u.cx,f=u.cy,x=Ft(u,!0);return p===+p&&f===+f&&i===+i?ye.createElement("path",MS({},x,{className:xr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};$6.registerSymbol=$ce;function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DS.apply(this,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(s){Ly(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uce(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z9(s.key),s)}}function qce(e,t,r){return t&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vce(e,t,r){return t=d2(t),Wce(e,B9()?Reflect.construct(t,r||[],d2(e).constructor):t.apply(e,r))}function Wce(e,t){if(t&&(Ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(e)}function Hce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function d2(e){return d2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d2(e)}function Gce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RS(e,t)}function Ly(e,t,r){return t=z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=Kce(e,"string");return Ug(t)=="symbol"?t:t+""}function Kce(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ug(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sl=32,B6=function(e){function t(){return zce(this,t),Vce(this,t,arguments)}return Gce(t,e),qce(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=sl/2,o=sl/6,l=sl/3,c=s.inactive?a:s.color;if(s.type==="plainline")return ye.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:sl,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return ye.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(sl,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return ye.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(sl/8,"h").concat(sl,"v").concat(sl*3/4,"h").concat(-sl,"z"),className:"recharts-legend-icon"});if(ye.isValidElement(s.legendIcon)){var u=Bce({},s);return delete u.legendIcon,ye.cloneElement(s.legendIcon,u)}return ye.createElement($6,{fill:c,cx:i,cy:i,size:sl,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:sl,height:sl},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,x){var g=f.formatter||c,v=xr(Ly(Ly({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",f.inactive));if(f.type==="none")return null;var b=er(f.value)?null:f.value;rc(!er(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=f.inactive?u:f.color;return ye.createElement("li",DS({className:v,style:h,key:"legend-item-".concat(x)},Rm(s.props,f,x)),ye.createElement(kS,{width:o,height:o,viewBox:d,style:p},s.renderIcon(f)),ye.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},g?g(b,f,x):b))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ye.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);Ly(B6,"displayName","Legend");Ly(B6,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yce=Jw;function Zce(){this.__data__=new Yce,this.size=0}var Xce=Zce;function Qce(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Jce=Qce;function eue(e){return this.__data__.get(e)}var tue=eue;function rue(e){return this.__data__.has(e)}var nue=rue,sue=Jw,aue=k6,iue=C6,oue=200;function lue(e,t){var r=this.__data__;if(r instanceof sue){var s=r.__data__;if(!aue||s.length<oue-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new iue(s)}return r.set(e,t),this.size=r.size,this}var cue=lue,uue=Jw,due=Xce,hue=Jce,fue=tue,mue=nue,pue=cue;function Dx(e){var t=this.__data__=new uue(e);this.size=t.size}Dx.prototype.clear=due;Dx.prototype.delete=hue;Dx.prototype.get=fue;Dx.prototype.has=mue;Dx.prototype.set=pue;var U9=Dx,gue="__lodash_hash_undefined__";function xue(e){return this.__data__.set(e,gue),this}var yue=xue;function vue(e){return this.__data__.has(e)}var bue=vue,wue=C6,jue=yue,Nue=bue;function h2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new wue;++t<r;)this.add(e[t])}h2.prototype.add=h2.prototype.push=jue;h2.prototype.has=Nue;var q9=h2;function _ue(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var V9=_ue;function Sue(e,t){return e.has(t)}var W9=Sue,Aue=q9,kue=V9,Cue=W9,Pue=1,Eue=2;function Tue(e,t,r,s,a,i){var o=r&Pue,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=r&Eue?new Aue:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var x=e[h],g=t[h];if(s)var v=o?s(g,x,h,t,e,i):s(x,g,h,e,t,i);if(v!==void 0){if(v)continue;p=!1;break}if(f){if(!kue(t,function(b,j){if(!Cue(f,j)&&(x===b||a(x,b,r,s,i)))return f.push(j)})){p=!1;break}}else if(!(x===g||a(x,g,r,s,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var H9=Tue,Oue=au,Lue=Oue.Uint8Array,Iue=Lue;function Mue(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var Due=Mue;function Rue(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var z6=Rue,fE=Mv,mE=Iue,Fue=A6,$ue=H9,Bue=Due,zue=z6,Uue=1,que=2,Vue="[object Boolean]",Wue="[object Date]",Hue="[object Error]",Gue="[object Map]",Kue="[object Number]",Yue="[object RegExp]",Zue="[object Set]",Xue="[object String]",Que="[object Symbol]",Jue="[object ArrayBuffer]",ede="[object DataView]",pE=fE?fE.prototype:void 0,w5=pE?pE.valueOf:void 0;function tde(e,t,r,s,a,i,o){switch(r){case ede:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jue:return!(e.byteLength!=t.byteLength||!i(new mE(e),new mE(t)));case Vue:case Wue:case Kue:return Fue(+e,+t);case Hue:return e.name==t.name&&e.message==t.message;case Yue:case Xue:return e==t+"";case Gue:var l=Bue;case Zue:var c=s&Uue;if(l||(l=zue),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;s|=que,o.set(e,t);var d=$ue(l(e),l(t),s,a,i,o);return o.delete(e),d;case Que:if(w5)return w5.call(e)==w5.call(t)}return!1}var rde=tde;function nde(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var G9=nde,sde=G9,ade=to;function ide(e,t,r){var s=t(e);return ade(e)?s:sde(s,r(e))}var ode=ide;function lde(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var cde=lde;function ude(){return[]}var dde=ude,hde=cde,fde=dde,mde=Object.prototype,pde=mde.propertyIsEnumerable,gE=Object.getOwnPropertySymbols,gde=gE?function(e){return e==null?[]:(e=Object(e),hde(gE(e),function(t){return pde.call(e,t)}))}:fde,xde=gde;function yde(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var vde=yde,bde=ud,wde=dd,jde="[object Arguments]";function Nde(e){return wde(e)&&bde(e)==jde}var _de=Nde,xE=_de,Sde=dd,K9=Object.prototype,Ade=K9.hasOwnProperty,kde=K9.propertyIsEnumerable,Cde=xE(function(){return arguments}())?xE:function(e){return Sde(e)&&Ade.call(e,"callee")&&!kde.call(e,"callee")},U6=Cde,f2={exports:{}};function Pde(){return!1}var Ede=Pde;f2.exports;(function(e,t){var r=au,s=Ede,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;e.exports=u})(f2,f2.exports);var Y9=f2.exports,Tde=9007199254740991,Ode=/^(?:0|[1-9]\d*)$/;function Lde(e,t){var r=typeof e;return t=t??Tde,!!t&&(r=="number"||r!="symbol"&&Ode.test(e))&&e>-1&&e%1==0&&e<t}var q6=Lde,Ide=9007199254740991;function Mde(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ide}var V6=Mde,Dde=ud,Rde=V6,Fde=dd,$de="[object Arguments]",Bde="[object Array]",zde="[object Boolean]",Ude="[object Date]",qde="[object Error]",Vde="[object Function]",Wde="[object Map]",Hde="[object Number]",Gde="[object Object]",Kde="[object RegExp]",Yde="[object Set]",Zde="[object String]",Xde="[object WeakMap]",Qde="[object ArrayBuffer]",Jde="[object DataView]",ehe="[object Float32Array]",the="[object Float64Array]",rhe="[object Int8Array]",nhe="[object Int16Array]",she="[object Int32Array]",ahe="[object Uint8Array]",ihe="[object Uint8ClampedArray]",ohe="[object Uint16Array]",lhe="[object Uint32Array]",Kn={};Kn[ehe]=Kn[the]=Kn[rhe]=Kn[nhe]=Kn[she]=Kn[ahe]=Kn[ihe]=Kn[ohe]=Kn[lhe]=!0;Kn[$de]=Kn[Bde]=Kn[Qde]=Kn[zde]=Kn[Jde]=Kn[Ude]=Kn[qde]=Kn[Vde]=Kn[Wde]=Kn[Hde]=Kn[Gde]=Kn[Kde]=Kn[Yde]=Kn[Zde]=Kn[Xde]=!1;function che(e){return Fde(e)&&Rde(e.length)&&!!Kn[Dde(e)]}var uhe=che;function dhe(e){return function(t){return e(t)}}var Z9=dhe,m2={exports:{}};m2.exports;(function(e,t){var r=n9,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(m2,m2.exports);var hhe=m2.exports,fhe=uhe,mhe=Z9,yE=hhe,vE=yE&&yE.isTypedArray,phe=vE?mhe(vE):fhe,X9=phe,ghe=vde,xhe=U6,yhe=to,vhe=Y9,bhe=q6,whe=X9,jhe=Object.prototype,Nhe=jhe.hasOwnProperty;function _he(e,t){var r=yhe(e),s=!r&&xhe(e),a=!r&&!s&&vhe(e),i=!r&&!s&&!a&&whe(e),o=r||s||a||i,l=o?ghe(e.length,String):[],c=l.length;for(var u in e)(t||Nhe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bhe(u,c)))&&l.push(u);return l}var She=_he,Ahe=Object.prototype;function khe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ahe;return e===r}var Che=khe;function Phe(e,t){return function(r){return e(t(r))}}var Q9=Phe,Ehe=Q9,The=Ehe(Object.keys,Object),Ohe=The,Lhe=Che,Ihe=Ohe,Mhe=Object.prototype,Dhe=Mhe.hasOwnProperty;function Rhe(e){if(!Lhe(e))return Ihe(e);var t=[];for(var r in Object(e))Dhe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Fhe=Rhe,$he=S6,Bhe=V6;function zhe(e){return e!=null&&Bhe(e.length)&&!$he(e)}var Dv=zhe,Uhe=She,qhe=Fhe,Vhe=Dv;function Whe(e){return Vhe(e)?Uhe(e):qhe(e)}var gj=Whe,Hhe=ode,Ghe=xde,Khe=gj;function Yhe(e){return Hhe(e,Khe,Ghe)}var Zhe=Yhe,bE=Zhe,Xhe=1,Qhe=Object.prototype,Jhe=Qhe.hasOwnProperty;function efe(e,t,r,s,a,i){var o=r&Xhe,l=bE(e),c=l.length,u=bE(t),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var p=l[h];if(!(o?p in t:Jhe.call(t,p)))return!1}var f=i.get(e),x=i.get(t);if(f&&x)return f==t&&x==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=o;++h<c;){p=l[h];var b=e[p],j=t[p];if(s)var N=o?s(j,b,p,t,e,i):s(b,j,p,e,t,i);if(!(N===void 0?b===j||a(b,j,r,s,i):N)){g=!1;break}v||(v=p=="constructor")}if(g&&!v){var A=e.constructor,S=t.constructor;A!=S&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(g=!1)}return i.delete(e),i.delete(t),g}var tfe=efe,rfe=tp,nfe=au,sfe=rfe(nfe,"DataView"),afe=sfe,ife=tp,ofe=au,lfe=ife(ofe,"Promise"),cfe=lfe,ufe=tp,dfe=au,hfe=ufe(dfe,"Set"),J9=hfe,ffe=tp,mfe=au,pfe=ffe(mfe,"WeakMap"),gfe=pfe,FS=afe,$S=k6,BS=cfe,zS=J9,US=gfe,e$=ud,Rx=a9,wE="[object Map]",xfe="[object Object]",jE="[object Promise]",NE="[object Set]",_E="[object WeakMap]",SE="[object DataView]",yfe=Rx(FS),vfe=Rx($S),bfe=Rx(BS),wfe=Rx(zS),jfe=Rx(US),Vf=e$;(FS&&Vf(new FS(new ArrayBuffer(1)))!=SE||$S&&Vf(new $S)!=wE||BS&&Vf(BS.resolve())!=jE||zS&&Vf(new zS)!=NE||US&&Vf(new US)!=_E)&&(Vf=function(e){var t=e$(e),r=t==xfe?e.constructor:void 0,s=r?Rx(r):"";if(s)switch(s){case yfe:return SE;case vfe:return wE;case bfe:return jE;case wfe:return NE;case jfe:return _E}return t});var Nfe=Vf,j5=U9,_fe=H9,Sfe=rde,Afe=tfe,AE=Nfe,kE=to,CE=Y9,kfe=X9,Cfe=1,PE="[object Arguments]",EE="[object Array]",Wb="[object Object]",Pfe=Object.prototype,TE=Pfe.hasOwnProperty;function Efe(e,t,r,s,a,i){var o=kE(e),l=kE(t),c=o?EE:AE(e),u=l?EE:AE(t);c=c==PE?Wb:c,u=u==PE?Wb:u;var d=c==Wb,h=u==Wb,p=c==u;if(p&&CE(e)){if(!CE(t))return!1;o=!0,d=!1}if(p&&!d)return i||(i=new j5),o||kfe(e)?_fe(e,t,r,s,a,i):Sfe(e,t,c,r,s,a,i);if(!(r&Cfe)){var f=d&&TE.call(e,"__wrapped__"),x=h&&TE.call(t,"__wrapped__");if(f||x){var g=f?e.value():e,v=x?t.value():t;return i||(i=new j5),a(g,v,r,s,i)}}return p?(i||(i=new j5),Afe(e,t,r,s,a,i)):!1}var Tfe=Efe,Ofe=Tfe,OE=dd;function t$(e,t,r,s,a){return e===t?!0:e==null||t==null||!OE(e)&&!OE(t)?e!==e&&t!==t:Ofe(e,t,r,s,t$,a)}var W6=t$,Lfe=U9,Ife=W6,Mfe=1,Dfe=2;function Rfe(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new Lfe;if(s)var p=s(u,d,c,e,t,h);if(!(p===void 0?Ife(d,u,Mfe|Dfe,s,h):p))return!1}}return!0}var Ffe=Rfe,$fe=tf;function Bfe(e){return e===e&&!$fe(e)}var r$=Bfe,zfe=r$,Ufe=gj;function qfe(e){for(var t=Ufe(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,zfe(a)]}return t}var Vfe=qfe;function Wfe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var n$=Wfe,Hfe=Ffe,Gfe=Vfe,Kfe=n$;function Yfe(e){var t=Gfe(e);return t.length==1&&t[0][2]?Kfe(t[0][0],t[0][1]):function(r){return r===e||Hfe(r,e,t)}}var Zfe=Yfe;function Xfe(e,t){return e!=null&&t in Object(e)}var Qfe=Xfe,Jfe=u9,eme=U6,tme=to,rme=q6,nme=V6,sme=tj;function ame(e,t,r){t=Jfe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=sme(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&nme(a)&&rme(o,a)&&(tme(e)||eme(e)))}var ime=ame,ome=Qfe,lme=ime;function cme(e,t){return e!=null&&lme(e,t,ome)}var ume=cme,dme=W6,hme=d9,fme=ume,mme=_6,pme=r$,gme=n$,xme=tj,yme=1,vme=2;function bme(e,t){return mme(e)&&pme(t)?gme(xme(e),t):function(r){var s=hme(r,e);return s===void 0&&s===t?fme(r,e):dme(t,s,yme|vme)}}var wme=bme;function jme(e){return e}var Fx=jme;function Nme(e){return function(t){return t?.[e]}}var _me=Nme,Sme=T6;function Ame(e){return function(t){return Sme(t,e)}}var kme=Ame,Cme=_me,Pme=kme,Eme=_6,Tme=tj;function Ome(e){return Eme(e)?Cme(Tme(e)):Pme(e)}var Lme=Ome,Ime=Zfe,Mme=wme,Dme=Fx,Rme=to,Fme=Lme;function $me(e){return typeof e=="function"?e:e==null?Dme:typeof e=="object"?Rme(e)?Mme(e[0],e[1]):Ime(e):Fme(e)}var iu=$me;function Bme(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var s$=Bme;function zme(e){return e!==e}var Ume=zme;function qme(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var Vme=qme,Wme=s$,Hme=Ume,Gme=Vme;function Kme(e,t,r){return t===t?Gme(e,t,r):Wme(e,Hme,r)}var Yme=Kme,Zme=Yme;function Xme(e,t){var r=e==null?0:e.length;return!!r&&Zme(e,t,0)>-1}var Qme=Xme;function Jme(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var epe=Jme;function tpe(){}var rpe=tpe,N5=J9,npe=rpe,spe=z6,ape=1/0,ipe=N5&&1/spe(new N5([,-0]))[1]==ape?function(e){return new N5(e)}:npe,ope=ipe,lpe=q9,cpe=Qme,upe=epe,dpe=W9,hpe=ope,fpe=z6,mpe=200;function ppe(e,t,r){var s=-1,a=cpe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=upe;else if(i>=mpe){var u=t?null:hpe(e);if(u)return fpe(u);o=!1,a=dpe,c=new lpe}else c=t?[]:l;e:for(;++s<i;){var d=e[s],h=t?t(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(d)}else a(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var gpe=ppe,xpe=iu,ype=gpe;function vpe(e,t){return e&&e.length?ype(e,xpe(t)):[]}var bpe=vpe;const LE=pn(bpe);function a$(e,t,r){return t===!0?LE(e,r):er(t)?LE(e,t):e}function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}var wpe=["ref"];function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(s){xj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,o$(s.key),s)}}function Npe(e,t,r){return t&&ME(e.prototype,t),r&&ME(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _pe(e,t,r){return t=p2(t),Spe(e,i$()?Reflect.construct(t,r||[],p2(e).constructor):t.apply(e,r))}function Spe(e,t){if(t&&(qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ape(e)}function Ape(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!e})()}function p2(e){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p2(e)}function kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qS(e,t)}function qS(e,t){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qS(e,t)}function xj(e,t,r){return t=o$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$(e){var t=Cpe(e,"string");return qg(t)=="symbol"?t:t+""}function Cpe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ppe(e,t){if(e==null)return{};var r=Epe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Epe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Tpe(e){return e.value}function Ope(e,t){if(ye.isValidElement(e))return ye.cloneElement(e,t);if(typeof e=="function")return ye.createElement(e,t);t.ref;var r=Ppe(t,wpe);return ye.createElement(B6,r)}var DE=1,Dh=function(e){function t(){var r;jpe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=_pe(this,t,[].concat(a)),xj(r,"lastBoundingBox",{width:-1,height:-1}),r}return kpe(t,e),Npe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>DE||Math.abs(a.height-this.lastBoundingBox.height)>DE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,h,p;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((u||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((d||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Tu(Tu({},h),p)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,h=Tu(Tu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ye.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},Ope(i,Tu(Tu({},this.props),{},{payload:a$(d,u,Tpe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Tu(Tu({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&ot(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(_.PureComponent);xj(Dh,"displayName","Legend");xj(Dh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RE=Mv,Lpe=U6,Ipe=to,FE=RE?RE.isConcatSpreadable:void 0;function Mpe(e){return Ipe(e)||Lpe(e)||!!(FE&&e&&e[FE])}var Dpe=Mpe,Rpe=G9,Fpe=Dpe;function l$(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=Fpe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?l$(l,t-1,r,s,a):Rpe(a,l):s||(a[a.length]=l)}return a}var c$=l$;function $pe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Bpe=$pe,zpe=Bpe,Upe=zpe(),qpe=Upe,Vpe=qpe,Wpe=gj;function Hpe(e,t){return e&&Vpe(e,t,Wpe)}var u$=Hpe,Gpe=Dv;function Kpe(e,t){return function(r,s){if(r==null)return r;if(!Gpe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var Ype=Kpe,Zpe=u$,Xpe=Ype,Qpe=Xpe(Zpe),H6=Qpe,Jpe=H6,ege=Dv;function tge(e,t){var r=-1,s=ege(e)?Array(e.length):[];return Jpe(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var d$=tge;function rge(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var nge=rge,$E=Ex;function sge(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=$E(e),o=t!==void 0,l=t===null,c=t===t,u=$E(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!u&&e<t||u&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var age=sge,ige=age;function oge(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=ige(a[s],i[s]);if(c){if(s>=l)return c;var u=r[s];return c*(u=="desc"?-1:1)}}return e.index-t.index}var lge=oge,_5=E6,cge=T6,uge=iu,dge=d$,hge=nge,fge=Z9,mge=lge,pge=Fx,gge=to;function xge(e,t,r){t.length?t=_5(t,function(i){return gge(i)?function(o){return cge(o,i.length===1?i[0]:i)}:i}):t=[pge];var s=-1;t=_5(t,fge(uge));var a=dge(e,function(i,o,l){var c=_5(t,function(u){return u(i)});return{criteria:c,index:++s,value:i}});return hge(a,function(i,o){return mge(i,o,r)})}var yge=xge;function vge(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var bge=vge,wge=bge,BE=Math.max;function jge(e,t,r){return t=BE(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=BE(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),wge(e,this,l)}}var Nge=jge;function _ge(e){return function(){return e}}var Sge=_ge,Age=tp,kge=function(){try{var e=Age(Object,"defineProperty");return e({},"",{}),e}catch{}}(),h$=kge,Cge=Sge,zE=h$,Pge=Fx,Ege=zE?function(e,t){return zE(e,"toString",{configurable:!0,enumerable:!1,value:Cge(t),writable:!0})}:Pge,Tge=Ege,Oge=800,Lge=16,Ige=Date.now;function Mge(e){var t=0,r=0;return function(){var s=Ige(),a=Lge-(s-r);if(r=s,a>0){if(++t>=Oge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Dge=Mge,Rge=Tge,Fge=Dge,$ge=Fge(Rge),Bge=$ge,zge=Fx,Uge=Nge,qge=Bge;function Vge(e,t){return qge(Uge(e,t,zge),e+"")}var Wge=Vge,Hge=A6,Gge=Dv,Kge=q6,Yge=tf;function Zge(e,t,r){if(!Yge(r))return!1;var s=typeof t;return(s=="number"?Gge(r)&&Kge(t,r.length):s=="string"&&t in r)?Hge(r[t],e):!1}var yj=Zge,Xge=c$,Qge=yge,Jge=Wge,UE=yj,exe=Jge(function(e,t){if(e==null)return[];var r=t.length;return r>1&&UE(e,t[0],t[1])?t=[]:r>2&&UE(t[0],t[1],t[2])&&(t=[t[0]]),Qge(e,Xge(t,1),[])}),txe=exe;const G6=pn(txe);function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VS.apply(this,arguments)}function rxe(e,t){return ixe(e)||axe(e,t)||sxe(e,t)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sxe(e,t){if(e){if(typeof e=="string")return qE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qE(e,t)}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function axe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ixe(e){if(Array.isArray(e))return e}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(s){oxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oxe(e,t,r){return t=lxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lxe(e){var t=cxe(e,"string");return Iy(t)=="symbol"?t:t+""}function cxe(e,t){if(Iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Iy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uxe(e){return Array.isArray(e)&&va(e[0])&&va(e[1])?e.join(" ~ "):e}var dxe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,h=t.formatter,p=t.itemSorter,f=t.wrapperClassName,x=t.labelClassName,g=t.label,v=t.labelFormatter,b=t.accessibilityLayer,j=b===void 0?!1:b,N=function(){if(d&&d.length){var O={padding:0,margin:0},M=(p?G6(d,p):d).map(function(D,W){if(D.type==="none")return null;var z=S5({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},l),G=D.formatter||h||uxe,V=D.value,Y=D.name,ie=V,q=Y;if(G&&ie!=null&&q!=null){var R=G(V,Y,D,W,d);if(Array.isArray(R)){var K=rxe(R,2);ie=K[0],q=K[1]}else ie=R}return ye.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:z},va(q)?ye.createElement("span",{className:"recharts-tooltip-item-name"},q):null,va(q)?ye.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,ye.createElement("span",{className:"recharts-tooltip-item-value"},ie),ye.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return ye.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},A=S5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=S5({margin:0},u),L=!fr(g),I=L?g:"",k=xr("recharts-default-tooltip",f),E=xr("recharts-tooltip-label",x);L&&v&&d!==void 0&&d!==null&&(I=v(g,d));var B=j?{role:"status","aria-live":"assertive"}:{};return ye.createElement("div",VS({className:k,style:A},B),ye.createElement("p",{className:E,style:S},ye.isValidElement(I)?I:"".concat(I)),N())};function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function Hb(e,t,r){return t=hxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hxe(e){var t=fxe(e,"string");return My(t)=="symbol"?t:t+""}function fxe(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(My(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L0="recharts-tooltip-wrapper",mxe={visibility:"hidden"};function pxe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return xr(L0,Hb(Hb(Hb(Hb({},"".concat(L0,"-right"),ot(r)&&t&&ot(t.x)&&r>=t.x),"".concat(L0,"-left"),ot(r)&&t&&ot(t.x)&&r<t.x),"".concat(L0,"-bottom"),ot(s)&&t&&ot(t.y)&&s>=t.y),"".concat(L0,"-top"),ot(s)&&t&&ot(t.y)&&s<t.y))}function WE(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ot(i[s]))return i[s];var d=r[s]-l-a,h=r[s]+a;if(t[s])return o[s]?d:h;if(o[s]){var p=d,f=c[s];return p<f?Math.max(h,c[s]):Math.max(d,c[s])}var x=h+l,g=c[s]+u;return x>g?Math.max(d,c[s]):Math.max(h,c[s])}function gxe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function xxe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=WE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=WE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=gxe({translateX:d,translateY:h,useTranslate3d:l})):u=mxe,{cssProperties:u,cssClasses:pxe({translateX:d,translateY:h,coordinate:r})}}function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(s){HS(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vxe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,m$(s.key),s)}}function bxe(e,t,r){return t&&vxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wxe(e,t,r){return t=g2(t),jxe(e,f$()?Reflect.construct(t,r||[],g2(e).constructor):t.apply(e,r))}function jxe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(e)}function Nxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!e})()}function g2(e){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g2(e)}function _xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WS(e,t)}function WS(e,t){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WS(e,t)}function HS(e,t,r){return t=m$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e){var t=Sxe(e,"string");return Vg(t)=="symbol"?t:t+""}function Sxe(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Vg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KE=1,Axe=function(e){function t(){var r;yxe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=wxe(this,t,[].concat(a)),HS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return _xe(t,e),bxe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>KE||Math.abs(s.height-this.state.lastBoundingBox.height)>KE)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,h=a.hasPayload,p=a.isAnimationActive,f=a.offset,x=a.position,g=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,j=a.wrapperStyle,N=xxe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:f,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),A=N.cssClasses,S=N.cssProperties,L=GE(GE({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return ye.createElement("div",{tabIndex:-1,className:A,style:L,ref:function(k){s.wrapperNode=k}},u)}}])}(_.PureComponent),kxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nc={isSsr:kxe(),get:function(t){return nc[t]},set:function(t,r){if(typeof t=="string")nc[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){nc[a]=t[a]})}}};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(s){K6(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Cxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pxe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,g$(s.key),s)}}function Exe(e,t,r){return t&&Pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Txe(e,t,r){return t=x2(t),Oxe(e,p$()?Reflect.construct(t,r||[],x2(e).constructor):t.apply(e,r))}function Oxe(e,t){if(t&&(Wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lxe(e)}function Lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!e})()}function x2(e){return x2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x2(e)}function Ixe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GS(e,t)}function GS(e,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GS(e,t)}function K6(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=Mxe(e,"string");return Wg(t)=="symbol"?t:t+""}function Mxe(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Wg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e){return e.dataKey}function Rxe(e,t){return ye.isValidElement(e)?ye.cloneElement(e,t):typeof e=="function"?ye.createElement(e,t):ye.createElement(dxe,t)}var ta=function(e){function t(){return Cxe(this,t),Txe(this,t,arguments)}return Ixe(t,e),Exe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,h=a.filterNull,p=a.isAnimationActive,f=a.offset,x=a.payload,g=a.payloadUniqBy,v=a.position,b=a.reverseDirection,j=a.useTranslate3d,N=a.viewBox,A=a.wrapperStyle,S=x??[];h&&S.length&&(S=a$(x.filter(function(I){return I.value!=null&&(I.hide!==!0||s.props.includeHidden)}),g,Dxe));var L=S.length>0;return ye.createElement(Axe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:d,hasPayload:L,offset:f,position:v,reverseDirection:b,useTranslate3d:j,viewBox:N,wrapperStyle:A},Rxe(u,ZE(ZE({},this.props),{},{payload:S})))}}])}(_.PureComponent);K6(ta,"displayName","Tooltip");K6(ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fxe=au,$xe=function(){return Fxe.Date.now()},Bxe=$xe,zxe=/\s/;function Uxe(e){for(var t=e.length;t--&&zxe.test(e.charAt(t)););return t}var qxe=Uxe,Vxe=qxe,Wxe=/^\s+/;function Hxe(e){return e&&e.slice(0,Vxe(e)+1).replace(Wxe,"")}var Gxe=Hxe,Kxe=Gxe,XE=tf,Yxe=Ex,QE=NaN,Zxe=/^[-+]0x[0-9a-f]+$/i,Xxe=/^0b[01]+$/i,Qxe=/^0o[0-7]+$/i,Jxe=parseInt;function e0e(e){if(typeof e=="number")return e;if(Yxe(e))return QE;if(XE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Kxe(e);var r=Xxe.test(e);return r||Qxe.test(e)?Jxe(e.slice(2),r?2:8):Zxe.test(e)?QE:+e}var x$=e0e,t0e=tf,A5=Bxe,JE=x$,r0e="Expected a function",n0e=Math.max,s0e=Math.min;function a0e(e,t,r){var s,a,i,o,l,c,u=0,d=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(r0e);t=JE(t)||0,t0e(r)&&(d=!!r.leading,h="maxWait"in r,i=h?n0e(JE(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function f(L){var I=s,k=a;return s=a=void 0,u=L,o=e.apply(k,I),o}function x(L){return u=L,l=setTimeout(b,t),d?f(L):o}function g(L){var I=L-c,k=L-u,E=t-I;return h?s0e(E,i-k):E}function v(L){var I=L-c,k=L-u;return c===void 0||I>=t||I<0||h&&k>=i}function b(){var L=A5();if(v(L))return j(L);l=setTimeout(b,g(L))}function j(L){return l=void 0,p&&s?f(L):(s=a=void 0,o)}function N(){l!==void 0&&clearTimeout(l),u=0,s=c=a=l=void 0}function A(){return l===void 0?o:j(A5())}function S(){var L=A5(),I=v(L);if(s=arguments,a=this,c=L,I){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(b,t),f(c)}return l===void 0&&(l=setTimeout(b,t)),o}return S.cancel=N,S.flush=A,S}var i0e=a0e,o0e=i0e,l0e=tf,c0e="Expected a function";function u0e(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(c0e);return l0e(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),o0e(e,t,{leading:s,maxWait:t,trailing:a})}var d0e=u0e;const y$=pn(d0e);function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(s){h0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function h0e(e,t,r){return t=f0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f0e(e){var t=m0e(e,"string");return Dy(t)=="symbol"?t:t+""}function m0e(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Dy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0e(e,t){return v0e(e)||y0e(e,t)||x0e(e,t)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x0e(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function y0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function v0e(e){if(Array.isArray(e))return e}var Gl=_.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,h=e.minHeight,p=e.maxHeight,f=e.children,x=e.debounce,g=x===void 0?0:x,v=e.id,b=e.className,j=e.onResize,N=e.style,A=N===void 0?{}:N,S=_.useRef(null),L=_.useRef();L.current=j,_.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var I=_.useState({containerWidth:a.width,containerHeight:a.height}),k=p0e(I,2),E=k[0],B=k[1],C=_.useCallback(function(M,D){B(function(W){var z=Math.round(M),G=Math.round(D);return W.containerWidth===z&&W.containerHeight===G?W:{containerWidth:z,containerHeight:G}})},[]);_.useEffect(function(){var M=function(Y){var ie,q=Y[0].contentRect,R=q.width,K=q.height;C(R,K),(ie=L.current)===null||ie===void 0||ie.call(L,R,K)};g>0&&(M=y$(M,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),W=S.current.getBoundingClientRect(),z=W.width,G=W.height;return C(z,G),D.observe(S.current),function(){D.disconnect()}},[C,g]);var O=_.useMemo(function(){var M=E.containerWidth,D=E.containerHeight;if(M<0||D<0)return null;rc(rm(o)||rm(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),rc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=rm(o)?M:o,z=rm(c)?D:c;r&&r>0&&(W?z=W/r:z&&(W=z*r),p&&z>p&&(z=p)),rc(W>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,z,o,c,d,h,r);var G=!Array.isArray(f)&&Yu(f.type).endsWith("Chart");return ye.Children.map(f,function(V){return ye.isValidElement(V)?_.cloneElement(V,Gb({width:W,height:z},G?{style:Gb({height:"100%",width:"100%",maxHeight:z,maxWidth:W},V.props.style)}:{})):V})},[r,f,c,p,h,d,E,o]);return ye.createElement("div",{id:v?"".concat(v):void 0,className:xr("recharts-responsive-container",b),style:Gb(Gb({},A),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:p}),ref:S},O)}),$x=function(t){return null};$x.displayName="Cell";function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(s){b0e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function b0e(e,t,r){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=j0e(e,"string");return Ry(t)=="symbol"?t:t+""}function j0e(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ry(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fp={widthCache:{},cacheCount:0},N0e=2e3,_0e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nT="recharts_measurement_span";function S0e(e){var t=KS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var cy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||nc.isSsr)return{width:0,height:0};var s=S0e(r),a=JSON.stringify({text:t,copyStyle:s});if(Fp.widthCache[a])return Fp.widthCache[a];try{var i=document.getElementById(nT);i||(i=document.createElement("span"),i.setAttribute("id",nT),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=KS(KS({},_0e),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Fp.widthCache[a]=c,++Fp.cacheCount>N0e&&(Fp.cacheCount=0,Fp.widthCache={}),c}catch{return{width:0,height:0}}},A0e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function y2(e,t){return E0e(e)||P0e(e,t)||C0e(e,t)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e,t){if(e){if(typeof e=="string")return sT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(e,t)}}function sT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function P0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function E0e(e){if(Array.isArray(e))return e}function T0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,L0e(s.key),s)}}function O0e(e,t,r){return t&&aT(e.prototype,t),r&&aT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0e(e){var t=I0e(e,"string");return Fy(t)=="symbol"?t:t+""}function I0e(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Fy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M0e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,D0e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},R0e=Object.keys(v$),rg="NaN";function F0e(e,t){return e*v$[t]}var Kb=function(){function e(t,r){T0e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!M0e.test(r)&&(this.num=NaN,this.unit=""),R0e.includes(r)&&(this.num=F0e(t,r),this.unit="px")}return O0e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=D0e.exec(r))!==null&&s!==void 0?s:[],i=y2(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function b$(e){if(e.includes(rg))return rg;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=iT.exec(t))!==null&&r!==void 0?r:[],a=y2(s,4),i=a[1],o=a[2],l=a[3],c=Kb.parse(i??""),u=Kb.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return rg;t=t.replace(iT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=oT.exec(t))!==null&&h!==void 0?h:[],f=y2(p,4),x=f[1],g=f[2],v=f[3],b=Kb.parse(x??""),j=Kb.parse(v??""),N=g==="+"?b.add(j):b.subtract(j);if(N.isNaN())return rg;t=t.replace(oT,N.toString())}return t}var lT=/\(([^()]*)\)/;function $0e(e){for(var t=e;t.includes("(");){var r=lT.exec(t),s=y2(r,2),a=s[1];t=t.replace(lT,b$(a))}return t}function B0e(e){var t=e.replace(/\s+/g,"");return t=$0e(t),t=b$(t),t}function z0e(e){try{return B0e(e)}catch{return rg}}function k5(e){var t=z0e(e.slice(5,-1));return t===rg?"":t}var U0e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q0e=["dx","dy","angle","className","breakAll"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},YS.apply(this,arguments)}function cT(e,t){if(e==null)return{};var r=V0e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function V0e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function uT(e,t){return K0e(e)||G0e(e,t)||H0e(e,t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function G0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K0e(e){if(Array.isArray(e))return e}var w$=/[ \f\n\r\t\v\u2028\u2029]+/,j$=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];fr(r)||(s?i=r.toString().split(""):i=r.toString().split(w$));var o=i.map(function(c){return{word:c,width:cy(c,a).width}}),l=s?0:cy(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Y0e=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ot(o),h=l,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(z,G){var V=G.word,Y=G.width,ie=z[z.length-1];if(ie&&(a==null||i||ie.width+Y+s<Number(a)))ie.words.push(V),ie.width+=Y+s;else{var q={words:[V],width:Y};z.push(q)}return z},[])},f=p(r),x=function(W){return W.reduce(function(z,G){return z.width>G.width?z:G})};if(!d)return f;for(var g="…",v=function(W){var z=h.slice(0,W),G=j$({breakAll:u,style:c,children:z+g}).wordsWithComputedWidth,V=p(G),Y=V.length>o||x(V).width>Number(a);return[Y,V]},b=0,j=h.length-1,N=0,A;b<=j&&N<=h.length-1;){var S=Math.floor((b+j)/2),L=S-1,I=v(L),k=uT(I,2),E=k[0],B=k[1],C=v(S),O=uT(C,1),M=O[0];if(!E&&!M&&(b=S+1),E&&M&&(j=S-1),!E&&M){A=B;break}N++}return A||f},hT=function(t){var r=fr(t)?[]:t.toString().split(w$);return[{words:r}]},Z0e=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!nc.isSsr){var c,u,d=j$({breakAll:o,children:a,style:i});if(d){var h=d.wordsWithComputedWidth,p=d.spaceWidth;c=h,u=p}else return hT(a);return Y0e({breakAll:o,children:a,maxLines:l,style:i},c,u,r,s)}return hT(a)},fT="#808080",Fm=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,h=d===void 0?!1:d,p=t.textAnchor,f=p===void 0?"start":p,x=t.verticalAnchor,g=x===void 0?"end":x,v=t.fill,b=v===void 0?fT:v,j=cT(t,U0e),N=_.useMemo(function(){return Z0e({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),A=j.dx,S=j.dy,L=j.angle,I=j.className,k=j.breakAll,E=cT(j,q0e);if(!va(s)||!va(i))return null;var B=s+(ot(A)?A:0),C=i+(ot(S)?S:0),O;switch(g){case"start":O=k5("calc(".concat(u,")"));break;case"middle":O=k5("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=k5("calc(".concat(N.length-1," * -").concat(l,")"));break}var M=[];if(h){var D=N[0].width,W=j.width;M.push("scale(".concat((ot(W)?W/D:1)/D,")"))}return L&&M.push("rotate(".concat(L,", ").concat(B,", ").concat(C,")")),M.length&&(E.transform=M.join(" ")),ye.createElement("text",YS({},Ft(E,!0),{x:B,y:C,className:xr("recharts-text",I),textAnchor:f,fill:b.includes("url")?fT:b}),N.map(function(z,G){var V=z.words.join(k?"":" ");return ye.createElement("tspan",{x:B,dy:G===0?O:l,key:"".concat(V,"-").concat(G)},V)}))};function Rh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y6(e){let t,r,s;e.length!==2?(t=Rh,r=(l,c)=>Rh(e(l),c),s=(l,c)=>e(l)-c):(t=e===Rh||e===X0e?e:Q0e,r=e,s=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=a(l,c,u,d-1);return h>u&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function Q0e(){return 0}function N$(e){return e===null?NaN:+e}function*J0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eye=Y6(Rh),Rv=eye.right;Y6(N$).center;class mT extends Map{constructor(t,r=nye){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(pT(this,t))}has(t){return super.has(pT(this,t))}set(t,r){return super.set(tye(this,t),r)}delete(t){return super.delete(rye(this,t))}}function pT({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function tye({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function rye({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function nye(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sye(e=Rh){if(e===Rh)return _$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function _$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const aye=Math.sqrt(50),iye=Math.sqrt(10),oye=Math.sqrt(2);function v2(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=aye?10:i>=iye?5:i>=oye?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?v2(e,t,r*2):[l,c,u]}function ZS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?v2(t,e,r):v2(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function XS(e,t,r){return t=+t,e=+e,r=+r,v2(e,t,r)[2]}function QS(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?XS(t,e,r):XS(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function gT(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function xT(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function S$(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?_$:sye(a);s>r;){if(s-r>600){const c=s-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(t-u*h/c+p)),x=Math.min(s,Math.floor(t+(c-u)*h/c+p));S$(e,t,f,x,a)}const i=e[t];let o=r,l=s;for(I0(e,r,t),a(e[s],i)>0&&I0(e,r,s);o<l;){for(I0(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?I0(e,r,l):(++l,I0(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function I0(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function lye(e,t,r){if(e=Float64Array.from(J0e(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return xT(e);if(t>=1)return gT(e);var s,a=(s-1)*t,i=Math.floor(a),o=gT(S$(e,i).subarray(0,i+1)),l=xT(e.subarray(i+1));return o+(l-o)*(a-i)}}function cye(e,t,r=N$){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function uye(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function bl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const JS=Symbol("implicit");function Z6(){var e=new mT,t=[],r=[],s=JS;function a(i){let o=e.get(i);if(o===void 0){if(s!==JS)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Z6(t,r).unknown(s)},bl.apply(a,arguments),a}function $y(){var e=Z6().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var p=t().length,f=a<s,x=f?a:s,g=f?s:a;i=(g-x)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),x+=(g-x-i*(p-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=uye(p).map(function(b){return x+i*b});return r(f?v.reverse():v)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([s,a]=p,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(p){return[s,a]=p,s=+s,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),h()):d},e.copy=function(){return $y(t(),[s,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},bl.apply(h(),arguments)}function A$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return A$(t())},e}function uy(){return A$($y.apply(null,arguments).paddingInner(1))}function X6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function k$(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Fv(){}var By=.7,b2=1/By,xg="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dye=/^#([0-9a-f]{3,8})$/,hye=new RegExp(`^rgb\\(${xg},${xg},${xg}\\)$`),fye=new RegExp(`^rgb\\(${Gc},${Gc},${Gc}\\)$`),mye=new RegExp(`^rgba\\(${xg},${xg},${xg},${zy}\\)$`),pye=new RegExp(`^rgba\\(${Gc},${Gc},${Gc},${zy}\\)$`),gye=new RegExp(`^hsl\\(${zy},${Gc},${Gc}\\)$`),xye=new RegExp(`^hsla\\(${zy},${Gc},${Gc},${zy}\\)$`),yT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X6(Fv,Uy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vT,formatHex:vT,formatHex8:yye,formatHsl:vye,formatRgb:bT,toString:bT});function vT(){return this.rgb().formatHex()}function yye(){return this.rgb().formatHex8()}function vye(){return C$(this).formatHsl()}function bT(){return this.rgb().formatRgb()}function Uy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dye.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wT(t):r===3?new Xi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hye.exec(e))?new Xi(t[1],t[2],t[3],1):(t=fye.exec(e))?new Xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mye.exec(e))?Yb(t[1],t[2],t[3],t[4]):(t=pye.exec(e))?Yb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gye.exec(e))?_T(t[1],t[2]/100,t[3]/100,1):(t=xye.exec(e))?_T(t[1],t[2]/100,t[3]/100,t[4]):yT.hasOwnProperty(e)?wT(yT[e]):e==="transparent"?new Xi(NaN,NaN,NaN,0):null}function wT(e){return new Xi(e>>16&255,e>>8&255,e&255,1)}function Yb(e,t,r,s){return s<=0&&(e=t=r=NaN),new Xi(e,t,r,s)}function bye(e){return e instanceof Fv||(e=Uy(e)),e?(e=e.rgb(),new Xi(e.r,e.g,e.b,e.opacity)):new Xi}function e4(e,t,r,s){return arguments.length===1?bye(e):new Xi(e,t,r,s??1)}function Xi(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}X6(Xi,e4,k$(Fv,{brighter(e){return e=e==null?b2:Math.pow(b2,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?By:Math.pow(By,e),new Xi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xi(wm(this.r),wm(this.g),wm(this.b),w2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jT,formatHex:jT,formatHex8:wye,formatRgb:NT,toString:NT}));function jT(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}`}function wye(){return`#${nm(this.r)}${nm(this.g)}${nm(this.b)}${nm((isNaN(this.opacity)?1:this.opacity)*255)}`}function NT(){const e=w2(this.opacity);return`${e===1?"rgb(":"rgba("}${wm(this.r)}, ${wm(this.g)}, ${wm(this.b)}${e===1?")":`, ${e})`}`}function w2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nm(e){return e=wm(e),(e<16?"0":"")+e.toString(16)}function _T(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zl(e,t,r,s)}function C$(e){if(e instanceof Zl)return new Zl(e.h,e.s,e.l,e.opacity);if(e instanceof Fv||(e=Uy(e)),!e)return new Zl;if(e instanceof Zl)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Zl(o,l,c,e.opacity)}function jye(e,t,r,s){return arguments.length===1?C$(e):new Zl(e,t,r,s??1)}function Zl(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}X6(Zl,jye,k$(Fv,{brighter(e){return e=e==null?b2:Math.pow(b2,e),new Zl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?By:Math.pow(By,e),new Zl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Xi(C5(e>=240?e-240:e+120,a,s),C5(e,a,s),C5(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Zl(ST(this.h),Zb(this.s),Zb(this.l),w2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=w2(this.opacity);return`${e===1?"hsl(":"hsla("}${ST(this.h)}, ${Zb(this.s)*100}%, ${Zb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ST(e){return e=(e||0)%360,e<0?e+360:e}function Zb(e){return Math.max(0,Math.min(1,e||0))}function C5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Q6=e=>()=>e;function Nye(e,t){return function(r){return e+r*t}}function _ye(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function Sye(e){return(e=+e)==1?P$:function(t,r){return r-t?_ye(t,r,e):Q6(isNaN(t)?r:t)}}function P$(e,t){var r=t-e;return r?Nye(e,r):Q6(isNaN(e)?t:e)}const AT=function e(t){var r=Sye(t);function s(a,i){var o=r((a=e4(a)).r,(i=e4(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=P$(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return s.gamma=e,s}(1);function Aye(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function kye(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Cye(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Bx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function Pye(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function j2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Eye(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Bx(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var t4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,P5=new RegExp(t4.source,"g");function Tye(e){return function(){return e}}function Oye(e){return function(t){return e(t)+""}}function Lye(e,t){var r=t4.lastIndex=P5.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=t4.exec(e))&&(a=P5.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:j2(s,a)})),r=P5.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Oye(c[0].x):Tye(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Bx(e,t){var r=typeof t,s;return t==null||r==="boolean"?Q6(t):(r==="number"?j2:r==="string"?(s=Uy(t))?(t=s,AT):Lye:t instanceof Uy?AT:t instanceof Date?Pye:kye(t)?Aye:Array.isArray(t)?Cye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Eye:j2)(e,t)}function J6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Iye(e,t){t===void 0&&(t=e,e=Bx);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Mye(e){return function(){return e}}function N2(e){return+e}var kT=[0,1];function Mi(e){return e}function r4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Mye(isNaN(t)?NaN:.5)}function Dye(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function Rye(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=r4(a,s),i=r(o,i)):(s=r4(s,a),i=r(i,o)),function(l){return i(s(l))}}function Fye(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=r4(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Rv(e,l,1,s)-1;return i[c](a[c](l))}}function $v(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vj(){var e=kT,t=kT,r=Bx,s,a,i,o=Mi,l,c,u;function d(){var p=Math.min(e.length,t.length);return o!==Mi&&(o=Dye(e[0],e[p-1])),l=p>2?Fye:Rye,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(s),t,r)))(s(o(p)))}return h.invert=function(p){return o(a((u||(u=l(t,e.map(s),j2)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,N2),d()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=J6,d()},h.clamp=function(p){return arguments.length?(o=p?!0:Mi,d()):o!==Mi},h.interpolate=function(p){return arguments.length?(r=p,d()):r},h.unknown=function(p){return arguments.length?(i=p,h):i},function(p,f){return s=p,a=f,d()}}function e3(){return vj()(Mi,Mi)}function $ye(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Hg(e){return e=_2(Math.abs(e)),e?e[1]:NaN}function Bye(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function zye(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Uye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qy(e){if(!(t=Uye.exec(e)))throw new Error("invalid format: "+e);var t;return new t3({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qy.prototype=t3.prototype;function t3(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}t3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qye(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var E$;function Vye(e,t){var r=_2(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(E$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+_2(e,Math.max(0,t+i-1))[0]}function CT(e,t){var r=_2(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const PT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$ye,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CT(e*100,t),r:CT,s:Vye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ET(e){return e}var TT=Array.prototype.map,OT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wye(e){var t=e.grouping===void 0||e.thousands===void 0?ET:Bye(TT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ET:zye(TT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=qy(h);var p=h.fill,f=h.align,x=h.sign,g=h.symbol,v=h.zero,b=h.width,j=h.comma,N=h.precision,A=h.trim,S=h.type;S==="n"?(j=!0,S="g"):PT[S]||(N===void 0&&(N=12),A=!0,S="g"),(v||p==="0"&&f==="=")&&(v=!0,p="0",f="=");var L=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",I=g==="$"?s:/[%p]/.test(S)?o:"",k=PT[S],E=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(C){var O=L,M=I,D,W,z;if(S==="c")M=k(C)+M,C="";else{C=+C;var G=C<0||1/C<0;if(C=isNaN(C)?c:k(Math.abs(C),N),A&&(C=qye(C)),G&&+C==0&&x!=="+"&&(G=!1),O=(G?x==="("?x:l:x==="-"||x==="("?"":x)+O,M=(S==="s"?OT[8+E$/3]:"")+M+(G&&x==="("?")":""),E){for(D=-1,W=C.length;++D<W;)if(z=C.charCodeAt(D),48>z||z>57){M=(z===46?a+C.slice(D+1):C.slice(D))+M,C=C.slice(0,D);break}}}j&&!v&&(C=t(C,1/0));var V=O.length+C.length+M.length,Y=V<b?new Array(b-V+1).join(p):"";switch(j&&v&&(C=t(Y+C,Y.length?b-M.length:1/0),Y=""),f){case"<":C=O+C+M+Y;break;case"=":C=O+Y+C+M;break;case"^":C=Y.slice(0,V=Y.length>>1)+O+C+M+Y.slice(V);break;default:C=Y+O+C+M;break}return i(C)}return B.toString=function(){return h+""},B}function d(h,p){var f=u((h=qy(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Hg(p)/3)))*3,g=Math.pow(10,-x),v=OT[8+x/3];return function(b){return f(g*b)+v}}return{format:u,formatPrefix:d}}var Xb,r3,T$;Hye({thousands:",",grouping:[3],currency:["$",""]});function Hye(e){return Xb=Wye(e),r3=Xb.format,T$=Xb.formatPrefix,Xb}function Gye(e){return Math.max(0,-Hg(Math.abs(e)))}function Kye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hg(t)/3)))*3-Hg(Math.abs(e)))}function Yye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hg(t)-Hg(e))+1}function O$(e,t,r,s){var a=QS(e,t,r),i;switch(s=qy(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=Kye(a,o))&&(s.precision=i),T$(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=Yye(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=Gye(a))&&(s.precision=i-(s.type==="%")*2);break}}return r3(s)}function rf(e){var t=e.domain;return e.ticks=function(r){var s=t();return ZS(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return O$(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=XS(o,l,r),u===c)return s[a]=o,s[i]=l,t(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function S2(){var e=e3();return e.copy=function(){return $v(e,S2())},bl.apply(e,arguments),rf(e)}function L$(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,N2),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return L$(e).unknown(t)},e=arguments.length?Array.from(e,N2):[0,1],rf(r)}function I$(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function LT(e){return Math.log(e)}function IT(e){return Math.exp(e)}function Zye(e){return-Math.log(-e)}function Xye(e){return-Math.exp(-e)}function Qye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Jye(e){return e===10?Qye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eve(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MT(e){return(t,r)=>-e(-t,r)}function n3(e){const t=e(LT,IT),r=t.domain;let s=10,a,i;function o(){return a=eve(s),i=Jye(s),r()[0]<0?(a=MT(a),i=MT(i),e(Zye,Xye)):e(LT,IT),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let p=a(u),f=a(d),x,g;const v=l==null?10:+l;let b=[];if(!(s%1)&&f-p<v){if(p=Math.floor(p),f=Math.ceil(f),u>0){for(;p<=f;++p)for(x=1;x<s;++x)if(g=p<0?x/i(-p):x*i(p),!(g<u)){if(g>d)break;b.push(g)}}else for(;p<=f;++p)for(x=s-1;x>=1;--x)if(g=p>0?x/i(-p):x*i(p),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=ZS(u,d,v))}else b=ZS(p,f,Math.min(f-p,v)).map(i);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=qy(c)).precision==null&&(c.trim=!0),c=r3(c)),l===1/0)return c;const u=Math.max(1,s*l/t.ticks().length);return d=>{let h=d/i(Math.round(a(d)));return h*s<s-.5&&(h*=s),h<=u?c(d):""}},t.nice=()=>r(I$(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function M$(){const e=n3(vj()).domain([1,10]);return e.copy=()=>$v(e,M$()).base(e.base()),bl.apply(e,arguments),e}function DT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s3(e){var t=1,r=e(DT(t),RT(t));return r.constant=function(s){return arguments.length?e(DT(t=+s),RT(t)):t},rf(r)}function D$(){var e=s3(vj());return e.copy=function(){return $v(e,D$()).constant(e.constant())},bl.apply(e,arguments)}function FT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tve(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rve(e){return e<0?-e*e:e*e}function a3(e){var t=e(Mi,Mi),r=1;function s(){return r===1?e(Mi,Mi):r===.5?e(tve,rve):e(FT(r),FT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},rf(t)}function i3(){var e=a3(vj());return e.copy=function(){return $v(e,i3()).exponent(e.exponent())},bl.apply(e,arguments),e}function nve(){return i3.apply(null,arguments).exponent(.5)}function $T(e){return Math.sign(e)*e*e}function sve(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function R$(){var e=e3(),t=[0,1],r=!1,s;function a(i){var o=sve(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert($T(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,N2)).map($T)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return R$(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},bl.apply(a,arguments),rf(a)}function F$(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=cye(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Rv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Rh),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return F$().domain(e).range(t).unknown(s)},bl.apply(i,arguments)}function $$(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Rv(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,s[0]]:u>=r?[s[r-1],t]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return $$().domain([e,t]).range(a).unknown(i)},bl.apply(rf(o),arguments)}function B$(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Rv(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return B$().domain(e).range(t).unknown(r)},bl.apply(a,arguments)}const E5=new Date,T5=new Date;function ba(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ba(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(E5.setTime(+i),T5.setTime(+o),e(E5),e(T5),Math.floor(r(E5,T5))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const A2=ba(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);A2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ba(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):A2);A2.range;const qu=1e3,fl=qu*60,Vu=fl*60,rd=Vu*24,o3=rd*7,BT=rd*30,O5=rd*365,sm=ba(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qu)},(e,t)=>(t-e)/qu,e=>e.getUTCSeconds());sm.range;const l3=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qu)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getMinutes());l3.range;const c3=ba(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fl)},(e,t)=>(t-e)/fl,e=>e.getUTCMinutes());c3.range;const u3=ba(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qu-e.getMinutes()*fl)},(e,t)=>{e.setTime(+e+t*Vu)},(e,t)=>(t-e)/Vu,e=>e.getHours());u3.range;const d3=ba(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vu)},(e,t)=>(t-e)/Vu,e=>e.getUTCHours());d3.range;const Bv=ba(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fl)/rd,e=>e.getDate()-1);Bv.range;const bj=ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>e.getUTCDate()-1);bj.range;const z$=ba(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rd,e=>Math.floor(e/rd));z$.range;function np(e){return ba(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fl)/o3)}const wj=np(0),k2=np(1),ave=np(2),ive=np(3),Gg=np(4),ove=np(5),lve=np(6);wj.range;k2.range;ave.range;ive.range;Gg.range;ove.range;lve.range;function sp(e){return ba(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/o3)}const jj=sp(0),C2=sp(1),cve=sp(2),uve=sp(3),Kg=sp(4),dve=sp(5),hve=sp(6);jj.range;C2.range;cve.range;uve.range;Kg.range;dve.range;hve.range;const h3=ba(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h3.range;const f3=ba(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());f3.range;const nd=ba(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());nd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});nd.range;const sd=ba(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());sd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ba(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});sd.range;function U$(e,t,r,s,a,i){const o=[[sm,1,qu],[sm,5,5*qu],[sm,15,15*qu],[sm,30,30*qu],[i,1,fl],[i,5,5*fl],[i,15,15*fl],[i,30,30*fl],[a,1,Vu],[a,3,3*Vu],[a,6,6*Vu],[a,12,12*Vu],[s,1,rd],[s,2,2*rd],[r,1,o3],[t,1,BT],[t,3,3*BT],[e,1,O5]];function l(u,d,h){const p=d<u;p&&([u,d]=[d,u]);const f=h&&typeof h.range=="function"?h:c(u,d,h),x=f?f.range(u,+d+1):[];return p?x.reverse():x}function c(u,d,h){const p=Math.abs(d-u)/h,f=Y6(([,,v])=>v).right(o,p);if(f===o.length)return e.every(QS(u/O5,d/O5,h));if(f===0)return A2.every(Math.max(QS(u,d,h),1));const[x,g]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return x.every(g)}return[l,c]}const[fve,mve]=U$(sd,f3,jj,z$,d3,c3),[pve,gve]=U$(nd,h3,wj,Bv,u3,l3);function L5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function M0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xve(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=D0(a),d=R0(a),h=D0(i),p=R0(i),f=D0(o),x=R0(o),g=D0(l),v=R0(l),b=D0(c),j=R0(c),N={a:G,A:V,b:Y,B:ie,c:null,d:HT,e:HT,f:Bve,g:Zve,G:Qve,H:Rve,I:Fve,j:$ve,L:q$,m:zve,M:Uve,p:q,q:R,Q:YT,s:ZT,S:qve,u:Vve,U:Wve,V:Hve,w:Gve,W:Kve,x:null,X:null,y:Yve,Y:Xve,Z:Jve,"%":KT},A={a:K,A:Z,b:se,B:ue,c:null,d:GT,e:GT,f:nbe,g:fbe,G:pbe,H:ebe,I:tbe,j:rbe,L:W$,m:sbe,M:abe,p:ae,q:xe,Q:YT,s:ZT,S:ibe,u:obe,U:lbe,V:cbe,w:ube,W:dbe,x:null,X:null,y:hbe,Y:mbe,Z:gbe,"%":KT},S={a:B,A:C,b:O,B:M,c:D,d:VT,e:VT,f:Lve,g:qT,G:UT,H:WT,I:WT,j:Pve,L:Ove,m:Cve,M:Eve,p:E,q:kve,Q:Mve,s:Dve,S:Tve,u:jve,U:Nve,V:_ve,w:wve,W:Sve,x:W,X:z,y:qT,Y:UT,Z:Ave,"%":Ive};N.x=L(r,N),N.X=L(s,N),N.c=L(t,N),A.x=L(r,A),A.X=L(s,A),A.c=L(t,A);function L(X,me){return function(ne){var he=[],ke=-1,je=0,Q=X.length,ze,Ye,Ge;for(ne instanceof Date||(ne=new Date(+ne));++ke<Q;)X.charCodeAt(ke)===37&&(he.push(X.slice(je,ke)),(Ye=zT[ze=X.charAt(++ke)])!=null?ze=X.charAt(++ke):Ye=ze==="e"?" ":"0",(Ge=me[ze])&&(ze=Ge(ne,Ye)),he.push(ze),je=ke+1);return he.push(X.slice(je,ke)),he.join("")}}function I(X,me){return function(ne){var he=M0(1900,void 0,1),ke=k(he,X,ne+="",0),je,Q;if(ke!=ne.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(me&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(je=I5(M0(he.y,0,1)),Q=je.getUTCDay(),je=Q>4||Q===0?C2.ceil(je):C2(je),je=bj.offset(je,(he.V-1)*7),he.y=je.getUTCFullYear(),he.m=je.getUTCMonth(),he.d=je.getUTCDate()+(he.w+6)%7):(je=L5(M0(he.y,0,1)),Q=je.getDay(),je=Q>4||Q===0?k2.ceil(je):k2(je),je=Bv.offset(je,(he.V-1)*7),he.y=je.getFullYear(),he.m=je.getMonth(),he.d=je.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Q="Z"in he?I5(M0(he.y,0,1)).getUTCDay():L5(M0(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Q+5)%7:he.w+he.U*7-(Q+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,I5(he)):L5(he)}}function k(X,me,ne,he){for(var ke=0,je=me.length,Q=ne.length,ze,Ye;ke<je;){if(he>=Q)return-1;if(ze=me.charCodeAt(ke++),ze===37){if(ze=me.charAt(ke++),Ye=S[ze in zT?me.charAt(ke++):ze],!Ye||(he=Ye(X,ne,he))<0)return-1}else if(ze!=ne.charCodeAt(he++))return-1}return he}function E(X,me,ne){var he=u.exec(me.slice(ne));return he?(X.p=d.get(he[0].toLowerCase()),ne+he[0].length):-1}function B(X,me,ne){var he=f.exec(me.slice(ne));return he?(X.w=x.get(he[0].toLowerCase()),ne+he[0].length):-1}function C(X,me,ne){var he=h.exec(me.slice(ne));return he?(X.w=p.get(he[0].toLowerCase()),ne+he[0].length):-1}function O(X,me,ne){var he=b.exec(me.slice(ne));return he?(X.m=j.get(he[0].toLowerCase()),ne+he[0].length):-1}function M(X,me,ne){var he=g.exec(me.slice(ne));return he?(X.m=v.get(he[0].toLowerCase()),ne+he[0].length):-1}function D(X,me,ne){return k(X,t,me,ne)}function W(X,me,ne){return k(X,r,me,ne)}function z(X,me,ne){return k(X,s,me,ne)}function G(X){return o[X.getDay()]}function V(X){return i[X.getDay()]}function Y(X){return c[X.getMonth()]}function ie(X){return l[X.getMonth()]}function q(X){return a[+(X.getHours()>=12)]}function R(X){return 1+~~(X.getMonth()/3)}function K(X){return o[X.getUTCDay()]}function Z(X){return i[X.getUTCDay()]}function se(X){return c[X.getUTCMonth()]}function ue(X){return l[X.getUTCMonth()]}function ae(X){return a[+(X.getUTCHours()>=12)]}function xe(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=L(X+="",N);return me.toString=function(){return X},me},parse:function(X){var me=I(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=L(X+="",A);return me.toString=function(){return X},me},utcParse:function(X){var me=I(X+="",!0);return me.toString=function(){return X},me}}}var zT={"-":"",_:" ",0:"0"},Da=/^\s*\d+/,yve=/^%/,vve=/[\\^$*+?|[\]().{}]/g;function mn(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function bve(e){return e.replace(vve,"\\$&")}function D0(e){return new RegExp("^(?:"+e.map(bve).join("|")+")","i")}function R0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wve(e,t,r){var s=Da.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function jve(e,t,r){var s=Da.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function Nve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function _ve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Sve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function UT(e,t,r){var s=Da.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function qT(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Ave(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function kve(e,t,r){var s=Da.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Cve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function VT(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Pve(e,t,r){var s=Da.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function WT(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Eve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function Tve(e,t,r){var s=Da.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function Ove(e,t,r){var s=Da.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Lve(e,t,r){var s=Da.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Ive(e,t,r){var s=yve.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Mve(e,t,r){var s=Da.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Dve(e,t,r){var s=Da.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function HT(e,t){return mn(e.getDate(),t,2)}function Rve(e,t){return mn(e.getHours(),t,2)}function Fve(e,t){return mn(e.getHours()%12||12,t,2)}function $ve(e,t){return mn(1+Bv.count(nd(e),e),t,3)}function q$(e,t){return mn(e.getMilliseconds(),t,3)}function Bve(e,t){return q$(e,t)+"000"}function zve(e,t){return mn(e.getMonth()+1,t,2)}function Uve(e,t){return mn(e.getMinutes(),t,2)}function qve(e,t){return mn(e.getSeconds(),t,2)}function Vve(e){var t=e.getDay();return t===0?7:t}function Wve(e,t){return mn(wj.count(nd(e)-1,e),t,2)}function V$(e){var t=e.getDay();return t>=4||t===0?Gg(e):Gg.ceil(e)}function Hve(e,t){return e=V$(e),mn(Gg.count(nd(e),e)+(nd(e).getDay()===4),t,2)}function Gve(e){return e.getDay()}function Kve(e,t){return mn(k2.count(nd(e)-1,e),t,2)}function Yve(e,t){return mn(e.getFullYear()%100,t,2)}function Zve(e,t){return e=V$(e),mn(e.getFullYear()%100,t,2)}function Xve(e,t){return mn(e.getFullYear()%1e4,t,4)}function Qve(e,t){var r=e.getDay();return e=r>=4||r===0?Gg(e):Gg.ceil(e),mn(e.getFullYear()%1e4,t,4)}function Jve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mn(t/60|0,"0",2)+mn(t%60,"0",2)}function GT(e,t){return mn(e.getUTCDate(),t,2)}function ebe(e,t){return mn(e.getUTCHours(),t,2)}function tbe(e,t){return mn(e.getUTCHours()%12||12,t,2)}function rbe(e,t){return mn(1+bj.count(sd(e),e),t,3)}function W$(e,t){return mn(e.getUTCMilliseconds(),t,3)}function nbe(e,t){return W$(e,t)+"000"}function sbe(e,t){return mn(e.getUTCMonth()+1,t,2)}function abe(e,t){return mn(e.getUTCMinutes(),t,2)}function ibe(e,t){return mn(e.getUTCSeconds(),t,2)}function obe(e){var t=e.getUTCDay();return t===0?7:t}function lbe(e,t){return mn(jj.count(sd(e)-1,e),t,2)}function H$(e){var t=e.getUTCDay();return t>=4||t===0?Kg(e):Kg.ceil(e)}function cbe(e,t){return e=H$(e),mn(Kg.count(sd(e),e)+(sd(e).getUTCDay()===4),t,2)}function ube(e){return e.getUTCDay()}function dbe(e,t){return mn(C2.count(sd(e)-1,e),t,2)}function hbe(e,t){return mn(e.getUTCFullYear()%100,t,2)}function fbe(e,t){return e=H$(e),mn(e.getUTCFullYear()%100,t,2)}function mbe(e,t){return mn(e.getUTCFullYear()%1e4,t,4)}function pbe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Kg(e):Kg.ceil(e),mn(e.getUTCFullYear()%1e4,t,4)}function gbe(){return"+0000"}function KT(){return"%"}function YT(e){return+e}function ZT(e){return Math.floor(+e/1e3)}var $p,G$,K$;xbe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xbe(e){return $p=xve(e),G$=$p.format,$p.parse,K$=$p.utcFormat,$p.utcParse,$p}function ybe(e){return new Date(e)}function vbe(e){return e instanceof Date?+e:+new Date(+e)}function m3(e,t,r,s,a,i,o,l,c,u){var d=e3(),h=d.invert,p=d.domain,f=u(".%L"),x=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),j=u("%b %d"),N=u("%B"),A=u("%Y");function S(L){return(c(L)<L?f:l(L)<L?x:o(L)<L?g:i(L)<L?v:s(L)<L?a(L)<L?b:j:r(L)<L?N:A)(L)}return d.invert=function(L){return new Date(h(L))},d.domain=function(L){return arguments.length?p(Array.from(L,vbe)):p().map(ybe)},d.ticks=function(L){var I=p();return e(I[0],I[I.length-1],L??10)},d.tickFormat=function(L,I){return I==null?S:u(I)},d.nice=function(L){var I=p();return(!L||typeof L.range!="function")&&(L=t(I[0],I[I.length-1],L??10)),L?p(I$(I,L)):d},d.copy=function(){return $v(d,m3(e,t,r,s,a,i,o,l,c,u))},d}function bbe(){return bl.apply(m3(pve,gve,nd,h3,wj,Bv,u3,l3,sm,G$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wbe(){return bl.apply(m3(fve,mve,sd,f3,jj,bj,d3,c3,sm,K$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nj(){var e=0,t=1,r,s,a,i,o=Mi,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(p){var f,x;return arguments.length?([f,x]=p,o=h(f,x),u):[o(0),o(1)]}}return u.range=d(Bx),u.rangeRound=d(J6),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return i=h,r=h(e),s=h(t),a=r===s?0:1/(s-r),u}}function nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y$(){var e=rf(Nj()(Mi));return e.copy=function(){return nf(e,Y$())},hd.apply(e,arguments)}function Z$(){var e=n3(Nj()).domain([1,10]);return e.copy=function(){return nf(e,Z$()).base(e.base())},hd.apply(e,arguments)}function X$(){var e=s3(Nj());return e.copy=function(){return nf(e,X$()).constant(e.constant())},hd.apply(e,arguments)}function p3(){var e=a3(Nj());return e.copy=function(){return nf(e,p3()).exponent(e.exponent())},hd.apply(e,arguments)}function jbe(){return p3.apply(null,arguments).exponent(.5)}function Q$(){var e=[],t=Mi;function r(s){if(s!=null&&!isNaN(s=+s))return t((Rv(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Rh),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>lye(e,i/s))},r.copy=function(){return Q$(t).domain(e)},hd.apply(r,arguments)}function _j(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,u=Mi,d,h=!1,p;function f(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-i)*(s*g<s*i?l:c),u(h?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[e,t,r]},f.clamp=function(g){return arguments.length?(h=!!g,f):h},f.interpolator=function(g){return arguments.length?(u=g,f):u};function x(g){return function(v){var b,j,N;return arguments.length?([b,j,N]=v,u=Iye(g,[b,j,N]),f):[u(0),u(.5),u(1)]}}return f.range=x(Bx),f.rangeRound=x(J6),f.unknown=function(g){return arguments.length?(p=g,f):p},function(g){return d=g,a=g(e),i=g(t),o=g(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function J$(){var e=rf(_j()(Mi));return e.copy=function(){return nf(e,J$())},hd.apply(e,arguments)}function eB(){var e=n3(_j()).domain([.1,1,10]);return e.copy=function(){return nf(e,eB()).base(e.base())},hd.apply(e,arguments)}function tB(){var e=s3(_j());return e.copy=function(){return nf(e,tB()).constant(e.constant())},hd.apply(e,arguments)}function g3(){var e=a3(_j());return e.copy=function(){return nf(e,g3()).exponent(e.exponent())},hd.apply(e,arguments)}function Nbe(){return g3.apply(null,arguments).exponent(.5)}const XT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$y,scaleDiverging:J$,scaleDivergingLog:eB,scaleDivergingPow:g3,scaleDivergingSqrt:Nbe,scaleDivergingSymlog:tB,scaleIdentity:L$,scaleImplicit:JS,scaleLinear:S2,scaleLog:M$,scaleOrdinal:Z6,scalePoint:uy,scalePow:i3,scaleQuantile:F$,scaleQuantize:$$,scaleRadial:R$,scaleSequential:Y$,scaleSequentialLog:Z$,scaleSequentialPow:p3,scaleSequentialQuantile:Q$,scaleSequentialSqrt:jbe,scaleSequentialSymlog:X$,scaleSqrt:nve,scaleSymlog:D$,scaleThreshold:B$,scaleTime:bbe,scaleUtc:wbe,tickFormat:O$},Symbol.toStringTag,{value:"Module"}));var _be=Ex;function Sbe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!_be(o):r(o,l)))var l=o,c=i}return c}var Sj=Sbe;function Abe(e,t){return e>t}var rB=Abe,kbe=Sj,Cbe=rB,Pbe=Fx;function Ebe(e){return e&&e.length?kbe(e,Pbe,Cbe):void 0}var Tbe=Ebe;const Ah=pn(Tbe);function Obe(e,t){return e<t}var nB=Obe,Lbe=Sj,Ibe=nB,Mbe=Fx;function Dbe(e){return e&&e.length?Lbe(e,Mbe,Ibe):void 0}var Rbe=Dbe;const Aj=pn(Rbe);var Fbe=E6,$be=iu,Bbe=d$,zbe=to;function Ube(e,t){var r=zbe(e)?Fbe:Bbe;return r(e,$be(t))}var qbe=Ube,Vbe=c$,Wbe=qbe;function Hbe(e,t){return Vbe(Wbe(e,t),1)}var Gbe=Hbe;const Kbe=pn(Gbe);var Ybe=W6;function Zbe(e,t){return Ybe(e,t)}var Xbe=Zbe;const $m=pn(Xbe);var zx=1e9,Qbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},y3,os=!0,gl="[DecimalError] ",jm=gl+"Invalid argument: ",x3=gl+"Exponent out of range: ",Ux=Math.floor,Wf=Math.pow,Jbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Eo,Pa=1e7,Yn=7,sB=9007199254740991,P2=Ux(sB/Yn),St={};St.absoluteValue=St.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};St.comparedTo=St.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};St.decimalPlaces=St.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};St.dividedBy=St.div=function(e){return Zu(this,new this.constructor(e))};St.dividedToIntegerBy=St.idiv=function(e){var t=this,r=t.constructor;return Rn(Zu(t,new r(e),0,1),r.precision)};St.equals=St.eq=function(e){return!this.cmp(e)};St.exponent=function(){return sa(this)};St.greaterThan=St.gt=function(e){return this.cmp(e)>0};St.greaterThanOrEqualTo=St.gte=function(e){return this.cmp(e)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(e){return this.cmp(e)<0};St.lessThanOrEqualTo=St.lte=function(e){return this.cmp(e)<1};St.logarithm=St.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Eo))throw Error(gl+"NaN");if(r.s<1)throw Error(gl+(r.s?"NaN":"-Infinity"));return r.eq(Eo)?new s(0):(os=!1,t=Zu(Vy(r,i),Vy(e,i),i),os=!0,Rn(t,a))};St.minus=St.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oB(t,e):aB(t,(e.s=-e.s,e))};St.modulo=St.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(gl+"NaN");return r.s?(os=!1,t=Zu(r,e,0,1).times(e),os=!0,r.minus(t)):Rn(new s(r),a)};St.naturalExponential=St.exp=function(){return iB(this)};St.naturalLogarithm=St.ln=function(){return Vy(this)};St.negated=St.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};St.plus=St.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aB(t,e):oB(t,(e.s=-e.s,e))};St.precision=St.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jm+e);if(t=sa(a)+1,s=a.d.length-1,r=s*Yn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};St.squareRoot=St.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(gl+"NaN")}for(e=sa(l),os=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=zc(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ux((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Zu(l,i,o+2)).times(.5),zc(i.d).slice(0,o)===(t=zc(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Rn(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return os=!0,Rn(s,r)};St.times=St.mul=function(e){var t,r,s,a,i,o,l,c,u,d=this,h=d.constructor,p=d.d,f=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=f.length,c<u&&(i=p,p=f,f=i,o=c,c=u,u=o),i=[],o=c+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+f[s]*p[a-s-1]+t,i[a--]=l%Pa|0,t=l/Pa|0;i[a]=(i[a]+t)%Pa|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,os?Rn(e,h.precision):e};St.toDecimalPlaces=St.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(tu(e,0,zx),t===void 0?t=s.rounding:tu(t,0,8),Rn(r,e+sa(r)+1,t))};St.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Bm(s,!0):(tu(e,0,zx),t===void 0?t=a.rounding:tu(t,0,8),s=Rn(new a(s),e+1,t),r=Bm(s,!0,e+1)),r};St.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Bm(a):(tu(e,0,zx),t===void 0?t=i.rounding:tu(t,0,8),s=Rn(new i(a),e+sa(a)+1,t),r=Bm(s.abs(),!1,e+sa(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};St.toInteger=St.toint=function(){var e=this,t=e.constructor;return Rn(new t(e),sa(e)+1,t.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Eo);if(l=new c(l),!l.s){if(e.s<1)throw Error(gl+"Infinity");return l}if(l.eq(Eo))return l;if(s=c.precision,e.eq(Eo))return Rn(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=sB){for(a=new c(Eo),t=Math.ceil(s/Yn+4),os=!1;r%2&&(a=a.times(l),JT(a.d,t)),r=Ux(r/2),r!==0;)l=l.times(l),JT(l.d,t);return os=!0,e.s<0?new c(Eo).div(a):Rn(a,s)}}else if(i<0)throw Error(gl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,os=!1,a=e.times(Vy(l,s+u)),os=!0,a=iB(a),a.s=i,a};St.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=sa(a),s=Bm(a,r<=i.toExpNeg||r>=i.toExpPos)):(tu(e,1,zx),t===void 0?t=i.rounding:tu(t,0,8),a=Rn(new i(a),e,t),r=sa(a),s=Bm(a,e<=r||r<=i.toExpNeg,e)),s};St.toSignificantDigits=St.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(tu(e,1,zx),t===void 0?t=s.rounding:tu(t,0,8)),Rn(new s(r),e,t)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=sa(e),r=e.constructor;return Bm(e,t<=r.toExpNeg||t>=r.toExpPos)};function aB(e,t){var r,s,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),os?Rn(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=u.length):(s=u,a=o,l=c.length),o=Math.ceil(h/Yn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,s=u,u=c,c=s),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Pa|0,c[i]%=Pa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,os?Rn(t,h):t}function tu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jm+e)}function zc(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=Yn-s.length,r&&(i+=dh(r)),i+=s;o=e[t],s=o+"",r=Yn-s.length,r&&(i+=dh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Zu=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Pa|0,o=i/Pa|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Pa+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,u,d,h,p,f,x,g,v,b,j,N,A,S,L,I,k,E=s.constructor,B=s.s==a.s?1:-1,C=s.d,O=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(gl+"Division by zero");for(c=s.e-a.e,I=O.length,S=C.length,f=new E(B),x=f.d=[],u=0;O[u]==(C[u]||0);)++u;if(O[u]>(C[u]||0)&&--c,i==null?j=i=E.precision:o?j=i+(sa(s)-sa(a))+1:j=i,j<0)return new E(0);if(j=j/Yn+2|0,u=0,I==1)for(d=0,O=O[0],j++;(u<S||d)&&j--;u++)N=d*Pa+(C[u]||0),x[u]=N/O|0,d=N%O|0;else{for(d=Pa/(O[0]+1)|0,d>1&&(O=e(O,d),C=e(C,d),I=O.length,S=C.length),A=I,g=C.slice(0,I),v=g.length;v<I;)g[v++]=0;k=O.slice(),k.unshift(0),L=O[0],O[1]>=Pa/2&&++L;do d=0,l=t(O,g,I,v),l<0?(b=g[0],I!=v&&(b=b*Pa+(g[1]||0)),d=b/L|0,d>1?(d>=Pa&&(d=Pa-1),h=e(O,d),p=h.length,v=g.length,l=t(h,g,p,v),l==1&&(d--,r(h,I<p?k:O,p))):(d==0&&(l=d=1),h=O.slice()),p=h.length,p<v&&h.unshift(0),r(g,h,v),l==-1&&(v=g.length,l=t(O,g,I,v),l<1&&(d++,r(g,I<v?k:O,v))),v=g.length):l===0&&(d++,g=[0]),x[u++]=d,l&&g[0]?g[v++]=C[A]||0:(g=[C[A]],v=1);while((A++<S||g[0]!==void 0)&&j--)}return x[0]||x.shift(),f.e=c,Rn(f,o?i+sa(f)+1:i)}}();function iB(e,t){var r,s,a,i,o,l,c=0,u=0,d=e.constructor,h=d.precision;if(sa(e)>16)throw Error(x3+sa(e));if(!e.s)return new d(Eo);for(t==null?(os=!1,l=h):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(s=Math.log(Wf(2,u))/Math.LN10*2+5|0,l+=s,r=a=i=new d(Eo),d.precision=l;;){if(a=Rn(a.times(e),l),r=r.times(++c),o=i.plus(Zu(a,r,l)),zc(o.d).slice(0,l)===zc(i.d).slice(0,l)){for(;u--;)i=Rn(i.times(i),l);return d.precision=h,t==null?(os=!0,Rn(i,h)):i}i=o}}function sa(e){for(var t=e.e*Yn,r=e.d[0];r>=10;r/=10)t++;return t}function M5(e,t,r){if(t>e.LN10.sd())throw os=!0,r&&(e.precision=r),Error(gl+"LN10 precision limit exceeded");return Rn(new e(e.LN10),t)}function dh(e){for(var t="";e--;)t+="0";return t}function Vy(e,t){var r,s,a,i,o,l,c,u,d,h=1,p=10,f=e,x=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(gl+(f.s?"NaN":"-Infinity"));if(f.eq(Eo))return new g(0);if(t==null?(os=!1,u=v):u=t,f.eq(10))return t==null&&(os=!0),M5(g,u);if(u+=p,g.precision=u,r=zc(x),s=r.charAt(0),i=sa(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(e),r=zc(f.d),s=r.charAt(0),h++;i=sa(f),s>1?(f=new g("0."+r),i++):f=new g(s+"."+r.slice(1))}else return c=M5(g,u+2,v).times(i+""),f=Vy(new g(s+"."+r.slice(1)),u-p).plus(c),g.precision=v,t==null?(os=!0,Rn(f,v)):f;for(l=o=f=Zu(f.minus(Eo),f.plus(Eo),u),d=Rn(f.times(f),u),a=3;;){if(o=Rn(o.times(d),u),c=l.plus(Zu(o,new g(a),u)),zc(c.d).slice(0,u)===zc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(M5(g,u+2,v).times(i+""))),l=Zu(l,new g(h),u),g.precision=v,t==null?(os=!0,Rn(l,v)):l;l=c,a+=2}}function QT(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Ux(r/Yn),e.d=[],s=(r+1)%Yn,r<0&&(s+=Yn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Yn;s<a;)e.d.push(+t.slice(s,s+=Yn));t=t.slice(s),s=Yn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),os&&(e.e>P2||e.e<-P2))throw Error(x3+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rn(e,t,r){var s,a,i,o,l,c,u,d,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Yn,a=t,u=h[d=0];else{if(d=Math.ceil((s+1)/Yn),i=h.length,d>=i)return e;for(u=i=h[d],o=1;i>=10;i/=10)o++;s%=Yn,a=s-Yn+o}if(r!==void 0&&(i=Wf(10,o-a-1),l=u/i%10|0,c=t<0||h[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?u/Wf(10,o-a):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(i=sa(e),h.length=1,t=t-i-1,h[0]=Wf(10,(Yn-t%Yn)%Yn),e.e=Ux(-t/Yn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=d,i=1,d--):(h.length=d+1,i=Wf(10,Yn-s),h[d]=a>0?(u/Wf(10,o-a)%Wf(10,a)|0)*i:0),c)for(;;)if(d==0){(h[0]+=i)==Pa&&(h[0]=1,++e.e);break}else{if(h[d]+=i,h[d]!=Pa)break;h[d--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(os&&(e.e>P2||e.e<-P2))throw Error(x3+sa(e));return e}function oB(e,t){var r,s,a,i,o,l,c,u,d,h,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),os?Rn(t,f):t;if(c=e.d,h=t.d,s=t.e,u=e.e,c=c.slice(),o=u-s,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,s=u,l=c.length),a=Math.max(Math.ceil(f/Yn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Pa-1;--c[i],c[a]+=Pa}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,os?Rn(t,f):t):new p(0)}function Bm(e,t,r){var s,a=sa(e),i=zc(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+dh(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+dh(-a-1)+i,r&&(s=r-o)>0&&(i+=dh(s))):a>=o?(i+=dh(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+dh(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=dh(s))),e.s<0?"-"+i:i}function JT(e,t){if(e.length>t)return e.length=t,!0}function lB(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jm+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return QT(o,i.toString())}else if(typeof i!="string")throw Error(jm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Jbe.test(i))QT(o,i);else throw Error(jm+i)}if(a.prototype=St,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lB,a.config=a.set=e1e,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function e1e(e){if(!e||typeof e!="object")throw Error(gl+"Object expected");var t,r,s,a=["precision",1,zx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Ux(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(jm+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(jm+r+": "+s);return this}var y3=lB(Qbe);Eo=new y3(1);const On=y3;function t1e(e){return a1e(e)||s1e(e)||n1e(e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(e,t){if(e){if(typeof e=="string")return n4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n4(e,t)}}function s1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function a1e(e){if(Array.isArray(e))return n4(e)}function n4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var i1e=function(t){return t},cB={"@@functional/placeholder":!0},uB=function(t){return t===cB},eO=function(t){return function r(){return arguments.length===0||arguments.length===1&&uB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},o1e=function e(t,r){return t===1?r:eO(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==cB}).length;return o>=t?r.apply(void 0,a):e(t-o,eO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(h){return uB(h)?c.shift():h});return r.apply(void 0,t1e(d).concat(c))}))})},kj=function(t){return o1e(t.length,t)},s4=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},l1e=kj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),c1e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return i1e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},a4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dB=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function u1e(e){var t;return e===0?t=1:t=Math.floor(new On(e).abs().log(10).toNumber())+1,t}function d1e(e,t,r){for(var s=new On(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var h1e=kj(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),f1e=kj(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),m1e=kj(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const Cj={rangeStep:d1e,getDigitCount:u1e,interpolateNumber:h1e,uninterpolateNumber:f1e,uninterpolateTruncation:m1e};function i4(e){return x1e(e)||g1e(e)||hB(e)||p1e()}function p1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function x1e(e){if(Array.isArray(e))return o4(e)}function Wy(e,t){return b1e(e)||v1e(e,t)||hB(e,t)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function v1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function b1e(e){if(Array.isArray(e))return e}function fB(e){var t=Wy(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function mB(e,t,r){if(e.lte(0))return new On(0);var s=Cj.getDigitCount(e.toNumber()),a=new On(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new On(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new On(Math.ceil(c))}function w1e(e,t,r){var s=1,a=new On(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new On(10).pow(Cj.getDigitCount(e)-1),a=new On(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new On(Math.floor(e)))}else e===0?a=new On(Math.floor((t-1)/2)):r||(a=new On(Math.floor(e)));var o=Math.floor((t-1)/2),l=c1e(l1e(function(c){return a.add(new On(c-o).mul(s)).toNumber()}),s4);return l(0,t)}function pB(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new On(0),tickMin:new On(0),tickMax:new On(0)};var i=mB(new On(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new On(0):(o=new On(e).add(t).div(2),o=o.sub(new On(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new On(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?pB(e,t,r,s,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new On(l).mul(i)),tickMax:o.add(new On(c).mul(i))})}function j1e(e){var t=Wy(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=fB([r,s]),c=Wy(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(i4(s4(0,a-1).map(function(){return 1/0}))):[].concat(i4(s4(0,a-1).map(function(){return-1/0})),[d]);return r>s?a4(h):h}if(u===d)return w1e(u,a,i);var p=pB(u,d,o,i),f=p.step,x=p.tickMin,g=p.tickMax,v=Cj.rangeStep(x,g.add(new On(.1).mul(f)),f);return r>s?a4(v):v}function N1e(e,t){var r=Wy(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fB([s,a]),l=Wy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,a];if(c===u)return[c];var d=Math.max(t,2),h=mB(new On(u).sub(c).div(d-1),i,0),p=[].concat(i4(Cj.rangeStep(new On(c),new On(u).sub(new On(.99).mul(h)),h)),[u]);return s>a?a4(p):p}var _1e=dB(j1e),S1e=dB(N1e),A1e="Invariant failed";function zm(e,t){throw new Error(A1e)}var k1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},E2.apply(this,arguments)}function C1e(e,t){return O1e(e)||T1e(e,t)||E1e(e,t)||P1e()}function P1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(e,t){if(e){if(typeof e=="string")return tO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function T1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function O1e(e){if(Array.isArray(e))return e}function L1e(e,t){if(e==null)return{};var r=I1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function I1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function M1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yB(s.key),s)}}function R1e(e,t,r){return t&&D1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F1e(e,t,r){return t=T2(t),$1e(e,gB()?Reflect.construct(t,r||[],T2(e).constructor):t.apply(e,r))}function $1e(e,t){if(t&&(Yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1e(e)}function B1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function T2(e){return T2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T2(e)}function z1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l4(e,t)}function l4(e,t){return l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},l4(e,t)}function xB(e,t,r){return t=yB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yB(e){var t=U1e(e,"string");return Yg(t)=="symbol"?t:t+""}function U1e(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zv=function(e){function t(){return M1e(this,t),F1e(this,t,arguments)}return z1e(t,e),R1e(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,d=s.xAxis,h=s.yAxis,p=L1e(s,k1e),f=Ft(p,!1);this.props.direction==="x"&&d.type!=="number"&&zm();var x=c.map(function(g){var v=u(g,l),b=v.x,j=v.y,N=v.value,A=v.errorVal;if(!A)return null;var S=[],L,I;if(Array.isArray(A)){var k=C1e(A,2);L=k[0],I=k[1]}else L=I=A;if(i==="vertical"){var E=d.scale,B=j+a,C=B+o,O=B-o,M=E(N-L),D=E(N+I);S.push({x1:D,y1:C,x2:D,y2:O}),S.push({x1:M,y1:B,x2:D,y2:B}),S.push({x1:M,y1:C,x2:M,y2:O})}else if(i==="horizontal"){var W=h.scale,z=b+a,G=z-o,V=z+o,Y=W(N-L),ie=W(N+I);S.push({x1:G,y1:ie,x2:V,y2:ie}),S.push({x1:z,y1:Y,x2:z,y2:ie}),S.push({x1:G,y1:Y,x2:V,y2:Y})}return ye.createElement(Ur,E2({className:"recharts-errorBar",key:"bar-".concat(S.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},f),S.map(function(q){return ye.createElement("line",E2({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return ye.createElement(Ur,{className:"recharts-errorBars"},x)}}])}(ye.Component);xB(zv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xB(zv,"displayName","ErrorBar");function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(s){q1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function q1e(e,t,r){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V1e(e){var t=W1e(e,"string");return Hy(t)=="symbol"?t:t+""}function W1e(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vB=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ao(r,Dh);if(!o)return null;var l=Dh.defaultProps,c=l!==void 0?$f($f({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(d,h){var p=h.item,f=h.props,x=f.sectors||f.data||[];return d.concat(x.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(s||[]).map(function(d){var h=d.item,p=h.type.defaultProps,f=p!==void 0?$f($f({},p),h.props):{},x=f.dataKey,g=f.name,v=f.legendType,b=f.hide;return{inactive:b,dataKey:x,type:c.iconType||v||"square",color:v3(h),value:g||x,payload:f}}),$f($f($f({},c),Dh.getWithHeight(o,a)),{},{payload:u,item:o})};function Gy(e){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}function nO(e){return Y1e(e)||K1e(e)||G1e(e)||H1e()}function H1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G1e(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function K1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y1e(e){if(Array.isArray(e))return c4(e)}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(s){yg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yg(e,t,r){return t=Z1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z1e(e){var t=X1e(e,"string");return Gy(t)=="symbol"?t:t+""}function X1e(e,t){if(Gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(e,t,r){return fr(e)||fr(t)?r:va(t)?Ro(e,t,r):er(t)?t(e):r}function dy(e,t,r,s){var a=Kbe(e,function(l){return Us(l,t)});if(r==="number"){var i=a.filter(function(l){return ot(l)||parseFloat(l)});return i.length?[Aj(i),Ah(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!fr(l)}):a;return o.map(function(l){return va(l)||l instanceof Date?l:""})}var Q1e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,h=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,f=void 0;if(Li(h-d)!==Li(p-h)){var x=[];if(Li(p-h)===Li(c[1]-c[0])){f=p;var g=h+c[1]-c[0];x[0]=Math.min(g,(g+d)/2),x[1]=Math.max(g,(g+d)/2)}else{f=d;var v=p+c[1]-c[0];x[0]=Math.min(h,(v+h)/2),x[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var j=Math.min(d,p),N=Math.max(d,p);if(t>(j+h)/2&&t<=(N+h)/2){o=a[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&t<=(s[A].coordinate+s[A+1].coordinate)/2||A>0&&A<l-1&&t>(s[A].coordinate+s[A-1].coordinate)/2&&t<=(s[A].coordinate+s[A+1].coordinate)/2||A===l-1&&t>(s[A].coordinate+s[A-1].coordinate)/2){o=s[A].index;break}return o},v3=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},J1e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,h=Object.keys(d),p=0,f=h.length;p<f;p++){var x=d[h[p]],g=x.items,v=x.cateAxisId,b=g.filter(function(I){return Yu(I.type).indexOf("Bar")>=0});if(b&&b.length){var j=b[0].type.defaultProps,N=j!==void 0?Es(Es({},j),b[0].props):b[0].props,A=N.barSize,S=N[v];o[S]||(o[S]=[]);var L=fr(A)?r:A;o[S].push({item:b[0],stackList:b.slice(1),barSize:fr(L)?void 0:Ii(L,s,0)})}}return o},e2e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Ii(r,a,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,f=a/c,x=o.reduce(function(A,S){return A+S.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&f>0&&(p=!0,f*=.9,x=c*f);var g=(a-x)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(A,S){var L={item:S.item,position:{offset:v.offset+v.size+u,size:p?f:S.barSize}},I=[].concat(nO(A),[L]);return v=I[I.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){I.push({item:k,position:v})}),I},h)}else{var b=Ii(s,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var j=(a-2*b-(c-1)*u)/c;j>1&&(j>>=0);var N=l===+l?Math.min(j,l):j;d=o.reduce(function(A,S,L){var I=[].concat(nO(A),[{item:S.item,position:{offset:b+(j+u)*L+(j-N)/2,size:N}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(k){I.push({item:k,position:I[I.length-1].position})}),I},h)}return d},t2e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=vB({children:i,legendWidth:c});if(u){var d=a||{},h=d.width,p=d.height,f=u.align,x=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&f!=="center"&&ot(t[f]))return Es(Es({},t),{},yg({},f,t[f]+(h||0)));if((g==="horizontal"||g==="vertical"&&f==="center")&&x!=="middle"&&ot(t[x]))return Es(Es({},t),{},yg({},x,t[x]+(p||0)))}return t},r2e=function(t,r,s){return fr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},bB=function(t,r,s,a,i){var o=r.props.children,l=Fo(o,zv).filter(function(u){return r2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var h=Us(d,s);if(fr(h))return u;var p=Array.isArray(h)?[Aj(h),Ah(h)]:[h,h],f=c.reduce(function(x,g){var v=Us(d,g,0),b=p[0]-Math.abs(Array.isArray(v)?v[0]:v),j=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,x[0]),Math.max(j,x[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},n2e=function(t,r,s,a,i){var o=r.map(function(l){return bB(t,l,s,i,a)}).filter(function(l){return!fr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wB=function(t,r,s,a,i){var o=r.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&bB(t,c,u,a)||dy(t,u,s,i)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},jB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},NB=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Wu=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Li(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(h){var p=i?i.indexOf(h):h;return{coordinate:a(p)+u,value:h,offset:u}});return d.filter(function(h){return!Mx(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:a(h)+u,value:h,index:p,offset:u}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+u,value:h,offset:u}}):a.domain().map(function(h,p){return{coordinate:a(h)+u,value:i?i[h]:h,index:p,offset:u}})},D5=new WeakMap,Qb=function(t,r){if(typeof r!="function")return t;D5.has(t)||D5.set(t,new WeakMap);var s=D5.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},_B=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$y(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:S2(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:uy(),realScaleType:"point"}:i==="category"?{scale:$y(),realScaleType:"band"}:{scale:S2(),realScaleType:"linear"};if(Dm(a)){var c="scale".concat(hj(a));return{scale:(XT[c]||uy)(),realScaleType:XT[c]?c:"point"}}return er(a)?{scale:a}:{scale:uy(),realScaleType:"point"}},aO=1e-4,SB=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-aO,o=Math.max(a[0],a[1])+aO,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},s2e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},a2e=function(t,r){if(!r||r.length!==2||!ot(r[0])||!ot(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ot(t[0])||t[0]<s)&&(i[0]=s),(!ot(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},i2e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Mx(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},o2e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Mx(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},l2e={sign:i2e,expand:kce,none:zg,silhouette:Cce,wiggle:Pce,positive:o2e},c2e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=l2e[s],o=Ace().keys(a).value(function(l,c){return+Us(l,c,0)}).order(IS).offset(i);return o(t)},u2e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,p){var f,x=(f=p.type)!==null&&f!==void 0&&f.defaultProps?Es(Es({},p.type.defaultProps),p.props):p.props,g=x.stackId,v=x.hide;if(v)return h;var b=x[s],j=h[b]||{hasStack:!1,stackGroups:{}};if(va(g)){var N=j.stackGroups[g]||{numericAxisId:s,cateAxisId:a,items:[]};N.items.push(p),j.hasStack=!0,j.stackGroups[g]=N}else j.stackGroups[rp("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[p]};return Es(Es({},h),{},yg({},b,j))},c),d={};return Object.keys(u).reduce(function(h,p){var f=u[p];if(f.hasStack){var x={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(g,v){var b=f.stackGroups[v];return Es(Es({},g),{},yg({},v,{numericAxisId:s,cateAxisId:a,items:b.items,stackedData:c2e(t,b.items,i)}))},x)}return Es(Es({},h),{},yg({},p,f))},d)},AB=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=_1e(u,i,l);return t.domain([Aj(d),Ah(d)]),{niceTicks:d}}if(i&&a==="number"){var h=t.domain(),p=S1e(h,i,l);return{niceTicks:p}}return null};function O2(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(a[t.dataKey])){var l=s2(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Us(a,fr(o)?t.dataKey:o);return fr(c)?null:t.scale(c)}var iO=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Us(o,r.dataKey,r.domain[l]);return fr(c)?null:r.scale(c)-i/2+a},d2e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},h2e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(va(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},f2e=function(t){return t.reduce(function(r,s){return[Aj(s.concat([r[0]]).filter(ot)),Ah(s.concat([r[1]]).filter(ot))]},[1/0,-1/0])},kB=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var h=f2e(d.slice(r,s+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},oO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u4=function(t,r,s){if(er(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(ot(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(oO.test(t[0])){var i=+oO.exec(t[0])[1];a[0]=r[0]-i}else er(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ot(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(lO.test(t[1])){var o=+lO.exec(t[1])[1];a[1]=r[1]+o}else er(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},L2=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=G6(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},cO=function(t,r,s){return!t||!t.length||$m(t,Ro(s,"type.defaultProps.domain"))?r:t},CB=function(t,r){var s=t.type.defaultProps?Es(Es({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,d=s.hide;return Es(Es({},Ft(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:v3(t),value:Us(r,a),type:c,payload:r,chartType:u,hide:d})};function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(s){PB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function PB(e,t,r){return t=m2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m2e(e){var t=p2e(e,"string");return Ky(t)=="symbol"?t:t+""}function p2e(e,t){if(Ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ky(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g2e(e,t){return b2e(e)||v2e(e,t)||y2e(e,t)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y2e(e,t){if(e){if(typeof e=="string")return dO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dO(e,t)}}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function v2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function b2e(e){if(Array.isArray(e))return e}var I2=Math.PI/180,w2e=function(t){return t*180/Math.PI},zn=function(t,r,s,a){return{x:t+Math.cos(-I2*a)*s,y:r+Math.sin(-I2*a)*s}},EB=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},j2e=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Ii(t.cx,o,o/2),h=Ii(t.cy,l,l/2),p=EB(o,l,s),f=Ii(t.innerRadius,p,0),x=Ii(t.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(v,b){var j=r[b],N=j.domain,A=j.reversed,S;if(fr(j.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[f,x]),A&&(S=[S[1],S[0]]);else{S=j.range;var L=S,I=g2e(L,2);c=I[0],u=I[1]}var k=_B(j,i),E=k.realScaleType,B=k.scale;B.domain(N).range(S),SB(B);var C=AB(B,Du(Du({},j),{},{realScaleType:E})),O=Du(Du(Du({},j),C),{},{range:S,radius:x,realScaleType:E,scale:B,cx:d,cy:h,innerRadius:f,outerRadius:x,startAngle:c,endAngle:u});return Du(Du({},v),{},PB({},b,O))},{})},N2e=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},_2e=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=N2e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:w2e(u),angleInRadian:u}},S2e=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},A2e=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},hO=function(t,r){var s=t.x,a=t.y,i=_2e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=S2e(r),h=d.startAngle,p=d.endAngle,f=l,x;if(h<=p){for(;f>p;)f-=360;for(;f<h;)f+=360;x=f>=h&&f<=p}else{for(;f>h;)f-=360;for(;f<p;)f+=360;x=f>=p&&f<=h}return x?Du(Du({},r),{},{radius:o,angle:A2e(f,r)}):null},TB=function(t){return!_.isValidElement(t)&&!er(t)&&typeof t!="boolean"?t.className:""};function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}var k2e=["offset"];function C2e(e){return O2e(e)||T2e(e)||E2e(e)||P2e()}function P2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return d4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d4(e,t)}}function T2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O2e(e){if(Array.isArray(e))return d4(e)}function d4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function L2e(e,t){if(e==null)return{};var r=I2e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function I2e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(s){M2e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M2e(e,t,r){return t=D2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D2e(e){var t=R2e(e,"string");return Yy(t)=="symbol"?t:t+""}function R2e(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zy.apply(this,arguments)}var F2e=function(t){var r=t.value,s=t.formatter,a=fr(t.children)?r:t.children;return er(s)?s(a):a},$2e=function(t,r){var s=Li(r-t),a=Math.min(Math.abs(r-t),360);return s*a},B2e=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,h=c.innerRadius,p=c.outerRadius,f=c.startAngle,x=c.endAngle,g=c.clockWise,v=(h+p)/2,b=$2e(f,x),j=b>=0?1:-1,N,A;a==="insideStart"?(N=f+j*o,A=g):a==="insideEnd"?(N=x-j*o,A=!g):a==="end"&&(N=x+j*o,A=g),A=b<=0?A:!A;var S=zn(u,d,v,N),L=zn(u,d,v,N+(A?1:-1)*359),I="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(A?0:1,`,
    `).concat(L.x,",").concat(L.y),k=fr(t.id)?rp("recharts-radial-line-"):t.id;return ye.createElement("text",Zy({},s,{dominantBaseline:"central",className:xr("recharts-radial-bar-label",l)}),ye.createElement("defs",null,ye.createElement("path",{id:k,d:I})),ye.createElement("textPath",{xlinkHref:"#".concat(k)},r))},z2e=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,h=i.endAngle,p=(d+h)/2;if(a==="outside"){var f=zn(o,l,u+s,p),x=f.x,g=f.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=zn(o,l,v,p),j=b.x,N=b.y;return{x:j,y:N,textAnchor:"middle",verticalAnchor:"middle"}},U2e=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,p=h*a,f=h>0?"end":"start",x=h>0?"start":"end",g=u>=0?1:-1,v=g*a,b=g>0?"end":"start",j=g>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return pa(pa({},N),s?{height:Math.max(c-s.y,0),width:u}:{})}if(i==="bottom"){var A={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:x};return pa(pa({},A),s?{height:Math.max(s.y+s.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return pa(pa({},S),s?{width:Math.max(S.x-s.x,0),height:d}:{})}if(i==="right"){var L={x:l+u+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return pa(pa({},L),s?{width:Math.max(s.x+s.width-L.x,0),height:d}:{})}var I=s?{width:u,height:d}:{};return i==="insideLeft"?pa({x:l+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},I):i==="insideRight"?pa({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideTop"?pa({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},I):i==="insideBottom"?pa({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:f},I):i==="insideTopLeft"?pa({x:l+v,y:c+p,textAnchor:j,verticalAnchor:x},I):i==="insideTopRight"?pa({x:l+u-v,y:c+p,textAnchor:b,verticalAnchor:x},I):i==="insideBottomLeft"?pa({x:l+v,y:c+d-p,textAnchor:j,verticalAnchor:f},I):i==="insideBottomRight"?pa({x:l+u-v,y:c+d-p,textAnchor:b,verticalAnchor:f},I):Tx(i)&&(ot(i.x)||rm(i.x))&&(ot(i.y)||rm(i.y))?pa({x:l+Ii(i.x,u),y:c+Ii(i.y,d),textAnchor:"end",verticalAnchor:"end"},I):pa({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},q2e=function(t){return"cx"in t&&ot(t.cx)};function Oa(e){var t=e.offset,r=t===void 0?5:t,s=L2e(e,k2e),a=pa({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,h=d===void 0?"":d,p=a.textBreakAll;if(!i||fr(l)&&fr(c)&&!_.isValidElement(u)&&!er(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var f;if(er(u)){if(f=_.createElement(u,a),_.isValidElement(f))return f}else f=F2e(a);var x=q2e(i),g=Ft(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return B2e(a,f,g);var v=x?z2e(a):U2e(a);return ye.createElement(Fm,Zy({className:xr("recharts-label",h)},g,v,{breakAll:p}),f)}Oa.displayName="Label";var OB=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,h=t.x,p=t.y,f=t.top,x=t.left,g=t.width,v=t.height,b=t.clockWise,j=t.labelViewBox;if(j)return j;if(ot(g)&&ot(v)){if(ot(h)&&ot(p))return{x:h,y:p,width:g,height:v};if(ot(f)&&ot(x))return{x:f,y:x,width:g,height:v}}return ot(h)&&ot(p)?{x:h,y:p,width:0,height:0}:ot(r)&&ot(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},V2e=function(t,r){return t?t===!0?ye.createElement(Oa,{key:"label-implicit",viewBox:r}):va(t)?ye.createElement(Oa,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===Oa?_.cloneElement(t,{key:"label-implicit",viewBox:r}):ye.createElement(Oa,{key:"label-implicit",content:t,viewBox:r}):er(t)?ye.createElement(Oa,{key:"label-implicit",content:t,viewBox:r}):Tx(t)?ye.createElement(Oa,Zy({viewBox:r},t,{key:"label-implicit"})):null:null},W2e=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=OB(t),o=Fo(a,Oa).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!s)return o;var l=V2e(t.label,r||i);return[l].concat(C2e(o))};Oa.parseViewBox=OB;Oa.renderCallByParent=W2e;function H2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var G2e=H2e;const K2e=pn(G2e);function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}var Y2e=["valueAccessor"],Z2e=["data","dataKey","clockWise","id","textBreakAll"];function X2e(e){return twe(e)||ewe(e)||J2e(e)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2e(e,t){if(e){if(typeof e=="string")return h4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h4(e,t)}}function ewe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function twe(e){if(Array.isArray(e))return h4(e)}function h4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M2.apply(this,arguments)}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(s){rwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rwe(e,t,r){return t=nwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nwe(e){var t=swe(e,"string");return Xy(t)=="symbol"?t:t+""}function swe(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gO(e,t){if(e==null)return{};var r=awe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function awe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var iwe=function(t){return Array.isArray(t.value)?K2e(t.value):t.value};function Kc(e){var t=e.valueAccessor,r=t===void 0?iwe:t,s=gO(e,Y2e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=gO(s,Z2e);return!a||!a.length?null:ye.createElement(Ur,{className:"recharts-label-list"},a.map(function(d,h){var p=fr(i)?r(d,h):Us(d&&d.payload,i),f=fr(l)?{}:{id:"".concat(l,"-").concat(h)};return ye.createElement(Oa,M2({},Ft(d,!0),u,f,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:Oa.parseViewBox(fr(o)?d:pO(pO({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Kc.displayName="LabelList";function owe(e,t){return e?e===!0?ye.createElement(Kc,{key:"labelList-implicit",data:t}):ye.isValidElement(e)||er(e)?ye.createElement(Kc,{key:"labelList-implicit",data:t,content:e}):Tx(e)?ye.createElement(Kc,M2({data:t},e,{key:"labelList-implicit"})):null:null}function lwe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Fo(s,Kc).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=owe(e.label,t);return[i].concat(X2e(a))}Kc.renderCallByParent=lwe;function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function f4(){return f4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},f4.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(s){cwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cwe(e,t,r){return t=uwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uwe(e){var t=dwe(e,"string");return Qy(t)=="symbol"?t:t+""}function dwe(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hwe=function(t,r){var s=Li(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},Jb=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,h=Math.asin(c/d)/I2,p=u?i:i+o*h,f=zn(r,s,d,p),x=zn(r,s,a,p),g=u?i-o*h:i,v=zn(r,s,d*Math.cos(h*I2),g);return{center:f,circleTangency:x,lineTangency:v,theta:h}},LB=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=hwe(o,l),u=o+c,d=zn(r,s,i,o),h=zn(r,s,i,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=zn(r,s,a,o),x=zn(r,s,a,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else p+="L ".concat(r,",").concat(s," Z");return p},fwe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=Li(d-u),p=Jb({cx:r,cy:s,radius:i,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),f=p.circleTangency,x=p.lineTangency,g=p.theta,v=Jb({cx:r,cy:s,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,j=v.lineTangency,N=v.theta,A=c?Math.abs(u-d):Math.abs(u-d)-g-N;if(A<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LB({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var L=Jb({cx:r,cy:s,radius:a,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=L.circleTangency,k=L.lineTangency,E=L.theta,B=Jb({cx:r,cy:s,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=B.circleTangency,O=B.lineTangency,M=B.theta,D=c?Math.abs(u-d):Math.abs(u-d)-E-M;if(D<0&&o===0)return"".concat(S,"L").concat(r,",").concat(s,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(r,",").concat(s,"Z");return S},mwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IB=function(t){var r=yO(yO({},mwe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,p=r.className;if(o<i||d===h)return null;var f=xr("recharts-sector",p),x=o-i,g=Ii(l,x,0,!0),v;return g>0&&Math.abs(d-h)<360?v=fwe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):v=LB({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),ye.createElement("path",f4({},Ft(r,!0),{className:f,d:v,role:"img"}))};function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},m4.apply(this,arguments)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(s){pwe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pwe(e,t,r){return t=gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gwe(e){var t=xwe(e,"string");return Jy(t)=="symbol"?t:t+""}function xwe(e,t){if(Jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Jy(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wO={curveBasisClosed:pce,curveBasisOpen:gce,curveBasis:mce,curveBumpX:ece,curveBumpY:tce,curveLinearClosed:xce,curveLinear:mj,curveMonotoneX:yce,curveMonotoneY:vce,curveNatural:bce,curveStep:wce,curveStepAfter:Nce,curveStepBefore:jce},e1=function(t){return t.x===+t.x&&t.y===+t.y},F0=function(t){return t.x},$0=function(t){return t.y},ywe=function(t,r){if(er(t))return t;var s="curve".concat(hj(t));return(s==="curveMonotone"||s==="curveBump")&&r?wO["".concat(s).concat(r==="vertical"?"Y":"X")]:wO[s]||mj},vwe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ywe(s,l),h=u?i.filter(function(g){return e1(g)}):i,p;if(Array.isArray(o)){var f=u?o.filter(function(g){return e1(g)}):o,x=h.map(function(g,v){return bO(bO({},g),{},{base:f[v]})});return l==="vertical"?p=Vb().y($0).x1(F0).x0(function(g){return g.base.x}):p=Vb().x(F0).y1($0).y0(function(g){return g.base.y}),p.defined(e1).curve(d),p(x)}return l==="vertical"&&ot(o)?p=Vb().y($0).x1(F0).x0(o):ot(o)?p=Vb().x(F0).y1($0).y0(o):p=C9().x(F0).y($0),p.defined(e1).curve(d),p(h)},Nm=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?vwe(t):a;return _.createElement("path",m4({},Ft(t,!1),a2(t),{className:xr("recharts-curve",r),d:o,ref:i}))},bwe=Object.getOwnPropertyNames,wwe=Object.getOwnPropertySymbols,jwe=Object.prototype.hasOwnProperty;function jO(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function t1(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function NO(e){return bwe(e).concat(wwe(e))}var Nwe=Object.hasOwn||function(e,t){return jwe.call(e,t)};function ap(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var _we="__v",Swe="__o",Awe="_owner",_O=Object.getOwnPropertyDescriptor,SO=Object.keys;function kwe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function Cwe(e,t){return ap(e.getTime(),t.getTime())}function Pwe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ewe(e,t){return e===t}function AO(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(a[h]){h++;continue}var p=o.value,f=l.value;if(r.equals(p[0],f[0],c,h,e,t,r)&&r.equals(p[1],f[1],p[0],f[0],e,t,r)){d=a[h]=!0;break}h++}if(!d)return!1;c++}return!0}var Twe=ap;function Owe(e,t,r){var s=SO(e),a=s.length;if(SO(t).length!==a)return!1;for(;a-- >0;)if(!MB(e,t,r,s[a]))return!1;return!0}function B0(e,t,r){var s=NO(e),a=s.length;if(NO(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!MB(e,t,r,i)||(o=_O(e,i),l=_O(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Lwe(e,t){return ap(e.valueOf(),t.valueOf())}function Iwe(e,t){return e.source===t.source&&e.flags===t.flags}function kO(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function Mwe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Dwe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function MB(e,t,r,s){return(s===Awe||s===Swe||s===_we)&&(e.$$typeof||t.$$typeof)?!0:Nwe(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var Rwe="[object Arguments]",Fwe="[object Boolean]",$we="[object Date]",Bwe="[object Error]",zwe="[object Map]",Uwe="[object Number]",qwe="[object Object]",Vwe="[object RegExp]",Wwe="[object Set]",Hwe="[object String]",Gwe="[object URL]",Kwe=Array.isArray,CO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PO=Object.assign,Ywe=Object.prototype.toString.call.bind(Object.prototype.toString);function Zwe(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(x,g,v){if(x===g)return!0;if(x==null||g==null)return!1;var b=typeof x;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(x,g,v):b==="function"?a(x,g,v):!1;var j=x.constructor;if(j!==g.constructor)return!1;if(j===Object)return l(x,g,v);if(Kwe(x))return t(x,g,v);if(CO!=null&&CO(x))return h(x,g,v);if(j===Date)return r(x,g,v);if(j===RegExp)return u(x,g,v);if(j===Map)return i(x,g,v);if(j===Set)return d(x,g,v);var N=Ywe(x);return N===$we?r(x,g,v):N===Vwe?u(x,g,v):N===zwe?i(x,g,v):N===Wwe?d(x,g,v):N===qwe?typeof x.then!="function"&&typeof g.then!="function"&&l(x,g,v):N===Gwe?p(x,g,v):N===Bwe?s(x,g,v):N===Rwe?l(x,g,v):N===Fwe||N===Uwe||N===Hwe?c(x,g,v):!1}}function Xwe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?B0:kwe,areDatesEqual:Cwe,areErrorsEqual:Pwe,areFunctionsEqual:Ewe,areMapsEqual:s?jO(AO,B0):AO,areNumbersEqual:Twe,areObjectsEqual:s?B0:Owe,arePrimitiveWrappersEqual:Lwe,areRegExpsEqual:Iwe,areSetsEqual:s?jO(kO,B0):kO,areTypedArraysEqual:s?B0:Mwe,areUrlsEqual:Dwe};if(r&&(a=PO({},a,r(a))),t){var i=t1(a.areArraysEqual),o=t1(a.areMapsEqual),l=t1(a.areObjectsEqual),c=t1(a.areSetsEqual);a=PO({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Qwe(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function Jwe(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,u){var d=s(),h=d.cache,p=h===void 0?t?new WeakMap:void 0:h,f=d.meta;return r(c,u,{cache:p,equals:a,meta:f,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var eje=sf();sf({strict:!0});sf({circular:!0});sf({circular:!0,strict:!0});sf({createInternalComparator:function(){return ap}});sf({strict:!0,createInternalComparator:function(){return ap}});sf({circular:!0,createInternalComparator:function(){return ap}});sf({circular:!0,createInternalComparator:function(){return ap},strict:!0});function sf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Xwe(e),c=Zwe(l),u=s?s(c):Qwe(c);return Jwe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function tje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):tje(a)};requestAnimationFrame(s)}function p4(e){"@babel/helpers - typeof";return p4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p4(e)}function rje(e){return ije(e)||aje(e)||sje(e)||nje()}function nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sje(e,t){if(e){if(typeof e=="string")return TO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(e,t)}}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function aje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ije(e){if(Array.isArray(e))return e}function oje(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=rje(o),c=l[0],u=l.slice(1);if(typeof c=="number"){EO(a.bind(null,u),c);return}a(c),EO(a.bind(null,u));return}p4(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(s){DB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function DB(e,t,r){return t=lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lje(e){var t=cje(e,"string");return ev(t)==="symbol"?t:String(t)}function cje(e,t){if(ev(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ev(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uje=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},dje=function(t){return t},hje=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hy=function(t,r){return Object.keys(r).reduce(function(s,a){return LO(LO({},s),{},DB({},a,t(a,r[a])))},{})},IO=function(t,r,s){return t.map(function(a){return"".concat(hje(a)," ").concat(r,"ms ").concat(s)}).join(",")};function fje(e,t){return gje(e)||pje(e,t)||RB(e,t)||mje()}function mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gje(e){if(Array.isArray(e))return e}function xje(e){return bje(e)||vje(e)||RB(e)||yje()}function yje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RB(e,t){if(e){if(typeof e=="string")return g4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g4(e,t)}}function vje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bje(e){if(Array.isArray(e))return g4(e)}function g4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var D2=1e-4,FB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$B=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},MO=function(t,r){return function(s){var a=FB(t,r);return $B(a,s)}},wje=function(t,r){return function(s){var a=FB(t,r),i=[].concat(xje(a.map(function(o,l){return o*l}).slice(1)),[0]);return $B(i,s)}},DO=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=fje(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var h=MO(a,o),p=MO(i,l),f=wje(a,o),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var j=b>1?1:b,N=j,A=0;A<8;++A){var S=h(N)-j,L=f(N);if(Math.abs(S-j)<D2||L<D2)return p(N);N=x(N-S/L)}return p(N)};return g.isStepper=!1,g},jje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,h,p){var f=-(d-h)*s,x=p*i,g=p+(f-x)*l/1e3,v=p*l/1e3+d;return Math.abs(v-h)<D2&&Math.abs(g)<D2?[h,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},Nje=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DO(a);case"spring":return jje();default:if(a.split("(")[0]==="cubic-bezier")return DO(a)}return typeof a=="function"?a:null};function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function RO(e){return Aje(e)||Sje(e)||BB(e)||_je()}function _je(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aje(e){if(Array.isArray(e))return y4(e)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(s){x4(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function x4(e,t,r){return t=kje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Cje(e,"string");return tv(t)==="symbol"?t:String(t)}function Cje(e,t){if(tv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pje(e,t){return Oje(e)||Tje(e,t)||BB(e,t)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(e,t){if(e){if(typeof e=="string")return y4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Tje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Oje(e){if(Array.isArray(e))return e}var R2=function(t,r,s){return t+(r-t)*s},v4=function(t){var r=t.from,s=t.to;return r!==s},Lje=function e(t,r,s){var a=hy(function(i,o){if(v4(o)){var l=t(o.from,o.to,o.velocity),c=Pje(l,2),u=c[0],d=c[1];return za(za({},o),{},{from:u,velocity:d})}return o},r);return s<1?hy(function(i,o){return v4(o)?za(za({},o),{},{velocity:R2(o.velocity,a[i].velocity,s),from:R2(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const Ije=function(e,t,r,s,a){var i=uje(e,t),o=i.reduce(function(v,b){return za(za({},v),{},x4({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return za(za({},v),{},x4({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,h=function(){return null},p=function(){return hy(function(b,j){return j.from},l)},f=function(){return!Object.values(l).filter(v4).length},x=function(b){u||(u=b);var j=b-u,N=j/r.dt;l=Lje(r,l,N),a(za(za(za({},e),t),p())),u=b,f()||(c=requestAnimationFrame(h))},g=function(b){d||(d=b);var j=(b-d)/s,N=hy(function(S,L){return R2.apply(void 0,RO(L).concat([r(j)]))},o);if(a(za(za(za({},e),t),N)),j<1)c=requestAnimationFrame(h);else{var A=hy(function(S,L){return R2.apply(void 0,RO(L).concat([r(1)]))},o);a(za(za(za({},e),t),A))}};return h=r.isStepper?x:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}var Mje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dje(e,t){if(e==null)return{};var r=Rje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Rje(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function R5(e){return zje(e)||Bje(e)||$je(e)||Fje()}function Fje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(e,t){if(e){if(typeof e=="string")return b4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b4(e,t)}}function Bje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zje(e){if(Array.isArray(e))return b4(e)}function b4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(s){ty(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ty(e,t,r){return t=zB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qje(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zB(s.key),s)}}function Vje(e,t,r){return t&&qje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zB(e){var t=Wje(e,"string");return Zg(t)==="symbol"?t:String(t)}function Wje(e,t){if(Zg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zg(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w4(e,t)}function w4(e,t){return w4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},w4(e,t)}function Gje(e){var t=Kje();return function(){var s=F2(e),a;if(t){var i=F2(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return j4(this,a)}}function j4(e,t){if(t&&(Zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N4(e)}function N4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F2(e){return F2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F2(e)}var ac=function(e){Hje(r,e);var t=Gje(r);function r(s,a){var i;Uje(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,p=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(N4(i)),i.changeStyle=i.changeStyle.bind(N4(i)),!l||f<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:d}),j4(i);if(h&&h.length)i.state={style:h[0].style};else if(u){if(typeof p=="function")return i.state={style:u},j4(i);i.state={style:c?ty({},c,u):u}}else i.state={style:{}};return i}return Vje(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,h=i.from,p=this.state.style;if(l){if(!o){var f={style:c?ty({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(f);return}if(!(eje(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||u?h:a.to;if(this.state&&p){var v={style:c?ty({},c,g):g};(c&&p[c]!==g||!c&&p!==g)&&this.setState(v)}this.runAnimation(zl(zl({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,h=a.onAnimationEnd,p=a.onAnimationStart,f=Ije(o,l,Nje(u),c,this.changeStyle),x=function(){i.stopJSAnimation=f()};this.manager.start([p,d,x,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,h=u.duration,p=h===void 0?0:h,f=function(g,v,b){if(b===0)return g;var j=v.duration,N=v.easing,A=N===void 0?"ease":N,S=v.style,L=v.properties,I=v.onAnimationEnd,k=b>0?o[b-1]:v,E=L||Object.keys(S);if(typeof A=="function"||A==="spring")return[].concat(R5(g),[i.runJSAnimation.bind(i,{from:k.style,to:S,duration:j,easing:A}),j]);var B=IO(E,j,A),C=zl(zl(zl({},k.style),S),{},{transition:B});return[].concat(R5(g),[C,j,I]).filter(dje)};return this.manager.start([c].concat(R5(o.reduce(f,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=oje());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,h=a.onAnimationEnd,p=a.steps,f=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var g=l?ty({},l,c):c,v=IO(Object.keys(g),o,u);x.start([d,i,zl(zl({},g),{},{transition:v}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Dje(a,Mje),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var h=function(f){var x=f.props,g=x.style,v=g===void 0?{}:g,b=x.className,j=_.cloneElement(f,zl(zl({},c),{},{style:zl(zl({},v),d),className:b}));return j};return u===1?h(_.Children.only(i)):ye.createElement("div",null,_.Children.map(i,function(p){return h(p)}))}}]),r}(_.PureComponent);ac.displayName="Animate";ac.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ac.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$2.apply(this,arguments)}function Yje(e,t){return Jje(e)||Qje(e,t)||Xje(e,t)||Zje()}function Zje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xje(e,t){if(e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Jje(e){if(Array.isArray(e))return e}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function UO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(s){eNe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eNe(e,t,r){return t=tNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tNe(e){var t=rNe(e,"string");return rv(t)=="symbol"?t:t+""}function rNe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qO=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,f=4;p<f;p++)h[p]=i[p]>o?o:i[p];d="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(r)),d+="L ".concat(t+s-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(r+l*h[1])),d+="L ".concat(t+s,",").concat(r+a-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+s-c*h[2],",").concat(r+a)),d+="L ".concat(t+c*h[3],",").concat(r+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return d},nNe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return s>=u&&s<=d&&a>=h&&a<=p}return!1},sNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b3=function(t){var r=UO(UO({},sNe),t),s=_.useRef(),a=_.useState(-1),i=Yje(a,2),o=i[0],l=i[1];_.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var A=s.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,p=r.radius,f=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var N=xr("recharts-rectangle",f);return j?ye.createElement(ac,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:x,isActive:j},function(A){var S=A.width,L=A.height,I=A.x,k=A.y;return ye.createElement(ac,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:x},ye.createElement("path",$2({},Ft(r,!0),{className:N,d:qO(I,k,S,L,p),ref:s})))}):ye.createElement("path",$2({},Ft(r,!0),{className:N,d:qO(c,u,d,h,p)}))},aNe=["points","className","baseLinePoints","connectNulls"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ng.apply(this,arguments)}function iNe(e,t){if(e==null)return{};var r=oNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function oNe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function VO(e){return dNe(e)||uNe(e)||cNe(e)||lNe()}function lNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cNe(e,t){if(e){if(typeof e=="string")return _4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _4(e,t)}}function uNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dNe(e){if(Array.isArray(e))return _4(e)}function _4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var WO=function(t){return t&&t.x===+t.x&&t.y===+t.y},hNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){WO(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),WO(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},fy=function(t,r){var s=hNe(t);r&&(s=[s.reduce(function(i,o){return[].concat(VO(i),VO(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},fNe=function(t,r,s){var a=fy(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(fy(r.reverse(),s).slice(1))},mNe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=iNe(t,aNe);if(!r||!r.length)return null;var l=xr("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=fNe(r,a,i);return ye.createElement("g",{className:l},ye.createElement("path",ng({},Ft(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ye.createElement("path",ng({},Ft(o,!0),{fill:"none",d:fy(r,i)})):null,c?ye.createElement("path",ng({},Ft(o,!0),{fill:"none",d:fy(a,i)})):null)}var d=fy(r,i);return ye.createElement("path",ng({},Ft(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function S4(){return S4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},S4.apply(this,arguments)}var Uv=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=xr("recharts-dot",i);return r===+r&&s===+s&&a===+a?_.createElement("circle",S4({},Ft(t,!1),a2(t),{className:o,cx:r,cy:s,r:a})):null};function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var pNe=["x","y","top","left","width","height","className"];function A4(){return A4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},A4.apply(this,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(s){xNe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xNe(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=vNe(e,"string");return nv(t)=="symbol"?t:t+""}function vNe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bNe(e,t){if(e==null)return{};var r=wNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function wNe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var jNe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},NNe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,h=d===void 0?0:d,p=t.height,f=p===void 0?0:p,x=t.className,g=bNe(t,pNe),v=gNe({x:s,y:i,top:l,left:u,width:h,height:f},g);return!ot(s)||!ot(i)||!ot(h)||!ot(f)||!ot(l)||!ot(u)?null:ye.createElement("path",A4({},Ft(v,!0),{className:xr("recharts-cross",x),d:jNe(s,i,h,f,l,u)}))},_Ne=Sj,SNe=rB,ANe=iu;function kNe(e,t){return e&&e.length?_Ne(e,ANe(t),SNe):void 0}var CNe=kNe;const PNe=pn(CNe);var ENe=Sj,TNe=iu,ONe=nB;function LNe(e,t){return e&&e.length?ENe(e,TNe(t),ONe):void 0}var INe=LNe;const MNe=pn(INe);var DNe=["cx","cy","angle","ticks","axisLine"],RNe=["ticks","tick","angle","tickFormatter","stroke"];function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},my.apply(this,arguments)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(s){Pj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KO(e,t){if(e==null)return{};var r=FNe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function FNe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function $Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qB(s.key),s)}}function BNe(e,t,r){return t&&YO(e.prototype,t),r&&YO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zNe(e,t,r){return t=B2(t),UNe(e,UB()?Reflect.construct(t,r||[],B2(e).constructor):t.apply(e,r))}function UNe(e,t){if(t&&(Xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qNe(e)}function qNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!e})()}function B2(e){return B2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B2(e)}function VNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k4(e,t)}function k4(e,t){return k4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},k4(e,t)}function Pj(e,t,r){return t=qB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=WNe(e,"string");return Xg(t)=="symbol"?t:t+""}function WNe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ej=function(e){function t(){return $Ne(this,t),zNe(this,t,arguments)}return VNe(t,e),BNe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return zn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=PNe(l,function(d){return d.coordinate||0}),u=MNe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=KO(s,DNe),d=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),h=zn(a,i,d[0],o),p=zn(a,i,d[1],o),f=Bf(Bf(Bf({},Ft(u,!1)),{},{fill:"none"},Ft(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ye.createElement("line",my({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=KO(a,RNe),h=this.getTickTextAnchor(),p=Ft(d,!1),f=Ft(o,!1),x=i.map(function(g,v){var b=s.getTickValueCoord(g),j=Bf(Bf(Bf(Bf({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},f),{},{index:v},b),{},{payload:g});return ye.createElement(Ur,my({className:xr("recharts-polar-radius-axis-tick",TB(o)),key:"tick-".concat(g.coordinate)},Rm(s.props,g,v)),t.renderTickItem(o,j,c?c(g.value,v):g.value))});return ye.createElement(Ur,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:ye.createElement(Ur,{className:xr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Oa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ye.isValidElement(s)?o=ye.cloneElement(s,a):er(s)?o=s(a):o=ye.createElement(Fm,my({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(_.PureComponent);Pj(Ej,"displayName","PolarRadiusAxis");Pj(Ej,"axisType","radiusAxis");Pj(Ej,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qf.apply(this,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(s){Tj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function HNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XO(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WB(s.key),s)}}function GNe(e,t,r){return t&&XO(e.prototype,t),r&&XO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KNe(e,t,r){return t=z2(t),YNe(e,VB()?Reflect.construct(t,r||[],z2(e).constructor):t.apply(e,r))}function YNe(e,t){if(t&&(Qg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZNe(e)}function ZNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VB=function(){return!!e})()}function z2(e){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z2(e)}function XNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C4(e,t)}function C4(e,t){return C4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},C4(e,t)}function Tj(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=QNe(e,"string");return Qg(t)=="symbol"?t:t+""}function QNe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JNe=Math.PI/180,QO=1e-5,Oj=function(e){function t(){return HNe(this,t),KNe(this,t,arguments)}return XNe(t,e),GNe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,h=zn(i,o,l,s.coordinate),p=zn(i,o,l+(c==="inner"?-1:1)*d,s.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*JNe),o;return i>QO?o=a==="outer"?"start":"end":i<-QO?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=zf(zf({},Ft(this.props,!1)),{},{fill:"none"},Ft(l,!1));if(c==="circle")return ye.createElement(Uv,Qf({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,h=d.map(function(p){return zn(a,i,o,p.coordinate)});return ye.createElement(mNe,Qf({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ft(this.props,!1),h=Ft(o,!1),p=zf(zf({},d),{},{fill:"none"},Ft(l,!1)),f=i.map(function(x,g){var v=s.getTickLineCoord(x),b=s.getTickTextAnchor(x),j=zf(zf(zf({textAnchor:b},d),{},{stroke:"none",fill:u},h),{},{index:g,payload:x,x:v.x2,y:v.y2});return ye.createElement(Ur,Qf({className:xr("recharts-polar-angle-axis-tick",TB(o)),key:"tick-".concat(x.coordinate)},Rm(s.props,x,g)),l&&ye.createElement("line",Qf({className:"recharts-polar-angle-axis-tick-line"},p,v)),o&&t.renderTickItem(o,j,c?c(x.value,g):x.value))});return ye.createElement(Ur,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:ye.createElement(Ur,{className:xr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ye.isValidElement(s)?o=ye.cloneElement(s,a):er(s)?o=s(a):o=ye.createElement(Fm,Qf({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(_.PureComponent);Tj(Oj,"displayName","PolarAngleAxis");Tj(Oj,"axisType","angleAxis");Tj(Oj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var e5e=Q9,t5e=e5e(Object.getPrototypeOf,Object),r5e=t5e,n5e=ud,s5e=r5e,a5e=dd,i5e="[object Object]",o5e=Function.prototype,l5e=Object.prototype,HB=o5e.toString,c5e=l5e.hasOwnProperty,u5e=HB.call(Object);function d5e(e){if(!a5e(e)||n5e(e)!=i5e)return!1;var t=s5e(e);if(t===null)return!0;var r=c5e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&HB.call(r)==u5e}var h5e=d5e;const f5e=pn(h5e);var m5e=ud,p5e=dd,g5e="[object Boolean]";function x5e(e){return e===!0||e===!1||p5e(e)&&m5e(e)==g5e}var y5e=x5e;const v5e=pn(y5e);function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},U2.apply(this,arguments)}function b5e(e,t){return _5e(e)||N5e(e,t)||j5e(e,t)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j5e(e,t){if(e){if(typeof e=="string")return JO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JO(e,t)}}function JO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function N5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _5e(e){if(Array.isArray(e))return e}function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function t8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(s){S5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function S5e(e,t,r){return t=A5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A5e(e){var t=k5e(e,"string");return sv(t)=="symbol"?t:t+""}function k5e(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},C5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P5e=function(t){var r=t8(t8({},C5e),t),s=_.useRef(),a=_.useState(-1),i=b5e(a,2),o=i[0],l=i[1];_.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,p=r.height,f=r.className,x=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||p!==+p||d===0&&h===0||p===0)return null;var j=xr("recharts-trapezoid",f);return b?ye.createElement(ac,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:p,x:c,y:u},duration:g,animationEasing:x,isActive:b},function(N){var A=N.upperWidth,S=N.lowerWidth,L=N.height,I=N.x,k=N.y;return ye.createElement(ac,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:x},ye.createElement("path",U2({},Ft(r,!0),{className:j,d:r8(I,k,A,S,L),ref:s})))}):ye.createElement("g",null,ye.createElement("path",U2({},Ft(r,!0),{className:j,d:r8(c,u,d,h,p)})))},E5e=["option","shapeType","propTransformer","activeClassName","isActive"];function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function T5e(e,t){if(e==null)return{};var r=O5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function O5e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function n8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function q2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(r),!0).forEach(function(s){L5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function L5e(e,t,r){return t=I5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5e(e){var t=M5e(e,"string");return av(t)=="symbol"?t:t+""}function M5e(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(av(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D5e(e,t){return q2(q2({},t),e)}function R5e(e,t){return e==="symbols"}function s8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ye.createElement(b3,r);case"trapezoid":return ye.createElement(P5e,r);case"sector":return ye.createElement(IB,r);case"symbols":if(R5e(t))return ye.createElement($6,r);break;default:return null}}function F5e(e){return _.isValidElement(e)?e.props:e}function GB(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?D5e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=T5e(e,E5e),u;if(_.isValidElement(t))u=_.cloneElement(t,q2(q2({},c),F5e(t)));else if(er(t))u=t(c);else if(f5e(t)&&!v5e(t)){var d=a(t,c);u=ye.createElement(s8,{shapeType:r,elementProps:d})}else{var h=c;u=ye.createElement(s8,{shapeType:r,elementProps:h})}return l?ye.createElement(Ur,{className:o},u):u}function Lj(e,t){return t!=null&&"trapezoids"in e.props}function Ij(e,t){return t!=null&&"sectors"in e.props}function iv(e,t){return t!=null&&"points"in e.props}function $5e(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function B5e(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function z5e(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function U5e(e,t){var r;return Lj(e,t)?r=$5e:Ij(e,t)?r=B5e:iv(e,t)&&(r=z5e),r}function q5e(e,t){var r;return Lj(e,t)?r="trapezoids":Ij(e,t)?r="sectors":iv(e,t)&&(r="points"),r}function V5e(e,t){if(Lj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ij(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return iv(e,t)?t.payload:{}}function W5e(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=q5e(r,t),i=V5e(r,t),o=s.filter(function(c,u){var d=$m(i,c),h=r.props[a].filter(function(x){var g=U5e(r,t);return g(x,t)}),p=r.props[a].indexOf(h[h.length-1]),f=u===p;return d&&f}),l=s.indexOf(o[o.length-1]);return l}var I1;function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sg.apply(this,arguments)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(s){dl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function H5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YB(s.key),s)}}function G5e(e,t,r){return t&&i8(e.prototype,t),r&&i8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K5e(e,t,r){return t=V2(t),Y5e(e,KB()?Reflect.construct(t,r||[],V2(e).constructor):t.apply(e,r))}function Y5e(e,t){if(t&&(Jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z5e(e)}function Z5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!e})()}function V2(e){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V2(e)}function X5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P4(e,t)}function P4(e,t){return P4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},P4(e,t)}function dl(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=Q5e(e,"string");return Jg(t)=="symbol"?t:t+""}function Q5e(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Jg(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uc=function(e){function t(r){var s;return H5e(this,t),s=K5e(this,t,[r]),dl(s,"pieRef",null),dl(s,"sectorRefs",[]),dl(s,"id",rp("recharts-pie-")),dl(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),er(a)&&a()}),dl(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),er(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return X5e(t,e),G5e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ft(this.props,!1),h=Ft(o,!1),p=Ft(l,!1),f=o&&o.offsetRadius||20,x=s.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,j=zn(g.cx,g.cy,g.outerRadius+f,b),N=$n($n($n($n({},d),g),{},{stroke:"none"},h),{},{index:v,textAnchor:t.getTextAnchor(j.x,g.cx)},j),A=$n($n($n($n({},d),g),{},{fill:"none",stroke:g.fill},p),{},{index:v,points:[zn(g.cx,g.cy,g.outerRadius,b),j]}),S=c;return fr(c)&&fr(u)?S="value":fr(c)&&(S=u),ye.createElement(Ur,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,A,"line"),t.renderLabelItem(o,N,Us(g,S)))});return ye.createElement(Ur,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,f=h?o:p,x=$n($n({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ye.createElement(Ur,sg({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Rm(a.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ye.createElement(GB,sg({option:f,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,h=this.state,p=h.prevSectors,f=h.prevIsAnimationActive;return ye.createElement(ac,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,v=[],b=i&&i[0],j=b.startAngle;return i.forEach(function(N,A){var S=p&&p[A],L=A>0?Ro(N,"paddingAngle",0):0;if(S){var I=ya(S.endAngle-S.startAngle,N.endAngle-N.startAngle),k=$n($n({},N),{},{startAngle:j+L,endAngle:j+I(g)+L});v.push(k),j=k.endAngle}else{var E=N.endAngle,B=N.startAngle,C=ya(0,E-B),O=C(g),M=$n($n({},N),{},{startAngle:j+L,endAngle:j+O+L});v.push(M),j=M.endAngle}}),ye.createElement(Ur,null,s.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!$m(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,h=a.innerRadius,p=a.outerRadius,f=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!ot(u)||!ot(d)||!ot(h)||!ot(p))return null;var g=xr("recharts-pie",l);return ye.createElement(Ur,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){s.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Oa.renderCallByParent(this.props,null,!1),(!f||x)&&Kc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(ye.isValidElement(s))return ye.cloneElement(s,a);if(er(s))return s(a);var o=xr("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return ye.createElement(Nm,sg({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(ye.isValidElement(s))return ye.cloneElement(s,a);var o=i;if(er(s)&&(o=s(a),ye.isValidElement(o)))return o;var l=xr("recharts-pie-label-text",typeof s!="boolean"&&!er(s)?s.className:"");return ye.createElement(Fm,sg({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);I1=uc;dl(uc,"displayName","Pie");dl(uc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dl(uc,"parseDeltaAngle",function(e,t){var r=Li(t-e),s=Math.min(Math.abs(t-e),360);return r*s});dl(uc,"getRealPieData",function(e){var t=e.data,r=e.children,s=Ft(e,!1),a=Fo(r,$x);return t&&t.length?t.map(function(i,o){return $n($n($n({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return $n($n({},s),i.props)}):[]});dl(uc,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=EB(a,i),l=s+Ii(e.cx,a,a/2),c=r+Ii(e.cy,i,i/2),u=Ii(e.innerRadius,o,0),d=Ii(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});dl(uc,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?$n($n({},t.type.defaultProps),t.props):t.props,a=I1.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,d=s.nameKey,h=s.valueKey,p=s.tooltipType,f=Math.abs(s.minAngle),x=I1.parseCoordinateOfPie(s,r),g=I1.parseDeltaAngle(o,l),v=Math.abs(g),b=u;fr(u)&&fr(h)?(rc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):fr(u)&&(rc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var j=a.filter(function(k){return Us(k,b,0)!==0}).length,N=(v>=360?j:j-1)*c,A=v-j*f-N,S=a.reduce(function(k,E){var B=Us(E,b,0);return k+(ot(B)?B:0)},0),L;if(S>0){var I;L=a.map(function(k,E){var B=Us(k,b,0),C=Us(k,d,E),O=(ot(B)?B:0)/S,M;E?M=I.endAngle+Li(g)*c*(B!==0?1:0):M=o;var D=M+Li(g)*((B!==0?f:0)+O*A),W=(M+D)/2,z=(x.innerRadius+x.outerRadius)/2,G=[{name:C,value:B,payload:k,dataKey:b,type:p}],V=zn(x.cx,x.cy,z,W);return I=$n($n($n({percent:O,cornerRadius:i,name:C,tooltipPayload:G,midAngle:W,middleRadius:z,tooltipPosition:V},k),x),{},{value:Us(k,b),startAngle:M,endAngle:D,payload:k,paddingAngle:Li(g)*c}),I})}return $n($n({},x),{},{sectors:L,data:a})});var J5e=Math.ceil,e_e=Math.max;function t_e(e,t,r,s){for(var a=-1,i=e_e(J5e((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var r_e=t_e,n_e=x$,o8=1/0,s_e=17976931348623157e292;function a_e(e){if(!e)return e===0?e:0;if(e=n_e(e),e===o8||e===-o8){var t=e<0?-1:1;return t*s_e}return e===e?e:0}var ZB=a_e,i_e=r_e,o_e=yj,F5=ZB;function l_e(e){return function(t,r,s){return s&&typeof s!="number"&&o_e(t,r,s)&&(r=s=void 0),t=F5(t),r===void 0?(r=t,t=0):r=F5(r),s=s===void 0?t<r?1:-1:F5(s),i_e(t,r,s,e)}}var c_e=l_e,u_e=c_e,d_e=u_e(),h_e=d_e;const W2=pn(h_e);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function c8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(s){XB(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XB(e,t,r){return t=f_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f_e(e){var t=m_e(e,"string");return ov(t)=="symbol"?t:t+""}function m_e(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ov(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p_e=["Webkit","Moz","O","ms"],g_e=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=p_e.reduce(function(i,o){return c8(c8({},i),{},XB({},o+s,r))},{});return a[t]=r,a};function ex(e){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ex(e)}function H2(){return H2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H2.apply(this,arguments)}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(s){_o(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function x_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JB(s.key),s)}}function y_e(e,t,r){return t&&d8(e.prototype,t),r&&d8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v_e(e,t,r){return t=G2(t),b_e(e,QB()?Reflect.construct(t,r||[],G2(e).constructor):t.apply(e,r))}function b_e(e,t){if(t&&(ex(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w_e(e)}function w_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function G2(e){return G2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G2(e)}function j_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E4(e,t)}function E4(e,t){return E4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},E4(e,t)}function _o(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=N_e(e,"string");return ex(t)=="symbol"?t:t+""}function N_e(e,t){if(ex(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ex(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var __e=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=uy().domain(W2(0,c)).range([i,i+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:d}},h8=function(t){return t.changedTouches&&!!t.changedTouches.length},tx=function(e){function t(r){var s;return x_e(this,t),s=v_e(this,t,[r]),_o(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),_o(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),_o(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),_o(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),_o(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),_o(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),_o(s,"handleSlideDragStart",function(a){var i=h8(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return j_e(t,e),y_e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(a,i),p=Math.max(a,i),f=t.getIndexInRange(o,h),x=t.getIndexInRange(o,p);return{startIndex:f-f%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Us(i[s],l,s);return er(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,p=c.startIndex,f=c.endIndex,x=c.onChange,g=s.pageX-i;g>0?g=Math.min(g,u+d-h-l,u+d-h-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==p||v.endIndex!==f)&&x&&x(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=h8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,h=d.x,p=d.width,f=d.travellerWidth,x=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},j=s.pageX-i;j>0?j=Math.min(j,h+p-f-u):j<0&&(j=Math.max(j,h-u)),b[o]=u+j;var N=this.getIndex(b),A=N.startIndex,S=N.endIndex,L=function(){var k=v.length-1;return o==="startX"&&(l>c?A%g===0:S%g===0)||l<c&&S===k||o==="endX"&&(l>c?S%g===0:A%g===0)||l>c&&S===k};this.setState(_o(_o({},o,u+j),"brushMoveStartX",s.pageX),function(){x&&L()&&x(N)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],h=l.indexOf(d);if(h!==-1){var p=h+s;if(!(p===-1||p>=l.length)){var f=l[p];a==="startX"&&f>=u||a==="endX"&&f<=c||this.setState(_o({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return ye.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,u=s.children,d=s.padding,h=_.Children.only(u);return h?ye.cloneElement(h,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,p=c.traveller,f=c.ariaLabel,x=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(s,this.props.x),j=$5($5({},Ft(this.props,!1)),{},{x:b,y:u,width:d,height:h}),N=f||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return ye.createElement(Ur,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,j))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(s,a)+u,h=Math.max(Math.abs(a-s)-u,0);return ye.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,d=this.state,h=d.startX,p=d.endX,f=5,x={pointerEvents:"none",fill:u};return ye.createElement(Ur,{className:"recharts-brush-texts"},ye.createElement(Fm,H2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-f,y:o+l/2},x),this.getTextOfTick(a)),ye.createElement(Fm,H2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+f,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,u=s.width,d=s.height,h=s.alwaysShowText,p=this.state,f=p.startX,x=p.endX,g=p.isTextActive,v=p.isSlideMoving,b=p.isTravellerMoving,j=p.isTravellerFocused;if(!a||!a.length||!ot(l)||!ot(c)||!ot(u)||!ot(d)||u<=0||d<=0)return null;var N=xr("recharts-brush",i),A=ye.Children.count(o)===1,S=g_e("userSelect","none");return ye.createElement(Ur,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(f,x),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(x,"endX"),(g||v||b||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(i+l/2)-1;return ye.createElement(ye.Fragment,null,ye.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ye.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ye.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return ye.isValidElement(s)?i=ye.cloneElement(s,a):er(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,d=s.startIndex,h=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return $5({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?__e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(_.PureComponent);_o(tx,"displayName","Brush");_o(tx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var S_e=H6;function A_e(e,t){var r;return S_e(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var k_e=A_e,C_e=V9,P_e=iu,E_e=k_e,T_e=to,O_e=yj;function L_e(e,t,r){var s=T_e(e)?C_e:E_e;return r&&O_e(e,t,r)&&(t=void 0),s(e,P_e(t))}var I_e=L_e;const M_e=pn(I_e);var Yc=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},f8=h$;function D_e(e,t,r){t=="__proto__"&&f8?f8(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var R_e=D_e,F_e=R_e,$_e=u$,B_e=iu;function z_e(e,t){var r={};return t=B_e(t),$_e(e,function(s,a,i){F_e(r,a,t(s,a,i))}),r}var U_e=z_e;const q_e=pn(U_e);function V_e(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var W_e=V_e,H_e=H6;function G_e(e,t){var r=!0;return H_e(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var K_e=G_e,Y_e=W_e,Z_e=K_e,X_e=iu,Q_e=to,J_e=yj;function eSe(e,t,r){var s=Q_e(e)?Y_e:Z_e;return r&&J_e(e,t,r)&&(t=void 0),s(e,X_e(t))}var tSe=eSe;const ez=pn(tSe);var rSe=["x","y"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function T4(){return T4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},T4.apply(this,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(s){nSe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nSe(e,t,r){return t=sSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sSe(e){var t=aSe(e,"string");return lv(t)=="symbol"?t:t+""}function aSe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iSe(e,t){if(e==null)return{};var r=oSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function oSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function lSe(e,t){var r=e.x,s=e.y,a=iSe(e,rSe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),h="".concat(t.width||a.width),p=parseInt(h,10);return z0(z0(z0(z0(z0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function p8(e){return ye.createElement(GB,T4({shapeType:"rectangle",propTransformer:lSe,activeClassName:"recharts-active-bar"},e))}var cSe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=ot(s)||Boe(s);return i?t(s,a):(i||zm(),r)}},uSe=["value","background"],tz;function rx(e){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rx(e)}function dSe(e,t){if(e==null)return{};var r=hSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},K2.apply(this,arguments)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(s){kh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,nz(s.key),s)}}function mSe(e,t,r){return t&&x8(e.prototype,t),r&&x8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pSe(e,t,r){return t=Y2(t),gSe(e,rz()?Reflect.construct(t,r||[],Y2(e).constructor):t.apply(e,r))}function gSe(e,t){if(t&&(rx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(e)}function xSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!e})()}function Y2(e){return Y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y2(e)}function ySe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O4(e,t)}function O4(e,t){return O4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},O4(e,t)}function kh(e,t,r){return t=nz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=vSe(e,"string");return rx(t)=="symbol"?t:t+""}function vSe(e,t){if(rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xu=function(e){function t(){var r;fSe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=pSe(this,t,[].concat(a)),kh(r,"state",{isAnimationFinished:!1}),kh(r,"id",rp("recharts-bar-")),kh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),kh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ySe(t,e),mSe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ft(this.props,!1);return s&&s.map(function(h,p){var f=p===c,x=f?u:o,g=Js(Js(Js({},d),h),{},{isActive:f,option:x,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ye.createElement(Ur,K2({className:"recharts-bar-rectangle"},Rm(a.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),ye.createElement(p8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,h=a.animationId,p=this.state.prevData;return ye.createElement(ac,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var x=f.t,g=i.map(function(v,b){var j=p&&p[b];if(j){var N=ya(j.x,v.x),A=ya(j.y,v.y),S=ya(j.width,v.width),L=ya(j.height,v.height);return Js(Js({},v),{},{x:N(x),y:A(x),width:S(x),height:L(x)})}if(o==="horizontal"){var I=ya(0,v.height),k=I(x);return Js(Js({},v),{},{y:v.y+v.height-k,height:k})}var E=ya(0,v.width),B=E(x);return Js(Js({},v),{},{width:B})});return ye.createElement(Ur,null,s.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!$m(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ft(this.props.background,!1);return i.map(function(u,d){u.value;var h=u.background,p=dSe(u,uSe);if(!h)return null;var f=Js(Js(Js(Js(Js({},p),{},{fill:"#eee"},h),c),Rm(s.props,u,d)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ye.createElement(p8,K2({key:"background-bar-".concat(d),option:s.props.background,isActive:d===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Fo(d,zv);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,f=function(v,b){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:Us(v,b)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ye.createElement(Ur,x,h.map(function(g){return ye.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,d=s.top,h=s.width,p=s.height,f=s.isAnimationActive,x=s.background,g=s.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=xr("recharts-bar",o),j=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,A=j||N,S=fr(g)?this.id:g;return ye.createElement(Ur,{className:b},j||N?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(S)},ye.createElement("rect",{x:j?u:u-h/2,y:N?d:d-p/2,width:j?h:h*2,height:N?p:p*2}))):null,ye.createElement(Ur,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(S,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,S),(!f||v)&&Kc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(_.PureComponent);tz=Xu;kh(Xu,"displayName","Bar");kh(Xu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kh(Xu,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,p=e.offset,f=s2e(s,r);if(!f)return null;var x=t.layout,g=r.type.defaultProps,v=g!==void 0?Js(Js({},g),r.props):r.props,b=v.dataKey,j=v.children,N=v.minPointSize,A=x==="horizontal"?o:i,S=u?A.scale.domain():null,L=d2e({numericAxis:A}),I=Fo(j,$x),k=h.map(function(E,B){var C,O,M,D,W,z;u?C=a2e(u[d+B],S):(C=Us(E,b),Array.isArray(C)||(C=[L,C]));var G=cSe(N,tz.defaultProps.minPointSize)(C[1],B);if(x==="horizontal"){var V,Y=[o.scale(C[0]),o.scale(C[1])],ie=Y[0],q=Y[1];O=iO({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:E,index:B}),M=(V=q??ie)!==null&&V!==void 0?V:void 0,D=f.size;var R=ie-q;if(W=Number.isNaN(R)?0:R,z={x:O,y:o.y,width:D,height:o.height},Math.abs(G)>0&&Math.abs(W)<Math.abs(G)){var K=Li(W||G)*(Math.abs(G)-Math.abs(W));M-=K,W+=K}}else{var Z=[i.scale(C[0]),i.scale(C[1])],se=Z[0],ue=Z[1];if(O=se,M=iO({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:E,index:B}),D=ue-se,W=f.size,z={x:i.x,y:M,width:i.width,height:W},Math.abs(G)>0&&Math.abs(D)<Math.abs(G)){var ae=Li(D||G)*(Math.abs(G)-Math.abs(D));D+=ae}}return Js(Js(Js({},E),{},{x:O,y:M,width:D,height:W,value:u?C:C[1],payload:E,background:z},I&&I[B]&&I[B].props),{},{tooltipPayload:[CB(r,E)],tooltipPosition:{x:O+D/2,y:M+W/2}})});return Js({data:k,layout:x},p)});function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function bSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sz(s.key),s)}}function wSe(e,t,r){return t&&y8(e.prototype,t),r&&y8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(s){Mj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Mj(e,t,r){return t=sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=jSe(e,"string");return cv(t)=="symbol"?t:t+""}function jSe(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w3=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},p=!!Ao(u,Xu);return d.reduce(function(f,x){var g=r[x],v=g.orientation,b=g.domain,j=g.padding,N=j===void 0?{}:j,A=g.mirror,S=g.reversed,L="".concat(v).concat(A?"Mirror":""),I,k,E,B,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],M=1/0,D=g.categoricalDomain.sort(qoe);if(D.forEach(function(Z,se){se>0&&(M=Math.min((Z||0)-(D[se-1]||0),M))}),Number.isFinite(M)){var W=M/O,z=g.layout==="vertical"?s.height:s.width;if(g.padding==="gap"&&(I=W*z/2),g.padding==="no-gap"){var G=Ii(t.barCategoryGap,W*z),V=W*z/2;I=V-G-(V-G)/z*G}}}a==="xAxis"?k=[s.left+(N.left||0)+(I||0),s.left+s.width-(N.right||0)-(I||0)]:a==="yAxis"?k=c==="horizontal"?[s.top+s.height-(N.bottom||0),s.top+(N.top||0)]:[s.top+(N.top||0)+(I||0),s.top+s.height-(N.bottom||0)-(I||0)]:k=g.range,S&&(k=[k[1],k[0]]);var Y=_B(g,i,p),ie=Y.scale,q=Y.realScaleType;ie.domain(b).range(k),SB(ie);var R=AB(ie,Kl(Kl({},g),{},{realScaleType:q}));a==="xAxis"?(C=v==="top"&&!A||v==="bottom"&&A,E=s.left,B=h[L]-C*g.height):a==="yAxis"&&(C=v==="left"&&!A||v==="right"&&A,E=h[L]-C*g.width,B=s.top);var K=Kl(Kl(Kl({},g),R),{},{realScaleType:q,x:E,y:B,scale:ie,width:a==="xAxis"?s.width:g.width,height:a==="yAxis"?s.height:g.height});return K.bandSize=L2(K,R),!g.hide&&a==="xAxis"?h[L]+=(C?-1:1)*K.height:g.hide||(h[L]+=(C?-1:1)*K.width),Kl(Kl({},f),{},Mj({},x,K))},{})},az=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},NSe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return az({x:r,y:s},{x:a,y:i})},iz=function(){function e(t){bSe(this,e),this.scale=t}return wSe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Mj(iz,"EPS",1e-4);var j3=function(t){var r=Object.keys(t).reduce(function(s,a){return Kl(Kl({},s),{},Mj({},a,iz.create(t[a])))},{});return Kl(Kl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return q_e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return ez(a,function(i,o){return r[o].isInRange(i)})}})};function _Se(e){return(e%180+180)%180}var SSe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=_Se(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ASe=iu,kSe=Dv,CSe=gj;function PSe(e){return function(t,r,s){var a=Object(t);if(!kSe(t)){var i=ASe(r);t=CSe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var ESe=PSe,TSe=ZB;function OSe(e){var t=TSe(e),r=t%1;return t===t?r?t-r:t:0}var LSe=OSe,ISe=s$,MSe=iu,DSe=LSe,RSe=Math.max;function FSe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:DSe(r);return a<0&&(a=RSe(s+a,0)),ISe(e,MSe(t),a)}var $Se=FSe,BSe=ESe,zSe=$Se,USe=BSe(zSe),qSe=USe;const VSe=pn(qSe);var WSe=Vie(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),N3=_.createContext(void 0),_3=_.createContext(void 0),oz=_.createContext(void 0),lz=_.createContext({}),cz=_.createContext(void 0),uz=_.createContext(0),dz=_.createContext(0),b8=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=WSe(i);return ye.createElement(N3.Provider,{value:s},ye.createElement(_3.Provider,{value:a},ye.createElement(lz.Provider,{value:i},ye.createElement(oz.Provider,{value:d},ye.createElement(cz.Provider,{value:o},ye.createElement(uz.Provider,{value:u},ye.createElement(dz.Provider,{value:c},l)))))))},HSe=function(){return _.useContext(cz)},hz=function(t){var r=_.useContext(N3);r==null&&zm();var s=r[t];return s==null&&zm(),s},GSe=function(){var t=_.useContext(N3);return mh(t)},KSe=function(){var t=_.useContext(_3),r=VSe(t,function(s){return ez(s.domain,Number.isFinite)});return r||mh(t)},fz=function(t){var r=_.useContext(_3);r==null&&zm();var s=r[t];return s==null&&zm(),s},YSe=function(){var t=_.useContext(oz);return t},ZSe=function(){return _.useContext(lz)},S3=function(){return _.useContext(dz)},A3=function(){return _.useContext(uz)};function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function XSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QSe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pz(s.key),s)}}function JSe(e,t,r){return t&&QSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e4e(e,t,r){return t=Z2(t),t4e(e,mz()?Reflect.construct(t,r||[],Z2(e).constructor):t.apply(e,r))}function t4e(e,t){if(t&&(nx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r4e(e)}function r4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!e})()}function Z2(e){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z2(e)}function n4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},L4(e,t)}function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function j8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(s){k3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function k3(e,t,r){return t=pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pz(e){var t=s4e(e,"string");return nx(t)=="symbol"?t:t+""}function s4e(e,t){if(nx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a4e(e,t){return c4e(e)||l4e(e,t)||o4e(e,t)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(e,t){if(e){if(typeof e=="string")return N8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N8(e,t)}}function N8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function l4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function c4e(e){if(Array.isArray(e))return e}function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},I4.apply(this,arguments)}var u4e=function(t,r){var s;return ye.isValidElement(t)?s=ye.cloneElement(t,r):er(t)?s=t(r):s=ye.createElement("line",I4({},r,{className:"recharts-reference-line-line"})),s},d4e=function(t,r,s,a,i,o,l,c,u){var d=i.x,h=i.y,p=i.width,f=i.height;if(s){var x=u.y,g=t.y.apply(x,{position:o});if(Yc(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+p,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var b=u.x,j=t.x.apply(b,{position:o});if(Yc(u,"discard")&&!t.x.isInRange(j))return null;var N=[{x:j,y:h+f},{x:j,y:h}];return l==="top"?N.reverse():N}if(a){var A=u.segment,S=A.map(function(L){return t.apply(L,{position:o})});return Yc(u,"discard")&&M_e(S,function(L){return!t.isInRange(L)})?null:S}return null};function h4e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=HSe(),d=hz(a),h=fz(i),p=YSe();if(!u||!p)return null;rc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=j3({x:d.scale,y:h.scale}),x=va(t),g=va(r),v=s&&s.length===2,b=d4e(f,x,g,v,p,e.position,d.orientation,h.orientation,e);if(!b)return null;var j=a4e(b,2),N=j[0],A=N.x,S=N.y,L=j[1],I=L.x,k=L.y,E=Yc(e,"hidden")?"url(#".concat(u,")"):void 0,B=j8(j8({clipPath:E},Ft(e,!0)),{},{x1:A,y1:S,x2:I,y2:k});return ye.createElement(Ur,{className:xr("recharts-reference-line",l)},u4e(o,B),Oa.renderCallByParent(e,NSe({x1:A,y1:S,x2:I,y2:k})))}var C3=function(e){function t(){return XSe(this,t),e4e(this,t,arguments)}return n4e(t,e),JSe(t,[{key:"render",value:function(){return ye.createElement(h4e,this.props)}}])}(ye.Component);k3(C3,"displayName","ReferenceLine");k3(C3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M4.apply(this,arguments)}function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(s){Dj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m4e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xz(s.key),s)}}function p4e(e,t,r){return t&&m4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g4e(e,t,r){return t=X2(t),x4e(e,gz()?Reflect.construct(t,r||[],X2(e).constructor):t.apply(e,r))}function x4e(e,t){if(t&&(sx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y4e(e)}function y4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gz=function(){return!!e})()}function X2(e){return X2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X2(e)}function v4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D4(e,t)}function D4(e,t){return D4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},D4(e,t)}function Dj(e,t,r){return t=xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=b4e(e,"string");return sx(t)=="symbol"?t:t+""}function b4e(e,t){if(sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w4e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=j3({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Yc(t,"discard")&&!o.isInRange(l)?null:l},Rj=function(e){function t(){return f4e(this,t),g4e(this,t,arguments)}return v4e(t,e),p4e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=va(a),d=va(i);if(rc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=w4e(this.props);if(!h)return null;var p=h.x,f=h.y,x=this.props,g=x.shape,v=x.className,b=Yc(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=S8(S8({clipPath:b},Ft(this.props,!0)),{},{cx:p,cy:f});return ye.createElement(Ur,{className:xr("recharts-reference-dot",v)},t.renderDot(g,j),Oa.renderCallByParent(this.props,{x:p-o,y:f-o,width:2*o,height:2*o}))}}])}(ye.Component);Dj(Rj,"displayName","ReferenceDot");Dj(Rj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dj(Rj,"renderDot",function(e,t){var r;return ye.isValidElement(e)?r=ye.cloneElement(e,t):er(e)?r=e(t):r=ye.createElement(Uv,M4({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},R4.apply(this,arguments)}function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function k8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(s){Fj(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vz(s.key),s)}}function _4e(e,t,r){return t&&N4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,r){return t=Q2(t),A4e(e,yz()?Reflect.construct(t,r||[],Q2(e).constructor):t.apply(e,r))}function A4e(e,t){if(t&&(ax(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k4e(e)}function k4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yz=function(){return!!e})()}function Q2(e){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q2(e)}function C4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F4(e,t)}function F4(e,t){return F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},F4(e,t)}function Fj(e,t,r){return t=vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=P4e(e,"string");return ax(t)=="symbol"?t:t+""}function P4e(e,t){if(ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E4e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,h=i.yAxis;if(!d||!h)return null;var p=j3({x:d.scale,y:h.scale}),f={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:s?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Yc(i,"discard")&&(!p.isInRange(f)||!p.isInRange(x))?null:az(f,x)},$j=function(e){function t(){return j4e(this,t),S4e(this,t,arguments)}return C4e(t,e),_4e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,d=s.clipPathId;rc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=va(a),p=va(i),f=va(o),x=va(l),g=this.props.shape;if(!h&&!p&&!f&&!x&&!g)return null;var v=E4e(h,p,f,x,this.props);if(!v&&!g)return null;var b=Yc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ye.createElement(Ur,{className:xr("recharts-reference-area",c)},t.renderRect(g,k8(k8({clipPath:b},Ft(this.props,!0)),v)),Oa.renderCallByParent(this.props,v))}}])}(ye.Component);Fj($j,"displayName","ReferenceArea");Fj($j,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fj($j,"renderRect",function(e,t){var r;return ye.isValidElement(e)?r=ye.cloneElement(e,t):er(e)?r=e(t):r=ye.createElement(b3,R4({},t,{className:"recharts-reference-area-rect"})),r});function bz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function T4e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return SSe(s,r)}function O4e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function J2(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function L4e(e,t){return bz(e,t+1)}function I4e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,h=function(){var x=s?.[c];if(x===void 0)return{v:bz(s,u)};var g=c,v,b=function(){return v===void 0&&(v=r(x,g)),v},j=x.coordinate,N=c===0||J2(e,j,b,d,l);N||(c=0,d=o,u+=1),N&&(d=j+e*(b()/2+a),c+=u)},p;u<=i.length;)if(p=h(),p)return p.v;return[]}function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(s){M4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M4e(e,t,r){return t=D4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4e(e){var t=R4e(e,"string");return uv(t)=="symbol"?t:t+""}function R4e(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(uv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var f=i[p],x,g=function(){return x===void 0&&(x=r(f,p)),x};if(p===o-1){var v=e*(f.coordinate+e*g()/2-c);i[p]=f=di(di({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else i[p]=f=di(di({},f),{},{tickCoord:f.coordinate});var b=J2(e,f.tickCoord,g,l,c);b&&(c=f.tickCoord-e*(g()/2+a),i[p]=di(di({},f),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function $4e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=s[l-1],h=r(d,l-1),p=e*(d.coordinate+e*h/2-u);o[l-1]=d=di(di({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var f=J2(e,d.tickCoord,function(){return h},c,u);f&&(u=d.tickCoord-e*(h/2+a),o[l-1]=di(di({},d),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(j){var N=o[j],A,S=function(){return A===void 0&&(A=r(N,j)),A};if(j===0){var L=e*(N.coordinate-e*S()/2-c);o[j]=N=di(di({},N),{},{tickCoord:L<0?N.coordinate-L*e:N.coordinate})}else o[j]=N=di(di({},N),{},{tickCoord:N.coordinate});var I=J2(e,N.tickCoord,S,c,u);I&&(c=N.tickCoord+e*(S()/2+a),o[j]=di(di({},N),{},{isShow:!0}))},v=0;v<x;v++)g(v);return o}function P3(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,h=e.angle;if(!a||!a.length||!s)return[];if(ot(c)||nc.isSsr)return L4e(a,typeof c=="number"&&ot(c)?c:0);var p=[],f=l==="top"||l==="bottom"?"width":"height",x=d&&f==="width"?cy(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(N,A){var S=er(u)?u(N.value,A):N.value;return f==="width"?T4e(cy(S,{fontSize:t,letterSpacing:r}),x,h):cy(S,{fontSize:t,letterSpacing:r})[f]},v=a.length>=2?Li(a[1].coordinate-a[0].coordinate):1,b=O4e(i,v,f);return c==="equidistantPreserveStart"?I4e(v,b,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=$4e(v,b,g,a,o,c==="preserveStartEnd"):p=F4e(v,b,g,a,o),p.filter(function(j){return j.isShow}))}var B4e=["viewBox"],z4e=["viewBox"],U4e=["ticks"];function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ag.apply(this,arguments)}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(s){E3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function B5(e,t){if(e==null)return{};var r=q4e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function q4e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function V4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jz(s.key),s)}}function W4e(e,t,r){return t&&E8(e.prototype,t),r&&E8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H4e(e,t,r){return t=ew(t),G4e(e,wz()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function G4e(e,t){if(t&&(ix(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K4e(e)}function K4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function Y4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$4(e,t)}function $4(e,t){return $4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$4(e,t)}function E3(e,t,r){return t=jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=Z4e(e,"string");return ix(t)=="symbol"?t:t+""}function Z4e(e,t){if(ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qx=function(e){function t(r){var s;return V4e(this,t),s=H4e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return Y4e(t,e),W4e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=B5(s,B4e),l=this.props,c=l.viewBox,u=B5(l,z4e);return!gg(i,c)||!gg(o,u)||!gg(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,h=a.mirror,p=a.tickMargin,f,x,g,v,b,j,N=h?-1:1,A=s.tickSize||d,S=ot(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":f=x=s.coordinate,v=o+ +!h*c,g=v-N*A,j=g-N*p,b=S;break;case"left":g=v=s.coordinate,x=i+ +!h*l,f=x-N*A,b=f-N*p,j=S;break;case"right":g=v=s.coordinate,x=i+ +h*l,f=x+N*A,b=f+N*p,j=S;break;default:f=x=s.coordinate,v=o+ +h*c,g=v+N*A,j=g+N*p,b=S;break}return{line:{x1:f,y1:g,x2:x,y2:v},tick:{x:b,y:j}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,d=s.axisLine,h=ma(ma(ma({},Ft(this.props,!1)),Ft(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=ma(ma({},h),{},{x1:a,y1:i+p*l,x2:a+o,y2:i+p*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);h=ma(ma({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return ye.createElement("line",ag({},h,{className:xr("recharts-cartesian-axis-line",Ro(d,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,p=l.unit,f=P3(ma(ma({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Ft(this.props,!1),b=Ft(d,!1),j=ma(ma({},v),{},{fill:"none"},Ft(c,!1)),N=f.map(function(A,S){var L=o.getTickLineCoord(A),I=L.line,k=L.tick,E=ma(ma(ma(ma({textAnchor:x,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),k),{},{index:S,payload:A,visibleTicksCount:f.length,tickFormatter:h});return ye.createElement(Ur,ag({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Rm(o.props,A,S)),c&&ye.createElement("line",ag({},j,I,{className:xr("recharts-cartesian-axis-tick-line",Ro(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(er(h)?h(A.value,S):A.value).concat(p||"")))});return ye.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var h=this.props,p=h.ticks,f=B5(h,U4e),x=p;return er(c)&&(x=p&&p.length>0?c(this.props):c(f)),o<=0||l<=0||!x||!x.length?null:ye.createElement(Ur,{className:xr("recharts-cartesian-axis",u),ref:function(v){s.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Oa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=xr(a.className,"recharts-cartesian-axis-tick-value");return ye.isValidElement(s)?o=ye.cloneElement(s,ma(ma({},a),{},{className:l})):er(s)?o=s(ma(ma({},a),{},{className:l})):o=ye.createElement(Fm,ag({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(_.Component);E3(qx,"displayName","CartesianAxis");E3(qx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var X4e=["x1","y1","x2","y2","key"],Q4e=["offset"];function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(s){J4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function J4e(e,t,r){return t=eAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eAe(e){var t=tAe(e,"string");return Um(t)=="symbol"?t:t+""}function tAe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Um(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},am.apply(this,arguments)}function O8(e,t){if(e==null)return{};var r=rAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function rAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var nAe=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return ye.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function Nz(e,t){var r;if(ye.isValidElement(e))r=ye.cloneElement(e,t);else if(er(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=O8(t,X4e),u=Ft(c,!1);u.offset;var d=O8(u,Q4e);r=ye.createElement("line",am({},d,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function sAe(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Nz(a,u)});return ye.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function aAe(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hi(hi({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Nz(a,u)});return ye.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function iAe(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,f){return p-f});a!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var x=!d[f+1],g=x?a+o-p:d[f+1]-p;if(g<=0)return null;var v=f%t.length;return ye.createElement("rect",{key:"react-".concat(f),y:p,x:s,height:g,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ye.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function oAe(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!s||!s.length)return null;var d=u.map(function(p){return Math.round(p+i-i)}).sort(function(p,f){return p-f});i!==d[0]&&d.unshift(0);var h=d.map(function(p,f){var x=!d[f+1],g=x?i+l-p:d[f+1]-p;if(g<=0)return null;var v=f%s.length;return ye.createElement("rect",{key:"react-".concat(f),x:p,y:o,width:g,height:c,stroke:"none",fill:s[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ye.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var lAe=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return NB(P3(hi(hi(hi({},qx.defaultProps),s),{},{ticks:Wu(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},cAe=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return NB(P3(hi(hi(hi({},qx.defaultProps),s),{},{ticks:Wu(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Bp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ru(e){var t,r,s,a,i,o,l=S3(),c=A3(),u=ZSe(),d=hi(hi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Bp.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Bp.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Bp.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Bp.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Bp.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Bp.verticalFill,x:ot(e.x)?e.x:u.left,y:ot(e.y)?e.y:u.top,width:ot(e.width)?e.width:u.width,height:ot(e.height)?e.height:u.height}),h=d.x,p=d.y,f=d.width,x=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,j=GSe(),N=KSe();if(!ot(f)||f<=0||!ot(x)||x<=0||!ot(h)||h!==+h||!ot(p)||p!==+p)return null;var A=d.verticalCoordinatesGenerator||lAe,S=d.horizontalCoordinatesGenerator||cAe,L=d.horizontalPoints,I=d.verticalPoints;if((!L||!L.length)&&er(S)){var k=v&&v.length,E=S({yAxis:N?hi(hi({},N),{},{ticks:k?v:N.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);rc(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Um(E),"]")),Array.isArray(E)&&(L=E)}if((!I||!I.length)&&er(A)){var B=b&&b.length,C=A({xAxis:j?hi(hi({},j),{},{ticks:B?b:j.ticks}):void 0,width:l,height:c,offset:u},B?!0:g);rc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Um(C),"]")),Array.isArray(C)&&(I=C)}return ye.createElement("g",{className:"recharts-cartesian-grid"},ye.createElement(nAe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ye.createElement(sAe,am({},d,{offset:u,horizontalPoints:L,xAxis:j,yAxis:N})),ye.createElement(aAe,am({},d,{offset:u,verticalPoints:I,xAxis:j,yAxis:N})),ye.createElement(iAe,am({},d,{horizontalPoints:L})),ye.createElement(oAe,am({},d,{verticalPoints:I})))}Ru.displayName="CartesianGrid";var uAe=["type","layout","connectNulls","ref"],dAe=["key"];function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function L8(e,t){if(e==null)return{};var r=hAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},py.apply(this,arguments)}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(s){Yl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zp(e){return gAe(e)||pAe(e)||mAe(e)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(e,t){if(e){if(typeof e=="string")return B4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B4(e,t)}}function pAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gAe(e){if(Array.isArray(e))return B4(e)}function B4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function xAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Sz(s.key),s)}}function yAe(e,t,r){return t&&M8(e.prototype,t),r&&M8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vAe(e,t,r){return t=tw(t),bAe(e,_z()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function bAe(e,t){if(t&&(ox(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wAe(e)}function wAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_z=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function jAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z4(e,t)}function z4(e,t){return z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},z4(e,t)}function Yl(e,t,r){return t=Sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sz(e){var t=NAe(e,"string");return ox(t)=="symbol"?t:t+""}function NAe(e,t){if(ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m=function(e){function t(){var r;xAe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=vAe(this,t,[].concat(a)),Yl(r,"state",{isAnimationFinished:!0,totalLength:0}),Yl(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Yl(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,j){return b+j});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,p=l-o,f=[],x=0,g=0;x<c.length;g+=c[x],++x)if(g+c[x]>h){f=[].concat(zp(c.slice(0,x)),[h-g]);break}var v=f.length%2===0?[0,p]:[p];return[].concat(zp(t.repeat(c,d)),zp(f),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Yl(r,"id",rp("recharts-line-")),Yl(r,"pathRef",function(o){r.mainCurve=o}),Yl(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Yl(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return jAe(t,e),yAe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,h=Fo(d,zv);if(!h)return null;var p=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Us(g.payload,v)}},f={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ye.createElement(Ur,f,h.map(function(x){return ye.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Ft(this.props,!1),p=Ft(c,!0),f=u.map(function(g,v){var b=No(No(No({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,b)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ye.createElement(Ur,py({className:"recharts-line-dots",key:"dots"},x),f)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=L8(l,uAe),p=No(No(No({},Ft(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:d});return ye.createElement(Nm,py({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,x=o.animateNewValues,g=o.width,v=o.height,b=this.state,j=b.prevPoints,N=b.totalLength;return ye.createElement(ac,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var S=A.t;if(j){var L=j.length/l.length,I=l.map(function(O,M){var D=Math.floor(M*L);if(j[D]){var W=j[D],z=ya(W.x,O.x),G=ya(W.y,O.y);return No(No({},O),{},{x:z(S),y:G(S)})}if(x){var V=ya(g*2,O.x),Y=ya(v/2,O.y);return No(No({},O),{},{x:V(S),y:Y(S)})}return No(No({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(I,s,a)}var k=ya(0,N),E=k(S),B;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});B=i.getStrokeDasharray(E,N,C)}else B=i.generateSimpleStrokeDasharray(N,E);return i.renderCurveStatically(l,s,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!$m(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,h=a.top,p=a.left,f=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,j=l.length===1,N=xr("recharts-line",c),A=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,L=A||S,I=fr(v)?this.id:v,k=(s=Ft(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=k.r,B=E===void 0?3:E,C=k.strokeWidth,O=C===void 0?2:C,M=p9(o)?o:{},D=M.clipDot,W=D===void 0?!0:D,z=B*2+O;return ye.createElement(Ur,{className:N},A||S?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(I)},ye.createElement("rect",{x:A?p:p-f/2,y:S?h:h-x/2,width:A?f:f*2,height:S?x:x*2})),!W&&ye.createElement("clipPath",{id:"clipPath-dots-".concat(I)},ye.createElement("rect",{x:p-z/2,y:h-z/2,width:f+z,height:x+z}))):null,!j&&this.renderCurve(L,I),this.renderErrorBar(L,I),(j||o)&&this.renderDots(L,W,I),(!g||b)&&Kc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(zp(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(zp(o),zp(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(ye.isValidElement(s))i=ye.cloneElement(s,a);else if(er(s))i=s(a);else{var o=a.key,l=L8(a,dAe),c=xr("recharts-line-dot",typeof s!="boolean"?s.className:"");i=ye.createElement(Uv,py({key:o},l,{className:c}))}return i}}])}(_.PureComponent);Yl(_m,"displayName","Line");Yl(_m,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!nc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yl(_m,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,h=c.map(function(p,f){var x=Us(p,o);return d==="horizontal"?{x:O2({axis:r,ticks:a,bandSize:l,entry:p,index:f}),y:fr(x)?null:s.scale(x),value:x,payload:p}:{x:fr(x)?null:r.scale(x),y:O2({axis:s,ticks:i,bandSize:l,entry:p,index:f}),value:x,payload:p}});return No({points:h,layout:d},u)});var _Ae=["layout","type","stroke","connectNulls","isRange","ref"],SAe=["key"],Az;function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function kz(e,t){if(e==null)return{};var r=AAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function AAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},im.apply(this,arguments)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(s){Uc(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R8(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Pz(s.key),s)}}function CAe(e,t,r){return t&&R8(e.prototype,t),r&&R8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PAe(e,t,r){return t=rw(t),EAe(e,Cz()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function EAe(e,t){if(t&&(lx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(e)}function TAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function OAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U4(e,t)}function U4(e,t){return U4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},U4(e,t)}function Uc(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=LAe(e,"string");return lx(t)=="symbol"?t:t+""}function LAe(e,t){if(lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi=function(e){function t(){var r;kAe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=PAe(this,t,[].concat(a)),Uc(r,"state",{isAnimationFinished:!0}),Uc(r,"id",rp("recharts-area-")),Uc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),er(o)&&o()}),Uc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),er(o)&&o()}),r}return OAe(t,e),CAe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,h=c.dataKey,p=Ft(this.props,!1),f=Ft(u,!0),x=d.map(function(v,b){var j=lh(lh(lh({key:"dot-".concat(b),r:3},p),f),{},{index:b,cx:v.x,cy:v.y,dataKey:h,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,j)}),g={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ye.createElement(Ur,im({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=s*Math.abs(c-u),h=Ah(o.map(function(p){return p.y||0}));return ot(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ah(i.map(function(p){return p.y||0})),h)),ot(h)?ye.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=s*Math.abs(c-u),h=Ah(o.map(function(p){return p.x||0}));return ot(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Ah(i.map(function(p){return p.x||0})),h)),ot(h)?ye.createElement("rect",{x:0,y:c<u?c:c-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var f=kz(l,_Ae);return ye.createElement(Ur,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ye.createElement(Nm,im({},Ft(f,!0),{points:s,connectNulls:h,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ye.createElement(Nm,im({},Ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:s})),d!=="none"&&p&&ye.createElement(Nm,im({},Ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,p=o.animationEasing,f=o.animationId,x=this.state,g=x.prevPoints,v=x.prevBaseLine;return ye.createElement(ac,{begin:d,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var j=b.t;if(g){var N=g.length/l.length,A=l.map(function(k,E){var B=Math.floor(E*N);if(g[B]){var C=g[B],O=ya(C.x,k.x),M=ya(C.y,k.y);return lh(lh({},k),{},{x:O(j),y:M(j)})}return k}),S;if(ot(c)&&typeof c=="number"){var L=ya(v,c);S=L(j)}else if(fr(c)||Mx(c)){var I=ya(v,0);S=I(j)}else S=c.map(function(k,E){var B=Math.floor(E*N);if(v[B]){var C=v[B],O=ya(C.x,k.x),M=ya(C.y,k.y);return lh(lh({},k),{},{x:O(j),y:M(j)})}return k});return i.renderAreaStatically(A,S,s,a)}return ye.createElement(Ur,null,ye.createElement("defs",null,ye.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(j))),ye.createElement(Ur,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,h=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!d&&p>0||!$m(d,o)||!$m(h,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,h=a.xAxis,p=a.yAxis,f=a.width,x=a.height,g=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,j=l.length===1,N=xr("recharts-area",c),A=h&&h.allowDataOverflow,S=p&&p.allowDataOverflow,L=A||S,I=fr(v)?this.id:v,k=(s=Ft(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=k.r,B=E===void 0?3:E,C=k.strokeWidth,O=C===void 0?2:C,M=p9(o)?o:{},D=M.clipDot,W=D===void 0?!0:D,z=B*2+O;return ye.createElement(Ur,{className:N},A||S?ye.createElement("defs",null,ye.createElement("clipPath",{id:"clipPath-".concat(I)},ye.createElement("rect",{x:A?d:d-f/2,y:S?u:u-x/2,width:A?f:f*2,height:S?x:x*2})),!W&&ye.createElement("clipPath",{id:"clipPath-dots-".concat(I)},ye.createElement("rect",{x:d-z/2,y:u-z/2,width:f+z,height:x+z}))):null,j?null:this.renderArea(L,I),(o||j)&&this.renderDots(L,W,I),(!g||b)&&Kc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(_.PureComponent);Az=Oi;Uc(Oi,"displayName","Area");Uc(Oi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!nc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Uc(Oi,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(ot(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Uc(Oi,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,h=e.displayedData,p=e.offset,f=t.layout,x=u&&u.length,g=Az.getBaseValue(t,r,s,a),v=f==="horizontal",b=!1,j=h.map(function(A,S){var L;x?L=u[d+S]:(L=Us(A,c),Array.isArray(L)?b=!0:L=[g,L]);var I=L[1]==null||x&&Us(A,c)==null;return v?{x:O2({axis:s,ticks:i,bandSize:l,entry:A,index:S}),y:I?null:a.scale(L[1]),value:L,payload:A}:{x:I?null:s.scale(L[1]),y:O2({axis:a,ticks:o,bandSize:l,entry:A,index:S}),value:L,payload:A}}),N;return x||b?N=j.map(function(A){var S=Array.isArray(A.value)?A.value[0]:null;return v?{x:A.x,y:S!=null&&A.y!=null?a.scale(S):null}:{x:S!=null?s.scale(S):null,y:A.y}}):N=v?a.scale(g):s.scale(g),lh({points:j,baseLine:N,layout:f,isRange:b},p)});Uc(Oi,"renderDotItem",function(e,t){var r;if(ye.isValidElement(e))r=ye.cloneElement(e,t);else if(er(e))r=e(t);else{var s=xr("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=kz(t,SAe);r=ye.createElement(Uv,im({},i,{key:a,className:s}))}return r});function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function IAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Oz(s.key),s)}}function DAe(e,t,r){return t&&MAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RAe(e,t,r){return t=nw(t),FAe(e,Ez()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function FAe(e,t){if(t&&(cx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(e)}function $Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ez=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function BAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q4(e,t)}function q4(e,t){return q4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},q4(e,t)}function Tz(e,t,r){return t=Oz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oz(e){var t=zAe(e,"string");return cx(t)=="symbol"?t:t+""}function zAe(e,t){if(cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V4(){return V4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V4.apply(this,arguments)}function UAe(e){var t=e.xAxisId,r=S3(),s=A3(),a=hz(t);return a==null?null:_.createElement(qx,V4({},a,{className:xr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Wu(o,!0)}}))}var ko=function(e){function t(){return IAe(this,t),RAe(this,t,arguments)}return BAe(t,e),DAe(t,[{key:"render",value:function(){return _.createElement(UAe,this.props)}}])}(_.Component);Tz(ko,"displayName","XAxis");Tz(ko,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}function qAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Mz(s.key),s)}}function WAe(e,t,r){return t&&VAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HAe(e,t,r){return t=sw(t),GAe(e,Lz()?Reflect.construct(t,r||[],sw(e).constructor):t.apply(e,r))}function GAe(e,t){if(t&&(ux(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KAe(e)}function KAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}function YAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W4(e,t)}function W4(e,t){return W4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},W4(e,t)}function Iz(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=ZAe(e,"string");return ux(t)=="symbol"?t:t+""}function ZAe(e,t){if(ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H4(){return H4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H4.apply(this,arguments)}var XAe=function(t){var r=t.yAxisId,s=S3(),a=A3(),i=fz(r);return i==null?null:_.createElement(qx,H4({},i,{className:xr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Wu(l,!0)}}))},Co=function(e){function t(){return qAe(this,t),HAe(this,t,arguments)}return YAe(t,e),WAe(t,[{key:"render",value:function(){return _.createElement(XAe,this.props)}}])}(_.Component);Iz(Co,"displayName","YAxis");Iz(Co,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function F8(e){return t6e(e)||e6e(e)||JAe(e)||QAe()}function QAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(e,t){if(e){if(typeof e=="string")return G4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G4(e,t)}}function e6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t6e(e){if(Array.isArray(e))return G4(e)}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var K4=function(t,r,s,a,i){var o=Fo(t,C3),l=Fo(t,Rj),c=[].concat(F8(o),F8(l)),u=Fo(t,$j),d="".concat(a,"Id"),h=a[0],p=r;if(c.length&&(p=c.reduce(function(g,v){if(v.props[d]===s&&Yc(v.props,"extendDomain")&&ot(v.props[h])){var b=v.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},p)),u.length){var f="".concat(h,"1"),x="".concat(h,"2");p=u.reduce(function(g,v){if(v.props[d]===s&&Yc(v.props,"extendDomain")&&ot(v.props[f])&&ot(v.props[x])){var b=v.props[f],j=v.props[x];return[Math.min(g[0],b,j),Math.max(g[1],b,j)]}return g},p)}return i&&i.length&&(p=i.reduce(function(g,v){return ot(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},p)),p},Dz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var f=new a(d,h||c,p),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],f]:c._events[x].push(f):(c._events[x]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,f=h.length,x=new Array(f);p<f;p++)x[p]=h[p].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,p,f,x){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,j,N;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,p),!0;case 5:return v.fn.call(v.context,d,h,p,f),!0;case 6:return v.fn.call(v.context,d,h,p,f,x),!0}for(N=1,j=new Array(b-1);N<b;N++)j[N-1]=arguments[N];v.fn.apply(v.context,j)}else{var A=v.length,S;for(N=0;N<A;N++)switch(v[N].once&&this.removeListener(u,v[N].fn,void 0,!0),b){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,d);break;case 3:v[N].fn.call(v[N].context,d,h);break;case 4:v[N].fn.call(v[N].context,d,h,p);break;default:if(!j)for(S=1,j=new Array(b-1);S<b;S++)j[S-1]=arguments[S];v[N].fn.apply(v[N].context,j)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,p){var f=r?r+u:u;if(!this._events[f])return this;if(!d)return o(this,f),this;var x=this._events[f];if(x.fn)x.fn===d&&(!p||x.once)&&(!h||x.context===h)&&o(this,f);else{for(var g=0,v=[],b=x.length;g<b;g++)(x[g].fn!==d||p&&!x[g].once||h&&x[g].context!==h)&&v.push(x[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Dz);var r6e=Dz.exports;const n6e=pn(r6e);var z5=new n6e,U5="recharts.syncMouseEvents";function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function s6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Rz(s.key),s)}}function i6e(e,t,r){return t&&a6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q5(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=o6e(e,"string");return dv(t)=="symbol"?t:t+""}function o6e(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(dv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var l6e=function(){function e(){s6e(this,e),q5(this,"activeIndex",0),q5(this,"coordinateList",[]),q5(this,"layout","horizontal")}return i6e(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,p=r.mouseHandlerCallback,f=p===void 0?null:p;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+u,p=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function c6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e?.[0],a=e?.[1];if(s&&a&&ot(s)&&ot(a))return!0}return!1}function u6e(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function Fz(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=zn(t,r,s,a),l=zn(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function d6e(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,h=t.angle,p=zn(l,c,u,h),f=zn(l,c,d,h);s=p.x,a=p.y,i=f.x,o=f.y}else return Fz(t);return[{x:s,y:a},{x:i,y:o}]}function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(s){h6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function h6e(e,t,r){return t=f6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6e(e){var t=m6e(e,"string");return hv(t)=="symbol"?t:t+""}function m6e(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p6e(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,f=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!f||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var x,g=Nm;if(p==="ScatterChart")x=o,g=NNe;else if(p==="BarChart")x=u6e(h,o,c,d),g=b3;else if(h==="radial"){var v=Fz(o),b=v.cx,j=v.cy,N=v.radius,A=v.startAngle,S=v.endAngle;x={cx:b,cy:j,startAngle:A,endAngle:S,innerRadius:N,outerRadius:N},g=IB}else x={points:d6e(h,o,c)},g=Nm;var L=r1(r1(r1(r1({stroke:"#ccc",pointerEvents:"none"},c),x),Ft(f,!1)),{},{payload:l,payloadIndex:u,className:xr("recharts-tooltip-cursor",f.className)});return _.isValidElement(f)?_.cloneElement(f,L):_.createElement(g,L)}var g6e=["item"],x6e=["children","className","width","height","style","compact","title","desc"];function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ig.apply(this,arguments)}function B8(e,t){return b6e(e)||v6e(e,t)||Bz(e,t)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function b6e(e){if(Array.isArray(e))return e}function z8(e,t){if(e==null)return{};var r=w6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function w6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function j6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zz(s.key),s)}}function _6e(e,t,r){return t&&N6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S6e(e,t,r){return t=aw(t),A6e(e,$z()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function A6e(e,t){if(t&&(dx(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(e)}function k6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function C6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Y4(e,t)}function hx(e){return T6e(e)||E6e(e)||Bz(e)||P6e()}function P6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bz(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function E6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T6e(e){if(Array.isArray(e))return Z4(e)}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(s){Jt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Jt(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=O6e(e,"string");return dx(t)=="symbol"?t:t+""}function O6e(e,t){if(dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L6e={xAxis:["bottom","top"],yAxis:["left","right"]},I6e={width:"100%",height:"100%"},Uz={x:0,y:0};function n1(e){return e}var M6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},D6e=function(t,r,s,a){var i=r.find(function(d){return d&&d.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Qe(Qe(Qe({},a),zn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Qe(Qe(Qe({},a),zn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Uz},Bj=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(hx(l),hx(u)):l},[]);return o.length>0?o:t&&t.length&&ot(a)&&ot(i)?t.slice(a,i+1):[]};function qz(e){return e==="number"?[0,"auto"]:void 0}var X4=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Bj(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;p=s2(f,o.dataKey,a)}else p=h&&h[s]||l[s];return p?[].concat(hx(c),[CB(u,p)]):c},[])},q8=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=M6e(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Q1e(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,p=X4(t,r,d,h),f=D6e(s,l,d,i);return{activeTooltipIndex:d,activeLabel:h,activePayload:p,activeCoordinate:f}}return null},R6e=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,p=t.stackOffset,f=jB(d,i);return s.reduce(function(x,g){var v,b=g.type.defaultProps!==void 0?Qe(Qe({},g.type.defaultProps),g.props):g.props,j=b.type,N=b.dataKey,A=b.allowDataOverflow,S=b.allowDuplicatedCategory,L=b.scale,I=b.ticks,k=b.includeHidden,E=b[o];if(x[E])return x;var B=Bj(t.data,{graphicalItems:a.filter(function(R){var K,Z=o in R.props?R.props[o]:(K=R.type.defaultProps)===null||K===void 0?void 0:K[o];return Z===E}),dataStartIndex:c,dataEndIndex:u}),C=B.length,O,M,D;c6e(b.domain,A,j)&&(O=u4(b.domain,null,A),f&&(j==="number"||L!=="auto")&&(D=dy(B,N,"category")));var W=qz(j);if(!O||O.length===0){var z,G=(z=b.domain)!==null&&z!==void 0?z:W;if(N){if(O=dy(B,N,j),j==="category"&&f){var V=Uoe(O);S&&V?(M=O,O=W2(0,C)):S||(O=cO(G,O,g).reduce(function(R,K){return R.indexOf(K)>=0?R:[].concat(hx(R),[K])},[]))}else if(j==="category")S?O=O.filter(function(R){return R!==""&&!fr(R)}):O=cO(G,O,g).reduce(function(R,K){return R.indexOf(K)>=0||K===""||fr(K)?R:[].concat(hx(R),[K])},[]);else if(j==="number"){var Y=n2e(B,a.filter(function(R){var K,Z,se=o in R.props?R.props[o]:(K=R.type.defaultProps)===null||K===void 0?void 0:K[o],ue="hide"in R.props?R.props.hide:(Z=R.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return se===E&&(k||!ue)}),N,i,d);Y&&(O=Y)}f&&(j==="number"||L!=="auto")&&(D=dy(B,N,"category"))}else f?O=W2(0,C):l&&l[E]&&l[E].hasStack&&j==="number"?O=p==="expand"?[0,1]:kB(l[E].stackGroups,c,u):O=wB(B,a.filter(function(R){var K=o in R.props?R.props[o]:R.type.defaultProps[o],Z="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return K===E&&(k||!Z)}),j,d,!0);if(j==="number")O=K4(h,O,E,i,I),G&&(O=u4(G,O,A));else if(j==="category"&&G){var ie=G,q=O.every(function(R){return ie.indexOf(R)>=0});q&&(O=ie)}}return Qe(Qe({},x),{},Jt({},E,Qe(Qe({},b),{},{axisType:i,domain:O,categoricalDomain:D,duplicateDomain:M,originalDomain:(v=b.domain)!==null&&v!==void 0?v:W,isCategorical:f,layout:d})))},{})},F6e=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,h=t.children,p=Bj(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),f=p.length,x=jB(d,i),g=-1;return s.reduce(function(v,b){var j=b.type.defaultProps!==void 0?Qe(Qe({},b.type.defaultProps),b.props):b.props,N=j[o],A=qz("number");if(!v[N]){g++;var S;return x?S=W2(0,f):l&&l[N]&&l[N].hasStack?(S=kB(l[N].stackGroups,c,u),S=K4(h,S,N,i)):(S=u4(A,wB(p,s.filter(function(L){var I,k,E=o in L.props?L.props[o]:(I=L.type.defaultProps)===null||I===void 0?void 0:I[o],B="hide"in L.props?L.props.hide:(k=L.type.defaultProps)===null||k===void 0?void 0:k.hide;return E===N&&!B}),"number",d),a.defaultProps.allowDataOverflow),S=K4(h,S,N,i)),Qe(Qe({},v),{},Jt({},N,Qe(Qe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ro(L6e,"".concat(i,".").concat(g%2),null),domain:S,originalDomain:A,isCategorical:x,layout:d})))}return v},{})},$6e=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,h="".concat(a,"Id"),p=Fo(d,i),f={};return p&&p.length?f=R6e(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=F6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},B6e=function(t){var r=mh(t),s=Wu(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:G6(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:L2(r,s)}},V8=function(t){var r=t.children,s=t.defaultShowTooltip,a=Ao(r,tx),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},z6e=function(t){return!t||!t.length?!1:t.some(function(r){var s=Yu(r&&r.type);return s&&s.indexOf("Bar")>=0})},W8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},U6e=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=s.width,d=s.height,h=s.children,p=s.margin||{},f=Ao(h,tx),x=Ao(h,Dh),g=Object.keys(c).reduce(function(S,L){var I=c[L],k=I.orientation;return!I.mirror&&!I.hide?Qe(Qe({},S),{},Jt({},k,S[k]+I.width)):S},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(S,L){var I=o[L],k=I.orientation;return!I.mirror&&!I.hide?Qe(Qe({},S),{},Jt({},k,Ro(S,"".concat(k))+I.height)):S},{top:p.top||0,bottom:p.bottom||0}),b=Qe(Qe({},v),g),j=b.bottom;f&&(b.bottom+=f.props.height||tx.defaultProps.height),x&&r&&(b=t2e(b,a,s,r));var N=u-b.left-b.right,A=d-b.top-b.bottom;return Qe(Qe({brushBottom:j},b),{},{width:Math.max(N,0),height:Math.max(A,0)})},q6e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},zj=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,h=t.defaultProps,p=function(b,j){var N=j.graphicalItems,A=j.stackGroups,S=j.offset,L=j.updateId,I=j.dataStartIndex,k=j.dataEndIndex,E=b.barSize,B=b.layout,C=b.barGap,O=b.barCategoryGap,M=b.maxBarSize,D=W8(B),W=D.numericAxisName,z=D.cateAxisName,G=z6e(N),V=[];return N.forEach(function(Y,ie){var q=Bj(b.data,{graphicalItems:[Y],dataStartIndex:I,dataEndIndex:k}),R=Y.type.defaultProps!==void 0?Qe(Qe({},Y.type.defaultProps),Y.props):Y.props,K=R.dataKey,Z=R.maxBarSize,se=R["".concat(W,"Id")],ue=R["".concat(z,"Id")],ae={},xe=c.reduce(function(de,Se){var De=j["".concat(Se.axisType,"Map")],He=R["".concat(Se.axisType,"Id")];De&&De[He]||Se.axisType==="zAxis"||zm();var Fe=De[He];return Qe(Qe({},de),{},Jt(Jt({},Se.axisType,Fe),"".concat(Se.axisType,"Ticks"),Wu(Fe)))},ae),X=xe[z],me=xe["".concat(z,"Ticks")],ne=A&&A[se]&&A[se].hasStack&&h2e(Y,A[se].stackGroups),he=Yu(Y.type).indexOf("Bar")>=0,ke=L2(X,me),je=[],Q=G&&J1e({barSize:E,stackGroups:A,totalSize:q6e(xe,z)});if(he){var ze,Ye,Ge=fr(Z)?M:Z,Ve=(ze=(Ye=L2(X,me,!0))!==null&&Ye!==void 0?Ye:Ge)!==null&&ze!==void 0?ze:0;je=e2e({barGap:C,barCategoryGap:O,bandSize:Ve!==ke?Ve:ke,sizeList:Q[ue],maxBarSize:Ge}),Ve!==ke&&(je=je.map(function(de){return Qe(Qe({},de),{},{position:Qe(Qe({},de.position),{},{offset:de.position.offset-Ve/2})})}))}var J=Y&&Y.type&&Y.type.getComposedData;J&&V.push({props:Qe(Qe({},J(Qe(Qe({},xe),{},{displayedData:q,props:b,dataKey:K,item:Y,bandSize:ke,barPosition:je,offset:S,stackedData:ne,layout:B,dataStartIndex:I,dataEndIndex:k}))),{},Jt(Jt(Jt({key:Y.key||"item-".concat(ie)},W,xe[W]),z,xe[z]),"animationId",L)),childIndex:ele(Y,b.children),item:Y})}),V},f=function(b,j){var N=b.props,A=b.dataStartIndex,S=b.dataEndIndex,L=b.updateId;if(!nE({props:N}))return null;var I=N.children,k=N.layout,E=N.stackOffset,B=N.data,C=N.reverseStackOrder,O=W8(k),M=O.numericAxisName,D=O.cateAxisName,W=Fo(I,s),z=u2e(B,W,"".concat(M,"Id"),"".concat(D,"Id"),E,C),G=c.reduce(function(R,K){var Z="".concat(K.axisType,"Map");return Qe(Qe({},R),{},Jt({},Z,$6e(N,Qe(Qe({},K),{},{graphicalItems:W,stackGroups:K.axisType===M&&z,dataStartIndex:A,dataEndIndex:S}))))},{}),V=U6e(Qe(Qe({},G),{},{props:N,graphicalItems:W}),j?.legendBBox);Object.keys(G).forEach(function(R){G[R]=d(N,G[R],V,R.replace("Map",""),r)});var Y=G["".concat(D,"Map")],ie=B6e(Y),q=p(N,Qe(Qe({},G),{},{dataStartIndex:A,dataEndIndex:S,updateId:L,graphicalItems:W,stackGroups:z,offset:V}));return Qe(Qe({formattedGraphicalItems:q,graphicalItems:W,offset:V,stackGroups:z},ie),G)},x=function(v){function b(j){var N,A,S;return j6e(this,b),S=S6e(this,b,[j]),Jt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Jt(S,"accessibilityManager",new l6e),Jt(S,"handleLegendBBoxUpdate",function(L){if(L){var I=S.state,k=I.dataStartIndex,E=I.dataEndIndex,B=I.updateId;S.setState(Qe({legendBBox:L},f({props:S.props,dataStartIndex:k,dataEndIndex:E,updateId:B},Qe(Qe({},S.state),{},{legendBBox:L}))))}}),Jt(S,"handleReceiveSyncEvent",function(L,I,k){if(S.props.syncId===L){if(k===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(I)}}),Jt(S,"handleBrushChange",function(L){var I=L.startIndex,k=L.endIndex;if(I!==S.state.dataStartIndex||k!==S.state.dataEndIndex){var E=S.state.updateId;S.setState(function(){return Qe({dataStartIndex:I,dataEndIndex:k},f({props:S.props,dataStartIndex:I,dataEndIndex:k,updateId:E},S.state))}),S.triggerSyncEvent({dataStartIndex:I,dataEndIndex:k})}}),Jt(S,"handleMouseEnter",function(L){var I=S.getMouseInfo(L);if(I){var k=Qe(Qe({},I),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var E=S.props.onMouseEnter;er(E)&&E(k,L)}}),Jt(S,"triggeredAfterMouseMove",function(L){var I=S.getMouseInfo(L),k=I?Qe(Qe({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var E=S.props.onMouseMove;er(E)&&E(k,L)}),Jt(S,"handleItemMouseEnter",function(L){S.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),Jt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Jt(S,"handleMouseMove",function(L){L.persist(),S.throttleTriggeredAfterMouseMove(L)}),Jt(S,"handleMouseLeave",function(L){S.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var k=S.props.onMouseLeave;er(k)&&k(I,L)}),Jt(S,"handleOuterEvent",function(L){var I=Joe(L),k=Ro(S.props,"".concat(I));if(I&&er(k)){var E,B;/.*touch.*/i.test(I)?B=S.getMouseInfo(L.changedTouches[0]):B=S.getMouseInfo(L),k((E=B)!==null&&E!==void 0?E:{},L)}}),Jt(S,"handleClick",function(L){var I=S.getMouseInfo(L);if(I){var k=Qe(Qe({},I),{},{isTooltipActive:!0});S.setState(k),S.triggerSyncEvent(k);var E=S.props.onClick;er(E)&&E(k,L)}}),Jt(S,"handleMouseDown",function(L){var I=S.props.onMouseDown;if(er(I)){var k=S.getMouseInfo(L);I(k,L)}}),Jt(S,"handleMouseUp",function(L){var I=S.props.onMouseUp;if(er(I)){var k=S.getMouseInfo(L);I(k,L)}}),Jt(S,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),Jt(S,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&S.handleMouseDown(L.changedTouches[0])}),Jt(S,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&S.handleMouseUp(L.changedTouches[0])}),Jt(S,"handleDoubleClick",function(L){var I=S.props.onDoubleClick;if(er(I)){var k=S.getMouseInfo(L);I(k,L)}}),Jt(S,"handleContextMenu",function(L){var I=S.props.onContextMenu;if(er(I)){var k=S.getMouseInfo(L);I(k,L)}}),Jt(S,"triggerSyncEvent",function(L){S.props.syncId!==void 0&&z5.emit(U5,S.props.syncId,L,S.eventEmitterSymbol)}),Jt(S,"applySyncEvent",function(L){var I=S.props,k=I.layout,E=I.syncMethod,B=S.state.updateId,C=L.dataStartIndex,O=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)S.setState(Qe({dataStartIndex:C,dataEndIndex:O},f({props:S.props,dataStartIndex:C,dataEndIndex:O,updateId:B},S.state)));else if(L.activeTooltipIndex!==void 0){var M=L.chartX,D=L.chartY,W=L.activeTooltipIndex,z=S.state,G=z.offset,V=z.tooltipTicks;if(!G)return;if(typeof E=="function")W=E(V,L);else if(E==="value"){W=-1;for(var Y=0;Y<V.length;Y++)if(V[Y].value===L.activeLabel){W=Y;break}}var ie=Qe(Qe({},G),{},{x:G.left,y:G.top}),q=Math.min(M,ie.x+ie.width),R=Math.min(D,ie.y+ie.height),K=V[W]&&V[W].value,Z=X4(S.state,S.props.data,W),se=V[W]?{x:k==="horizontal"?V[W].coordinate:q,y:k==="horizontal"?R:V[W].coordinate}:Uz;S.setState(Qe(Qe({},L),{},{activeLabel:K,activeCoordinate:se,activePayload:Z,activeTooltipIndex:W}))}else S.setState(L)}),Jt(S,"renderCursor",function(L){var I,k=S.state,E=k.isTooltipActive,B=k.activeCoordinate,C=k.activePayload,O=k.offset,M=k.activeTooltipIndex,D=k.tooltipAxisBandSize,W=S.getTooltipEventType(),z=(I=L.props.active)!==null&&I!==void 0?I:E,G=S.props.layout,V=L.key||"_recharts-cursor";return ye.createElement(p6e,{key:V,activeCoordinate:B,activePayload:C,activeTooltipIndex:M,chartName:r,element:L,isActive:z,layout:G,offset:O,tooltipAxisBandSize:D,tooltipEventType:W})}),Jt(S,"renderPolarAxis",function(L,I,k){var E=Ro(L,"type.axisType"),B=Ro(S.state,"".concat(E,"Map")),C=L.type.defaultProps,O=C!==void 0?Qe(Qe({},C),L.props):L.props,M=B&&B[O["".concat(E,"Id")]];return _.cloneElement(L,Qe(Qe({},M),{},{className:xr(E,M.className),key:L.key||"".concat(I,"-").concat(k),ticks:Wu(M,!0)}))}),Jt(S,"renderPolarGrid",function(L){var I=L.props,k=I.radialLines,E=I.polarAngles,B=I.polarRadius,C=S.state,O=C.radiusAxisMap,M=C.angleAxisMap,D=mh(O),W=mh(M),z=W.cx,G=W.cy,V=W.innerRadius,Y=W.outerRadius;return _.cloneElement(L,{polarAngles:Array.isArray(E)?E:Wu(W,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(B)?B:Wu(D,!0).map(function(ie){return ie.coordinate}),cx:z,cy:G,innerRadius:V,outerRadius:Y,key:L.key||"polar-grid",radialLines:k})}),Jt(S,"renderLegend",function(){var L=S.state.formattedGraphicalItems,I=S.props,k=I.children,E=I.width,B=I.height,C=S.props.margin||{},O=E-(C.left||0)-(C.right||0),M=vB({children:k,formattedGraphicalItems:L,legendWidth:O,legendContent:u});if(!M)return null;var D=M.item,W=z8(M,g6e);return _.cloneElement(D,Qe(Qe({},W),{},{chartWidth:E,chartHeight:B,margin:C,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Jt(S,"renderTooltip",function(){var L,I=S.props,k=I.children,E=I.accessibilityLayer,B=Ao(k,ta);if(!B)return null;var C=S.state,O=C.isTooltipActive,M=C.activeCoordinate,D=C.activePayload,W=C.activeLabel,z=C.offset,G=(L=B.props.active)!==null&&L!==void 0?L:O;return _.cloneElement(B,{viewBox:Qe(Qe({},z),{},{x:z.left,y:z.top}),active:G,label:W,payload:G?D:[],coordinate:M,accessibilityLayer:E})}),Jt(S,"renderBrush",function(L){var I=S.props,k=I.margin,E=I.data,B=S.state,C=B.offset,O=B.dataStartIndex,M=B.dataEndIndex,D=B.updateId;return _.cloneElement(L,{key:L.key||"_recharts-brush",onChange:Qb(S.handleBrushChange,L.props.onChange),data:E,x:ot(L.props.x)?L.props.x:C.left,y:ot(L.props.y)?L.props.y:C.top+C.height+C.brushBottom-(k.bottom||0),width:ot(L.props.width)?L.props.width:C.width,startIndex:O,endIndex:M,updateId:"brush-".concat(D)})}),Jt(S,"renderReferenceElement",function(L,I,k){if(!L)return null;var E=S,B=E.clipPathId,C=S.state,O=C.xAxisMap,M=C.yAxisMap,D=C.offset,W=L.type.defaultProps||{},z=L.props,G=z.xAxisId,V=G===void 0?W.xAxisId:G,Y=z.yAxisId,ie=Y===void 0?W.yAxisId:Y;return _.cloneElement(L,{key:L.key||"".concat(I,"-").concat(k),xAxis:O[V],yAxis:M[ie],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:B})}),Jt(S,"renderActivePoints",function(L){var I=L.item,k=L.activePoint,E=L.basePoint,B=L.childIndex,C=L.isRange,O=[],M=I.props.key,D=I.item.type.defaultProps!==void 0?Qe(Qe({},I.item.type.defaultProps),I.item.props):I.item.props,W=D.activeDot,z=D.dataKey,G=Qe(Qe({index:B,dataKey:z,cx:k.x,cy:k.y,r:4,fill:v3(I.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ft(W,!1)),a2(W));return O.push(b.renderActiveDot(W,G,"".concat(M,"-activePoint-").concat(B))),E?O.push(b.renderActiveDot(W,Qe(Qe({},G),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(B))):C&&O.push(null),O}),Jt(S,"renderGraphicChild",function(L,I,k){var E=S.filterFormatItem(L,I,k);if(!E)return null;var B=S.getTooltipEventType(),C=S.state,O=C.isTooltipActive,M=C.tooltipAxis,D=C.activeTooltipIndex,W=C.activeLabel,z=S.props.children,G=Ao(z,ta),V=E.props,Y=V.points,ie=V.isRange,q=V.baseLine,R=E.item.type.defaultProps!==void 0?Qe(Qe({},E.item.type.defaultProps),E.item.props):E.item.props,K=R.activeDot,Z=R.hide,se=R.activeBar,ue=R.activeShape,ae=!!(!Z&&O&&G&&(K||se||ue)),xe={};B!=="axis"&&G&&G.props.trigger==="click"?xe={onClick:Qb(S.handleItemMouseEnter,L.props.onClick)}:B!=="axis"&&(xe={onMouseLeave:Qb(S.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:Qb(S.handleItemMouseEnter,L.props.onMouseEnter)});var X=_.cloneElement(L,Qe(Qe({},E.props),xe));function me(Se){return typeof M.dataKey=="function"?M.dataKey(Se.payload):null}if(ae)if(D>=0){var ne,he;if(M.dataKey&&!M.allowDuplicatedCategory){var ke=typeof M.dataKey=="function"?me:"payload.".concat(M.dataKey.toString());ne=s2(Y,ke,W),he=ie&&q&&s2(q,ke,W)}else ne=Y?.[D],he=ie&&q&&q[D];if(ue||se){var je=L.props.activeIndex!==void 0?L.props.activeIndex:D;return[_.cloneElement(L,Qe(Qe(Qe({},E.props),xe),{},{activeIndex:je})),null,null]}if(!fr(ne))return[X].concat(hx(S.renderActivePoints({item:E,activePoint:ne,basePoint:he,childIndex:D,isRange:ie})))}else{var Q,ze=(Q=S.getItemByXY(S.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:X},Ye=ze.graphicalItem,Ge=Ye.item,Ve=Ge===void 0?L:Ge,J=Ye.childIndex,de=Qe(Qe(Qe({},E.props),xe),{},{activeIndex:J});return[_.cloneElement(Ve,de),null,null]}return ie?[X,null,null]:[X,null]}),Jt(S,"renderCustomized",function(L,I,k){return _.cloneElement(L,Qe(Qe({key:"recharts-customized-".concat(k)},S.props),S.state))}),Jt(S,"renderMap",{CartesianGrid:{handler:n1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:n1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:n1},YAxis:{handler:n1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((N=j.id)!==null&&N!==void 0?N:rp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=y$(S.triggeredAfterMouseMove,(A=j.throttleDelay)!==null&&A!==void 0?A:1e3/60),S.state={},S}return C6e(b,v),_6e(b,[{key:"componentDidMount",value:function(){var N,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,A=N.children,S=N.data,L=N.height,I=N.layout,k=Ao(A,ta);if(k){var E=k.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,C=X4(this.state,S,E,B),O=this.state.tooltipTicks[E].coordinate,M=(this.state.offset.top+L)/2,D=I==="horizontal",W=D?{x:O,y:M}:{y:O,x:M},z=this.state.formattedGraphicalItems.find(function(V){var Y=V.item;return Y.type.name==="Scatter"});z&&(W=Qe(Qe({},W),z.props.points[E].tooltipPosition),C=z.props.points[E].tooltipPayload);var G={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:B,activePayload:C,activeCoordinate:W};this.setState(G),this.renderCursor(k),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var S,L;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(N){SS([Ao(N.children,ta)],[Ao(this.props.children,ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Ao(this.props.children,ta);if(N&&typeof N.props.shared=="boolean"){var A=N.props.shared?"axis":"item";return l.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var A=this.container,S=A.getBoundingClientRect(),L=A0e(S),I={chartX:Math.round(N.pageX-L.left),chartY:Math.round(N.pageY-L.top)},k=S.width/A.offsetWidth||1,E=this.inRange(I.chartX,I.chartY,k);if(!E)return null;var B=this.state,C=B.xAxisMap,O=B.yAxisMap,M=this.getTooltipEventType(),D=q8(this.state,this.props.data,this.props.layout,E);if(M!=="axis"&&C&&O){var W=mh(C).scale,z=mh(O).scale,G=W&&W.invert?W.invert(I.chartX):null,V=z&&z.invert?z.invert(I.chartY):null;return Qe(Qe({},I),{},{xValue:G,yValue:V},D)}return D?Qe(Qe({},I),D):null}},{key:"inRange",value:function(N,A){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,I=N/S,k=A/S;if(L==="horizontal"||L==="vertical"){var E=this.state.offset,B=I>=E.left&&I<=E.left+E.width&&k>=E.top&&k<=E.top+E.height;return B?{x:I,y:k}:null}var C=this.state,O=C.angleAxisMap,M=C.radiusAxisMap;if(O&&M){var D=mh(O);return hO({x:I,y:k},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,A=this.getTooltipEventType(),S=Ao(N,ta),L={};S&&A==="axis"&&(S.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=a2(this.props,this.handleOuterEvent);return Qe(Qe({},I),L)}},{key:"addListener",value:function(){z5.on(U5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z5.removeListener(U5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,A,S){for(var L=this.state.formattedGraphicalItems,I=0,k=L.length;I<k;I++){var E=L[I];if(E.item===N||E.props.key===N.key||A===Yu(E.item.type)&&S===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,A=this.state.offset,S=A.left,L=A.top,I=A.height,k=A.width;return ye.createElement("defs",null,ye.createElement("clipPath",{id:N},ye.createElement("rect",{x:S,y:L,height:I,width:k})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(A,S){var L=B8(S,2),I=L[0],k=L[1];return Qe(Qe({},A),{},Jt({},I,k.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(A,S){var L=B8(S,2),I=L[0],k=L[1];return Qe(Qe({},A),{},Jt({},I,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(N){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(N){var A=this.state,S=A.formattedGraphicalItems,L=A.activeItem;if(S&&S.length)for(var I=0,k=S.length;I<k;I++){var E=S[I],B=E.props,C=E.item,O=C.type.defaultProps!==void 0?Qe(Qe({},C.type.defaultProps),C.props):C.props,M=Yu(C.type);if(M==="Bar"){var D=(B.data||[]).find(function(V){return nNe(N,V)});if(D)return{graphicalItem:E,payload:D}}else if(M==="RadialBar"){var W=(B.data||[]).find(function(V){return hO(N,V)});if(W)return{graphicalItem:E,payload:W}}else if(Lj(E,L)||Ij(E,L)||iv(E,L)){var z=W5e({graphicalItem:E,activeTooltipItem:L,itemData:O.data}),G=O.activeIndex===void 0?z:O.activeIndex;return{graphicalItem:Qe(Qe({},E),{},{childIndex:G}),payload:iv(E,L)?O.data[z]:E.props.data[z]}}}return null}},{key:"render",value:function(){var N=this;if(!nE(this))return null;var A=this.props,S=A.children,L=A.className,I=A.width,k=A.height,E=A.style,B=A.compact,C=A.title,O=A.desc,M=z8(A,x6e),D=Ft(M,!1);if(B)return ye.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ye.createElement(kS,ig({},D,{width:I,height:k,title:C,desc:O}),this.renderClipPath(),aE(S,this.renderMap)));if(this.props.accessibilityLayer){var W,z;D.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,D.role=(z=this.props.role)!==null&&z!==void 0?z:"application",D.onKeyDown=function(V){N.accessibilityManager.keyboardEvent(V)},D.onFocus=function(){N.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return ye.createElement(b8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ye.createElement("div",ig({className:xr("recharts-wrapper",L),style:Qe({position:"relative",cursor:"default",width:I,height:k},E)},G,{ref:function(Y){N.container=Y}}),ye.createElement(kS,ig({},D,{width:I,height:k,title:C,desc:O,style:I6e}),this.renderClipPath(),aE(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);Jt(x,"displayName",r),Jt(x,"defaultProps",Qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Jt(x,"getDerivedStateFromProps",function(v,b){var j=v.dataKey,N=v.data,A=v.children,S=v.width,L=v.height,I=v.layout,k=v.stackOffset,E=v.margin,B=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var O=V8(v);return Qe(Qe(Qe({},O),{},{updateId:0},f(Qe(Qe({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:j,prevData:N,prevWidth:S,prevHeight:L,prevLayout:I,prevStackOffset:k,prevMargin:E,prevChildren:A})}if(j!==b.prevDataKey||N!==b.prevData||S!==b.prevWidth||L!==b.prevHeight||I!==b.prevLayout||k!==b.prevStackOffset||!gg(E,b.prevMargin)){var M=V8(v),D={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=Qe(Qe({},q8(b,N,I)),{},{updateId:b.updateId+1}),z=Qe(Qe(Qe({},M),D),W);return Qe(Qe(Qe({},z),f(Qe({props:v},z),b)),{},{prevDataKey:j,prevData:N,prevWidth:S,prevHeight:L,prevLayout:I,prevStackOffset:k,prevMargin:E,prevChildren:A})}if(!SS(A,b.prevChildren)){var G,V,Y,ie,q=Ao(A,tx),R=q&&(G=(V=q.props)===null||V===void 0?void 0:V.startIndex)!==null&&G!==void 0?G:B,K=q&&(Y=(ie=q.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&Y!==void 0?Y:C,Z=R!==B||K!==C,se=!fr(N),ue=se&&!Z?b.updateId:b.updateId+1;return Qe(Qe({updateId:ue},f(Qe(Qe({props:v},b),{},{updateId:ue,dataStartIndex:R,dataEndIndex:K}),b)),{},{prevChildren:A,dataStartIndex:R,dataEndIndex:K})}return null}),Jt(x,"renderActiveDot",function(v,b,j){var N;return _.isValidElement(v)?N=_.cloneElement(v,b):er(v)?N=v(b):N=ye.createElement(Uv,b),ye.createElement(Ur,{className:"recharts-active-dot",key:j},N)});var g=_.forwardRef(function(b,j){return ye.createElement(x,ig({},b,{ref:j}))});return g.displayName=x.displayName,g},V6e=zj({chartName:"LineChart",GraphicalChild:_m,axisComponents:[{axisType:"xAxis",AxisComp:ko},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:w3}),H8=zj({chartName:"BarChart",GraphicalChild:Xu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ko},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:w3}),T3=zj({chartName:"PieChart",GraphicalChild:uc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oj},{axisType:"radiusAxis",AxisComp:Ej}],formatAxisMap:j2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),gy=zj({chartName:"AreaChart",GraphicalChild:Oi,axisComponents:[{axisType:"xAxis",AxisComp:ko},{axisType:"yAxis",AxisComp:Co}],formatAxisMap:w3});function ws(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ru(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function W6e(e,t){const r=ws(e);return isNaN(t)?ru(e,NaN):r}function Vz(e,t){const r=ws(e);if(isNaN(t))return ru(e,NaN);if(!t)return r;const s=r.getDate(),a=ru(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const Wz=6048e5,H6e=864e5,Hz=6e4,Gz=36e5;let G6e={};function qv(){return G6e}function qm(e,t){const r=qv(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ws(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function iw(e){return qm(e,{weekStartsOn:1})}function Kz(e){const t=ws(e),r=t.getFullYear(),s=ru(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=iw(s),i=ru(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=iw(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ow(e){const t=ws(e);return t.setHours(0,0,0,0),t}function G8(e){const t=ws(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function K6e(e,t){const r=ow(e),s=ow(t),a=+r-G8(r),i=+s-G8(s);return Math.round((a-i)/H6e)}function Y6e(e){const t=Kz(e),r=ru(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),iw(r)}function Up(e,t){const r=ow(e),s=ow(t);return+r==+s}function Z6e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X6e(e){if(!Z6e(e)&&typeof e!="number")return!1;const t=ws(e);return!isNaN(Number(t))}function Yz(e){const t=ws(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Q4(e,t){const r=ws(e.start),s=ws(e.end);let a=+r>+s;const i=a?+r:+s,o=a?s:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ws(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function Zz(e){const t=ws(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Q6e(e){const t=ws(e),r=ru(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function K8(e,t){const r=qv(),s=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ws(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const J6e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e3e=(e,t,r)=>{let s;const a=J6e[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function V5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const t3e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r3e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n3e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},s3e={date:V5({formats:t3e,defaultWidth:"full"}),time:V5({formats:r3e,defaultWidth:"full"}),dateTime:V5({formats:n3e,defaultWidth:"full"})},a3e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i3e=(e,t,r,s)=>a3e[e];function U0(e){return(t,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const o3e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l3e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c3e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u3e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f3e=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},m3e={ordinalNumber:f3e,era:U0({values:o3e,defaultWidth:"wide"}),quarter:U0({values:l3e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:U0({values:c3e,defaultWidth:"wide"}),day:U0({values:u3e,defaultWidth:"wide"}),dayPeriod:U0({values:d3e,defaultWidth:"wide",formattingValues:h3e,defaultFormattingWidth:"wide"})};function q0(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?g3e(l,h=>h.test(o)):p3e(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function p3e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function g3e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function x3e(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const y3e=/^(\d+)(th|st|nd|rd)?/i,v3e=/\d+/i,b3e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w3e={any:[/^b/i,/^(a|c)/i]},j3e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},N3e={any:[/1/i,/2/i,/3/i,/4/i]},_3e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S3e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A3e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k3e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C3e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},P3e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E3e={ordinalNumber:x3e({matchPattern:y3e,parsePattern:v3e,valueCallback:e=>parseInt(e,10)}),era:q0({matchPatterns:b3e,defaultMatchWidth:"wide",parsePatterns:w3e,defaultParseWidth:"any"}),quarter:q0({matchPatterns:j3e,defaultMatchWidth:"wide",parsePatterns:N3e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:q0({matchPatterns:_3e,defaultMatchWidth:"wide",parsePatterns:S3e,defaultParseWidth:"any"}),day:q0({matchPatterns:A3e,defaultMatchWidth:"wide",parsePatterns:k3e,defaultParseWidth:"any"}),dayPeriod:q0({matchPatterns:C3e,defaultMatchWidth:"any",parsePatterns:P3e,defaultParseWidth:"any"})},T3e={code:"en-US",formatDistance:e3e,formatLong:s3e,formatRelative:i3e,localize:m3e,match:E3e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function O3e(e){const t=ws(e);return K6e(t,Q6e(t))+1}function L3e(e){const t=ws(e),r=+iw(t)-+Y6e(t);return Math.round(r/Wz)+1}function Xz(e,t){const r=ws(e),s=r.getFullYear(),a=qv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=ru(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=qm(o,t),c=ru(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=qm(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function I3e(e,t){const r=qv(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=Xz(e,t),i=ru(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),qm(i,t)}function M3e(e,t){const r=ws(e),s=+qm(r,t)-+I3e(r,t);return Math.round(s/Wz)+1}function Nn(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const sh={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Nn(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Nn(r+1,2)},d(e,t){return Nn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Nn(e.getHours()%12||12,t.length)},H(e,t){return Nn(e.getHours(),t.length)},m(e,t){return Nn(e.getMinutes(),t.length)},s(e,t){return Nn(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Nn(a,t.length)}},qp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y8={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return sh.y(e,t)},Y:function(e,t,r,s){const a=Xz(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Nn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Nn(i,t.length)},R:function(e,t){const r=Kz(e);return Nn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Nn(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Nn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Nn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return sh.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Nn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=M3e(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Nn(a,t.length)},I:function(e,t,r){const s=L3e(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Nn(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):sh.d(e,t)},D:function(e,t,r){const s=O3e(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Nn(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Nn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Nn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Nn(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=qp.noon:s===0?a=qp.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=qp.evening:s>=12?a=qp.afternoon:s>=4?a=qp.morning:a=qp.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return sh.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):sh.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Nn(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Nn(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):sh.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):sh.s(e,t)},S:function(e,t){return sh.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return X8(s);case"XXXX":case"XX":return Hf(s);case"XXXXX":case"XXX":default:return Hf(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return X8(s);case"xxxx":case"xx":return Hf(s);case"xxxxx":case"xxx":default:return Hf(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z8(s,":");case"OOOO":default:return"GMT"+Hf(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z8(s,":");case"zzzz":default:return"GMT"+Hf(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Nn(s,t.length)},T:function(e,t,r){const s=e.getTime();return Nn(s,t.length)}};function Z8(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Nn(i,2)}function X8(e,t){return e%60===0?(e>0?"-":"+")+Nn(Math.abs(e)/60,2):Hf(e,t)}function Hf(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Nn(Math.trunc(s/60),2),i=Nn(s%60,2);return r+a+t+i}const Q8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Qz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},D3e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return Q8(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Q8(s,t)).replace("{{time}}",Qz(a,t))},R3e={p:Qz,P:D3e},F3e=/^D+$/,$3e=/^Y+$/,B3e=["D","DD","YY","YYYY"];function z3e(e){return F3e.test(e)}function U3e(e){return $3e.test(e)}function q3e(e,t,r){const s=V3e(e,t,r);if(console.warn(s),B3e.includes(e))throw new RangeError(s)}function V3e(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const W3e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H3e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G3e=/^'([^]*?)'?$/,K3e=/''/g,Y3e=/[a-zA-Z]/;function Gn(e,t,r){const s=qv(),a=s.locale??T3e,i=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=ws(e);if(!X6e(l))throw new RangeError("Invalid time value");let c=t.match(H3e).map(d=>{const h=d[0];if(h==="p"||h==="P"){const p=R3e[h];return p(d,a.formatLong)}return d}).join("").match(W3e).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:Z3e(d)};if(Y8[h])return{isToken:!0,value:d};if(h.match(Y3e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(d=>{if(!d.isToken)return d.value;const h=d.value;(U3e(h)||z3e(h))&&q3e(h,t,String(e));const p=Y8[h[0]];return p(l,h,a.localize,u)}).join("")}function Z3e(e){const t=e.match(G3e);return t?t[1].replace(K3e,"'"):e}function X3e(e,t){const r=ws(e),s=ws(t);return r.getTime()>s.getTime()}function Q3e(e,t){const r=ws(e),s=ws(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function Zs(e,t){const s=rke(e);let a;if(s.date){const c=nke(s.date,2);a=ske(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(s.time&&(o=ake(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=ike(s.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const s1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},J3e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eke=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tke=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rke(e){const t={},r=e.split(s1.dateTimeDelimiter);let s;if(r.length>2)return t;if(/:/.test(r[0])?s=r[0]:(t.date=r[0],s=r[1],s1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(s1.timeZoneDelimiter)[0],s=e.substr(t.date.length,e.length))),s){const a=s1.timezone.exec(s);a?(t.time=s.replace(a[1],""),t.timezone=a[1]):t.time=s}return t}function nke(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(r);if(!s)return{year:NaN,restDateString:""};const a=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((s[1]||s[2]).length)}}function ske(e,t){if(t===null)return new Date(NaN);const r=e.match(J3e);if(!r)return new Date(NaN);const s=!!r[4],a=V0(r[1]),i=V0(r[2])-1,o=V0(r[3]),l=V0(r[4]),c=V0(r[5])-1;if(s)return dke(t,l,c)?oke(t,l,c):new Date(NaN);{const u=new Date(0);return!cke(t,i,o)||!uke(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function V0(e){return e?parseInt(e):1}function ake(e){const t=e.match(eke);if(!t)return NaN;const r=W5(t[1]),s=W5(t[2]),a=W5(t[3]);return hke(r,s,a)?r*Gz+s*Hz+a*1e3:NaN}function W5(e){return e&&parseFloat(e.replace(",","."))||0}function ike(e){if(e==="Z")return 0;const t=e.match(tke);if(!t)return 0;const r=t[1]==="+"?-1:1,s=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return fke(s,a)?r*(s*Gz+a*Hz):NaN}function oke(e,t,r){const s=new Date(0);s.setUTCFullYear(e,0,4);const a=s.getUTCDay()||7,i=(t-1)*7+r+1-a;return s.setUTCDate(s.getUTCDate()+i),s}const lke=[31,null,31,30,31,30,31,31,30,31,30,31];function Jz(e){return e%400===0||e%4===0&&e%100!==0}function cke(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(lke[t]||(Jz(e)?29:28))}function uke(e,t){return t>=1&&t<=(Jz(e)?366:365)}function dke(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hke(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function fke(e,t){return t>=0&&t<=59}function mke(e,t){return Vz(e,-t)}const J8=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444"],eL=()=>{const e=Jn(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState("30days"),l="asst_crm_operations_v1",c=j=>{switch(j.type){case"email":break;case"booking":break;case"client":u(j);break;case"invoice":d(j);break}h()},u=j=>{j.action==="view_clients"&&e("/admin/clients")},d=j=>{j.action==="view_invoices"&&e("/admin/invoices")};_.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);const[j,N,A,S]=await Promise.allSettled([fetch("/api/crm/dashboard/metrics"),fetch("/api/crm/leads"),fetch("/api/photography/sessions"),fetch("/api/crm/invoices")]),L=j.status==="fulfilled"&&j.value.ok?await j.value.json():{},I=N.status==="fulfilled"&&N.value.ok?await N.value.json():[],k=A.status==="fulfilled"&&A.value.ok?await A.value.json():[],E=S.status==="fulfilled"&&S.value.ok?await S.value.json():[],B=I.filter(D=>{try{const W=new Date(D.createdAt||D.created_at);if(isNaN(W.getTime()))return!1;const z=new Date;return z.setDate(z.getDate()-30),W>=z}catch{return!1}}),C=E.filter(D=>D.status==="paid"),O=p(L.totalRevenue||0,L.paidInvoices||0,I.length),M={totalRevenue:L.totalRevenue||0,monthlyRevenue:L.totalRevenue||0,totalClients:L.totalClients||0,newLeads:B.length,pendingInvoices:E.filter(D=>D.status==="pending").length,upcomingBookings:L.upcomingSessions||0,revenueChart:O.revenueChart,leadConversionChart:O.leadConversionChart,serviceDistribution:O.serviceDistribution,recentLeads:B.slice(0,5),recentBookings:k.slice(0,5),recentInvoices:C.slice(0,5),monthlyGrowth:0,conversionRate:I.length>0?I.filter(D=>D.status==="CONVERTED").length/I.length*100:0,averageOrderValue:L.avgOrderValue||0,clientSatisfaction:4.8};r(M)}catch{}finally{a(!1)}},p=(j,N,A)=>({revenueChart:[{month:"Jul 2025",revenue:j,bookings:N}],leadConversionChart:[{month:"Jul 2025",leads:A,converted:0}],serviceDistribution:[{service:"Photography Services",count:N,revenue:j}]}),f=({title:j,value:N,change:A,icon:S,color:L})=>n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`p-3 rounded-lg ${L}`,children:n.jsx(S,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{className:"ml-4 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:j}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N}),A!==void 0&&n.jsxs("div",{className:"flex items-center mt-1",children:[A>=0?n.jsx(Fs,{className:"h-4 w-4 text-green-500 mr-1"}):n.jsx(wF,{className:"h-4 w-4 text-red-500 mr-1"}),n.jsxs("span",{className:`text-sm ${A>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(A).toFixed(1),"%"]})]})]})]})}),x=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(f,{title:"Total Revenue",value:`€${t?.totalRevenue.toLocaleString()}`,change:t?.monthlyGrowth,icon:tc,color:"bg-purple-500"}),n.jsx(f,{title:"New Leads",value:t?.newLeads,icon:Qn,color:"bg-blue-500"}),n.jsx(f,{title:"Upcoming Bookings",value:t?.upcomingBookings,icon:fn,color:"bg-green-500"}),n.jsx(f,{title:"Conversion Rate",value:`${t?.conversionRate.toFixed(1)}%`,icon:Fs,color:"bg-orange-500"})]}),g=()=>n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Trend"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(gy,{data:t?.revenueChart||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Oi,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Distribution"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(T3,{children:[n.jsx(uc,{data:t?.serviceDistribution||[],cx:"50%",cy:"50%",labelLine:!1,label:({service:j,count:N})=>`${j} (${N})`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:(t?.serviceDistribution||[]).map((j,N)=>n.jsx($x,{fill:J8[N%J8.length]},`cell-${N}`))}),n.jsx(ta,{formatter:j=>[`€${j}`,"Revenue"]})]})})]})]}),v=()=>n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Leads"}),n.jsx("button",{onClick:()=>e("/admin/leads"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentLeads||[]).slice(0,5).map((j,N)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.name}),n.jsx("p",{className:"text-sm text-gray-600",children:j.email}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${j.status==="new"?"bg-blue-100 text-blue-800":j.status==="contacted"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.status})]}),n.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const A=new Date(j.createdAt||j.created_at);return isNaN(A.getTime())?"Recent":Gn(A,"MMM dd")}catch{return"Recent"}})()})]},N))})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Bookings"}),n.jsx("button",{onClick:()=>e("/admin/calendar"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View Calendar"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentBookings||[]).slice(0,5).map((j,N)=>n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:j.client_name||"Client"}),n.jsx("p",{className:"text-sm text-gray-600",children:j.service_type}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[n.jsx(Os,{className:"h-3 w-3 mr-1"}),(()=>{try{const A=new Date(j.booking_date||j.sessionDate||j.created_at);return isNaN(A.getTime())?"No date":Gn(A,"MMM dd, HH:mm")}catch{return"No date"}})()]})]})},N))})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Invoices"}),n.jsx("button",{onClick:()=>e("/admin/invoices"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View All"})]})}),n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:(t?.recentInvoices||[]).slice(0,5).map((j,N)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:["Invoice #",j.id?.substring(0,8)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["€",(parseFloat(j.total)||0).toFixed(2)]}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${j.status==="PENDING"?"bg-yellow-100 text-yellow-800":j.status==="PAID"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.status})]}),n.jsx("p",{className:"text-xs text-gray-500",children:(()=>{try{const A=new Date(j.createdAt||j.created_at);return isNaN(A.getTime())?"Recent":Gn(A,"MMM dd")}catch{return"Recent"}})()})]},N))})})]})]}),b=()=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:()=>e("/admin/leads"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Qn,{className:"h-5 w-5 text-purple-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Add Lead"})]}),n.jsxs("button",{onClick:()=>e("/admin/calendar"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(fn,{className:"h-5 w-5 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Schedule"})]}),n.jsxs("button",{onClick:()=>e("/admin/invoices"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(cs,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Create Invoice"})]}),n.jsxs("button",{onClick:()=>e("/admin/gallery"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(ra,{className:"h-5 w-5 text-orange-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:"Upload Photos"})]})]})]});return s?n.jsx(Rr,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600",children:"Overview of your photography business"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"7days",children:"Last 7 Days"}),n.jsx("option",{value:"30days",children:"Last 30 Days"}),n.jsx("option",{value:"90days",children:"Last 90 Days"})]}),n.jsxs("button",{onClick:()=>e("/admin/reports"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(aF,{size:16,className:"mr-2"}),"View Reports"]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>c("reply_to_emails"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 border border-blue-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-blue-600 group-hover:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Reply to emails"})]}),n.jsxs("button",{onClick:()=>c("send_booking_confirmations"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 border border-green-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-green-600 group-hover:text-green-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Send booking confirmations"})]}),n.jsxs("button",{onClick:()=>c("add_new_client"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 border border-purple-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-purple-600 group-hover:text-purple-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Add new client"})]}),n.jsxs("button",{onClick:()=>c("generate_invoice"),className:"flex items-center space-x-3 text-sm p-4 bg-gradient-to-r from-yellow-50 to-yellow-100 hover:from-yellow-100 hover:to-yellow-200 border border-yellow-200 rounded-lg text-left transition-all group",children:[n.jsx("svg",{className:"h-5 w-5 text-yellow-600 group-hover:text-yellow-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:"Generate invoice"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"CRM Operations Assistant"]}),n.jsx(N6,{assistantId:l,onCRMAction:c,height:"600px",title:"CRM Operations Assistant",className:"w-full"})]})]}),x(),b(),g(),v()]})})},pke=()=>{const[e,t]=_.useState({avgOrderValue:0,activeUsers:0,bookedRevenue:0,trendData:[]}),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(0),[c,u]=_.useState(!0);_.useEffect(()=>{d()},[]);const d=async()=>{try{t({avgOrderValue:245.5,activeUsers:1247,bookedRevenue:15420,trendData:[{date:"2025-01-01",value:1200},{date:"2025-01-02",value:1350},{date:"2025-01-03",value:1180},{date:"2025-01-04",value:1420},{date:"2025-01-05",value:1380}]}),s([{id:"1",name:"Sarah Mueller",email:"sarah@example.com",phone:"+43 123 456 789",service:"Family Photoshoot",status:"new",createdAt:"2025-01-25T10:30:00Z"},{id:"2",name:"Michael Schmidt",email:"michael@example.com",phone:"+43 987 654 321",service:"Wedding Photography",status:"contacted",createdAt:"2025-01-25T09:15:00Z"},{id:"3",name:"Anna Weber",email:"anna@example.com",phone:"+43 555 123 456",service:"Newborn Photoshoot",status:"new",createdAt:"2025-01-24T16:45:00Z"}]),i([{id:"1",url:"https://images.pexels.com/photos/1668928/pexels-photo-1668928.jpeg",title:"Family Portrait Session",views:1250},{id:"2",url:"https://images.pexels.com/photos/3875080/pexels-photo-3875080.jpeg",title:"Newborn Photography",views:980},{id:"3",url:"https://images.pexels.com/photos/3662850/pexels-photo-3662850.jpeg",title:"Maternity Shoot",views:875}])}catch{}finally{u(!1)}},h=x=>{const v={new:{bg:"bg-blue-100",text:"text-blue-800",label:"New"},contacted:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Contacted"},qualified:{bg:"bg-purple-100",text:"text-purple-800",label:"Qualified"},converted:{bg:"bg-green-100",text:"text-green-800",label:"Converted"}}[x];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.text}`,children:v.label})},p=()=>{l(x=>(x+1)%a.length)},f=()=>{l(x=>(x-1+a.length)%a.length)};return c?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"CRM Dashboard (Development Mode)"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:"Auth Bypassed"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(tc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.avgOrderValue]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Qn,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.activeUsers.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Fs,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booked Revenue"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e.bookedRevenue.toLocaleString()]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(fn,{className:"h-6 w-6 text-orange-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"24"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"New Leads"}),n.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm flex items-center",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Add Lead"]})]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),n.jsx("div",{className:"text-sm text-gray-500",children:x.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.service}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h(x.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:n.jsx(Xn,{size:16})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",children:n.jsx(Ha,{size:16})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(js,{size:16})})]})})]},x.id))})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Popular Images"})}),n.jsx("div",{className:"p-6",children:a.length>0&&n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4",children:n.jsx("img",{src:a[o].url,alt:a[o].title,className:"w-full h-48 object-cover rounded-lg"})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:a[o].title}),n.jsxs("p",{className:"text-sm text-gray-500",children:[a[o].views," views"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:f,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:n.jsx(Iv,{size:16})}),n.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:n.jsx(Oh,{size:16})})]})]})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Ir,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Add New Lead"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(fn,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Schedule Shoot"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Qn,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"Add Client"})]}),n.jsxs("button",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[n.jsx(Fs,{size:20,className:"mr-2 text-gray-500"}),n.jsx("span",{className:"text-gray-700",children:"View Reports"})]})]})]})]})]})},gke=()=>{const[e,t]=_.useState("matt@newagefotografie.com"),[r,s]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(!1),[c,u]=_.useState(null),[d,h]=_.useState(!0),p=Jn(),{signIn:f,user:x,isAdmin:g}=Vw();_.useEffect(()=>{v()},[]),_.useEffect(()=>{x&&g&&p("/admin/dashboard")},[x,g,p]);const v=async()=>{h(!0);try{const I=await uS();u(I)}catch{u({active:!1,error:"Failed to check project status",statusCode:0})}finally{h(!1)}},b=async I=>{if(I.preventDefault(),I.stopPropagation(),!o){i(""),l(!0);try{await f(e,r)}catch(k){let E="Login failed";k instanceof Error?E=k.message:typeof k=="object"&&k!==null&&"message"in k&&(E=String(k.message)),i(E)}finally{l(!1)}}},j=async()=>{await v()},N=()=>d?"text-yellow-400":c?.active?"text-green-400":c?.statusCode===503?"text-orange-400":"text-red-400",A=()=>d?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400 mr-2"}):c?.active?n.jsx(Hr,{className:"h-4 w-4 mr-2"}):n.jsx(jF,{className:"h-4 w-4 mr-2"}),S=()=>d?"Checking...":c?.active?"Active":c?.statusCode===503?"Paused":c?.statusCode===500?"Database Error":"Issue Detected",L=c?.statusCode===503||c?.error&&c.error.includes("paused");return n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-0",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mx-auto h-24 w-auto flex items-center justify-center mb-8",children:n.jsx("img",{src:"/crm-logo.png",alt:"TogNinja CRM",className:"h-24 w-auto object-contain"})}),n.jsx("h2",{className:"text-center text-3xl font-extrabold text-white",children:"Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:"Access the CRM dashboard"})]}),n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Supabase Status:"}),n.jsxs("div",{className:`flex items-center ${N()}`,children:[A(),n.jsx("span",{className:"text-sm",children:S()})]})]}),!d&&!c?.active&&n.jsxs("div",{className:`mt-3 p-3 border rounded ${L?"bg-orange-900 border-orange-700":"bg-red-900 border-red-700"}`,children:[n.jsx("p",{className:`text-sm mb-2 ${L?"text-orange-100":"text-red-100"}`,children:c?.error||"Supabase project is not accessible"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsxs("button",{onClick:j,disabled:d,className:`flex items-center justify-center text-xs px-3 py-1 rounded border transition-colors ${L?"text-orange-300 border-orange-600 hover:text-orange-100 hover:border-orange-500":"text-red-300 border-red-600 hover:text-red-100 hover:border-red-500"} disabled:opacity-50`,children:[n.jsx(qh,{className:`h-3 w-3 mr-1 ${d?"animate-spin":""}`}),"Retry Check"]}),L&&n.jsxs("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-xs text-orange-300 hover:text-orange-100 px-3 py-1 rounded border border-orange-600 hover:border-orange-500 transition-colors",children:[n.jsx(Lm,{className:"h-3 w-3 mr-1"}),"Open Dashboard"]})]})]})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(on,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:I=>t(I.target.value),disabled:o})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Bg,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-600 placeholder-gray-400 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:I=>s(I.target.value),disabled:o})]})]})]}),a&&n.jsx("div",{className:"bg-red-900 border border-red-700 text-red-100 px-4 py-3 rounded",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2 flex-shrink-0"}),n.jsx("div",{className:"text-sm whitespace-pre-line",children:a})]})}),n.jsxs("div",{children:[n.jsx("button",{type:"submit",disabled:o||!c?.active&&!d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"}),!c?.active&&!d&&n.jsx("p",{className:"mt-2 text-xs text-gray-400 text-center",children:L?"Login disabled - Supabase project is paused":"Login disabled due to Supabase connection issues"})]})]}),!c?.active&&!d&&n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:L?"Project Paused - Action Required:":"Troubleshooting Steps:"}),L?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-orange-200 mb-2",children:"Your Supabase project appears to be paused. This commonly happens due to:"}),n.jsxs("ul",{className:"text-xs text-orange-300 space-y-1 ml-4",children:[n.jsx("li",{children:"• Project inactivity (free tier projects pause after 1 week of inactivity)"}),n.jsx("li",{children:"• Billing issues or plan limitations"}),n.jsx("li",{children:"• Manual project suspension"})]}),n.jsxs("div",{className:"mt-3 p-2 bg-orange-800 rounded",children:[n.jsx("p",{className:"text-xs text-orange-100 font-medium",children:"To resolve:"}),n.jsxs("ol",{className:"text-xs text-orange-200 mt-1 space-y-1",children:[n.jsxs("li",{children:["1. Visit your ",n.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-orange-100",children:"Supabase Dashboard"})]}),n.jsx("li",{children:'2. Find your project and click "Resume" if it shows as paused'}),n.jsx("li",{children:"3. Verify your billing plan is active"}),n.jsx("li",{children:"4. Wait 1-2 minutes for the project to fully resume"}),n.jsx("li",{children:'5. Click "Retry Check" above to test the connection'})]})]})]}):n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[n.jsx("li",{children:"1. Check your Supabase dashboard to ensure the project is active"}),n.jsx("li",{children:"2. Verify environment variables match your project settings"}),n.jsx("li",{children:"3. Check Supabase project logs for specific errors"}),n.jsx("li",{children:"4. Ensure your project hasn't been paused due to inactivity"}),n.jsx("li",{children:"5. Try regenerating your anon key if the issue persists"}),n.jsx("li",{children:"6. Check the Supabase status page for service outages"})]})]})]})})},xke=({variant:e,children:t})=>n.jsx("div",{className:`p-3 rounded-md border ${e==="destructive"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:t}),yke=({children:e})=>n.jsx("div",{children:e});function vke(){const[e,t]=_.useState("admin@newagefotografie.com"),[r,s]=_.useState(""),[a,i]=_.useState(!1),[o,l]=_.useState("");Jn();const c=async d=>{d.preventDefault(),i(!0),l("");try{const p=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:r})})).json();p.success?(localStorage.setItem("admin_user",JSON.stringify(p.user)),window.location.href="/admin/dashboard"):l(p.error||"Login failed")}catch(h){l("Network error: "+(h.message||"Unable to connect to server"))}finally{i(!1)}},u=async()=>{if(!e||!r){l("Please enter email and password to create admin account");return}i(!0),l("");try{const h=await(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r,firstName:"Admin",lastName:"User"})})).json();h.success?(l("Admin account created! You can now log in."),setTimeout(()=>l(""),3e3)):l(h.error||"Registration failed")}catch(d){l("Network error: "+(d.message||"Unable to connect to server"))}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-purple-600 p-3 rounded-full",children:n.jsx(ra,{className:"h-8 w-8 text-white"})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Age Fotografie"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Admin Dashboard Login"})]}),n.jsx(Rt,{className:"bg-white border-green-200",children:n.jsxs(Ut,{className:"pt-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(uF,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Neon Database"}),n.jsxs(Ma,{variant:"secondary",className:"bg-green-100 text-green-800",children:[n.jsx(GJ,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Independent Neon PostgreSQL - Complete data migration successful"})]})}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center space-x-2",children:[n.jsx(Bg,{className:"h-5 w-5"}),n.jsx("span",{children:"Admin Login"})]}),n.jsx(Ts,{children:"Access the CRM dashboard with your admin credentials"})]}),n.jsx(Ut,{children:n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"email",children:"Email"}),n.jsx(La,{id:"email",type:"email",value:e,onChange:d=>t(d.target.value),placeholder:"admin@newagefotografie.com",required:!0,disabled:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"password",children:"Password"}),n.jsx(La,{id:"password",type:"password",value:r,onChange:d=>s(d.target.value),placeholder:"Enter your password",required:!0,disabled:a})]}),o&&n.jsx(xke,{variant:o.includes("created")?"default":"destructive",children:n.jsx(yke,{children:o})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Vt,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),n.jsx(Vt,{type:"button",variant:"outline",className:"w-full",onClick:u,disabled:a,children:"Create Admin Account"})]})]})})]}),n.jsxs("div",{className:"text-center text-sm text-gray-500",children:[n.jsx("p",{children:"CRM Agent System - 74 Tools Registered"}),n.jsx("p",{children:"Complete Neon Migration - All Data Preserved"})]})]})})}async function bke(e){try{const t=e?`/api/crm/leads?status=${e.toLowerCase()}`:"/api/crm/leads",r=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!r.ok){const i=await r.text();throw new Error(`Failed to fetch leads: ${r.status} - ${i}`)}return(await r.json()).map(i=>({id:i.id,first_name:i.name?i.name.split(" ")[0]:"",last_name:i.name?i.name.split(" ").slice(1).join(" "):"",email:i.email,phone:i.phone,message:i.message,form_source:i.source||"MANUAL",status:i.status?i.status.toUpperCase():"NEW",created_at:i.createdAt}))}catch(t){throw t}}async function wke(e,t){try{const r=await fetch(`/api/crm/leads/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t.toLowerCase()})});if(!r.ok)throw new Error("Failed to update lead status");return await r.json()}catch(r){throw r}}async function jke(e){try{if(!(await fetch(`/api/crm/leads/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete lead");return!0}catch(t){throw t}}const Nke=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,u]=_.useState("all"),[d,h]=_.useState(!0),[p,f]=_.useState(null),[x,g]=_.useState(null),[v,b]=_.useState(null),[j,N]=_.useState(null),[A,S]=_.useState(!1),[L,I]=_.useState({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"}),[k,E]=_.useState({first_name:"",last_name:"",email:"",phone:"",message:"",status:"NEW"});_.useEffect(()=>{B()},[]),_.useEffect(()=>{C()},[e,a,o,c]);const B=async()=>{try{h(!0);const q=await bke();t(q)}catch{f("Failed to load leads. Please ensure the database schema is deployed."),t([])}finally{h(!1)}},C=()=>{let q=[...e];a&&(q=q.filter(R=>R.first_name&&R.first_name.toLowerCase().includes(a.toLowerCase())||R.last_name&&R.last_name.toLowerCase().includes(a.toLowerCase())||R.email.toLowerCase().includes(a.toLowerCase())||R.phone&&R.phone.toLowerCase().includes(a.toLowerCase())||R.message&&R.message.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(q=q.filter(R=>R.status===o)),c!=="all"&&(q=q.filter(R=>R.form_source===c)),s(q)},O=async(q,R)=>{try{await wke(q,R),t(K=>K.map(Z=>Z.id===q?{...Z,status:R}:Z))}catch{f("Failed to update lead status. Please try again.")}},M=async()=>{try{const q=await fetch("/api/crm/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${L.first_name} ${L.last_name}`.trim(),email:L.email,phone:L.phone,message:L.message,source:L.form_source,status:"new"})});if(!q.ok)throw new Error("Failed to create lead");const R=await q.json();t(K=>[R,...K]),S(!1),I({first_name:"",last_name:"",email:"",phone:"",message:"",form_source:"MANUAL"})}catch{f("Failed to create lead. Please try again.")}},D=async q=>{try{await jke(q),t(R=>R.filter(K=>K.id!==q)),g(null)}catch{f("Failed to delete lead. Please try again.")}},W=q=>{b(q)},z=q=>{N(q),E({first_name:q.first_name||"",last_name:q.last_name||"",email:q.email,phone:q.phone||"",message:q.message||"",status:q.status})},G=async()=>{if(j)try{const{data:q,error:R}=await Dt.from("leads").update({first_name:k.first_name||null,last_name:k.last_name||null,email:k.email,phone:k.phone||null,message:k.message||null,status:k.status}).eq("id",j.id).select().single();if(R)throw R;t(K=>K.map(Z=>Z.id===j.id?{...Z,...q}:Z)),N(null),E({first_name:"",last_name:"",email:"",phone:"",message:"",status:"NEW"})}catch{f("Failed to update lead. Please try again.")}},V=q=>{switch(q){case"NEW":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"})," New"]});case"CONTACTED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"})," Contacted"]});case"CONVERTED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"})," Converted"]});default:return null}},Y=q=>{switch(q){case"WARTELISTE":return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Waitlist"});case"KONTAKT":return n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Contact"});default:return null}},ie=q=>{const R=new Date(q);return R.toLocaleDateString()+" "+R.toLocaleTimeString()};return n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"New Leads"}),n.jsx("p",{className:"text-gray-600",children:"Manage and track your potential clients"})]}),n.jsxs("button",{onClick:()=>S(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),"Add Lead"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search leads...",value:a,onChange:q=>i(q.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:q=>l(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]}),n.jsxs("select",{value:c,onChange:q=>u(q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Sources"}),n.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),n.jsx("option",{value:"KONTAKT",children:"Contact"})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):p?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg m-6",children:p}):r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(q=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[q.first_name," ",q.last_name]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(on,{size:14,className:"mr-1"}),q.email]}),q.phone&&n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(ep,{size:14,className:"mr-1"}),q.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y(q.form_source)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("select",{value:q.status,onChange:R=>O(q.id,R.target.value),className:"text-xs border-0 bg-transparent focus:ring-0",children:[n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{size:14,className:"mr-1"}),ie(q.created_at)]})}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>W(q),className:"text-blue-600 hover:text-blue-900",title:"View Lead Details",children:n.jsx(Xn,{size:16})}),n.jsx("button",{onClick:()=>z(q),className:"text-purple-600 hover:text-purple-900",title:"Edit Lead",children:n.jsx(Ha,{size:16})}),n.jsx("button",{onClick:()=>O(q.id,"CONTACTED"),className:"text-green-600 hover:text-green-900",title:"Mark as Contacted",children:n.jsx(vF,{size:16})}),n.jsx("button",{onClick:()=>O(q.id,"CONVERTED"),className:"text-amber-600 hover:text-amber-900",title:"Mark as Converted",children:n.jsx(qee,{size:16})}),n.jsx("button",{onClick:()=>g(q.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(js,{size:16})})]})})]},q.id))})]})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No leads found matching your criteria."})})})]}),"      ",x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this lead? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>x&&D(x),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Lead Details"}),n.jsxs("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.first_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.last_name||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:v.phone||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded min-h-[60px]",children:v.message||"N/A"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("div",{className:"bg-gray-50 p-2 rounded",children:V(v.status)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),n.jsx("div",{className:"bg-gray-50 p-2 rounded",children:Y(v.form_source)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),n.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded",children:ie(v.created_at)})]})]})]}),n.jsx("div",{className:"flex justify-end mt-6",children:n.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Close"})})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Lead"}),n.jsxs("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-600",children:[n.jsx("span",{className:"sr-only",children:"Close"}),n.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{type:"text",value:k.first_name,onChange:q=>E({...k,first_name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{type:"text",value:k.last_name,onChange:q=>E({...k,last_name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",value:k.email,onChange:q=>E({...k,email:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:k.phone,onChange:q=>E({...k,phone:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{value:k.message,onChange:q=>E({...k,message:q.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:k.status,onChange:q=>E({...k,status:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"NEW",children:"New"}),n.jsx("option",{value:"CONTACTED",children:"Contacted"}),n.jsx("option",{value:"CONVERTED",children:"Converted"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:G,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Save Changes"})]})]})}),A&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Lead"}),n.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{type:"text",value:L.first_name,onChange:q=>I({...L,first_name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{type:"text",value:L.last_name,onChange:q=>I({...L,last_name:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:L.email,onChange:q=>I({...L,email:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("input",{type:"tel",value:L.phone,onChange:q=>I({...L,phone:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),n.jsxs("select",{value:L.form_source,onChange:q=>I({...L,form_source:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"MANUAL",children:"Manual Entry"}),n.jsx("option",{value:"WARTELISTE",children:"Waitlist"}),n.jsx("option",{value:"KONTAKT",children:"Contact Form"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),n.jsx("textarea",{value:L.message,onChange:q=>I({...L,message:q.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter lead details or notes..."})]})]}),n.jsxs("div",{className:"mt-6 flex space-x-3",children:[n.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:M,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",disabled:!L.first_name||!L.last_name||!L.email,children:"Create Lead"})]})]})})]})};var _ke=D7[" useId ".trim().toString()]||(()=>{}),Ske=0;function Sm(e){const[t,r]=_.useState(_ke());return fi(()=>{r(s=>s??String(Ske++))},[e]),t?`radix-${t}`:""}function Wh(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>t.current?.(...r),[])}function Ake(e,t=globalThis?.document){const r=Wh(e);_.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var kke="DismissableLayer",J4="dismissableLayer.update",Cke="dismissableLayer.pointerDownOutside",Pke="dismissableLayer.focusOutside",tL,eU=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O3=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(eU),[d,h]=_.useState(null),p=d?.ownerDocument??globalThis?.document,[,f]=_.useState({}),x=An(t,I=>h(I)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),j=d?g.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=j>=b,S=Oke(I=>{const k=I.target,E=[...u.branches].some(B=>B.contains(k));!A||E||(a?.(I),o?.(I),I.defaultPrevented||l?.())},p),L=Lke(I=>{const k=I.target;[...u.branches].some(B=>B.contains(k))||(i?.(I),o?.(I),I.defaultPrevented||l?.())},p);return Ake(I=>{j===u.layers.size-1&&(s?.(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},p),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(tL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),rL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=tL)}},[d,p,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),rL())},[d,u]),_.useEffect(()=>{const I=()=>f({});return document.addEventListener(J4,I),()=>document.removeEventListener(J4,I)},[]),n.jsx(Fr.div,{...c,ref:x,style:{pointerEvents:N?A?"auto":"none":void 0,...e.style},onFocusCapture:zr(e.onFocusCapture,L.onFocusCapture),onBlurCapture:zr(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:zr(e.onPointerDownCapture,S.onPointerDownCapture)})});O3.displayName=kke;var Eke="DismissableLayerBranch",Tke=_.forwardRef((e,t)=>{const r=_.useContext(eU),s=_.useRef(null),a=An(t,s);return _.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Fr.div,{...e,ref:a})});Tke.displayName=Eke;function Oke(e,t=globalThis?.document){const r=Wh(e),s=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){tU(Cke,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Lke(e,t=globalThis?.document){const r=Wh(e),s=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!s.current&&tU(Pke,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function rL(){const e=new CustomEvent(J4);document.dispatchEvent(e)}function tU(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ine(a,i):a.dispatchEvent(i)}var H5="focusScope.autoFocusOnMount",G5="focusScope.autoFocusOnUnmount",nL={bubbles:!1,cancelable:!0},Ike="FocusScope",L3=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=Wh(a),d=Wh(i),h=_.useRef(null),p=An(t,g=>c(g)),f=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let g=function(N){if(f.paused||!l)return;const A=N.target;l.contains(A)?h.current=A:ch(h.current,{select:!0})},v=function(N){if(f.paused||!l)return;const A=N.relatedTarget;A!==null&&(l.contains(A)||ch(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const S of N)S.removedNodes.length>0&&ch(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const j=new MutationObserver(b);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),j.disconnect()}}},[s,l,f.paused]),_.useEffect(()=>{if(l){aL.add(f);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(H5,nL);l.addEventListener(H5,u),l.dispatchEvent(b),b.defaultPrevented||(Mke(Bke(rU(l)),{select:!0}),document.activeElement===g&&ch(l))}return()=>{l.removeEventListener(H5,u),setTimeout(()=>{const b=new CustomEvent(G5,nL);l.addEventListener(G5,d),l.dispatchEvent(b),b.defaultPrevented||ch(g??document.body,{select:!0}),l.removeEventListener(G5,d),aL.remove(f)},0)}}},[l,u,d,f]);const x=_.useCallback(g=>{if(!r&&!s||f.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const j=g.currentTarget,[N,A]=Dke(j);N&&A?!g.shiftKey&&b===A?(g.preventDefault(),r&&ch(N,{select:!0})):g.shiftKey&&b===N&&(g.preventDefault(),r&&ch(A,{select:!0})):b===j&&g.preventDefault()}},[r,s,f.paused]);return n.jsx(Fr.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});L3.displayName=Ike;function Mke(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(ch(s,{select:t}),document.activeElement!==r)return}function Dke(e){const t=rU(e),r=sL(t,e),s=sL(t.reverse(),e);return[r,s]}function rU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sL(e,t){for(const r of e)if(!Rke(r,{upTo:t}))return r}function Rke(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fke(e){return e instanceof HTMLInputElement&&"select"in e}function ch(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Fke(e)&&t&&e.select()}}var aL=$ke();function $ke(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=iL(e,t),e.unshift(t)},remove(t){e=iL(e,t),e[0]?.resume()}}}function iL(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Bke(e){return e.filter(t=>t.tagName!=="A")}var zke="Portal",I3=_.forwardRef((e,t)=>{const{container:r,...s}=e,[a,i]=_.useState(!1);fi(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?MQ.createPortal(n.jsx(Fr.div,{...s,ref:t}),o):null});I3.displayName=zke;var K5=0;function nU(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??oL()),document.body.insertAdjacentElement("beforeend",e[1]??oL()),K5++,()=>{K5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),K5--}},[])}function oL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fc=function(){return Fc=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fc.apply(this,arguments)};function sU(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function Uke(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var M1="right-scroll-bar-position",D1="width-before-scroll-bar",qke="with-scroll-bars-hidden",Vke="--removed-body-scroll-bar-size";function Y5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Wke(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var Hke=typeof window<"u"?_.useLayoutEffect:_.useEffect,lL=new WeakMap;function Gke(e,t){var r=Wke(null,function(s){return e.forEach(function(a){return Y5(a,s)})});return Hke(function(){var s=lL.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Y5(l,null)}),i.forEach(function(l){a.has(l)||Y5(l,o)})}lL.set(r,e)},[e]),r}function Kke(e){return e}function Yke(e,t){t===void 0&&(t=Kke);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Zke(e){e===void 0&&(e={});var t=Yke(null);return t.options=Fc({async:!0,ssr:!1},e),t}var aU=function(e){var t=e.sideCar,r=sU(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,Fc({},r))};aU.isSideCarExport=!0;function Xke(e,t){return e.useMedium(t),aU}var iU=Zke(),Z5=function(){},Uj=_.forwardRef(function(e,t){var r=_.useRef(null),s=_.useState({onScrollCapture:Z5,onWheelCapture:Z5,onTouchMoveCapture:Z5}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,x=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,j=b===void 0?"div":b,N=e.gapMode,A=sU(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,L=Gke([r,t]),I=Fc(Fc({},A),a);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:iU,removeScrollBar:u,shards:h,noRelative:f,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:N}),o?_.cloneElement(_.Children.only(l),Fc(Fc({},I),{ref:L})):_.createElement(j,Fc({},I,{className:c,ref:L}),l))});Uj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uj.classNames={fullWidth:D1,zeroRight:M1};var Qke=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jke(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qke();return t&&e.setAttribute("nonce",t),e}function eCe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tCe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rCe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Jke())&&(eCe(t,r),tCe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nCe=function(){var e=rCe();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},oU=function(){var e=nCe(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},sCe={left:0,top:0,right:0,gap:0},X5=function(e){return parseInt(e||"",10)||0},aCe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[X5(r),X5(s),X5(a)]},iCe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sCe;var t=aCe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},oCe=oU(),vg="data-scroll-locked",lCe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qke,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(vg,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(M1,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(D1,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(M1," .").concat(M1,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(D1," .").concat(D1,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(vg,`] {
    `).concat(Vke,": ").concat(l,`px;
  }
`)},cL=function(){var e=parseInt(document.body.getAttribute(vg)||"0",10);return isFinite(e)?e:0},cCe=function(){_.useEffect(function(){return document.body.setAttribute(vg,(cL()+1).toString()),function(){var e=cL()-1;e<=0?document.body.removeAttribute(vg):document.body.setAttribute(vg,e.toString())}},[])},uCe=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;cCe();var i=_.useMemo(function(){return iCe(a)},[a]);return _.createElement(oCe,{styles:lCe(i,!t,a,r?"":"!important")})},eA=!1;if(typeof window<"u")try{var a1=Object.defineProperty({},"passive",{get:function(){return eA=!0,!0}});window.addEventListener("test",a1,a1),window.removeEventListener("test",a1,a1)}catch{eA=!1}var Vp=eA?{passive:!1}:!1,dCe=function(e){return e.tagName==="TEXTAREA"},lU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dCe(e)&&r[t]==="visible")},hCe=function(e){return lU(e,"overflowY")},fCe=function(e){return lU(e,"overflowX")},uL=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=cU(e,s);if(a){var i=uU(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},mCe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},pCe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},cU=function(e,t){return e==="v"?hCe(t):fCe(t)},uU=function(e,t){return e==="v"?mCe(t):pCe(t)},gCe=function(e,t){return e==="h"&&t==="rtl"?-1:1},xCe=function(e,t,r,s,a){var i=gCe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=uU(e,l),x=f[0],g=f[1],v=f[2],b=g-v-i*x;(x||b)&&cU(e,l)&&(h+=b,p+=x);var j=l.parentNode;l=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(p)<1||!a))&&(u=!0),u},i1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dL=function(e){return[e.deltaX,e.deltaY]},hL=function(e){return e&&"current"in e?e.current:e},yCe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vCe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bCe=0,Wp=[];function wCe(e){var t=_.useRef([]),r=_.useRef([0,0]),s=_.useRef(),a=_.useState(bCe++)[0],i=_.useState(oU)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Uke([e.lockRef.current],(e.shards||[]).map(hL),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=i1(g),j=r.current,N="deltaX"in g?g.deltaX:j[0]-b[0],A="deltaY"in g?g.deltaY:j[1]-b[1],S,L=g.target,I=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in g&&I==="h"&&L.type==="range")return!1;var k=uL(I,L);if(!k)return!0;if(k?S=I:(S=I==="v"?"h":"v",k=uL(I,L)),!k)return!1;if(!s.current&&"changedTouches"in g&&(N||A)&&(s.current=S),!S)return!0;var E=s.current||S;return xCe(E,v,g,E==="h"?N:A,!0)},[]),c=_.useCallback(function(g){var v=g;if(!(!Wp.length||Wp[Wp.length-1]!==i)){var b="deltaY"in v?dL(v):i1(v),j=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&yCe(S.delta,b)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var N=(o.current.shards||[]).map(hL).filter(Boolean).filter(function(S){return S.contains(v.target)}),A=N.length>0?l(v,N[0]):!o.current.noIsolation;A&&v.cancelable&&v.preventDefault()}}},[]),u=_.useCallback(function(g,v,b,j){var N={name:g,delta:v,target:b,should:j,shadowParent:jCe(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(A){return A!==N})},1)},[]),d=_.useCallback(function(g){r.current=i1(g),s.current=void 0},[]),h=_.useCallback(function(g){u(g.type,dL(g),g.target,l(g,e.lockRef.current))},[]),p=_.useCallback(function(g){u(g.type,i1(g),g.target,l(g,e.lockRef.current))},[]);_.useEffect(function(){return Wp.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Vp),document.addEventListener("touchmove",c,Vp),document.addEventListener("touchstart",d,Vp),function(){Wp=Wp.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Vp),document.removeEventListener("touchmove",c,Vp),document.removeEventListener("touchstart",d,Vp)}},[]);var f=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(i,{styles:vCe(a)}):null,f?_.createElement(uCe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jCe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NCe=Xke(iU,wCe);var M3=_.forwardRef(function(e,t){return _.createElement(Uj,Fc({},e,{ref:t,sideCar:NCe}))});M3.classNames=Uj.classNames;var _Ce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hp=new WeakMap,o1=new WeakMap,l1={},Q5=0,dU=function(e){return e&&(e.host||dU(e.parentNode))},SCe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=dU(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ACe=function(e,t,r,s){var a=SCe(t,Array.isArray(e)?e:[e]);l1[r]||(l1[r]=new WeakMap);var i=l1[r],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(s),x=f!==null&&f!=="false",g=(Hp.get(p)||0)+1,v=(i.get(p)||0)+1;Hp.set(p,g),i.set(p,v),o.push(p),g===1&&x&&o1.set(p,!0),v===1&&p.setAttribute(r,"true"),x||p.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(t),l.clear(),Q5++,function(){o.forEach(function(h){var p=Hp.get(h)-1,f=i.get(h)-1;Hp.set(h,p),i.set(h,f),p||(o1.has(h)||h.removeAttribute(s),o1.delete(h)),f||h.removeAttribute(r)}),Q5--,Q5||(Hp=new WeakMap,Hp=new WeakMap,o1=new WeakMap,l1={})}},hU=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=_Ce(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),ACe(s,a,r,"aria-hidden")):function(){return null}},qj="Dialog",[fU,iBe]=cd(qj),[kCe,dc]=fU(qj),mU=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u,d]=Mm({prop:s,defaultProp:a??!1,onChange:i,caller:qj});return n.jsx(kCe,{scope:t,triggerRef:l,contentRef:c,contentId:Sm(),titleId:Sm(),descriptionId:Sm(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};mU.displayName=qj;var pU="DialogTrigger",CCe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dc(pU,r),i=An(t,a.triggerRef);return n.jsx(Fr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":F3(a.open),...s,ref:i,onClick:zr(e.onClick,a.onOpenToggle)})});CCe.displayName=pU;var D3="DialogPortal",[PCe,gU]=fU(D3,{forceMount:void 0}),xU=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=dc(D3,t);return n.jsx(PCe,{scope:t,forceMount:r,children:_.Children.map(s,o=>n.jsx(Px,{present:r||i.open,children:n.jsx(I3,{asChild:!0,container:a,children:o})}))})};xU.displayName=D3;var lw="DialogOverlay",yU=_.forwardRef((e,t)=>{const r=gU(lw,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dc(lw,e.__scopeDialog);return i.modal?n.jsx(Px,{present:s||i.open,children:n.jsx(TCe,{...a,ref:t})}):null});yU.displayName=lw;var ECe=Ty("DialogOverlay.RemoveScroll"),TCe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dc(lw,r);return n.jsx(M3,{as:ECe,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Fr.div,{"data-state":F3(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Vm="DialogContent",vU=_.forwardRef((e,t)=>{const r=gU(Vm,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dc(Vm,e.__scopeDialog);return n.jsx(Px,{present:s||i.open,children:i.modal?n.jsx(OCe,{...a,ref:t}):n.jsx(LCe,{...a,ref:t})})});vU.displayName=Vm;var OCe=_.forwardRef((e,t)=>{const r=dc(Vm,e.__scopeDialog),s=_.useRef(null),a=An(t,r.contentRef,s);return _.useEffect(()=>{const i=s.current;if(i)return hU(i)},[]),n.jsx(bU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:zr(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:zr(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:zr(e.onFocusOutside,i=>i.preventDefault())})}),LCe=_.forwardRef((e,t)=>{const r=dc(Vm,e.__scopeDialog),s=_.useRef(!1),a=_.useRef(!1);return n.jsx(bU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),bU=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=dc(Vm,r),c=_.useRef(null),u=An(t,c);return nU(),n.jsxs(n.Fragment,{children:[n.jsx(L3,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(O3,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":F3(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(ICe,{titleId:l.titleId}),n.jsx(DCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),R3="DialogTitle",wU=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dc(R3,r);return n.jsx(Fr.h2,{id:a.titleId,...s,ref:t})});wU.displayName=R3;var jU="DialogDescription",NU=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dc(jU,r);return n.jsx(Fr.p,{id:a.descriptionId,...s,ref:t})});NU.displayName=jU;var _U="DialogClose",SU=_.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dc(_U,r);return n.jsx(Fr.button,{type:"button",...s,ref:t,onClick:zr(e.onClick,()=>a.onOpenChange(!1))})});SU.displayName=_U;function F3(e){return e?"open":"closed"}var AU="DialogTitleWarning",[oBe,kU]=Rne(AU,{contentName:Vm,titleName:R3,docsSlug:"dialog"}),ICe=({titleId:e})=>{const t=kU(AU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},MCe="DialogDescriptionWarning",DCe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kU(MCe).contentName}}.`;return _.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},RCe=mU,FCe=xU,CU=yU,PU=vU,EU=wU,TU=NU,$Ce=SU;const OU=RCe,BCe=FCe,LU=_.forwardRef(({className:e,...t},r)=>n.jsx(CU,{ref:r,className:Sn("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LU.displayName=CU.displayName;const $3=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(BCe,{children:[n.jsx(LU,{}),n.jsxs(PU,{ref:s,className:Sn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs($Ce,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$3.displayName=PU.displayName;const B3=({className:e,...t})=>n.jsx("div",{className:Sn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});B3.displayName="DialogHeader";const z3=({className:e,...t})=>n.jsx("div",{className:Sn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});z3.displayName="DialogFooter";const U3=_.forwardRef(({className:e,...t},r)=>n.jsx(EU,{ref:r,className:Sn("text-lg font-semibold leading-none tracking-tight",e),...t}));U3.displayName=EU.displayName;const q3=_.forwardRef(({className:e,...t},r)=>n.jsx(TU,{ref:r,className:Sn("text-sm text-muted-foreground",e),...t}));q3.displayName=TU.displayName;const fx=_.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Sn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));fx.displayName="Textarea";var Vj="Switch",[zCe,lBe]=cd(Vj),[UCe,qCe]=zCe(Vj),IU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=_.useState(null),x=An(t,N=>f(N)),g=_.useRef(!1),v=p?d||!!p.closest("form"):!0,[b,j]=Mm({prop:a,defaultProp:i??!1,onChange:u,caller:Vj});return n.jsxs(UCe,{scope:r,checked:b,disabled:l,children:[n.jsx(Fr.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":FU(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:zr(e.onClick,N=>{j(A=>!A),v&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),v&&n.jsx(RU,{control:p,bubbles:!g.current,name:s,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});IU.displayName=Vj;var MU="SwitchThumb",DU=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=qCe(MU,r);return n.jsx(Fr.span,{"data-state":FU(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});DU.displayName=MU;var VCe="SwitchBubbleInput",RU=_.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=_.useRef(null),l=An(o,i),c=Gw(r),u=Kw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const x=new Event("click",{bubbles:s});f.call(d,r),d.dispatchEvent(x)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});RU.displayName=VCe;function FU(e){return e?"checked":"unchecked"}var $U=IU,WCe=DU;const V3=_.forwardRef(({className:e,...t},r)=>n.jsx($U,{className:Sn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(WCe,{className:Sn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));V3.displayName=$U.displayName;function fL(e,[t,r]){return Math.min(r,Math.max(t,e))}function BU(e){const t=e+"CollectionProvider",[r,s]=cd(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,j=ye.useRef(null),N=ye.useRef(new Map).current;return n.jsx(a,{scope:v,itemMap:N,collectionRef:j,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Ty(l),u=ye.forwardRef((g,v)=>{const{scope:b,children:j}=g,N=i(l,b),A=An(v,N.collectionRef);return n.jsx(c,{ref:A,children:j})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Ty(d),f=ye.forwardRef((g,v)=>{const{scope:b,children:j,...N}=g,A=ye.useRef(null),S=An(v,A),L=i(d,b);return ye.useEffect(()=>(L.itemMap.set(A,{ref:A,...N}),()=>void L.itemMap.delete(A))),n.jsx(p,{[h]:"",ref:S,children:j})});f.displayName=d;function x(g){const v=i(e+"CollectionConsumer",g);return ye.useCallback(()=>{const j=v.collectionRef.current;if(!j)return[];const N=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((L,I)=>N.indexOf(L.ref.current)-N.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},x,s]}var HCe=_.createContext(void 0);function W3(e){const t=_.useContext(HCe);return e||t||"ltr"}const GCe=["top","right","bottom","left"],Hh=Math.min,Po=Math.max,cw=Math.round,c1=Math.floor,Zc=e=>({x:e,y:e}),KCe={left:"right",right:"left",bottom:"top",top:"bottom"},YCe={start:"end",end:"start"};function tA(e,t,r){return Po(e,Hh(t,r))}function ad(e,t){return typeof e=="function"?e(t):e}function id(e){return e.split("-")[0]}function Vx(e){return e.split("-")[1]}function H3(e){return e==="x"?"y":"x"}function G3(e){return e==="y"?"height":"width"}const ZCe=new Set(["top","bottom"]);function qc(e){return ZCe.has(id(e))?"y":"x"}function K3(e){return H3(qc(e))}function XCe(e,t,r){r===void 0&&(r=!1);const s=Vx(e),a=K3(e),i=G3(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=uw(o)),[o,uw(o)]}function QCe(e){const t=uw(e);return[rA(e),t,rA(t)]}function rA(e){return e.replace(/start|end/g,t=>YCe[t])}const mL=["left","right"],pL=["right","left"],JCe=["top","bottom"],ePe=["bottom","top"];function tPe(e,t,r){switch(e){case"top":case"bottom":return r?t?pL:mL:t?mL:pL;case"left":case"right":return t?JCe:ePe;default:return[]}}function rPe(e,t,r,s){const a=Vx(e);let i=tPe(id(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(rA)))),i}function uw(e){return e.replace(/left|right|bottom|top/g,t=>KCe[t])}function nPe(e){return{top:0,right:0,bottom:0,left:0,...e}}function zU(e){return typeof e!="number"?nPe(e):{top:e,right:e,bottom:e,left:e}}function dw(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function gL(e,t,r){let{reference:s,floating:a}=e;const i=qc(t),o=K3(t),l=G3(o),c=id(t),u=i==="y",d=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,p=s[l]/2-a[l]/2;let f;switch(c){case"top":f={x:d,y:s.y-a.height};break;case"bottom":f={x:d,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:h};break;case"left":f={x:s.x-a.width,y:h};break;default:f={x:s.x,y:s.y}}switch(Vx(t)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}const sPe=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=gL(u,s,c),p=s,f={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:j,y:N,data:A,reset:S}=await b({x:d,y:h,initialPlacement:s,placement:p,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});d=j??d,h=N??h,f={...f,[v]:{...f[v],...A}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:h}=gL(u,p,c)),g=-1)}return{x:d,y:h,placement:p,strategy:a,middlewareData:f}};async function fv(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=ad(t,e),x=zU(f),v=l[p?h==="floating"?"reference":"floating":h],b=dw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},S=dw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:N,strategy:c}):j);return{top:(b.top-S.top+x.top)/A.y,bottom:(S.bottom-b.bottom+x.bottom)/A.y,left:(b.left-S.left+x.left)/A.x,right:(S.right-b.right+x.right)/A.x}}const aPe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ad(e,t)||{};if(u==null)return{};const h=zU(d),p={x:r,y:s},f=K3(a),x=G3(f),g=await o.getDimensions(u),v=f==="y",b=v?"top":"left",j=v?"bottom":"right",N=v?"clientHeight":"clientWidth",A=i.reference[x]+i.reference[f]-p[f]-i.floating[x],S=p[f]-i.reference[f],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[N]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=l.floating[N]||i.floating[x]);const k=A/2-S/2,E=I/2-g[x]/2-1,B=Hh(h[b],E),C=Hh(h[j],E),O=B,M=I-g[x]-C,D=I/2-g[x]/2+k,W=tA(O,D,M),z=!c.arrow&&Vx(a)!=null&&D!==W&&i.reference[x]/2-(D<O?B:C)-g[x]/2<0,G=z?D<O?D-O:D-M:0;return{[f]:p[f]+G,data:{[f]:W,centerOffset:D-W-G,...z&&{alignmentOffset:G}},reset:z}}}),iPe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=ad(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=id(a),j=qc(l),N=id(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(N||!g?[uw(l)]:QCe(l)),L=x!=="none";!p&&L&&S.push(...rPe(l,g,x,A));const I=[l,...S],k=await fv(t,v),E=[];let B=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&E.push(k[b]),h){const D=XCe(a,o,A);E.push(k[D[0]],k[D[1]])}if(B=[...B,{placement:a,overflows:E}],!E.every(D=>D<=0)){var C,O;const D=(((C=i.flip)==null?void 0:C.index)||0)+1,W=I[D];if(W&&(!(h==="alignment"?j!==qc(W):!1)||B.every(V=>qc(V.placement)===j?V.overflows[0]>0:!0)))return{data:{index:D,overflows:B},reset:{placement:W}};let z=(O=B.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(f){case"bestFit":{var M;const G=(M=B.filter(V=>{if(L){const Y=qc(V.placement);return Y===j||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:M[0];G&&(z=G);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function xL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yL(e){return GCe.some(t=>e[t]>=0)}const oPe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=ad(e,t);switch(s){case"referenceHidden":{const i=await fv(t,{...a,elementContext:"reference"}),o=xL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yL(o)}}}case"escaped":{const i=await fv(t,{...a,altBoundary:!0}),o=xL(i,r.floating);return{data:{escapedOffsets:o,escaped:yL(o)}}}default:return{}}}}},UU=new Set(["left","top"]);async function lPe(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=id(r),l=Vx(r),c=qc(r)==="y",u=UU.has(o)?-1:1,d=i&&c?-1:1,h=ad(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(f=l==="end"?x*-1:x),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const cPe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await lPe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},uPe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:j}=v;return{x:b,y:j}}},...c}=ad(e,t),u={x:r,y:s},d=await fv(t,c),h=qc(id(a)),p=H3(h);let f=u[p],x=u[h];if(i){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",j=f+d[v],N=f-d[b];f=tA(j,f,N)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",j=x+d[v],N=x-d[b];x=tA(j,x,N)}const g=l.fn({...t,[p]:f,[h]:x});return{...g,data:{x:g.x-r,y:g.y-s,enabled:{[p]:i,[h]:o}}}}}},dPe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ad(e,t),d={x:r,y:s},h=qc(a),p=H3(h);let f=d[p],x=d[h];const g=ad(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const N=p==="y"?"height":"width",A=i.reference[p]-i.floating[N]+v.mainAxis,S=i.reference[p]+i.reference[N]-v.mainAxis;f<A?f=A:f>S&&(f=S)}if(u){var b,j;const N=p==="y"?"width":"height",A=UU.has(id(a)),S=i.reference[h]-i.floating[N]+(A&&((b=o.offset)==null?void 0:b[h])||0)+(A?0:v.crossAxis),L=i.reference[h]+i.reference[N]+(A?0:((j=o.offset)==null?void 0:j[h])||0)-(A?v.crossAxis:0);x<S?x=S:x>L&&(x=L)}return{[p]:f,[h]:x}}}},hPe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ad(e,t),d=await fv(t,u),h=id(a),p=Vx(a),f=qc(a)==="y",{width:x,height:g}=i.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,v=p==="end"?"top":"bottom");const j=g-d.top-d.bottom,N=x-d.left-d.right,A=Hh(g-d[v],j),S=Hh(x-d[b],N),L=!t.middlewareData.shift;let I=A,k=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(I=j),L&&!p){const B=Po(d.left,0),C=Po(d.right,0),O=Po(d.top,0),M=Po(d.bottom,0);f?k=x-2*(B!==0||C!==0?B+C:Po(d.left,d.right)):I=g-2*(O!==0||M!==0?O+M:Po(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:I});const E=await o.getDimensions(l.floating);return x!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function Wj(){return typeof window<"u"}function Wx(e){return qU(e)?(e.nodeName||"").toLowerCase():"#document"}function $o(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ou(e){var t;return(t=(qU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qU(e){return Wj()?e instanceof Node||e instanceof $o(e).Node:!1}function ic(e){return Wj()?e instanceof Element||e instanceof $o(e).Element:!1}function nu(e){return Wj()?e instanceof HTMLElement||e instanceof $o(e).HTMLElement:!1}function vL(e){return!Wj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $o(e).ShadowRoot}const fPe=new Set(["inline","contents"]);function Vv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=oc(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!fPe.has(a)}const mPe=new Set(["table","td","th"]);function pPe(e){return mPe.has(Wx(e))}const gPe=[":popover-open",":modal"];function Hj(e){return gPe.some(t=>{try{return e.matches(t)}catch{return!1}})}const xPe=["transform","translate","scale","rotate","perspective"],yPe=["transform","translate","scale","rotate","perspective","filter"],vPe=["paint","layout","strict","content"];function Y3(e){const t=Z3(),r=ic(e)?oc(e):e;return xPe.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yPe.some(s=>(r.willChange||"").includes(s))||vPe.some(s=>(r.contain||"").includes(s))}function bPe(e){let t=Gh(e);for(;nu(t)&&!mx(t);){if(Y3(t))return t;if(Hj(t))return null;t=Gh(t)}return null}function Z3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wPe=new Set(["html","body","#document"]);function mx(e){return wPe.has(Wx(e))}function oc(e){return $o(e).getComputedStyle(e)}function Gj(e){return ic(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gh(e){if(Wx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vL(e)&&e.host||ou(e);return vL(t)?t.host:t}function VU(e){const t=Gh(e);return mx(t)?e.ownerDocument?e.ownerDocument.body:e.body:nu(t)&&Vv(t)?t:VU(t)}function mv(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=VU(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=$o(a);if(i){const l=nA(o);return t.concat(o,o.visualViewport||[],Vv(a)?a:[],l&&r?mv(l):[])}return t.concat(a,mv(a,[],r))}function nA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WU(e){const t=oc(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=nu(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=cw(r)!==i||cw(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function X3(e){return ic(e)?e:e.contextElement}function bg(e){const t=X3(e);if(!nu(t))return Zc(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=WU(t);let o=(i?cw(r.width):r.width)/s,l=(i?cw(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jPe=Zc(0);function HU(e){const t=$o(e);return!Z3()||!t.visualViewport?jPe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function NPe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$o(e)?!1:t}function Wm(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=X3(e);let o=Zc(1);t&&(s?ic(s)&&(o=bg(s)):o=bg(e));const l=NPe(i,r,s)?HU(i):Zc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const p=$o(i),f=s&&ic(s)?$o(s):s;let x=p,g=nA(x);for(;g&&s&&f!==x;){const v=bg(g),b=g.getBoundingClientRect(),j=oc(g),N=b.left+(g.clientLeft+parseFloat(j.paddingLeft))*v.x,A=b.top+(g.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=N,u+=A,x=$o(g),g=nA(x)}}return dw({width:d,height:h,x:c,y:u})}function Kj(e,t){const r=Gj(e).scrollLeft;return t?t.left+r:Wm(ou(e)).left+r}function GU(e,t){const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-Kj(e,r),a=r.top+t.scrollTop;return{x:s,y:a}}function _Pe(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ou(s),l=t?Hj(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Zc(1);const d=Zc(0),h=nu(s);if((h||!h&&!i)&&((Wx(s)!=="body"||Vv(o))&&(c=Gj(s)),nu(s))){const f=Wm(s);u=bg(s),d.x=f.x+s.clientLeft,d.y=f.y+s.clientTop}const p=o&&!h&&!i?GU(o,c):Zc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function SPe(e){return Array.from(e.getClientRects())}function APe(e){const t=ou(e),r=Gj(e),s=e.ownerDocument.body,a=Po(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Po(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Kj(e);const l=-r.scrollTop;return oc(s).direction==="rtl"&&(o+=Po(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const bL=25;function kPe(e,t){const r=$o(e),s=ou(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Z3();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=Kj(s);if(u<=0){const d=s.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(s.clientWidth-h.clientWidth-f);x<=bL&&(i-=x)}else u<=bL&&(i+=u);return{width:i,height:o,x:l,y:c}}const CPe=new Set(["absolute","fixed"]);function PPe(e,t){const r=Wm(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=nu(e)?bg(e):Zc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function wL(e,t,r){let s;if(t==="viewport")s=kPe(e,r);else if(t==="document")s=APe(ou(e));else if(ic(t))s=PPe(t,r);else{const a=HU(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return dw(s)}function KU(e,t){const r=Gh(e);return r===t||!ic(r)||mx(r)?!1:oc(r).position==="fixed"||KU(r,t)}function EPe(e,t){const r=t.get(e);if(r)return r;let s=mv(e,[],!1).filter(l=>ic(l)&&Wx(l)!=="body"),a=null;const i=oc(e).position==="fixed";let o=i?Gh(e):e;for(;ic(o)&&!mx(o);){const l=oc(o),c=Y3(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&CPe.has(a.position)||Vv(o)&&!c&&KU(e,o))?s=s.filter(d=>d!==o):a=l,o=Gh(o)}return t.set(e,s),s}function TPe(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Hj(t)?[]:EPe(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((u,d)=>{const h=wL(t,d,a);return u.top=Po(h.top,u.top),u.right=Hh(h.right,u.right),u.bottom=Hh(h.bottom,u.bottom),u.left=Po(h.left,u.left),u},wL(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OPe(e){const{width:t,height:r}=WU(e);return{width:t,height:r}}function LPe(e,t,r){const s=nu(t),a=ou(t),i=r==="fixed",o=Wm(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Zc(0);function u(){c.x=Kj(a)}if(s||!s&&!i)if((Wx(t)!=="body"||Vv(a))&&(l=Gj(t)),s){const f=Wm(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&u();i&&!s&&a&&u();const d=a&&!s&&!i?GU(a,l):Zc(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function J5(e){return oc(e).position==="static"}function jL(e,t){if(!nu(e)||oc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ou(e)===r&&(r=r.ownerDocument.body),r}function YU(e,t){const r=$o(e);if(Hj(e))return r;if(!nu(e)){let a=Gh(e);for(;a&&!mx(a);){if(ic(a)&&!J5(a))return a;a=Gh(a)}return r}let s=jL(e,t);for(;s&&pPe(s)&&J5(s);)s=jL(s,t);return s&&mx(s)&&J5(s)&&!Y3(s)?r:s||bPe(e)||r}const IPe=async function(e){const t=this.getOffsetParent||YU,r=this.getDimensions,s=await r(e.floating);return{reference:LPe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function MPe(e){return oc(e).direction==="rtl"}const DPe={convertOffsetParentRelativeRectToViewportRelativeRect:_Pe,getDocumentElement:ou,getClippingRect:TPe,getOffsetParent:YU,getElementRects:IPe,getClientRects:SPe,getDimensions:OPe,getScale:bg,isElement:ic,isRTL:MPe};function ZU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RPe(e,t){let r=null,s;const a=ou(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const x=c1(h),g=c1(a.clientWidth-(d+p)),v=c1(a.clientHeight-(h+f)),b=c1(d),N={rootMargin:-x+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Po(0,Hh(1,c))||1};let A=!0;function S(L){const I=L[0].intersectionRatio;if(I!==c){if(!A)return o();I?o(!1,I):s=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!ZU(u,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(S,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,N)}r.observe(e)}return o(!0),i}function FPe(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=X3(e),d=a||i?[...u?mv(u):[],...mv(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=u&&l?RPe(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(b=>{let[j]=b;j&&j.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=f)==null||N.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let x,g=c?Wm(e):null;c&&v();function v(){const b=Wm(e);g&&!ZU(g,b)&&r(),g=b,x=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h?.(),(b=f)==null||b.disconnect(),f=null,c&&cancelAnimationFrame(x)}}const $Pe=cPe,BPe=uPe,zPe=iPe,UPe=hPe,qPe=oPe,NL=aPe,VPe=dPe,WPe=(e,t,r)=>{const s=new Map,a={platform:DPe,...r},i={...a.platform,_c:s};return sPe(e,t,{...a,platform:i})};var HPe=typeof document<"u",GPe=function(){},R1=HPe?_.useLayoutEffect:GPe;function hw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!hw(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!hw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function XU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _L(e,t){const r=XU(e);return Math.round(t*r)/r}function e_(e){const t=_.useRef(e);return R1(()=>{t.current=e}),t}function KPe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=_.useState(s);hw(p,s)||f(s);const[x,g]=_.useState(null),[v,b]=_.useState(null),j=_.useCallback(V=>{V!==L.current&&(L.current=V,g(V))},[]),N=_.useCallback(V=>{V!==I.current&&(I.current=V,b(V))},[]),A=i||x,S=o||v,L=_.useRef(null),I=_.useRef(null),k=_.useRef(d),E=c!=null,B=e_(c),C=e_(a),O=e_(u),M=_.useCallback(()=>{if(!L.current||!I.current)return;const V={placement:t,strategy:r,middleware:p};C.current&&(V.platform=C.current),WPe(L.current,I.current,V).then(Y=>{const ie={...Y,isPositioned:O.current!==!1};D.current&&!hw(k.current,ie)&&(k.current=ie,Ov.flushSync(()=>{h(ie)}))})},[p,t,r,C,O]);R1(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const D=_.useRef(!1);R1(()=>(D.current=!0,()=>{D.current=!1}),[]),R1(()=>{if(A&&(L.current=A),S&&(I.current=S),A&&S){if(B.current)return B.current(A,S,M);M()}},[A,S,M,B,E]);const W=_.useMemo(()=>({reference:L,floating:I,setReference:j,setFloating:N}),[j,N]),z=_.useMemo(()=>({reference:A,floating:S}),[A,S]),G=_.useMemo(()=>{const V={position:r,left:0,top:0};if(!z.floating)return V;const Y=_L(z.floating,d.x),ie=_L(z.floating,d.y);return l?{...V,transform:"translate("+Y+"px, "+ie+"px)",...XU(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ie}},[r,l,z.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:M,refs:W,elements:z,floatingStyles:G}),[d,M,W,z,G])}const YPe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?NL({element:s.current,padding:a}).fn(r):{}:s?NL({element:s,padding:a}).fn(r):{}}}},ZPe=(e,t)=>({...$Pe(e),options:[e,t]}),XPe=(e,t)=>({...BPe(e),options:[e,t]}),QPe=(e,t)=>({...VPe(e),options:[e,t]}),JPe=(e,t)=>({...zPe(e),options:[e,t]}),eEe=(e,t)=>({...UPe(e),options:[e,t]}),tEe=(e,t)=>({...qPe(e),options:[e,t]}),rEe=(e,t)=>({...YPe(e),options:[e,t]});var nEe="Arrow",QU=_.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Fr.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});QU.displayName=nEe;var sEe=QU,Q3="Popper",[JU,eq]=cd(Q3),[aEe,tq]=JU(Q3),rq=e=>{const{__scopePopper:t,children:r}=e,[s,a]=_.useState(null);return n.jsx(aEe,{scope:t,anchor:s,onAnchorChange:a,children:r})};rq.displayName=Q3;var nq="PopperAnchor",sq=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=tq(nq,r),o=_.useRef(null),l=An(t,o),c=_.useRef(null);return _.useEffect(()=>{const u=c.current;c.current=s?.current||o.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:n.jsx(Fr.div,{...a,ref:l})});sq.displayName=nq;var J3="PopperContent",[iEe,oEe]=JU(J3),aq=_.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...g}=e,v=tq(J3,r),[b,j]=_.useState(null),N=An(t,ae=>j(ae)),[A,S]=_.useState(null),L=Kw(A),I=L?.width??0,k=L?.height??0,E=s+(i!=="center"?"-"+i:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],O=C.length>0,M={padding:B,boundary:C.filter(cEe),altBoundary:O},{refs:D,floatingStyles:W,placement:z,isPositioned:G,middlewareData:V}=KPe({strategy:"fixed",placement:E,whileElementsMounted:(...ae)=>FPe(...ae,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[ZPe({mainAxis:a+k,alignmentAxis:o}),c&&XPe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?QPe():void 0,...M}),c&&JPe({...M}),eEe({...M,apply:({elements:ae,rects:xe,availableWidth:X,availableHeight:me})=>{const{width:ne,height:he}=xe.reference,ke=ae.floating.style;ke.setProperty("--radix-popper-available-width",`${X}px`),ke.setProperty("--radix-popper-available-height",`${me}px`),ke.setProperty("--radix-popper-anchor-width",`${ne}px`),ke.setProperty("--radix-popper-anchor-height",`${he}px`)}}),A&&rEe({element:A,padding:l}),uEe({arrowWidth:I,arrowHeight:k}),p&&tEe({strategy:"referenceHidden",...M})]}),[Y,ie]=lq(z),q=Wh(x);fi(()=>{G&&q?.()},[G,q]);const R=V.arrow?.x,K=V.arrow?.y,Z=V.arrow?.centerOffset!==0,[se,ue]=_.useState();return fi(()=>{b&&ue(window.getComputedStyle(b).zIndex)},[b]),n.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(iEe,{scope:r,placedSide:Y,onArrowChange:S,arrowX:R,arrowY:K,shouldHideArrow:Z,children:n.jsx(Fr.div,{"data-side":Y,"data-align":ie,...g,ref:N,style:{...g.style,animation:G?void 0:"none"}})})})});aq.displayName=J3;var iq="PopperArrow",lEe={top:"bottom",right:"left",bottom:"top",left:"right"},oq=_.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=oEe(iq,s),o=lEe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(sEe,{...a,ref:r,style:{...a.style,display:"block"}})})});oq.displayName=iq;function cEe(e){return e!==null}var uEe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=lq(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(a.arrow?.x??0)+l/2,f=(a.arrow?.y??0)+c/2;let x="",g="";return u==="bottom"?(x=o?h:`${p}px`,g=`${-c}px`):u==="top"?(x=o?h:`${p}px`,g=`${s.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?h:`${f}px`):u==="left"&&(x=`${s.floating.width+c}px`,g=o?h:`${f}px`),{data:{x,y:g}}}});function lq(e){const[t,r="center"]=e.split("-");return[t,r]}var dEe=rq,hEe=sq,fEe=aq,mEe=oq,cq=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pEe="VisuallyHidden",gEe=_.forwardRef((e,t)=>n.jsx(Fr.span,{...e,ref:t,style:{...cq,...e.style}}));gEe.displayName=pEe;var xEe=[" ","Enter","ArrowUp","ArrowDown"],yEe=[" ","Enter"],Hm="Select",[Yj,Zj,vEe]=BU(Hm),[Hx,cBe]=cd(Hm,[vEe,eq]),Xj=eq(),[bEe,af]=Hx(Hm),[wEe,jEe]=Hx(Hm),uq=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:x}=e,g=Xj(t),[v,b]=_.useState(null),[j,N]=_.useState(null),[A,S]=_.useState(!1),L=W3(u),[I,k]=Mm({prop:s,defaultProp:a??!1,onChange:i,caller:Hm}),[E,B]=Mm({prop:o,defaultProp:l,onChange:c,caller:Hm}),C=_.useRef(null),O=v?x||!!v.closest("form"):!0,[M,D]=_.useState(new Set),W=Array.from(M).map(z=>z.props.value).join(";");return n.jsx(dEe,{...g,children:n.jsxs(bEe,{required:f,scope:t,trigger:v,onTriggerChange:b,valueNode:j,onValueNodeChange:N,valueNodeHasChildren:A,onValueNodeHasChildrenChange:S,contentId:Sm(),value:E,onValueChange:B,open:I,onOpenChange:k,dir:L,triggerPointerDownPosRef:C,disabled:p,children:[n.jsx(Yj.Provider,{scope:t,children:n.jsx(wEe,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(z=>{D(G=>new Set(G).add(z))},[]),onNativeOptionRemove:_.useCallback(z=>{D(G=>{const V=new Set(G);return V.delete(z),V})},[]),children:r})}),O?n.jsxs(Iq,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:z=>B(z.target.value),disabled:p,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(M)]},W):null]})})};uq.displayName=Hm;var dq="SelectTrigger",hq=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Xj(r),o=af(dq,r),l=o.disabled||s,c=An(t,o.onTriggerChange),u=Zj(r),d=_.useRef("touch"),[h,p,f]=Dq(g=>{const v=u().filter(N=>!N.disabled),b=v.find(N=>N.value===o.value),j=Rq(v,g,b);j!==void 0&&o.onValueChange(j.value)}),x=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(hEe,{asChild:!0,...i,children:n.jsx(Fr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Mq(o.value)?"":void 0,...a,ref:c,onClick:zr(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:zr(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:zr(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(v&&g.key===" ")&&xEe.includes(g.key)&&(x(),g.preventDefault())})})})});hq.displayName=dq;var fq="SelectValue",mq=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=af(fq,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=An(t,c.onValueNodeChange);return fi(()=>{u(d)},[u,d]),n.jsx(Fr.span,{...l,ref:h,style:{pointerEvents:"none"},children:Mq(c.value)?n.jsx(n.Fragment,{children:o}):i})});mq.displayName=fq;var NEe="SelectIcon",pq=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Fr.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});pq.displayName=NEe;var _Ee="SelectPortal",gq=e=>n.jsx(I3,{asChild:!0,...e});gq.displayName=_Ee;var Gm="SelectContent",xq=_.forwardRef((e,t)=>{const r=af(Gm,e.__scopeSelect),[s,a]=_.useState();if(fi(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Ov.createPortal(n.jsx(yq,{scope:e.__scopeSelect,children:n.jsx(Yj.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(vq,{...e,ref:t})});xq.displayName=Gm;var ql=10,[yq,of]=Hx(Gm),SEe="SelectContentImpl",AEe=Ty("SelectContent.RemoveScroll"),vq=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v,...b}=e,j=af(Gm,r),[N,A]=_.useState(null),[S,L]=_.useState(null),I=An(t,ae=>A(ae)),[k,E]=_.useState(null),[B,C]=_.useState(null),O=Zj(r),[M,D]=_.useState(!1),W=_.useRef(!1);_.useEffect(()=>{if(N)return hU(N)},[N]),nU();const z=_.useCallback(ae=>{const[xe,...X]=O().map(he=>he.ref.current),[me]=X.slice(-1),ne=document.activeElement;for(const he of ae)if(he===ne||(he?.scrollIntoView({block:"nearest"}),he===xe&&S&&(S.scrollTop=0),he===me&&S&&(S.scrollTop=S.scrollHeight),he?.focus(),document.activeElement!==ne))return},[O,S]),G=_.useCallback(()=>z([k,N]),[z,k,N]);_.useEffect(()=>{M&&G()},[M,G]);const{onOpenChange:V,triggerPointerDownPosRef:Y}=j;_.useEffect(()=>{if(N){let ae={x:0,y:0};const xe=me=>{ae={x:Math.abs(Math.round(me.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(me.pageY)-(Y.current?.y??0))}},X=me=>{ae.x<=10&&ae.y<=10?me.preventDefault():N.contains(me.target)||V(!1),document.removeEventListener("pointermove",xe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",X,{capture:!0})}}},[N,V,Y]),_.useEffect(()=>{const ae=()=>V(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[V]);const[ie,q]=Dq(ae=>{const xe=O().filter(ne=>!ne.disabled),X=xe.find(ne=>ne.ref.current===document.activeElement),me=Rq(xe,ae,X);me&&setTimeout(()=>me.ref.current.focus())}),R=_.useCallback((ae,xe,X)=>{const me=!W.current&&!X;(j.value!==void 0&&j.value===xe||me)&&(E(ae),me&&(W.current=!0))},[j.value]),K=_.useCallback(()=>N?.focus(),[N]),Z=_.useCallback((ae,xe,X)=>{const me=!W.current&&!X;(j.value!==void 0&&j.value===xe||me)&&C(ae)},[j.value]),se=s==="popper"?sA:bq,ue=se===sA?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return n.jsx(yq,{scope:r,content:N,viewport:S,onViewportChange:L,itemRefCallback:R,selectedItem:k,onItemLeave:K,itemTextRefCallback:Z,focusSelectedItem:G,selectedItemText:B,position:s,isPositioned:M,searchRef:ie,children:n.jsx(M3,{as:AEe,allowPinchZoom:!0,children:n.jsx(L3,{asChild:!0,trapped:j.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:zr(a,ae=>{j.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:n.jsx(O3,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:n.jsx(se,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ue,onPlaced:()=>D(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:zr(b.onKeyDown,ae=>{const xe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!xe&&ae.key.length===1&&q(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let me=O().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ne=ae.target,he=me.indexOf(ne);me=me.slice(he+1)}setTimeout(()=>z(me)),ae.preventDefault()}})})})})})})});vq.displayName=SEe;var kEe="SelectItemAlignedPosition",bq=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=af(Gm,r),o=of(Gm,r),[l,c]=_.useState(null),[u,d]=_.useState(null),h=An(t,I=>d(I)),p=Zj(r),f=_.useRef(!1),x=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:j}=o,N=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&b){const I=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),B=b.getBoundingClientRect();if(i.dir!=="rtl"){const ne=B.left-k.left,he=E.left-ne,ke=I.left-he,je=I.width+ke,Q=Math.max(je,k.width),ze=window.innerWidth-ql,Ye=fL(he,[ql,Math.max(ql,ze-Q)]);l.style.minWidth=je+"px",l.style.left=Ye+"px"}else{const ne=k.right-B.right,he=window.innerWidth-E.right-ne,ke=window.innerWidth-I.right-he,je=I.width+ke,Q=Math.max(je,k.width),ze=window.innerWidth-ql,Ye=fL(he,[ql,Math.max(ql,ze-Q)]);l.style.minWidth=je+"px",l.style.right=Ye+"px"}const C=p(),O=window.innerHeight-ql*2,M=g.scrollHeight,D=window.getComputedStyle(u),W=parseInt(D.borderTopWidth,10),z=parseInt(D.paddingTop,10),G=parseInt(D.borderBottomWidth,10),V=parseInt(D.paddingBottom,10),Y=W+z+M+V+G,ie=Math.min(v.offsetHeight*5,Y),q=window.getComputedStyle(g),R=parseInt(q.paddingTop,10),K=parseInt(q.paddingBottom,10),Z=I.top+I.height/2-ql,se=O-Z,ue=v.offsetHeight/2,ae=v.offsetTop+ue,xe=W+z+ae,X=Y-xe;if(xe<=Z){const ne=C.length>0&&v===C[C.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(se,ue+(ne?K:0)+he+G),je=xe+ke;l.style.height=je+"px"}else{const ne=C.length>0&&v===C[0].ref.current;l.style.top="0px";const ke=Math.max(Z,W+g.offsetTop+(ne?R:0)+ue)+X;l.style.height=ke+"px",g.scrollTop=xe-Z+g.offsetTop}l.style.margin=`${ql}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=O+"px",s?.(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,u,g,v,b,i.dir,s]);fi(()=>N(),[N]);const[A,S]=_.useState();fi(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const L=_.useCallback(I=>{I&&x.current===!0&&(N(),j?.(),x.current=!1)},[N,j]);return n.jsx(PEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:L,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:n.jsx(Fr.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});bq.displayName=kEe;var CEe="SelectPopperPosition",sA=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=ql,...i}=e,o=Xj(r);return n.jsx(fEe,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sA.displayName=CEe;var[PEe,ek]=Hx(Gm,{}),aA="SelectViewport",wq=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=of(aA,r),o=ek(aA,r),l=An(t,i.onViewportChange),c=_.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Yj.Slot,{scope:r,children:n.jsx(Fr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:zr(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p?.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const x=window.innerHeight-ql*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(g,v);if(b<x){const j=b+f,N=Math.min(x,j),A=j-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wq.displayName=aA;var jq="SelectGroup",[EEe,TEe]=Hx(jq),OEe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Sm();return n.jsx(EEe,{scope:r,id:a,children:n.jsx(Fr.div,{role:"group","aria-labelledby":a,...s,ref:t})})});OEe.displayName=jq;var Nq="SelectLabel",_q=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=TEe(Nq,r);return n.jsx(Fr.div,{id:a.id,...s,ref:t})});_q.displayName=Nq;var fw="SelectItem",[LEe,Sq]=Hx(fw),Aq=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=af(fw,r),c=of(fw,r),u=l.value===s,[d,h]=_.useState(i??""),[p,f]=_.useState(!1),x=An(t,j=>c.itemRefCallback?.(j,s,a)),g=Sm(),v=_.useRef("touch"),b=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(LEe,{scope:r,value:s,disabled:a,textId:g,isSelected:u,onItemTextChange:_.useCallback(j=>{h(N=>N||(j?.textContent??"").trim())},[]),children:n.jsx(Yj.ItemSlot,{scope:r,value:s,disabled:a,textValue:d,children:n.jsx(Fr.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:zr(o.onFocus,()=>f(!0)),onBlur:zr(o.onBlur,()=>f(!1)),onClick:zr(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:zr(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:zr(o.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:zr(o.onPointerMove,j=>{v.current=j.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:zr(o.onPointerLeave,j=>{j.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:zr(o.onKeyDown,j=>{c.searchRef?.current!==""&&j.key===" "||(yEe.includes(j.key)&&b(),j.key===" "&&j.preventDefault())})})})})});Aq.displayName=fw;var ry="SelectItemText",kq=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=af(ry,r),l=of(ry,r),c=Sq(ry,r),u=jEe(ry,r),[d,h]=_.useState(null),p=An(t,b=>h(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),f=d?.textContent,x=_.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return fi(()=>(g(x),()=>v(x)),[g,v,x]),n.jsxs(n.Fragment,{children:[n.jsx(Fr.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ov.createPortal(i.children,o.valueNode):null]})});kq.displayName=ry;var Cq="SelectItemIndicator",Pq=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return Sq(Cq,r).isSelected?n.jsx(Fr.span,{"aria-hidden":!0,...s,ref:t}):null});Pq.displayName=Cq;var iA="SelectScrollUpButton",Eq=_.forwardRef((e,t)=>{const r=of(iA,e.__scopeSelect),s=ek(iA,e.__scopeSelect),[a,i]=_.useState(!1),o=An(t,s.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(Oq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Eq.displayName=iA;var oA="SelectScrollDownButton",Tq=_.forwardRef((e,t)=>{const r=of(oA,e.__scopeSelect),s=ek(oA,e.__scopeSelect),[a,i]=_.useState(!1),o=An(t,s.onScrollButtonChange);return fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(Oq,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Tq.displayName=oA;var Oq=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=of("SelectScrollButton",r),o=_.useRef(null),l=Zj(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),fi(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),n.jsx(Fr.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:zr(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:zr(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:zr(a.onPointerLeave,()=>{c()})})}),IEe="SelectSeparator",Lq=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Fr.div,{"aria-hidden":!0,...s,ref:t})});Lq.displayName=IEe;var lA="SelectArrow",MEe=_.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Xj(r),i=af(lA,r),o=of(lA,r);return i.open&&o.position==="popper"?n.jsx(mEe,{...a,...s,ref:t}):null});MEe.displayName=lA;var DEe="SelectBubbleInput",Iq=_.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=_.useRef(null),i=An(s,a),o=Gw(t);return _.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),n.jsx(Fr.select,{...r,style:{...cq,...r.style},ref:i,defaultValue:t})});Iq.displayName=DEe;function Mq(e){return e===""||e===void 0}function Dq(e){const t=Wh(e),r=_.useRef(""),s=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function Rq(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=REe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function REe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var FEe=uq,Fq=hq,$Ee=mq,BEe=pq,zEe=gq,$q=xq,UEe=wq,Bq=_q,zq=Aq,qEe=kq,VEe=Pq,Uq=Eq,qq=Tq,Vq=Lq;const tk=FEe,rk=$Ee,Qj=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Fq,{ref:s,className:Sn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(BEe,{asChild:!0,children:n.jsx(Lv,{className:"h-4 w-4 opacity-50"})})]}));Qj.displayName=Fq.displayName;const Wq=_.forwardRef(({className:e,...t},r)=>n.jsx(Uq,{ref:r,className:Sn("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(lF,{className:"h-4 w-4"})}));Wq.displayName=Uq.displayName;const Hq=_.forwardRef(({className:e,...t},r)=>n.jsx(qq,{ref:r,className:Sn("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Lv,{className:"h-4 w-4"})}));Hq.displayName=qq.displayName;const Jj=_.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(zEe,{children:n.jsxs($q,{ref:a,className:Sn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(Wq,{}),n.jsx(UEe,{className:Sn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Hq,{})]})}));Jj.displayName=$q.displayName;const WEe=_.forwardRef(({className:e,...t},r)=>n.jsx(Bq,{ref:r,className:Sn("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));WEe.displayName=Bq.displayName;const $c=_.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(zq,{ref:s,className:Sn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(VEe,{children:n.jsx(is,{className:"h-4 w-4"})})}),n.jsx(qEe,{children:t})]}));$c.displayName=zq.displayName;const HEe=_.forwardRef(({className:e,...t},r)=>n.jsx(Vq,{ref:r,className:Sn("-mx-1 my-1 h-px bg-muted",e),...t}));HEe.displayName=Vq.displayName;var Wv=e=>e.type==="checkbox",om=e=>e instanceof Date,Ti=e=>e==null;const Gq=e=>typeof e=="object";var Ws=e=>!Ti(e)&&!Array.isArray(e)&&Gq(e)&&!om(e),GEe=e=>Ws(e)&&e.target?Wv(e.target)?e.target.checked:e.target.value:e,KEe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YEe=(e,t)=>e.has(KEe(t)),ZEe=e=>{const t=e.constructor&&e.constructor.prototype;return Ws(t)&&t.hasOwnProperty("isPrototypeOf")},nk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Aa(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nk&&(e instanceof Blob||s))&&(r||Ws(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!ZEe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Aa(e[a]));else return e;return t}var eN=e=>/^\w*$/.test(e),ea=e=>e===void 0,sk=e=>Array.isArray(e)?e.filter(Boolean):[],ak=e=>sk(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(e,t,r)=>{if(!t||!Ws(e))return r;const s=(eN(t)?[t]:ak(t)).reduce((a,i)=>Ti(a)?a:a[i],e);return ea(s)||s===e?ea(e[t])?r:e[t]:s},Ic=e=>typeof e=="boolean",Mn=(e,t,r)=>{let s=-1;const a=eN(t)?[t]:ak(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const u=e[l];c=Ws(u)||Array.isArray(u)?u:isNaN(+a[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const SL={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ou={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XEe=ye.createContext(null);XEe.displayName="HookFormContext";var QEe=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Xl.all&&(t._proxyFormState[o]=!s||Xl.all),e[o]}});return a};const JEe=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;var Vc=e=>typeof e=="string",eTe=(e,t,r,s,a)=>Vc(e)?(s&&t.watch.add(e),kt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),kt(r,i))):(s&&(t.watchAll=!0),r),cA=e=>Ti(e)||!Gq(e);function ph(e,t,r=new WeakSet){if(cA(e)||cA(t))return e===t;if(om(e)&&om(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of s){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(om(o)&&om(l)||Ws(o)&&Ws(l)||Array.isArray(o)&&Array.isArray(l)?!ph(o,l,r):o!==l)return!1}}return!0}var Kq=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},xy=e=>Array.isArray(e)?e:[e],AL=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Zi=e=>Ws(e)&&!Object.keys(e).length,ik=e=>e.type==="file",Ql=e=>typeof e=="function",mw=e=>{if(!nk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Yq=e=>e.type==="select-multiple",ok=e=>e.type==="radio",tTe=e=>ok(e)||Wv(e),t_=e=>mw(e)&&e.isConnected;function rTe(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=ea(e)?s++:e[t[s++]];return e}function nTe(e){for(const t in e)if(e.hasOwnProperty(t)&&!ea(e[t]))return!1;return!0}function Xs(e,t){const r=Array.isArray(t)?t:eN(t)?[t]:ak(t),s=r.length===1?e:rTe(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ws(s)&&Zi(s)||Array.isArray(s)&&nTe(s))&&Xs(e,r.slice(0,-1)),e}var Zq=e=>{for(const t in e)if(Ql(e[t]))return!0;return!1};function pw(e,t={}){const r=Array.isArray(e);if(Ws(e)||r)for(const s in e)Array.isArray(e[s])||Ws(e[s])&&!Zq(e[s])?(t[s]=Array.isArray(e[s])?[]:{},pw(e[s],t[s])):Ti(e[s])||(t[s]=!0);return t}function Xq(e,t,r){const s=Array.isArray(e);if(Ws(e)||s)for(const a in e)Array.isArray(e[a])||Ws(e[a])&&!Zq(e[a])?ea(t)||cA(r[a])?r[a]=Array.isArray(e[a])?pw(e[a],[]):{...pw(e[a])}:Xq(e[a],Ti(t)?{}:t[a],r[a]):r[a]=!ph(e[a],t[a]);return r}var W0=(e,t)=>Xq(e,t,pw(t));const kL={value:!1,isValid:!1},CL={value:!0,isValid:!0};var Qq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ea(e[0].attributes.value)?ea(e[0].value)||e[0].value===""?CL:{value:e[0].value,isValid:!0}:CL:kL}return kL},Jq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>ea(e)?e:t?e===""?NaN:e&&+e:r&&Vc(e)?new Date(e):s?s(e):e;const PL={isValid:!1,value:null};var eV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,PL):PL;function EL(e){const t=e.ref;return ik(t)?t.files:ok(t)?eV(e.refs).value:Yq(t)?[...t.selectedOptions].map(({value:r})=>r):Wv(t)?Qq(e.refs).value:Jq(ea(t.value)?e.ref.value:t.value,e)}var sTe=(e,t,r,s)=>{const a={};for(const i of e){const o=kt(t,i);o&&Mn(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},gw=e=>e instanceof RegExp,H0=e=>ea(e)?e:gw(e)?e.source:Ws(e)?gw(e.value)?e.value.source:e.value:e,TL=e=>({isOnSubmit:!e||e===Xl.onSubmit,isOnBlur:e===Xl.onBlur,isOnChange:e===Xl.onChange,isOnAll:e===Xl.all,isOnTouch:e===Xl.onTouched});const OL="AsyncFunction";var aTe=e=>!!e&&!!e.validate&&!!(Ql(e.validate)&&e.validate.constructor.name===OL||Ws(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OL)),iTe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),LL=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const yy=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=kt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(yy(l,t))break}else if(Ws(l)&&yy(l,t))break}}};function IL(e,t,r){const s=kt(e,r);if(s||eN(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=kt(t,i),l=kt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var oTe=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Zi(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!s||Xl.all))},lTe=(e,t,r)=>!e||!t||e===t||xy(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),cTe=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,uTe=(e,t)=>!sk(kt(e,t)).length&&Xs(e,t),dTe=(e,t,r)=>{const s=xy(kt(e,r));return Mn(s,"root",t[r]),Mn(e,r,s),e},F1=e=>Vc(e);function ML(e,t,r="validate"){if(F1(e)||Array.isArray(e)&&e.every(F1)||Ic(e)&&!e)return{type:r,message:F1(e)?e:"",ref:t}}var Gp=e=>Ws(e)&&!gw(e)?e:{value:e,message:""},DL=async(e,t,r,s,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:x,name:g,valueAsNumber:v,mount:b}=e._f,j=kt(r,g);if(!b||t.has(g))return{};const N=l?l[0]:o,A=O=>{a&&N.reportValidity&&(N.setCustomValidity(Ic(O)?"":O||""),N.reportValidity())},S={},L=ok(o),I=Wv(o),k=L||I,E=(v||ik(o))&&ea(o.value)&&ea(j)||mw(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,B=Kq.bind(null,g,s,S),C=(O,M,D,W=Ou.maxLength,z=Ou.minLength)=>{const G=O?M:D;S[g]={type:O?W:z,message:G,ref:o,...B(O?W:z,G)}};if(i?!Array.isArray(j)||!j.length:c&&(!k&&(E||Ti(j))||Ic(j)&&!j||I&&!Qq(l).isValid||L&&!eV(l).isValid)){const{value:O,message:M}=F1(c)?{value:!!c,message:c}:Gp(c);if(O&&(S[g]={type:Ou.required,message:M,ref:N,...B(Ou.required,M)},!s))return A(M),S}if(!E&&(!Ti(h)||!Ti(p))){let O,M;const D=Gp(p),W=Gp(h);if(!Ti(j)&&!isNaN(j)){const z=o.valueAsNumber||j&&+j;Ti(D.value)||(O=z>D.value),Ti(W.value)||(M=z<W.value)}else{const z=o.valueAsDate||new Date(j),G=ie=>new Date(new Date().toDateString()+" "+ie),V=o.type=="time",Y=o.type=="week";Vc(D.value)&&j&&(O=V?G(j)>G(D.value):Y?j>D.value:z>new Date(D.value)),Vc(W.value)&&j&&(M=V?G(j)<G(W.value):Y?j<W.value:z<new Date(W.value))}if((O||M)&&(C(!!O,D.message,W.message,Ou.max,Ou.min),!s))return A(S[g].message),S}if((u||d)&&!E&&(Vc(j)||i&&Array.isArray(j))){const O=Gp(u),M=Gp(d),D=!Ti(O.value)&&j.length>+O.value,W=!Ti(M.value)&&j.length<+M.value;if((D||W)&&(C(D,O.message,M.message),!s))return A(S[g].message),S}if(f&&!E&&Vc(j)){const{value:O,message:M}=Gp(f);if(gw(O)&&!j.match(O)&&(S[g]={type:Ou.pattern,message:M,ref:o,...B(Ou.pattern,M)},!s))return A(M),S}if(x){if(Ql(x)){const O=await x(j,r),M=ML(O,N);if(M&&(S[g]={...M,...B(Ou.validate,M.message)},!s))return A(M.message),S}else if(Ws(x)){let O={};for(const M in x){if(!Zi(O)&&!s)break;const D=ML(await x[M](j,r),N,M);D&&(O={...D,...B(M,D.message)},A(D.message),s&&(S[g]=O))}if(!Zi(O)&&(S[g]={ref:N,...O},!s))return S}}return A(!0),S};const hTe={mode:Xl.onSubmit,reValidateMode:Xl.onChange,shouldFocusError:!0};function fTe(e={}){let t={...hTe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ql(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Ws(t.defaultValues)||Ws(t.values)?Aa(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Aa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:AL(),state:AL()},f=t.criteriaMode===Xl.all,x=J=>de=>{clearTimeout(u),u=setTimeout(J,de)},g=async J=>{if(!t.disabled&&(d.isValid||h.isValid||J)){const de=t.resolver?Zi((await I()).errors):await E(s,!0);de!==r.isValid&&p.state.next({isValid:de})}},v=(J,de)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((J||Array.from(l.mount)).forEach(Se=>{Se&&(de?Mn(r.validatingFields,Se,de):Xs(r.validatingFields,Se))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Zi(r.validatingFields)}))},b=(J,de=[],Se,De,He=!0,Fe=!0)=>{if(De&&Se&&!t.disabled){if(o.action=!0,Fe&&Array.isArray(kt(s,J))){const Ke=Se(kt(s,J),De.argA,De.argB);He&&Mn(s,J,Ke)}if(Fe&&Array.isArray(kt(r.errors,J))){const Ke=Se(kt(r.errors,J),De.argA,De.argB);He&&Mn(r.errors,J,Ke),uTe(r.errors,J)}if((d.touchedFields||h.touchedFields)&&Fe&&Array.isArray(kt(r.touchedFields,J))){const Ke=Se(kt(r.touchedFields,J),De.argA,De.argB);He&&Mn(r.touchedFields,J,Ke)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=W0(a,i)),p.state.next({name:J,isDirty:C(J,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mn(i,J,de)},j=(J,de)=>{Mn(r.errors,J,de),p.state.next({errors:r.errors})},N=J=>{r.errors=J,p.state.next({errors:r.errors,isValid:!1})},A=(J,de,Se,De)=>{const He=kt(s,J);if(He){const Fe=kt(i,J,ea(Se)?kt(a,J):Se);ea(Fe)||De&&De.defaultChecked||de?Mn(i,J,de?Fe:EL(He._f)):D(J,Fe),o.mount&&g()}},S=(J,de,Se,De,He)=>{let Fe=!1,Ke=!1;const lt={name:J};if(!t.disabled){if(!Se||De){(d.isDirty||h.isDirty)&&(Ke=r.isDirty,r.isDirty=lt.isDirty=C(),Fe=Ke!==lt.isDirty);const ct=ph(kt(a,J),de);Ke=!!kt(r.dirtyFields,J),ct?Xs(r.dirtyFields,J):Mn(r.dirtyFields,J,!0),lt.dirtyFields=r.dirtyFields,Fe=Fe||(d.dirtyFields||h.dirtyFields)&&Ke!==!ct}if(Se){const ct=kt(r.touchedFields,J);ct||(Mn(r.touchedFields,J,Se),lt.touchedFields=r.touchedFields,Fe=Fe||(d.touchedFields||h.touchedFields)&&ct!==Se)}Fe&&He&&p.state.next(lt)}return Fe?lt:{}},L=(J,de,Se,De)=>{const He=kt(r.errors,J),Fe=(d.isValid||h.isValid)&&Ic(de)&&r.isValid!==de;if(t.delayError&&Se?(c=x(()=>j(J,Se)),c(t.delayError)):(clearTimeout(u),c=null,Se?Mn(r.errors,J,Se):Xs(r.errors,J)),(Se?!ph(He,Se):He)||!Zi(De)||Fe){const Ke={...De,...Fe&&Ic(de)?{isValid:de}:{},errors:r.errors,name:J};r={...r,...Ke},p.state.next(Ke)}},I=async J=>{v(J,!0);const de=await t.resolver(i,t.context,sTe(J||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return v(J),de},k=async J=>{const{errors:de}=await I(J);if(J)for(const Se of J){const De=kt(de,Se);De?Mn(r.errors,Se,De):Xs(r.errors,Se)}else r.errors=de;return de},E=async(J,de,Se={valid:!0})=>{for(const De in J){const He=J[De];if(He){const{_f:Fe,...Ke}=He;if(Fe){const lt=l.array.has(Fe.name),ct=He._f&&aTe(He._f);ct&&d.validatingFields&&v([De],!0);const ft=await DL(He,l.disabled,i,f,t.shouldUseNativeValidation&&!de,lt);if(ct&&d.validatingFields&&v([De]),ft[Fe.name]&&(Se.valid=!1,de))break;!de&&(kt(ft,Fe.name)?lt?dTe(r.errors,ft,Fe.name):Mn(r.errors,Fe.name,ft[Fe.name]):Xs(r.errors,Fe.name))}!Zi(Ke)&&await E(Ke,de,Se)}}return Se.valid},B=()=>{for(const J of l.unMount){const de=kt(s,J);de&&(de._f.refs?de._f.refs.every(Se=>!t_(Se)):!t_(de._f.ref))&&ae(J)}l.unMount=new Set},C=(J,de)=>!t.disabled&&(J&&de&&Mn(i,J,de),!ph(ie(),a)),O=(J,de,Se)=>eTe(J,l,{...o.mount?i:ea(de)?a:Vc(J)?{[J]:de}:de},Se,de),M=J=>sk(kt(o.mount?i:a,J,t.shouldUnregister?kt(a,J,[]):[])),D=(J,de,Se={})=>{const De=kt(s,J);let He=de;if(De){const Fe=De._f;Fe&&(!Fe.disabled&&Mn(i,J,Jq(de,Fe)),He=mw(Fe.ref)&&Ti(de)?"":de,Yq(Fe.ref)?[...Fe.ref.options].forEach(Ke=>Ke.selected=He.includes(Ke.value)):Fe.refs?Wv(Fe.ref)?Fe.refs.forEach(Ke=>{(!Ke.defaultChecked||!Ke.disabled)&&(Array.isArray(He)?Ke.checked=!!He.find(lt=>lt===Ke.value):Ke.checked=He===Ke.value||!!He)}):Fe.refs.forEach(Ke=>Ke.checked=Ke.value===He):ik(Fe.ref)?Fe.ref.value="":(Fe.ref.value=He,Fe.ref.type||p.state.next({name:J,values:Aa(i)})))}(Se.shouldDirty||Se.shouldTouch)&&S(J,He,Se.shouldTouch,Se.shouldDirty,!0),Se.shouldValidate&&Y(J)},W=(J,de,Se)=>{for(const De in de){if(!de.hasOwnProperty(De))return;const He=de[De],Fe=J+"."+De,Ke=kt(s,Fe);(l.array.has(J)||Ws(He)||Ke&&!Ke._f)&&!om(He)?W(Fe,He,Se):D(Fe,He,Se)}},z=(J,de,Se={})=>{const De=kt(s,J),He=l.array.has(J),Fe=Aa(de);Mn(i,J,Fe),He?(p.array.next({name:J,values:Aa(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Se.shouldDirty&&p.state.next({name:J,dirtyFields:W0(a,i),isDirty:C(J,Fe)})):De&&!De._f&&!Ti(Fe)?W(J,Fe,Se):D(J,Fe,Se),LL(J,l)&&p.state.next({...r,name:J}),p.state.next({name:o.mount?J:void 0,values:Aa(i)})},G=async J=>{o.mount=!0;const de=J.target;let Se=de.name,De=!0;const He=kt(s,Se),Fe=ct=>{De=Number.isNaN(ct)||om(ct)&&isNaN(ct.getTime())||ph(ct,kt(i,Se,ct))},Ke=TL(t.mode),lt=TL(t.reValidateMode);if(He){let ct,ft;const Et=de.type?EL(He._f):GEe(J),mt=J.type===SL.BLUR||J.type===SL.FOCUS_OUT,sr=!iTe(He._f)&&!t.resolver&&!kt(r.errors,Se)&&!He._f.deps||cTe(mt,kt(r.touchedFields,Se),r.isSubmitted,lt,Ke),or=LL(Se,l,mt);Mn(i,Se,Et),mt?(!de||!de.readOnly)&&(He._f.onBlur&&He._f.onBlur(J),c&&c(0)):He._f.onChange&&He._f.onChange(J);const _t=S(Se,Et,mt),tr=!Zi(_t)||or;if(!mt&&p.state.next({name:Se,type:J.type,values:Aa(i)}),sr)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?mt&&g():mt||g()),tr&&p.state.next({name:Se,...or?{}:_t});if(!mt&&or&&p.state.next({...r}),t.resolver){const{errors:en}=await I([Se]);if(Fe(Et),De){const $t=IL(r.errors,s,Se),kr=IL(en,s,$t.name||Se);ct=kr.error,Se=kr.name,ft=Zi(en)}}else v([Se],!0),ct=(await DL(He,l.disabled,i,f,t.shouldUseNativeValidation))[Se],v([Se]),Fe(Et),De&&(ct?ft=!1:(d.isValid||h.isValid)&&(ft=await E(s,!0)));De&&(He._f.deps&&Y(He._f.deps),L(Se,ft,ct,_t))}},V=(J,de)=>{if(kt(r.errors,de)&&J.focus)return J.focus(),1},Y=async(J,de={})=>{let Se,De;const He=xy(J);if(t.resolver){const Fe=await k(ea(J)?J:He);Se=Zi(Fe),De=J?!He.some(Ke=>kt(Fe,Ke)):Se}else J?(De=(await Promise.all(He.map(async Fe=>{const Ke=kt(s,Fe);return await E(Ke&&Ke._f?{[Fe]:Ke}:Ke)}))).every(Boolean),!(!De&&!r.isValid)&&g()):De=Se=await E(s);return p.state.next({...!Vc(J)||(d.isValid||h.isValid)&&Se!==r.isValid?{}:{name:J},...t.resolver||!J?{isValid:Se}:{},errors:r.errors}),de.shouldFocus&&!De&&yy(s,V,J?He:l.mount),De},ie=J=>{const de={...o.mount?i:a};return ea(J)?de:Vc(J)?kt(de,J):J.map(Se=>kt(de,Se))},q=(J,de)=>({invalid:!!kt((de||r).errors,J),isDirty:!!kt((de||r).dirtyFields,J),error:kt((de||r).errors,J),isValidating:!!kt(r.validatingFields,J),isTouched:!!kt((de||r).touchedFields,J)}),R=J=>{J&&xy(J).forEach(de=>Xs(r.errors,de)),p.state.next({errors:J?r.errors:{}})},K=(J,de,Se)=>{const De=(kt(s,J,{_f:{}})._f||{}).ref,He=kt(r.errors,J)||{},{ref:Fe,message:Ke,type:lt,...ct}=He;Mn(r.errors,J,{...ct,...de,ref:De}),p.state.next({name:J,errors:r.errors,isValid:!1}),Se&&Se.shouldFocus&&De&&De.focus&&De.focus()},Z=(J,de)=>Ql(J)?p.state.subscribe({next:Se=>"values"in Se&&J(O(void 0,de),Se)}):O(J,de,!0),se=J=>p.state.subscribe({next:de=>{lTe(J.name,de.name,J.exact)&&oTe(de,J.formState||d,Ye,J.reRenderRoot)&&J.callback({values:{...i},...r,...de,defaultValues:a})}}).unsubscribe,ue=J=>(o.mount=!0,h={...h,...J.formState},se({...J,formState:h})),ae=(J,de={})=>{for(const Se of J?xy(J):l.mount)l.mount.delete(Se),l.array.delete(Se),de.keepValue||(Xs(s,Se),Xs(i,Se)),!de.keepError&&Xs(r.errors,Se),!de.keepDirty&&Xs(r.dirtyFields,Se),!de.keepTouched&&Xs(r.touchedFields,Se),!de.keepIsValidating&&Xs(r.validatingFields,Se),!t.shouldUnregister&&!de.keepDefaultValue&&Xs(a,Se);p.state.next({values:Aa(i)}),p.state.next({...r,...de.keepDirty?{isDirty:C()}:{}}),!de.keepIsValid&&g()},xe=({disabled:J,name:de})=>{(Ic(J)&&o.mount||J||l.disabled.has(de))&&(J?l.disabled.add(de):l.disabled.delete(de))},X=(J,de={})=>{let Se=kt(s,J);const De=Ic(de.disabled)||Ic(t.disabled);return Mn(s,J,{...Se||{},_f:{...Se&&Se._f?Se._f:{ref:{name:J}},name:J,mount:!0,...de}}),l.mount.add(J),Se?xe({disabled:Ic(de.disabled)?de.disabled:t.disabled,name:J}):A(J,!0,de.value),{...De?{disabled:de.disabled||t.disabled}:{},...t.progressive?{required:!!de.required,min:H0(de.min),max:H0(de.max),minLength:H0(de.minLength),maxLength:H0(de.maxLength),pattern:H0(de.pattern)}:{},name:J,onChange:G,onBlur:G,ref:He=>{if(He){X(J,de),Se=kt(s,J);const Fe=ea(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,Ke=tTe(Fe),lt=Se._f.refs||[];if(Ke?lt.find(ct=>ct===Fe):Fe===Se._f.ref)return;Mn(s,J,{_f:{...Se._f,...Ke?{refs:[...lt.filter(t_),Fe,...Array.isArray(kt(a,J))?[{}]:[]],ref:{type:Fe.type,name:J}}:{ref:Fe}}}),A(J,!1,void 0,Fe)}else Se=kt(s,J,{}),Se._f&&(Se._f.mount=!1),(t.shouldUnregister||de.shouldUnregister)&&!(YEe(l.array,J)&&o.action)&&l.unMount.add(J)}}},me=()=>t.shouldFocusError&&yy(s,V,l.mount),ne=J=>{Ic(J)&&(p.state.next({disabled:J}),yy(s,(de,Se)=>{const De=kt(s,Se);De&&(de.disabled=De._f.disabled||J,Array.isArray(De._f.refs)&&De._f.refs.forEach(He=>{He.disabled=De._f.disabled||J}))},0,!1))},he=(J,de)=>async Se=>{let De;Se&&(Se.preventDefault&&Se.preventDefault(),Se.persist&&Se.persist());let He=Aa(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Fe,values:Ke}=await I();r.errors=Fe,He=Aa(Ke)}else await E(s);if(l.disabled.size)for(const Fe of l.disabled)Xs(He,Fe);if(Xs(r.errors,"root"),Zi(r.errors)){p.state.next({errors:{}});try{await J(He,Se)}catch(Fe){De=Fe}}else de&&await de({...r.errors},Se),me(),setTimeout(me);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zi(r.errors)&&!De,submitCount:r.submitCount+1,errors:r.errors}),De)throw De},ke=(J,de={})=>{kt(s,J)&&(ea(de.defaultValue)?z(J,Aa(kt(a,J))):(z(J,de.defaultValue),Mn(a,J,Aa(de.defaultValue))),de.keepTouched||Xs(r.touchedFields,J),de.keepDirty||(Xs(r.dirtyFields,J),r.isDirty=de.defaultValue?C(J,Aa(kt(a,J))):C()),de.keepError||(Xs(r.errors,J),d.isValid&&g()),p.state.next({...r}))},je=(J,de={})=>{const Se=J?Aa(J):a,De=Aa(Se),He=Zi(J),Fe=He?a:De;if(de.keepDefaultValues||(a=Se),!de.keepValues){if(de.keepDirtyValues){const Ke=new Set([...l.mount,...Object.keys(W0(a,i))]);for(const lt of Array.from(Ke))kt(r.dirtyFields,lt)?Mn(Fe,lt,kt(i,lt)):z(lt,kt(Fe,lt))}else{if(nk&&ea(J))for(const Ke of l.mount){const lt=kt(s,Ke);if(lt&&lt._f){const ct=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(mw(ct)){const ft=ct.closest("form");if(ft){ft.reset();break}}}}if(de.keepFieldsRef)for(const Ke of l.mount)z(Ke,kt(Fe,Ke));else s={}}i=t.shouldUnregister?de.keepDefaultValues?Aa(a):{}:Aa(Fe),p.array.next({values:{...Fe}}),p.state.next({values:{...Fe}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!de.keepIsValid||!!de.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:He?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!ph(J,a)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:de.keepDirtyValues?de.keepDefaultValues&&i?W0(a,i):r.dirtyFields:de.keepDefaultValues&&J?W0(a,J):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Q=(J,de)=>je(Ql(J)?J(i):J,de),ze=(J,de={})=>{const Se=kt(s,J),De=Se&&Se._f;if(De){const He=De.refs?De.refs[0]:De.ref;He.focus&&(He.focus(),de.shouldSelect&&Ql(He.select)&&He.select())}},Ye=J=>{r={...r,...J}},Ve={control:{register:X,unregister:ae,getFieldState:q,handleSubmit:he,setError:K,_subscribe:se,_runSchema:I,_focusError:me,_getWatch:O,_getDirty:C,_setValid:g,_setFieldArray:b,_setDisabledField:xe,_setErrors:N,_getFieldArray:M,_reset:je,_resetDefaultValues:()=>Ql(t.defaultValues)&&t.defaultValues().then(J=>{Q(J,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:ne,_subjects:p,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(J){o=J},get _defaultValues(){return a},get _names(){return l},set _names(J){l=J},get _formState(){return r},get _options(){return t},set _options(J){t={...t,...J}}},subscribe:ue,trigger:Y,register:X,handleSubmit:he,watch:Z,setValue:z,getValues:ie,reset:Q,resetField:ke,clearErrors:R,unregister:ae,setError:K,setFocus:ze,getFieldState:q};return{...Ve,formControl:Ve}}function RL(e={}){const t=ye.useRef(void 0),r=ye.useRef(void 0),[s,a]=ye.useState({isDirty:!1,isValidating:!1,isLoading:Ql(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ql(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ql(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=fTe(e);t.current={...l,formState:s}}const i=t.current.control;return i._options=e,JEe(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ye.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ye.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ye.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ye.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),ye.useEffect(()=>{e.values&&!ph(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ye.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=QEe(s,i),t.current}const FL=(e,t,r)=>{if(e&&"reportValidity"in e){const s=kt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},tV=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?FL(s.ref,r,e):s.refs&&s.refs.forEach(a=>FL(a,r,e))}},mTe=(e,t)=>{t.shouldUseNativeValidation&&tV(e,t);const r={};for(const s in e){const a=kt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(pTe(t.names||Object.keys(e),s)){const o=Object.assign({},kt(r,s));Mn(o,"root",i),Mn(r,s,o)}else Mn(r,s,i)}return r},pTe=(e,t)=>e.some(r=>r.startsWith(t+"."));var gTe=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[s.code];r[o]=Kq(o,t,r,a,u?[].concat(u,s.message):s.message)}e.shift()}return r},$L=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return i.shouldUseNativeValidation&&tV({},i),{errors:{},values:r.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:mTe(gTe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},hn;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(hn||(hn={}));var BL;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(BL||(BL={}));const Pt=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hh=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return Number.isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},ut=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class od extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),s}static assert(t){if(!(t instanceof od))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}od.create=e=>new od(e);const uA=(e,t)=>{let r;switch(e.code){case ut.invalid_type:e.received===Pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ut.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,hn.jsonStringifyReplacer)}`;break;case ut.unrecognized_keys:r=`Unrecognized key(s) in object: ${hn.joinValues(e.keys,", ")}`;break;case ut.invalid_union:r="Invalid input";break;case ut.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${hn.joinValues(e.options)}`;break;case ut.invalid_enum_value:r=`Invalid enum value. Expected ${hn.joinValues(e.options)}, received '${e.received}'`;break;case ut.invalid_arguments:r="Invalid function arguments";break;case ut.invalid_return_type:r="Invalid function return type";break;case ut.invalid_date:r="Invalid date";break;case ut.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:hn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ut.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ut.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ut.custom:r="Invalid input";break;case ut.invalid_intersection_types:r="Intersection results could not be merged";break;case ut.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ut.not_finite:r="Number must be finite";break;default:r=t.defaultError,hn.assertNever(e)}return{message:r}};let xTe=uA;function yTe(){return xTe}const vTe=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function wt(e,t){const r=yTe(),s=vTe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===uA?void 0:uA].filter(a=>!!a)});e.common.issues.push(s)}class Ri{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return gr;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ri.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return gr;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const gr=Object.freeze({status:"aborted"}),ny=e=>({status:"dirty",value:e}),wl=e=>({status:"valid",value:e}),zL=e=>e.status==="aborted",UL=e=>e.status==="dirty",px=e=>e.status==="valid",xw=e=>typeof Promise<"u"&&e instanceof Promise;var It;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(It||(It={}));class su{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qL=(e,t)=>{if(px(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new od(e.common.issues);return this._error=r,this._error}}};function Tr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Qr{get description(){return this._def.description}_getType(t){return hh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ri,ctx:{common:t.parent.common,data:t.data,parsedType:hh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(xw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hh(t)},a=this._parseSync({data:t,path:s.path,parent:s});return qL(s,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hh(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return px(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>px(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hh(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(xw(a)?a:Promise.resolve(a));return qL(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ut.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Yh({schema:this,typeName:hr.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Fh.create(this,this._def)}nullable(){return bx.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xc.create(this)}promise(){return ww.create(this,this._def)}or(t){return yw.create([this,t],this._def)}and(t){return vw.create(this,t,this._def)}transform(t){return new Yh({...Tr(this._def),schema:this,typeName:hr.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new NA({...Tr(this._def),innerType:this,defaultValue:r,typeName:hr.ZodDefault})}brand(){return new UTe({typeName:hr.ZodBranded,type:this,...Tr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new _A({...Tr(this._def),innerType:this,catchValue:r,typeName:hr.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return lk.create(this,t)}readonly(){return AA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bTe=/^c[^\s-]{8,}$/i,wTe=/^[0-9a-z]+$/,jTe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NTe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_Te=/^[a-z0-9_-]{21}$/i,STe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ATe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kTe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CTe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r_;const PTe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ETe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,OTe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LTe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ITe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MTe=new RegExp(`^${rV}$`);function nV(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function DTe(e){return new RegExp(`^${nV(e)}$`)}function RTe(e){let t=`${rV}T${nV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function FTe(e,t){return!!((t==="v4"||!t)&&PTe.test(e)||(t==="v6"||!t)&&TTe.test(e))}function $Te(e,t){if(!STe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function BTe(e,t){return!!((t==="v4"||!t)&&ETe.test(e)||(t==="v6"||!t)&&OTe.test(e))}class Hu extends Qr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pt.string){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.string,received:i.parsedType}),gr}const s=new Ri;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?wt(a,{code:ut.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&wt(a,{code:ut.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")kTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"email",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")r_||(r_=new RegExp(CTe,"u")),r_.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"emoji",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")NTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"uuid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")_Te.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"nanoid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")bTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cuid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")wTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cuid2",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")jTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"ulid",code:ut.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),wt(a,{validation:"url",code:ut.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"regex",code:ut.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?RTe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?MTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?DTe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?ATe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"duration",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?FTe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"ip",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?$Te(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"jwt",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?BTe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"cidr",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?LTe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"base64",code:ut.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?ITe.test(t.data)||(a=this._getOrReturnCtx(t,a),wt(a,{validation:"base64url",code:ut.invalid_string,message:i.message}),s.dirty()):hn.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:ut.invalid_string,...It.errToObj(s)})}_addCheck(t){return new Hu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...It.errToObj(t)})}url(t){return this._addCheck({kind:"url",...It.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...It.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...It.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...It.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...It.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...It.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...It.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...It.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...It.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...It.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...It.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...It.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...It.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...It.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...It.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...It.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...It.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...It.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...It.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...It.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...It.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...It.errToObj(r)})}nonempty(t){return this.min(1,It.errToObj(t))}trim(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Hu.create=e=>new Hu({checks:[],typeName:hr.ZodString,coerce:e?.coerce??!1,...Tr(e)});function zTe(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class gx extends Qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pt.number){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.number,received:i.parsedType}),gr}let s;const a=new Ri;for(const i of this._def.checks)i.kind==="int"?hn.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?zTe(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_finite,message:i.message}),a.dirty()):hn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,It.toString(r))}gt(t,r){return this.setLimit("min",t,!1,It.toString(r))}lte(t,r){return this.setLimit("max",t,!0,It.toString(r))}lt(t,r){return this.setLimit("max",t,!1,It.toString(r))}setLimit(t,r,s,a){return new gx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:It.toString(a)}]})}_addCheck(t){return new gx({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:It.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:It.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:It.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:It.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:It.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:It.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:It.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:It.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:It.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&hn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}gx.create=e=>new gx({checks:[],typeName:hr.ZodNumber,coerce:e?.coerce||!1,...Tr(e)});class xx extends Qr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pt.bigint)return this._getInvalidInput(t);let s;const a=new Ri;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),wt(s,{code:ut.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):hn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return wt(r,{code:ut.invalid_type,expected:Pt.bigint,received:r.parsedType}),gr}gte(t,r){return this.setLimit("min",t,!0,It.toString(r))}gt(t,r){return this.setLimit("min",t,!1,It.toString(r))}lte(t,r){return this.setLimit("max",t,!0,It.toString(r))}lt(t,r){return this.setLimit("max",t,!1,It.toString(r))}setLimit(t,r,s,a){return new xx({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:It.toString(a)}]})}_addCheck(t){return new xx({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:It.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:It.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:It.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:It.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:It.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xx.create=e=>new xx({checks:[],typeName:hr.ZodBigInt,coerce:e?.coerce??!1,...Tr(e)});class dA extends Qr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pt.boolean){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.boolean,received:s.parsedType}),gr}return wl(t.data)}}dA.create=e=>new dA({typeName:hr.ZodBoolean,coerce:e?.coerce||!1,...Tr(e)});class pv extends Qr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pt.date){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_type,expected:Pt.date,received:i.parsedType}),gr}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return wt(i,{code:ut.invalid_date}),gr}const s=new Ri;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),wt(a,{code:ut.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):hn.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pv({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:It.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:It.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pv.create=e=>new pv({checks:[],coerce:e?.coerce||!1,typeName:hr.ZodDate,...Tr(e)});class hA extends Qr{_parse(t){if(this._getType(t)!==Pt.symbol){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.symbol,received:s.parsedType}),gr}return wl(t.data)}}hA.create=e=>new hA({typeName:hr.ZodSymbol,...Tr(e)});class fA extends Qr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.undefined,received:s.parsedType}),gr}return wl(t.data)}}fA.create=e=>new fA({typeName:hr.ZodUndefined,...Tr(e)});class mA extends Qr{_parse(t){if(this._getType(t)!==Pt.null){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.null,received:s.parsedType}),gr}return wl(t.data)}}mA.create=e=>new mA({typeName:hr.ZodNull,...Tr(e)});class pA extends Qr{constructor(){super(...arguments),this._any=!0}_parse(t){return wl(t.data)}}pA.create=e=>new pA({typeName:hr.ZodAny,...Tr(e)});class gA extends Qr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return wl(t.data)}}gA.create=e=>new gA({typeName:hr.ZodUnknown,...Tr(e)});class Kh extends Qr{_parse(t){const r=this._getOrReturnCtx(t);return wt(r,{code:ut.invalid_type,expected:Pt.never,received:r.parsedType}),gr}}Kh.create=e=>new Kh({typeName:hr.ZodNever,...Tr(e)});class xA extends Qr{_parse(t){if(this._getType(t)!==Pt.undefined){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.void,received:s.parsedType}),gr}return wl(t.data)}}xA.create=e=>new xA({typeName:hr.ZodVoid,...Tr(e)});class Xc extends Qr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==Pt.array)return wt(r,{code:ut.invalid_type,expected:Pt.array,received:r.parsedType}),gr;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(wt(r,{code:o?ut.too_big:ut.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(wt(r,{code:ut.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(wt(r,{code:ut.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new su(r,o,r.path,l)))).then(o=>Ri.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new su(r,o,r.path,l)));return Ri.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Xc({...this._def,minLength:{value:t,message:It.toString(r)}})}max(t,r){return new Xc({...this._def,maxLength:{value:t,message:It.toString(r)}})}length(t,r){return new Xc({...this._def,exactLength:{value:t,message:It.toString(r)}})}nonempty(t){return this.min(1,t)}}Xc.create=(e,t)=>new Xc({type:e,minLength:null,maxLength:null,exactLength:null,typeName:hr.ZodArray,...Tr(t)});function Qp(e){if(e instanceof Ps){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Fh.create(Qp(s))}return new Ps({...e._def,shape:()=>t})}else return e instanceof Xc?new Xc({...e._def,type:Qp(e.element)}):e instanceof Fh?Fh.create(Qp(e.unwrap())):e instanceof bx?bx.create(Qp(e.unwrap())):e instanceof Km?Km.create(e.items.map(t=>Qp(t))):e}class Ps extends Qr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=hn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Pt.object){const u=this._getOrReturnCtx(t);return wt(u,{code:ut.invalid_type,expected:Pt.object,received:u.parsedType}),gr}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Kh&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new su(a,h,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Kh){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(wt(a,{code:ut.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new su(a,h,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Ri.mergeObjectSync(s,u)):Ri.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return It.errToObj,new Ps({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{const a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:It.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Ps({...this._def,unknownKeys:"strip"})}passthrough(){return new Ps({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ps({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ps({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:hr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ps({...this._def,catchall:t})}pick(t){const r={};for(const s of hn.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new Ps({...this._def,shape:()=>r})}omit(t){const r={};for(const s of hn.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new Ps({...this._def,shape:()=>r})}deepPartial(){return Qp(this)}partial(t){const r={};for(const s of hn.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new Ps({...this._def,shape:()=>r})}required(t){const r={};for(const s of hn.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Fh;)i=i._def.innerType;r[s]=i}return new Ps({...this._def,shape:()=>r})}keyof(){return sV(hn.objectKeys(this.shape))}}Ps.create=(e,t)=>new Ps({shape:()=>e,unknownKeys:"strip",catchall:Kh.create(),typeName:hr.ZodObject,...Tr(t)});Ps.strictCreate=(e,t)=>new Ps({shape:()=>e,unknownKeys:"strict",catchall:Kh.create(),typeName:hr.ZodObject,...Tr(t)});Ps.lazycreate=(e,t)=>new Ps({shape:e,unknownKeys:"strip",catchall:Kh.create(),typeName:hr.ZodObject,...Tr(t)});class yw extends Qr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new od(l.ctx.common.issues));return wt(r,{code:ut.invalid_union,unionErrors:o}),gr}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new od(c));return wt(r,{code:ut.invalid_union,unionErrors:l}),gr}}get options(){return this._def.options}}yw.create=(e,t)=>new yw({options:e,typeName:hr.ZodUnion,...Tr(t)});function yA(e,t){const r=hh(e),s=hh(t);if(e===t)return{valid:!0,data:e};if(r===Pt.object&&s===Pt.object){const a=hn.objectKeys(t),i=hn.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=yA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Pt.array&&s===Pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=yA(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Pt.date&&s===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vw extends Qr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(zL(i)||zL(o))return gr;const l=yA(i.value,o.value);return l.valid?((UL(i)||UL(o))&&r.dirty(),{status:r.value,value:l.data}):(wt(s,{code:ut.invalid_intersection_types}),gr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}vw.create=(e,t,r)=>new vw({left:e,right:t,typeName:hr.ZodIntersection,...Tr(r)});class Km extends Qr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.array)return wt(s,{code:ut.invalid_type,expected:Pt.array,received:s.parsedType}),gr;if(s.data.length<this._def.items.length)return wt(s,{code:ut.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gr;!this._def.rest&&s.data.length>this._def.items.length&&(wt(s,{code:ut.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new su(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ri.mergeArray(r,o)):Ri.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Km({...this._def,rest:t})}}Km.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Km({items:e,typeName:hr.ZodTuple,rest:null,...Tr(t)})};class bw extends Qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.object)return wt(s,{code:ut.invalid_type,expected:Pt.object,received:s.parsedType}),gr;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new su(s,l,s.path,l)),value:o._parse(new su(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ri.mergeObjectAsync(r,a):Ri.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof Qr?new bw({keyType:t,valueType:r,typeName:hr.ZodRecord,...Tr(s)}):new bw({keyType:Hu.create(),valueType:t,typeName:hr.ZodRecord,...Tr(r)})}}class vA extends Qr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.map)return wt(s,{code:ut.invalid_type,expected:Pt.map,received:s.parsedType}),gr;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:a._parse(new su(s,l,s.path,[u,"key"])),value:i._parse(new su(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return gr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return gr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}vA.create=(e,t,r)=>new vA({valueType:t,keyType:e,typeName:hr.ZodMap,...Tr(r)});class yx extends Qr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==Pt.set)return wt(s,{code:ut.invalid_type,expected:Pt.set,received:s.parsedType}),gr;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(wt(s,{code:ut.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(wt(s,{code:ut.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return gr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...s.data.values()].map((c,u)=>i._parse(new su(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new yx({...this._def,minSize:{value:t,message:It.toString(r)}})}max(t,r){return new yx({...this._def,maxSize:{value:t,message:It.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yx.create=(e,t)=>new yx({valueType:e,minSize:null,maxSize:null,typeName:hr.ZodSet,...Tr(t)});class bA extends Qr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bA.create=(e,t)=>new bA({getter:e,typeName:hr.ZodLazy,...Tr(t)});class wA extends Qr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return wt(r,{received:r.data,code:ut.invalid_literal,expected:this._def.value}),gr}return{status:"valid",value:t.data}}get value(){return this._def.value}}wA.create=(e,t)=>new wA({value:e,typeName:hr.ZodLiteral,...Tr(t)});function sV(e,t){return new vx({values:e,typeName:hr.ZodEnum,...Tr(t)})}class vx extends Qr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return wt(r,{expected:hn.joinValues(s),received:r.parsedType,code:ut.invalid_type}),gr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return wt(r,{received:r.data,code:ut.invalid_enum_value,options:s}),gr}return wl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return vx.create(t,{...this._def,...r})}exclude(t,r=this._def){return vx.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}vx.create=sV;class jA extends Qr{_parse(t){const r=hn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Pt.string&&s.parsedType!==Pt.number){const a=hn.objectValues(r);return wt(s,{expected:hn.joinValues(a),received:s.parsedType,code:ut.invalid_type}),gr}if(this._cache||(this._cache=new Set(hn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=hn.objectValues(r);return wt(s,{received:s.data,code:ut.invalid_enum_value,options:a}),gr}return wl(t.data)}get enum(){return this._def.values}}jA.create=(e,t)=>new jA({values:e,typeName:hr.ZodNativeEnum,...Tr(t)});class ww extends Qr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.promise&&r.common.async===!1)return wt(r,{code:ut.invalid_type,expected:Pt.promise,received:r.parsedType}),gr;const s=r.parsedType===Pt.promise?r.data:Promise.resolve(r.data);return wl(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ww.create=(e,t)=>new ww({type:e,typeName:hr.ZodPromise,...Tr(t)});class Yh extends Qr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===hr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{wt(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return gr;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?gr:c.status==="dirty"||r.value==="dirty"?ny(c.value):c});{if(r.value==="aborted")return gr;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?gr:l.status==="dirty"||r.value==="dirty"?ny(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?gr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?gr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!px(o))return gr;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>px(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):gr);hn.assertNever(a)}}Yh.create=(e,t,r)=>new Yh({schema:e,typeName:hr.ZodEffects,effect:t,...Tr(r)});Yh.createWithPreprocess=(e,t,r)=>new Yh({schema:t,effect:{type:"preprocess",transform:e},typeName:hr.ZodEffects,...Tr(r)});class Fh extends Qr{_parse(t){return this._getType(t)===Pt.undefined?wl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fh.create=(e,t)=>new Fh({innerType:e,typeName:hr.ZodOptional,...Tr(t)});class bx extends Qr{_parse(t){return this._getType(t)===Pt.null?wl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bx.create=(e,t)=>new bx({innerType:e,typeName:hr.ZodNullable,...Tr(t)});class NA extends Qr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===Pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}NA.create=(e,t)=>new NA({innerType:e,typeName:hr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Tr(t)});class _A extends Qr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return xw(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new od(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new od(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}_A.create=(e,t)=>new _A({innerType:e,typeName:hr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Tr(t)});class SA extends Qr{_parse(t){if(this._getType(t)!==Pt.nan){const s=this._getOrReturnCtx(t);return wt(s,{code:ut.invalid_type,expected:Pt.nan,received:s.parsedType}),gr}return{status:"valid",value:t.data}}}SA.create=e=>new SA({typeName:hr.ZodNaN,...Tr(e)});class UTe extends Qr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class lk extends Qr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?gr:i.status==="dirty"?(r.dirty(),ny(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?gr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new lk({in:t,out:r,typeName:hr.ZodPipeline})}}class AA extends Qr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(px(a)&&(a.value=Object.freeze(a.value)),a);return xw(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}AA.create=(e,t)=>new AA({innerType:e,typeName:hr.ZodReadonly,...Tr(t)});Ps.lazycreate;var hr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(hr||(hr={}));const Mt=Hu.create,vy=gx.create;SA.create;const qTe=xx.create,Jf=dA.create,$1=pv.create;hA.create;fA.create;const VTe=mA.create,VL=pA.create;gA.create;Kh.create;xA.create;const by=Xc.create,aV=Ps.create;Ps.strictCreate;const iV=yw.create;vw.create;Km.create;const WTe=bw.create;vA.create;yx.create;const HTe=bA.create;wA.create;const ck=vx.create;jA.create;ww.create;Yh.create;Fh.create;bx.create;Yh.createWithPreprocess;const Zt=Symbol.for("drizzle:entityKind");function ga(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Zt))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=e.constructor;if(r)for(;r;){if(Zt in r&&r[Zt]===t[Zt])return!0;r=Object.getPrototypeOf(r)}return!1}var HD;HD=Zt;class Gx{constructor(t,r){qe(this,"name");qe(this,"primary");qe(this,"notNull");qe(this,"default");qe(this,"defaultFn");qe(this,"hasDefault");qe(this,"isUnique");qe(this,"uniqueName");qe(this,"uniqueType");qe(this,"dataType");qe(this,"columnType");qe(this,"enumValues");qe(this,"config");this.table=t,this.config=r,this.name=r.name,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}}qe(Gx,HD,"Column");const og=Symbol.for("drizzle:SubqueryConfig");var GD,KD;KD=Zt,GD=og;class uk{constructor(t,r,s,a=!1){qe(this,GD);this[og]={sql:t,selection:r,alias:s,isWith:a}}}qe(uk,KD,"Subquery");function GTe(e,...t){return e(...t)}const KTe={startActiveSpan(e,t){return t()}},jw=Symbol.for("drizzle:ViewBaseConfig"),n_=Symbol.for("drizzle:Name"),s_=Symbol.for("drizzle:Schema"),WL=Symbol.for("drizzle:Columns"),a_=Symbol.for("drizzle:OriginalName"),i_=Symbol.for("drizzle:BaseName"),HL=Symbol.for("drizzle:IsAlias"),GL=Symbol.for("drizzle:ExtraConfigBuilder"),YTe=Symbol.for("drizzle:IsDrizzleTable");var YD,ZD,XD,QD,JD,eR,tR,rR,nR;nR=Zt,rR=n_,tR=a_,eR=s_,JD=WL,QD=i_,XD=HL,ZD=GL,YD=YTe;class na{constructor(t,r,s){qe(this,rR);qe(this,tR);qe(this,eR);qe(this,JD);qe(this,QD);qe(this,XD,!1);qe(this,ZD);qe(this,YD,!0);this[n_]=this[a_]=t,this[s_]=r,this[i_]=s}}qe(na,nR,"Table"),qe(na,"Symbol",{Name:n_,Schema:s_,OriginalName:a_,Columns:WL,BaseName:i_,IsAlias:HL,ExtraConfigBuilder:GL});function ZTe(e){return typeof e=="object"&&e!==null&&"getSQL"in e&&typeof e.getSQL=="function"}function XTe(e){const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var sR;sR=Zt;class ll{constructor(t){qe(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new qa([this])}}qe(ll,sR,"StringChunk");var aR;aR=Zt;const tm=class tm{constructor(t){qe(this,"decoder",oV);qe(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return KTe.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{escapeName:a,escapeParam:i,prepareTyping:o,inlineParams:l,paramStartIndex:c}=s;return XTe(t.map(u=>{if(ga(u,ll))return{sql:u.value.join(""),params:[]};if(ga(u,Nw))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const d=[new ll("(")];for(const[h,p]of u.entries())d.push(p),h<u.length-1&&d.push(new ll(", "));return d.push(new ll(")")),this.buildQueryFromSourceParams(d,s)}if(ga(u,tm))return this.buildQueryFromSourceParams(u.queryChunks,{...s,inlineParams:l||u.shouldInlineParams});if(ga(u,na)){const d=u[na.Symbol.Schema],h=u[na.Symbol.Name];return{sql:d===void 0?a(h):a(d)+"."+a(h),params:[]}}if(ga(u,Gx))return{sql:a(u.table[na.Symbol.Name])+"."+a(u.name),params:[]};if(ga(u,cV)){const d=u[jw].schema,h=u[jw].name;return{sql:d===void 0?a(h):a(d)+"."+a(h),params:[]}}if(ga(u,dk)){const d=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(ga(d,tm))return this.buildQueryFromSourceParams([d],s);if(l)return{sql:this.mapInlineParam(d,s),params:[]};let h;return o!==void 0&&(h=[o(u.encoder)]),{sql:i(c.value++,d),params:[d],typings:h}}return ga(u,hk)?{sql:i(c.value++,u),params:[u]}:ga(u,tm.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:ga(u,uk)?u[og].isWith?{sql:a(u[og].alias),params:[]}:this.buildQueryFromSourceParams([new ll("("),u[og].sql,new ll(") "),new Nw(u[og].alias)],s):ZTe(u)?this.buildQueryFromSourceParams([new ll("("),u.getSQL(),new ll(")")],s):l?{sql:this.mapInlineParam(u,s),params:[]}:{sql:i(c.value++,u),params:[u]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new tm.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}};qe(tm,aR,"SQL");let qa=tm;var iR;iR=Zt;class Nw{constructor(t){qe(this,"brand");this.value=t}getSQL(){return new qa([this])}}qe(Nw,iR,"Name");const oV={mapFromDriverValue:e=>e},lV={mapToDriverValue:e=>e};({...oV,...lV});var oR;oR=Zt;class dk{constructor(t,r=lV){qe(this,"brand");this.value=t,this.encoder=r}getSQL(){return new qa([this])}}qe(dk,oR,"Param");function _w(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new ll(e[0]));for(const[s,a]of t.entries())r.push(a,new ll(e[s+1]));return new qa(r)}(e=>{function t(){return new qa([])}e.empty=t;function r(c){return new qa(c)}e.fromList=r;function s(c){return new qa([new ll(c)])}e.raw=s;function a(c,u){const d=[];for(const[h,p]of c.entries())h>0&&u!==void 0&&d.push(u),d.push(p);return new qa(d)}e.join=a;function i(c){return new Nw(c)}e.identifier=i;function o(c){return new hk(c)}e.placeholder=o;function l(c,u){return new dk(c,u)}e.param=l})(_w||(_w={}));(e=>{var r;r=Zt;const s=class s{constructor(i,o){qe(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};qe(s,r,"SQL.Aliased");let t=s;e.Aliased=t})(qa||(qa={}));var lR;lR=Zt;class hk{constructor(t){this.name=t}getSQL(){return new qa([this])}}qe(hk,lR,"Placeholder");var cR,uR;uR=Zt,cR=jw;class cV{constructor({name:t,schema:r,selectedFields:s,query:a}){qe(this,cR);this[jw]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new qa([this])}}qe(cV,uR,"View");Gx.prototype.getSQL=function(){return new qa([this])};na.prototype.getSQL=function(){return new qa([this])};uk.prototype.getSQL=function(){return new qa([this])};var dR;dR=Zt;class uV{constructor(t,r,s){qe(this,"config");qe(this,"$default",this.$defaultFn);this.config={name:t,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}}qe(uV,dR,"ColumnBuilder");const kA=Symbol.for("drizzle:PgInlineForeignKeys");var hR,fR,mR,pR;class wx extends(pR=na,mR=Zt,fR=kA,hR=na.Symbol.ExtraConfigBuilder,pR){constructor(){super(...arguments);qe(this,fR,[]);qe(this,hR)}}qe(wx,mR,"PgTable"),qe(wx,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:kA}));function QTe(e,t,r,s,a=e){const i=new wx(e,s,a),o=Object.fromEntries(Object.entries(t).map(([c,u])=>{const d=u,h=d.build(i);return i[kA].push(...d.buildForeignKeys(h,i)),[c,h]})),l=Object.assign(i,o);return l[na.Symbol.Columns]=o,l}const Jr=(e,t,r)=>QTe(e,t,r,void 0);var gR;gR=Zt;class dV{constructor(t,r){qe(this,"reference");qe(this,"_onUpdate","no action");qe(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new hV(t,this)}}qe(dV,gR,"PgForeignKeyBuilder");var xR;xR=Zt;class hV{constructor(t,r){qe(this,"reference");qe(this,"onUpdate");qe(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(l=>l.name),i=s.map(l=>l.name),o=[this.table[wx.Symbol.Name],...a,s[0].table[wx.Symbol.Name],...i];return t??`${o.join("_")}_fk`}}qe(hV,xR,"PgForeignKey");function JTe(e,t){return`${e[wx.Symbol.Name]}_${t.join("_")}_unique`}function KL(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function fV(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[c,u]=KL(e,s+1,!0);r.push(c),s=u;continue}if(i==="}")return[r,s+1];if(i==="{"){const[c,u]=fV(e,s+1);r.push(c),s=u;continue}const[o,l]=KL(e,s,!1);r.push(o),s=l}return[r,s]}function eOe(e){const[t]=fV(e,1);return t}function mV(e){return`{${e.map(t=>Array.isArray(t)?mV(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var yR,vR;class fd extends(vR=uV,yR=Zt,vR){constructor(){super(...arguments);qe(this,"foreignKeyConfigs",[])}array(r){return new pV(this.config.name,this,r)}references(r,s={}){return this.foreignKeyConfigs.push({ref:r,actions:s}),this}unique(r,s){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=s?.nulls,this}buildForeignKeys(r,s){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>GTe((o,l)=>{const c=new dV(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(s)},a,i))}}qe(fd,yR,"PgColumnBuilder");var bR,wR;class Uo extends(wR=Gx,bR=Zt,wR){constructor(t,r){r.uniqueName||(r.uniqueName=JTe(t,[r.name])),super(t,r),this.table=t}}qe(Uo,bR,"PgColumn");var jR,NR;class pV extends(NR=fd,jR=Zt,NR){constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new CA(t,this.config,r)}}qe(pV,jR,"PgArrayBuilder");var _R,SR;const Uw=class Uw extends(SR=Uo,_R=Zt,SR){constructor(r,s,a,i){super(r,s);qe(this,"size");this.baseColumn=a,this.range=i,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=eOe(r)),r.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(r,s=!1){const a=r.map(i=>i===null?null:ga(this.baseColumn,Uw)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return s?a:mV(a)}};qe(Uw,_R,"PgArray");let CA=Uw;var AR,kR;class gV extends(kR=fd,AR=Zt,kR){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new xV(t,this.config)}}qe(gV,AR,"PgBooleanBuilder");var CR,PR;class xV extends(PR=Uo,CR=Zt,PR){getSQLType(){return"boolean"}}qe(xV,CR,"PgBoolean");function Vr(e){return new gV(e)}var ER,TR;class yV extends(TR=Uo,ER=Zt,TR){constructor(){super(...arguments);qe(this,"length",this.config.length);qe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}qe(yV,ER,"PgChar");var OR,LR;class tN extends(LR=fd,OR=Zt,LR){defaultNow(){return this.default(_w`now()`)}}qe(tN,OR,"PgDateColumnBaseBuilder");var IR,MR;class vV extends(MR=tN,IR=Zt,MR){constructor(t){super(t,"string","PgDateString")}build(t){return new bV(t,this.config)}}qe(vV,IR,"PgDateStringBuilder");var DR,RR;class bV extends(RR=Uo,DR=Zt,RR){getSQLType(){return"date"}}qe(bV,DR,"PgDateString");function Sw(e,t){return new vV(e)}var FR,$R;class wV extends($R=fd,FR=Zt,$R){constructor(t){super(t,"number","PgInteger")}build(t){return new jV(t,this.config)}}qe(wV,FR,"PgIntegerBuilder");var BR,zR;class jV extends(zR=Uo,BR=Zt,zR){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}qe(jV,BR,"PgInteger");function qs(e){return new wV(e)}var UR,qR;class NV extends(qR=fd,UR=Zt,qR){constructor(t){super(t,"json","PgJsonb")}build(t){return new _V(t,this.config)}}qe(NV,UR,"PgJsonbBuilder");var VR,WR;class _V extends(WR=Uo,VR=Zt,WR){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}qe(_V,VR,"PgJsonb");function Ia(e){return new NV(e)}var HR,GR;class SV extends(GR=fd,HR=Zt,GR){constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new AV(t,this.config)}}qe(SV,HR,"PgNumericBuilder");var KR,YR;class AV extends(YR=Uo,KR=Zt,YR){constructor(r,s){super(r,s);qe(this,"precision");qe(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}qe(AV,KR,"PgNumeric");function tOe(e,t){return new SV(e,t?.precision,t?.scale)}const Fn=tOe;var ZR,XR;class kV extends(XR=fd,ZR=Zt,XR){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new CV(t,this.config)}}qe(kV,ZR,"PgTextBuilder");var QR,JR;class CV extends(JR=Uo,QR=Zt,JR){constructor(){super(...arguments);qe(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}qe(CV,QR,"PgText");function Ne(e,t={}){return new kV(e,t)}var e7,t7;class PV extends(t7=tN,e7=Zt,t7){constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new EV(t,this.config)}}qe(PV,e7,"PgTimestampBuilder");var r7,n7;class EV extends(n7=Uo,r7=Zt,n7){constructor(r,s){super(r,s);qe(this,"withTimezone");qe(this,"precision");qe(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));qe(this,"mapToDriverValue",r=>this.withTimezone?r.toUTCString():r.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}qe(EV,r7,"PgTimestamp");var s7,a7;class TV extends(a7=tN,s7=Zt,a7){constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new OV(t,this.config)}}qe(TV,s7,"PgTimestampStringBuilder");var i7,o7;class OV extends(o7=Uo,i7=Zt,o7){constructor(r,s){super(r,s);qe(this,"withTimezone");qe(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}qe(OV,i7,"PgTimestampString");function dt(e,t={}){return t.mode==="string"?new TV(e,t.withTimezone??!1,t.precision):new PV(e,t.withTimezone??!1,t.precision)}var l7,c7;class LV extends(c7=fd,l7=Zt,c7){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(_w`gen_random_uuid()`)}build(t){return new fk(t,this.config)}}qe(LV,l7,"PgUUIDBuilder");var u7,d7;class fk extends(d7=Uo,u7=Zt,d7){getSQLType(){return"uuid"}}qe(fk,u7,"PgUUID");function dr(e){return new LV(e)}var h7,f7;class IV extends(f7=Uo,h7=Zt,f7){constructor(){super(...arguments);qe(this,"length",this.config.length);qe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}qe(IV,h7,"PgVarchar");function rOe(e){return e[na.Symbol.Columns]}const YL=Symbol.for("drizzle:MySqlInlineForeignKeys");var m7,p7,g7,x7,y7;class PA extends(y7=na,x7=Zt,g7=na.Symbol.Columns,p7=YL,m7=na.Symbol.ExtraConfigBuilder,y7){constructor(){super(...arguments);qe(this,g7);qe(this,p7,[]);qe(this,m7)}}qe(PA,x7,"MySqlTable"),qe(PA,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:YL}));function nOe(e,t){return`${e[PA.Symbol.Name]}_${t.join("_")}_unique`}var v7,b7;class rN extends(b7=Gx,v7=Zt,b7){constructor(t,r){r.uniqueName||(r.uniqueName=nOe(t,[r.name])),super(t,r),this.table=t}}qe(rN,v7,"MySqlColumn");var w7,j7;class MV extends(j7=rN,w7=Zt,j7){constructor(){super(...arguments);qe(this,"length",this.config.length);qe(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}qe(MV,w7,"MySqlChar");var N7,_7;class DV extends(_7=rN,N7=Zt,_7){constructor(){super(...arguments);qe(this,"length",this.config.length)}getSQLType(){return this.length===void 0?"varbinary":`varbinary(${this.length})`}}qe(DV,N7,"MySqlVarBinary");var S7,A7;class RV extends(A7=rN,S7=Zt,A7){constructor(){super(...arguments);qe(this,"length",this.config.length);qe(this,"enumValues",this.config.enum)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}qe(RV,S7,"MySqlVarChar");const ZL=Symbol.for("drizzle:SQLiteInlineForeignKeys");var k7,C7,P7,E7,T7;class EA extends(T7=na,E7=Zt,P7=na.Symbol.Columns,C7=ZL,k7=na.Symbol.ExtraConfigBuilder,T7){constructor(){super(...arguments);qe(this,P7);qe(this,C7,[]);qe(this,k7)}}qe(EA,E7,"SQLiteTable"),qe(EA,"Symbol",Object.assign({},na.Symbol,{InlineForeignKeys:ZL}));function sOe(e,t){return`${e[EA.Symbol.Name]}_${t.join("_")}_unique`}var O7,L7;class FV extends(L7=Gx,O7=Zt,L7){constructor(t,r){r.uniqueName||(r.uniqueName=sOe(t,[r.name])),super(t,r),this.table=t}}qe(FV,O7,"SQLiteColumn");var I7,M7;class $V extends(M7=FV,I7=Zt,M7){constructor(r,s){super(r,s);qe(this,"enumValues",this.config.enumValues);qe(this,"length",this.config.length)}getSQLType(){return`text${this.config.length?`(${this.config.length})`:""}`}}qe($V,I7,"SQLiteText");const aOe=iV([Mt(),vy(),Jf(),VTe()]),TA=HTe(()=>iV([aOe,by(TA),WTe(TA)]));function wa(e,t){const r=rOe(e),s=Object.entries(r);let a=Object.fromEntries(s.map(([i,o])=>[i,BV(o)]));t&&(a=Object.assign(a,Object.fromEntries(Object.entries(t).map(([i,o])=>[i,typeof o=="function"?o(a):o]))));for(const[i,o]of s)o.notNull?o.hasDefault&&(a[i]=a[i].optional()):a[i]=a[i].nullable().optional();return aV(a)}function BV(e){let t;if(function(r){return"enumValues"in r&&Array.isArray(r.enumValues)&&r.enumValues.length>0}(e)&&(t=e.enumValues.length?ck(e.enumValues):Mt()),!t){if(ga(e,fk))t=Mt().uuid();else if(e.dataType==="custom")t=VL();else if(e.dataType==="json")t=TA;else if(e.dataType==="array")t=by(BV(e.baseColumn));else if(e.dataType==="number")t=vy();else if(e.dataType==="bigint")t=qTe();else if(e.dataType==="boolean")t=Jf();else if(e.dataType==="date")t=$1();else if(e.dataType==="string"){let r=Mt();(ga(e,yV)||ga(e,IV)||ga(e,RV)||ga(e,DV)||ga(e,MV)||ga(e,$V))&&typeof e.length=="number"&&(r=r.max(e.length)),t=r}}return t||(t=VL()),t}const lu=Jr("users",{id:dr("id").primaryKey().defaultRandom(),email:Ne("email").unique().notNull(),password:Ne("password"),firstName:Ne("first_name"),lastName:Ne("last_name"),avatar:Ne("avatar"),isAdmin:Vr("is_admin").default(!1),studioId:dr("studio_id"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()});Jr("studio_configs",{id:dr("id").primaryKey().defaultRandom(),studioName:Ne("studio_name").notNull(),ownerEmail:Ne("owner_email").notNull(),domain:Ne("domain"),subdomain:Ne("subdomain").unique(),activeTemplate:Ne("active_template").default("template-01-modern-minimal"),logoUrl:Ne("logo_url"),primaryColor:Ne("primary_color").default("#7C3AED"),secondaryColor:Ne("secondary_color").default("#F59E0B"),fontFamily:Ne("font_family").default("Inter"),businessName:Ne("business_name"),address:Ne("address"),city:Ne("city"),state:Ne("state"),zip:Ne("zip"),country:Ne("country").default("Austria"),phone:Ne("phone"),email:Ne("email"),website:Ne("website"),facebookUrl:Ne("facebook_url"),instagramUrl:Ne("instagram_url"),twitterUrl:Ne("twitter_url"),openingHours:Ia("opening_hours"),enabledFeatures:Ne("enabled_features").array().default(["gallery","booking","blog","crm"]),metaTitle:Ne("meta_title"),metaDescription:Ne("meta_description"),isActive:Vr("is_active").default(!0),subscriptionStatus:Ne("subscription_status").default("trial"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()});Jr("template_definitions",{id:Ne("id").primaryKey(),name:Ne("name").notNull(),description:Ne("description"),category:Ne("category"),previewImage:Ne("preview_image"),demoUrl:Ne("demo_url"),features:Ne("features").array(),colorScheme:Ia("color_scheme"),isActive:Vr("is_active").default(!0),isPremium:Vr("is_premium").default(!1),createdAt:dt("created_at").defaultNow()});const iOe=Jr("admin_users",{id:dr("id").primaryKey().defaultRandom(),email:Ne("email").unique().notNull(),passwordHash:Ne("password_hash").notNull(),firstName:Ne("first_name"),lastName:Ne("last_name"),role:Ne("role").default("admin"),status:Ne("status").default("active"),lastLoginAt:dt("last_login_at"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),oOe=Jr("blog_posts",{id:dr("id").primaryKey().defaultRandom(),title:Ne("title").notNull(),slug:Ne("slug").unique().notNull(),content:Ne("content"),contentHtml:Ne("content_html"),excerpt:Ne("excerpt"),imageUrl:Ne("image_url"),published:Vr("published").default(!1),publishedAt:dt("published_at"),scheduledFor:dt("scheduled_for"),status:Ne("status").default("DRAFT"),authorId:dr("author_id").references(()=>lu.id),tags:Ne("tags").array(),metaDescription:Ne("meta_description"),seoTitle:Ne("seo_title"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),Hv=Jr("crm_clients",{id:dr("id").primaryKey().defaultRandom(),firstName:Ne("first_name").notNull(),lastName:Ne("last_name").notNull(),clientId:Ne("client_id").unique(),email:Ne("email").notNull(),phone:Ne("phone"),address:Ne("address"),city:Ne("city"),state:Ne("state"),zip:Ne("zip"),country:Ne("country"),company:Ne("company"),notes:Ne("notes"),status:Ne("status").default("active"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),lOe=Jr("crm_leads",{id:dr("id").primaryKey().defaultRandom(),name:Ne("name").notNull(),email:Ne("email").notNull(),phone:Ne("phone"),company:Ne("company"),message:Ne("message"),source:Ne("source"),status:Ne("status").default("new"),assigned_to:dr("assigned_to").references(()=>lu.id),priority:Ne("priority").default("medium"),tags:Ne("tags").array(),follow_up_date:Sw("follow_up_date"),value:Fn("value",{precision:10,scale:2}),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),mk=Jr("crm_invoices",{id:dr("id").primaryKey().defaultRandom(),invoiceNumber:Ne("invoice_number").unique().notNull(),clientId:dr("client_id").references(()=>Hv.id).notNull(),issueDate:Sw("issue_date").notNull(),dueDate:Sw("due_date").notNull(),subtotal:Fn("subtotal",{precision:10,scale:2}).notNull(),taxAmount:Fn("tax_amount",{precision:10,scale:2}).default("0"),total:Fn("total",{precision:10,scale:2}).notNull(),status:Ne("status").default("draft"),notes:Ne("notes"),termsAndConditions:Ne("terms_and_conditions"),createdBy:dr("created_by").references(()=>lu.id),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),cOe=Jr("crm_invoice_items",{id:dr("id").primaryKey().defaultRandom(),invoiceId:dr("invoice_id").references(()=>mk.id,{onDelete:"cascade"}).notNull(),description:Ne("description").notNull(),quantity:Fn("quantity",{precision:10,scale:2}).default("1"),unitPrice:Fn("unit_price",{precision:10,scale:2}).notNull(),taxRate:Fn("tax_rate",{precision:5,scale:2}).default("0"),sortOrder:qs("sort_order").default(0),createdAt:dt("created_at").defaultNow()});Jr("crm_invoice_payments",{id:dr("id").primaryKey().defaultRandom(),invoiceId:dr("invoice_id").references(()=>mk.id,{onDelete:"cascade"}).notNull(),amount:Fn("amount",{precision:10,scale:2}).notNull(),paymentMethod:Ne("payment_method").default("bank_transfer"),paymentReference:Ne("payment_reference"),paymentDate:Sw("payment_date").notNull(),notes:Ne("notes"),createdBy:dr("created_by").references(()=>lu.id),createdAt:dt("created_at").defaultNow()});const zV=Jr("voucher_products",{id:dr("id").primaryKey().defaultRandom(),name:Ne("name").notNull(),description:Ne("description"),price:Fn("price",{precision:10,scale:2}).notNull(),originalPrice:Fn("original_price",{precision:10,scale:2}),category:Ne("category"),sessionDuration:qs("session_duration").default(60),sessionType:Ne("session_type"),validityPeriod:qs("validity_period").default(365),redemptionInstructions:Ne("redemption_instructions"),termsAndConditions:Ne("terms_and_conditions"),imageUrl:Ne("image_url"),displayOrder:qs("display_order").default(0),featured:Vr("featured").default(!1),badge:Ne("badge"),isActive:Vr("is_active").default(!0),stockLimit:qs("stock_limit"),maxPerCustomer:qs("max_per_customer").default(5),slug:Ne("slug").unique(),metaTitle:Ne("meta_title"),metaDescription:Ne("meta_description"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),pk=Jr("discount_coupons",{id:dr("id").primaryKey().defaultRandom(),code:Ne("code").unique().notNull(),name:Ne("name").notNull(),description:Ne("description"),discountType:Ne("discount_type").notNull(),discountValue:Fn("discount_value",{precision:10,scale:2}).notNull(),minOrderAmount:Fn("min_order_amount",{precision:10,scale:2}),maxDiscountAmount:Fn("max_discount_amount",{precision:10,scale:2}),usageLimit:qs("usage_limit"),usageCount:qs("usage_count").default(0),usageLimitPerCustomer:qs("usage_limit_per_customer").default(1),startDate:dt("start_date"),endDate:dt("end_date"),isActive:Vr("is_active").default(!0),applicableProducts:Ne("applicable_products").array(),excludedProducts:Ne("excluded_products").array(),firstTimeCustomersOnly:Vr("first_time_customers_only").default(!1),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),UV=Jr("voucher_sales",{id:dr("id").primaryKey().defaultRandom(),productId:dr("product_id").references(()=>zV.id),purchaserName:Ne("purchaser_name").notNull(),purchaserEmail:Ne("purchaser_email").notNull(),purchaserPhone:Ne("purchaser_phone"),recipientName:Ne("recipient_name"),recipientEmail:Ne("recipient_email"),giftMessage:Ne("gift_message"),voucherCode:Ne("voucher_code").unique().notNull(),originalAmount:Fn("original_amount",{precision:10,scale:2}).notNull(),discountAmount:Fn("discount_amount",{precision:10,scale:2}).default("0"),finalAmount:Fn("final_amount",{precision:10,scale:2}).notNull(),currency:Ne("currency").default("EUR"),couponId:dr("coupon_id").references(()=>pk.id),couponCode:Ne("coupon_code"),paymentIntentId:Ne("payment_intent_id"),paymentStatus:Ne("payment_status").default("pending"),paymentMethod:Ne("payment_method"),isRedeemed:Vr("is_redeemed").default(!1),redeemedAt:dt("redeemed_at"),redeemedBy:dr("redeemed_by").references(()=>Hv.id),sessionId:dr("session_id"),validFrom:dt("valid_from").defaultNow(),validUntil:dt("valid_until"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),uOe=Jr("coupon_usage",{id:dr("id").primaryKey().defaultRandom(),couponId:dr("coupon_id").references(()=>pk.id),customerEmail:Ne("customer_email").notNull(),orderAmount:Fn("order_amount",{precision:10,scale:2}).notNull(),discountAmount:Fn("discount_amount",{precision:10,scale:2}).notNull(),voucherSaleId:dr("voucher_sale_id").references(()=>UV.id),usedAt:dt("used_at").defaultNow()}),dOe=Jr("crm_messages",{id:dr("id").primaryKey().defaultRandom(),senderName:Ne("sender_name").notNull(),senderEmail:Ne("sender_email").notNull(),subject:Ne("subject").notNull(),content:Ne("content").notNull(),status:Ne("status").default("unread"),clientId:dr("client_id").references(()=>Hv.id),assignedTo:dr("assigned_to").references(()=>lu.id),repliedAt:dt("replied_at"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),qV=Jr("galleries",{id:dr("id").primaryKey().defaultRandom(),title:Ne("title").notNull(),slug:Ne("slug").unique().notNull(),description:Ne("description"),coverImage:Ne("cover_image"),isPublic:Vr("is_public").default(!0),isPasswordProtected:Vr("is_password_protected").default(!1),password:Ne("password"),clientId:dr("client_id").references(()=>Hv.id),createdBy:dr("created_by").references(()=>lu.id),sortOrder:qs("sort_order").default(0),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()});Jr("gallery_images",{id:dr("id").primaryKey().defaultRandom(),galleryId:dr("gallery_id").references(()=>qV.id,{onDelete:"cascade"}).notNull(),filename:Ne("filename").notNull(),url:Ne("url").notNull(),title:Ne("title"),description:Ne("description"),sortOrder:qs("sort_order").default(0),metadata:Ia("metadata"),createdAt:dt("created_at").defaultNow()});Jr("photography_sessions",{id:Ne("id").primaryKey(),title:Ne("title").notNull(),description:Ne("description"),sessionType:Ne("session_type").notNull(),status:Ne("status").default("scheduled"),startTime:dt("start_time",{withTimezone:!0}).notNull(),endTime:dt("end_time",{withTimezone:!0}).notNull(),clientId:Ne("client_id"),clientName:Ne("client_name"),clientEmail:Ne("client_email"),clientPhone:Ne("client_phone"),attendees:Ia("attendees"),locationName:Ne("location_name"),locationAddress:Ne("location_address"),locationCoordinates:Ne("location_coordinates"),weatherDependent:Vr("weather_dependent").default(!1),goldenHourOptimized:Vr("golden_hour_optimized").default(!1),backupPlan:Ne("backup_plan"),basePrice:Fn("base_price",{precision:10,scale:2}),depositAmount:Fn("deposit_amount",{precision:10,scale:2}),depositPaid:Vr("deposit_paid").default(!1),finalPayment:Fn("final_payment",{precision:10,scale:2}),finalPaymentPaid:Vr("final_payment_paid").default(!1),paymentStatus:Ne("payment_status").default("unpaid"),equipmentList:Ne("equipment_list").array(),crewMembers:Ne("crew_members").array(),conflictDetected:Vr("conflict_detected").default(!1),notes:Ne("notes"),portfolioWorthy:Vr("portfolio_worthy").default(!1),editingStatus:Ne("editing_status").default("not_started"),deliveryStatus:Ne("delivery_status").default("pending"),deliveryDate:dt("delivery_date",{withTimezone:!0}),isRecurring:Vr("is_recurring").default(!1),recurrenceRule:Ne("recurrence_rule"),parentEventId:Ne("parent_event_id"),googleCalendarEventId:Ne("google_calendar_event_id"),icalUid:Ne("ical_uid"),externalCalendarSync:Vr("external_calendar_sync").default(!1),reminderSettings:Ia("reminder_settings"),reminderSent:Vr("reminder_sent").default(!1),confirmationSent:Vr("confirmation_sent").default(!1),followUpSent:Vr("follow_up_sent").default(!1),isOnlineBookable:Vr("is_online_bookable").default(!1),bookingRequirements:Ia("booking_requirements"),availabilityStatus:Ne("availability_status").default("available"),color:Ne("color"),priority:Ne("priority").default("medium"),isPublic:Vr("is_public").default(!1),category:Ne("category"),galleryId:Ne("gallery_id"),photographerId:Ne("photographer_id"),tags:Ne("tags").array(),customFields:Ia("custom_fields"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("session_equipment",{id:Ne("id").primaryKey(),sessionId:Ne("session_id").notNull(),equipmentName:Ne("equipment_name").notNull(),equipmentType:Ne("equipment_type"),rentalRequired:Vr("rental_required").default(!1),rentalCost:Fn("rental_cost",{precision:10,scale:2}),notes:Ne("notes"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow()});Jr("session_tasks",{id:Ne("id").primaryKey(),sessionId:Ne("session_id").notNull(),taskType:Ne("task_type").notNull(),title:Ne("title").notNull(),description:Ne("description"),assignedTo:Ne("assigned_to"),status:Ne("status").default("pending"),dueDate:dt("due_date",{withTimezone:!0}),completedAt:dt("completed_at",{withTimezone:!0}),createdAt:dt("created_at",{withTimezone:!0}).defaultNow()});Jr("session_communications",{id:Ne("id").primaryKey(),sessionId:Ne("session_id").notNull(),communicationType:Ne("communication_type").notNull(),subject:Ne("subject"),content:Ne("content"),sentTo:Ne("sent_to"),sentAt:dt("sent_at",{withTimezone:!0}).defaultNow(),responseReceived:Vr("response_received").default(!1),createdAt:dt("created_at",{withTimezone:!0}).defaultNow()});Jr("weather_data",{id:Ne("id").primaryKey(),sessionId:Ne("session_id").notNull(),forecastDate:dt("forecast_date",{withTimezone:!0}).notNull(),temperature:Fn("temperature",{precision:5,scale:2}),condition:Ne("condition"),precipitationChance:qs("precipitation_chance"),windSpeed:Fn("wind_speed",{precision:5,scale:2}),goldenHourStart:dt("golden_hour_start",{withTimezone:!0}),goldenHourEnd:dt("golden_hour_end",{withTimezone:!0}),createdAt:dt("created_at",{withTimezone:!0}).defaultNow()});Jr("business_insights",{id:Ne("id").primaryKey(),insightType:Ne("insight_type").notNull(),title:Ne("title").notNull(),description:Ne("description"),dataPoint:Fn("data_point",{precision:15,scale:2}),dataUnit:Ne("data_unit"),periodStart:dt("period_start",{withTimezone:!0}),periodEnd:dt("period_end",{withTimezone:!0}),category:Ne("category"),priority:Ne("priority").default("medium"),actionable:Vr("actionable").default(!1),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("availability_templates",{id:Ne("id").primaryKey(),name:Ne("name").notNull(),description:Ne("description"),photographerId:Ne("photographer_id").notNull(),businessHours:Ia("business_hours"),breakTime:Ia("break_time"),bufferTime:qs("buffer_time").default(30),maxSessionsPerDay:qs("max_sessions_per_day").default(3),isDefault:Vr("is_default").default(!1),isActive:Vr("is_active").default(!0),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("availability_overrides",{id:Ne("id").primaryKey(),photographerId:Ne("photographer_id").notNull(),date:dt("date",{withTimezone:!0}).notNull(),overrideType:Ne("override_type").notNull(),title:Ne("title"),description:Ne("description"),customHours:Ia("custom_hours"),isRecurring:Vr("is_recurring").default(!1),recurrenceRule:Ne("recurrence_rule"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("calendar_sync_settings",{id:Ne("id").primaryKey(),userId:Ne("user_id").notNull(),provider:Ne("provider").notNull(),accessToken:Ne("access_token"),refreshToken:Ne("refresh_token"),calendarId:Ne("calendar_id"),syncEnabled:Vr("sync_enabled").default(!0),syncDirection:Ne("sync_direction").default("bidirectional"),lastSyncAt:dt("last_sync_at",{withTimezone:!0}),syncStatus:Ne("sync_status").default("active"),syncErrors:Ia("sync_errors"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("calendar_sync_logs",{id:Ne("id").primaryKey(),syncSettingId:Ne("sync_setting_id").notNull(),syncType:Ne("sync_type").notNull(),status:Ne("status").notNull(),eventsProcessed:qs("events_processed").default(0),eventsCreated:qs("events_created").default(0),eventsUpdated:qs("events_updated").default(0),eventsDeleted:qs("events_deleted").default(0),errors:Ia("errors"),duration:qs("duration"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow()});Jr("booking_forms",{id:Ne("id").primaryKey(),name:Ne("name").notNull(),description:Ne("description"),sessionTypes:Ne("session_types").array(),fields:Ia("fields"),requirements:Ia("requirements"),pricing:Ia("pricing"),availability:Ia("availability"),confirmationMessage:Ne("confirmation_message"),isActive:Vr("is_active").default(!0),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});Jr("online_bookings",{id:Ne("id").primaryKey(),formId:Ne("form_id").notNull(),sessionId:Ne("session_id"),clientName:Ne("client_name").notNull(),clientEmail:Ne("client_email").notNull(),clientPhone:Ne("client_phone"),formData:Ia("form_data"),requestedDate:dt("requested_date",{withTimezone:!0}),requestedTime:Ne("requested_time"),sessionType:Ne("session_type").notNull(),status:Ne("status").default("pending"),notes:Ne("notes"),adminNotes:Ne("admin_notes"),processedAt:dt("processed_at",{withTimezone:!0}),processedBy:Ne("processed_by"),createdAt:dt("created_at",{withTimezone:!0}).defaultNow(),updatedAt:dt("updated_at",{withTimezone:!0}).defaultNow()});aV({title:Mt(),description:Mt().optional(),sessionType:Mt(),status:Mt().optional(),startTime:$1(),endTime:$1(),clientName:Mt().optional(),clientEmail:Mt().optional(),clientPhone:Mt().optional(),locationName:Mt().optional(),locationAddress:Mt().optional(),locationCoordinates:Mt().optional(),basePrice:vy().optional(),depositAmount:vy().optional(),depositPaid:Jf().optional(),finalPayment:vy().optional(),finalPaymentPaid:Jf().optional(),equipmentList:by(Mt()).optional(),crewMembers:by(Mt()).optional(),weatherDependent:Jf().optional(),goldenHourOptimized:Jf().optional(),backupPlan:Mt().optional(),notes:Mt().optional(),portfolioWorthy:Jf().optional(),editingStatus:Mt().optional(),deliveryStatus:Mt().optional(),deliveryDate:$1().optional(),galleryId:Mt().optional(),photographerId:Mt().optional(),tags:by(Mt()).optional()});wa(lu).pick({email:!0,name:!0,avatar:!0});wa(oOe).pick({title:!0,content:!0,contentHtml:!0,slug:!0,excerpt:!0,published:!0,imageUrl:!0,tags:!0,publishedAt:!0,scheduledFor:!0,status:!0,seoTitle:!0,metaDescription:!0,authorId:!0});wa(Hv).pick({name:!0,email:!0,phone:!0,address:!0,city:!0,state:!0,zipCode:!0,country:!0,tags:!0,notes:!0,source:!0,lifetime_value:!0});wa(lOe).pick({name:!0,email:!0,phone:!0,company:!0,message:!0,source:!0,status:!0,priority:!0,tags:!0,followUpDate:!0,value:!0});wa(qV).pick({title:!0,description:!0,slug:!0,coverImage:!0,isPublished:!0,tags:!0,password:!0});wa(mk).pick({invoiceNumber:!0,clientId:!0,issueDate:!0,dueDate:!0,subtotal:!0,taxAmount:!0,total:!0,status:!0,notes:!0,termsAndConditions:!0}).partial({invoiceNumber:!0});wa(cOe).pick({invoiceId:!0,description:!0,quantity:!0,unitPrice:!0,taxRate:!0,sortOrder:!0});wa(dOe).pick({senderName:!0,senderEmail:!0,subject:!0,content:!0,status:!0,clientId:!0,assignedTo:!0});const hOe=wa(zV,{name:Mt().min(1,"Product name is required"),price:Mt().min(1,"Price is required")}).omit({id:!0,createdAt:!0,updatedAt:!0}),fOe=wa(pk,{code:Mt().min(1,"Coupon code is required"),name:Mt().min(1,"Coupon name is required"),discountType:ck(["percentage","fixed_amount"]),discountValue:Mt().min(1,"Discount value is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(UV,{purchaserName:Mt().min(1,"Purchaser name is required"),purchaserEmail:Mt().email("Valid email is required"),voucherCode:Mt().min(1,"Voucher code is required"),originalAmount:Mt().min(1,"Original amount is required"),finalAmount:Mt().min(1,"Final amount is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(uOe,{customerEmail:Mt().email("Valid email is required"),orderAmount:Mt().min(1,"Order amount is required"),discountAmount:Mt().min(1,"Discount amount is required")}).omit({id:!0,usedAt:!0});const mOe=Jr("knowledge_base",{id:dr("id").primaryKey().defaultRandom(),title:Ne("title").notNull(),content:Ne("content").notNull(),category:Ne("category").notNull(),tags:Ne("tags").array().default([]),isActive:Vr("is_active").default(!0),createdBy:dr("created_by").references(()=>lu.id),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),pOe=Jr("openai_assistants",{id:dr("id").primaryKey().defaultRandom(),openaiAssistantId:Ne("openai_assistant_id"),name:Ne("name").notNull(),description:Ne("description"),model:Ne("model").default("gpt-4o"),instructions:Ne("instructions").notNull(),isActive:Vr("is_active").default(!0),knowledgeBaseIds:Ne("knowledge_base_ids").array().default([]),createdBy:dr("created_by").references(()=>lu.id),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()});wa(mOe,{title:Mt().min(1,"Title is required"),content:Mt().min(1,"Content is required"),category:Mt().min(1,"Category is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(pOe,{name:Mt().min(1,"Assistant name is required"),instructions:Mt().min(1,"Instructions are required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(iOe,{email:Mt().email("Valid email is required"),passwordHash:Mt().min(1,"Password hash is required"),firstName:Mt().min(1,"First name is required"),lastName:Mt().min(1,"Last name is required")}).omit({id:!0,createdAt:!0,updatedAt:!0,lastLoginAt:!0});const nN=Jr("studios",{id:dr("id").primaryKey().defaultRandom(),name:Ne("name").notNull(),slug:Ne("slug").unique().notNull(),default_currency:Ne("default_currency").default("EUR"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),gOe=Jr("studio_integrations",{id:dr("id").primaryKey().defaultRandom(),studioId:dr("studio_id").references(()=>nN.id,{onDelete:"cascade"}).notNull(),smtp_host:Ne("smtp_host"),smtp_port:qs("smtp_port").default(587),smtp_user:Ne("smtp_user"),smtp_pass_encrypted:Ne("smtp_pass_encrypted"),inbound_email_address:Ne("inbound_email_address"),default_from_email:Ne("default_from_email"),stripe_account_id:Ne("stripe_account_id"),stripe_publishable_key:Ne("stripe_publishable_key"),stripe_secret_key_encrypted:Ne("stripe_secret_key_encrypted"),openai_api_key_encrypted:Ne("openai_api_key_encrypted"),default_currency:Ne("default_currency").default("EUR"),timezone:Ne("timezone").default("Europe/Vienna"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),xOe=Jr("ai_policies",{id:dr("id").primaryKey().defaultRandom(),studioId:dr("studio_id").references(()=>nN.id,{onDelete:"cascade"}).notNull(),mode:Ne("mode").notNull().default("read_only"),authorities:Ne("authorities").array().default([]),invoice_auto_limit:Fn("invoice_auto_limit",{precision:10,scale:2}).default("0"),email_send_mode:Ne("email_send_mode").default("draft"),max_daily_actions:qs("max_daily_actions").default(100),require_approval_above:Fn("require_approval_above",{precision:10,scale:2}).default("500"),createdAt:dt("created_at").defaultNow(),updatedAt:dt("updated_at").defaultNow()}),yOe=Jr("agent_action_log",{id:dr("id").primaryKey().defaultRandom(),studioId:dr("studio_id").references(()=>nN.id,{onDelete:"cascade"}).notNull(),userId:dr("user_id").references(()=>lu.id),action_type:Ne("action_type").notNull(),action_details:Ia("action_details"),assistant_id:Ne("assistant_id"),conversation_id:Ne("conversation_id"),success:Vr("success").default(!0),error_message:Ne("error_message"),ip_address:Ne("ip_address"),user_agent:Ne("user_agent"),createdAt:dt("created_at").defaultNow()});wa(nN,{name:Mt().min(1,"Studio name is required"),slug:Mt().min(1,"Studio slug is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(gOe,{studioId:Mt().uuid("Valid studio ID is required")}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(xOe,{studioId:Mt().uuid("Valid studio ID is required"),mode:ck(["read_only","propose","auto_safe","auto_all"])}).omit({id:!0,createdAt:!0,updatedAt:!0});wa(yOe,{studioId:Mt().uuid("Valid studio ID is required"),action_type:Mt().min(1,"Action type is required")}).omit({id:!0,createdAt:!0});const vOe=hOe.extend({price:Mt().min(1,"Price is required"),validityPeriod:Mt().min(1,"Validity period is required"),displayOrder:Mt().optional()}),bOe=fOe.extend({discountValue:Mt().min(1,"Discount value is required"),minOrderAmount:Mt().optional(),maxDiscountAmount:Mt().optional(),usageLimit:Mt().optional(),startDate:Mt().optional(),endDate:Mt().optional()});function wOe(){const[e,t]=_.useState("dashboard"),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(!1),[c,u]=_.useState(!1),d=p6(),[h,p]=_.useState(null),[f,x]=_.useState(!1),g=RL({resolver:$L(vOe),defaultValues:{name:"",description:"",price:"",validityPeriod:"",isActive:!0,displayOrder:"0"}}),v=RL({resolver:$L(bOe),defaultValues:{code:"",name:"",description:"",discountType:"percentage",discountValue:"",isActive:!0}}),{data:b,isLoading:j,error:N}=oy({queryKey:["/api/vouchers/products"],queryFn:async()=>{const q=await fetch("/api/vouchers/products");if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);return await q.json()},refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0,gcTime:0}),{data:A,isLoading:S}=oy({queryKey:["/api/vouchers/coupons"]}),{data:L,isLoading:I}=oy({queryKey:["/api/vouchers/sales"]}),k={totalRevenue:L?.reduce((q,R)=>q+Number(R.finalAmount),0)||0,totalSales:L?.length||0,activeProducts:b?.filter(q=>q.isActive).length||0,activeCoupons:A?.filter(q=>q.isActive).length||0,avgOrderValue:L?.length?L.reduce((q,R)=>q+Number(R.finalAmount),0)/L.length:0,totalDiscountGiven:L?.reduce((q,R)=>q+Number(R.discountAmount),0)||0},E=J0({mutationFn:async q=>{const R=await fetch("/api/vouchers/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...q,price:q.price,validityPeriod:parseInt(q.validityPeriod),displayOrder:parseInt(q.displayOrder||"0"),imageUrl:h})});if(!R.ok)throw new Error("Failed to create product");return R.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/vouchers/products"]}),d.refetchQueries({queryKey:["/api/vouchers/products"]}),d.removeQueries({queryKey:["/api/vouchers/products"]}),l(!1),g.reset(),alert("Voucher product created successfully!"),window.location.reload()},onError:q=>{alert("Failed to create voucher product")}}),B=J0({mutationFn:async q=>{const R=await fetch(`/api/vouchers/products/${q.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...q,price:q.price,validityPeriod:parseInt(q.validityPeriod),displayOrder:parseInt(q.displayOrder||"0"),imageUrl:h})});if(!R.ok)throw new Error("Failed to update product");return R.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/vouchers/products"]}),l(!1),s(null),g.reset(),alert("Voucher product updated successfully!")},onError:q=>{alert("Failed to update voucher product")}}),C=J0({mutationFn:async q=>{const R=await fetch("/api/vouchers/coupons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...q,discountValue:q.discountValue,minOrderAmount:q.minOrderAmount||void 0,maxDiscountAmount:q.maxDiscountAmount||void 0,usageLimit:q.usageLimit?parseInt(q.usageLimit):void 0})});if(!R.ok)throw new Error("Failed to create coupon");return R.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/vouchers/coupons"]}),u(!1),v.reset(),alert("Discount coupon created successfully!")},onError:q=>{alert("Failed to create discount coupon")}}),O=async q=>{if(q){x(!0);try{const R=new FormData;R.append("file",q);const K=await fetch("/api/upload/image",{method:"POST",body:R});if(!K.ok)throw new Error("Image upload failed");const Z=await K.json();p(Z.url)}catch{alert("Failed to upload image")}finally{x(!1)}}},M=()=>{s(null),g.reset(),p(null),l(!0)},D=q=>{s(q),p(q.imageUrl),g.reset({name:q.name,description:q.description||"",price:q.price.toString(),validityPeriod:q.validityPeriod?.toString()||"365",isActive:q.isActive,displayOrder:q.displayOrder?.toString()||"0"}),l(!0)},W=J0({mutationFn:async q=>{const R=await fetch(`/api/vouchers/products/${q}`,{method:"DELETE"});if(!R.ok)throw new Error("Failed to delete product");return R.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/vouchers/products"]})}}),z=q=>{confirm(`Are you sure you want to delete "${q.name}"? This action cannot be undone.`)&&W.mutate(q.id)},G=()=>{i(null),v.reset(),u(!0)},V=q=>{i(q),v.reset({code:q.code,name:q.name,description:q.description||"",discountType:q.discountType,discountValue:q.discountValue.toString(),minOrderAmount:q.minOrderAmount?.toString()||"",maxDiscountAmount:q.maxDiscountAmount?.toString()||"",usageLimit:q.usageLimit?.toString()||"",startDate:q.startDate||"",endDate:q.endDate||"",isActive:q.isActive}),u(!0)},Y=q=>{r?B.mutate({...q,id:r.id}):E.mutate(q)},ie=q=>{a||C.mutate(q)};return n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Voucher & Sales Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage voucher products, discount codes, and track sales performance"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[n.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:n.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Voucher Management",children:[n.jsx("button",{onClick:()=>t("dashboard"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="dashboard"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ml,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),n.jsx("button",{onClick:()=>t("products"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="products"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Im,{className:"h-4 w-4 mr-2"}),"Products (",k.activeProducts,")"]})}),n.jsx("button",{onClick:()=>t("coupons"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="coupons"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Coupons (",k.activeCoupons,")"]})}),n.jsx("button",{onClick:()=>t("sales"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(td,{className:"h-4 w-4 mr-2"}),"Sales (",k.totalSales,")"]})})]})}),n.jsxs("div",{className:"p-6 bg-white",children:[e==="dashboard"&&n.jsx(jOe,{stats:k,onCreateProduct:M,onCreateCoupon:G,recentSales:L?.slice(0,5)||[]}),e==="products"&&n.jsx(NOe,{products:b||[],isLoading:j,onCreateProduct:M,onEditProduct:D,onDeleteProduct:z}),e==="coupons"&&n.jsx(_Oe,{coupons:A||[],isLoading:S,onCreateCoupon:G,onEditCoupon:V}),e==="sales"&&n.jsx(SOe,{sales:L||[],isLoading:I})]})]})]}),n.jsx(AOe,{open:o,onOpenChange:l,product:r,onSubmit:Y,form:g,uploadedImage:h,onImageUpload:O,isUploading:f}),n.jsx(kOe,{open:c,onOpenChange:u,coupon:a,onSubmit:ie,form:v})]})}const jOe=({stats:e,onCreateProduct:t,onCreateCoupon:r,recentSales:s})=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(Rt,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:[n.jsxs(Ar,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Lr,{className:"text-sm font-medium text-blue-100",children:"Total Revenue"}),n.jsx(Hw,{className:"h-4 w-4 text-blue-200"})]}),n.jsxs(Ut,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["€",e.totalRevenue.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-blue-100",children:["From ",e.totalSales," sales"]})]})]}),n.jsxs(Rt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Ar,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Lr,{className:"text-sm font-medium text-gray-700",children:"Active Products"}),n.jsx(Im,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(Ut,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.activeProducts}),n.jsx("p",{className:"text-xs text-gray-600",children:"Available for sale"})]})]}),n.jsxs(Rt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Ar,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Lr,{className:"text-sm font-medium text-gray-700",children:"Active Coupons"}),n.jsx(Vh,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(Ut,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.activeCoupons}),n.jsx("p",{className:"text-xs text-gray-600",children:"Currently valid"})]})]}),n.jsxs(Rt,{className:"bg-white shadow-sm border border-gray-200",children:[n.jsxs(Ar,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Lr,{className:"text-sm font-medium text-gray-700",children:"Avg Order Value"}),n.jsx(Fs,{className:"h-4 w-4 text-gray-500"})]}),n.jsxs(Ut,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["€",e.avgOrderValue.toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Per voucher sale"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Rt,{className:"bg-white border-2 border-dashed border-blue-300 hover:border-blue-500 transition-colors cursor-pointer hover:bg-blue-50",onClick:t,children:[n.jsxs(Ar,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(Im,{className:"h-6 w-6 text-blue-600"})}),n.jsx(Lr,{className:"text-gray-900",children:"Create New Voucher Product"}),n.jsx(Ts,{className:"text-gray-700",children:"Set up a new photography voucher package for customers to purchase"})]}),n.jsx(Ut,{className:"text-center",children:n.jsxs(Vt,{onClick:t,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Voucher Product"]})})]}),n.jsxs(Rt,{className:"bg-white border-2 border-dashed border-purple-300 hover:border-purple-500 transition-colors cursor-pointer hover:bg-purple-50",onClick:r,children:[n.jsxs(Ar,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:n.jsx(Vh,{className:"h-6 w-6 text-purple-600"})}),n.jsx(Lr,{className:"text-gray-900",children:"Create Discount Coupon"}),n.jsx(Ts,{className:"text-gray-700",children:"Generate promotional codes for special offers and campaigns"})]}),n.jsx(Ut,{className:"text-center",children:n.jsxs(Vt,{onClick:r,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Discount Coupon"]})})]})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Recent Sales"}),n.jsx(Ts,{children:"Latest voucher purchases from customers"})]}),n.jsx(Ut,{children:s.length>0?n.jsx("div",{className:"space-y-4",children:s.map(a=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(dF,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.purchaserName}),n.jsx("p",{className:"text-sm text-gray-500",children:a.voucherCode})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-medium",children:["€",Number(a.finalAmount).toFixed(2)]}),n.jsx("p",{className:"text-sm text-gray-500",children:new Date(a.createdAt).toLocaleDateString()})]})]},a.id))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(td,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"No sales yet. Create voucher products to start selling."})]})})]})]}),NOe=({products:e,isLoading:t,onCreateProduct:r,onEditProduct:s,onDeleteProduct:a})=>t?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(i=>n.jsxs(Rt,{className:"animate-pulse",children:[n.jsxs(Ar,{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),n.jsx(Ut,{children:n.jsx("div",{className:"h-16 bg-gray-200 rounded"})})]},i))}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Product Catalog"}),n.jsx("p",{className:"text-gray-600",children:"Manage your photography voucher offerings"})]}),n.jsxs(Vt,{onClick:r,children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),e.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>n.jsxs(Rt,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Ar,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(Lr,{className:"text-lg",children:i.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx(Ma,{variant:i.isActive?"default":"secondary",children:i.isActive?"Active":"Inactive"}),n.jsxs(Ma,{variant:"outline",children:[i.validityMonths," months"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["€",i.price]})})]})}),n.jsxs(Ut,{children:[n.jsx("p",{className:"text-gray-600 text-sm line-clamp-3 mb-4",children:i.description}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Vt,{variant:"outline",size:"sm",onClick:()=>s(i),children:[n.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Vt,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>a(i),children:[n.jsx(js,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Preview"]})]})]})]},i.id))}):n.jsx(Rt,{className:"text-center py-12",children:n.jsxs(Ut,{children:[n.jsx(Im,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No voucher products yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first voucher product to start selling photography packages"}),n.jsxs(Vt,{onClick:r,children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Your First Product"]})]})})]}),_Oe=({coupons:e,isLoading:t,onCreateCoupon:r,onEditCoupon:s})=>{const a=i=>{navigator.clipboard.writeText(i),alert(`Copied: ${i}`)};return t?n.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>n.jsx(Rt,{className:"animate-pulse",children:n.jsxs(Ar,{children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})},i))}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage promotional discount codes"})]}),n.jsxs(Vt,{onClick:r,children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Add Coupon"]})]}),e.length>0?n.jsx("div",{className:"space-y-4",children:e.map(i=>n.jsxs(Rt,{className:"hover:shadow-md transition-shadow",children:[n.jsx(Ar,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("code",{className:"bg-gray-100 px-3 py-1 rounded text-lg font-mono font-bold",children:i.code}),n.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>a(i.code),children:n.jsx(Ku,{className:"h-4 w-4"})})]}),n.jsx(Lr,{className:"text-lg",children:i.name}),n.jsx(Ts,{children:i.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(Ma,{variant:i.isActive?"default":"secondary",className:"mb-2",children:i.isActive?"Active":"Inactive"}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Used: ",i.usageCount," / ",i.usageLimit||"∞"]})]})]})}),n.jsxs(Ut,{children:[n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(See,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:i.discountType==="percentage"?`${i.discountValue}% off`:`€${i.discountValue} off`})]}),i.minOrderAmount&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Hw,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:["Min: €",i.minOrderAmount]})]}),i.endDate&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(fn,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:["Expires: ",new Date(i.endDate).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(Vt,{variant:"outline",size:"sm",onClick:()=>s(i),children:[n.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Analytics"]})]})]})]},i.id))}):n.jsx(Rt,{className:"text-center py-12",children:n.jsxs(Ut,{children:[n.jsx(Vh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No discount coupons yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create promotional codes to offer discounts to your customers"}),n.jsxs(Vt,{onClick:r,children:[n.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Your First Coupon"]})]})})]})},SOe=({sales:e,isLoading:t})=>t?n.jsx(Rt,{children:n.jsx(Ut,{className:"p-6",children:n.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(r=>n.jsx("div",{className:"h-16 bg-gray-200 rounded"},r))})})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Sales History"}),n.jsx("p",{className:"text-gray-600",children:"Track all voucher sales and customer orders"})]}),n.jsxs(Vt,{variant:"outline",children:[n.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Export Sales"]})]}),e.length>0?n.jsx(Rt,{children:n.jsx(Ut,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voucher Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Final Price"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded font-mono text-sm",children:r.voucherCode})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:r.purchaserName}),n.jsx("div",{className:"text-sm text-gray-500",children:r.purchaserEmail})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",Number(r.originalAmount).toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-€",Number(r.discountAmount).toFixed(2)]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["€",Number(r.finalAmount).toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Ma,{variant:r.status==="active"?"default":"secondary",children:r.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(r.createdAt).toLocaleDateString()})]},r.id))})]})})})}):n.jsx(Rt,{className:"text-center py-12",children:n.jsxs(Ut,{children:[n.jsx(td,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sales yet"}),n.jsx("p",{className:"text-gray-600",children:"Voucher sales will appear here once customers start purchasing"})]})})]}),AOe=({open:e,onOpenChange:t,product:r,onSubmit:s,form:a,uploadedImage:i,onImageUpload:o,isUploading:l})=>{const[c,u]=_.useState(null),[d,h]=_.useState(null);_.useEffect(()=>{h(i||null)},[i]);const p=async f=>{const x=f.target.files?.[0];if(x){u(x);const g=new FileReader;g.onload=v=>{h(v.target?.result)},g.readAsDataURL(x),await o(x)}};return n.jsx(OU,{open:e,onOpenChange:t,children:n.jsxs($3,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(B3,{children:[n.jsx(U3,{children:r?"Edit Voucher Product":"Create New Voucher Product"}),n.jsx(q3,{children:r?"Update the details of this voucher product including promotional images":"Create a new voucher product that customers can purchase with promotional imagery"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(Wr,{htmlFor:"product-image",className:"text-base font-medium",children:"Product Image"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-gray-400 transition-colors",children:[d?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:d,alt:"Product preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>{u(null),h(null)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:"×"})]}),n.jsxs(Vt,{variant:"outline",onClick:()=>document.getElementById("product-image")?.click(),className:"w-full",disabled:l,children:[n.jsx(ra,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Change Image"]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx(Im,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Upload a promotional image for this voucher"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 400x300px, JPG or PNG, max 2MB"})]}),n.jsxs(Vt,{variant:"outline",onClick:()=>document.getElementById("product-image")?.click(),className:"mt-4",disabled:l,children:[n.jsx(ra,{className:"h-4 w-4 mr-2"}),l?"Uploading...":"Upload Image"]})]}),n.jsx("input",{id:"product-image",type:"file",accept:"image/*",onChange:p,className:"hidden"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"name",children:"Product Name"}),n.jsx(La,{...a.register("name"),placeholder:"e.g., Family Photo Session Voucher",className:"bg-white"}),a.formState.errors.name&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"price",children:"Price (€)"}),n.jsx(La,{...a.register("price"),type:"number",step:"0.01",placeholder:"199.00",className:"bg-white"}),a.formState.errors.price&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.price.message})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"description",children:"Description"}),n.jsx(fx,{...a.register("description"),placeholder:"Describe what's included in this voucher package...",rows:4,className:"bg-white resize-none"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"validityPeriod",children:"Validity (Days)"}),n.jsx(La,{...a.register("validityPeriod"),type:"number",placeholder:"365",className:"bg-white"}),a.formState.errors.validityPeriod&&n.jsx("p",{className:"text-sm text-red-600",children:a.formState.errors.validityPeriod.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"displayOrder",children:"Display Order"}),n.jsx(La,{...a.register("displayOrder"),type:"number",placeholder:"1",className:"bg-white"})]}),n.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[n.jsx(V3,{checked:a.watch("isActive"),onCheckedChange:f=>a.setValue("isActive",f)}),n.jsx(Wr,{className:"font-medium",children:"Active for sale"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"category",children:"Category"}),n.jsxs(tk,{onValueChange:f=>a.setValue("category",f),defaultValue:a.watch("category")||"familie",children:[n.jsx(Qj,{className:"bg-white",children:n.jsx(rk,{placeholder:"Select category"})}),n.jsxs(Jj,{children:[n.jsx($c,{value:"familie",children:"Familie"}),n.jsx($c,{value:"baby",children:"Baby & Newborn"}),n.jsx($c,{value:"hochzeit",children:"Hochzeit"}),n.jsx($c,{value:"business",children:"Business"}),n.jsx($c,{value:"event",children:"Event"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"sessionType",children:"Session Type"}),n.jsx(La,{...a.register("sessionType"),placeholder:"e.g., Familie Portrait, Business Headshots",className:"bg-white"})]})]})]}),n.jsxs(z3,{className:"pt-6",children:[n.jsx(Vt,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(Vt,{onClick:a.handleSubmit(s),disabled:a.formState.isSubmitting,children:r?"Update Product":"Create Product"})]})]})})},kOe=({open:e,onOpenChange:t,coupon:r,onSubmit:s,form:a})=>n.jsx(OU,{open:e,onOpenChange:t,children:n.jsxs($3,{className:"sm:max-w-[600px]",children:[n.jsxs(B3,{children:[n.jsx(U3,{children:r?"Edit Discount Coupon":"Create New Discount Coupon"}),n.jsx(q3,{children:r?"Update the details of this discount coupon":"Create a new discount coupon for promotional campaigns"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"code",children:"Coupon Code"}),n.jsx(La,{id:"code",placeholder:"e.g., WELCOME15",defaultValue:r?.code||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"coupon-name",children:"Coupon Name"}),n.jsx(La,{id:"coupon-name",placeholder:"e.g., Welcome Discount",defaultValue:r?.name||""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"coupon-description",children:"Description"}),n.jsx(fx,{id:"coupon-description",placeholder:"Describe this discount offer...",rows:2,defaultValue:r?.description||""})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"discount-type",children:"Discount Type"}),n.jsxs(tk,{defaultValue:r?.discountType||"percentage",children:[n.jsx(Qj,{children:n.jsx(rk,{placeholder:"Select type"})}),n.jsxs(Jj,{children:[n.jsx($c,{value:"percentage",children:"Percentage (%)"}),n.jsx($c,{value:"fixed_amount",children:"Fixed Amount (€)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"discount-value",children:"Discount Value"}),n.jsx(La,{id:"discount-value",type:"number",placeholder:"15",defaultValue:r?.discountValue||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"min-order",children:"Min Order (€)"}),n.jsx(La,{id:"min-order",type:"number",placeholder:"100",defaultValue:r?.minOrderAmount||""})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Wr,{htmlFor:"usage-limit",children:"Usage Limit"}),n.jsx(La,{id:"usage-limit",type:"number",placeholder:"100",defaultValue:r?.usageLimit||""})]}),n.jsxs("div",{className:"space-y-2 flex items-center space-x-2 pt-6",children:[n.jsx(V3,{id:"coupon-active",defaultChecked:r?.isActive??!0}),n.jsx(Wr,{htmlFor:"coupon-active",children:"Active"})]})]})]}),n.jsxs(z3,{children:[n.jsx(Vt,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(Vt,{onClick:a.handleSubmit(s),disabled:a.formState.isSubmitting,children:r?"Update Coupon":"Create Coupon"})]})]})}),COe=()=>{const{t:e}=Jh(),t=Jn(),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState(!0),[d,h]=_.useState(null);_.useEffect(()=>{p()},[]),_.useEffect(()=>{f()},[r,o]);const p=async()=>{try{u(!0);const j=await fetch("/api/crm/clients");if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const A=(await j.json())?.map(S=>({id:S.id,first_name:S.first_name||"",last_name:S.last_name||"",client_id:S.client_id||S.id,email:S.email||"",phone:S.phone||"",address1:S.address||"",address2:S.address2||"",city:S.city||"",state:S.state||"",zip:S.zip||"",country:S.country||"",total_sales:S.total_sales||0,outstanding_balance:S.outstanding_balance||0,created_at:S.created_at,updated_at:S.updated_at}));s(A||[])}catch{h("Failed to load clients. Please try again.")}finally{u(!1)}},f=()=>{if(!o.trim()){i(r);return}const j=o.toLowerCase(),N=r.filter(A=>A.first_name.toLowerCase().includes(j)||A.last_name.toLowerCase().includes(j)||A.email.toLowerCase().includes(j)||A.phone.toLowerCase().includes(j)||A.client_id.toLowerCase().includes(j));i(N)},x=j=>{t(`/admin/clients/${j}`)},g=j=>{t(`/admin/clients/${j}/edit`)},v=async j=>{if(window.confirm(`Are you sure you want to delete ${j.first_name} ${j.last_name}? This action cannot be undone.`))try{if(!(await fetch(`/api/crm/clients/${j.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");s(A=>A.filter(S=>S.id!==j.id)),i(A=>A.filter(S=>S.id!==j.id)),alert("Client deleted successfully")}catch{alert("Failed to delete client. Please try again.")}},b=()=>{alert("Export functionality would be implemented here")};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clients"}),n.jsx("p",{className:"text-gray-600",children:"Manage your client database"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:b,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center",children:["              ",n.jsx(Ls,{size:20,className:"mr-2"}),e("action.export")," CSV"]}),n.jsxs(Gt,{to:"/admin/clients/import",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ka,{size:20,className:"mr-2"}),e("action.import")," CSV"]}),n.jsxs(Gt,{to:"/admin/clients/import-logs",className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(cs,{size:20,className:"mr-2"}),e("clients.import_logs")]}),n.jsxs("button",{onClick:()=>t("/admin/clients/new"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),e("clients.add")]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"              ",n.jsx("input",{type:"text",placeholder:e("clients.search"),value:o,onChange:j=>l(j.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Jm,{size:20,className:"mr-2"}),e("clients.more_filters")]})]})}),c?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):d?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:d}):a.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(j=>n.jsx("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[j.first_name," ",j.last_name]}),j.company&&n.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[n.jsx(oF,{size:14,className:"mr-1"}),j.company]})]})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(on,{size:14,className:"mr-2"}),j.email]}),"                    ",n.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[n.jsx(ep,{size:14,className:"mr-2"}),j.phone||e("clients.no_phone")]}),j.address1&&n.jsxs("p",{className:"text-sm text-gray-600 flex items-start",children:[n.jsx(ef,{size:14,className:"mr-2 mt-0.5"}),j.address1,j.city&&`, ${j.city}`]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[e("clients.since")," ",new Date(j.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>x(j.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Client Profile",children:n.jsx(Xn,{size:16})}),n.jsx("button",{onClick:()=>g(j.id),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Edit Client",children:n.jsx(Ha,{size:16})}),n.jsx("button",{onClick:()=>v(j),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete Client",children:n.jsx(js,{size:16})})]})]})]})},j.id))}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No clients found matching your criteria."})})]})})},POe=()=>{const{id:e}=yl(),t=Jn(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null);_.useEffect(()=>{e&&c(e)},[e]);const c=async p=>{try{i(!0);const f=await fetch(`/api/crm/clients/${p}`);if(!f.ok)throw new Error("Client not found");const x=await f.json();s(x)}catch{l("Failed to load client details")}finally{i(!1)}},u=()=>{t(`/admin/clients/${e}/edit`)},d=async()=>{if(r&&window.confirm(`Are you sure you want to delete ${r.firstName} ${r.lastName}? This action cannot be undone.`))try{if(!(await fetch(`/api/crm/clients/${r.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");alert("Client deleted successfully"),t("/admin/clients")}catch{alert("Failed to delete client. Please try again.")}},h=p=>{const f={active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},inactive:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Inactive"},archived:{bg:"bg-gray-100",text:"text-gray-800",label:"Archived"}},x=f[p]||f.active;return n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.bg} ${x.text}`,children:x.label})};return a?n.jsx(Rr,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):o||!r?n.jsx(Rr,{children:n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o||"Client not found"})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>t("/admin/clients"),className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(ls,{size:20})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900",children:[r.firstName," ",r.lastName]}),n.jsx("p",{className:"text-gray-600",children:"Client Details"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ha,{size:16,className:"mr-2"}),"Edit"]}),n.jsxs("button",{onClick:d,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(js,{size:16,className:"mr-2"}),"Delete"]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[r.firstName," ",r.lastName]}),r.company&&n.jsxs("p",{className:"text-gray-600 flex items-center mt-1",children:[n.jsx(oF,{size:16,className:"mr-2"}),r.company]})]}),h(r.status)]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(on,{size:16,className:"text-gray-400 mr-3"}),n.jsx("a",{href:`mailto:${r.email}`,className:"text-purple-600 hover:text-purple-700",children:r.email})]}),r.phone&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ep,{size:16,className:"text-gray-400 mr-3"}),n.jsx("a",{href:`tel:${r.phone}`,className:"text-purple-600 hover:text-purple-700",children:r.phone})]}),r.address&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(ef,{size:16,className:"text-gray-400 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900",children:r.address}),r.city&&n.jsxs("p",{className:"text-gray-600",children:[r.zip&&`${r.zip} `,r.city,r.state&&`, ${r.state}`,r.country&&`, ${r.country}`]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Details"}),n.jsxs("div",{className:"space-y-3",children:[r.clientId&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Client ID"}),n.jsx("p",{className:"text-gray-900",children:r.clientId})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Member Since"}),n.jsx("p",{className:"text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),r.notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Notes"}),n.jsx("p",{className:"text-gray-900",children:r.notes})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("button",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 flex items-center justify-center",children:[n.jsx(fn,{size:20,className:"mr-2 text-purple-600"}),n.jsx("span",{children:"Schedule Session"})]}),n.jsxs("button",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 flex items-center justify-center",children:[n.jsx(Hw,{size:20,className:"mr-2 text-green-600"}),n.jsx("span",{children:"Create Invoice"})]}),n.jsxs("button",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:bg-gray-50 flex items-center justify-center",children:[n.jsx(on,{size:20,className:"mr-2 text-blue-600"}),n.jsx("span",{children:"Send Email"})]})]})]})})},o_=()=>{const e=Jn(),{id:t}=yl(),r=!!t,[s,a]=_.useState({name:"",email:"",phone:"",address:"",city:"",company:"",notes:""}),[i,o]=_.useState(!1),[l,c]=_.useState(null);_.useEffect(()=>{r&&t&&u()},[r,t]);const u=async()=>{try{o(!0);const{data:p,error:f}=await Dt.from("crm_clients").select("*").eq("id",t).single();if(f)throw f;a({name:p.name||"",email:p.email||"",phone:p.phone||"",address:p.address||"",city:p.city||"",company:p.company||"",notes:p.notes||""})}catch{c("Failed to load client data")}finally{o(!1)}},d=p=>{const{name:f,value:x}=p.target;a(g=>({...g,[f]:x}))},h=async p=>{p.preventDefault(),o(!0),c(null);try{if(r){const{error:f}=await Dt.from("crm_clients").update(s).eq("id",t);if(f)throw f}else{const{error:f}=await Dt.from("crm_clients").insert([s]);if(f)throw f}e("/admin/clients")}catch(f){c(f.message||"Failed to save client")}finally{o(!1)}};return i&&r?n.jsx(Rr,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Rr,{children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex items-center space-x-4 mb-4",children:n.jsxs("button",{onClick:()=>e("/admin/clients"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(ls,{className:"h-5 w-5 mr-2"}),"Back to Clients"]})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Client":"Add New Client"}),n.jsx("p",{className:"text-gray-600",children:r?"Update client information":"Create a new client profile"})]}),l&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Ji,{className:"h-5 w-5 mr-2"}),"Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",name:"name",value:s.name,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),n.jsx("input",{type:"text",name:"company",value:s.company,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(on,{className:"h-5 w-5 mr-2"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:s.email,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(ef,{className:"h-5 w-5 mr-2"}),"Address Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"address",value:s.address,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter street address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),n.jsx("input",{type:"text",name:"city",value:s.city,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{name:"notes",value:s.notes,onChange:d,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add any additional notes about this client..."})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:()=>e("/admin/clients"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[i&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx(pl,{className:"h-4 w-4 mr-2"}),r?"Update Client":"Create Client"]})]})]})})]})})};var VV={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,s)=>{e.exports=s()})(ul,function r(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},a,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(E){var B=S(E);B.chunkSize=parseInt(B.chunkSize),E.step||E.chunk||(B.chunkSize=null),this._handle=new g(B),(this._handle.streamer=this)._config=B}.call(this,k),this.parseChunk=function(E,B){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let M=this._config.newline;M||(O=this._config.quoteChar||'"',M=this._handle.guessLineEndings(E,O)),E=[...E.split(M).slice(C)].join(M)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(E))!==void 0&&(E=O),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+E,O=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=O.meta.cursor,C=(this._finished||(this._partialLine=C.substring(E-this._baseIndex),this._baseIndex=E),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:O,workerId:u.WORKER_ID,finished:C});else if(I(this._config.chunk)&&!B){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!C||!I(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(E){I(this._config.error)?this._config.error(E):o&&this._config.error&&s.postMessage({workerId:u.WORKER_ID,error:E,finished:!1})}}function h(k){var E;(k=k||{}).chunkSize||(k.chunkSize=u.RemoteChunkSize),d.call(this,k),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),i||(E.onload=L(this._chunkLoaded,this),E.onerror=L(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var B,C=this._config.downloadRequestHeaders;for(B in C)E.setRequestHeader(B,C[B])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+O));try{E.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}i&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(B){B=E.statusText||B,this._sendError(new Error(B))}}function p(k){(k=k||{}).chunkSize||(k.chunkSize=u.LocalChunkSize),d.call(this,k);var E,B,C=typeof FileReader<"u";this.stream=function(O){this._input=O,B=O.slice||O.webkitSlice||O.mozSlice,C?((E=new FileReader).onload=L(this._chunkLoaded,this),E.onerror=L(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),O=B.call(O,this._start,M)),E.readAsText(O,this._config.encoding));C||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(E.error)}}function f(k){var E;d.call(this,k=k||{}),this.stream=function(B){return E=B,this._nextChunk()},this._nextChunk=function(){var B,C;if(!this._finished)return B=this._config.chunkSize,E=B?(C=E.substring(0,B),E.substring(B)):(C=E,""),this._finished=!E,this.parseChunk(C)}}function x(k){d.call(this,k=k||{});var E=[],B=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):B=!0},this._streamData=L(function(O){try{E.push(typeof O=="string"?O:O.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(M){this._streamError(M)}},this),this._streamError=L(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=L(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(k){var E,B,C,O,M=Math.pow(2,53),D=-M,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,V=0,Y=0,ie=!1,q=!1,R=[],K={data:[],errors:[],meta:{}};function Z(xe){return k.skipEmptyLines==="greedy"?xe.join("").trim()==="":xe.length===1&&xe[0].length===0}function se(){if(K&&C&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),C=!1),k.skipEmptyLines&&(K.data=K.data.filter(function(ne){return!Z(ne)})),ue()){let ne=function(he,ke){I(k.transformHeader)&&(he=k.transformHeader(he,ke)),R.push(he)};if(K)if(Array.isArray(K.data[0])){for(var xe=0;ue()&&xe<K.data.length;xe++)K.data[xe].forEach(ne);K.data.splice(0,1)}else K.data.forEach(ne)}function X(ne,he){for(var ke=k.header?{}:[],je=0;je<ne.length;je++){var Q=je,ze=ne[je],ze=((Ye,Ge)=>(Ve=>(k.dynamicTypingFunction&&k.dynamicTyping[Ve]===void 0&&(k.dynamicTyping[Ve]=k.dynamicTypingFunction(Ve)),(k.dynamicTyping[Ve]||k.dynamicTyping)===!0))(Ye)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((Ve=>{if(W.test(Ve)&&(Ve=parseFloat(Ve),D<Ve&&Ve<M))return 1})(Ge)?parseFloat(Ge):z.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(Q=k.header?je>=R.length?"__parsed_extra":R[je]:Q,ze=k.transform?k.transform(ze,Q):ze);Q==="__parsed_extra"?(ke[Q]=ke[Q]||[],ke[Q].push(ze)):ke[Q]=ze}return k.header&&(je>R.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+je,Y+he):je<R.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+je,Y+he)),ke}var me;K&&(k.header||k.dynamicTyping||k.transform)&&(me=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(X),me=K.data.length):K.data=X(K.data,0),k.header&&K.meta&&(K.meta.fields=R),Y+=me)}function ue(){return k.header&&R.length===0}function ae(xe,X,me,ne){xe={type:xe,code:X,message:me},ne!==void 0&&(xe.row=ne),K.errors.push(xe)}I(k.step)&&(O=k.step,k.step=function(xe){K=xe,ue()?se():(se(),K.data.length!==0&&(V+=xe.data.length,k.preview&&V>k.preview?B.abort():(K.data=K.data[0],O(K,G))))}),this.parse=function(xe,X,me){var ne=k.quoteChar||'"',ne=(k.newline||(k.newline=this.guessLineEndings(xe,ne)),C=!1,k.delimiter?I(k.delimiter)&&(k.delimiter=k.delimiter(xe),K.meta.delimiter=k.delimiter):((ne=((he,ke,je,Q,ze)=>{var Ye,Ge,Ve,J;ze=ze||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var de=0;de<ze.length;de++){for(var Se,De=ze[de],He=0,Fe=0,Ke=0,lt=(Ve=void 0,new b({comments:Q,delimiter:De,newline:ke,preview:10}).parse(he)),ct=0;ct<lt.data.length;ct++)je&&Z(lt.data[ct])?Ke++:(Se=lt.data[ct].length,Fe+=Se,Ve===void 0?Ve=Se:0<Se&&(He+=Math.abs(Se-Ve),Ve=Se));0<lt.data.length&&(Fe/=lt.data.length-Ke),(Ge===void 0||He<=Ge)&&(J===void 0||J<Fe)&&1.99<Fe&&(Ge=He,Ye=De,J=Fe)}return{successful:!!(k.delimiter=Ye),bestDelimiter:Ye}})(xe,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=ne.bestDelimiter:(C=!0,k.delimiter=u.DefaultDelimiter),K.meta.delimiter=k.delimiter),S(k));return k.preview&&k.header&&ne.preview++,E=xe,B=new b(ne),K=B.parse(E,X,me),se(),ie?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,B.abort(),E=I(k.chunk)?"":E.substring(B.getCharIndex())},this.resume=function(){G.streamer._halted?(ie=!1,G.streamer.parseChunk(E,!0)):setTimeout(G.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,B.abort(),K.meta.aborted=!0,I(k.complete)&&k.complete(K),E=""},this.guessLineEndings=function(he,ne){he=he.substring(0,1048576);var ne=new RegExp(v(ne)+"([^]*?)"+v(ne),"gm"),me=(he=he.replace(ne,"")).split("\r"),ne=he.split(`
`),he=1<ne.length&&ne[0].length<me[0].length;if(me.length===1||he)return`
`;for(var ke=0,je=0;je<me.length;je++)me[je][0]===`
`&&ke++;return ke>=me.length/2?`\r
`:"\r"}}function v(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(k){var E=(k=k||{}).delimiter,B=k.newline,C=k.comments,O=k.step,M=k.preview,D=k.fastMode,W=null,z=!1,G=k.quoteChar==null?'"':k.quoteChar,V=G;if(k.escapeChar!==void 0&&(V=k.escapeChar),(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=","),C===E)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var Y=0,ie=!1;this.parse=function(q,R,K){if(typeof q!="string")throw new Error("Input must be a string");var Z=q.length,se=E.length,ue=B.length,ae=C.length,xe=I(O),X=[],me=[],ne=[],he=Y=0;if(!q)return He();if(D||D!==!1&&q.indexOf(G)===-1){for(var ke=q.split(B),je=0;je<ke.length;je++){if(ne=ke[je],Y+=ne.length,je!==ke.length-1)Y+=B.length;else if(K)return He();if(!C||ne.substring(0,ae)!==C){if(xe){if(X=[],J(ne.split(E)),Fe(),ie)return He()}else J(ne.split(E));if(M&&M<=je)return X=X.slice(0,M),He(!0)}}return He()}for(var Q=q.indexOf(E,Y),ze=q.indexOf(B,Y),Ye=new RegExp(v(V)+v(G),"g"),Ge=q.indexOf(G,Y);;)if(q[Y]===G)for(Ge=Y,Y++;;){if((Ge=q.indexOf(G,Ge+1))===-1)return K||me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:Y}),Se();if(Ge===Z-1)return Se(q.substring(Y,Ge).replace(Ye,G));if(G===V&&q[Ge+1]===V)Ge++;else if(G===V||Ge===0||q[Ge-1]!==V){Q!==-1&&Q<Ge+1&&(Q=q.indexOf(E,Ge+1));var Ve=de((ze=ze!==-1&&ze<Ge+1?q.indexOf(B,Ge+1):ze)===-1?Q:Math.min(Q,ze));if(q.substr(Ge+1+Ve,se)===E){ne.push(q.substring(Y,Ge).replace(Ye,G)),q[Y=Ge+1+Ve+se]!==G&&(Ge=q.indexOf(G,Y)),Q=q.indexOf(E,Y),ze=q.indexOf(B,Y);break}if(Ve=de(ze),q.substring(Ge+1+Ve,Ge+1+Ve+ue)===B){if(ne.push(q.substring(Y,Ge).replace(Ye,G)),De(Ge+1+Ve+ue),Q=q.indexOf(E,Y),Ge=q.indexOf(G,Y),xe&&(Fe(),ie))return He();if(M&&X.length>=M)return He(!0);break}me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:Y}),Ge++}}else if(C&&ne.length===0&&q.substring(Y,Y+ae)===C){if(ze===-1)return He();Y=ze+ue,ze=q.indexOf(B,Y),Q=q.indexOf(E,Y)}else if(Q!==-1&&(Q<ze||ze===-1))ne.push(q.substring(Y,Q)),Y=Q+se,Q=q.indexOf(E,Y);else{if(ze===-1)break;if(ne.push(q.substring(Y,ze)),De(ze+ue),xe&&(Fe(),ie))return He();if(M&&X.length>=M)return He(!0)}return Se();function J(Ke){X.push(Ke),he=Y}function de(Ke){var lt=0;return lt=Ke!==-1&&(Ke=q.substring(Ge+1,Ke))&&Ke.trim()===""?Ke.length:lt}function Se(Ke){return K||(Ke===void 0&&(Ke=q.substring(Y)),ne.push(Ke),Y=Z,J(ne),xe&&Fe()),He()}function De(Ke){Y=Ke,J(ne),ne=[],ze=q.indexOf(B,Y)}function He(Ke){if(k.header&&!R&&X.length&&!z){var lt=X[0],ct=Object.create(null),ft=new Set(lt);let Et=!1;for(let mt=0;mt<lt.length;mt++){let sr=lt[mt];if(ct[sr=I(k.transformHeader)?k.transformHeader(sr,mt):sr]){let or,_t=ct[sr];for(;or=sr+"_"+_t,_t++,ft.has(or););ft.add(or),lt[mt]=or,ct[sr]++,Et=!0,(W=W===null?{}:W)[or]=sr}else ct[sr]=1,lt[mt]=sr;ft.add(sr)}Et&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:X,errors:me,meta:{delimiter:E,linebreak:B,aborted:ie,truncated:!!Ke,cursor:he+(R||0),renamedHeaders:W}}}function Fe(){O(He()),X=[],me=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Y}}function j(k){var E=k.data,B=l[E.workerId],C=!1;if(E.error)B.userError(E.error,E.file);else if(E.results&&E.results.data){var O={abort:function(){C=!0,N(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(I(B.userStep)){for(var M=0;M<E.results.data.length&&(B.userStep({data:E.results.data[M],errors:E.results.errors,meta:E.results.meta},O),!C);M++);delete E.results}else I(B.userChunk)&&(B.userChunk(E.results,O,E.file),delete E.results)}E.finished&&!C&&N(E.workerId,E.results)}function N(k,E){var B=l[k];I(B.userComplete)&&B.userComplete(E),B.terminate(),delete l[k]}function A(){throw new Error("Not implemented.")}function S(k){if(typeof k!="object"||k===null)return k;var E,B=Array.isArray(k)?[]:{};for(E in k)B[E]=S(k[E]);return B}function L(k,E){return function(){k.apply(E,arguments)}}function I(k){return typeof k=="function"}return u.parse=function(k,E){var B=(E=E||{}).dynamicTyping||!1;if(I(B)&&(E.dynamicTypingFunction=B,B={}),E.dynamicTyping=B,E.transform=!!I(E.transform)&&E.transform,!E.worker||!u.WORKERS_SUPPORTED)return B=null,u.NODE_STREAM_INPUT,typeof k=="string"?(k=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(k),B=new(E.download?h:f)(E)):k.readable===!0&&I(k.read)&&I(k.on)?B=new x(E):(s.File&&k instanceof File||k instanceof Object)&&(B=new p(E)),B.stream(k);(B=(()=>{var C;return!!u.WORKERS_SUPPORTED&&(C=(()=>{var O=s.URL||s.webkitURL||null,M=r.toString();return u.BLOB_URL||(u.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=j,C.id=c++,l[C.id]=C)})()).userStep=E.step,B.userChunk=E.chunk,B.userComplete=E.complete,B.userError=E.error,E.step=I(E.step),E.chunk=I(E.chunk),E.complete=I(E.complete),E.error=I(E.error),delete E.worker,B.postMessage({input:k,config:E,workerId:B.id})},u.unparse=function(k,E){var B=!1,C=!0,O=",",M=`\r
`,D='"',W=D+D,z=!1,G=null,V=!1,Y=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||u.BAD_DELIMITERS.filter(function(R){return E.delimiter.indexOf(R)!==-1}).length||(O=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(B=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(z=E.skipEmptyLines),typeof E.newline=="string"&&(M=E.newline),typeof E.quoteChar=="string"&&(D=E.quoteChar),typeof E.header=="boolean"&&(C=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");G=E.columns}E.escapeChar!==void 0&&(W=E.escapeChar+D),E.escapeFormulae instanceof RegExp?V=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(V=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(D),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ie(null,k,z);if(typeof k[0]=="object")return ie(G||Object.keys(k[0]),k,z)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||G),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),ie(k.fields||[],k.data||[],z);throw new Error("Unable to serialize unrecognized input");function ie(R,K,Z){var se="",ue=(typeof R=="string"&&(R=JSON.parse(R)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(R)&&0<R.length),ae=!Array.isArray(K[0]);if(ue&&C){for(var xe=0;xe<R.length;xe++)0<xe&&(se+=O),se+=q(R[xe],xe);0<K.length&&(se+=M)}for(var X=0;X<K.length;X++){var me=(ue?R:K[X]).length,ne=!1,he=ue?Object.keys(K[X]).length===0:K[X].length===0;if(Z&&!ue&&(ne=Z==="greedy"?K[X].join("").trim()==="":K[X].length===1&&K[X][0].length===0),Z==="greedy"&&ue){for(var ke=[],je=0;je<me;je++){var Q=ae?R[je]:je;ke.push(K[X][Q])}ne=ke.join("").trim()===""}if(!ne){for(var ze=0;ze<me;ze++){0<ze&&!he&&(se+=O);var Ye=ue&&ae?R[ze]:ze;se+=q(K[X][Ye],ze)}X<K.length-1&&(!Z||0<me&&!he)&&(se+=M)}}return se}function q(R,K){var Z,se;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(se=!1,V&&typeof R=="string"&&V.test(R)&&(R="'"+R,se=!0),Z=R.toString().replace(Y,W),(se=se||B===!0||typeof B=="function"&&B(R,K)||Array.isArray(B)&&B[K]||((ue,ae)=>{for(var xe=0;xe<ae.length;xe++)if(-1<ue.indexOf(ae[xe]))return!0;return!1})(Z,u.BAD_DELIMITERS)||-1<Z.indexOf(O)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?D+Z+D:Z)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!s.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=b,u.ParserHandle=g,u.NetworkStreamer=h,u.FileStreamer=p,u.StringStreamer=f,u.ReadableStreamStreamer=x,s.jQuery&&((a=s.jQuery).fn.parse=function(k){var E=k.config||{},B=[];return this.each(function(M){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var D=0;D<this.files.length;D++)B.push({file:this.files[D],inputElem:this,instanceConfig:a.extend({},E)})}),C(),this;function C(){if(B.length===0)I(k.complete)&&k.complete();else{var M,D,W,z,G=B[0];if(I(k.before)){var V=k.before(G.file,G.inputElem);if(typeof V=="object"){if(V.action==="abort")return M="AbortError",D=G.file,W=G.inputElem,z=V.reason,void(I(k.error)&&k.error({name:M},D,W,z));if(V.action==="skip")return void O();typeof V.config=="object"&&(G.instanceConfig=a.extend(G.instanceConfig,V.config))}else if(V==="skip")return void O()}var Y=G.instanceConfig.complete;G.instanceConfig.complete=function(ie){I(Y)&&Y(ie,G.file,G.inputElem),O()},u.parse(G.file,G.instanceConfig)}}function O(){B.splice(0,1),C()}}),o&&(s.onmessage=function(k){k=k.data,u.WORKER_ID===void 0&&k&&(u.WORKER_ID=k.workerId),typeof k.input=="string"?s.postMessage({workerId:u.WORKER_ID,results:u.parse(k.input,k.config),finished:!0}):(s.File&&k.input instanceof File||k.input instanceof Object)&&(k=u.parse(k.input,k.config))&&s.postMessage({workerId:u.WORKER_ID,results:k,finished:!0})}),(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(d.prototype)).constructor=p,(f.prototype=Object.create(f.prototype)).constructor=f,(x.prototype=Object.create(d.prototype)).constructor=x,u})})(VV);var XL=VV.exports;const EOe=()=>{const[e,t]=_.useState(1),[r,s]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState({}),[c,u]=_.useState(!1),[d,h]=_.useState(null),[p,f]=_.useState(null),x=_.useRef(null),g=[{key:"firstName",label:"First Name",required:!0},{key:"lastName",label:"Last Name",required:!0},{key:"name",label:"Full Name (auto-split)",required:!1},{key:"email",label:"Email",required:!0},{key:"phone",label:"Phone",required:!1},{key:"address",label:"Address",required:!1},{key:"company",label:"Company",required:!1},{key:"notes",label:"Notes",required:!1},{key:"clientId",label:"Client ID",required:!1}],v=C=>{const O={};let M=!1,D=!1;return C.forEach(W=>{const z=W.toLowerCase().trim();z.includes("first")&&z.includes("name")?M=!0:z.includes("last")&&z.includes("name")&&(D=!0)}),C.forEach(W=>{const z=W.toLowerCase().trim();z.includes("first")&&z.includes("name")?O[W]="firstName":z.includes("last")&&z.includes("name")?O[W]="lastName":z.includes("name")&&!M&&!D?O[W]="name":z.includes("email")||z.includes("e-mail")?O[W]="email":z.includes("phone")||z.includes("mobile")||z.includes("tel")?O[W]="phone":z.includes("address")||z.includes("street")||z.includes("location")?O[W]="address":z.includes("company")||z.includes("business")||z.includes("organization")?O[W]="company":(z.includes("note")||z.includes("comment")||z.includes("description"))&&(O[W]="notes")}),O},b=C=>{if(!C.name.toLowerCase().endsWith(".csv")){f("Please select a CSV file");return}s(C),f(null),XL.parse(C,{complete:O=>{if(O.errors.length>0){f("Error parsing CSV file: "+O.errors[0].message);return}const M=O.data;if(M.length<2){f("CSV file must contain at least a header row and one data row");return}const D=M[0],W=M.slice(1,6);i({headers:D,rows:W,totalRows:M.length-1});const z=v(D);l(z),t(2)},header:!1,skipEmptyLines:!0})},j=C=>{const O=C.target.files?.[0];O&&b(O)},N=C=>{C.preventDefault();const O=C.dataTransfer.files?.[0];O&&b(O)},A=C=>{C.preventDefault()},S=()=>{const C=g.filter(M=>M.required),O=Object.values(o);for(const M of C)if(!O.includes(M.key))return f(`Required field "${M.label}" must be mapped`),!1;return!0},L=async()=>{if(!(!r||!a||!S())){u(!0),f(null);try{XL.parse(r,{complete:async C=>{const O=C.data,M=O[0],D=O.slice(1);let W=0,z=0;const G=[];for(let V=0;V<D.length;V++){const Y=D[V];try{if(Y.every(Z=>!Z||Z.trim()===""))continue;const ie={};let q="",R="",K="";if(M.forEach((Z,se)=>{const ue=o[Z];if(ue&&Y[se]){let ae=Y[se].trim();ue==="name"?K=ae:ue==="firstName"?(q=ae,ie.firstName=ae):ue==="lastName"?(R=ae,ie.lastName=ae):ie[ue]=ae}}),K&&!q&&!R){const Z=K.trim().split(" ");Z.length>=2?(ie.firstName=Z[0],ie.lastName=Z.slice(1).join(" ")):(ie.firstName=K,ie.lastName="")}else(q||R)&&(ie.firstName=q||"",ie.lastName=R||"");if(!ie.firstName||!ie.email){G.push(`Row ${V+2}: Missing required fields (firstName or email)`),z++;continue}ie.lastName||(ie.lastName=""),ie.status="active";try{await _J("POST","/api/crm/clients",ie),W++}catch(Z){G.push(`Row ${V+2}: ${Z.message||"Failed to create client"}`),z++}}catch(ie){G.push(`Row ${V+2}: ${ie.message}`),z++}}h({successful:W,failed:z,errors:G}),t(3)},header:!1,skipEmptyLines:!0})}catch(C){f("Import failed: "+C.message)}finally{u(!1)}}},I=()=>{t(1),s(null),i(null),l({}),h(null),f(null),x.current&&(x.current.value="")},k=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",onDrop:N,onDragOver:A,children:[n.jsx(Ka,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Upload your CSV file"}),n.jsx("p",{className:"text-gray-500",children:"Drag and drop your file here, or click to browse"})]}),n.jsx("input",{ref:x,type:"file",accept:".csv",onChange:j,className:"hidden"}),n.jsx("button",{onClick:()=>x.current?.click(),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Choose File"})]}),r&&n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(cs,{className:"h-5 w-5 text-green-600 mr-2"}),n.jsx("span",{className:"text-green-800 font-medium",children:r.name}),n.jsx("button",{onClick:()=>s(null),className:"ml-auto text-green-600 hover:text-green-800",children:n.jsx(bs,{size:16})})]})})]}),E=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"CSV Preview"}),n.jsxs("p",{className:"text-blue-700 text-sm mb-3",children:["Found ",a?.totalRows," rows in your CSV file. Preview of first few rows:"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-xs",children:[n.jsx("thead",{children:n.jsx("tr",{className:"bg-blue-100",children:a?.headers.map((C,O)=>n.jsx("th",{className:"px-2 py-1 text-left font-medium text-blue-900 border-r border-blue-200",children:C},O))})}),n.jsx("tbody",{children:a?.rows.slice(0,3).map((C,O)=>n.jsx("tr",{className:"border-b border-blue-200",children:C.map((M,D)=>n.jsx("td",{className:"px-2 py-1 text-blue-800 border-r border-blue-200 max-w-[100px] truncate",children:M},D))},O))})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Map CSV Columns to Client Fields"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Select which client field each CSV column should map to. Required fields are marked with *."}),n.jsx("div",{className:"space-y-3",children:a?.headers.map(C=>n.jsxs("div",{className:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-1",children:n.jsx("label",{className:"font-medium text-gray-900",children:C})}),n.jsx("div",{className:"flex-1",children:n.jsxs("select",{value:o[C]||"",onChange:O=>l(M=>({...M,[C]:O.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"-- Skip this column --"}),g.map(O=>n.jsxs("option",{value:O.key,children:[O.label," ",O.required?"*":""]},O.key))]})})]},C))}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsx("button",{onClick:()=>t(1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Back"}),n.jsx("button",{onClick:L,disabled:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center disabled:opacity-50",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin h-4 w-4 mr-2"}),"Importing..."]}):n.jsxs(n.Fragment,{children:["Import Clients",n.jsx(Om,{className:"h-4 w-4 ml-2"})]})})]})]})]}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(is,{className:"h-8 w-8 text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Import Complete"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:d?.successful||0}),n.jsx("div",{className:"text-green-800",children:"Successfully Imported"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:d?.failed||0}),n.jsx("div",{className:"text-red-800",children:"Failed"})]})]}),d?.errors&&d.errors.length>0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Import Errors"}),n.jsxs("div",{className:"max-h-40 overflow-y-auto",children:[d.errors.slice(0,10).map((C,O)=>n.jsx("div",{className:"text-yellow-800 text-sm py-1",children:C},O)),d.errors.length>10&&n.jsxs("div",{className:"text-yellow-600 text-sm italic",children:["... and ",d.errors.length-10," more errors"]})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Import Another File"})})]});return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-center space-x-4",children:[1,2,3].map(C=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e>=C?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>C?n.jsx(is,{size:16}):C}),C<3&&n.jsx("div",{className:`w-12 h-0.5 ${e>C?"bg-blue-600":"bg-gray-200"}`})]},C))}),n.jsx("div",{className:"flex justify-center mt-2",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[e===1&&"Upload CSV File",e===2&&"Map Columns",e===3&&"Import Results"]})})]}),p&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 text-red-600 mr-2"}),n.jsx("span",{className:"text-red-800",children:p})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e===1&&k(),e===2&&E(),e===3&&B()]})]})},TOe=()=>n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs(Gt,{to:"/admin/clients",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(ls,{size:16,className:"mr-1"})," Back to clients"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Clients"}),n.jsx("p",{className:"text-gray-600",children:"Bulk import clients from a CSV file"})]})}),"        ",n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsx(EOe,{})})]})});async function OOe(){try{const{data:{session:e},error:t}=await Dt.auth.getSession();if(t)throw new Error(`Authentication error: ${t.message}`);if(!e?.access_token)throw new Error("Authentication required");const{data:r,error:s}=await Dt.from("import_logs").select("*, imported_by(email)").order("created_at",{ascending:!1});if(s)throw s;return r||[]}catch(e){throw e}}const LOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(!0),[a,i]=_.useState(null);_.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const c=await OOe();t(c)}catch{i("Failed to load import logs. Please try again.")}finally{s(!1)}},l=c=>{const u=new Date(c);return u.toLocaleDateString()+" "+u.toLocaleTimeString()};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Import Logs"}),n.jsx("p",{className:"text-gray-600",children:"View history of client imports"})]}),n.jsxs(Gt,{to:"/admin/clients/import",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(cs,{size:20,className:"mr-2"}),"New Import"]})]}),r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):a?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:a}):e.length>0?n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Filename"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Imported By"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(c=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(cs,{size:16,className:"text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:c.filename})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(fn,{size:16,className:"mr-2"}),l(c.created_at)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Ji,{size:16,className:"mr-2"}),c.imported_by.email]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:c.rows_processed}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Hr,{size:16,className:"mr-2"}),c.rows_success]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.rows_error>0?n.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[n.jsx(jF,{size:16,className:"mr-2"}),c.rows_error]}):n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx(Hr,{size:16,className:"mr-2"}),"0"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.error_file_url&&n.jsx("a",{href:c.error_file_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-900",title:"Download Error File",children:n.jsx(Ls,{size:16})})})]},c.id))})]})})}):n.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[n.jsx(Tm,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Import Logs Found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't imported any client data yet."}),n.jsx(Gt,{to:"/admin/clients/import",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Import Clients"})]})]})})},gk=_.createContext(void 0),sN=({defaultValue:e,className:t,children:r})=>{const[s,a]=_.useState(e);return n.jsx(gk.Provider,{value:{activeTab:s,setActiveTab:a},children:n.jsx("div",{className:Sn("w-full",t),children:r})})},aN=({className:e,children:t})=>n.jsx("div",{className:Sn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),children:t}),To=({value:e,className:t,children:r})=>{const s=_.useContext(gk);if(!s)throw new Error("TabsTrigger must be used within Tabs");const{activeTab:a,setActiveTab:i}=s,o=a===e;return n.jsx("button",{onClick:()=>i(e),className:Sn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-background text-foreground shadow-sm":"hover:bg-muted",t),children:r})},Oo=({value:e,className:t,children:r})=>{const s=_.useContext(gk);if(!s)throw new Error("TabsContent must be used within Tabs");const{activeTab:a}=s;return a!==e?null:n.jsx("div",{className:Sn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),children:r})},IOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState("lifetime_value"),[c,u]=_.useState("revenue");_.useEffect(()=>{d(),h()},[o,c]);const d=async()=>{try{const g=await fetch(`/api/crm/top-clients?orderBy=${o}&limit=20`);if(g.ok){const v=await g.json();t(v||[])}}catch(g){console.error("Failed to fetch top clients:",g)}},h=async()=>{try{const g=await fetch(`/api/crm/client-segments?segmentBy=${c}`);if(g.ok){const v=await g.json();s(v.segments||[])}}catch(g){console.error("Failed to fetch client segments:",g)}finally{i(!1)}},p=g=>new Intl.NumberFormat("de-AT",{style:"currency",currency:"EUR"}).format(g),f=g=>g?new Date(g).toLocaleDateString("de-AT"):"Never",x=g=>g>=1e3?{tier:"VIP",color:"bg-gold-500 text-white",icon:J1}:g>=500?{tier:"Premium",color:"bg-purple-500 text-white",icon:Fs}:g>=200?{tier:"Standard",color:"bg-blue-500 text-white",icon:Qn}:{tier:"Basic",color:"bg-gray-500 text-white",icon:Qn};return a?n.jsx(Rr,{children:n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx("div",{children:"Loading client data..."})})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[n.jsx(J1,{className:"h-8 w-8 text-yellow-500"}),"High-Value Clients"]})}),n.jsxs(sN,{defaultValue:"top-clients",className:"w-full",children:[n.jsxs(aN,{className:"grid w-full grid-cols-3",children:[n.jsx(To,{value:"top-clients",children:"Top Clients"}),n.jsx(To,{value:"segments",children:"Client Segments"}),n.jsx(To,{value:"analytics",children:"Analytics"})]}),n.jsxs(Oo,{value:"top-clients",className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 mb-4",children:n.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"p-2 border rounded",children:[n.jsx("option",{value:"lifetime_value",children:"By Lifetime Value"}),n.jsx("option",{value:"total_revenue",children:"By Total Revenue"}),n.jsx("option",{value:"session_count",children:"By Session Count"}),n.jsx("option",{value:"recent_activity",children:"By Recent Activity"})]})}),n.jsx("div",{className:"grid gap-4",children:e.map((g,v)=>{const b=x(g.total_revenue),j=b.icon;return n.jsx(Rt,{children:n.jsxs(Ut,{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-2xl font-bold text-gray-400",children:["#",v+1]}),n.jsxs("div",{className:`px-2 py-1 rounded-full text-xs ${b.color} flex items-center gap-1`,children:[n.jsx(j,{className:"h-3 w-3"}),b.tier]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold",children:[g.first_name," ",g.last_name]}),n.jsx("p",{className:"text-gray-600",children:g.email}),g.city&&n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[n.jsx(ef,{className:"h-3 w-3"}),g.city]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:p(g.total_revenue)}),n.jsx("div",{className:"text-sm text-gray-500",children:"Lifetime Value"})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-4 pt-4 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:g.invoice_count}),n.jsx("div",{className:"text-xs text-gray-500",children:"Invoices"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:g.session_count}),n.jsx("div",{className:"text-xs text-gray-500",children:"Sessions"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:p(g.average_invoice)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Avg Invoice"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-semibold",children:f(g.last_invoice_date)}),n.jsx("div",{className:"text-xs text-gray-500",children:"Last Invoice"})]})]})]})},g.id)})})]}),n.jsxs(Oo,{value:"segments",className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 mb-4",children:n.jsxs("select",{value:c,onChange:g=>u(g.target.value),className:"p-2 border rounded",children:[n.jsx("option",{value:"revenue",children:"By Revenue"}),n.jsx("option",{value:"frequency",children:"By Session Frequency"}),n.jsx("option",{value:"geography",children:"By Location"})]})}),n.jsx("div",{className:"grid gap-4",children:r.map((g,v)=>n.jsx(Rt,{children:n.jsx(Ut,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:g.segment}),n.jsxs("p",{className:"text-sm text-gray-600",children:[g.client_count," clients"]})]}),n.jsxs("div",{className:"text-right",children:[g.segment_revenue&&n.jsx("div",{className:"text-xl font-bold text-green-600",children:p(g.segment_revenue)}),g.total_sessions&&n.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[g.total_sessions," sessions"]}),g.avg_revenue_per_client&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Avg: ",p(g.avg_revenue_per_client),"/client"]})]})]})})},v))})]}),n.jsx(Oo,{value:"analytics",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Hw,{className:"h-5 w-5"}),"Revenue Concentration"]})}),n.jsx(Ut,{children:n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold",children:[e.length>0&&Math.round(e.slice(0,5).reduce((g,v)=>g+v.total_revenue,0)/e.reduce((g,v)=>g+v.total_revenue,0)*100),"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Top 5 clients revenue share"})]})})]}),n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"h-5 w-5"}),"Client Retention"]})}),n.jsx(Ut,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:e.filter(g=>g.session_count>1).length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Repeat clients"})]})})]}),n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Fs,{className:"h-5 w-5"}),"Average Value"]})}),n.jsx(Ut,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold",children:e.length>0&&p(e.reduce((g,v)=>g+v.total_revenue,0)/e.length)}),n.jsx("p",{className:"text-sm text-gray-600",children:"Per top client"})]})})]})]})})]})]})})},MOe=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,u]=_.useState(!1),[d,h]=_.useState(!0);_.useEffect(()=>{p()},[]),_.useEffect(()=>{f()},[e,a,o]);const p=async()=>{try{t([{id:"1",title:"Mueller Family Session",description:"Outdoor family photoshoot in Stadtpark",clientName:"Sarah Mueller",clientId:"1",photoCount:45,coverImage:"https://images.pexels.com/photos/1668928/pexels-photo-1668928.jpeg",status:"active",createdAt:"2025-01-20T10:30:00Z",expiresAt:"2025-07-20T10:30:00Z"},{id:"2",title:"Schmidt Wedding",description:"Wedding ceremony and reception photos",clientName:"Michael Schmidt",clientId:"2",photoCount:120,coverImage:"https://images.pexels.com/photos/1024993/pexels-photo-1024993.jpeg",status:"shared",createdAt:"2025-01-18T09:15:00Z",expiresAt:"2025-12-18T09:15:00Z"},{id:"3",title:"Weber Newborn Session",description:"Newborn and family portraits",clientName:"Anna Weber",clientId:"3",photoCount:30,coverImage:"https://images.pexels.com/photos/3875080/pexels-photo-3875080.jpeg",status:"active",createdAt:"2025-01-15T16:45:00Z",expiresAt:"2025-06-15T16:45:00Z"},{id:"4",title:"Huber Corporate Headshots",description:"Professional business portraits",clientName:"Thomas Huber",clientId:"4",photoCount:15,coverImage:"https://images.pexels.com/photos/3760263/pexels-photo-3760263.jpeg",status:"archived",createdAt:"2025-01-10T14:20:00Z"}])}catch{}finally{h(!1)}},f=()=>{let v=e;a&&(v=v.filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.clientName.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(v=v.filter(b=>b.status===o)),s(v)},x=v=>{const j={active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},shared:{bg:"bg-blue-100",text:"text-blue-800",label:"Shared"},archived:{bg:"bg-gray-100",text:"text-gray-800",label:"Archived"}}[v];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.bg} ${j.text}`,children:j.label})},g=v=>{if(!v)return!1;const b=new Date(v),j=new Date,N=Math.ceil((b.getTime()-j.getTime())/(1e3*60*60*24));return N<=30&&N>0};return d?n.jsx(Rr,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Galleries Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage client photo galleries and sharing"})]}),n.jsxs("button",{onClick:()=>u(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),"Create Gallery"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search galleries...",value:a,onChange:v=>i(v.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"shared",children:"Shared"}),n.jsx("option",{value:"archived",children:"Archived"})]}),n.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Jm,{size:20,className:"mr-2"}),"More Filters"]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(v=>n.jsxs("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow overflow-hidden",children:[n.jsx("div",{className:"aspect-w-16 aspect-h-9",children:n.jsx("img",{src:v.coverImage,alt:v.title,className:"w-full h-48 object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),n.jsx("p",{className:"text-sm text-gray-600",children:v.clientName})]}),x(v.status)]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[n.jsxs("span",{children:[v.photoCount," photos"]}),n.jsxs("span",{children:["Created ",new Date(v.createdAt).toLocaleDateString()]})]}),v.expiresAt&&n.jsxs("div",{className:`text-xs mb-4 flex items-center ${g(v.expiresAt)?"text-orange-600":"text-gray-500"}`,children:[n.jsx(fn,{size:12,className:"mr-1"}),"Expires ",new Date(v.expiresAt).toLocaleDateString(),g(v.expiresAt)&&n.jsx("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs",children:"Expiring Soon"})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"View Gallery",children:n.jsx(Xn,{size:16})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Edit Gallery",children:n.jsx(Ha,{size:16})}),n.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Upload Photos",children:n.jsx(Ka,{size:16})})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Download",children:n.jsx(Ls,{size:16})}),n.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Share",children:n.jsx(Lh,{size:16})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(js,{size:16})})]})]})]})]},v.id))}),r.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No galleries found matching your criteria."})})]})})};async function OA(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function DOe(e){try{const t=await fetch(`/api/galleries/${e}`,{headers:{"Content-Type":"application/json"}});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery")}return await t.json()}catch(t){throw t}}async function ROe(e){try{let t=null;if(e.coverImage)try{const o=new FileReader;t=await new Promise((c,u)=>{o.onload=()=>c(o.result),o.onerror=u,o.readAsDataURL(e.coverImage)})}catch{}const r=e.title.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").substring(0,50),s={title:e.title,description:e.description||null,slug:r,coverImage:t,client_id:e.clientId,is_public:e.isPublic,is_password_protected:e.isPasswordProtected,password:e.password},a=await fetch("/api/galleries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){const o=await a.text();throw new Error(`HTTP error! status: ${a.status}, message: ${o}`)}return await a.json()}catch(t){throw t}}async function FOe(e,t){try{const r=await fetch(`/api/galleries/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to update gallery")}return await r.json()}catch(r){throw r}}async function $Oe(e){try{const t=await fetch(`/api/galleries/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!t.ok){const s=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${s}`)}const r=await t.json()}catch(t){throw t}}async function BOe(e,t){try{const r=new FormData;r.append("galleryId",e),t.forEach(a=>{r.append("images",a)});const s=await fetch(`/api/galleries/${e}/upload`,{method:"POST",body:r});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to upload images")}return await s.json()}catch(r){throw r}}async function l_(e){try{const t=await fetch(`/api/galleries/${e}/images`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery images")}return await t.json()}catch(t){throw t}}async function zOe(e){try{const t=await fetch(`/api/galleries/${e}/visitors`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery visitors")}return await t.json()}catch(t){throw t}}async function UOe(e){try{const t=await fetch(`/api/galleries/${e}/access-logs`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery access logs")}return await t.json()}catch(t){throw t}}async function qOe(e){try{const t=await fetch(`/api/galleries/images/${e}`,{method:"DELETE"});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to delete image")}}catch(t){throw t}}async function VOe(e,t){try{const r=await fetch(`/api/galleries/${e}/cover-image`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageId:t})});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to set cover image")}}catch(r){throw r}}async function WOe(e){try{const t=await fetch(`/api/galleries/${e}/stats`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to fetch gallery stats")}return await t.json()}catch(t){throw t}}async function HOe(e,t){try{const r=await fetch(`/api/galleries/${e}/auth`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.error||"Authentication failed")}return await r.json()}catch(r){throw r}}async function GOe(e,t){try{const r=await fetch(`/api/galleries/${e}/images`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to fetch gallery images")}return await r.json()}catch(r){throw r}}async function KOe(e,t){try{const r=await fetch(`/api/galleries/images/${e}/favorite`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const s=await r.json();throw new Error(s.error||"Failed to toggle favorite status")}}catch(r){throw r}}async function YOe(e){try{const t=await fetch("/api/galleries");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return e?r.slice(0,e):r}catch(t){throw t}}const WV=({gallery:e,isEditing:t=!1})=>{const r=Jn(),[s,a]=_.useState("details"),[i,o]=_.useState({title:"",description:"",downloadEnabled:!0,status:"ACTIVE",expiresAt:""}),[l,c]=_.useState(""),[u,d]=_.useState(!1),[h,p]=_.useState(null),[f,x]=_.useState([]),[g,v]=_.useState([]),[b,j]=_.useState(!1),[N,A]=_.useState(null),[S,L]=_.useState(!1),[I,k]=_.useState(0),[E,B]=_.useState(null),[C,O]=_.useState(""),M=[{id:"details",label:"Details",icon:cs,description:"Gallery title and description"},{id:"upload",label:"Upload",icon:Ka,description:"Add images to gallery"},{id:"settings",label:"Settings",icon:Ga,description:"Access and sharing options"},{id:"preview",label:"Preview",icon:Xn,description:"Review and publish"}];_.useEffect(()=>{e&&t&&(o({title:e.title||"",description:"",downloadEnabled:e.downloadEnabled,status:"ACTIVE",expiresAt:""}),d(!!e.passwordHash),O(e.coverImage||""),e.id&&D(e.id))},[e,t]);const D=async X=>{try{const{data:me,error:ne}=await Dt.from("gallery_images").select("*").eq("gallery_id",X).order("order_index");if(ne)throw ne;x(me||[])}catch{}},W=(X,me)=>{o(ne=>({...ne,[X]:me})),A(null)},z=X=>M.findIndex(me=>me.id===X),G=X=>{switch(X){case"details":return!!i.title.trim();case"upload":return g.length>0||f.length>0;case"settings":return!0;case"preview":return!0;default:return!1}},V=()=>{const X=z(s);X<M.length-1&&G(s)&&a(M[X+1].id)},Y=()=>{const X=z(s);X>0&&a(M[X-1].id)},ie=async X=>{try{L(!0);const me=X.name.split(".").pop(),ne=`galleries/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${me}`,{error:he}=await Dt.storage.from("images").upload(ne,X);if(he)throw he;const{data:{publicUrl:ke}}=Dt.storage.from("images").getPublicUrl(ne);O(ke),p(X)}catch{A("Failed to upload cover image. Please try again.")}finally{L(!1)}},q=async X=>{try{L(!0),k(0);const me=X.map(async(he,ke)=>{const je=he.name.split(".").pop(),Q=`galleries/images/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${je}`,{error:ze}=await Dt.storage.from("images").upload(Q,he);if(ze)throw ze;const{data:{publicUrl:Ye}}=Dt.storage.from("images").getPublicUrl(Q);return k((ke+1)/X.length*100),{original_url:Ye,display_url:Ye,thumb_url:Ye,filename:he.name,size_bytes:he.size,content_type:he.type,order_index:f.length+ke}}),ne=await Promise.all(me);x(he=>[...he,...ne]),v([])}catch{A("Failed to upload images. Please try again.")}finally{L(!1),k(0)}},R=async()=>{if(!i.title.trim()){A("Gallery title is required");return}try{j(!0),A(null);const{data:{user:X}}=await Dt.auth.getUser();if(!X)throw new Error("You must be logged in to create or edit galleries");const me={title:i.title,password:u?l:void 0,downloadEnabled:i.downloadEnabled,coverImage:h};let ne;if(t&&e?.id?(ne=(await FOe(e.id,me)).id,B("Gallery updated successfully!")):(ne=(await ROe(me)).id,B("Gallery created successfully!")),g.length>0){await q(g);const he=f.map(je=>({...je,gallery_id:ne})),{error:ke}=await Dt.from("gallery_images").insert(he);if(ke)throw ke}setTimeout(()=>{r("/admin/galleries")},1500)}catch(X){let me="An error occurred while saving the gallery";X&&typeof X=="object"&&("message"in X?me=X.message:"error"in X?me=X.error:"details"in X&&(me=X.details)),A(me)}finally{j(!1)}},K=()=>n.jsx("div",{className:"flex items-center justify-between mb-8",children:M.map((X,me)=>{const ne=X.id===s,he=G(X.id)&&z(s)>me,ke=X.icon;return n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${ne?"bg-purple-600 border-purple-600 text-white":he?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:he?n.jsx(is,{size:20}):n.jsx(ke,{size:20})}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsx("div",{className:`text-sm font-medium ${ne?"text-purple-600":"text-gray-600"}`,children:X.label}),n.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:X.description})]})]}),me<M.length-1&&n.jsx("div",{className:`w-16 h-0.5 mx-4 ${he?"bg-green-600":"bg-gray-300"}`})]},X.id)})}),Z=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gallery Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:i.title,onChange:X=>W("title",X.target.value),className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter gallery title..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("textarea",{value:i.description||"",onChange:X=>W("description",X.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe this gallery..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Cover Image ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),"        ",C?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:C,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>O(""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:n.jsx(bs,{size:16})})]}):n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Va,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),n.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:X=>{const me=X.target.files?.[0];me&&ie(me)}})]})]})})]})]}),se=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Images"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[n.jsx(Ka,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium text-lg",children:"Choose images to upload"}),n.jsx("span",{className:"block text-gray-500 mt-1",children:"or drag and drop them here"}),n.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:X=>{const me=Array.from(X.target.files||[]);v(ne=>[...ne,...me])}})]})]}),S&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Uploading images..."}),n.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(I),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${I}%`}})})]}),g.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Selected Images (",g.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:g.map((X,me)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:URL.createObjectURL(X),alt:`Preview ${me}`,className:"w-full h-full object-cover"})}),n.jsx("button",{type:"button",onClick:()=>v(ne=>ne.filter((he,ke)=>ke!==me)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(bs,{size:12})}),n.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:X.name})]},me))})]}),f.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3",children:["Uploaded Images (",f.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:f.map((X,me)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:X.thumb_url||X.display_url,alt:X.filename,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute bottom-1 left-1 right-1 bg-black bg-opacity-50 text-white text-xs p-1 rounded truncate",children:X.filename})]},me))})]})]})}),ue=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Settings"}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password Protection"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Require a password to view this gallery"})]}),n.jsx("button",{type:"button",onClick:()=>d(!u),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${u?"bg-purple-600":"bg-gray-200"}`,children:n.jsx("span",{className:`${u?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]}),u&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Password"}),n.jsx("input",{type:"password",value:l,onChange:X=>c(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter password"})]})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Download Enabled"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Allow visitors to download images"})]}),"            ",n.jsx("button",{type:"button",onClick:()=>W("downloadEnabled",!i.downloadEnabled),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${i.downloadEnabled?"bg-purple-600":"bg-gray-200"}`,children:n.jsx("span",{className:`${i.downloadEnabled?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition`})})]})}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expiration Date ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("input",{type:"datetime-local",value:i.expiresAt||"",onChange:X=>W("expiresAt",X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Leave empty for no expiration"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gallery Status"}),n.jsxs("select",{value:i.status,onChange:X=>W("status",X.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"ACTIVE",children:"Active"}),n.jsx("option",{value:"SHARED",children:"Shared"}),n.jsx("option",{value:"ARCHIVED",children:"Archived"})]})]})]})}),ae=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Preview"}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"mb-6",children:["            ",C&&n.jsx("div",{className:"mb-4",children:n.jsx("img",{src:C,alt:"Cover",className:"w-full h-48 object-cover rounded-lg"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:i.title}),i.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Va,{size:16,className:"mr-1"}),g.length+f.length," images"]}),u&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Bg,{size:16,className:"mr-1"}),"Password protected"]}),"              ",n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ls,{size:16,className:"mr-1"}),i.downloadEnabled?"Downloads enabled":"View only"]}),i.expiresAt&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{size:16,className:"mr-1"}),"Expires ",new Date(i.expiresAt).toLocaleDateString()]})]})]}),(g.length>0||f.length>0)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[f.slice(0,8).map((X,me)=>n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:X.thumb_url||X.display_url,alt:X.filename,className:"w-full h-full object-cover"})},me)),g.slice(0,8-f.length).map((X,me)=>n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:URL.createObjectURL(X),alt:`Preview ${me}`,className:"w-full h-full object-cover"})},`selected-${me}`)),g.length+f.length>8&&n.jsx("div",{className:"aspect-square flex items-center justify-center bg-gray-100 rounded-lg",children:n.jsxs("span",{className:"text-gray-500",children:["+",g.length+f.length-8," more"]})})]})]})]})}),xe=()=>{switch(s){case"details":return Z();case"upload":return se();case"settings":return ue();case"preview":return ae();default:return Z()}};return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[N&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:N})]}),E&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:E}),K(),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[xe(),n.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:Y,disabled:z(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ls,{size:16,className:"mr-2"}),"Previous"]}),n.jsx("div",{className:"flex space-x-3",children:z(s)===M.length-1?n.jsxs(n.Fragment,{children:["                ",n.jsxs("button",{type:"button",onClick:R,disabled:b||!G(s),className:"flex items-center px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:[b?n.jsx(Xr,{className:"animate-spin mr-2 h-4 w-4"}):n.jsx(pl,{className:"mr-2 h-4 w-4"}),"Save Draft"]}),n.jsxs("button",{type:"button",onClick:R,disabled:b||!G(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[b?n.jsx(Xr,{className:"animate-spin mr-2 h-4 w-4"}):n.jsx(Lh,{className:"mr-2 h-4 w-4"}),"Share Gallery"]})]}):n.jsxs("button",{type:"button",onClick:V,disabled:!G(s),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:["Next",n.jsx(Om,{size:16,className:"ml-2"})]})})]})]})]})},ZOe=()=>n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs(Gt,{to:"/admin/galleries",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(ls,{size:16,className:"mr-1"})," Back to galleries"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Gallery"}),n.jsx("p",{className:"text-gray-600",children:"Create a client photo gallery with our advanced editor"})]})}),n.jsx(WV,{})]})}),XOe=()=>{const{id:e}=yl(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const u=await OA(c);r(u)}catch{o("Failed to load gallery. Please try again.")}finally{a(!1)}};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs(Gt,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(ls,{size:16,className:"mr-1"}),n.jsx("span",{children:"Back to Galleries"})]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Edit Gallery"}),n.jsx("p",{className:"text-gray-600",children:"Update gallery settings"})]}),"        ",n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):i?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:i})]}):t?n.jsx(WV,{gallery:t,isEditing:!0}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500",children:"Gallery not found."}),n.jsx(Gt,{to:"/admin/galleries",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:"Return to galleries"})]})})]})})};let u1;const QOe=new Uint8Array(16);function JOe(){if(!u1&&(u1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u1(QOe)}const Ba=[];for(let e=0;e<256;++e)Ba.push((e+256).toString(16).slice(1));function e8e(e,t=0){return Ba[e[t+0]]+Ba[e[t+1]]+Ba[e[t+2]]+Ba[e[t+3]]+"-"+Ba[e[t+4]]+Ba[e[t+5]]+"-"+Ba[e[t+6]]+Ba[e[t+7]]+"-"+Ba[e[t+8]]+Ba[e[t+9]]+"-"+Ba[e[t+10]]+Ba[e[t+11]]+Ba[e[t+12]]+Ba[e[t+13]]+Ba[e[t+14]]+Ba[e[t+15]]}const t8e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QL={randomUUID:t8e};function r8e(e,t,r){if(QL.randomUUID&&!t&&!e)return QL.randomUUID();e=e||{};const s=e.random||(e.rng||JOe)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,e8e(s)}const n8e=({galleryId:e,onUploadComplete:t})=>{const[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(!1),[c,u]=_.useState(0),[d,h]=_.useState(null),[p,f]=_.useState(""),[x,g]=_.useState(!1),v=_.useRef(null),[b,j]=_.useState({}),N=C=>{if(!C.target.files||C.target.files.length===0)return;const O=Array.from(C.target.files);k(O)},A=C=>{C.preventDefault(),C.stopPropagation()},S=C=>{C.preventDefault(),C.stopPropagation()},L=C=>{C.preventDefault(),C.stopPropagation()},I=C=>{if(C.preventDefault(),C.stopPropagation(),!C.dataTransfer.files||C.dataTransfer.files.length===0)return;const M=Array.from(C.dataTransfer.files).filter(D=>D.type.startsWith("image/"));if(M.length===0){h("Please upload image files only.");return}k(M)},k=C=>{const O=C.map(M=>{const D=r8e();return{file:M,id:D}});s(M=>[...M,...O.map(D=>D.file)]),O.forEach(({file:M,id:D})=>{const W=new FileReader;W.onloadend=()=>{i(z=>[...z,W.result]),j(z=>({...z,[D]:!1}))},W.readAsDataURL(M)})},E=C=>{a[C]&&a[C].startsWith("blob:")&&URL.revokeObjectURL(a[C]),s(O=>O.filter((M,D)=>D!==C)),i(O=>O.filter((M,D)=>D!==C))},B=async()=>{if(r.length===0){h("Please select at least one image to upload.");return}if(!e){h("Gallery ID is missing. Please save the gallery first.");return}if(!p.trim()){h("Please enter a folder name for organizing your images.");return}try{l(!0),h(null);const C=setInterval(()=>{u(O=>O>=95?(clearInterval(C),O):O+5)},500);await BOe(e,r,p.trim()),clearInterval(C),u(100),a.forEach(O=>{O.startsWith("blob:")&&URL.revokeObjectURL(O)}),s([]),i([]),f(""),g(!1),t(),setTimeout(()=>{u(0),l(!1)},1e3)}catch(C){h(C instanceof Error?C.message:"Failed to upload images. Please try again."),l(!1),u(0)}};return n.jsxs("div",{className:"space-y-6",children:[d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:d})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center cursor-pointer hover:border-purple-500 transition-colors",onDragOver:A,onDragEnter:S,onDragLeave:L,onDrop:I,onClick:()=>v.current?.click(),children:[n.jsx("input",{type:"file",ref:v,className:"hidden",accept:"image/*",multiple:!0,onChange:N,disabled:o}),n.jsx(Ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Upload Images"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Drag and drop image files here, or click to browse"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Supported formats: JPG, PNG, GIF, WEBP"})]}),a.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Selected Images (",a.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:a.map((C,O)=>n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:C,alt:`Preview ${O}`,className:"w-full h-full object-cover"})}),n.jsx("button",{type:"button",onClick:()=>E(O),disabled:o,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(bs,{size:14})}),n.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:r[O]?.name||"Image"})]},O))}),o&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700",children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[c,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${c}%`}})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:B,disabled:o||a.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ka,{className:"-ml-1 mr-2 h-5 w-5"}),"Upload ",a.length," ",a.length===1?"Image":"Images"]})})})]})]})},HV=({images:e,galleryId:t,isAdmin:r=!1,isPublic:s=!1,authToken:a="",downloadEnabled:i=!0,onImageDeleted:o,onSetCover:l})=>{const[c,u]=_.useState(null),[d,h]=_.useState(!1),[p,f]=_.useState(!1),[x,g]=_.useState(0);_.useEffect(()=>{},[e]),_.useEffect(()=>{const k=E=>{d&&(E.key==="Escape"?b():E.key==="ArrowLeft"?j("prev"):E.key==="ArrowRight"&&j("next"))};return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[d]);const v=(k,E)=>{u(k),g(E),h(!0)},b=()=>{h(!1),u(null)},j=k=>{if(e.length<=1)return;let E;k==="next"?E=(x+1)%e.length:E=(x-1+e.length)%e.length,g(E),u(e[E])},N=async(k,E)=>{if(E&&E.stopPropagation(),!(!s||!a))try{f(!0),await KOe(k.id,a),k.isFavorite=!k.isFavorite,f(!1)}catch{f(!1)}},A=async(k,E)=>{if(E.stopPropagation(),!!i)try{const B=await fetch(k.displayUrl,{headers:a?{Authorization:`Bearer ${a}`}:{}});if(!B.ok)throw new Error("Failed to fetch image");const C=await B.blob(),O=window.URL.createObjectURL(C),M=document.createElement("a");M.href=O,M.download=k.filename,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(O)}catch{const C=document.createElement("a");C.href=k.displayUrl,C.download=k.filename,C.target="_blank",document.body.appendChild(C),C.click(),document.body.removeChild(C)}},S=async(k,E)=>{if(E.stopPropagation(),!!r&&window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{f(!0),await qOe(k.id),f(!1),o&&o()}catch{f(!1)}},L=async(k,E)=>{if(E.stopPropagation(),!!r)try{f(!0),await VOe(t,k.id),f(!1),l&&l()}catch{f(!1)}},I=async(k,E)=>{if(E.stopPropagation(),!!r)try{if(f(!0),!(await fetch(`undefined/rest/v1/gallery_images?id=eq.${k.id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined",apikey:void 0,Prefer:"return=minimal"},body:JSON.stringify({shared_to_togninja:!0})})).ok)throw new Error("Failed to update image status");k.sharedToTogninja=!0,f(!1),alert("Image shared to JpegWriter successfully!")}catch{f(!1),alert("Failed to share image to JpegWriter. Please try again.")}};return n.jsxs("div",{children:[e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Va,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Yet"}),n.jsx("p",{className:"text-gray-500",children:r?"Upload images to get started.":"This gallery is empty. Check back later."})]}):n.jsx("div",{className:"gallery-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:e.map((k,E)=>n.jsxs("div",{className:"gallery-item relative group cursor-pointer",onClick:()=>v(k,E),children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:k.thumbUrl,alt:k.filename,className:"w-full h-full object-cover transition-transform group-hover:scale-110",loading:"lazy"})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsxs("div",{className:"flex space-x-2",children:[s&&n.jsx("button",{onClick:B=>N(k,B),className:`p-2 rounded-full ${k.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:n.jsx(Ln,{size:16,className:k.isFavorite?"fill-current":""})}),i&&n.jsx("button",{onClick:B=>A(k,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:n.jsx(Ls,{size:16})}),r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:B=>L(k,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:n.jsx(Va,{size:16})}),n.jsx("button",{onClick:B=>I(k,B),className:`p-2 rounded-full bg-white text-gray-800 ${k.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:k.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||k.sharedToTogninja,children:n.jsx(Lh,{size:16})}),n.jsx("button",{onClick:B=>S(k,B),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:n.jsx(js,{size:16})})]})]})}),s&&k.isFavorite&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Ln,{size:16,className:"text-red-500 fill-current"})}),r&&k.sharedToTogninja&&n.jsx("div",{className:"absolute top-2 left-2",children:n.jsx(Lh,{size:16,className:"text-green-500"})}),r&&n.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx("p",{className:"text-xs text-white bg-black bg-opacity-50 p-1 rounded truncate",children:k.filename})})]},k.id))}),d&&c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",onClick:b,children:n.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:k=>k.stopPropagation(),children:[n.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2",onClick:b,title:"Close (ESC)",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("button",{className:"absolute top-4 left-4 text-white hover:text-gray-300 z-20 bg-black bg-opacity-50 rounded-full p-2 flex items-center space-x-2",onClick:b,title:"Back to Gallery",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n.jsx("span",{className:"text-sm hidden sm:block",children:"Back to Gallery"})]}),e.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:k=>{k.stopPropagation(),j("prev")},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 z-10",onClick:k=>{k.stopPropagation(),j("next")},children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),n.jsx("img",{src:c.displayUrl,alt:c.filename,className:"max-w-[95vw] max-h-[90vh] mx-auto object-contain"}),n.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[s&&n.jsx("button",{onClick:k=>{k.stopPropagation(),N(c)},className:`p-2 rounded-full ${c.isFavorite?"bg-red-500 text-white":"bg-white text-gray-800 hover:text-red-500"}`,disabled:p,children:n.jsx(Ln,{size:20,className:c.isFavorite?"fill-current":""})}),i&&n.jsx("button",{onClick:k=>A(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-blue-500",disabled:p,children:n.jsx(Ls,{size:20})}),r&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:k=>L(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-purple-500",title:"Set as Cover Image",disabled:p,children:n.jsx(Va,{size:20})}),n.jsx("button",{onClick:k=>I(c,k),className:`p-2 rounded-full bg-white text-gray-800 ${c.sharedToTogninja?"text-green-500":"hover:text-green-500"}`,title:c.sharedToTogninja?"Shared to JpegWriter":"Share to JpegWriter",disabled:p||c.sharedToTogninja,children:n.jsx(Lh,{size:20})}),n.jsx("button",{onClick:k=>S(c,k),className:"p-2 rounded-full bg-white text-gray-800 hover:text-red-500",title:"Delete Image",disabled:p,children:n.jsx(js,{size:20})})]})]}),n.jsx("div",{className:"absolute bottom-16 left-0 right-0 text-center",children:n.jsx("p",{className:"text-sm text-white bg-black bg-opacity-50 inline-block px-2 py-1 rounded",children:c.filename})})]})})]})},s8e=({stats:e})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Qn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Visitors"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.uniqueVisitors})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Xn,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Views"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalViews})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(Ln,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Favorites"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalFavorites})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ls,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Downloads"}),n.jsx("p",{className:"text-xl font-semibold text-gray-900",children:e.totalDownloads})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Over Time"}),e.dailyStats.length>0?n.jsx("div",{className:"h-64",children:n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsx("p",{className:"text-gray-500",children:"Chart would be displayed here"})})}):n.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No activity data available yet"})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Most Popular Images"}),e.topImages.length>0?n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:e.topImages.map((t,r)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:n.jsx("img",{src:t.thumbUrl,alt:`Popular image ${r+1}`,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Xn,{size:12,className:"mr-1"})," ",t.views]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ln,{size:12,className:"mr-1"})," ",t.favorites]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Ls,{size:12,className:"mr-1"})," ",t.downloads]})]})]},t.imageId))}):n.jsx("div",{className:"h-40 flex items-center justify-center bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-gray-500",children:"No image popularity data available yet"})})]})]}),a8e=()=>{const{id:e}=yl(),t=Jn(),[r,s]=_.useState(null),[a,i]=_.useState([]),[o,l]=_.useState(null),[c,u]=_.useState([]),[d,h]=_.useState([]),[p,f]=_.useState("images"),[x,g]=_.useState(!0),[v,b]=_.useState(null),j=_.useRef(null),N=_.useRef(null),A=_.useRef(null),S=_.useRef(null);_.useEffect(()=>{e&&L(e)},[e]);const L=async M=>{try{g(!0);const D=await OA(M);s(D);const W=await l_(M);i(W);try{const z=await WOe(M);l(z)}catch{}try{const z=await zOe(M);u(z)}catch{}try{const z=await UOe(M);h(z)}catch{}}catch{b("Failed to load gallery. Please try again.")}finally{g(!1)}},I=M=>{f(M),M==="images"&&j.current?j.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="upload"&&N.current?N.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="stats"&&A.current?A.current.scrollIntoView({behavior:"smooth",block:"nearest"}):M==="visitors"&&S.current&&S.current.scrollIntoView({behavior:"smooth",block:"nearest"})},k=()=>{e&&l_(e).then(M=>{i(M),f("images")}).catch(M=>{})},E=()=>{e&&l_(e).then(M=>{i(M)}).catch(M=>{})},B=()=>{e&&OA(e).then(M=>{s(M)}).catch(M=>{})},C=async()=>{if(r&&window.confirm(`Are you sure you want to delete the gallery "${r.title}"? This action cannot be undone and will delete all images.`))try{g(!0),await $Oe(r.id),t("/admin/galleries")}catch{b("Failed to delete gallery. Please try again."),g(!1)}},O=()=>{if(!r)return;const M=`${window.location.origin}/gallery/${r.slug}`;navigator.clipboard?navigator.clipboard.writeText(M).then(()=>{alert("Gallery link copied to clipboard!")}).catch(D=>{prompt("Copy this link:",M)}):prompt("Copy this link:",M)};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs(Gt,{to:"/admin/galleries",className:"inline-flex items-center text-gray-600 hover:text-gray-900",children:[n.jsx(ls,{size:16,className:"mr-1"}),n.jsx("span",{children:"Back to Galleries"})]}),x?n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Loading gallery..."}):r?n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-2",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:r.title}),n.jsxs("p",{className:"text-gray-600",children:[a.length," ",a.length===1?"image":"images"," • Created ",new Date(r.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-2",children:[n.jsxs("button",{onClick:O,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(Lh,{size:16,className:"mr-2"}),"Share"]}),n.jsxs(Gt,{to:`/admin/galleries/${r.id}/edit`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(Ha,{size:16,className:"mr-2"}),"Edit"]}),n.jsxs("button",{onClick:C,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[n.jsx(js,{size:16,className:"mr-2"}),"Delete"]})]})]}):n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mt-2",children:"Gallery not found"})]}),v&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:v})]}),x?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-gray-200 overflow-x-auto",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{ref:j,onClick:()=>I("images"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="images"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Images (",a.length,")"]}),n.jsxs("button",{ref:N,onClick:()=>I("upload"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="upload"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ka,{size:16,className:"inline mr-1"}),"Upload Images"]}),n.jsxs("button",{ref:A,onClick:()=>I("stats"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="stats"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(aF,{size:16,className:"inline mr-1"}),"Analytics"]}),n.jsxs("button",{ref:S,onClick:()=>I("visitors"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${p==="visitors"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Qn,{size:16,className:"inline mr-1"}),"Visitors (",c.length,")"]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[p==="images"&&n.jsx(HV,{images:a,galleryId:r.id,isAdmin:!0,onImageDeleted:E,onSetCover:B}),p==="upload"&&n.jsx(n8e,{galleryId:r.id,onUploadComplete:k}),p==="stats"&&(o?n.jsx(s8e,{stats:o}):n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading analytics..."})]})),p==="visitors"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Visitors"}),c.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Access"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Access"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(M=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.firstName&&M.lastName?`${M.firstName} ${M.lastName}`:"Not provided"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdAt).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.createdAt).toLocaleString()})]},M.id))})]})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Visitors Yet"}),n.jsx("p",{className:"text-gray-500",children:"This gallery hasn't been viewed by any visitors yet."})]}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-8 mb-4",children:"Recent Access Logs"}),d&&d.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Access Time"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Browser"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(M=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.email}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.firstName&&M.lastName?`${M.firstName} ${M.lastName}`:"Not provided"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.accessedAt).toLocaleString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-xs",children:M.userAgent?M.userAgent.split(" ")[0]:"Unknown"})]},M.id))})]})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[n.jsx(Os,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Access Logs"}),n.jsx("p",{className:"text-gray-500",children:"No access logs have been recorded for this gallery yet."})]})]})]})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been deleted."}),n.jsx("div",{className:"mt-6",children:n.jsx(Gt,{to:"/admin/galleries",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to galleries"})})]})]})})},GV=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),iN=_.createContext({}),oN=_.createContext(null),lN=typeof document<"u",xk=lN?_.useLayoutEffect:_.useEffect,KV=_.createContext({strict:!1}),yk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i8e="framerAppearId",YV="data-"+yk(i8e);function o8e(e,t,r,s){const{visualElement:a}=_.useContext(iN),i=_.useContext(KV),o=_.useContext(oN),l=_.useContext(GV).reducedMotion,c=_.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;_.useInsertionEffect(()=>{u&&u.update(r,o)});const d=_.useRef(!!(r[YV]&&!window.HandoffComplete));return xk(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),_.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function lg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function l8e(e,t,r){return _.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):lg(r)&&(r.current=s))},[t])}function gv(e){return typeof e=="string"||Array.isArray(e)}function cN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const vk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bk=["initial",...vk];function uN(e){return cN(e.animate)||bk.some(t=>gv(e[t]))}function ZV(e){return!!(uN(e)||e.variants)}function c8e(e,t){if(uN(e)){const{initial:r,animate:s}=e;return{initial:r===!1||gv(r)?r:void 0,animate:gv(s)?s:void 0}}return e.inherit!==!1?t:{}}function u8e(e){const{initial:t,animate:r}=c8e(e,_.useContext(iN));return _.useMemo(()=>({initial:t,animate:r}),[JL(t),JL(r)])}function JL(e){return Array.isArray(e)?e.join(" "):e}const eI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xv={};for(const e in eI)xv[e]={isEnabled:t=>eI[e].some(r=>!!t[r])};function d8e(e){for(const t in e)xv[t]={...xv[t],...e[t]}}const wk=_.createContext({}),XV=_.createContext({}),h8e=Symbol.for("motionComponentSymbol");function f8e({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:s,Component:a}){e&&d8e(e);function i(l,c){let u;const d={..._.useContext(GV),...l,layoutId:m8e(l)},{isStatic:h}=d,p=u8e(l),f=s(l,h);if(!h&&lN){p.visualElement=o8e(a,f,d,t);const x=_.useContext(XV),g=_.useContext(KV).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,x))}return _.createElement(iN.Provider,{value:p},u&&p.visualElement?_.createElement(u,{visualElement:p.visualElement,...d}):null,r(a,l,l8e(f,p.visualElement,c),f,h,p.visualElement))}const o=_.forwardRef(i);return o[h8e]=a,o}function m8e({layoutId:e}){const t=_.useContext(wk).id;return t&&e!==void 0?t+"-"+e:e}function p8e(e){function t(s,a={}){return f8e(e(s,a))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(s,a)=>(r.has(a)||r.set(a,t(a)),r.get(a))})}const g8e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jk(e){return typeof e!="string"||e.includes("-")?!1:!!(g8e.indexOf(e)>-1||/[A-Z]/.test(e))}const Aw={};function x8e(e){Object.assign(Aw,e)}const Gv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ip=new Set(Gv);function QV(e,{layout:t,layoutId:r}){return ip.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Aw[e]||e==="opacity")}const eo=e=>!!(e&&e.getVelocity),y8e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v8e=Gv.length;function b8e(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},s,a){let i="";for(let o=0;o<v8e;o++){const l=Gv[o];if(e[l]!==void 0){const c=y8e[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,s?"":i):r&&s&&(i="none"),i}const JV=e=>t=>typeof t=="string"&&t.startsWith(e),eW=JV("--"),LA=JV("var(--"),w8e=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,j8e=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Zh=(e,t,r)=>Math.min(Math.max(r,e),t),op={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wy={...op,transform:e=>Zh(0,1,e)},d1={...op,default:1},jy=e=>Math.round(e*1e5)/1e5,dN=/(-)?([\d]*\.?[\d])+/g,tW=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,N8e=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Kv(e){return typeof e=="string"}const Yv=e=>({test:t=>Kv(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uh=Yv("deg"),Qc=Yv("%"),nr=Yv("px"),_8e=Yv("vh"),S8e=Yv("vw"),tI={...Qc,parse:e=>Qc.parse(e)/100,transform:e=>Qc.transform(e*100)},rI={...op,transform:Math.round},rW={borderWidth:nr,borderTopWidth:nr,borderRightWidth:nr,borderBottomWidth:nr,borderLeftWidth:nr,borderRadius:nr,radius:nr,borderTopLeftRadius:nr,borderTopRightRadius:nr,borderBottomRightRadius:nr,borderBottomLeftRadius:nr,width:nr,maxWidth:nr,height:nr,maxHeight:nr,size:nr,top:nr,right:nr,bottom:nr,left:nr,padding:nr,paddingTop:nr,paddingRight:nr,paddingBottom:nr,paddingLeft:nr,margin:nr,marginTop:nr,marginRight:nr,marginBottom:nr,marginLeft:nr,rotate:uh,rotateX:uh,rotateY:uh,rotateZ:uh,scale:d1,scaleX:d1,scaleY:d1,scaleZ:d1,skew:uh,skewX:uh,skewY:uh,distance:nr,translateX:nr,translateY:nr,translateZ:nr,x:nr,y:nr,z:nr,perspective:nr,transformPerspective:nr,opacity:wy,originX:tI,originY:tI,originZ:nr,zIndex:rI,fillOpacity:wy,strokeOpacity:wy,numOctaves:rI};function Nk(e,t,r,s){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const p=t[h];if(eW(h)){i[h]=p;continue}const f=rW[h],x=j8e(p,f);if(ip.has(h)){if(c=!0,o[h]=x,!d)continue;p!==(f.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=x):a[h]=x}if(t.transform||(c||s?a.transform=b8e(e.transform,r,d,s):a.transform&&(a.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;a.transformOrigin=`${h} ${p} ${f}`}}const _k=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nW(e,t,r){for(const s in t)!eo(t[s])&&!QV(s,r)&&(e[s]=t[s])}function A8e({transformTemplate:e},t,r){return _.useMemo(()=>{const s=_k();return Nk(s,t,{enableHardwareAcceleration:!r},e),Object.assign({},s.vars,s.style)},[t])}function k8e(e,t,r){const s=e.style||{},a={};return nW(a,s,e),Object.assign(a,A8e(e,t,r)),e.transformValues?e.transformValues(a):a}function C8e(e,t,r){const s={},a=k8e(e,t,r);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const P8e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P8e.has(e)}let sW=e=>!kw(e);function E8e(e){e&&(sW=t=>t.startsWith("on")?!kw(t):e(t))}try{E8e(require("@emotion/is-prop-valid").default)}catch{}function T8e(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(sW(a)||r===!0&&kw(a)||!t&&!kw(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function nI(e,t,r){return typeof e=="string"?e:nr.transform(t+r*e)}function O8e(e,t,r){const s=nI(t,e.x,e.width),a=nI(r,e.y,e.height);return`${s} ${a}`}const L8e={offset:"stroke-dashoffset",array:"stroke-dasharray"},I8e={offset:"strokeDashoffset",array:"strokeDasharray"};function M8e(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?L8e:I8e;e[i.offset]=nr.transform(-s);const o=nr.transform(t),l=nr.transform(r);e[i.array]=`${o} ${l}`}function Sk(e,{attrX:t,attrY:r,attrScale:s,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h,p){if(Nk(e,u,d,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:x,dimensions:g}=e;f.transform&&(g&&(x.transform=f.transform),delete f.transform),g&&(a!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=O8e(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),o!==void 0&&M8e(f,o,l,c,!1)}const aW=()=>({..._k(),attrs:{}}),Ak=e=>typeof e=="string"&&e.toLowerCase()==="svg";function D8e(e,t,r,s){const a=_.useMemo(()=>{const i=aW();return Sk(i,t,{enableHardwareAcceleration:!1},Ak(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nW(i,e.style,e),a.style={...i,...a.style}}return a}function R8e(e=!1){return(r,s,a,{latestValues:i},o)=>{const c=(jk(r)?D8e:C8e)(s,i,o,r),d={...T8e(s,typeof r=="string",e),...c,ref:a},{children:h}=s,p=_.useMemo(()=>eo(h)?h.get():h,[h]);return _.createElement(r,{...d,children:p})}}function iW(e,{style:t,vars:r},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const i in r)e.style.setProperty(i,r[i])}const oW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lW(e,t,r,s){iW(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(oW.has(a)?a:yk(a),t.attrs[a])}function kk(e,t){const{style:r}=e,s={};for(const a in r)(eo(r[a])||t.style&&eo(t.style[a])||QV(a,e))&&(s[a]=r[a]);return s}function cW(e,t){const r=kk(e,t);for(const s in e)if(eo(e[s])||eo(t[s])){const a=Gv.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function Ck(e,t,r,s={},a={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,s,a)),t}function uW(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Cw=e=>Array.isArray(e),F8e=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),$8e=e=>Cw(e)?e[e.length-1]||0:e;function B1(e){const t=eo(e)?e.get():e;return F8e(t)?t.toValue():t}function B8e({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},s,a,i){const o={latestValues:z8e(s,a,i,e),renderState:t()};return r&&(o.mount=l=>r(s,l,o)),o}const dW=e=>(t,r)=>{const s=_.useContext(iN),a=_.useContext(oN),i=()=>B8e(e,t,s,a);return r?i():uW(i)};function z8e(e,t,r,s){const a={},i=s(e,{});for(const p in i)a[p]=B1(i[p]);let{initial:o,animate:l}=e;const c=uN(e),u=ZV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;return h&&typeof h!="boolean"&&!cN(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const x=Ck(e,f);if(!x)return;const{transitionEnd:g,transition:v,...b}=x;for(const j in b){let N=b[j];if(Array.isArray(N)){const A=d?N.length-1:0;N=N[A]}N!==null&&(a[j]=N)}for(const j in g)a[j]=g[j]}),a}const Vs=e=>e;class sI{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function U8e(e){let t=new sI,r=new sI,s=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&a,p=h?t:r;return u&&o.add(c),p.add(c)&&h&&a&&(s=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.clear(),s=t.order.length,s)for(let u=0;u<s;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const h1=["prepare","read","update","preRender","render","postRender"],q8e=40;function V8e(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=h1.reduce((h,p)=>(h[p]=U8e(()=>r=!0),h),{}),o=h=>i[h].process(a),l=()=>{const h=performance.now();r=!1,a.delta=s?1e3/60:Math.max(Math.min(h-a.timestamp,q8e),1),a.timestamp=h,a.isProcessing=!0,h1.forEach(o),a.isProcessing=!1,r&&t&&(s=!1,e(l))},c=()=>{r=!0,s=!0,a.isProcessing||e(l)};return{schedule:h1.reduce((h,p)=>{const f=i[p];return h[p]=(x,g=!1,v=!1)=>(r||c(),f.schedule(x,g,v)),h},{}),cancel:h=>h1.forEach(p=>i[p].cancel(h)),state:a,steps:i}}const{schedule:Un,cancel:ld,state:ui,steps:c_}=V8e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0),W8e={useVisualState:dW({scrapeMotionValuesFromProps:cW,createRenderState:aW,onMount:(e,t,{renderState:r,latestValues:s})=>{Un.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{Sk(r,s,{enableHardwareAcceleration:!1},Ak(t.tagName),e.transformTemplate),lW(t,r)})}})},H8e={useVisualState:dW({scrapeMotionValuesFromProps:kk,createRenderState:_k})};function G8e(e,{forwardMotionProps:t=!1},r,s){return{...jk(e)?W8e:H8e,preloadedFeatures:r,useRender:R8e(t),createVisualElement:s,Component:e}}function Gu(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}const hW=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function hN(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const K8e=e=>t=>hW(t)&&e(t,hN(t));function Qu(e,t,r,s){return Gu(e,t,K8e(r),s)}const Y8e=(e,t)=>r=>t(e(r)),$h=(...e)=>e.reduce(Y8e);function fW(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const aI=fW("dragHorizontal"),iI=fW("dragVertical");function mW(e){let t=!1;if(e==="y")t=iI();else if(e==="x")t=aI();else{const r=aI(),s=iI();r&&s?t=()=>{r(),s()}:(r&&r(),s&&s())}return t}function pW(){const e=mW(!0);return e?(e(),!1):!0}class lf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function oI(e,t){const r="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||pW())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&Un.update(()=>l[s](i,o))};return Qu(e.current,r,a,{passive:!e.getProps()[s]})}class Z8e extends lf{mount(){this.unmount=$h(oI(this.node,!0),oI(this.node,!1))}unmount(){}}class X8e extends lf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$h(Gu(this.node.current,"focus",()=>this.onFocus()),Gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const gW=(e,t)=>t?e===t?!0:gW(e,t.parentElement):!1;function u_(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,hN(r))}class Q8e extends lf{constructor(){super(...arguments),this.removeStartListeners=Vs,this.removeEndListeners=Vs,this.removeAccessibleListeners=Vs,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=Qu(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Un.update(()=>{!h&&!gW(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=Qu(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=$h(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||u_("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Un.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Gu(this.node.current,"keyup",o),u_("down",(l,c)=>{this.startPress(l,c)})},r=Gu(this.node.current,"keydown",t),s=()=>{this.isPressing&&u_("cancel",(i,o)=>this.cancelPress(i,o))},a=Gu(this.node.current,"blur",s);this.removeAccessibleListeners=$h(r,a)}}startPress(t,r){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Un.update(()=>s(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pW()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Un.update(()=>s(t,r))}mount(){const t=this.node.getProps(),r=Qu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Gu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$h(r,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const IA=new WeakMap,d_=new WeakMap,J8e=e=>{const t=IA.get(e.target);t&&t(e)},eLe=e=>{e.forEach(J8e)};function tLe({root:e,...t}){const r=e||document;d_.has(r)||d_.set(r,{});const s=d_.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(eLe,{root:e,...t})),s[a]}function rLe(e,t,r){const s=tLe(t);return IA.set(e,r),s.observe(e),()=>{IA.delete(e),s.unobserve(e)}}const nLe={some:0,all:1};class sLe extends lf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:nLe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return rLe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(aLe(t,r))&&this.startObserver()}unmount(){}}function aLe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const iLe={inView:{Feature:sLe},tap:{Feature:Q8e},focus:{Feature:X8e},hover:{Feature:Z8e}};function xW(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}function oLe(e){const t={};return e.values.forEach((r,s)=>t[s]=r.get()),t}function lLe(e){const t={};return e.values.forEach((r,s)=>t[s]=r.getVelocity()),t}function fN(e,t,r){const s=e.getProps();return Ck(s,t,r!==void 0?r:s.custom,oLe(e),lLe(e))}let Pw=Vs;const Am=e=>e*1e3,Ju=e=>e/1e3,cLe={current:!1},yW=e=>Array.isArray(e)&&typeof e[0]=="number";function vW(e){return!!(!e||typeof e=="string"&&bW[e]||yW(e)||Array.isArray(e)&&e.every(vW))}const sy=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,bW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sy([0,.65,.55,1]),circOut:sy([.55,0,1,.45]),backIn:sy([.31,.01,.66,-.59]),backOut:sy([.33,1.53,.69,.99])};function wW(e){if(e)return yW(e)?sy(e):Array.isArray(e)?e.map(wW):bW[e]}function uLe(e,t,r,{delay:s=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=wW(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function dLe(e,{repeat:t,repeatType:r="loop"}){const s=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[s]}const jW=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,hLe=1e-7,fLe=12;function mLe(e,t,r,s,a){let i,o,l=0;do o=t+(r-t)/2,i=jW(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>hLe&&++l<fLe);return o}function Zv(e,t,r,s){if(e===t&&r===s)return Vs;const a=i=>mLe(i,0,1,e,r);return i=>i===0||i===1?i:jW(a(i),t,s)}const pLe=Zv(.42,0,1,1),gLe=Zv(0,0,.58,1),NW=Zv(.42,0,.58,1),xLe=e=>Array.isArray(e)&&typeof e[0]!="number",_W=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,SW=e=>t=>1-e(1-t),Pk=e=>1-Math.sin(Math.acos(e)),AW=SW(Pk),yLe=_W(Pk),kW=Zv(.33,1.53,.69,.99),Ek=SW(kW),vLe=_W(Ek),bLe=e=>(e*=2)<1?.5*Ek(e):.5*(2-Math.pow(2,-10*(e-1))),lI={linear:Vs,easeIn:pLe,easeInOut:NW,easeOut:gLe,circIn:Pk,circInOut:yLe,circOut:AW,backIn:Ek,backInOut:vLe,backOut:kW,anticipate:bLe},cI=e=>{if(Array.isArray(e)){Pw(e.length===4);const[t,r,s,a]=e;return Zv(t,r,s,a)}else if(typeof e=="string")return Pw(lI[e]!==void 0),lI[e];return e},Tk=(e,t)=>r=>!!(Kv(r)&&N8e.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),CW=(e,t,r)=>s=>{if(!Kv(s))return s;const[a,i,o,l]=s.match(dN);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},wLe=e=>Zh(0,255,e),h_={...op,transform:e=>Math.round(wLe(e))},lm={test:Tk("rgb","red"),parse:CW("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+h_.transform(e)+", "+h_.transform(t)+", "+h_.transform(r)+", "+jy(wy.transform(s))+")"};function jLe(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const MA={test:Tk("#"),parse:jLe,transform:lm.transform},cg={test:Tk("hsl","hue"),parse:CW("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+Qc.transform(jy(t))+", "+Qc.transform(jy(r))+", "+jy(wy.transform(s))+")"},Pi={test:e=>lm.test(e)||MA.test(e)||cg.test(e),parse:e=>lm.test(e)?lm.parse(e):cg.test(e)?cg.parse(e):MA.parse(e),transform:e=>Kv(e)?e:e.hasOwnProperty("red")?lm.transform(e):cg.transform(e)},vs=(e,t,r)=>-r*e+r*t+e;function f_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function NLe({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=f_(c,l,e+1/3),i=f_(c,l,e),o=f_(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const m_=(e,t,r)=>{const s=e*e;return Math.sqrt(Math.max(0,r*(t*t-s)+s))},_Le=[MA,lm,cg],SLe=e=>_Le.find(t=>t.test(e));function uI(e){const t=SLe(e);let r=t.parse(e);return t===cg&&(r=NLe(r)),r}const PW=(e,t)=>{const r=uI(e),s=uI(t),a={...r};return i=>(a.red=m_(r.red,s.red,i),a.green=m_(r.green,s.green,i),a.blue=m_(r.blue,s.blue,i),a.alpha=vs(r.alpha,s.alpha,i),lm.transform(a))};function ALe(e){var t,r;return isNaN(e)&&Kv(e)&&(((t=e.match(dN))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(tW))===null||r===void 0?void 0:r.length)||0)>0}const EW={regex:w8e,countKey:"Vars",token:"${v}",parse:Vs},TW={regex:tW,countKey:"Colors",token:"${c}",parse:Pi.parse},OW={regex:dN,countKey:"Numbers",token:"${n}",parse:op.parse};function p_(e,{regex:t,countKey:r,token:s,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...i.map(a)))}function Ew(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&p_(r,EW),p_(r,TW),p_(r,OW),r}function LW(e){return Ew(e).values}function IW(e){const{values:t,numColors:r,numVars:s,tokenised:a}=Ew(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<s?l=l.replace(EW.token,o[c]):c<s+r?l=l.replace(TW.token,Pi.transform(o[c])):l=l.replace(OW.token,jy(o[c]));return l}}const kLe=e=>typeof e=="number"?0:e;function CLe(e){const t=LW(e);return IW(e)(t.map(kLe))}const Xh={test:ALe,parse:LW,createTransformer:IW,getAnimatableNone:CLe},MW=(e,t)=>r=>`${r>0?t:e}`;function DW(e,t){return typeof e=="number"?r=>vs(e,t,r):Pi.test(e)?PW(e,t):e.startsWith("var(")?MW(e,t):FW(e,t)}const RW=(e,t)=>{const r=[...e],s=r.length,a=e.map((i,o)=>DW(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}},PLe=(e,t)=>{const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=DW(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}},FW=(e,t)=>{const r=Xh.createTransformer(t),s=Ew(e),a=Ew(t);return s.numVars===a.numVars&&s.numColors===a.numColors&&s.numNumbers>=a.numNumbers?$h(RW(s.values,a.values),r):MW(e,t)},yv=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s},dI=(e,t)=>r=>vs(e,t,r);function ELe(e){return typeof e=="number"?dI:typeof e=="string"?Pi.test(e)?PW:FW:Array.isArray(e)?RW:typeof e=="object"?PLe:dI}function TLe(e,t,r){const s=[],a=r||ELe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Vs:t;l=$h(c,l)}s.push(l)}return s}function $W(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(Pw(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=TLe(t,s,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=yv(e[d],e[d+1],u);return o[d](h)};return r?u=>c(Zh(e[0],e[i-1],u)):c}function OLe(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=yv(0,t,s);e.push(vs(r,1,a))}}function LLe(e){const t=[0];return OLe(t,e.length-1),t}function ILe(e,t){return e.map(r=>r*t)}function MLe(e,t){return e.map(()=>t||NW).splice(0,e.length-1)}function Tw({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=xLe(s)?s.map(cI):cI(s),i={done:!1,value:t[0]},o=ILe(r&&r.length===t.length?r:LLe(t),e),l=$W(o,t,{ease:Array.isArray(a)?a:MLe(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function BW(e,t){return t?e*(1e3/t):0}const DLe=5;function zW(e,t,r){const s=Math.max(t-DLe,0);return BW(r-e(s),t-s)}const g_=.001,RLe=.01,FLe=10,$Le=.05,BLe=1;function zLe({duration:e=800,bounce:t=.25,velocity:r=0,mass:s=1}){let a,i,o=1-t;o=Zh($Le,BLe,o),e=Zh(RLe,FLe,Ju(e)),o<1?(a=u=>{const d=u*o,h=d*e,p=d-r,f=DA(u,o),x=Math.exp(-h);return g_-p/f*x},i=u=>{const h=u*o*e,p=h*r+r,f=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),g=DA(Math.pow(u,2),o);return(-a(u)+g_>0?-1:1)*((p-f)*x)/g}):(a=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-g_+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=qLe(a,i,l);if(e=Am(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const ULe=12;function qLe(e,t,r){let s=r;for(let a=1;a<ULe;a++)s=s-e(s)/t(s);return s}function DA(e,t){return e*Math.sqrt(1-t*t)}const VLe=["duration","bounce"],WLe=["stiffness","damping","mass"];function hI(e,t){return t.some(r=>e[r]!==void 0)}function HLe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!hI(e,WLe)&&hI(e,VLe)){const r=zLe(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function UW({keyframes:e,restDelta:t,restSpeed:r,...s}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=HLe({...s,velocity:-Ju(s.velocity||0)}),f=h||0,x=c/(2*Math.sqrt(l*u)),g=i-a,v=Ju(Math.sqrt(l/u)),b=Math.abs(g)<5;r||(r=b?.01:2),t||(t=b?.005:.5);let j;if(x<1){const N=DA(v,x);j=A=>{const S=Math.exp(-x*v*A);return i-S*((f+x*v*g)/N*Math.sin(N*A)+g*Math.cos(N*A))}}else if(x===1)j=N=>i-Math.exp(-v*N)*(g+(f+v*g)*N);else{const N=v*Math.sqrt(x*x-1);j=A=>{const S=Math.exp(-x*v*A),L=Math.min(N*A,300);return i-S*((f+x*v*g)*Math.sinh(L)+N*g*Math.cosh(L))/N}}return{calculatedDuration:p&&d||null,next:N=>{const A=j(N);if(p)o.done=N>=d;else{let S=f;N!==0&&(x<1?S=zW(j,N,A):S=0);const L=Math.abs(S)<=r,I=Math.abs(i-A)<=t;o.done=L&&I}return o.value=o.done?i:A,o}}}function fI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},f=k=>l!==void 0&&k<l||c!==void 0&&k>c,x=k=>l===void 0?c:c===void 0||Math.abs(l-k)<Math.abs(c-k)?l:c;let g=r*t;const v=h+g,b=o===void 0?v:o(v);b!==v&&(g=b-h);const j=k=>-g*Math.exp(-k/s),N=k=>b+j(k),A=k=>{const E=j(k),B=N(k);p.done=Math.abs(E)<=u,p.value=p.done?b:B};let S,L;const I=k=>{f(p.value)&&(S=k,L=UW({keyframes:[p.value,x(p.value)],velocity:zW(N,k,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:k=>{let E=!1;return!L&&S===void 0&&(E=!0,A(k),I(k)),S!==void 0&&k>S?L.next(k-S):(!E&&A(k),p)}}}const GLe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Un.update(t,!0),stop:()=>ld(t),now:()=>ui.isProcessing?ui.timestamp:performance.now()}},mI=2e4;function pI(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<mI;)t+=r,s=e.next(t);return t>=mI?1/0:t}const KLe={decay:fI,inertia:fI,tween:Tw,keyframes:Tw,spring:UW};function Ow({autoplay:e=!0,delay:t=0,driver:r=GLe,keyframes:s,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...p}){let f=1,x=!1,g,v;const b=()=>{v=new Promise(q=>{g=q})};b();let j;const N=KLe[a]||Tw;let A;N!==Tw&&typeof s[0]!="number"&&(A=$W([0,100],s,{clamp:!1}),s=[0,100]);const S=N({...p,keyframes:s});let L;l==="mirror"&&(L=N({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let I="idle",k=null,E=null,B=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=pI(S));const{calculatedDuration:C}=S;let O=1/0,M=1/0;C!==null&&(O=C+o,M=O*(i+1)-o);let D=0;const W=q=>{if(E===null)return;f>0&&(E=Math.min(E,q)),f<0&&(E=Math.min(q-M/f,E)),k!==null?D=k:D=Math.round(q-E)*f;const R=D-t*(f>=0?1:-1),K=f>=0?R<0:R>M;D=Math.max(R,0),I==="finished"&&k===null&&(D=M);let Z=D,se=S;if(i){const X=Math.min(D,M)/O;let me=Math.floor(X),ne=X%1;!ne&&X>=1&&(ne=1),ne===1&&me--,me=Math.min(me,i+1),!!(me%2)&&(l==="reverse"?(ne=1-ne,o&&(ne-=o/O)):l==="mirror"&&(se=L)),Z=Zh(0,1,ne)*O}const ue=K?{done:!1,value:s[0]}:se.next(Z);A&&(ue.value=A(ue.value));let{done:ae}=ue;!K&&C!==null&&(ae=f>=0?D>=M:D<=0);const xe=k===null&&(I==="finished"||I==="running"&&ae);return h&&h(ue.value),xe&&V(),ue},z=()=>{j&&j.stop(),j=void 0},G=()=>{I="idle",z(),g(),b(),E=B=null},V=()=>{I="finished",d&&d(),z(),g()},Y=()=>{if(x)return;j||(j=r(W));const q=j.now();c&&c(),k!==null?E=q-k:(!E||I==="finished")&&(E=q),I==="finished"&&b(),B=E,k=null,I="running",j.start()};e&&Y();const ie={then(q,R){return v.then(q,R)},get time(){return Ju(D)},set time(q){q=Am(q),D=q,k!==null||!j||f===0?k=q:E=j.now()-q/f},get duration(){const q=S.calculatedDuration===null?pI(S):S.calculatedDuration;return Ju(q)},get speed(){return f},set speed(q){q===f||!j||(f=q,ie.time=Ju(D))},get state(){return I},play:Y,pause:()=>{I="paused",k=D},stop:()=>{x=!0,I!=="idle"&&(I="idle",u&&u(),G())},cancel:()=>{B!==null&&W(B),G()},complete:()=>{I="finished"},sample:q=>(E=0,W(q))};return ie}function YLe(e){let t;return()=>(t===void 0&&(t=e()),t)}const ZLe=YLe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),XLe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),f1=10,QLe=2e4,JLe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!vW(t.ease);function eIe(e,t,{onUpdate:r,onComplete:s,...a}){if(!(ZLe()&&XLe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(N=>{l=N})};d();let{keyframes:h,duration:p=300,ease:f,times:x}=a;if(JLe(t,a)){const N=Ow({...a,repeat:0,delay:0});let A={done:!1,value:h[0]};const S=[];let L=0;for(;!A.done&&L<QLe;)A=N.sample(L),S.push(A.value),L+=f1;x=void 0,h=S,p=L-f1,f="linear"}const g=uLe(e.owner.current,t,h,{...a,duration:p,ease:f,times:x}),v=()=>{u=!1,g.cancel()},b=()=>{u=!0,Un.update(v),l(),d()};return g.onfinish=()=>{u||(e.set(dLe(h,a)),s&&s(),b())},{then(N,A){return c.then(N,A)},attachTimeline(N){return g.timeline=N,g.onfinish=null,Vs},get time(){return Ju(g.currentTime||0)},set time(N){g.currentTime=Am(N)},get speed(){return g.playbackRate},set speed(N){g.playbackRate=N},get duration(){return Ju(p)},play:()=>{o||(g.play(),ld(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:N}=g;if(N){const A=Ow({...a,autoplay:!1});e.setWithVelocity(A.sample(N-f1).value,A.sample(N).value,f1)}b()},complete:()=>{u||g.finish()},cancel:b}}function tIe({keyframes:e,delay:t,onUpdate:r,onComplete:s}){const a=()=>(r&&r(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Vs,pause:Vs,stop:Vs,then:i=>(i(),Promise.resolve()),cancel:Vs,complete:Vs});return t?Ow({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const rIe={type:"spring",stiffness:500,damping:25,restSpeed:10},nIe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sIe={type:"keyframes",duration:.8},aIe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iIe=(e,{keyframes:t})=>t.length>2?sIe:ip.has(e)?e.startsWith("scale")?nIe(t[1]):rIe:aIe,RA=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xh.test(t)||t==="0")&&!t.startsWith("url(")),oIe=new Set(["brightness","contrast","saturate","opacity"]);function lIe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(dN)||[];if(!s)return e;const a=r.replace(s,"");let i=oIe.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const cIe=/([a-z-]*)\(.*?\)/g,FA={...Xh,getAnimatableNone:e=>{const t=e.match(cIe);return t?t.map(lIe).join(" "):e}},uIe={...rW,color:Pi,backgroundColor:Pi,outlineColor:Pi,fill:Pi,stroke:Pi,borderColor:Pi,borderTopColor:Pi,borderRightColor:Pi,borderBottomColor:Pi,borderLeftColor:Pi,filter:FA,WebkitFilter:FA},Ok=e=>uIe[e];function qW(e,t){let r=Ok(e);return r!==FA&&(r=Xh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const VW=e=>/^0[^.\s]+$/.test(e);function dIe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||VW(e)}function hIe(e,t,r,s){const a=RA(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),dIe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=qW(t,l)}return i}function fIe({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Lk(e,t){return e[t]||e.default||e}const mIe={skipAnimations:!1},Ik=(e,t,r,s={})=>a=>{const i=Lk(s,e)||{},o=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Am(o);const c=hIe(t,e,r,i),u=c[0],d=c[c.length-1],h=RA(e,u),p=RA(e,d);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:x=>{t.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(fIe(i)||(f={...f,...iIe(e,f)}),f.duration&&(f.duration=Am(f.duration)),f.repeatDelay&&(f.repeatDelay=Am(f.repeatDelay)),!h||!p||cLe.current||i.type===!1||mIe.skipAnimations)return tIe(f);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=eIe(t,e,f);if(x)return x}return Ow(f)};function Lw(e){return!!(eo(e)&&e.add)}const WW=e=>/^\-?\d*\.?\d+$/.test(e);function Mk(e,t){e.indexOf(t)===-1&&e.push(t)}function Dk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Rk{constructor(){this.subscriptions=[]}add(t){return Mk(this.subscriptions,t),()=>Dk(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pIe=e=>!isNaN(parseFloat(e));class gIe{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,a=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=ui;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=pIe(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Rk);const s=this.events[t].add(r);return t==="change"?()=>{s(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,s){this.set(r),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jx(e,t){return new gIe(e,t)}const HW=e=>t=>t.test(e),xIe={test:e=>e==="auto",parse:e=>e},GW=[op,nr,Qc,uh,S8e,_8e,xIe],G0=e=>GW.find(HW(e)),yIe=[...GW,Pi,Xh],vIe=e=>yIe.find(HW(e));function bIe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,jx(r))}function wIe(e,t){const r=fN(e,t);let{transitionEnd:s={},transition:a={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...s};for(const o in i){const l=$8e(i[o]);bIe(e,o,l)}}function jIe(e,t,r){var s,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(s=r[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(WW(d)||VW(d))?d=parseFloat(d):!vIe(d)&&Xh.test(u)&&(d=qW(c,u)),e.addValue(c,jx(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function NIe(e,t){return t?(t[e]||t.default||t).from:void 0}function _Ie(e,t,r){const s={};for(const a in e){const i=NIe(a,t);if(i!==void 0)s[a]=i;else{const o=r.getValue(a);o&&(s[a]=o.get())}}return s}function SIe({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function AIe(e,t){const r=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}else return r!==t}function KW(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(i=s);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const h in l){const p=e.getValue(h),f=l[h];if(!p||f===void 0||d&&SIe(d,h))continue;const x={delay:r,elapsed:0,...Lk(i||{},h)};if(window.HandoffAppearAnimations){const b=e.getProps()[YV];if(b){const j=window.HandoffAppearAnimations(b,h,p,Un);j!==null&&(x.elapsed=j,x.isHandoff=!0)}}let g=!x.isHandoff&&!AIe(p,f);if(x.type==="spring"&&(p.getVelocity()||x.velocity)&&(g=!1),p.animation&&(g=!1),g)continue;p.start(Ik(h,p,f,e.shouldReduceMotion&&ip.has(h)?{type:!1}:x));const v=p.animation;Lw(c)&&(c.add(h),v.then(()=>c.remove(h))),u.push(v)}return o&&Promise.all(u).then(()=>{o&&wIe(e,o)}),u}function $A(e,t,r={}){const s=fN(e,t,r.custom);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(KW(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=a;return kIe(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function kIe(e,t,r=0,s=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=a===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(CIe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push($A(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function CIe(e,t){return e.sortNodePosition(t)}function PIe(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>$A(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=$A(e,t,r);else{const a=typeof t=="function"?fN(e,t,r.custom):t;s=Promise.all(KW(e,a,r))}return s.then(()=>e.notify("AnimationComplete",t))}const EIe=[...vk].reverse(),TIe=vk.length;function OIe(e){return t=>Promise.all(t.map(({animation:r,options:s})=>PIe(e,r,s)))}function LIe(e){let t=OIe(e);const r=MIe();let s=!0;const a=(c,u)=>{const d=fN(e,u);if(d){const{transition:h,transitionEnd:p,...f}=d;c={...c,...f,...p}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},p=[],f=new Set;let x={},g=1/0;for(let b=0;b<TIe;b++){const j=EIe[b],N=r[j],A=d[j]!==void 0?d[j]:h[j],S=gv(A),L=j===u?N.isActive:null;L===!1&&(g=b);let I=A===h[j]&&A!==d[j]&&S;if(I&&s&&e.manuallyAnimateOnMount&&(I=!1),N.protectedKeys={...x},!N.isActive&&L===null||!A&&!N.prevProp||cN(A)||typeof A=="boolean")continue;let E=IIe(N.prevProp,A)||j===u&&N.isActive&&!I&&S||b>g&&S,B=!1;const C=Array.isArray(A)?A:[A];let O=C.reduce(a,{});L===!1&&(O={});const{prevResolvedValues:M={}}=N,D={...M,...O},W=z=>{E=!0,f.has(z)&&(B=!0,f.delete(z)),N.needsAnimating[z]=!0};for(const z in D){const G=O[z],V=M[z];if(x.hasOwnProperty(z))continue;let Y=!1;Cw(G)&&Cw(V)?Y=!xW(G,V):Y=G!==V,Y?G!==void 0?W(z):f.add(z):G!==void 0&&f.has(z)?W(z):N.protectedKeys[z]=!0}N.prevProp=A,N.prevResolvedValues=O,N.isActive&&(x={...x,...O}),s&&e.blockInitialAnimation&&(E=!1),E&&(!I||B)&&p.push(...C.map(z=>({animation:z,options:{type:j,...c}})))}if(f.size){const b={};f.forEach(j=>{const N=e.getBaseTarget(j);N!==void 0&&(b[j]=N)}),p.push({animation:b})}let v=!!p.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),s=!1,v?t(p):Promise.resolve()}function l(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var x;return(x=f.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),r[c].isActive=u;const p=o(d,c);for(const f in r)r[f].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r}}function IIe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!xW(t,e):!1}function Uf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MIe(){return{animate:Uf(!0),whileInView:Uf(),whileHover:Uf(),whileTap:Uf(),whileDrag:Uf(),whileFocus:Uf(),exit:Uf()}}class DIe extends lf{constructor(t){super(t),t.animationState||(t.animationState=LIe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),cN(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let RIe=0;class FIe extends lf{constructor(){super(...arguments),this.id=RIe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const $Ie={animation:{Feature:DIe},exit:{Feature:FIe}},gI=(e,t)=>Math.abs(e-t);function BIe(e,t){const r=gI(e.x,t.x),s=gI(e.y,t.y);return Math.sqrt(r**2+s**2)}class YW{constructor(t,r,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=y_(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,f=BIe(h.offset,{x:0,y:0})>=3;if(!p&&!f)return;const{point:x}=h,{timestamp:g}=ui;this.history.push({...x,timestamp:g});const{onStart:v,onMove:b}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=x_(p,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=y_(h.type==="pointercancel"?this.lastMoveEventInfo:x_(p,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),x&&x(h,v)},!hW(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.contextWindow=a||window;const o=hN(t),l=x_(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ui;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,y_(l,this.history)),this.removeListeners=$h(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ld(this.updatePoint)}}function x_(e,t){return t?{point:t(e.point)}:e}function xI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y_({point:e},t){return{point:e,delta:xI(e,ZW(t)),offset:xI(e,zIe(t)),velocity:UIe(t,.1)}}function zIe(e){return e[0]}function ZW(e){return e[e.length-1]}function UIe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=ZW(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>Am(t)));)r--;if(!s)return{x:0,y:0};const i=Ju(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zo(e){return e.max-e.min}function BA(e,t=0,r=.01){return Math.abs(e-t)<=r}function yI(e,t,r,s=.5){e.origin=s,e.originPoint=vs(t.min,t.max,e.origin),e.scale=zo(r)/zo(t),(BA(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=vs(r.min,r.max,e.origin)-e.originPoint,(BA(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ny(e,t,r,s){yI(e.x,t.x,r.x,s?s.originX:void 0),yI(e.y,t.y,r.y,s?s.originY:void 0)}function vI(e,t,r){e.min=r.min+t.min,e.max=e.min+zo(t)}function qIe(e,t,r){vI(e.x,t.x,r.x),vI(e.y,t.y,r.y)}function bI(e,t,r){e.min=t.min-r.min,e.max=e.min+zo(t)}function _y(e,t,r){bI(e.x,t.x,r.x),bI(e.y,t.y,r.y)}function VIe(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?vs(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?vs(r,e,s.max):Math.min(e,r)),e}function wI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function WIe(e,{top:t,left:r,bottom:s,right:a}){return{x:wI(e.x,r,a),y:wI(e.y,t,s)}}function jI(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function HIe(e,t){return{x:jI(e.x,t.x),y:jI(e.y,t.y)}}function GIe(e,t){let r=.5;const s=zo(e),a=zo(t);return a>s?r=yv(t.min,t.max-s,e.min):s>a&&(r=yv(e.min,e.max-a,t.min)),Zh(0,1,r)}function KIe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const zA=.35;function YIe(e=zA){return e===!1?e=0:e===!0&&(e=zA),{x:NI(e,"left","right"),y:NI(e,"top","bottom")}}function NI(e,t,r){return{min:_I(e,t),max:_I(e,r)}}function _I(e,t){return typeof e=="number"?e:e[t]||0}const SI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ug=()=>({x:SI(),y:SI()}),AI=()=>({min:0,max:0}),Qs=()=>({x:AI(),y:AI()});function il(e){return[e("x"),e("y")]}function XW({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function ZIe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XIe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function v_(e){return e===void 0||e===1}function UA({scale:e,scaleX:t,scaleY:r}){return!v_(e)||!v_(t)||!v_(r)}function Gf(e){return UA(e)||QW(e)||e.z||e.rotate||e.rotateX||e.rotateY}function QW(e){return kI(e.x)||kI(e.y)}function kI(e){return e&&e!=="0%"}function Iw(e,t,r){const s=e-r,a=t*s;return r+a}function CI(e,t,r,s,a){return a!==void 0&&(e=Iw(e,a,s)),Iw(e,r,s)+t}function qA(e,t=0,r=1,s,a){e.min=CI(e.min,t,r,s,a),e.max=CI(e.max,t,r,s,a)}function JW(e,{x:t,y:r}){qA(e.x,t.translate,t.scale,t.originPoint),qA(e.y,r.translate,r.scale,r.originPoint)}function QIe(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&dg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,JW(e,o)),s&&Gf(i.latestValues)&&dg(e,i.latestValues))}t.x=PI(t.x),t.y=PI(t.y)}function PI(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fh(e,t){e.min=e.min+t,e.max=e.max+t}function EI(e,t,[r,s,a]){const i=t[a]!==void 0?t[a]:.5,o=vs(e.min,e.max,i);qA(e,t[r],t[s],o,t.scale)}const JIe=["x","scaleX","originX"],eMe=["y","scaleY","originY"];function dg(e,t){EI(e.x,t,JIe),EI(e.y,t,eMe)}function eH(e,t){return XW(XIe(e.getBoundingClientRect(),t))}function tMe(e,t,r){const s=eH(e,r),{scroll:a}=t;return a&&(fh(s.x,a.offset.x),fh(s.y,a.offset.y)),s}const tH=({current:e})=>e?e.ownerDocument.defaultView:null,rMe=new WeakMap;class nMe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qs(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(hN(d,"page").point)},i=(d,h)=>{const{drag:p,dragPropagation:f,onDragStart:x}=this.getProps();if(p&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mW(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),il(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Qc.test(b)){const{projection:j}=this.visualElement;if(j&&j.layout){const N=j.layout.layoutBox[v];N&&(b=zo(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),x&&Un.update(()=>x(d,h),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:f,onDirectionLock:x,onDrag:g}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=sMe(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>this.stop(d,h),c=()=>il(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YW(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tH(this.visualElement)})}stop(t,r){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Un.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!m1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=VIe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&lg(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=WIe(a.layoutBox,r):this.constraints=!1,this.elastic=YIe(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&il(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=KIe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!lg(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=tMe(s,a.root,this.visualElement.getTransformPagePoint());let o=HIe(a.layout.layoutBox,i);if(r){const l=r(ZIe(o));this.hasMutatedConstraints=!!l,l&&(o=XW(l))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=il(d=>{if(!m1(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const p=a?200:1e6,f=a?40:1e7,x={type:"inertia",velocity:s?t[d]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return s.start(Ik(t,s,0,r))}stopAnimation(){il(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){il(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){il(r=>{const{drag:s}=this.getProps();if(!m1(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-vs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!lg(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};il(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=GIe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),il(o=>{if(!m1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(vs(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;rMe.set(this.visualElement,this);const t=this.visualElement.current,r=Qu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();lg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),s();const o=Gu(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(il(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=zA,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function m1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function sMe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class aMe extends lf{constructor(t){super(t),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new nMe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const TI=e=>(t,r)=>{e&&Un.update(()=>e(t,r))};class iMe extends lf{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(t){this.session=new YW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:TI(t),onStart:TI(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Un.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function oMe(){const e=_.useContext(oN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=_.useId();return _.useEffect(()=>s(a),[]),!t&&r?[!1,()=>r&&r(a)]:[!0]}const z1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const K0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nr.test(e))e=parseFloat(e);else return e;const r=OI(e,t.target.x),s=OI(e,t.target.y);return`${r}% ${s}%`}},lMe={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Xh.parse(e);if(a.length>5)return s;const i=Xh.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=vs(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class cMe extends ye.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;x8e(uMe),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),z1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Un.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rH(e){const[t,r]=oMe(),s=_.useContext(wk);return ye.createElement(cMe,{...e,layoutGroup:s,switchLayoutGroup:_.useContext(XV),isPresent:t,safeToRemove:r})}const uMe={borderRadius:{...K0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:K0,borderTopRightRadius:K0,borderBottomLeftRadius:K0,borderBottomRightRadius:K0,boxShadow:lMe},nH=["TopLeft","TopRight","BottomLeft","BottomRight"],dMe=nH.length,LI=e=>typeof e=="string"?parseFloat(e):e,II=e=>typeof e=="number"||nr.test(e);function hMe(e,t,r,s,a,i){a?(e.opacity=vs(0,r.opacity!==void 0?r.opacity:1,fMe(s)),e.opacityExit=vs(t.opacity!==void 0?t.opacity:1,0,mMe(s))):i&&(e.opacity=vs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,s));for(let o=0;o<dMe;o++){const l=`border${nH[o]}Radius`;let c=MI(t,l),u=MI(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||II(c)===II(u)?(e[l]=Math.max(vs(LI(c),LI(u),s),0),(Qc.test(u)||Qc.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=vs(t.rotate||0,r.rotate||0,s))}function MI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fMe=sH(0,.5,AW),mMe=sH(.5,.95,Vs);function sH(e,t,r){return s=>s<e?0:s>t?1:r(yv(e,t,s))}function DI(e,t){e.min=t.min,e.max=t.max}function al(e,t){DI(e.x,t.x),DI(e.y,t.y)}function RI(e,t,r,s,a){return e-=t,e=Iw(e,1/r,s),a!==void 0&&(e=Iw(e,1/a,s)),e}function pMe(e,t=0,r=1,s=.5,a,i=e,o=e){if(Qc.test(t)&&(t=parseFloat(t),t=vs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=vs(i.min,i.max,s);e===i&&(l-=t),e.min=RI(e.min,t,r,l,a),e.max=RI(e.max,t,r,l,a)}function FI(e,t,[r,s,a],i,o){pMe(e,t[r],t[s],t[a],t.scale,i,o)}const gMe=["x","scaleX","originX"],xMe=["y","scaleY","originY"];function $I(e,t,r,s){FI(e.x,t,gMe,r?r.x:void 0,s?s.x:void 0),FI(e.y,t,xMe,r?r.y:void 0,s?s.y:void 0)}function BI(e){return e.translate===0&&e.scale===1}function aH(e){return BI(e.x)&&BI(e.y)}function yMe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function iH(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function zI(e){return zo(e.x)/zo(e.y)}class vMe{constructor(){this.members=[]}add(t){Mk(this.members,t),t.scheduleRender()}remove(t){if(Dk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UI(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(s=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const bMe=(e,t)=>e.depth-t.depth;class wMe{constructor(){this.children=[],this.isDirty=!1}add(t){Mk(this.children,t),this.isDirty=!0}remove(t){Dk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(bMe),this.isDirty=!1,this.children.forEach(t)}}function jMe(e,t){const r=performance.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(ld(s),e(i-t))};return Un.read(s,!0),()=>ld(s)}function NMe(e){window.MotionDebug&&window.MotionDebug.record(e)}function _Me(e){return e instanceof SVGElement&&e.tagName!=="svg"}function SMe(e,t,r){const s=eo(e)?e:jx(e);return s.start(Ik("",s,t,r)),s.animation}const qI=["","X","Y","Z"],AMe={visibility:"hidden"},VI=1e3;let kMe=0;const Kf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function oH({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=t?.()){this.id=kMe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kf.totalNodes=Kf.resolvedTargetDeltas=Kf.recalculatedProjection=0,this.nodes.forEach(EMe),this.nodes.forEach(MMe),this.nodes.forEach(DMe),this.nodes.forEach(TMe),NMe(Kf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wMe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Rk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_Me(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jMe(p,250),z1.hasAnimatedSinceResize&&(z1.hasAnimatedSinceResize=!1,this.nodes.forEach(HI))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||zMe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=d.getProps(),j=!this.targetLayout||!iH(this.targetLayout,x)||f,N=!p&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||p&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const A={...Lk(g,"layout"),onPlay:v,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else p||HI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ld(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RMe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WI);return}this.isUpdating||this.nodes.forEach(LMe),this.isUpdating=!1,this.nodes.forEach(IMe),this.nodes.forEach(CMe),this.nodes.forEach(PMe),this.clearAllSnapshots();const l=performance.now();ui.delta=Zh(0,1e3/60,l-ui.timestamp),ui.timestamp=l,ui.isProcessing=!0,c_.update.process(ui),c_.preRender.process(ui),c_.render.process(ui),ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(OMe),this.sharedNodes.forEach(FMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!aH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Gf(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),UMe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Qs();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(fh(l.x,c.offset.x),fh(l.y,c.offset.y)),l}removeElementScroll(o){const l=Qs();al(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){al(l,o);const{scroll:p}=this.root;p&&(fh(l.x,-p.offset.x),fh(l.y,-p.offset.y))}fh(l.x,d.offset.x),fh(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Qs();al(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&dg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gf(d.latestValues)&&dg(c,d.latestValues)}return Gf(this.latestValues)&&dg(c,this.latestValues),c}removeTransform(o){const l=Qs();al(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gf(u.latestValues))continue;UA(u.latestValues)&&u.updateSnapshot();const d=Qs(),h=u.measurePageBox();al(d,h),$I(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gf(this.latestValues)&&$I(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ui.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),_y(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qs(),this.targetWithTransforms=Qs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qIe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):al(this.target,this.layout.layoutBox),JW(this.target,this.targetDelta)):al(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),_y(this.relativeTargetOrigin,this.target,f.target),al(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||UA(this.parent.latestValues)||QW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ui.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;al(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;QIe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:x}=l;if(!x){this.projectionTransform&&(this.projectionDelta=ug(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ug(),this.projectionDeltaWithTransform=ug());const g=this.projectionTransform;Ny(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=UI(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Kf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ug();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Qs(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=f!==x,v=this.getStack(),b=!v||v.members.length<=1,j=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(BMe));this.animationProgress=0;let N;this.mixTargetDelta=A=>{const S=A/1e3;GI(h.x,o.x,S),GI(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_y(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$Me(this.relativeTarget,this.relativeTargetOrigin,p,S),N&&yMe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Qs()),al(N,this.relativeTarget)),g&&(this.animationValues=d,hMe(d,u,this.latestValues,S,j,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ld(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{z1.hasAnimatedSinceResize=!0,this.currentAnimation=SMe(0,VI,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&lH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qs();const h=zo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const p=zo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}al(l,c),dg(l,d),Ny(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new vMe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<qI.length;d++){const h="rotate"+qI[d];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AMe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=B1(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=B1(o?.pointerEvents)||""),this.hasProjected&&!Gf(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=UI(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:f,y:x}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in Aw){if(p[g]===void 0)continue;const{correct:v,applyTo:b}=Aw[g],j=u.transform==="none"?p[g]:v(p[g],h);if(b){const N=b.length;for(let A=0;A<N;A++)u[b[A]]=j}else u[g]=j}return this.options.layoutId&&(u.pointerEvents=h===this?B1(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(WI),this.root.sharedNodes.clear()}}}function CMe(e){e.updateLayout()}function PMe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?il(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=zo(p);p.min=s[h].min,p.max=p.min+f}):lH(i,r.layoutBox,s)&&il(h=>{const p=o?r.measuredBox[h]:r.layoutBox[h],f=zo(s[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=ug();Ny(l,s,r.layoutBox);const c=ug();o?Ny(c,e.applyTransform(a,!0),r.measuredBox):Ny(c,s,r.layoutBox);const u=!aH(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const x=Qs();_y(x,r.layoutBox,p.layoutBox);const g=Qs();_y(g,s,f.layoutBox),iH(x,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function EMe(e){Kf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function TMe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OMe(e){e.clearSnapshot()}function WI(e){e.clearMeasurements()}function LMe(e){e.isLayoutDirty=!1}function IMe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function HI(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MMe(e){e.resolveTargetDelta()}function DMe(e){e.calcProjection()}function RMe(e){e.resetRotation()}function FMe(e){e.removeLeadSnapshot()}function GI(e,t,r){e.translate=vs(t.translate,0,r),e.scale=vs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function KI(e,t,r,s){e.min=vs(t.min,r.min,s),e.max=vs(t.max,r.max,s)}function $Me(e,t,r,s){KI(e.x,t.x,r.x,s),KI(e.y,t.y,r.y,s)}function BMe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zMe={duration:.45,ease:[.4,0,.1,1]},YI=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),ZI=YI("applewebkit/")&&!YI("chrome/")?Math.round:Vs;function XI(e){e.min=ZI(e.min),e.max=ZI(e.max)}function UMe(e){XI(e.x),XI(e.y)}function lH(e,t,r){return e==="position"||e==="preserve-aspect"&&!BA(zI(t),zI(r),.2)}const qMe=oH({attachResizeListener:(e,t)=>Gu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),b_={current:void 0},cH=oH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!b_.current){const e=new qMe({});e.mount(window),e.setOptions({layoutScroll:!0}),b_.current=e}return b_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),VMe={pan:{Feature:iMe},drag:{Feature:aMe,ProjectionNode:cH,MeasureLayout:rH}},WMe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function HMe(e){const t=WMe.exec(e);if(!t)return[,];const[,r,s]=t;return[r,s]}function VA(e,t,r=1){const[s,a]=HMe(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return WW(o)?parseFloat(o):o}else return LA(a)?VA(a,t,r+1):a}function GMe(e,{...t},r){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(a=>{const i=a.get();if(!LA(i))return;const o=VA(i,s);o&&a.set(o)});for(const a in t){const i=t[a];if(!LA(i))continue;const o=VA(i,s);o&&(t[a]=o,r||(r={}),r[a]===void 0&&(r[a]=i))}return{target:t,transitionEnd:r}}const KMe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),uH=e=>KMe.has(e),YMe=e=>Object.keys(e).some(uH),QI=e=>e===op||e===nr,JI=(e,t)=>parseFloat(e.split(", ")[t]),eM=(e,t)=>(r,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return JI(a[1],t);{const i=s.match(/^matrix\((.+)\)$/);return i?JI(i[1],e):0}},ZMe=new Set(["x","y","z"]),XMe=Gv.filter(e=>!ZMe.has(e));function QMe(e){const t=[];return XMe.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Nx={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:eM(4,13),y:eM(5,14)};Nx.translateX=Nx.x;Nx.translateY=Nx.y;const JMe=(e,t,r)=>{const s=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{l[u]=Nx[u](s,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=Nx[u](c,i)}),e},eDe=(e,t,r={},s={})=>{t={...t},s={...s};const a=Object.keys(t).filter(uH);let i=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=G0(d);const p=t[c];let f;if(Cw(p)){const x=p.length,g=p[0]===null?1:0;d=p[g],h=G0(d);for(let v=g;v<x&&p[v]!==null;v++)f?Pw(G0(p[v])===f):f=G0(p[v])}else f=G0(p);if(h!==f)if(QI(h)&&QI(f)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&f===nr&&(t[c]=p.map(parseFloat))}else h?.transform&&f?.transform&&(d===0||p===0)?d===0?u.set(f.transform(d)):t[c]=h.transform(p):(o||(i=QMe(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],u.jump(p))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=JMe(t,e,l);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),lN&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:t,transitionEnd:s}};function tDe(e,t,r,s){return YMe(t)?eDe(e,t,r,s):{target:t,transitionEnd:s}}const rDe=(e,t,r,s)=>{const a=GMe(e,t,s);return t=a.target,s=a.transitionEnd,tDe(e,t,r,s)},WA={current:null},dH={current:!1};function nDe(){if(dH.current=!0,!!lN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>WA.current=e.matches;e.addListener(t),t()}else WA.current=!1}function sDe(e,t,r){const{willChange:s}=t;for(const a in t){const i=t[a],o=r[a];if(eo(i))e.addValue(a,i),Lw(s)&&s.add(a);else if(eo(o))e.addValue(a,jx(i,{owner:e})),Lw(s)&&s.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,jx(l!==void 0?l:i,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const tM=new WeakMap,hH=Object.keys(xv),aDe=hH.length,rM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iDe=bk.length;class oDe{constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=uN(r),this.isVariantNode=ZV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const p=d[h];l[h]!==void 0&&eo(p)&&(p.set(l[h],!1),Lw(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,tM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),dH.current||nDe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:WA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tM.delete(this.current),this.projection&&this.projection.unmount(),ld(this.notifyUpdate),ld(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const s=ip.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Un.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},s,a,i){let o,l;for(let c=0;c<aDe;c++){const u=hH[c],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:f}=xv[u];p&&(o=p),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:f}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&lg(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<rM.length;s++){const a=rM[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=sDe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const r={};for(let s=0;s<iDe;s++){const a=bk[s],i=this.props[a];(gv(i)||i===!1)&&(r[a]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=jx(r,{owner:this}),this.addValue(t,s)),s}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:s}=this.props,a=typeof s=="string"||typeof s=="object"?(r=Ck(this.props,s))===null||r===void 0?void 0:r[t]:void 0;if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!eo(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Rk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class fH extends oDe{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...s},{transformValues:a},i){let o=_Ie(s,t||{},this);if(a&&(r&&(r=a(r)),s&&(s=a(s)),o&&(o=a(o))),i){jIe(this,s,o);const l=rDe(this,s,o,r);r=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:r,...s}}}function lDe(e){return window.getComputedStyle(e)}class cDe extends fH{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(ip.has(r)){const s=Ok(r);return s&&s.default||0}else{const s=lDe(t),a=(eW(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return eH(t,r)}build(t,r,s,a){Nk(t,r,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,r){return kk(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;eo(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,s,a){iW(t,r,s,a)}}class uDe extends fH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ip.has(r)){const s=Ok(r);return s&&s.default||0}return r=oW.has(r)?r:yk(r),t.getAttribute(r)}measureInstanceViewportBox(){return Qs()}scrapeMotionValuesFromProps(t,r){return cW(t,r)}build(t,r,s,a){Sk(t,r,s,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,s,a){lW(t,r,s,a)}mount(t){this.isSVGTag=Ak(t.tagName),super.mount(t)}}const dDe=(e,t)=>jk(e)?new uDe(t,{enableHardwareAcceleration:!1}):new cDe(t,{enableHardwareAcceleration:!0}),hDe={layout:{ProjectionNode:cH,MeasureLayout:rH}},fDe={...$Ie,...iLe,...VMe,...hDe},Yf=p8e((e,t)=>G8e(e,t,fDe,dDe));function mH(){const e=_.useRef(!1);return xk(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mDe(){const e=mH(),[t,r]=_.useState(0),s=_.useCallback(()=>{e.current&&r(t+1)},[t]);return[_.useCallback(()=>Un.postRender(s),[s]),t]}class pDe extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gDe({children:e,isPresent:t}){const r=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!s.current||!i||!o)return;s.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),_.createElement(pDe,{isPresent:t,childRef:s,sizeRef:a},_.cloneElement(e,{ref:s}))}const w_=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=uW(xDe),c=_.useId(),u=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[r]);return _.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),o==="popLayout"&&(e=_.createElement(gDe,{isPresent:r},e)),_.createElement(oN.Provider,{value:u},e)};function xDe(){return new Map}function yDe(e){return _.useEffect(()=>()=>e(),[])}const Zf=e=>e.key||"";function vDe(e,t){e.forEach(r=>{const s=Zf(r);t.set(s,r)})}function bDe(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const U1=({children:e,custom:t,initial:r=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=_.useContext(wk).forceRender||mDe()[0],c=mH(),u=bDe(e);let d=u;const h=_.useRef(new Map).current,p=_.useRef(d),f=_.useRef(new Map).current,x=_.useRef(!0);if(xk(()=>{x.current=!1,vDe(u,f),p.current=d}),yDe(()=>{x.current=!0,f.clear(),h.clear()}),x.current)return _.createElement(_.Fragment,null,d.map(j=>_.createElement(w_,{key:Zf(j),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},j)));d=[...d];const g=p.current.map(Zf),v=u.map(Zf),b=g.length;for(let j=0;j<b;j++){const N=g[j];v.indexOf(N)===-1&&!h.has(N)&&h.set(N,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((j,N)=>{if(v.indexOf(N)!==-1)return;const A=f.get(N);if(!A)return;const S=g.indexOf(N);let L=j;if(!L){const I=()=>{h.delete(N);const k=Array.from(f.keys()).filter(E=>!v.includes(E));if(k.forEach(E=>f.delete(E)),p.current=u.filter(E=>{const B=Zf(E);return B===N||k.includes(B)}),!h.size){if(c.current===!1)return;l(),s&&s()}};L=_.createElement(w_,{key:Zf(A),isPresent:!1,onExitComplete:I,custom:t,presenceAffectsLayout:i,mode:o},A),h.set(N,L)}d.splice(S,0,L)}),d=d.map(j=>{const N=j.key;return h.has(N)?j:_.createElement(w_,{key:Zf(j),isPresent:!0,presenceAffectsLayout:i,mode:o},j)}),_.createElement(_.Fragment,null,h.size?d:d.map(j=>_.cloneElement(j)))},wDe="modulepreload",jDe=function(e){return"/"+e},nM={},j_=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(r.map(c=>{if(c=jDe(c),c in nM)return;nM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":wDe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}var lc=Uint8Array,Lo=Uint16Array,Fk=Int32Array,$k=new lc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bk=new lc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sM=new lc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pH=function(e,t){for(var r=new Lo(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new Fk(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},gH=pH($k,2),NDe=gH.b,HA=gH.r;NDe[28]=258,HA[258]=28;var _De=pH(Bk,0),aM=_De.r,GA=new Lo(32768);for(var Zn=0;Zn<32768;++Zn){var ah=(Zn&43690)>>1|(Zn&21845)<<1;ah=(ah&52428)>>2|(ah&13107)<<2,ah=(ah&61680)>>4|(ah&3855)<<4,GA[Zn]=((ah&65280)>>8|(ah&255)<<8)>>1}var Sy=function(e,t,r){for(var s=e.length,a=0,i=new Lo(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new Lo(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Lo(1<<t);var c=15-t;for(a=0;a<s;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],h=o[e[a]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)l[GA[h]>>c]=u}else for(l=new Lo(s),a=0;a<s;++a)e[a]&&(l[a]=GA[o[e[a]-1]++]>>15-e[a]);return l},Ym=new lc(288);for(var Zn=0;Zn<144;++Zn)Ym[Zn]=8;for(var Zn=144;Zn<256;++Zn)Ym[Zn]=9;for(var Zn=256;Zn<280;++Zn)Ym[Zn]=7;for(var Zn=280;Zn<288;++Zn)Ym[Zn]=8;var Mw=new lc(32);for(var Zn=0;Zn<32;++Zn)Mw[Zn]=5;var SDe=Sy(Ym,9,0),ADe=Sy(Mw,5,0),xH=function(e){return(e+7)/8|0},kDe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new lc(e.subarray(t,r))},Lu=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},Y0=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},N_=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:vH,l:0};if(a==1){var o=new lc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(S,L){return S.f-L.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,s=1;s<a;++s)i[s].s>p&&(p=i[s].s);var f=new Lo(p+1),x=KA(r[d-1],f,0);if(x>t){var s=0,g=0,v=x-t,b=1<<v;for(i.sort(function(L,I){return f[I.s]-f[L.s]||L.f-I.f});s<a;++s){var j=i[s].s;if(f[j]>t)g+=b-(1<<x-f[j]),f[j]=t;else break}for(g>>=v;g>0;){var N=i[s].s;f[N]<t?g-=1<<t-f[N]++-1:++s}for(;s>=0&&g;--s){var A=i[s].s;f[A]==t&&(--f[A],++g)}x=t}return{t:new lc(f),l:x}},KA=function(e,t,r){return e.s==-1?Math.max(KA(e.l,t,r+1),KA(e.r,t,r+1)):t[e.s]=r},iM=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Lo(++t),s=0,a=e[0],i=1,o=function(c){r[s++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[l]}return{c:r.subarray(0,s),n:t}},Z0=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},yH=function(e,t,r){var s=r.length,a=xH(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},oM=function(e,t,r,s,a,i,o,l,c,u,d){Lu(t,d++,r),++a[256];for(var h=N_(a,15),p=h.t,f=h.l,x=N_(i,15),g=x.t,v=x.l,b=iM(p),j=b.c,N=b.n,A=iM(g),S=A.c,L=A.n,I=new Lo(19),k=0;k<j.length;++k)++I[j[k]&31];for(var k=0;k<S.length;++k)++I[S[k]&31];for(var E=N_(I,7),B=E.t,C=E.l,O=19;O>4&&!B[sM[O-1]];--O);var M=u+5<<3,D=Z0(a,Ym)+Z0(i,Mw)+o,W=Z0(a,p)+Z0(i,g)+o+14+3*O+Z0(I,B)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&M<=D&&M<=W)return yH(t,d,e.subarray(c,c+u));var z,G,V,Y;if(Lu(t,d,1+(W<D)),d+=2,W<D){z=Sy(p,f,0),G=p,V=Sy(g,v,0),Y=g;var ie=Sy(B,C,0);Lu(t,d,N-257),Lu(t,d+5,L-1),Lu(t,d+10,O-4),d+=14;for(var k=0;k<O;++k)Lu(t,d+3*k,B[sM[k]]);d+=3*O;for(var q=[j,S],R=0;R<2;++R)for(var K=q[R],k=0;k<K.length;++k){var Z=K[k]&31;Lu(t,d,ie[Z]),d+=B[Z],Z>15&&(Lu(t,d,K[k]>>5&127),d+=K[k]>>12)}}else z=SDe,G=Ym,V=ADe,Y=Mw;for(var k=0;k<l;++k){var se=s[k];if(se>255){var Z=se>>18&31;Y0(t,d,z[Z+257]),d+=G[Z+257],Z>7&&(Lu(t,d,se>>23&31),d+=$k[Z]);var ue=se&31;Y0(t,d,V[ue]),d+=Y[ue],ue>3&&(Y0(t,d,se>>5&8191),d+=Bk[ue])}else Y0(t,d,z[se]),d+=G[se]}return Y0(t,d,z[256]),d+G[256]},CDe=new Fk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vH=new lc(0),PDe=function(e,t,r,s,a,i){var o=i.z||e.length,l=new lc(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var h=CDe[t-1],p=h>>13,f=h&8191,x=(1<<r)-1,g=i.p||new Lo(32768),v=i.h||new Lo(x+1),b=Math.ceil(r/3),j=2*b,N=function(je){return(e[je]^e[je+1]<<b^e[je+2]<<j)&x},A=new Fk(25e3),S=new Lo(288),L=new Lo(32),I=0,k=0,E=i.i||0,B=0,C=i.w||0,O=0;E+2<o;++E){var M=N(E),D=E&32767,W=v[M];if(g[D]=W,v[M]=D,C<=E){var z=o-E;if((I>7e3||B>24576)&&(z>423||!u)){d=oM(e,c,0,A,S,L,k,B,O,E-O,d),B=I=k=0,O=E;for(var G=0;G<286;++G)S[G]=0;for(var G=0;G<30;++G)L[G]=0}var V=2,Y=0,ie=f,q=D-W&32767;if(z>2&&M==N(E-q))for(var R=Math.min(p,z)-1,K=Math.min(32767,E),Z=Math.min(258,z);q<=K&&--ie&&D!=W;){if(e[E+V]==e[E+V-q]){for(var se=0;se<Z&&e[E+se]==e[E+se-q];++se);if(se>V){if(V=se,Y=q,se>R)break;for(var ue=Math.min(q,se-2),ae=0,G=0;G<ue;++G){var xe=E-q+G&32767,X=g[xe],me=xe-X&32767;me>ae&&(ae=me,W=xe)}}}D=W,W=g[D],q+=D-W&32767}if(Y){A[B++]=268435456|HA[V]<<18|aM[Y];var ne=HA[V]&31,he=aM[Y]&31;k+=$k[ne]+Bk[he],++S[257+ne],++L[he],C=E+V,++I}else A[B++]=e[E],++S[e[E]]}}for(E=Math.max(E,C);E<o;++E)A[B++]=e[E],++S[e[E]];d=oM(e,c,u,A,S,L,k,B,O,E-O,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=v,i.p=g,i.i=E,i.w=C)}else{for(var E=i.w||0;E<o+u;E+=65535){var ke=E+65535;ke>=o&&(c[d/8|0]=u,ke=o),d=yH(c,d+1,e.subarray(E,ke))}i.i=o}return kDe(l,0,s+xH(d)+a)},bH=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},EDe=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new lc(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return PDe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},wH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},TDe=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=bH();a.p(t.dictionary),wH(e,2,a.d())}};function YA(e,t){t||(t={});var r=bH();r.p(e);var s=EDe(e,t,t.dictionary?6:2,4);return TDe(s,t),wH(s,s.length-4,r.d()),s}var ODe=typeof TextDecoder<"u"&&new TextDecoder,LDe=0;try{ODe.decode(vH,{stream:!0}),LDe=1}catch{}function IDe(e){if(Array.isArray(e))return e}function MDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function DDe(e,t){if(e){if(typeof e=="string")return lM(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lM(e,t):void 0}}function RDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cM(e,t){return IDe(e)||MDe(e,t)||DDe(e,t)||RDe()}function uM(e,t="utf8"){return new TextDecoder(t).decode(e)}const FDe=new TextEncoder;function $De(e){return FDe.encode(e)}const BDe=1024*8,zDe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),__={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class zk{constructor(t=BDe,r={}){qe(this,"buffer");qe(this,"byteLength");qe(this,"byteOffset");qe(this,"length");qe(this,"offset");qe(this,"lastWrittenByte");qe(this,"littleEndian");qe(this,"_data");qe(this,"_mark");qe(this,"_marks");let s=!1;typeof t=="number"?t=new ArrayBuffer(t):(s=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof zk)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const s=(this.offset+t)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const s=__[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+s);if(this.littleEndian===zDe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+s));l.reverse();const c=new __[r](l.buffer);return this.offset+=s,c.reverse(),c}const o=new __[r](i);return this.offset+=s,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let s=0;s<t;s++)r+=this.readChar();return r}readUtf8(t=1){return uM(this.readBytes(t))}decodeText(t=1,r="utf8"){return uM(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes($De(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const UDe=4,dM=0,hM=1,qDe=2;function Kx(e){let t=e.length;for(;--t>=0;)e[t]=0}const VDe=0,jH=1,WDe=2,HDe=3,GDe=258,Uk=29,Xv=256,vv=Xv+1+Uk,wg=30,qk=19,NH=2*vv+1,cm=15,S_=16,KDe=7,Vk=256,_H=16,SH=17,AH=18,ZA=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),q1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YDe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),kH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZDe=512,Fu=new Array((vv+2)*2);Kx(Fu);const Ay=new Array(wg*2);Kx(Ay);const bv=new Array(ZDe);Kx(bv);const wv=new Array(GDe-HDe+1);Kx(wv);const Wk=new Array(Uk);Kx(Wk);const Dw=new Array(wg);Kx(Dw);function A_(e,t,r,s,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=s,this.max_length=a,this.has_stree=e&&e.length}let CH,PH,EH;function k_(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const TH=e=>e<256?bv[e]:bv[256+(e>>>7)],jv=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Qi=(e,t,r)=>{e.bi_valid>S_-r?(e.bi_buf|=t<<e.bi_valid&65535,jv(e,e.bi_buf),e.bi_buf=t>>S_-e.bi_valid,e.bi_valid+=r-S_):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Bc=(e,t,r)=>{Qi(e,r[t*2],r[t*2+1])},OH=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},XDe=e=>{e.bi_valid===16?(jv(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},QDe=(e,t)=>{const r=t.dyn_tree,s=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,h,p,f,x,g=0;for(p=0;p<=cm;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<NH;u++)d=e.heap[u],p=r[r[d*2+1]*2+1]+1,p>c&&(p=c,g++),r[d*2+1]=p,!(d>s)&&(e.bl_count[p]++,f=0,d>=l&&(f=o[d-l]),x=r[d*2],e.opt_len+=x*(p+f),i&&(e.static_len+=x*(a[d*2+1]+f)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--u],!(h>s)&&(r[h*2+1]!==p&&(e.opt_len+=(p-r[h*2+1])*r[h*2],r[h*2+1]=p),d--)}},LH=(e,t,r)=>{const s=new Array(cm+1);let a=0,i,o;for(i=1;i<=cm;i++)a=a+r[i-1]<<1,s[i]=a;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=OH(s[l]++,l))}},JDe=()=>{let e,t,r,s,a;const i=new Array(cm+1);for(r=0,s=0;s<Uk-1;s++)for(Wk[s]=r,e=0;e<1<<ZA[s];e++)wv[r++]=s;for(wv[r-1]=s,a=0,s=0;s<16;s++)for(Dw[s]=a,e=0;e<1<<q1[s];e++)bv[a++]=s;for(a>>=7;s<wg;s++)for(Dw[s]=a<<7,e=0;e<1<<q1[s]-7;e++)bv[256+a++]=s;for(t=0;t<=cm;t++)i[t]=0;for(e=0;e<=143;)Fu[e*2+1]=8,e++,i[8]++;for(;e<=255;)Fu[e*2+1]=9,e++,i[9]++;for(;e<=279;)Fu[e*2+1]=7,e++,i[7]++;for(;e<=287;)Fu[e*2+1]=8,e++,i[8]++;for(LH(Fu,vv+1,i),e=0;e<wg;e++)Ay[e*2+1]=5,Ay[e*2]=OH(e,5);CH=new A_(Fu,ZA,Xv+1,vv,cm),PH=new A_(Ay,q1,0,wg,cm),EH=new A_(new Array(0),YDe,0,qk,KDe)},IH=e=>{let t;for(t=0;t<vv;t++)e.dyn_ltree[t*2]=0;for(t=0;t<wg;t++)e.dyn_dtree[t*2]=0;for(t=0;t<qk;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Vk*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},MH=e=>{e.bi_valid>8?jv(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fM=(e,t,r,s)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&s[t]<=s[r]},C_=(e,t,r)=>{const s=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&fM(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!fM(t,s,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=s},mM=(e,t,r)=>{let s,a,i=0,o,l;if(e.sym_next!==0)do s=e.pending_buf[e.sym_buf+i++]&255,s+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],s===0?Bc(e,a,t):(o=wv[a],Bc(e,o+Xv+1,t),l=ZA[o],l!==0&&(a-=Wk[o],Qi(e,a,l)),s--,o=TH(s),Bc(e,o,r),l=q1[o],l!==0&&(s-=Dw[o],Qi(e,s,l)));while(i<e.sym_next);Bc(e,Vk,t)},XA=(e,t)=>{const r=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=NH,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,a&&(e.static_len-=s[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)C_(e,r,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C_(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,C_(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],QDe(e,t),LH(r,c,e.bl_count)},pM=(e,t,r)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(r+1)*2+1]=65535,s=0;s<=r;s++)i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[_H*2]++):l<=10?e.bl_tree[SH*2]++:e.bl_tree[AH*2]++,l=0,a=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4))},gM=(e,t,r)=>{let s,a=-1,i,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),s=0;s<=r;s++)if(i=o,o=t[(s+1)*2+1],!(++l<c&&i===o)){if(l<u)do Bc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==a&&(Bc(e,i,e.bl_tree),l--),Bc(e,_H,e.bl_tree),Qi(e,l-3,2)):l<=10?(Bc(e,SH,e.bl_tree),Qi(e,l-3,3)):(Bc(e,AH,e.bl_tree),Qi(e,l-11,7));l=0,a=i,o===0?(c=138,u=3):i===o?(c=6,u=3):(c=7,u=4)}},eRe=e=>{let t;for(pM(e,e.dyn_ltree,e.l_desc.max_code),pM(e,e.dyn_dtree,e.d_desc.max_code),XA(e,e.bl_desc),t=qk-1;t>=3&&e.bl_tree[kH[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},tRe=(e,t,r,s)=>{let a;for(Qi(e,t-257,5),Qi(e,r-1,5),Qi(e,s-4,4),a=0;a<s;a++)Qi(e,e.bl_tree[kH[a]*2+1],3);gM(e,e.dyn_ltree,t-1),gM(e,e.dyn_dtree,r-1)},rRe=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return dM;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return hM;for(r=32;r<Xv;r++)if(e.dyn_ltree[r*2]!==0)return hM;return dM};let xM=!1;const nRe=e=>{xM||(JDe(),xM=!0),e.l_desc=new k_(e.dyn_ltree,CH),e.d_desc=new k_(e.dyn_dtree,PH),e.bl_desc=new k_(e.bl_tree,EH),e.bi_buf=0,e.bi_valid=0,IH(e)},DH=(e,t,r,s)=>{Qi(e,(VDe<<1)+(s?1:0),3),MH(e),jv(e,r),jv(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},sRe=e=>{Qi(e,jH<<1,3),Bc(e,Vk,Fu),XDe(e)},aRe=(e,t,r,s)=>{let a,i,o=0;e.level>0?(e.strm.data_type===qDe&&(e.strm.data_type=rRe(e)),XA(e,e.l_desc),XA(e,e.d_desc),o=eRe(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?DH(e,t,r,s):e.strategy===UDe||i===a?(Qi(e,(jH<<1)+(s?1:0),3),mM(e,Fu,Ay)):(Qi(e,(WDe<<1)+(s?1:0),3),tRe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),mM(e,e.dyn_ltree,e.dyn_dtree)),IH(e),s&&MH(e)},iRe=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(wv[r]+Xv+1)*2]++,e.dyn_dtree[TH(t)*2]++),e.sym_next===e.sym_end);var oRe=nRe,lRe=DH,cRe=aRe,uRe=iRe,dRe=sRe,hRe={_tr_init:oRe,_tr_stored_block:lRe,_tr_flush_block:cRe,_tr_tally:uRe,_tr_align:dRe};const fRe=(e,t,r,s)=>{let a=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[s++]|0,i=i+a|0;while(--o);a%=65521,i%=65521}return a|i<<16|0};var Nv=fRe;const mRe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},pRe=new Uint32Array(mRe()),gRe=(e,t,r,s)=>{const a=pRe,i=s+r;e^=-1;for(let o=s;o<i;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Ca=gRe,_x={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Qv={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:xRe,_tr_stored_block:QA,_tr_flush_block:yRe,_tr_tally:Bh,_tr_align:vRe}=hRe,{Z_NO_FLUSH:zh,Z_PARTIAL_FLUSH:bRe,Z_FULL_FLUSH:wRe,Z_FINISH:hl,Z_BLOCK:yM,Z_OK:Ua,Z_STREAM_END:vM,Z_STREAM_ERROR:Jc,Z_DATA_ERROR:jRe,Z_BUF_ERROR:P_,Z_DEFAULT_COMPRESSION:NRe,Z_FILTERED:_Re,Z_HUFFMAN_ONLY:p1,Z_RLE:SRe,Z_FIXED:ARe,Z_DEFAULT_STRATEGY:kRe,Z_UNKNOWN:CRe,Z_DEFLATED:mN}=Qv,PRe=9,ERe=15,TRe=8,ORe=29,LRe=256,JA=LRe+1+ORe,IRe=30,MRe=19,DRe=2*JA+1,RRe=15,Zr=3,Ch=258,eu=Ch+Zr+1,FRe=32,Sx=42,Hk=57,e6=69,t6=73,r6=91,n6=103,um=113,ay=666,Di=1,Yx=2,Zm=3,Zx=4,$Re=3,dm=(e,t)=>(e.msg=_x[t],t),bM=e=>e*2-(e>4?9:0),gh=e=>{let t=e.length;for(;--t>=0;)e[t]=0},BRe=e=>{let t,r,s,a=e.w_size;t=e.hash_size,s=t;do r=e.head[--s],e.head[s]=r>=a?r-a:0;while(--t);t=a,s=t;do r=e.prev[--s],e.prev[s]=r>=a?r-a:0;while(--t)};let zRe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Uh=zRe;const So=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Io=(e,t)=>{yRe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,So(e.strm)},gn=(e,t)=>{e.pending_buf[e.pending++]=t},X0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},s6=(e,t,r,s)=>{let a=e.avail_in;return a>s&&(a=s),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=Nv(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Ca(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},RH=(e,t)=>{let r=e.max_chain_length,s=e.strstart,a,i,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-eu?e.strstart-(e.w_size-eu):0,u=e.window,d=e.w_mask,h=e.prev,p=e.strstart+Ch;let f=u[s+o-1],x=u[s+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(a=t,!(u[a+o]!==x||u[a+o-1]!==f||u[a]!==u[s]||u[++a]!==u[s+1])){s+=2,a++;do;while(u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&u[++s]===u[++a]&&s<p);if(i=Ch-(p-s),s=p-Ch,i>o){if(e.match_start=t,o=i,i>=l)break;f=u[s+o-1],x=u[s+o]}}while((t=h[t&d])>c&&--r!==0);return o<=e.lookahead?o:e.lookahead},Ax=e=>{const t=e.w_size;let r,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-eu)&&(e.window.set(e.window.subarray(t,t+t-s),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),BRe(e),s+=t),e.strm.avail_in===0)break;if(r=s6(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=r,e.lookahead+e.insert>=Zr)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Uh(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Uh(e,e.ins_h,e.window[a+Zr-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Zr)););}while(e.lookahead<eu&&e.strm.avail_in!==0)},FH=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s,a,i,o=0,l=e.strm.avail_in;do{if(s=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,s>a+e.strm.avail_in&&(s=a+e.strm.avail_in),s>i&&(s=i),s<r&&(s===0&&t!==hl||t===zh||s!==a+e.strm.avail_in)))break;o=t===hl&&s===a+e.strm.avail_in?1:0,QA(e,0,0,o),e.pending_buf[e.pending-4]=s,e.pending_buf[e.pending-3]=s>>8,e.pending_buf[e.pending-2]=~s,e.pending_buf[e.pending-1]=~s>>8,So(e.strm),a&&(a>s&&(a=s),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,s-=a),s&&(s6(e.strm,e.strm.output,e.strm.next_out,s),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Zx:t!==zh&&t!==hl&&e.strm.avail_in===0&&e.strstart===e.block_start?Yx:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(s6(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===hl)&&t!==zh&&e.strm.avail_in===0&&a<=i)&&(s=a>i?i:a,o=t===hl&&e.strm.avail_in===0&&s===a?1:0,QA(e,e.block_start,s,o),e.block_start+=s,So(e.strm)),o?Zm:Di)},E_=(e,t)=>{let r,s;for(;;){if(e.lookahead<eu){if(Ax(e),e.lookahead<eu&&t===zh)return Di;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zr&&(e.ins_h=Uh(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-eu&&(e.match_length=RH(e,r)),e.match_length>=Zr)if(s=Bh(e,e.strstart-e.match_start,e.match_length-Zr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Zr){e.match_length--;do e.strstart++,e.ins_h=Uh(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Uh(e,e.ins_h,e.window[e.strstart+1]);else s=Bh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Io(e,!1),e.strm.avail_out===0))return Di}return e.insert=e.strstart<Zr-1?e.strstart:Zr-1,t===hl?(Io(e,!0),e.strm.avail_out===0?Zm:Zx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Di:Yx},Kp=(e,t)=>{let r,s,a;for(;;){if(e.lookahead<eu){if(Ax(e),e.lookahead<eu&&t===zh)return Di;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zr&&(e.ins_h=Uh(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Zr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-eu&&(e.match_length=RH(e,r),e.match_length<=5&&(e.strategy===_Re||e.match_length===Zr&&e.strstart-e.match_start>4096)&&(e.match_length=Zr-1)),e.prev_length>=Zr&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Zr,s=Bh(e,e.strstart-1-e.prev_match,e.prev_length-Zr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Uh(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Zr-1,e.strstart++,s&&(Io(e,!1),e.strm.avail_out===0))return Di}else if(e.match_available){if(s=Bh(e,0,e.window[e.strstart-1]),s&&Io(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Di}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=Bh(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Zr-1?e.strstart:Zr-1,t===hl?(Io(e,!0),e.strm.avail_out===0?Zm:Zx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Di:Yx},URe=(e,t)=>{let r,s,a,i;const o=e.window;for(;;){if(e.lookahead<=Ch){if(Ax(e),e.lookahead<=Ch&&t===zh)return Di;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Zr&&e.strstart>0&&(a=e.strstart-1,s=o[a],s===o[++a]&&s===o[++a]&&s===o[++a])){i=e.strstart+Ch;do;while(s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&s===o[++a]&&a<i);e.match_length=Ch-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Zr?(r=Bh(e,1,e.match_length-Zr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Bh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Io(e,!1),e.strm.avail_out===0))return Di}return e.insert=0,t===hl?(Io(e,!0),e.strm.avail_out===0?Zm:Zx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Di:Yx},qRe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Ax(e),e.lookahead===0)){if(t===zh)return Di;break}if(e.match_length=0,r=Bh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Io(e,!1),e.strm.avail_out===0))return Di}return e.insert=0,t===hl?(Io(e,!0),e.strm.avail_out===0?Zm:Zx):e.sym_next&&(Io(e,!1),e.strm.avail_out===0)?Di:Yx};function Oc(e,t,r,s,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=s,this.func=a}const iy=[new Oc(0,0,0,0,FH),new Oc(4,4,8,4,E_),new Oc(4,5,16,8,E_),new Oc(4,6,32,32,E_),new Oc(4,4,16,16,Kp),new Oc(8,16,32,32,Kp),new Oc(8,16,128,128,Kp),new Oc(8,32,128,256,Kp),new Oc(32,128,258,1024,Kp),new Oc(32,258,258,4096,Kp)],VRe=e=>{e.window_size=2*e.w_size,gh(e.head),e.max_lazy_match=iy[e.level].max_lazy,e.good_match=iy[e.level].good_length,e.nice_match=iy[e.level].nice_length,e.max_chain_length=iy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Zr-1,e.match_available=0,e.ins_h=0};function WRe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(DRe*2),this.dyn_dtree=new Uint16Array((2*IRe+1)*2),this.bl_tree=new Uint16Array((2*MRe+1)*2),gh(this.dyn_ltree),gh(this.dyn_dtree),gh(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(RRe+1),this.heap=new Uint16Array(2*JA+1),gh(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*JA+1),gh(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Jv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Sx&&t.status!==Hk&&t.status!==e6&&t.status!==t6&&t.status!==r6&&t.status!==n6&&t.status!==um&&t.status!==ay?1:0},$H=e=>{if(Jv(e))return dm(e,Jc);e.total_in=e.total_out=0,e.data_type=CRe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Hk:t.wrap?Sx:um,e.adler=t.wrap===2?0:1,t.last_flush=-2,xRe(t),Ua},BH=e=>{const t=$H(e);return t===Ua&&VRe(e.state),t},HRe=(e,t)=>Jv(e)||e.state.wrap!==2?Jc:(e.state.gzhead=t,Ua),zH=(e,t,r,s,a,i)=>{if(!e)return Jc;let o=1;if(t===NRe&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),a<1||a>PRe||r!==mN||s<8||s>15||t<0||t>9||i<0||i>ARe||s===8&&o!==1)return dm(e,Jc);s===8&&(s=9);const l=new WRe;return e.state=l,l.strm=e,l.status=Sx,l.wrap=o,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Zr-1)/Zr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,BH(e)},GRe=(e,t)=>zH(e,t,mN,ERe,TRe,kRe),KRe=(e,t)=>{if(Jv(e)||t>yM||t<0)return e?dm(e,Jc):Jc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===ay&&t!==hl)return dm(e,e.avail_out===0?P_:Jc);const s=r.last_flush;if(r.last_flush=t,r.pending!==0){if(So(e),e.avail_out===0)return r.last_flush=-1,Ua}else if(e.avail_in===0&&bM(t)<=bM(s)&&t!==hl)return dm(e,P_);if(r.status===ay&&e.avail_in!==0)return dm(e,P_);if(r.status===Sx&&r.wrap===0&&(r.status=um),r.status===Sx){let a=mN+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=p1||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=FRe),a+=31-a%31,X0(r,a),r.strstart!==0&&(X0(r,e.adler>>>16),X0(r,e.adler&65535)),e.adler=1,r.status=um,So(e),r.pending!==0)return r.last_flush=-1,Ua}if(r.status===Hk){if(e.adler=0,gn(r,31),gn(r,139),gn(r,8),r.gzhead)gn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),gn(r,r.gzhead.time&255),gn(r,r.gzhead.time>>8&255),gn(r,r.gzhead.time>>16&255),gn(r,r.gzhead.time>>24&255),gn(r,r.level===9?2:r.strategy>=p1||r.level<2?4:0),gn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(gn(r,r.gzhead.extra.length&255),gn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Ca(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=e6;else if(gn(r,0),gn(r,0),gn(r,0),gn(r,0),gn(r,0),gn(r,r.level===9?2:r.strategy>=p1||r.level<2?4:0),gn(r,$Re),r.status=um,So(e),r.pending!==0)return r.last_flush=-1,Ua}if(r.status===e6){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=l,So(e),r.pending!==0)return r.last_flush=-1,Ua;a=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=t6}if(r.status===t6){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a)),So(e),r.pending!==0)return r.last_flush=-1,Ua;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,gn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=r6}if(r.status===r6){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a)),So(e),r.pending!==0)return r.last_flush=-1,Ua;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,gn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ca(e.adler,r.pending_buf,r.pending-a,a))}r.status=n6}if(r.status===n6){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(So(e),r.pending!==0))return r.last_flush=-1,Ua;gn(r,e.adler&255),gn(r,e.adler>>8&255),e.adler=0}if(r.status=um,So(e),r.pending!==0)return r.last_flush=-1,Ua}if(e.avail_in!==0||r.lookahead!==0||t!==zh&&r.status!==ay){let a=r.level===0?FH(r,t):r.strategy===p1?qRe(r,t):r.strategy===SRe?URe(r,t):iy[r.level].func(r,t);if((a===Zm||a===Zx)&&(r.status=ay),a===Di||a===Zm)return e.avail_out===0&&(r.last_flush=-1),Ua;if(a===Yx&&(t===bRe?vRe(r):t!==yM&&(QA(r,0,0,!1),t===wRe&&(gh(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),So(e),e.avail_out===0))return r.last_flush=-1,Ua}return t!==hl?Ua:r.wrap<=0?vM:(r.wrap===2?(gn(r,e.adler&255),gn(r,e.adler>>8&255),gn(r,e.adler>>16&255),gn(r,e.adler>>24&255),gn(r,e.total_in&255),gn(r,e.total_in>>8&255),gn(r,e.total_in>>16&255),gn(r,e.total_in>>24&255)):(X0(r,e.adler>>>16),X0(r,e.adler&65535)),So(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ua:vM)},YRe=e=>{if(Jv(e))return Jc;const t=e.state.status;return e.state=null,t===um?dm(e,jRe):Ua},ZRe=(e,t)=>{let r=t.length;if(Jv(e))return Jc;const s=e.state,a=s.wrap;if(a===2||a===1&&s.status!==Sx||s.lookahead)return Jc;if(a===1&&(e.adler=Nv(e.adler,t,r,0)),s.wrap=0,r>=s.w_size){a===0&&(gh(s.head),s.strstart=0,s.block_start=0,s.insert=0);let c=new Uint8Array(s.w_size);c.set(t.subarray(r-s.w_size,r),0),t=c,r=s.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ax(s);s.lookahead>=Zr;){let c=s.strstart,u=s.lookahead-(Zr-1);do s.ins_h=Uh(s,s.ins_h,s.window[c+Zr-1]),s.prev[c&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=c,c++;while(--u);s.strstart=c,s.lookahead=Zr-1,Ax(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Zr-1,s.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,s.wrap=a,Ua};var XRe=GRe,QRe=zH,JRe=BH,e7e=$H,t7e=HRe,r7e=KRe,n7e=YRe,s7e=ZRe,a7e="pako deflate (from Nodeca project)",ky={deflateInit:XRe,deflateInit2:QRe,deflateReset:JRe,deflateResetKeep:e7e,deflateSetHeader:t7e,deflate:r7e,deflateEnd:n7e,deflateSetDictionary:s7e,deflateInfo:a7e};const i7e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o7e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)i7e(r,s)&&(e[s]=r[s])}}return e},l7e=e=>{let t=0;for(let s=0,a=e.length;s<a;s++)t+=e[s].length;const r=new Uint8Array(t);for(let s=0,a=0,i=e.length;s<i;s++){let o=e[s];r.set(o,a),a+=o.length}return r},pN={assign:o7e,flattenChunks:l7e};let UH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{UH=!1}const _v=new Uint8Array(256);for(let e=0;e<256;e++)_v[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_v[254]=_v[254]=1;var c7e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,s,a,i,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,a=0;i<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(s=e.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const u7e=(e,t)=>{if(t<65534&&e.subarray&&UH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r};var d7e=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s,a;const i=new Array(r*2);for(a=0,s=0;s<r;){let o=e[s++];if(o<128){i[a++]=o;continue}let l=_v[o];if(l>4){i[a++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<r;)o=o<<6|e[s++]&63,l--;if(l>1){i[a++]=65533;continue}o<65536?i[a++]=o:(o-=65536,i[a++]=55296|o>>10&1023,i[a++]=56320|o&1023)}return u7e(i,a)},h7e=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+_v[e[r]]>t?r:t},Sv={string2buf:c7e,buf2string:d7e,utf8border:h7e};function f7e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qH=f7e;const VH=Object.prototype.toString,{Z_NO_FLUSH:m7e,Z_SYNC_FLUSH:p7e,Z_FULL_FLUSH:g7e,Z_FINISH:x7e,Z_OK:Rw,Z_STREAM_END:y7e,Z_DEFAULT_COMPRESSION:v7e,Z_DEFAULT_STRATEGY:b7e,Z_DEFLATED:w7e}=Qv;function Gk(e){this.options=pN.assign({level:v7e,method:w7e,chunkSize:16384,windowBits:15,memLevel:8,strategy:b7e},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qH,this.strm.avail_out=0;let r=ky.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Rw)throw new Error(_x[r]);if(t.header&&ky.deflateSetHeader(this.strm,t.header),t.dictionary){let s;if(typeof t.dictionary=="string"?s=Sv.string2buf(t.dictionary):VH.call(t.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(t.dictionary):s=t.dictionary,r=ky.deflateSetDictionary(this.strm,s),r!==Rw)throw new Error(_x[r]);this._dict_set=!0}}Gk.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?x7e:m7e,typeof e=="string"?r.input=Sv.string2buf(e):VH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(i===p7e||i===g7e)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=ky.deflate(r,i),a===y7e)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=ky.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Rw;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Gk.prototype.onData=function(e){this.chunks.push(e)};Gk.prototype.onEnd=function(e){e===Rw&&(this.result=pN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const g1=16209,j7e=16191;var N7e=function(t,r){let s,a,i,o,l,c,u,d,h,p,f,x,g,v,b,j,N,A,S,L,I,k,E,B;const C=t.state;s=t.next_in,E=t.input,a=s+(t.avail_in-5),i=t.next_out,B=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),c=C.dmax,u=C.wsize,d=C.whave,h=C.wnext,p=C.window,f=C.hold,x=C.bits,g=C.lencode,v=C.distcode,b=(1<<C.lenbits)-1,j=(1<<C.distbits)-1;e:do{x<15&&(f+=E[s++]<<x,x+=8,f+=E[s++]<<x,x+=8),N=g[f&b];t:for(;;){if(A=N>>>24,f>>>=A,x-=A,A=N>>>16&255,A===0)B[i++]=N&65535;else if(A&16){S=N&65535,A&=15,A&&(x<A&&(f+=E[s++]<<x,x+=8),S+=f&(1<<A)-1,f>>>=A,x-=A),x<15&&(f+=E[s++]<<x,x+=8,f+=E[s++]<<x,x+=8),N=v[f&j];r:for(;;){if(A=N>>>24,f>>>=A,x-=A,A=N>>>16&255,A&16){if(L=N&65535,A&=15,x<A&&(f+=E[s++]<<x,x+=8,x<A&&(f+=E[s++]<<x,x+=8)),L+=f&(1<<A)-1,L>c){t.msg="invalid distance too far back",C.mode=g1;break e}if(f>>>=A,x-=A,A=i-o,L>A){if(A=L-A,A>d&&C.sane){t.msg="invalid distance too far back",C.mode=g1;break e}if(I=0,k=p,h===0){if(I+=u-A,A<S){S-=A;do B[i++]=p[I++];while(--A);I=i-L,k=B}}else if(h<A){if(I+=u+h-A,A-=h,A<S){S-=A;do B[i++]=p[I++];while(--A);if(I=0,h<S){A=h,S-=A;do B[i++]=p[I++];while(--A);I=i-L,k=B}}}else if(I+=h-A,A<S){S-=A;do B[i++]=p[I++];while(--A);I=i-L,k=B}for(;S>2;)B[i++]=k[I++],B[i++]=k[I++],B[i++]=k[I++],S-=3;S&&(B[i++]=k[I++],S>1&&(B[i++]=k[I++]))}else{I=i-L;do B[i++]=B[I++],B[i++]=B[I++],B[i++]=B[I++],S-=3;while(S>2);S&&(B[i++]=B[I++],S>1&&(B[i++]=B[I++]))}}else if(A&64){t.msg="invalid distance code",C.mode=g1;break e}else{N=v[(N&65535)+(f&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){C.mode=j7e;break e}else{t.msg="invalid literal/length code",C.mode=g1;break e}else{N=g[(N&65535)+(f&(1<<A)-1)];continue t}break}}while(s<a&&i<l);S=x>>3,s-=S,x-=S<<3,f&=(1<<x)-1,t.next_in=s,t.next_out=i,t.avail_in=s<a?5+(a-s):5-(s-a),t.avail_out=i<l?257+(l-i):257-(i-l),C.hold=f,C.bits=x};const Yp=15,wM=852,jM=592,NM=0,T_=1,_M=2,_7e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),S7e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),A7e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),k7e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),C7e=(e,t,r,s,a,i,o,l)=>{const c=l.bits;let u=0,d=0,h=0,p=0,f=0,x=0,g=0,v=0,b=0,j=0,N,A,S,L,I,k=null,E;const B=new Uint16Array(Yp+1),C=new Uint16Array(Yp+1);let O=null,M,D,W;for(u=0;u<=Yp;u++)B[u]=0;for(d=0;d<s;d++)B[t[r+d]]++;for(f=c,p=Yp;p>=1&&B[p]===0;p--);if(f>p&&(f=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&B[h]===0;h++);for(f<h&&(f=h),v=1,u=1;u<=Yp;u++)if(v<<=1,v-=B[u],v<0)return-1;if(v>0&&(e===NM||p!==1))return-1;for(C[1]=0,u=1;u<Yp;u++)C[u+1]=C[u]+B[u];for(d=0;d<s;d++)t[r+d]!==0&&(o[C[t[r+d]]++]=d);if(e===NM?(k=O=o,E=20):e===T_?(k=_7e,O=S7e,E=257):(k=A7e,O=k7e,E=0),j=0,d=0,u=h,I=i,x=f,g=0,S=-1,b=1<<f,L=b-1,e===T_&&b>wM||e===_M&&b>jM)return 1;for(;;){M=u-g,o[d]+1<E?(D=0,W=o[d]):o[d]>=E?(D=O[o[d]-E],W=k[o[d]-E]):(D=96,W=0),N=1<<u-g,A=1<<x,h=A;do A-=N,a[I+(j>>g)+A]=M<<24|D<<16|W|0;while(A!==0);for(N=1<<u-1;j&N;)N>>=1;if(N!==0?(j&=N-1,j+=N):j=0,d++,--B[u]===0){if(u===p)break;u=t[r+o[d]]}if(u>f&&(j&L)!==S){for(g===0&&(g=f),I+=h,x=u-g,v=1<<x;x+g<p&&(v-=B[x+g],!(v<=0));)x++,v<<=1;if(b+=1<<x,e===T_&&b>wM||e===_M&&b>jM)return 1;S=j&L,a[S]=f<<24|x<<16|I-i|0}}return j!==0&&(a[I+j]=u-g<<24|64<<16|0),l.bits=f,0};var Cy=C7e;const P7e=0,WH=1,HH=2,{Z_FINISH:SM,Z_BLOCK:E7e,Z_TREES:x1,Z_OK:Xm,Z_STREAM_END:T7e,Z_NEED_DICT:O7e,Z_STREAM_ERROR:xl,Z_DATA_ERROR:GH,Z_MEM_ERROR:KH,Z_BUF_ERROR:L7e,Z_DEFLATED:AM}=Qv,gN=16180,kM=16181,CM=16182,PM=16183,EM=16184,TM=16185,OM=16186,LM=16187,IM=16188,MM=16189,Fw=16190,Iu=16191,O_=16192,DM=16193,L_=16194,RM=16195,FM=16196,$M=16197,BM=16198,y1=16199,v1=16200,zM=16201,UM=16202,qM=16203,VM=16204,WM=16205,I_=16206,HM=16207,GM=16208,ss=16209,YH=16210,ZH=16211,I7e=852,M7e=592,D7e=15,R7e=D7e,KM=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function F7e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<gN||t.mode>ZH?1:0},XH=e=>{if(lp(e))return xl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=gN,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(I7e),t.distcode=t.distdyn=new Int32Array(M7e),t.sane=1,t.back=-1,Xm},QH=e=>{if(lp(e))return xl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,XH(e)},JH=(e,t)=>{let r;if(lp(e))return xl;const s=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xl:(s.window!==null&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,QH(e))},eG=(e,t)=>{if(!e)return xl;const r=new F7e;e.state=r,r.strm=e,r.window=null,r.mode=gN;const s=JH(e,t);return s!==Xm&&(e.state=null),s},$7e=e=>eG(e,R7e);let YM=!0,M_,D_;const B7e=e=>{if(YM){M_=new Int32Array(512),D_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Cy(WH,e.lens,0,288,M_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Cy(HH,e.lens,0,32,D_,0,e.work,{bits:5}),YM=!1}e.lencode=M_,e.lenbits=9,e.distcode=D_,e.distbits=5},tG=(e,t,r,s)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>s&&(a=s),i.window.set(t.subarray(r-s,r-s+a),i.wnext),s-=a,s?(i.window.set(t.subarray(r-s,r),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},z7e=(e,t)=>{let r,s,a,i,o,l,c,u,d,h,p,f,x,g,v=0,b,j,N,A,S,L,I,k;const E=new Uint8Array(4);let B,C;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lp(e)||!e.output||!e.input&&e.avail_in!==0)return xl;r=e.state,r.mode===Iu&&(r.mode=O_),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,u=r.hold,d=r.bits,h=l,p=c,k=Xm;e:for(;;)switch(r.mode){case gN:if(r.wrap===0){r.mode=O_;break}for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=u&255,E[1]=u>>>8&255,r.check=Ca(r.check,E,2,0),u=0,d=0,r.mode=kM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ss;break}if((u&15)!==AM){e.msg="unknown compression method",r.mode=ss;break}if(u>>>=4,d-=4,I=(u&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=ss;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?MM:Iu,u=0,d=0;break;case kM:for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==AM){e.msg="unknown compression method",r.mode=ss;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ss;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ca(r.check,E,2,0)),u=0,d=0,r.mode=CM;case CM:for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=Ca(r.check,E,4,0)),u=0,d=0,r.mode=PM;case PM:for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ca(r.check,E,2,0)),u=0,d=0,r.mode=EM;case EM:if(r.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,r.check=Ca(r.check,E,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=TM;case TM:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(i,i+f),I)),r.flags&512&&r.wrap&4&&(r.check=Ca(r.check,s,f,i)),l-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=OM;case OM:if(r.flags&2048){if(l===0)break e;f=0;do I=s[i+f++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Ca(r.check,s,f,i)),l-=f,i+=f,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=LM;case LM:if(r.flags&4096){if(l===0)break e;f=0;do I=s[i+f++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=Ca(r.check,s,f,i)),l-=f,i+=f,I)break e}else r.head&&(r.head.comment=null);r.mode=IM;case IM:if(r.flags&512){for(;d<16;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ss;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Iu;break;case MM:for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}e.adler=r.check=KM(u),u=0,d=0,r.mode=Fw;case Fw:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,O7e;e.adler=r.check=1,r.mode=Iu;case Iu:if(t===E7e||t===x1)break e;case O_:if(r.last){u>>>=d&7,d-=d&7,r.mode=I_;break}for(;d<3;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=DM;break;case 1:if(B7e(r),r.mode=y1,t===x1){u>>>=2,d-=2;break e}break;case 2:r.mode=FM;break;case 3:e.msg="invalid block type",r.mode=ss}u>>>=2,d-=2;break;case DM:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ss;break}if(r.length=u&65535,u=0,d=0,r.mode=L_,t===x1)break e;case L_:r.mode=RM;case RM:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;a.set(s.subarray(i,i+f),o),l-=f,i+=f,c-=f,o+=f,r.length-=f;break}r.mode=Iu;break;case FM:for(;d<14;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ss;break}r.have=0,r.mode=$M;case $M:for(;r.have<r.ncode;){for(;d<3;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.lens[O[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},k=Cy(P7e,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,k){e.msg="invalid code lengths set",r.mode=ss;break}r.have=0,r.mode=BM;case BM:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,N=v&65535,!(b<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(N<16)u>>>=b,d-=b,r.lens[r.have++]=N;else{if(N===16){for(C=b+2;d<C;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=ss;break}I=r.lens[r.have-1],f=3+(u&3),u>>>=2,d-=2}else if(N===17){for(C=b+3;d<C;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=b,d-=b,I=0,f=3+(u&7),u>>>=3,d-=3}else{for(C=b+7;d<C;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=b,d-=b,I=0,f=11+(u&127),u>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ss;break}for(;f--;)r.lens[r.have++]=I}}if(r.mode===ss)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ss;break}if(r.lenbits=9,B={bits:r.lenbits},k=Cy(WH,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,k){e.msg="invalid literal/lengths set",r.mode=ss;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},k=Cy(HH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,k){e.msg="invalid distances set",r.mode=ss;break}if(r.mode=y1,t===x1)break e;case y1:r.mode=v1;case v1:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,N7e(e,p),o=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,s=e.input,l=e.avail_in,u=r.hold,d=r.bits,r.mode===Iu&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],b=v>>>24,j=v>>>16&255,N=v&65535,!(b<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(j&&!(j&240)){for(A=b,S=j,L=N;v=r.lencode[L+((u&(1<<A+S)-1)>>A)],b=v>>>24,j=v>>>16&255,N=v&65535,!(A+b<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=b,d-=b,r.back+=b,r.length=N,j===0){r.mode=WM;break}if(j&32){r.back=-1,r.mode=Iu;break}if(j&64){e.msg="invalid literal/length code",r.mode=ss;break}r.extra=j&15,r.mode=zM;case zM:if(r.extra){for(C=r.extra;d<C;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=UM;case UM:for(;v=r.distcode[u&(1<<r.distbits)-1],b=v>>>24,j=v>>>16&255,N=v&65535,!(b<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(!(j&240)){for(A=b,S=j,L=N;v=r.distcode[L+((u&(1<<A+S)-1)>>A)],b=v>>>24,j=v>>>16&255,N=v&65535,!(A+b<=d);){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}u>>>=A,d-=A,r.back+=A}if(u>>>=b,d-=b,r.back+=b,j&64){e.msg="invalid distance code",r.mode=ss;break}r.offset=N,r.extra=j&15,r.mode=qM;case qM:if(r.extra){for(C=r.extra;d<C;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ss;break}r.mode=VM;case VM:if(c===0)break e;if(f=p-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ss;break}f>r.wnext?(f-=r.wnext,x=r.wsize-f):x=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=a,x=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do a[o++]=g[x++];while(--f);r.length===0&&(r.mode=v1);break;case WM:if(c===0)break e;a[o++]=r.length,c--,r.mode=v1;break;case I_:if(r.wrap){for(;d<32;){if(l===0)break e;l--,u|=s[i++]<<d,d+=8}if(p-=c,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ca(r.check,a,p,o-p):Nv(r.check,a,p,o-p)),p=c,r.wrap&4&&(r.flags?u:KM(u))!==r.check){e.msg="incorrect data check",r.mode=ss;break}u=0,d=0}r.mode=HM;case HM:if(r.wrap&&r.flags){for(;d<32;){if(l===0)break e;l--,u+=s[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ss;break}u=0,d=0}r.mode=GM;case GM:k=T7e;break e;case ss:k=GH;break e;case YH:return KH;case ZH:default:return xl}return e.next_out=o,e.avail_out=c,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<ss&&(r.mode<I_||t!==SM))&&tG(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Ca(r.check,a,p,e.next_out-p):Nv(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Iu?128:0)+(r.mode===y1||r.mode===L_?256:0),(h===0&&p===0||t===SM)&&k===Xm&&(k=L7e),k},U7e=e=>{if(lp(e))return xl;let t=e.state;return t.window&&(t.window=null),e.state=null,Xm},q7e=(e,t)=>{if(lp(e))return xl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Xm):xl},V7e=(e,t)=>{const r=t.length;let s,a,i;return lp(e)||(s=e.state,s.wrap!==0&&s.mode!==Fw)?xl:s.mode===Fw&&(a=1,a=Nv(a,t,r,0),a!==s.check)?GH:(i=tG(e,t,r,r),i?(s.mode=YH,KH):(s.havedict=1,Xm))};var W7e=QH,H7e=JH,G7e=XH,K7e=$7e,Y7e=eG,Z7e=z7e,X7e=U7e,Q7e=q7e,J7e=V7e,eFe="pako inflate (from Nodeca project)",$u={inflateReset:W7e,inflateReset2:H7e,inflateResetKeep:G7e,inflateInit:K7e,inflateInit2:Y7e,inflate:Z7e,inflateEnd:X7e,inflateGetHeader:Q7e,inflateSetDictionary:J7e,inflateInfo:eFe};function tFe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rFe=tFe;const rG=Object.prototype.toString,{Z_NO_FLUSH:nFe,Z_FINISH:sFe,Z_OK:Av,Z_STREAM_END:R_,Z_NEED_DICT:F_,Z_STREAM_ERROR:aFe,Z_DATA_ERROR:ZM,Z_MEM_ERROR:iFe}=Qv;function eb(e){this.options=pN.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qH,this.strm.avail_out=0;let r=$u.inflateInit2(this.strm,t.windowBits);if(r!==Av)throw new Error(_x[r]);if(this.header=new rFe,$u.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Sv.string2buf(t.dictionary):rG.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$u.inflateSetDictionary(this.strm,t.dictionary),r!==Av)))throw new Error(_x[r])}eb.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?sFe:nFe,rG.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),i=$u.inflate(r,o),i===F_&&a&&(i=$u.inflateSetDictionary(r,a),i===Av?i=$u.inflate(r,o):i===ZM&&(i=F_));r.avail_in>0&&i===R_&&r.state.wrap>0&&e[r.next_in]!==0;)$u.inflateReset(r),i=$u.inflate(r,o);switch(i){case aFe:case ZM:case F_:case iFe:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===R_))if(this.options.to==="string"){let c=Sv.utf8border(r.output,r.next_out),u=r.next_out-c,d=Sv.buf2string(r.output,c);r.next_out=u,r.avail_out=s-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Av&&l===0)){if(i===R_)return i=$u.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};eb.prototype.onData=function(e){this.chunks.push(e)};eb.prototype.onEnd=function(e){e===Av&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pN.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Kk(e,t){const r=new eb(t);if(r.push(e),r.err)throw r.msg||_x[r.err];return r.result}function oFe(e,t){return t=t||{},t.raw=!0,Kk(e,t)}var lFe=eb,cFe=Kk,uFe=oFe,dFe=Kk,hFe=Qv,fFe={Inflate:lFe,inflate:cFe,inflateRaw:uFe,ungzip:dFe,constants:hFe};const{Inflate:mFe,inflate:pFe,inflateRaw:dBe,ungzip:hBe}=fFe;var XM=mFe,gFe=pFe;const nG=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;nG[e]=t}const QM=4294967295;function xFe(e,t,r){let s=e;for(let a=0;a<r;a++)s=nG[(s^t[a])&255]^s>>>8;return s}function yFe(e,t){return(xFe(QM,e,t)^QM)>>>0}function JM(e,t,r){const s=e.readUint32(),a=yFe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==s)throw new Error(`CRC mismatch for chunk ${r}. Expected ${s}, found ${a}`)}function sG(e,t,r){for(let s=0;s<r;s++)t[s]=e[s]}function aG(e,t,r,s){let a=0;for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-s]&255}function iG(e,t,r,s){let a=0;if(r.length===0)for(;a<s;a++)t[a]=e[a];else for(;a<s;a++)t[a]=e[a]+r[a]&255}function oG(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<s;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function lG(e,t,r,s,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<s;i++)t[i]=e[i]+vFe(t[i-a],r[i],r[i-a])&255}}function vFe(e,t,r){const s=e+t-r,a=Math.abs(s-e),i=Math.abs(s-t),o=Math.abs(s-r);return a<=i&&a<=o?e:i<=o?t:r}function bFe(e,t,r,s,a,i){switch(e){case 0:sG(t,r,a);break;case 1:aG(t,r,a,i);break;case 2:iG(t,r,s,a);break;case 3:oG(t,r,s,a,i);break;case 4:lG(t,r,s,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const wFe=new Uint16Array([255]),jFe=new Uint8Array(wFe.buffer),NFe=jFe[0]===255;function _Fe(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*a,c=new Uint8Array(s*r*l);let u=0;for(let d=0;d<7;d++){const h=o[d],p=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((s-h.y)/h.yStep);if(p<=0||f<=0)continue;const x=p*l,g=new Uint8Array(x);for(let v=0;v<f;v++){const b=t[u++],j=t.subarray(u,u+x);u+=x;const N=new Uint8Array(x);bFe(b,j,N,g,x,l),g.set(N);for(let A=0;A<p;A++){const S=h.x+A*h.xStep,L=h.y+v*h.yStep;if(!(S>=r||L>=s))for(let I=0;I<l;I++)c[(L*r+S)*l+I]=N[A*l+I]}}}if(i===16){const d=new Uint16Array(c.buffer);if(NFe)for(let h=0;h<d.length;h++)d[h]=SFe(d[h]);return d}else return c}function SFe(e){return(e&255)<<8|e>>8&255}const AFe=new Uint16Array([255]),kFe=new Uint8Array(AFe.buffer),CFe=kFe[0]===255,PFe=new Uint8Array(0);function eD(e){const{data:t,width:r,height:s,channels:a,depth:i}=e,o=Math.ceil(i/8)*a,l=Math.ceil(i/8*a*r),c=new Uint8Array(s*l);let u=PFe,d=0,h,p;for(let f=0;f<s;f++){switch(h=t.subarray(d+1,d+1+l),p=c.subarray(f*l,(f+1)*l),t[d]){case 0:sG(h,p,l);break;case 1:aG(h,p,l,o);break;case 2:iG(h,p,u,l);break;case 3:oG(h,p,u,l,o);break;case 4:lG(h,p,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=l+1}if(i===16){const f=new Uint16Array(c.buffer);if(CFe)for(let x=0;x<f.length;x++)f[x]=EFe(f[x]);return f}else return c}function EFe(e){return(e&255)<<8|e>>8&255}const V1=Uint8Array.of(137,80,78,71,13,10,26,10);function tD(e){if(!TFe(e.readBytes(V1.length)))throw new Error("wrong PNG signature")}function TFe(e){if(e.length<V1.length)return!1;for(let t=0;t<V1.length;t++)if(e[t]!==V1[t])return!1;return!0}const OFe="tEXt",LFe=0,cG=new TextDecoder("latin1");function IFe(e){if(DFe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const MFe=/^[\u0000-\u00FF]*$/;function DFe(e){if(!MFe.test(e))throw new Error("invalid latin1 text")}function RFe(e,t,r){const s=uG(t);e[s]=FFe(t,r-s.length-1)}function uG(e){for(e.mark();e.readByte()!==LFe;);const t=e.offset;e.reset();const r=cG.decode(e.readBytes(t-e.offset-1));return e.skip(1),IFe(r),r}function FFe(e,t){return cG.decode(e.readBytes(t))}const jo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$_={UNKNOWN:-1,DEFLATE:0},rD={UNKNOWN:-1,ADAPTIVE:0},B_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b1={NONE:0,BACKGROUND:1,PREVIOUS:2},z_={SOURCE:0,OVER:1};class $Fe extends zk{constructor(r,s={}){super(r);qe(this,"_checkCrc");qe(this,"_inflator");qe(this,"_png");qe(this,"_apng");qe(this,"_end");qe(this,"_hasPalette");qe(this,"_palette");qe(this,"_hasTransparency");qe(this,"_transparency");qe(this,"_compressionMethod");qe(this,"_filterMethod");qe(this,"_interlaceMethod");qe(this,"_colorType");qe(this,"_isAnimated");qe(this,"_numberOfFrames");qe(this,"_numberOfPlays");qe(this,"_frames");qe(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new XM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$_.UNKNOWN,this._filterMethod=rD.UNKNOWN,this._interlaceMethod=B_.UNKNOWN,this._colorType=jo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(tD(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeChunk(r,s)}return this.decodeImage(),this._png}decodeApng(){for(tD(this);!this._end;){const r=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(r,s)}return this.decodeApngImage(),this._apng}decodeChunk(r,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case OFe:RFe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?JM(this,r+4,s):this.skip(4)}decodeApngChunk(r,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,s),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?JM(this,r+4,s):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=BFe(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case jo.GREYSCALE:a=1;break;case jo.TRUECOLOUR:a=3;break;case jo.INDEXED_COLOUR:a=1;break;case jo.GREYSCALE_ALPHA:a=2;break;case jo.TRUECOLOUR_ALPHA:a=4;break;case jo.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==$_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const s=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<s;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const s=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let s=r,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case jo.GREYSCALE:case jo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let s=0;s<r/2;s++)this._transparency[s]=this.readUint16();break}case jo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let s=0;for(;s<r;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case jo.UNKNOWN:case jo.GREYSCALE_ALPHA:case jo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const s=uG(this),a=this.readUint8();if(a!==$_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:gFe(i)}}decodepHYs(){const r=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const s={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=eD({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(r,s,a){switch(r.disposeOp){case b1.NONE:break;case b1.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case b1.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,s){const a=1<<this._png.depth,i=(o,l)=>{const c=((o+s.yOffset)*this._png.width+s.xOffset+l)*this._png.channels,u=(o*s.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(s.blendOp){case z_.SOURCE:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++)r.data[c+d]=s.data[u+d]}break;case z_.OVER:for(let o=0;o<s.height;o++)for(let l=0;l<s.width;l++){const{index:c,frameIndex:u}=i(o,l);for(let d=0;d<this._png.channels;d++){const h=s.data[u+this._png.channels-1]/a,p=d%(this._png.channels-1)===0?1:s.data[u+d],f=Math.floor(h*p+(1-h)*r.data[c+d]);r.data[c+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==rD.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===B_.NO_INTERLACE)this._png.data=eD({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===B_.ADAM7)this._png.data=_Fe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,s=this._frames.at(-1);s?s.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:b1.NONE,blendOp:z_.SOURCE,data:r}),this._inflator=new XM,this._writingDataChunks=!1}}function BFe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var nD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(nD||(nD={}));function zFe(e,t){return new $Fe(e,t).decode()}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function U_(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var Dn={log:U_,warn:function(e){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):U_.call(null,arguments))},error:function(e){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):U_(e))}};function q_(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Xf(s.response,t,r)},s.onerror=function(){Dn.error("could not download file")},s.send()}function sD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function w1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Xf=ur.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=ur.URL||ur.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?sD(a.href)?q_(e,t,r):w1(a,a.target="_blank"):w1(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){w1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(sD(e))q_(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){w1(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:_n(i)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return q_(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(ur.HTMLElement)||ur.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=d:location=d,s=null},l.readAsDataURL(e)}else{var c=ur.URL||ur.webkitURL,u=c.createObjectURL(e);s?s.location=u:location.href=u,s=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var W1=ur.atob.bind(ur),aD=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function V_(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=ii(r,s,a,i,t[0],7,-680876936),i=ii(i,r,s,a,t[1],12,-389564586),a=ii(a,i,r,s,t[2],17,606105819),s=ii(s,a,i,r,t[3],22,-1044525330),r=ii(r,s,a,i,t[4],7,-176418897),i=ii(i,r,s,a,t[5],12,1200080426),a=ii(a,i,r,s,t[6],17,-1473231341),s=ii(s,a,i,r,t[7],22,-45705983),r=ii(r,s,a,i,t[8],7,1770035416),i=ii(i,r,s,a,t[9],12,-1958414417),a=ii(a,i,r,s,t[10],17,-42063),s=ii(s,a,i,r,t[11],22,-1990404162),r=ii(r,s,a,i,t[12],7,1804603682),i=ii(i,r,s,a,t[13],12,-40341101),a=ii(a,i,r,s,t[14],17,-1502002290),r=oi(r,s=ii(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=oi(i,r,s,a,t[6],9,-1069501632),a=oi(a,i,r,s,t[11],14,643717713),s=oi(s,a,i,r,t[0],20,-373897302),r=oi(r,s,a,i,t[5],5,-701558691),i=oi(i,r,s,a,t[10],9,38016083),a=oi(a,i,r,s,t[15],14,-660478335),s=oi(s,a,i,r,t[4],20,-405537848),r=oi(r,s,a,i,t[9],5,568446438),i=oi(i,r,s,a,t[14],9,-1019803690),a=oi(a,i,r,s,t[3],14,-187363961),s=oi(s,a,i,r,t[8],20,1163531501),r=oi(r,s,a,i,t[13],5,-1444681467),i=oi(i,r,s,a,t[2],9,-51403784),a=oi(a,i,r,s,t[7],14,1735328473),r=li(r,s=oi(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=li(i,r,s,a,t[8],11,-2022574463),a=li(a,i,r,s,t[11],16,1839030562),s=li(s,a,i,r,t[14],23,-35309556),r=li(r,s,a,i,t[1],4,-1530992060),i=li(i,r,s,a,t[4],11,1272893353),a=li(a,i,r,s,t[7],16,-155497632),s=li(s,a,i,r,t[10],23,-1094730640),r=li(r,s,a,i,t[13],4,681279174),i=li(i,r,s,a,t[0],11,-358537222),a=li(a,i,r,s,t[3],16,-722521979),s=li(s,a,i,r,t[6],23,76029189),r=li(r,s,a,i,t[9],4,-640364487),i=li(i,r,s,a,t[12],11,-421815835),a=li(a,i,r,s,t[15],16,530742520),r=ci(r,s=li(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ci(i,r,s,a,t[7],10,1126891415),a=ci(a,i,r,s,t[14],15,-1416354905),s=ci(s,a,i,r,t[5],21,-57434055),r=ci(r,s,a,i,t[12],6,1700485571),i=ci(i,r,s,a,t[3],10,-1894986606),a=ci(a,i,r,s,t[10],15,-1051523),s=ci(s,a,i,r,t[1],21,-2054922799),r=ci(r,s,a,i,t[8],6,1873313359),i=ci(i,r,s,a,t[15],10,-30611744),a=ci(a,i,r,s,t[6],15,-1560198380),s=ci(s,a,i,r,t[13],21,1309151649),r=ci(r,s,a,i,t[4],6,-145523070),i=ci(i,r,s,a,t[11],10,-1120210379),a=ci(a,i,r,s,t[2],15,718787259),s=ci(s,a,i,r,t[9],21,-343485551),e[0]=Ph(r,e[0]),e[1]=Ph(s,e[1]),e[2]=Ph(a,e[2]),e[3]=Ph(i,e[3])}function xN(e,t,r,s,a,i){return t=Ph(Ph(t,e),Ph(s,i)),Ph(t<<a|t>>>32-a,r)}function ii(e,t,r,s,a,i,o){return xN(t&r|~t&s,e,t,a,i,o)}function oi(e,t,r,s,a,i,o){return xN(t&s|r&~s,e,t,a,i,o)}function li(e,t,r,s,a,i,o){return xN(t^r^s,e,t,a,i,o)}function ci(e,t,r,s,a,i,o){return xN(r^(t|~s),e,t,a,i,o)}function hG(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)V_(s,UFe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(V_(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,V_(s,a),s}function UFe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var iD="0123456789abcdef".split("");function qFe(e){for(var t="",r=0;r<4;r++)t+=iD[e>>8*r+4&15]+iD[e>>8*r&15];return t}function VFe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function a6(e){return hG(e).map(VFe).join("")}var WFe=function(e){for(var t=0;t<e.length;t++)e[t]=qFe(e[t]);return e.join("")}(hG("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ph(e,t){if(WFe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i6(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,s=l}else l=s;var h=t.length,p=0,f=0,x="";for(c=0;c<h;c++)f=(f+(d=l[p=(p+1)%256]))%256,l[p]=l[f],l[f]=d,o=l[(l[p]+l[f])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oD={print:4,modify:8,copy:16,"annot-forms":32};function Jp(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(oD.perm!==void 0)throw new Error("Invalid permission: "+l);a+=oD[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=a6(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=i6(this.encryptionKey,this.padding)}function eg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[s]}return t}function lD(e){if(_n(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(l){ur.console&&Dn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function $w(e){if(!(this instanceof $w))return new $w(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function fG(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function em(e,t,r,s,a){if(!(this instanceof em))return new em(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,fG.call(this,s,a)}function hg(e,t,r,s,a){if(!(this instanceof hg))return new hg(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,fG.call(this,s,a)}function Bt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",d=null;_n(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=lD;var x="1.3",g=f.__private__.getPdfVersion=function(){return x};f.__private__.setPdfVersion=function(F){x=F};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var b=f.__private__.getPageFormat=function(F){return v[F]};a=a||"a4";var j="compat",N="advanced",A=j;function S(){this.saveGraphicsState(),Q(new Kt(Et,0,0,-Et,0,Ra()*Et).toString()+" cm"),this.setFontSize(this.getFontSize()/Et),u="n",A=N}function L(){this.restoreGraphicsState(),u="S",A=j}var I=f.__private__.combineFontStyleAndFontWeight=function(F,re){if(F=="bold"&&re=="normal"||F=="bold"&&re==400||F=="normal"&&re=="italic"||F=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(F=re==400||re==="normal"?F==="italic"?"italic":"normal":re!=700&&re!=="bold"||F!=="normal"?(re==700?"bold":re)+""+F:"bold"),F};f.advancedAPI=function(F){var re=A===j;return re&&S.call(this),typeof F!="function"||(F(this),re&&L.call(this)),this},f.compatAPI=function(F){var re=A===N;return re&&L.call(this),typeof F!="function"||(F(this),re&&S.call(this)),this},f.isAdvancedAPI=function(){return A===N};var k,E=function(F){if(A!==N)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=f.roundToPrecision=f.__private__.roundToPrecision=function(F,re){var we=t||re;if(isNaN(F)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(we).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof c=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,c)}:c==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,16)};var C=f.f2=f.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return B(F,2)},O=f.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return B(F,3)},M=f.scale=f.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return A===j?F*Et:A===N?F:void 0},D=function(F){return M(function(re){return A===j?Ra()-re:A===N?re:void 0}(F))};f.__private__.setPrecision=f.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(t=parseInt(F,10))};var W,z="00000000000000000000000000000000",G=f.__private__.getFileId=function(){return z},V=f.__private__.setFileId=function(F){return z=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(fs=new Jp(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};f.setFileId=function(F){return V(F),this},f.getFileId=function(){return G()};var Y=f.__private__.convertDateToPDFDate=function(F){var re=F.getTimezoneOffset(),we=re<0?"+":"-",Ae=Math.floor(Math.abs(re/60)),Le=Math.abs(re%60),Je=[we,Z(Ae),"'",Z(Le),"'"].join("");return["D:",F.getFullYear(),Z(F.getMonth()+1),Z(F.getDate()),Z(F.getHours()),Z(F.getMinutes()),Z(F.getSeconds()),Je].join("")},ie=f.__private__.convertPDFDateToDate=function(F){var re=parseInt(F.substr(2,4),10),we=parseInt(F.substr(6,2),10)-1,Ae=parseInt(F.substr(8,2),10),Le=parseInt(F.substr(10,2),10),Je=parseInt(F.substr(12,2),10),tt=parseInt(F.substr(14,2),10);return new Date(re,we,Ae,Le,Je,tt,0)},q=f.__private__.setCreationDate=function(F){var re;if(F===void 0&&(F=new Date),F instanceof Date)re=Y(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=F}return W=re},R=f.__private__.getCreationDate=function(F){var re=W;return F==="jsDate"&&(re=ie(W)),re};f.setCreationDate=function(F){return q(F),this},f.getCreationDate=function(F){return R(F)};var K,Z=f.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},se=f.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ue=0,ae=[],xe=[],X=0,me=[],ne=[],he=!1,ke=xe;f.__private__.setCustomOutputDestination=function(F){he=!0,ke=F};var je=function(F){he||(ke=F)};f.__private__.resetCustomOutputDestination=function(){he=!1,ke=xe};var Q=f.__private__.out=function(F){return F=F.toString(),X+=F.length+1,ke.push(F),ke},ze=f.__private__.write=function(F){return Q(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Ye=f.__private__.getArrayBuffer=function(F){for(var re=F.length,we=new ArrayBuffer(re),Ae=new Uint8Array(we);re--;)Ae[re]=F.charCodeAt(re);return we},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ge};var Ve=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(F){return Ve=A===N?F/Et:F,this};var J,de=f.__private__.getFontSize=f.getFontSize=function(){return A===j?Ve:Ve*Et},Se=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(F){return Se=F,this},f.__private__.getR2L=f.getR2L=function(){return Se};var De,He=f.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))J=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');J=F}else J=parseInt(F,10)};f.__private__.getZoomMode=function(){return J};var Fe,Ke=f.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');De=F};f.__private__.getPageMode=function(){return De};var lt=f.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Fe=F};f.__private__.getLayoutMode=function(){return Fe},f.__private__.setDisplayMode=f.setDisplayMode=function(F,re,we){return He(F),lt(re),Ke(we),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(F){if(Object.keys(ct).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[F]},f.__private__.getDocumentProperties=function(){return ct},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(F){for(var re in ct)ct.hasOwnProperty(re)&&F[re]&&(ct[re]=F[re]);return this},f.__private__.setDocumentProperty=function(F,re){if(Object.keys(ct).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[F]=re};var ft,Et,mt,sr,or,_t={},tr={},en=[],$t={},kr={},mr={},ds={},Ns=null,xn=0,lr=[],cn=new lD(f),uu=e.hotfixes||[],ja={},qo={},Vo=[],Kt=function F(re,we,Ae,Le,Je,tt){if(!(this instanceof F))return new F(re,we,Ae,Le,Je,tt);isNaN(re)&&(re=1),isNaN(we)&&(we=0),isNaN(Ae)&&(Ae=0),isNaN(Le)&&(Le=1),isNaN(Je)&&(Je=0),isNaN(tt)&&(tt=0),this._matrix=[re,we,Ae,Le,Je,tt]};Object.defineProperty(Kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(Kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(Kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(Kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(Kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(Kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(Kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Kt.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(F)},Kt.prototype.multiply=function(F){var re=F.sx*this.sx+F.shy*this.shx,we=F.sx*this.shy+F.shy*this.sy,Ae=F.shx*this.sx+F.sy*this.shx,Le=F.shx*this.shy+F.sy*this.sy,Je=F.tx*this.sx+F.ty*this.shx+this.tx,tt=F.tx*this.shy+F.ty*this.sy+this.ty;return new Kt(re,we,Ae,Le,Je,tt)},Kt.prototype.decompose=function(){var F=this.sx,re=this.shy,we=this.shx,Ae=this.sy,Le=this.tx,Je=this.ty,tt=Math.sqrt(F*F+re*re),At=(F/=tt)*we+(re/=tt)*Ae;we-=F*At,Ae-=re*At;var bt=Math.sqrt(we*we+Ae*Ae);return At/=bt,F*(Ae/=bt)<re*(we/=bt)&&(F=-F,re=-re,At=-At,tt=-tt),{scale:new Kt(tt,0,0,bt,0,0),translate:new Kt(1,0,0,1,Le,Je),rotate:new Kt(F,re,-re,F,0,0),skew:new Kt(1,0,At,1,0,0)}},Kt.prototype.toString=function(F){return this.join(" ")},Kt.prototype.inversed=function(){var F=this.sx,re=this.shy,we=this.shx,Ae=this.sy,Le=this.tx,Je=this.ty,tt=1/(F*Ae-re*we),At=Ae*tt,bt=-re*tt,rr=-we*tt,pr=F*tt;return new Kt(At,bt,rr,pr,-At*Le-rr*Je,-bt*Le-pr*Je)},Kt.prototype.applyToPoint=function(F){var re=F.x*this.sx+F.y*this.shx+this.tx,we=F.x*this.shy+F.y*this.sy+this.ty;return new gu(re,we)},Kt.prototype.applyToRectangle=function(F){var re=this.applyToPoint(F),we=this.applyToPoint(new gu(F.x+F.w,F.y+F.h));return new kd(re.x,re.y,we.x-re.x,we.y-re.y)},Kt.prototype.clone=function(){var F=this.sx,re=this.shy,we=this.shx,Ae=this.sy,Le=this.tx,Je=this.ty;return new Kt(F,re,we,Ae,Le,Je)},f.Matrix=Kt;var jl=f.matrixMult=function(F,re){return re.multiply(F)},no=new Kt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=no;var Fi=function(F,re){if(!kr[F]){var we=(re instanceof em?"Sh":"P")+(Object.keys($t).length+1).toString(10);re.id=we,kr[F]=we,$t[we]=re,cn.publish("addPattern",re)}};f.ShadingPattern=em,f.TilingPattern=hg,f.addShadingPattern=function(F,re){return E("addShadingPattern()"),Fi(F,re),this},f.beginTilingPattern=function(F){E("beginTilingPattern()"),ms(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},f.endTilingPattern=function(F,re){E("endTilingPattern()"),re.stream=ne[K].join(`
`),Fi(F,re),cn.publish("endTilingPattern",re),Vo.pop().restore()};var Ya,es=f.__private__.newObject=function(){var F=Ks();return aa(F,!0),F},Ks=f.__private__.newObjectDeferred=function(){return ue++,ae[ue]=function(){return X},ue},aa=function(F,re){return re=typeof re=="boolean"&&re,ae[F]=X,re&&Q(F+" 0 obj"),F},du=f.__private__.newAdditionalObject=function(){var F={objId:Ks(),content:""};return me.push(F),F},mc=Ks(),so=Ks(),Wo=f.__private__.decodeColorString=function(F){var re=F.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length!==5||re[4]!=="k"&&re[4]!=="K"||(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var we=parseFloat(re[0]);re=[we,we,we,"r"]}for(var Ae="#",Le=0;Le<3;Le++)Ae+=("0"+Math.floor(255*parseFloat(re[Le])).toString(16)).slice(-2);return Ae},ao=f.__private__.encodeColorString=function(F){var re;typeof F=="string"&&(F={ch1:F});var we=F.ch1,Ae=F.ch2,Le=F.ch3,Je=F.ch4,tt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var At=new dG(we);if(At.ok)we=At.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var bt=parseInt(we.substr(1),16);we=bt>>16&255,Ae=bt>>8&255,Le=255&bt}if(Ae===void 0||Je===void 0&&we===Ae&&Ae===Le)re=typeof we=="string"?we+" "+tt[0]:F.precision===2?C(we/255)+" "+tt[0]:O(we/255)+" "+tt[0];else if(Je===void 0||_n(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return["1.","1.","1.",tt[1]].join(" ");re=typeof we=="string"?[we,Ae,Le,tt[1]].join(" "):F.precision===2?[C(we/255),C(Ae/255),C(Le/255),tt[1]].join(" "):[O(we/255),O(Ae/255),O(Le/255),tt[1]].join(" ")}else re=typeof we=="string"?[we,Ae,Le,Je,tt[2]].join(" "):F.precision===2?[C(we),C(Ae),C(Le),C(Je),tt[2]].join(" "):[O(we),O(Ae),O(Le),O(Je),tt[2]].join(" ");return re},$i=f.__private__.getFilters=function(){return o},Bi=f.__private__.putStream=function(F){var re=(F=F||{}).data||"",we=F.filters||$i(),Ae=F.alreadyAppliedFilters||[],Le=F.addLength1||!1,Je=re.length,tt=F.objectId,At=function(Pn){return Pn};if(d!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(At=fs.encryptor(tt,0));var bt={};we===!0&&(we=["FlateEncode"]);var rr=F.additionalKeyValues||[],pr=(bt=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(re,we):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(bt.data.length!==0&&(rr.push({key:"Length",value:bt.data.length}),Le===!0&&rr.push({key:"Length1",value:Je})),pr.length!=0)if(pr.split("/").length-1==1)rr.push({key:"Filter",value:pr});else{rr.push({key:"Filter",value:"["+pr+"]"});for(var Cr=0;Cr<rr.length;Cr+=1)if(rr[Cr].key==="DecodeParms"){for(var Cn=[],ts=0;ts<bt.reverseChain.split("/").length-1;ts+=1)Cn.push("null");Cn.push(rr[Cr].value),rr[Cr].value="["+Cn.join(" ")+"]"}}Q("<<");for(var Wt=0;Wt<rr.length;Wt++)Q("/"+rr[Wt].key+" "+rr[Wt].value);Q(">>"),bt.data.length!==0&&(Q("stream"),Q(At(bt.data)),Q("endstream"))},hu=f.__private__.putPage=function(F){var re=F.number,we=F.data,Ae=F.objId,Le=F.contentsObjId;aa(Ae,!0),Q("<</Type /Page"),Q("/Parent "+F.rootDictionaryObjId+" 0 R"),Q("/Resources "+F.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(k(F.mediaBox.bottomLeftX))+" "+parseFloat(k(F.mediaBox.bottomLeftY))+" "+k(F.mediaBox.topRightX)+" "+k(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&Q("/CropBox ["+k(F.cropBox.bottomLeftX)+" "+k(F.cropBox.bottomLeftY)+" "+k(F.cropBox.topRightX)+" "+k(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&Q("/BleedBox ["+k(F.bleedBox.bottomLeftX)+" "+k(F.bleedBox.bottomLeftY)+" "+k(F.bleedBox.topRightX)+" "+k(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&Q("/TrimBox ["+k(F.trimBox.bottomLeftX)+" "+k(F.trimBox.bottomLeftY)+" "+k(F.trimBox.topRightX)+" "+k(F.trimBox.topRightY)+"]"),F.artBox!==null&&Q("/ArtBox ["+k(F.artBox.bottomLeftX)+" "+k(F.artBox.bottomLeftY)+" "+k(F.artBox.topRightX)+" "+k(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&Q("/UserUnit "+F.userUnit),cn.publish("putPage",{objId:Ae,pageContext:lr[re],pageNumber:re,page:we}),Q("/Contents "+Le+" 0 R"),Q(">>"),Q("endobj");var Je=we.join(`
`);return A===N&&(Je+=`
Q`),aa(Le,!0),Bi({data:Je,filters:$i(),objectId:Le}),Q("endobj"),Ae},Ho=f.__private__.putPages=function(){var F,re,we=[];for(F=1;F<=xn;F++)lr[F].objId=Ks(),lr[F].contentsObjId=Ks();for(F=1;F<=xn;F++)we.push(hu({number:F,data:ne[F],objId:lr[F].objId,contentsObjId:lr[F].contentsObjId,mediaBox:lr[F].mediaBox,cropBox:lr[F].cropBox,bleedBox:lr[F].bleedBox,trimBox:lr[F].trimBox,artBox:lr[F].artBox,userUnit:lr[F].userUnit,rootDictionaryObjId:mc,resourceDictionaryObjId:so}));aa(mc,!0),Q("<</Type /Pages");var Ae="/Kids [";for(re=0;re<xn;re++)Ae+=we[re]+" 0 R ";Q(Ae+"]"),Q("/Count "+xn),Q(">>"),Q("endobj"),cn.publish("postPutPages")},fu=function(F){cn.publish("putFont",{font:F,out:Q,newObject:es,putStream:Bi}),F.isAlreadyPutted!==!0&&(F.objectNumber=es(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+eg(F.postScriptName)),Q("/Subtype /Type1"),typeof F.encoding=="string"&&Q("/Encoding /"+F.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},md=function(F){F.objectNumber=es();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[k(F.x),k(F.y),k(F.x+F.width),k(F.y+F.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var we=F.pages[1].join(`
`);Bi({data:we,additionalKeyValues:re,objectId:F.objectNumber}),Q("endobj")},pd=function(F,re){re||(re=21);var we=es(),Ae=function(tt,At){var bt,rr=[],pr=1/(At-1);for(bt=0;bt<1;bt+=pr)rr.push(bt);if(rr.push(1),tt[0].offset!=0){var Cr={offset:0,color:tt[0].color};tt.unshift(Cr)}if(tt[tt.length-1].offset!=1){var Cn={offset:1,color:tt[tt.length-1].color};tt.push(Cn)}for(var ts="",Wt=0,Pn=0;Pn<rr.length;Pn++){for(bt=rr[Pn];bt>tt[Wt+1].offset;)Wt++;var rs=tt[Wt].offset,ia=(bt-rs)/(tt[Wt+1].offset-rs),co=tt[Wt].color,vc=tt[Wt+1].color;ts+=se(Math.round((1-ia)*co[0]+ia*vc[0]).toString(16))+se(Math.round((1-ia)*co[1]+ia*vc[1]).toString(16))+se(Math.round((1-ia)*co[2]+ia*vc[2]).toString(16))}return ts.trim()}(F.colors,re),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+re+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bi({data:Ae,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),Q("endobj"),F.objectNumber=es(),Q("<< /ShadingType "+F.type),Q("/ColorSpace /DeviceRGB");var Je="/Coords ["+k(parseFloat(F.coords[0]))+" "+k(parseFloat(F.coords[1]))+" ";F.type===2?Je+=k(parseFloat(F.coords[2]))+" "+k(parseFloat(F.coords[3])):Je+=k(parseFloat(F.coords[2]))+" "+k(parseFloat(F.coords[3]))+" "+k(parseFloat(F.coords[4]))+" "+k(parseFloat(F.coords[5])),Q(Je+="]"),F.matrix&&Q("/Matrix ["+F.matrix.toString()+"]"),Q("/Function "+we+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Nl=function(F,re){var we=Ks(),Ae=es();re.push({resourcesOid:we,objectOid:Ae}),F.objectNumber=Ae;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+F.boundingBox.map(k).join(" ")+"]"}),Le.push({key:"XStep",value:k(F.xStep)}),Le.push({key:"YStep",value:k(F.yStep)}),Le.push({key:"Resources",value:we+" 0 R"}),F.matrix&&Le.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Bi({data:F.stream,additionalKeyValues:Le,objectId:F.objectNumber}),Q("endobj")},Qx=function(F){for(var re in F.objectNumber=es(),Q("<<"),F)switch(re){case"opacity":Q("/ca "+C(F[re]));break;case"stroke-opacity":Q("/CA "+C(F[re]))}Q(">>"),Q("endobj")},pc=function(F){aa(F.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var re in Q("/Font <<"),_t)_t.hasOwnProperty(re)&&(h===!1||h===!0&&p.hasOwnProperty(re))&&Q("/"+re+" "+_t[re].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys($t).length>0){for(var re in Q("/Shading <<"),$t)$t.hasOwnProperty(re)&&$t[re]instanceof em&&$t[re].objectNumber>=0&&Q("/"+re+" "+$t[re].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),Q(">>")}}(),function(re){if(Object.keys($t).length>0){for(var we in Q("/Pattern <<"),$t)$t.hasOwnProperty(we)&&$t[we]instanceof f.TilingPattern&&$t[we].objectNumber>=0&&$t[we].objectNumber<re&&Q("/"+we+" "+$t[we].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),Q(">>")}}(F.objectOid),function(){if(Object.keys(mr).length>0){var re;for(re in Q("/ExtGState <<"),mr)mr.hasOwnProperty(re)&&mr[re].objectNumber>=0&&Q("/"+re+" "+mr[re].objectNumber+" 0 R");cn.publish("putGStateDict"),Q(">>")}}(),function(){for(var re in Q("/XObject <<"),ja)ja.hasOwnProperty(re)&&ja[re].objectNumber>=0&&Q("/"+re+" "+ja[re].objectNumber+" 0 R");cn.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},up=function(F){tr[F.fontName]=tr[F.fontName]||{},tr[F.fontName][F.fontStyle]=F.id},dp=function(F,re,we,Ae,Le){var Je={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:F,fontName:re,fontStyle:we,encoding:Ae,isStandardFont:Le||!1,metadata:{}};return cn.publish("addFont",{font:Je,instance:this}),_t[Je.id]=Je,up(Je),Je.id},zi=f.__private__.pdfEscape=f.pdfEscape=function(F,re){return function(we,Ae){var Le,Je,tt,At,bt,rr,pr,Cr,Cn;if(tt=(Ae=Ae||{}).sourceEncoding||"Unicode",bt=Ae.outputEncoding,(Ae.autoencode||bt)&&_t[ft].metadata&&_t[ft].metadata[tt]&&_t[ft].metadata[tt].encoding&&(At=_t[ft].metadata[tt].encoding,!bt&&_t[ft].encoding&&(bt=_t[ft].encoding),!bt&&At.codePages&&(bt=At.codePages[0]),typeof bt=="string"&&(bt=At[bt]),bt)){for(pr=!1,rr=[],Le=0,Je=we.length;Le<Je;Le++)(Cr=bt[we.charCodeAt(Le)])?rr.push(String.fromCharCode(Cr)):rr.push(we[Le]),rr[Le].charCodeAt(0)>>8&&(pr=!0);we=rr.join("")}for(Le=we.length;pr===void 0&&Le!==0;)we.charCodeAt(Le-1)>>8&&(pr=!0),Le--;if(!pr)return we;for(rr=Ae.noBOM?[]:[254,255],Le=0,Je=we.length;Le<Je;Le++){if((Cn=(Cr=we.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(Cn),rr.push(Cr-(Cn<<8))}return String.fromCharCode.apply(void 0,rr)}(F,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gd=f.__private__.beginPage=function(F){ne[++xn]=[],lr[xn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},hp(xn),je(ne[K])},cf=function(F,re){var we,Ae,Le;switch(r=re||r,typeof F=="string"&&(we=b(F.toLowerCase()),Array.isArray(we)&&(Ae=we[0],Le=we[1])),Array.isArray(F)&&(Ae=F[0]*Et,Le=F[1]*Et),isNaN(Ae)&&(Ae=a[0],Le=a[1]),(Ae>14400||Le>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Le=Math.min(14400,Le)),a=[Ae,Le],r.substr(0,1)){case"l":Le>Ae&&(a=[Le,Ae]);break;case"p":Ae>Le&&(a=[Le,Ae])}gd(a),r0(hf),Q(Sd),mf!==0&&Q(mf+" J"),pf!==0&&Q(pf+" j"),cn.publish("addPage",{pageNumber:xn})},xd=function(F){F>0&&F<=xn&&(ne.splice(F,1),lr.splice(F,1),xn--,K>xn&&(K=xn),this.setPage(K))},hp=function(F){F>0&&F<=xn&&(K=F)},fp=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ne.length-1},mp=function(F,re,we){var Ae,Le=void 0;return we=we||{},F=F!==void 0?F:_t[ft].fontName,re=re!==void 0?re:_t[ft].fontStyle,Ae=F.toLowerCase(),tr[Ae]!==void 0&&tr[Ae][re]!==void 0?Le=tr[Ae][re]:tr[F]!==void 0&&tr[F][re]!==void 0?Le=tr[F][re]:we.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+F+"', '"+re+"'. Refer to getFontList() for available fonts."),Le||we.noFallback||(Le=tr.times[re])==null&&(Le=tr.times.normal),Le},yd=f.__private__.putInfo=function(){var F=es(),re=function(Ae){return Ae};for(var we in d!==null&&(re=fs.encryptor(F,0)),Q("<<"),Q("/Producer ("+zi(re("jsPDF "+Bt.version))+")"),ct)ct.hasOwnProperty(we)&&ct[we]&&Q("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+zi(re(ct[we]))+")");Q("/CreationDate ("+zi(re(W))+")"),Q(">>"),Q("endobj")},pp=f.__private__.putCatalog=function(F){var re=(F=F||{}).rootDictionaryObjId||mc;switch(es(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+re+" 0 R"),J||(J="fullwidth"),J){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+J;we.substr(we.length-1)==="%"&&(J=parseInt(J)/100),typeof J=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+C(J)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}De&&Q("/PageMode /"+De),cn.publish("putCatalog"),Q(">>"),Q("endobj")},hs=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ue+1)),Q("/Root "+ue+" 0 R"),Q("/Info "+(ue-1)+" 0 R"),d!==null&&Q("/Encrypt "+fs.oid+" 0 R"),Q("/ID [ <"+z+"> <"+z+"> ]"),Q(">>")},uf=f.__private__.putHeader=function(){Q("%PDF-"+x),Q("%ºß¬à")},vd=f.__private__.putXRef=function(){var F="0000000000";Q("xref"),Q("0 "+(ue+1)),Q("0000000000 65535 f ");for(var re=1;re<=ue;re++)typeof ae[re]=="function"?Q((F+ae[re]()).slice(-10)+" 00000 n "):ae[re]!==void 0?Q((F+ae[re]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},_l=f.__private__.buildDocument=function(){var F;ue=0,X=0,xe=[],ae=[],me=[],mc=Ks(),so=Ks(),je(xe),cn.publish("buildDocument"),uf(),Ho(),function(){cn.publish("putAdditionalObjects");for(var we=0;we<me.length;we++){var Ae=me[we];aa(Ae.objId,!0),Q(Ae.content),Q("endobj")}cn.publish("postPutAdditionalObjects")}(),F=[],function(){for(var we in _t)_t.hasOwnProperty(we)&&(h===!1||h===!0&&p.hasOwnProperty(we))&&fu(_t[we])}(),function(){var we;for(we in mr)mr.hasOwnProperty(we)&&Qx(mr[we])}(),function(){for(var we in ja)ja.hasOwnProperty(we)&&md(ja[we])}(),function(we){var Ae;for(Ae in $t)$t.hasOwnProperty(Ae)&&($t[Ae]instanceof em?pd($t[Ae]):$t[Ae]instanceof hg&&Nl($t[Ae],we))}(F),cn.publish("putResources"),F.forEach(pc),pc({resourcesOid:so,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources"),d!==null&&(fs.oid=es(),Q("<<"),Q("/Filter /Standard"),Q("/V "+fs.v),Q("/R "+fs.r),Q("/U <"+fs.toHexString(fs.U)+">"),Q("/O <"+fs.toHexString(fs.O)+">"),Q("/P "+fs.P),Q(">>"),Q("endobj")),yd(),pp();var re=X;return vd(),hs(),Q("startxref"),Q(""+re),Q("%%EOF"),je(ne[K]),xe.join(`
`)},gc=f.__private__.getBlob=function(F){return new Blob([Ye(F)],{type:"application/pdf"})},Za=f.output=f.__private__.output=(Ya=function(F,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",F){case void 0:return _l();case"save":f.save(re.filename);break;case"arraybuffer":return Ye(_l());case"blob":return gc(_l());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(gc(_l()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ae=_l();try{we=aD(Ae)}catch{we=aD(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+re.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Le=re.pdfObjectUrl,Je="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",At=ur.open();return At!==null&&At.document.write(tt),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',rr=ur.open();if(rr!==null){rr.document.write(bt);var pr=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=re.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Cn=ur.open();if(Cn!==null&&(Cn.document.write(Cr),Cn.document.title=re.filename),Cn||typeof safari>"u")return Cn;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",re);default:return null}},Ya.foo=function(){try{return Ya.apply(this,arguments)}catch(we){var F=we.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var re="Error in function "+F.split(`
`)[0].split("<")[0]+": "+we.message;if(!ur.console)throw new Error(re);ur.console.error(re,we),ur.alert&&alert(re)}},Ya.foo.bar=Ya,Ya.foo),xc=function(F){return Array.isArray(uu)===!0&&uu.indexOf(F)>-1};switch(s){case"pt":Et=1;break;case"mm":Et=72/25.4;break;case"cm":Et=72/2.54;break;case"in":Et=72;break;case"px":Et=xc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Et=12;break;case"ex":Et=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);Et=s}var fs=null;q(),V();var bd=f.__private__.getPageInfo=f.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[F].objId,pageNumber:F,pageContext:lr[F]}},gp=f.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in lr)if(lr[re].objId===F)break;return bd(re)},df=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:lr[K].objId,pageNumber:K,pageContext:lr[K]}};f.addPage=function(){return cf.apply(this,arguments),this},f.setPage=function(){return hp.apply(this,arguments),je.call(this,ne[K]),this},f.insertPage=function(F){return this.addPage(),this.movePage(K,F),this},f.movePage=function(F,re){var we,Ae;if(F>re){we=ne[F],Ae=lr[F];for(var Le=F;Le>re;Le--)ne[Le]=ne[Le-1],lr[Le]=lr[Le-1];ne[re]=we,lr[re]=Ae,this.setPage(re)}else if(F<re){we=ne[F],Ae=lr[F];for(var Je=F;Je<re;Je++)ne[Je]=ne[Je+1],lr[Je]=lr[Je+1];ne[re]=we,lr[re]=Ae,this.setPage(re)}return this},f.deletePage=function(){return xd.apply(this,arguments),this},f.__private__.text=f.text=function(F,re,we,Ae,Le){var Je,tt,At,bt,rr,pr,Cr,Cn,ts,Wt=(Ae=Ae||{}).scope||this;if(typeof F=="number"&&typeof re=="number"&&(typeof we=="string"||Array.isArray(we))){var Pn=we;we=re,re=F,F=Pn}if(arguments[3]instanceof Kt==0?(At=arguments[4],bt=arguments[5],_n(Cr=arguments[3])==="object"&&Cr!==null||(typeof At=="string"&&(bt=At,At=null),typeof Cr=="string"&&(bt=Cr,Cr=null),typeof Cr=="number"&&(At=Cr,Cr=null),Ae={flags:Cr,angle:At,align:bt})):(E("The transform parameter of text() with a Matrix value"),ts=Le),isNaN(re)||isNaN(we)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Wt;var rs,ia="",co=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:mu,vc=Wt.internal.scaleFactor;function c0(En){return En=En.split("	").join(Array(Ae.TabLen||9).join(" ")),zi(En,Cr)}function vp(En){for(var sn,Ee=En.concat(),We=[],Ue=Ee.length;Ue--;)typeof(sn=Ee.shift())=="string"?We.push(sn):Array.isArray(En)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?We.push(sn[0]):We.push([sn[0],sn[1],sn[2]]);return We}function bc(En,sn){var Ee;if(typeof En=="string")Ee=sn(En)[0];else if(Array.isArray(En)){for(var We,Ue,yt=En.concat(),zt=[],$r=yt.length;$r--;)typeof(We=yt.shift())=="string"?zt.push(sn(We)[0]):Array.isArray(We)&&typeof We[0]=="string"&&(Ue=sn(We[0],We[1],We[2]),zt.push([Ue[0],Ue[1],Ue[2]]));Ee=zt}return Ee}var Xa=!1,Go=!0;if(typeof F=="string")Xa=!0;else if(Array.isArray(F)){var Ed=F.concat();tt=[];for(var Cl,Is=Ed.length;Is--;)(typeof(Cl=Ed.shift())!="string"||Array.isArray(Cl)&&typeof Cl[0]!="string")&&(Go=!1);Xa=Go}if(Xa===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var uo=Ve/Wt.internal.scaleFactor,ho=uo*(co-1);switch(Ae.baseline){case"bottom":we-=ho;break;case"top":we+=uo-ho;break;case"hanging":we+=uo-2*ho;break;case"middle":we+=uo/2-ho}if((pr=Ae.maxWidth||0)>0&&(typeof F=="string"?F=Wt.splitTextToSize(F,pr):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(En,sn){return En.concat(Wt.splitTextToSize(sn,pr))},[]))),Je={text:F,x:re,y:we,options:Ae,mutex:{pdfEscape:zi,activeFontKey:ft,fonts:_t,activeFontSize:Ve}},cn.publish("preProcessText",Je),F=Je.text,At=(Ae=Je.options).angle,ts instanceof Kt==0&&At&&typeof At=="number"){At*=Math.PI/180,Ae.rotationDirection===0&&(At=-At),A===N&&(At=-At);var xu=Math.cos(At),gf=Math.sin(At);ts=new Kt(xu,gf,-gf,xu,0,0)}else At&&At instanceof Kt&&(ts=At);A!==N||ts||(ts=no),(rr=Ae.charSpace||Ad)!==void 0&&(ia+=k(M(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Cn=Ae.horizontalScale)!==void 0&&(ia+=k(100*Cn)+` Tz
`),Ae.lang;var oa=-1,Td=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Od=Wt.internal.getCurrentPageInfo().pageContext;switch(Td){case 0:case!1:case"fill":oa=0;break;case 1:case!0:case"stroke":oa=1;break;case 2:case"fillThenStroke":oa=2;break;case 3:case"invisible":oa=3;break;case 4:case"fillAndAddForClipping":oa=4;break;case 5:case"strokeAndAddPathForClipping":oa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":oa=6;break;case 7:case"addToPathForClipping":oa=7}var xf=Od.usedRenderingMode!==void 0?Od.usedRenderingMode:-1;oa!==-1?ia+=oa+` Tr
`:xf!==-1&&(ia+=`0 Tr
`),oa!==-1&&(Od.usedRenderingMode=oa),bt=Ae.align||"left";var nn,Qa=Ve*co,Pl=Wt.internal.pageSize.getWidth(),Ld=_t[ft];rr=Ae.charSpace||Ad,pr=Ae.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var El=[],Id=function(En){return Wt.getStringUnitWidth(En,{font:Ld,charSpace:rr,fontSize:Ve,doKerning:!1})*Ve/vc};if(Object.prototype.toString.call(F)==="[object Array]"){var Ja;tt=vp(F),bt!=="left"&&(nn=tt.map(Id));var ei,yu=0;if(bt==="right"){re-=nn[0],F=[],Is=tt.length;for(var Ko=0;Ko<Is;Ko++)Ko===0?(ei=oo(re),Ja=Al(we)):(ei=M(yu-nn[Ko]),Ja=-Qa),F.push([tt[Ko],ei,Ja]),yu=nn[Ko]}else if(bt==="center"){re-=nn[0]/2,F=[],Is=tt.length;for(var pi=0;pi<Is;pi++)pi===0?(ei=oo(re),Ja=Al(we)):(ei=M((yu-nn[pi])/2),Ja=-Qa),F.push([tt[pi],ei,Ja]),yu=nn[pi]}else if(bt==="left"){F=[],Is=tt.length;for(var yf=0;yf<Is;yf++)F.push(tt[yf])}else if(bt==="justify"&&Ld.encoding==="Identity-H"){F=[],Is=tt.length,pr=pr!==0?pr:Pl;for(var wc=0,qn=0;qn<Is;qn++)if(Ja=qn===0?Al(we):-Qa,ei=qn===0?oo(re):wc,qn<Is-1){var bp=M((pr-nn[qn])/(tt[qn].split(" ").length-1)),la=tt[qn].split(" ");F.push([la[0]+" ",ei,Ja]),wc=0;for(var gi=1;gi<la.length;gi++){var Md=(Id(la[gi-1]+" "+la[gi])-Id(la[gi]))*vc+bp;gi==la.length-1?F.push([la[gi],Md,0]):F.push([la[gi]+" ",Md,0]),wc-=Md}}else F.push([tt[qn],ei,Ja]);F.push(["",wc,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],Is=tt.length,pr=pr!==0?pr:Pl,qn=0;qn<Is;qn++)Ja=qn===0?Al(we):-Qa,ei=qn===0?oo(re):0,qn<Is-1?El.push(k(M((pr-nn[qn])/(tt[qn].split(" ").length-1)))):El.push(0),F.push([tt[qn],ei,Ja])}}(typeof Ae.R2L=="boolean"?Ae.R2L:Se)===!0&&(F=bc(F,function(En,sn,Ee){return[En.split("").reverse().join(""),sn,Ee]})),Je={text:F,x:re,y:we,options:Ae,mutex:{pdfEscape:zi,activeFontKey:ft,fonts:_t,activeFontSize:Ve}},cn.publish("postProcessText",Je),F=Je.text,rs=Je.mutex.isHex||!1;var vf=_t[ft].encoding;vf!=="WinAnsiEncoding"&&vf!=="StandardEncoding"||(F=bc(F,function(En,sn,Ee){return[c0(En),sn,Ee]})),tt=vp(F),F=[];for(var Dd,fo,ca,jc=Array.isArray(tt[0])?1:0,Tl="",bf=function(En,sn,Ee){var We="";return Ee instanceof Kt?(Ee=typeof Ae.angle=="number"?jl(Ee,new Kt(1,0,0,1,En,sn)):jl(new Kt(1,0,0,1,En,sn),Ee),A===N&&(Ee=jl(new Kt(1,0,0,-1,0,0),Ee)),We=Ee.join(" ")+` Tm
`):We=k(En)+" "+k(sn)+` Td
`,We},xi=0;xi<tt.length;xi++){switch(Tl="",jc){case 1:ca=(rs?"<":"(")+tt[xi][0]+(rs?">":")"),Dd=parseFloat(tt[xi][1]),fo=parseFloat(tt[xi][2]);break;case 0:ca=(rs?"<":"(")+tt[xi]+(rs?">":")"),Dd=oo(re),fo=Al(we)}El!==void 0&&El[xi]!==void 0&&(Tl=El[xi]+` Tw
`),xi===0?F.push(Tl+bf(Dd,fo,ts)+ca):jc===0?F.push(Tl+ca):jc===1&&F.push(Tl+bf(Dd,fo,ts)+ca)}F=jc===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Yo=`BT
/`;return Yo+=ft+" "+Ve+` Tf
`,Yo+=k(Ve*co)+` TL
`,Yo+=tn+`
`,Yo+=ia,Yo+=F,Q(Yo+="ET"),p[ft]=!0,Wt};var Jx=f.__private__.clip=f.clip=function(F){return Q(F==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Jx("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var io=f.__private__.isValidStyle=function(F){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(re=!0),re};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(F){return io(F)&&(u=F),this};var wd=f.__private__.getStyle=f.getStyle=function(F){var re=u;switch(F){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=F}return re},jd=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(F){return mi("f",F),this},f.fillEvenOdd=function(F){return mi("f*",F),this},f.fillStroke=function(F){return mi("B",F),this},f.fillStrokeEvenOdd=function(F){return mi("B*",F),this};var mi=function(F,re){_n(re)==="object"?e0(re,F):Q(F)},Nd=function(F){F===null||A===N&&F===void 0||(F=wd(F),Q(F))};function xp(F,re,we,Ae,Le){var Je=new hg(re||this.boundingBox,we||this.xStep,Ae||this.yStep,this.gState,Le||this.matrix);Je.stream=this.stream;var tt=F+"$$"+this.cloneIndex+++"$$";return Fi(tt,Je),Je}var e0=function(F,re){var we=kr[F.key],Ae=$t[we];if(Ae instanceof em)Q("q"),Q(yp(re)),Ae.gState&&f.setGState(Ae.gState),Q(F.matrix.toString()+" cm"),Q("/"+we+" sh"),Q("Q");else if(Ae instanceof hg){var Le=new Kt(1,0,0,-1,0,Ra());F.matrix&&(Le=Le.multiply(F.matrix||no),we=xp.call(Ae,F.key,F.boundingBox,F.xStep,F.yStep,Le).id),Q("q"),Q("/Pattern cs"),Q("/"+we+" scn"),Ae.gState&&f.setGState(Ae.gState),Q(re),Q("Q")}},yp=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_d=f.moveTo=function(F,re){return Q(k(M(F))+" "+k(D(re))+" m"),this},yc=f.lineTo=function(F,re){return Q(k(M(F))+" "+k(D(re))+" l"),this},Sl=f.curveTo=function(F,re,we,Ae,Le,Je){return Q([k(M(F)),k(D(re)),k(M(we)),k(D(Ae)),k(M(Le)),k(D(Je)),"c"].join(" ")),this};f.__private__.line=f.line=function(F,re,we,Ae,Le){if(isNaN(F)||isNaN(re)||isNaN(we)||isNaN(Ae)||!io(Le))throw new Error("Invalid arguments passed to jsPDF.line");return A===j?this.lines([[we-F,Ae-re]],F,re,[1,1],Le||"S"):this.lines([[we-F,Ae-re]],F,re,[1,1]).stroke()},f.__private__.lines=f.lines=function(F,re,we,Ae,Le,Je){var tt,At,bt,rr,pr,Cr,Cn,ts,Wt,Pn,rs,ia;if(typeof F=="number"&&(ia=we,we=re,re=F,F=ia),Ae=Ae||[1,1],Je=Je||!1,isNaN(re)||isNaN(we)||!Array.isArray(F)||!Array.isArray(Ae)||!io(Le)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_d(re,we),tt=Ae[0],At=Ae[1],rr=F.length,Pn=re,rs=we,bt=0;bt<rr;bt++)(pr=F[bt]).length===2?(Pn=pr[0]*tt+Pn,rs=pr[1]*At+rs,yc(Pn,rs)):(Cr=pr[0]*tt+Pn,Cn=pr[1]*At+rs,ts=pr[2]*tt+Pn,Wt=pr[3]*At+rs,Pn=pr[4]*tt+Pn,rs=pr[5]*At+rs,Sl(Cr,Cn,ts,Wt,Pn,rs));return Je&&jd(),Nd(Le),this},f.path=function(F){for(var re=0;re<F.length;re++){var we=F[re],Ae=we.c;switch(we.op){case"m":_d(Ae[0],Ae[1]);break;case"l":yc(Ae[0],Ae[1]);break;case"c":Sl.apply(this,Ae);break;case"h":jd()}}return this},f.__private__.rect=f.rect=function(F,re,we,Ae,Le){if(isNaN(F)||isNaN(re)||isNaN(we)||isNaN(Ae)||!io(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return A===j&&(Ae=-Ae),Q([k(M(F)),k(D(re)),k(M(we)),k(M(Ae)),"re"].join(" ")),Nd(Le),this},f.__private__.triangle=f.triangle=function(F,re,we,Ae,Le,Je,tt){if(isNaN(F)||isNaN(re)||isNaN(we)||isNaN(Ae)||isNaN(Le)||isNaN(Je)||!io(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-F,Ae-re],[Le-we,Je-Ae],[F-Le,re-Je]],F,re,[1,1],tt,!0),this},f.__private__.roundedRect=f.roundedRect=function(F,re,we,Ae,Le,Je,tt){if(isNaN(F)||isNaN(re)||isNaN(we)||isNaN(Ae)||isNaN(Le)||isNaN(Je)||!io(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*we),Je=Math.min(Je,.5*Ae),this.lines([[we-2*Le,0],[Le*At,0,Le,Je-Je*At,Le,Je],[0,Ae-2*Je],[0,Je*At,-Le*At,Je,-Le,Je],[2*Le-we,0],[-Le*At,0,-Le,-Je*At,-Le,-Je],[0,2*Je-Ae],[0,-Je*At,Le*At,-Je,Le,-Je]],F+Le,re,[1,1],tt,!0),this},f.__private__.ellipse=f.ellipse=function(F,re,we,Ae,Le){if(isNaN(F)||isNaN(re)||isNaN(we)||isNaN(Ae)||!io(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*we,tt=4/3*(Math.SQRT2-1)*Ae;return _d(F+we,re),Sl(F+we,re-tt,F+Je,re-Ae,F,re-Ae),Sl(F-Je,re-Ae,F-we,re-tt,F-we,re),Sl(F-we,re+tt,F-Je,re+Ae,F,re+Ae),Sl(F+Je,re+Ae,F+we,re+tt,F+we,re),Nd(Le),this},f.__private__.circle=f.circle=function(F,re,we,Ae){if(isNaN(F)||isNaN(re)||isNaN(we)||!io(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,re,we,we,Ae)},f.setFont=function(F,re,we){return we&&(re=I(re,we)),ft=mp(F,re,{disableWarning:!1}),this};var t0=f.__private__.getFont=f.getFont=function(){return _t[mp.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var F,re,we={};for(F in tr)if(tr.hasOwnProperty(F))for(re in we[F]=[],tr[F])tr[F].hasOwnProperty(re)&&we[F].push(re);return we},f.addFont=function(F,re,we,Ae,Le){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(we=I(we,Ae)),dp.call(this,F,re,we,Le=Le||"Identity-H")};var mu,hf=e.lineWidth||.200025,ar=f.__private__.getLineWidth=f.getLineWidth=function(){return hf},r0=f.__private__.setLineWidth=f.setLineWidth=function(F){return hf=F,Q(k(M(F))+" w"),this};f.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(F,re){if(F=F||[],re=re||0,isNaN(re)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(we){return k(M(we))}).join(" "),re=k(M(re)),Q("["+F+"] "+re+" d"),this};var n0=f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*mu};f.__private__.getLineHeight=f.getLineHeight=function(){return Ve*mu};var s0=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(mu=F),this},a0=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return mu};s0(e.lineHeight);var oo=f.__private__.getHorizontalCoordinate=function(F){return M(F)},Al=f.__private__.getVerticalCoordinate=function(F){return A===N?F:lr[K].mediaBox.topRightY-lr[K].mediaBox.bottomLeftY-M(F)},i0=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(F){return k(oo(F))},o0=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(F){return k(Al(F))},Sd=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Wo(Sd)},f.__private__.setStrokeColor=f.setDrawColor=function(F,re,we,Ae){return Sd=ao({ch1:F,ch2:re,ch3:we,ch4:Ae,pdfColorType:"draw",precision:2}),Q(Sd),this};var ff=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Wo(ff)},f.__private__.setFillColor=f.setFillColor=function(F,re,we,Ae){return ff=ao({ch1:F,ch2:re,ch3:we,ch4:Ae,pdfColorType:"fill",precision:2}),Q(ff),this};var tn=e.textColor||"0 g",rn=f.__private__.getTextColor=f.getTextColor=function(){return Wo(tn)};f.__private__.setTextColor=f.setTextColor=function(F,re,we,Ae){return tn=ao({ch1:F,ch2:re,ch3:we,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ad=e.charSpace,l0=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ad||0)};f.__private__.setCharSpace=f.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ad=F,this};var mf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(F){var re=f.CapJoinStyles[F];if(re===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mf=re,Q(re+" J"),this};var pf=0;f.__private__.setLineJoin=f.setLineJoin=function(F){var re=f.CapJoinStyles[F];if(re===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pf=re,Q(re+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(k(M(F))+" M"),this},f.GState=$w,f.setGState=function(F){(F=typeof F=="string"?mr[ds[F]]:pu(null,F)).equals(Ns)||(Q("/"+F.id+" gs"),Ns=F)};var pu=function(F,re){if(!F||!ds[F]){var we=!1;for(var Ae in mr)if(mr.hasOwnProperty(Ae)&&mr[Ae].equals(re)){we=!0;break}if(we)re=mr[Ae];else{var Le="GS"+(Object.keys(mr).length+1).toString(10);mr[Le]=re,re.id=Le}return F&&(ds[F]=re.id),cn.publish("addGState",re),re}};f.addGState=function(F,re){return pu(F,re),this},f.saveGraphicsState=function(){return Q("q"),en.push({key:ft,size:Ve,color:tn}),this},f.restoreGraphicsState=function(){Q("Q");var F=en.pop();return ft=F.key,Ve=F.size,tn=F.color,Ns=null,this},f.setCurrentTransformationMatrix=function(F){return Q(F.toString()+" cm"),this},f.comment=function(F){return Q("#"+F),this};var gu=function(F,re){var we=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Je){isNaN(Je)||(we=parseFloat(Je))}});var Ae=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Je){isNaN(Je)||(Ae=parseFloat(Je))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(Je){Le=Je.toString()}}),this},kd=function(F,re,we,Ae){gu.call(this,F,re),this.type="rect";var Le=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(tt){isNaN(tt)||(Le=parseFloat(tt))}});var Je=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(tt){isNaN(tt)||(Je=parseFloat(tt))}}),this},Cd=function(){this.page=xn,this.currentPage=K,this.pages=ne.slice(0),this.pagesContext=lr.slice(0),this.x=mt,this.y=sr,this.matrix=or,this.width=lo(K),this.height=Ra(K),this.outputDestination=ke,this.id="",this.objectNumber=-1};Cd.prototype.restore=function(){xn=this.page,K=this.currentPage,lr=this.pagesContext,ne=this.pages,mt=this.x,sr=this.y,or=this.matrix,Pd(K,this.width),ps(K,this.height),ke=this.outputDestination};var ms=function(F,re,we,Ae,Le){Vo.push(new Cd),xn=K=0,ne=[],mt=F,sr=re,or=Le,gd([we,Ae])};for(var kl in f.beginFormObject=function(F,re,we,Ae,Le){return ms(F,re,we,Ae,Le),this},f.endFormObject=function(F){return function(re){if(qo[re])Vo.pop().restore();else{var we=new Cd,Ae="Xo"+(Object.keys(ja).length+1).toString(10);we.id=Ae,qo[re]=Ae,ja[Ae]=we,cn.publish("addFormObject",we),Vo.pop().restore()}}(F),this},f.doFormObject=function(F,re){var we=ja[qo[F]];return Q("q"),Q(re.toString()+" cm"),Q("/"+we.id+" Do"),Q("Q"),this},f.getFormObject=function(F){var re=ja[qo[F]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},f.save=function(F,re){return F=F||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Xf(gc(_l()),F),typeof Xf.unload=="function"&&ur.setTimeout&&setTimeout(Xf.unload,911),this):new Promise(function(we,Ae){try{var Le=Xf(gc(_l()),F);typeof Xf.unload=="function"&&ur.setTimeout&&setTimeout(Xf.unload,911),we(Le)}catch(Je){Ae(Je.message)}})},Bt.API)Bt.API.hasOwnProperty(kl)&&(kl==="events"&&Bt.API.events.length?function(F,re){var we,Ae,Le;for(Le=re.length-1;Le!==-1;Le--)we=re[Le][0],Ae=re[Le][1],F.subscribe.apply(F,[we].concat(typeof Ae=="function"?[Ae]:Ae))}(cn,Bt.API.events):f[kl]=Bt.API[kl]);var lo=f.getPageWidth=function(F){return(lr[F=F||K].mediaBox.topRightX-lr[F].mediaBox.bottomLeftX)/Et},Pd=f.setPageWidth=function(F,re){lr[F].mediaBox.topRightX=re*Et+lr[F].mediaBox.bottomLeftX},Ra=f.getPageHeight=function(F){return(lr[F=F||K].mediaBox.topRightY-lr[F].mediaBox.bottomLeftY)/Et},ps=f.setPageHeight=function(F,re){lr[F].mediaBox.topRightY=re*Et+lr[F].mediaBox.bottomLeftY};return f.internal={pdfEscape:zi,getStyle:wd,getFont:t0,getFontSize:de,getCharSpace:l0,getTextColor:rn,getLineHeight:n0,getLineHeightFactor:a0,getLineWidth:ar,write:ze,getHorizontalCoordinate:oo,getVerticalCoordinate:Al,getCoordinateString:i0,getVerticalCoordinateString:o0,collections:{},newObject:es,newAdditionalObject:du,newObjectDeferred:Ks,newObjectDeferredBegin:aa,getFilters:$i,putStream:Bi,events:cn,scaleFactor:Et,pageSize:{getWidth:function(){return lo(K)},setWidth:function(F){Pd(K,F)},getHeight:function(){return Ra(K)},setHeight:function(F){ps(K,F)}},encryptionOptions:d,encryption:fs,getEncryptor:function(F){return d!==null?fs.encryptor(F,0):function(re){return re}},output:Za,getNumberOfPages:fp,pages:ne,out:Q,f2:C,f3:O,getPageInfo:bd,getPageInfoByObjId:gp,getCurrentPageInfo:df,getPDFVersion:g,Point:gu,Rectangle:kd,Matrix:Kt,hasHotfix:xc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return lo(K)},set:function(F){Pd(K,F)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ra(K)},set:function(F){ps(K,F)},enumerable:!0,configurable:!0}),function(F){for(var re=0,we=Ge.length;re<we;re++){var Ae=dp.call(this,F[re][0],F[re][1],F[re][2],Ge[re][3],!0);h===!1&&(p[Ae]=!0);var Le=F[re][0].split("-");up({id:Ae,fontName:Le[0],fontStyle:Le[1]||""})}cn.publish("addFonts",{fonts:_t,dictionary:tr})}.call(f,Ge),ft="F1",cf(a,r),cn.publish("initialized"),f}Jp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Jp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Jp.prototype.processOwnerPassword=function(e,t){return i6(a6(t).substr(0,5),e)},Jp.prototype.encryptor=function(e,t){var r=a6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return i6(r,s)}},$w.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_n(e)!==_n(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},Bt.API={events:[]},Bt.version="3.0.2";var Cs=Bt.API,Yk=1,cp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},ih=function(e){return e.toFixed(5)};Cs.__acroform__={};var ro=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},cD=function(e){return e*Yk},Lc=function(e){var t=new pG,r=Ct.internal.getHeight(e)||0,s=Ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(s)),Number(yr(r))],t},HFe=Cs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},GFe=Cs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},KFe=Cs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},$s=Cs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KFe(e,t-1)},Bs=Cs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HFe(e,t-1)},zs=Cs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GFe(e,t-1)},YFe=Cs.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(yr(c.lowerLeft_X)),Number(yr(c.lowerLeft_Y)),Number(yr(c.upperRight_X)),Number(yr(c.upperRight_Y))]},ZFe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=o6(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+yr(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Lc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},o6=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,o=Ct.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ct.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(C,O,M){if(C+1<a.length){var D=O+" "+a[C+1][0];return j1(D,e,M).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,h=j1("3",e,i).height,p=e.multiline?o-i:(o-h)/2,f=p+=2,x=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+j1(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var b="",j=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var A=!1;if(a[N].length!==1&&v!==a[N].length-1){if((h+2)*(j+2)+2>o)continue e;b+=a[N][v],A=!0,g=N,N--}else{b=(b+=a[N][v]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var S=parseInt(N),L=c(S,b,i),I=N>=a.length-1;if(L&&!I){b+=" ",v=0;continue}if(L||I){if(I)g=S;else if(e.multiline&&(h+2)*(j+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(j+2)+2>o)continue e;g=S}}for(var k="",E=x;E<=g;E++){var B=a[E];if(e.multiline){if(E===g){k+=B[v]+" ",v=(v+1)%B.length;continue}if(E===x){k+=B[B.length-1]+" ";continue}}k+=B[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=j1(k,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=yr(u)+" "+yr(f)+` Td
`,t+="("+cp(k)+`) Tj
`,t+=-yr(u)+` 0 Td
`,f=-(i+2),d=0,x=A?g:g+1,j++,b=""}break}return s.text=t,s.fontSize=i,s},j1=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},XFe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},QFe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},JFe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(hc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(XFe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Yk=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&QFe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=YFe(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ct.createDefaultAppearanceStream(l),_n(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=ZFe(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var f=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var x=f[o];typeof x=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=f)=="function"&&(x=x.call(a,l)),h+="/"+o+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&function(g,v){for(var b in g)if(g.hasOwnProperty(b)){var j=b,N=g[b];v.internal.newObjectDeferredBegin(N.objId,!0),_n(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete g[j]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},mG=Cs.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),_n(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+cp(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W_=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+cp(s(e))+")"},Wc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wc.prototype.toString=function(){return this.objId+" 0 R"},Wc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:mG(a,this.objId,this.scope)}):a instanceof Wc?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var pG=function(){Wc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ro(pG,Wc);var gG=function(){Wc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+cp(r(e))+")"}},set:function(r){e=r}})};ro(gG,Wc);var hc=function e(){Wc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$s(t,3)},set:function(b){b?this.F=Bs(t,3):this.F=zs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(b){s=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(b){s[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(b){s[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(b){s[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(b){s[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Bw)return;i="FieldObject"+e.FieldNum++}var b=function(j){return j};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+cp(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Yk:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Bw||this instanceof km))return W_(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ta==0?W_(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Ta==0?b.substr(0,1)==="("?Zp(b.substr(1,b.length-2)):Zp(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?Zp(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Ta==1?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ta==0?W_(f,this.objId,this.scope):f},set:function(b){b=b.toString(),f=this instanceof Ta==0?b.substr(0,1)==="("?Zp(b.substr(1,b.length-2)):Zp(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?Zp(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Ta==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,1)},set:function(b){b?this.Ff=Bs(this.Ff,1):this.Ff=zs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,2)},set:function(b){b?this.Ff=Bs(this.Ff,2):this.Ff=zs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,3)},set:function(b){b?this.Ff=Bs(this.Ff,3):this.Ff=zs(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');v=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(v){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ro(hc,Wc);var jg=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mG(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,18)},set:function(r){r?this.Ff=Bs(this.Ff,18):this.Ff=zs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bs(this.Ff,19):this.Ff=zs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,20)},set:function(r){r?(this.Ff=Bs(this.Ff,20),t.sort()):this.Ff=zs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,22)},set:function(r){r?this.Ff=Bs(this.Ff,22):this.Ff=zs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(r){r?this.Ff=Bs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,27)},set:function(r){r?this.Ff=Bs(this.Ff,27):this.Ff=zs(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(jg,hc);var Ng=function(){jg.call(this),this.fontName="helvetica",this.combo=!1};ro(Ng,jg);var _g=function(){Ng.call(this),this.combo=!0};ro(_g,Ng);var H1=function(){_g.call(this),this.edit=!0};ro(H1,_g);var Ta=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,15)},set:function(r){r?this.Ff=Bs(this.Ff,15):this.Ff=zs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,16)},set:function(r){r?this.Ff=Bs(this.Ff,16):this.Ff=zs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,17)},set:function(r){r?this.Ff=Bs(this.Ff,17):this.Ff=zs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(r){r?this.Ff=Bs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+cp(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){_n(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ro(Ta,hc);var G1=function(){Ta.call(this),this.pushButton=!0};ro(G1,Ta);var Sg=function(){Ta.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ro(Sg,Ta);var Bw=function(){var e,t;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+cp(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){_n(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(Bw,hc),Sg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Sg.prototype.createOption=function(e){var t=new Bw;return t.Parent=this,t.optionName=e,this.Kids.push(t),e9e.call(this.scope,t),t};var K1=function(){Ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};ro(K1,Ta);var km=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,13)},set:function(t){t?this.Ff=Bs(this.Ff,13):this.Ff=zs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,21)},set:function(t){t?this.Ff=Bs(this.Ff,21):this.Ff=zs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,23)},set:function(t){t?this.Ff=Bs(this.Ff,23):this.Ff=zs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,24)},set:function(t){t?this.Ff=Bs(this.Ff,24):this.Ff=zs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,25)},set:function(t){t?this.Ff=Bs(this.Ff,25):this.Ff=zs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,26)},set:function(t){t?this.Ff=Bs(this.Ff,26):this.Ff=zs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(km,hc);var Y1=function(){km.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$s(this.Ff,14)},set:function(e){e?this.Ff=Bs(this.Ff,14):this.Ff=zs(this.Ff,14)}}),this.password=!0};ro(Y1,km);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=o6(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(Ct.internal.getWidth(e))+" "+yr(Ct.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+yr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=Ct.internal.getHeight(e),o=Ct.internal.getWidth(e),l=o6(e,e.caption);return a.push("1 g"),a.push("0 0 "+yr(o)+" "+yr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+yr(o-1)+" "+yr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+yr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ct.internal.getWidth(e))+" "+yr(Ct.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Circle.YesNormal,t.D[e]=Ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=[],s=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Ct.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ih(Ct.internal.getWidth(e)/2)+" "+ih(Ct.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],s=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Ct.internal.Bezier_C).toFixed(5)),o=Number((s*Ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ih(Ct.internal.getWidth(e)/2)+" "+ih(Ct.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ih(Ct.internal.getWidth(e)/2)+" "+ih(Ct.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[],s=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Ct.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ih(Ct.internal.getWidth(e)/2)+" "+ih(Ct.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Cross.YesNormal,t.D[e]=Ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Lc(e);t.scope=e.scope;var r=[],s=Ct.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(Ct.internal.getWidth(e)-2)+" "+yr(Ct.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(s.x1.x)+" "+yr(s.x1.y)+" m"),r.push(yr(s.x2.x)+" "+yr(s.x2.y)+" l"),r.push(yr(s.x4.x)+" "+yr(s.x4.y)+" m"),r.push(yr(s.x3.x)+" "+yr(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=Ct.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+yr(Ct.internal.getWidth(e))+" "+yr(Ct.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+yr(Ct.internal.getWidth(e)-2)+" "+yr(Ct.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),s.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),s.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),s.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Lc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(Ct.internal.getWidth(e))+" "+yr(Ct.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ct.internal.getWidth(e),r=Ct.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},Ct.internal.getWidth=function(e){var t=0;return _n(e)==="object"&&(t=cD(e.Rect[2])),t},Ct.internal.getHeight=function(e){var t=0;return _n(e)==="object"&&(t=cD(e.Rect[3])),t};var e9e=Cs.addField=function(e){if(JFe(this,e),!(e instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cs.AcroFormChoiceField=jg,Cs.AcroFormListBox=Ng,Cs.AcroFormComboBox=_g,Cs.AcroFormEditBox=H1,Cs.AcroFormButton=Ta,Cs.AcroFormPushButton=G1,Cs.AcroFormRadioButton=Sg,Cs.AcroFormCheckBox=K1,Cs.AcroFormTextField=km,Cs.AcroFormPasswordField=Y1,Cs.AcroFormAppearance=Ct,Cs.AcroForm={ChoiceField:jg,ListBox:Ng,ComboBox:_g,EditBox:H1,Button:Ta,PushButton:G1,RadioButton:Sg,CheckBox:K1,TextField:km,PasswordField:Y1,Appearance:Ct},Bt.AcroForm={ChoiceField:jg,ListBox:Ng,ComboBox:_g,EditBox:H1,Button:Ta,PushButton:G1,RadioButton:Sg,CheckBox:K1,TextField:km,PasswordField:Y1,Appearance:Ct};function xG(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(C,O){var M,D,W,z,G,V=r;if((O=O||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(L(C))for(G in s)for(W=s[G],M=0;M<W.length;M+=1){for(z=!0,D=0;D<W[M].length;D+=1)if(W[M][D]!==void 0&&W[M][D]!==C[D]){z=!1;break}if(z===!0){V=G;break}}else for(G in s)for(W=s[G],M=0;M<W.length;M+=1){for(z=!0,D=0;D<W[M].length;D+=1)if(W[M][D]!==void 0&&W[M][D]!==C.charCodeAt(D)){z=!1;break}if(z===!0){V=G;break}}return V===r&&O!==r&&(V=O),V},i=function C(O){for(var M=this.internal.write,D=this.internal.putStream,W=(0,this.internal.getFilters)();W.indexOf("FlateEncode")!==-1;)W.splice(W.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:O.width}),z.push({key:"Height",value:O.height}),O.colorSpace===b.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===b.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var G="",V=0,Y=O.transparency.length;V<Y;V++)G+=O.transparency[V]+" "+O.transparency[V]+" ";z.push({key:"Mask",value:"["+G+"]"})}O.sMask!==void 0&&z.push({key:"SMask",value:O.objectId+1+" 0 R"});var ie=O.filter!==void 0?["/"+O.filter]:void 0;if(D({data:O.data,additionalKeyValues:z,alreadyAppliedFilters:ie,objectId:O.objectId}),M("endobj"),"sMask"in O&&O.sMask!==void 0){var q=(O.predictor!=null?"/Predictor "+O.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+O.width,R={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:q,data:O.sMask};"filter"in O&&(R.filter=O.filter),C.call(this,R)}if(O.colorSpace===b.INDEXED){var K=this.internal.newObject();D({data:k(new Uint8Array(O.palette)),objectId:K}),M("endobj")}},o=function(){var C=this.internal.collections[t+"images"];for(var O in C)i.call(this,C[O])},l=function(){var C,O=this.internal.collections[t+"images"],M=this.internal.write;for(var D in O)M("/I"+(C=O[D]).index,C.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var C=this.internal.collections[t+"images"];return c.call(this),C},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(C){return typeof e["process"+C.toUpperCase()]=="function"},p=function(C){return _n(C)==="object"&&C.nodeType===1},f=function(C,O){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var M=""+C.getAttribute("src");if(M.indexOf("data:image/")===0)return W1(unescape(M).split("base64,").pop());var D=e.loadFile(M,!0);if(D!==void 0)return D}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var W;switch(O){case"PNG":W="image/png";break;case"WEBP":W="image/webp";break;default:W="image/jpeg"}return W1(C.toDataURL(W,1).split("base64,").pop())}},x=function(C){var O=this.internal.collections[t+"images"];if(O){for(var M in O)if(C===O[M].alias)return O[M]}},g=function(C,O,M){return C||O||(C=-96,O=-96),C<0&&(C=-1*M.width*72/C/this.internal.scaleFactor),O<0&&(O=-1*M.height*72/O/this.internal.scaleFactor),C===0&&(C=O*M.width/M.height),O===0&&(O=C*M.height/M.width),[C,O]},v=function(C,O,M,D,W,z){var G=g.call(this,M,D,W),V=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=u.call(this);if(M=G[0],D=G[1],ie[W.index]=W,z){z*=Math.PI/180;var q=Math.cos(z),R=Math.sin(z),K=function(se){return se.toFixed(4)},Z=[K(q),K(R),K(-1*R),K(q),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(C),Y(O+D),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([V(M),"0","0",V(D),"0","0","cm"].join(" "))):this.internal.write([V(M),"0","0",V(D),V(C),Y(O+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+W.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(C){var O,M,D=0;if(typeof C=="string")for(M=C.length,O=0;O<M;O++)D=(D<<5)-D+C.charCodeAt(O),D|=0;else if(L(C))for(M=C.byteLength/2,O=0;O<M;O++)D=(D<<5)-D+C[O],D|=0;return D},A=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var O=!0;return C.length===0&&(O=!1),C.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(O=!1),O},S=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var O=C.indexOf(",");return O<0?null:C.substring(0,O).trim().endsWith("base64")?C.substring(O+1):null};e.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(C){for(var O=C.length,M=new Uint8Array(O),D=0;D<O;D++)M[D]=C.charCodeAt(D);return M},k=e.__addimage__.arrayBufferToBinaryString=function(C){for(var O="",M=L(C)?C:new Uint8Array(C),D=0;D<M.length;D+=8192)O+=String.fromCharCode.apply(null,M.subarray(D,D+8192));return O};e.addImage=function(){var C,O,M,D,W,z,G,V,Y;if(typeof arguments[1]=="number"?(O=r,M=arguments[1],D=arguments[2],W=arguments[3],z=arguments[4],G=arguments[5],V=arguments[6],Y=arguments[7]):(O=arguments[1],M=arguments[2],D=arguments[3],W=arguments[4],z=arguments[5],G=arguments[6],V=arguments[7],Y=arguments[8]),_n(C=arguments[0])==="object"&&!p(C)&&"imageData"in C){var ie=C;C=ie.imageData,O=ie.format||O||r,M=ie.x||M||0,D=ie.y||D||0,W=ie.w||ie.width||W,z=ie.h||ie.height||z,G=ie.alias||G,V=ie.compression||V,Y=ie.rotation||ie.angle||Y}var q=this.internal.getFilters();if(V===void 0&&q.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(M)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=E.call(this,C,O,G,V);return v.call(this,M,D,W,z,R,Y),this};var E=function(C,O,M,D){var W,z,G;if(typeof C=="string"&&a(C)===r){C=unescape(C);var V=B(C,!1);(V!==""||(V=e.loadFile(C,!0))!==void 0)&&(C=V)}if(p(C)&&(C=f(C,O)),O=a(C,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((G=M)==null||G.length===0)&&(M=function(Y){return typeof Y=="string"||L(Y)?N(Y):L(Y.data)?N(Y.data):null}(C)),(W=x.call(this,M))||(C instanceof Uint8Array||O==="RGBA"||(z=C,C=I(C)),W=this["process"+O.toUpperCase()](C,d.call(this),M,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:j.NONE}(D),z)),!W)throw new Error("An unknown error occurred whilst processing the image.");return W},B=e.__addimage__.convertBase64ToBinaryString=function(C,O){O=typeof O!="boolean"||O;var M,D="";if(typeof C=="string"){var W;M=(W=S(C))!==null&&W!==void 0?W:C;try{D=W1(M)}catch(z){if(O)throw A(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};e.getImageProperties=function(C){var O,M,D="";if(p(C)&&(C=f(C)),typeof C=="string"&&a(C)===r&&((D=B(C,!1))===""&&(D=e.loadFile(C)||""),C=D),M=a(C),!h(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(C instanceof Uint8Array||(C=I(C)),!(O=this["process"+M.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=M,O}})(Bt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((s=u[h]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){s=u[p];var f=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),j=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(b(s.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(b(j))+") >>",g.content=i;var N=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+N,s.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var A=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(x(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var S=this.annotations._nameMap[s.options.name];s.options.pageNumber=S.page,s.options.top=S.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var L=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+L+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(s),w:c(r+a),h:u(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,s,a,i),a+=.2*u,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-u,l,o,i),c},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(Bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var v=0,b=r,j="",N=0;for(v=0;v<g.length;v+=1)b[g.charCodeAt(v)]!==void 0?(N++,typeof(b=b[g.charCodeAt(v)])=="number"&&(j+=String.fromCharCode(b),b=r,N=0),v===g.length-1&&(b=r,j+=g.charAt(v-(N-1)),v-=N-1,N=0)):(b=r,j+=g.charAt(v-N),v-=N,N=0);return j};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&s[g.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(g,v,b){return o(g)?i(g)===!1?-1:!u(g)||!o(v)&&!o(b)||!o(b)&&l(v)||l(g)&&!o(v)||l(g)&&c(v)||l(g)&&l(v)?0:d(g)&&o(v)&&!l(v)&&o(b)&&u(b)?3:l(g)||!o(b)?1:2:-1},f=function(g){var v=0,b=0,j=0,N="",A="",S="",L=(g=g||"").split("\\s+"),I=[];for(v=0;v<L.length;v+=1){for(I.push(""),b=0;b<L[v].length;b+=1)N=L[v][b],A=L[v][b-1],S=L[v][b+1],o(N)?(j=p(N,A,S),I[v]+=j!==-1?String.fromCharCode(t[N.charCodeAt(0)][j]):N):I[v]+=N;I[v]=h(I[v])}return I.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(v)){var j=0;for(b=[],j=0;j<v.length;j+=1)Array.isArray(v[j])?b.push([f(v[j][0]),v[j][1],v[j][2]]):b.push([f(v[j])]);g=b}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",x])}(Bt.API),Bt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(g){x=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){s.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,f=0,x=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,A){return N.concat(v.splitTextToSize(A,b))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)f<(g=this.getStringUnitWidth(c[j],{font:h})*d)&&(f=g);return f!==0&&(x=c.length),{w:f/=p,h:Math.max((x*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,p){if(s.call(this),!d)throw new Error("No data for PDF table.");var f,x,g,v,b=[],j=[],N=[],A={},S={},L=[],I=[],k=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,B=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},t),O=typeof p.padding=="number"?p.padding:3,M=p.headerBackgroundColor||"#c8c8c8",D=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=D,this.setFontSize(B),h==null)j=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(h)&&_n(h[0])==="object")for(b=h.map(function(ie){return ie.name}),j=h.map(function(ie){return ie.prompt||ie.name||""}),N=h.map(function(ie){return ie.align||"left"}),f=0;f<h.length;f+=1)S[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(j=b=h,N=b.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(A[v=b[f]]=d.map(function(ie){return ie[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(j[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=A[v],this.setFont(void 0,"normal"),g=0;g<x.length;g+=1)L.push(this.getTextDimensions(x[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,L)+O+O,L=[]}if(E){var W={};for(f=0;f<b.length;f+=1)W[b[f]]={},W[b[f]].text=j[f],W[b[f]].align=N[f];var z=l.call(this,W,S);I=b.map(function(ie){return new i(c,u,S[ie],z,W[ie].text,void 0,W[ie].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var G=h.reduce(function(ie,q){return ie[q.name]=q.align,ie},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var V=l.call(this,d[f],S);for(g=0;g<b.length;g+=1){var Y=d[f][b[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:g,data:Y},this),o.call(this,new i(c,u,S[b[g]],V,Y,f+2,G[b[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(f){var x=c[f];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,x){return Math.max(f,x)},0)};e.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Bt.API);var yG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],l6=xG(vG),bG=[100,200,300,400,500,600,700,800,900],t9e=xG(bG);function H_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return yG[i=i||"normal"]?i:"normal"}(e.style),s=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof l6[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function uD(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var r9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},dD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hD(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function fD(e){return e.trimLeft()}function n9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function s9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var N1,mD,pD,Xp,_1,gD,xD,yD,G_=["times"];function vD(e,t,r,s){var a=4,i=wD;switch(s){case Bt.API.image_compression.FAST:a=1,i=bD;break;case Bt.API.image_compression.MEDIUM:a=6,i=jD;break;case Bt.API.image_compression.SLOW:a=9,i=ND}e=function(l,c,u,d){for(var h,p=l.length/c,f=new Uint8Array(l.length+p),x=[a9e,bD,wD,jD,ND],g=0;g<p;g+=1){var v=g*c,b=l.subarray(v,v+c);if(d)f.set(d(b,u,h),v+g);else{for(var j=x.length,N=[],A=0;A<j;A+=1)N[A]=x[A](b,u,h);var S=o9e(N.concat());f.set(N[S],v+g)}h=b}return f}(e,t,r,i);var o=YA(e,{level:a});return Bt.API.__addimage__.arrayBufferToBinaryString(o)}function a9e(e){var t=Array.apply([],e);return t.unshift(0),t}function bD(e,t){var r=e.length,s=[];s[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;s[a+1]=e[a]-i+256&255}return s}function wD(e,t,r){var s=e.length,a=[];a[0]=2;for(var i=0;i<s;i+=1){var o=r&&r[i]||0;a[i+1]=e[i]-o+256&255}return a}function jD(e,t,r){var s=e.length,a=[];a[0]=3;for(var i=0;i<s;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;a[i+1]=e[i]+256-(o+l>>>1)&255}return a}function ND(e,t,r){var s=e.length,a=[];a[0]=4;for(var i=0;i<s;i+=1){var o=i9e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-o+256&255}return a}function i9e(e,t,r){if(e===t&&t===r)return e;var s=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return s<=a&&s<=i?e:a<=i?t:r}function o9e(e){var t=e.map(function(r){return r.reduce(function(s,a){return s+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function K_(e,t,r){var s=t*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1;return wG(e,a)>>i&o}function _D(e,t,r,s){var a=r*s,i=Math.floor(a/8),o=16-(a-8*i+s),l=(1<<s)-1,c=(t&l)<<o;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var p=h>>8&255;u.setUint8(d,p)}})(e,i,wG(e,i)&~(l<<o)&65535|c)}function wG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function l9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,d=[],h=0,p=null,f=0,x=null;for(this.width=r,this.height=s;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&g||(p=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,A=e[t++],S=A>>6&1,L=1<<1+(7&A),I=l,k=c,E=!1;A>>7&&(E=!0,I=t,k=L,t+=3*L);var B=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}d.push({x:v,y:b,width:j,height:N,has_local_palette:E,palette_offset:I,palette_size:k,data_offset:B,data_length:t-B,transparent_index:p,interlaced:!!S,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,M){var D=this.frameInfo(O),W=D.width*D.height,z=new Uint8Array(W);SD(e,D.data_offset,z,W);var G=D.palette_offset,V=D.transparent_index;V===null&&(V=256);var Y=D.width,ie=r-Y,q=Y,R=4*(D.y*r+D.x),K=4*((D.y+D.height)*r+D.x),Z=R,se=4*ie;D.interlaced===!0&&(se+=4*r*7);for(var ue=8,ae=0,xe=z.length;ae<xe;++ae){var X=z[ae];if(q===0&&(q=Y,(Z+=se)>=K&&(se=4*ie+4*r*(ue-1),Z=R+(Y+ie)*(ue<<1),ue>>=1)),X===V)Z+=4;else{var me=e[G+3*X],ne=e[G+3*X+1],he=e[G+3*X+2];M[Z++]=he,M[Z++]=ne,M[Z++]=me,M[Z++]=255}--q}},this.decodeAndBlitFrameRGBA=function(O,M){var D=this.frameInfo(O),W=D.width*D.height,z=new Uint8Array(W);SD(e,D.data_offset,z,W);var G=D.palette_offset,V=D.transparent_index;V===null&&(V=256);var Y=D.width,ie=r-Y,q=Y,R=4*(D.y*r+D.x),K=4*((D.y+D.height)*r+D.x),Z=R,se=4*ie;D.interlaced===!0&&(se+=4*r*7);for(var ue=8,ae=0,xe=z.length;ae<xe;++ae){var X=z[ae];if(q===0&&(q=Y,(Z+=se)>=K&&(se=4*ie+4*r*(ue-1),Z=R+(Y+ie)*(ue<<1),ue>>=1)),X===V)Z+=4;else{var me=e[G+3*X],ne=e[G+3*X+1],he=e[G+3*X+2];M[Z++]=me,M[Z++]=ne,M[Z++]=he,M[Z++]=255}--q}}}function SD(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,h=0,p=0,f=e[t++],x=new Int32Array(4096),g=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<c)break;var v=h&u;if(h>>=c,d-=c,v!==i){if(v===o)break;for(var b=v<l?v:g,j=0,N=b;N>i;)N=x[N]>>8,++j;var A=N;if(p+j+(b!==v?1:0)>s)return void Dn.log("Warning, gif stream longer than expected.");r[p++]=A;var S=p+=j;for(b!==v&&(r[p++]=A),N=b;j--;)N=x[N],r[--S]=255&N,N>>=8;g!==null&&l<4096&&(x[l++]=g<<8|A,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else l=o+1,u=(1<<(c=a+1))-1,g=null}return p!==s&&Dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y_(e){var t,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),x=new Array(64),g=[],v=0,b=7,j=new Array(64),N=new Array(64),A=new Array(64),S=new Array(256),L=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(R,K){for(var Z=0,se=0,ue=new Array,ae=1;ae<=16;ae++){for(var xe=1;xe<=R[ae];xe++)ue[K[se]]=[],ue[K[se]][0]=Z,ue[K[se]][1]=ae,se++,Z++;Z*=2}return ue}function G(R){for(var K=R[0],Z=R[1]-1;Z>=0;)K&1<<Z&&(v|=1<<b),Z--,--b<0&&(v==255?(V(255),V(0)):V(v),b=7,v=0)}function V(R){g.push(R)}function Y(R){V(R>>8&255),V(255&R)}function ie(R,K,Z,se,ue){for(var ae,xe=ue[0],X=ue[240],me=function(Ve,J){var de,Se,De,He,Fe,Ke,lt,ct,ft,Et,mt=0;for(ft=0;ft<8;++ft){de=Ve[mt],Se=Ve[mt+1],De=Ve[mt+2],He=Ve[mt+3],Fe=Ve[mt+4],Ke=Ve[mt+5],lt=Ve[mt+6];var sr=de+(ct=Ve[mt+7]),or=de-ct,_t=Se+lt,tr=Se-lt,en=De+Ke,$t=De-Ke,kr=He+Fe,mr=He-Fe,ds=sr+kr,Ns=sr-kr,xn=_t+en,lr=_t-en;Ve[mt]=ds+xn,Ve[mt+4]=ds-xn;var cn=.707106781*(lr+Ns);Ve[mt+2]=Ns+cn,Ve[mt+6]=Ns-cn;var uu=.382683433*((ds=mr+$t)-(lr=tr+or)),ja=.5411961*ds+uu,qo=1.306562965*lr+uu,Vo=.707106781*(xn=$t+tr),Kt=or+Vo,jl=or-Vo;Ve[mt+5]=jl+ja,Ve[mt+3]=jl-ja,Ve[mt+1]=Kt+qo,Ve[mt+7]=Kt-qo,mt+=8}for(mt=0,ft=0;ft<8;++ft){de=Ve[mt],Se=Ve[mt+8],De=Ve[mt+16],He=Ve[mt+24],Fe=Ve[mt+32],Ke=Ve[mt+40],lt=Ve[mt+48];var no=de+(ct=Ve[mt+56]),Fi=de-ct,Ya=Se+lt,es=Se-lt,Ks=De+Ke,aa=De-Ke,du=He+Fe,mc=He-Fe,so=no+du,Wo=no-du,ao=Ya+Ks,$i=Ya-Ks;Ve[mt]=so+ao,Ve[mt+32]=so-ao;var Bi=.707106781*($i+Wo);Ve[mt+16]=Wo+Bi,Ve[mt+48]=Wo-Bi;var hu=.382683433*((so=mc+aa)-($i=es+Fi)),Ho=.5411961*so+hu,fu=1.306562965*$i+hu,md=.707106781*(ao=aa+es),pd=Fi+md,Nl=Fi-md;Ve[mt+40]=Nl+Ho,Ve[mt+24]=Nl-Ho,Ve[mt+8]=pd+fu,Ve[mt+56]=pd-fu,mt++}for(ft=0;ft<64;++ft)Et=Ve[ft]*J[ft],f[ft]=Et>0?Et+.5|0:Et-.5|0;return f}(R,K),ne=0;ne<64;++ne)x[I[ne]]=me[ne];var he=x[0]-Z;Z=x[0],he==0?G(se[0]):(G(se[p[ae=32767+he]]),G(h[ae]));for(var ke=63;ke>0&&x[ke]==0;)ke--;if(ke==0)return G(xe),Z;for(var je,Q=1;Q<=ke;){for(var ze=Q;x[Q]==0&&Q<=ke;)++Q;var Ye=Q-ze;if(Ye>=16){je=Ye>>4;for(var Ge=1;Ge<=je;++Ge)G(X);Ye&=15}ae=32767+x[Q],G(ue[(Ye<<4)+p[ae]]),G(h[ae]),Q++}return ke!=63&&G(xe),Z}function q(R){R=Math.min(Math.max(R,1),100),i!=R&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ue=o((Z[se]*K+50)/100);ue=Math.min(Math.max(ue,1),255),l[I[se]]=ue}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var X=o((ae[xe]*K+50)/100);X=Math.min(Math.max(X,1),255),c[I[xe]]=X}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ne=0,he=0;he<8;he++)for(var ke=0;ke<8;ke++)u[ne]=1/(l[I[ne]]*me[he]*me[ke]*8),d[ne]=1/(c[I[ne]]*me[he]*me[ke]*8),ne++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,K){K&&q(K),g=new Array,v=0,b=7,Y(65496),Y(65504),Y(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Y(1),Y(1),V(0),V(0),function(){Y(65499),Y(132),V(0);for(var Se=0;Se<64;Se++)V(l[Se]);V(1);for(var De=0;De<64;De++)V(c[De])}(),function(Se,De){Y(65472),Y(17),V(8),Y(De),Y(Se),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(R.width,R.height),function(){Y(65476),Y(418),V(0);for(var Se=0;Se<16;Se++)V(k[Se+1]);for(var De=0;De<=11;De++)V(E[De]);V(16);for(var He=0;He<16;He++)V(B[He+1]);for(var Fe=0;Fe<=161;Fe++)V(C[Fe]);V(1);for(var Ke=0;Ke<16;Ke++)V(O[Ke+1]);for(var lt=0;lt<=11;lt++)V(M[lt]);V(17);for(var ct=0;ct<16;ct++)V(D[ct+1]);for(var ft=0;ft<=161;ft++)V(W[ft])}(),Y(65498),Y(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Z=0,se=0,ue=0;v=0,b=7,this.encode.displayName="_encode_";for(var ae,xe,X,me,ne,he,ke,je,Q,ze=R.data,Ye=R.width,Ge=R.height,Ve=4*Ye,J=0;J<Ge;){for(ae=0;ae<Ve;){for(ne=Ve*J+ae,ke=-1,je=0,Q=0;Q<64;Q++)he=ne+(je=Q>>3)*Ve+(ke=4*(7&Q)),J+je>=Ge&&(he-=Ve*(J+1+je-Ge)),ae+ke>=Ve&&(he-=ae+ke-Ve+4),xe=ze[he++],X=ze[he++],me=ze[he++],j[Q]=(L[xe]+L[X+256|0]+L[me+512|0]>>16)-128,N[Q]=(L[xe+768|0]+L[X+1024|0]+L[me+1280|0]>>16)-128,A[Q]=(L[xe+1280|0]+L[X+1536|0]+L[me+1792|0]>>16)-128;Z=ie(j,u,Z,t,s),se=ie(N,d,se,r,a),ue=ie(A,d,ue,r,a),ae+=32}J+=8}if(b>=0){var de=[];de[1]=b+1,de[0]=(1<<b+1)-1,G(de)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,K=0;K<256;K++)S[K]=R(K)}(),t=z(k,E),r=z(O,M),s=z(B,C),a=z(D,W),function(){for(var R=1,K=2,Z=1;Z<=15;Z++){for(var se=R;se<K;se++)p[32767+se]=Z,h[32767+se]=[],h[32767+se][1]=Z,h[32767+se][0]=se;for(var ue=-(K-1);ue<=-R;ue++)p[32767+ue]=Z,h[32767+ue]=[],h[32767+ue][1]=Z,h[32767+ue][0]=K-1+ue;R<<=1,K<<=1}}(),function(){for(var R=0;R<256;R++)L[R]=19595*R,L[R+256|0]=38470*R,L[R+512|0]=7471*R+32768,L[R+768|0]=-11059*R,L[R+1024|0]=-21709*R,L[R+1280|0]=32768*R+8421375,L[R+1536|0]=-27439*R,L[R+1792|0]=-5329*R}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ul(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AD(e){function t(E){if(!E)throw Error("assert :P")}function r(E,B,C){for(var O=0;4>O;O++)if(E[B+O]!=C.charCodeAt(O))return!0;return!1}function s(E,B,C,O,M){for(var D=0;D<M;D++)E[B+D]=C[O+D]}function a(E,B,C,O){for(var M=0;M<O;M++)E[B+M]=C}function i(E){return new Int32Array(E)}function o(E,B){for(var C=[],O=0;O<E;O++)C.push(new B);return C}function l(E,B){var C=[];return function O(M,D,W){for(var z=W[D],G=0;G<z&&(M.push(W.length>D+1?[]:new B),!(W.length<D+1));G++)O(M[G],D+1,W)}(C,0,E),C}var c=function(){var E=this;function B(w,P){for(var $=1<<P-1>>>0;w&$;)$>>>=1;return $?(w&$-1)+$:w}function C(w,P,$,H,ee){t(!(H%$));do w[P+(H-=$)]=ee;while(0<H)}function O(w,P,$,H,ee){if(t(2328>=ee),512>=ee)var oe=i(512);else if((oe=i(ee))==null)return 0;return function(le,fe,ge,ve,Te,$e){var be,Oe,Me=fe,Ze=1<<ge,Re=i(16),Xe=i(16);for(t(Te!=0),t(ve!=null),t(le!=null),t(0<ge),Oe=0;Oe<Te;++Oe){if(15<ve[Oe])return 0;++Re[ve[Oe]]}if(Re[0]==Te)return 0;for(Xe[1]=0,be=1;15>be;++be){if(Re[be]>1<<be)return 0;Xe[be+1]=Xe[be]+Re[be]}for(Oe=0;Oe<Te;++Oe)be=ve[Oe],0<ve[Oe]&&($e[Xe[be]++]=Oe);if(Xe[15]==1)return(ve=new M).g=0,ve.value=$e[0],C(le,Me,1,Ze,ve),Ze;var et,it=-1,rt=Ze-1,Ot=0,vt=1,qt=1,Tt=1<<ge;for(Oe=0,be=1,Te=2;be<=ge;++be,Te<<=1){if(vt+=qt<<=1,0>(qt-=Re[be]))return 0;for(;0<Re[be];--Re[be])(ve=new M).g=be,ve.value=$e[Oe++],C(le,Me+Ot,Te,Tt,ve),Ot=B(Ot,be)}for(be=ge+1,Te=2;15>=be;++be,Te<<=1){if(vt+=qt<<=1,0>(qt-=Re[be]))return 0;for(;0<Re[be];--Re[be]){if(ve=new M,(Ot&rt)!=it){for(Me+=Tt,et=1<<(it=be)-ge;15>it&&!(0>=(et-=Re[it]));)++it,et<<=1;Ze+=Tt=1<<(et=it-ge),le[fe+(it=Ot&rt)].g=et+ge,le[fe+it].value=Me-fe-it}ve.g=be-ge,ve.value=$e[Oe++],C(le,Me+(Ot>>ge),Te,Tt,ve),Ot=B(Ot,be)}}return vt!=2*Xe[15]-1?0:Ze}(w,P,$,H,ee,oe)}function M(){this.value=this.g=0}function D(){this.value=this.g=0}function W(){this.G=o(5,M),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ko,D)}function z(w,P,$,H){t(w!=null),t(P!=null),t(2147483648>H),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=P,w.pa=$,w.Jd=P,w.Yc=$+H,w.Zc=4<=H?$+H-4+1:$,xe(w)}function G(w,P){for(var $=0;0<P--;)$|=me(w,128)<<P;return $}function V(w,P){var $=G(w,P);return X(w)?-$:$}function Y(w,P,$,H){var ee,oe=0;for(t(w!=null),t(P!=null),t(4294967288>H),w.Sb=H,w.Ra=0,w.u=0,w.h=0,4<H&&(H=4),ee=0;ee<H;++ee)oe+=P[$+ee]<<8*ee;w.Ra=oe,w.bb=H,w.oa=P,w.pa=$}function ie(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<wc-8>>>0,++w.bb,w.u-=8;se(w)&&(w.h=1,w.u=0)}function q(w,P){if(t(0<=P),!w.h&&P<=yf){var $=Z(w)&pi[P];return w.u+=P,ie(w),$}return w.h=1,w.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(w){return w.Ra>>>(w.u&wc-1)>>>0}function se(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>wc}function ue(w,P){w.u=P,w.h=se(w)}function ae(w){w.u>=qn&&(t(w.u>=qn),ie(w))}function xe(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function X(w){return G(w,1)}function me(w,P){var $=w.Ca;0>w.b&&xe(w);var H=w.b,ee=$*P>>>8,oe=(w.I>>>H>ee)+0;for(oe?($-=ee,w.I-=ee+1<<H>>>0):$=ee+1,H=$,ee=0;256<=H;)ee+=8,H>>=8;return H=7^ee+bp[H],w.b-=H,w.Ca=($<<H)-1,oe}function ne(w,P,$){w[P+0]=$>>24&255,w[P+1]=$>>16&255,w[P+2]=$>>8&255,w[P+3]=255&$}function he(w,P){return w[P+0]|w[P+1]<<8}function ke(w,P){return he(w,P)|w[P+2]<<16}function je(w,P){return he(w,P)|he(w,P+2)<<16}function Q(w,P){var $=1<<P;return t(w!=null),t(0<P),w.X=i($),w.X==null?0:(w.Mb=32-P,w.Xa=P,1)}function ze(w,P){t(w!=null),t(P!=null),t(w.Xa==P.Xa),s(P.X,0,w.X,0,1<<P.Xa)}function Ye(){this.X=[],this.Xa=this.Mb=0}function Ge(w,P,$,H){t($!=null),t(H!=null);var ee=$[0],oe=H[0];return ee==0&&(ee=(w*oe+P/2)/P),oe==0&&(oe=(P*ee+w/2)/w),0>=ee||0>=oe?0:($[0]=ee,H[0]=oe,1)}function Ve(w,P){return w+(1<<P)-1>>>P}function J(w,P){return((4278255360&w)+(4278255360&P)>>>0&4278255360)+((16711935&w)+(16711935&P)>>>0&16711935)>>>0}function de(w,P){E[P]=function($,H,ee,oe,le,fe,ge){var ve;for(ve=0;ve<le;++ve){var Te=E[w](fe[ge+ve-1],ee,oe+ve);fe[ge+ve]=J($[H+ve],Te)}}}function Se(){this.ud=this.hd=this.jd=0}function De(w,P){return((4278124286&(w^P))>>>1)+(w&P)>>>0}function He(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Fe(w,P){return He(w+(w-P+.5>>1))}function Ke(w,P,$){return Math.abs(P-$)-Math.abs(w-$)}function lt(w,P,$,H,ee,oe,le){for(H=oe[le-1],$=0;$<ee;++$)oe[le+$]=H=J(w[P+$],H)}function ct(w,P,$,H,ee){var oe;for(oe=0;oe<$;++oe){var le=w[P+oe],fe=le>>8&255,ge=16711935&(ge=(ge=16711935&le)+((fe<<16)+fe));H[ee+oe]=(4278255360&le)+ge>>>0}}function ft(w,P){P.jd=255&w,P.hd=w>>8&255,P.ud=w>>16&255}function Et(w,P,$,H,ee,oe){var le;for(le=0;le<H;++le){var fe=P[$+le],ge=fe>>>8,ve=fe,Te=255&(Te=(Te=fe>>>16)+((w.jd<<24>>24)*(ge<<24>>24)>>>5));ve=255&(ve=(ve+=(w.hd<<24>>24)*(ge<<24>>24)>>>5)+((w.ud<<24>>24)*(Te<<24>>24)>>>5)),ee[oe+le]=(4278255360&fe)+(Te<<16)+ve}}function mt(w,P,$,H,ee){E[P]=function(oe,le,fe,ge,ve,Te,$e,be,Oe){for(ge=$e;ge<be;++ge)for($e=0;$e<Oe;++$e)ve[Te++]=ee(fe[H(oe[le++])])},E[w]=function(oe,le,fe,ge,ve,Te,$e){var be=8>>oe.b,Oe=oe.Ea,Me=oe.K[0],Ze=oe.w;if(8>be)for(oe=(1<<oe.b)-1,Ze=(1<<be)-1;le<fe;++le){var Re,Xe=0;for(Re=0;Re<Oe;++Re)Re&oe||(Xe=H(ge[ve++])),Te[$e++]=ee(Me[Xe&Ze]),Xe>>=be}else E["VP8LMapColor"+$](ge,ve,Me,Ze,Te,$e,le,fe,Oe)}}function sr(w,P,$,H,ee){for($=P+$;P<$;){var oe=w[P++];H[ee++]=oe>>16&255,H[ee++]=oe>>8&255,H[ee++]=255&oe}}function or(w,P,$,H,ee){for($=P+$;P<$;){var oe=w[P++];H[ee++]=oe>>16&255,H[ee++]=oe>>8&255,H[ee++]=255&oe,H[ee++]=oe>>24&255}}function _t(w,P,$,H,ee){for($=P+$;P<$;){var oe=(le=w[P++])>>16&240|le>>12&15,le=240&le|le>>28&15;H[ee++]=oe,H[ee++]=le}}function tr(w,P,$,H,ee){for($=P+$;P<$;){var oe=(le=w[P++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;H[ee++]=oe,H[ee++]=le}}function en(w,P,$,H,ee){for($=P+$;P<$;){var oe=w[P++];H[ee++]=255&oe,H[ee++]=oe>>8&255,H[ee++]=oe>>16&255}}function $t(w,P,$,H,ee,oe){if(oe==0)for($=P+$;P<$;)ne(H,((oe=w[P++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ee+=32;else s(H,ee,w,P,$)}function kr(w,P){E[P][0]=E[w+"0"],E[P][1]=E[w+"1"],E[P][2]=E[w+"2"],E[P][3]=E[w+"3"],E[P][4]=E[w+"4"],E[P][5]=E[w+"5"],E[P][6]=E[w+"6"],E[P][7]=E[w+"7"],E[P][8]=E[w+"8"],E[P][9]=E[w+"9"],E[P][10]=E[w+"10"],E[P][11]=E[w+"11"],E[P][12]=E[w+"12"],E[P][13]=E[w+"13"],E[P][14]=E[w+"0"],E[P][15]=E[w+"0"]}function mr(w){return w==$d||w==Bd||w==zd||w==h0}function ds(){this.eb=[],this.size=this.A=this.fb=0}function Ns(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ds,this.f.kb=new Ns,this.sd=null}function lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function uu(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function ja(w,P){var $=w.T,H=P.ba.f.RGBA,ee=H.eb,oe=H.fb+w.ka*H.A,le=vi[P.ba.S],fe=w.y,ge=w.O,ve=w.f,Te=w.N,$e=w.ea,be=w.W,Oe=P.cc,Me=P.dc,Ze=P.Mc,Re=P.Nc,Xe=w.ka,et=w.ka+w.T,it=w.U,rt=it+1>>1;for(Xe==0?le(fe,ge,null,null,ve,Te,$e,be,ve,Te,$e,be,ee,oe,null,null,it):(le(P.ec,P.fc,fe,ge,Oe,Me,Ze,Re,ve,Te,$e,be,ee,oe-H.A,ee,oe,it),++$);Xe+2<et;Xe+=2)Oe=ve,Me=Te,Ze=$e,Re=be,Te+=w.Rc,be+=w.Rc,oe+=2*H.A,le(fe,(ge+=2*w.fa)-w.fa,fe,ge,Oe,Me,Ze,Re,ve,Te,$e,be,ee,oe-H.A,ee,oe,it);return ge+=w.fa,w.j+et<w.o?(s(P.ec,P.fc,fe,ge,it),s(P.cc,P.dc,ve,Te,rt),s(P.Mc,P.Nc,$e,be,rt),$--):1&et||le(fe,ge,null,null,ve,Te,$e,be,ve,Te,$e,be,ee,oe+H.A,null,null,it),$}function qo(w,P,$){var H=w.F,ee=[w.J];if(H!=null){var oe=w.U,le=P.ba.S,fe=le==jp||le==zd;P=P.ba.f.RGBA;var ge=[0],ve=w.ka;ge[0]=w.T,w.Kb&&(ve==0?--ge[0]:(--ve,ee[0]-=w.width),w.j+w.ka+w.T==w.o&&(ge[0]=w.o-w.j-ve));var Te=P.eb;ve=P.fb+ve*P.A,w=ab(H,ee[0],w.width,oe,ge,Te,ve+(fe?0:3),P.A),t($==ge),w&&mr(le)&&Rd(Te,ve,fe,oe,ge,P.A)}return 0}function Vo(w){var P=w.ma,$=P.ba.S,H=11>$,ee=$==Nc||$==bu||$==jp||$==d0||$==12||mr($);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!Ja(P.Oa,w,ee?11:12))return 0;if(ee&&mr($)&&Go(),w.da)alert("todo:use_scaling");else{if(H){if(P.Ib=uu,w.Kb){if($=w.U+1>>1,P.memory=i(w.U+2*$),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+w.U,P.Mc=P.cc,P.Nc=P.dc+$,P.Ib=ja,Go()}}else alert("todo:EmitYUV");ee&&(P.Jb=qo,H&&bc())}if(H&&!mb){for(w=0;256>w;++w)Ml[w]=89858*(w-128)+Zo>>_p,CN[w]=-22014*(w-128)+Zo,kN[w]=-45773*(w-128),AN[w]=113618*(w-128)+Zo>>_p;for(w=Lf;w<p0;++w)P=76283*(w-16)+Zo>>_p,PN[w-Lf]=nn(P,255),EN[w-Lf]=nn(P+8>>4,15);mb=1}return 1}function Kt(w){var P=w.ma,$=w.U,H=w.T;return t(!(1&w.ka)),0>=$||0>=H?0:($=P.Ib(w,P),P.Jb!=null&&P.Jb(w,P,$),P.Dc+=$,1)}function jl(w){w.ma.memory=null}function no(w,P,$,H){return q(w,8)!=47?0:(P[0]=q(w,14)+1,$[0]=q(w,14)+1,H[0]=q(w,1),q(w,3)!=0?0:!w.h)}function Fi(w,P){if(4>w)return w+1;var $=w-2>>1;return(2+(1&w)<<$)+q(P,$)+1}function Ya(w,P){return 120<P?P-120:1<=($=(($=bN[P-1])>>4)*w+(8-(15&$)))?$:1;var $}function es(w,P,$){var H=Z($),ee=w[P+=255&H].g-8;return 0<ee&&(ue($,$.u+8),H=Z($),P+=w[P].value,P+=H&(1<<ee)-1),ue($,$.u+w[P].g),w[P].value}function Ks(w,P,$){return $.g+=w.g,$.value+=w.value<<P>>>0,t(8>=$.g),w.g}function aa(w,P,$){var H=w.xc;return t((P=H==0?0:w.vc[w.md*($>>H)+(P>>H)])<w.Wb),w.Ya[P]}function du(w,P,$,H){var ee=w.ab,oe=w.c*P,le=w.C;P=le+P;var fe=$,ge=H;for(H=w.Ta,$=w.Ua;0<ee--;){var ve=w.gc[ee],Te=le,$e=P,be=fe,Oe=ge,Me=(ge=H,fe=$,ve.Ea);switch(t(Te<$e),t($e<=ve.nc),ve.hc){case 2:Md(be,Oe,($e-Te)*Me,ge,fe);break;case 0:var Ze=Te,Re=$e,Xe=ge,et=fe,it=(Tt=ve).Ea;Ze==0&&(la(be,Oe,null,null,1,Xe,et),lt(be,Oe+1,0,0,it-1,Xe,et+1),Oe+=it,et+=it,++Ze);for(var rt=1<<Tt.b,Ot=rt-1,vt=Ve(it,Tt.b),qt=Tt.K,Tt=Tt.w+(Ze>>Tt.b)*vt;Ze<Re;){var Mr=qt,Ss=Tt,cr=1;for(gi(be,Oe,Xe,et-it,1,Xe,et);cr<it;){var jt=(cr&~Ot)+rt;jt>it&&(jt=it),(0,jc[Mr[Ss++]>>8&15])(be,Oe+ +cr,Xe,et+cr-it,jt-cr,Xe,et+cr),cr=jt}Oe+=it,et+=it,++Ze&Ot||(Tt+=vt)}$e!=ve.nc&&s(ge,fe-Me,ge,fe+($e-Te-1)*Me,Me);break;case 1:for(Me=be,Re=Oe,it=(be=ve.Ea)-(et=be&~(Xe=(Oe=1<<ve.b)-1)),Ze=Ve(be,ve.b),rt=ve.K,ve=ve.w+(Te>>ve.b)*Ze;Te<$e;){for(Ot=rt,vt=ve,qt=new Se,Tt=Re+et,Mr=Re+be;Re<Tt;)ft(Ot[vt++],qt),Tl(qt,Me,Re,Oe,ge,fe),Re+=Oe,fe+=Oe;Re<Mr&&(ft(Ot[vt++],qt),Tl(qt,Me,Re,it,ge,fe),Re+=it,fe+=it),++Te&Xe||(ve+=Ze)}break;case 3:if(be==ge&&Oe==fe&&0<ve.b){for(Re=ge,be=Me=fe+($e-Te)*Me-(et=($e-Te)*Ve(ve.Ea,ve.b)),Oe=ge,Xe=fe,Ze=[],et=(it=et)-1;0<=et;--et)Ze[et]=Oe[Xe+et];for(et=it-1;0<=et;--et)Re[be+et]=Ze[et];vf(ve,Te,$e,ge,Me,ge,fe)}else vf(ve,Te,$e,be,Oe,ge,fe)}fe=H,ge=$}ge!=$&&s(H,$,fe,ge,oe)}function mc(w,P){var $=w.V,H=w.Ba+w.c*w.C,ee=P-w.C;if(t(P<=w.l.o),t(16>=ee),0<ee){var oe=w.l,le=w.Ta,fe=w.Ua,ge=oe.width;if(du(w,ee,$,H),ee=fe=[fe],t(($=w.C)<(H=P)),t(oe.v<oe.va),H>oe.o&&(H=oe.o),$<oe.j){var ve=oe.j-$;$=oe.j,ee[0]+=ve*ge}if($>=H?$=0:(ee[0]+=4*oe.v,oe.ka=$-oe.j,oe.U=oe.va-oe.v,oe.T=H-$,$=1),$){if(fe=fe[0],11>($=w.ca).S){var Te=$.f.RGBA,$e=(H=$.S,ee=oe.U,oe=oe.T,ve=Te.eb,Te.A),be=oe;for(Te=Te.fb+w.Ma*Te.A;0<be--;){var Oe=le,Me=fe,Ze=ee,Re=ve,Xe=Te;switch(H){case Cf:bf(Oe,Me,Ze,Re,Xe);break;case Nc:xi(Oe,Me,Ze,Re,Xe);break;case $d:xi(Oe,Me,Ze,Re,Xe),Rd(Re,Xe,0,Ze,1,0);break;case _c:sn(Oe,Me,Ze,Re,Xe);break;case bu:$t(Oe,Me,Ze,Re,Xe,1);break;case Bd:$t(Oe,Me,Ze,Re,Xe,1),Rd(Re,Xe,0,Ze,1,0);break;case jp:$t(Oe,Me,Ze,Re,Xe,0);break;case zd:$t(Oe,Me,Ze,Re,Xe,0),Rd(Re,Xe,1,Ze,1,0);break;case d0:Yo(Oe,Me,Ze,Re,Xe);break;case h0:Yo(Oe,Me,Ze,Re,Xe),_f(Re,Xe,Ze,1,0);break;case lb:En(Oe,Me,Ze,Re,Xe);break;default:t(0)}fe+=ge,Te+=$e}w.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=$.height)}}w.C=P,t(w.C<=w.i)}function so(w){var P;if(0<w.ua)return 0;for(P=0;P<w.Wb;++P){var $=w.Ya[P].G,H=w.Ya[P].H;if(0<$[1][H[1]+0].g||0<$[2][H[2]+0].g||0<$[3][H[3]+0].g)return 0}return 1}function Wo(w,P,$,H,ee,oe){if(w.Z!=0){var le=w.qd,fe=w.rd;for(t(Ui[w.Z]!=null);P<$;++P)Ui[w.Z](le,fe,H,ee,H,ee,oe),le=H,fe=ee,ee+=oe;w.qd=le,w.rd=fe}}function ao(w,P){var $=w.l.ma,H=$.Z==0||$.Z==1?w.l.j:w.C;if(H=w.C<H?H:w.C,t(P<=w.l.o),P>H){var ee=w.l.width,oe=$.ca,le=$.tb+ee*H,fe=w.V,ge=w.Ba+w.c*H,ve=w.gc;t(w.ab==1),t(ve[0].hc==3),fo(ve[0],H,P,fe,ge,oe,le),Wo($,H,P,oe,le,ee)}w.C=w.Ma=P}function $i(w,P,$,H,ee,oe,le){var fe=w.$/H,ge=w.$%H,ve=w.m,Te=w.s,$e=$+w.$,be=$e;ee=$+H*ee;var Oe=$+H*oe,Me=280+Te.ua,Ze=w.Pb?fe:16777216,Re=0<Te.ua?Te.Wa:null,Xe=Te.wc,et=$e<Oe?aa(Te,ge,fe):null;t(w.C<oe),t(Oe<=ee);var it=!1;e:for(;;){for(;it||$e<Oe;){var rt=0;if(fe>=Ze){var Ot=$e-$;t((Ze=w).Pb),Ze.wd=Ze.m,Ze.xd=Ot,0<Ze.s.ua&&ze(Ze.s.Wa,Ze.s.vb),Ze=fe+db}if(ge&Xe||(et=aa(Te,ge,fe)),t(et!=null),et.Qb&&(P[$e]=et.qb,it=!0),!it)if(ae(ve),et.jc){rt=ve,Ot=P;var vt=$e,qt=et.pd[Z(rt)&Ko-1];t(et.jc),256>qt.g?(ue(rt,rt.u+qt.g),Ot[vt]=qt.value,rt=0):(ue(rt,rt.u+qt.g-256),t(256<=qt.value),rt=qt.value),rt==0&&(it=!0)}else rt=es(et.G[0],et.H[0],ve);if(ve.h)break;if(it||256>rt){if(!it)if(et.nd)P[$e]=(et.qb|rt<<8)>>>0;else{if(ae(ve),it=es(et.G[1],et.H[1],ve),ae(ve),Ot=es(et.G[2],et.H[2],ve),vt=es(et.G[3],et.H[3],ve),ve.h)break;P[$e]=(vt<<24|it<<16|rt<<8|Ot)>>>0}if(it=!1,++$e,++ge>=H&&(ge=0,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(w,fe),Re!=null))for(;be<$e;)rt=P[be++],Re.X[(506832829*rt&4294967295)>>>Re.Mb]=rt}else if(280>rt){if(rt=Fi(rt-256,ve),Ot=es(et.G[4],et.H[4],ve),ae(ve),Ot=Ya(H,Ot=Fi(Ot,ve)),ve.h)break;if($e-$<Ot||ee-$e<rt)break e;for(vt=0;vt<rt;++vt)P[$e+vt]=P[$e+vt-Ot];for($e+=rt,ge+=rt;ge>=H;)ge-=H,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(w,fe);if(t($e<=ee),ge&Xe&&(et=aa(Te,ge,fe)),Re!=null)for(;be<$e;)rt=P[be++],Re.X[(506832829*rt&4294967295)>>>Re.Mb]=rt}else{if(!(rt<Me))break e;for(it=rt-280,t(Re!=null);be<$e;)rt=P[be++],Re.X[(506832829*rt&4294967295)>>>Re.Mb]=rt;rt=$e,t(!(it>>>(Ot=Re).Xa)),P[rt]=Ot.X[it],it=!0}it||t(ve.h==se(ve))}if(w.Pb&&ve.h&&$e<ee)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&ze(w.s.vb,w.s.Wa);else{if(ve.h)break e;le?.(w,fe>oe?oe:fe),w.a=0,w.$=$e-$}return 1}return w.a=3,0}function Bi(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var P=w.Wa;P!=null&&(P.X=null),w.vb=null,t(w!=null)}function hu(){var w=new Cn;return w==null?null:(w.a=0,w.xb=Tf,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),Md=ct,Tl=Et,bf=sr,xi=or,Yo=_t,En=tr,sn=en,E.VP8LMapColor32b=Dd,E.VP8LMapColor8b=ca,w)}function Ho(w,P,$,H,ee){var oe=1,le=[w],fe=[P],ge=H.m,ve=H.s,Te=null,$e=0;e:for(;;){if($)for(;oe&&q(ge,1);){var be=le,Oe=fe,Me=H,Ze=1,Re=Me.m,Xe=Me.gc[Me.ab],et=q(Re,2);if(Me.Oc&1<<et)oe=0;else{switch(Me.Oc|=1<<et,Xe.hc=et,Xe.Ea=be[0],Xe.nc=Oe[0],Xe.K=[null],++Me.ab,t(4>=Me.ab),et){case 0:case 1:Xe.b=q(Re,3)+2,Ze=Ho(Ve(Xe.Ea,Xe.b),Ve(Xe.nc,Xe.b),0,Me,Xe.K),Xe.K=Xe.K[0];break;case 3:var it,rt=q(Re,8)+1,Ot=16<rt?0:4<rt?1:2<rt?2:3;if(be[0]=Ve(Xe.Ea,Ot),Xe.b=Ot,it=Ze=Ho(rt,1,0,Me,Xe.K)){var vt,qt=rt,Tt=Xe,Mr=1<<(8>>Tt.b),Ss=i(Mr);if(Ss==null)it=0;else{var cr=Tt.K[0],jt=Tt.w;for(Ss[0]=Tt.K[0][0],vt=1;vt<1*qt;++vt)Ss[vt]=J(cr[jt+vt],Ss[vt-1]);for(;vt<4*Mr;++vt)Ss[vt]=0;Tt.K[0]=null,Tt.K[0]=Ss,it=1}}Ze=it;break;case 2:break;default:t(0)}oe=Ze}}if(le=le[0],fe=fe[0],oe&&q(ge,1)&&!(oe=1<=($e=q(ge,4))&&11>=$e)){H.a=3;break e}var ht;if(ht=oe)t:{var gs,ir,qr,Tn=H,Gr=le,ua=fe,Vn=$e,In=$,da=Tn.m,ns=Tn.s,Nr=[null],dn=1,Dr=0,an=wN[Vn];r:for(;;){if(In&&q(da,1)){var ha=q(da,3)+2,po=Ve(Gr,ha),xs=Ve(ua,ha),_a=po*xs;if(!Ho(po,xs,0,Tn,Nr))break r;for(Nr=Nr[0],ns.xc=ha,gs=0;gs<_a;++gs){var jn=Nr[gs]>>8&65535;Nr[gs]=jn,jn>=dn&&(dn=jn+1)}}if(da.h)break r;for(ir=0;5>ir;++ir){var Wn=ub[ir];!ir&&0<Vn&&(Wn+=1<<Vn),Dr<Wn&&(Dr=Wn)}var ri=o(dn*an,M),$a=dn,wi=o($a,W);if(wi==null)var fa=null;else t(65536>=$a),fa=wi;var ni=i(Dr);if(fa==null||ni==null||ri==null){Tn.a=1;break r}var ji=ri;for(gs=qr=0;gs<dn;++gs){var vn=fa[gs],si=vn.G,go=vn.H,wu=0,Dl=1,Ys=0;for(ir=0;5>ir;++ir){Wn=ub[ir],si[ir]=ji,go[ir]=qr,!ir&&0<Vn&&(Wn+=1<<Vn);s:{var Hd,g0=Wn,Gd=Tn,Kd=ni,gb=ji,xb=qr,Yd=0,Ac=Gd.m,yb=q(Ac,1);if(a(Kd,0,0,g0),yb){var vb=q(Ac,1)+1,LN=q(Ac,1),x0=q(Ac,LN==0?1:8);Kd[x0]=1,vb==2&&(Kd[x0=q(Ac,8)]=1);var Ap=1}else{var kp=i(19),y0=q(Ac,4)+4;if(19<y0){Gd.a=3;var Zd=0;break s}for(Hd=0;Hd<y0;++Hd)kp[Na[Hd]]=q(Ac,3);var v0=void 0,ju=void 0,wr=Gd,IN=kp,Cp=g0,Xd=Kd,Pp=0,kc=wr.m,bb=8,Ni=o(128,M);n:for(;O(Ni,0,7,IN,19);){if(q(kc,1)){var MN=2+2*q(kc,3);if((v0=2+q(kc,MN))>Cp)break n}else v0=Cp;for(ju=0;ju<Cp&&v0--;){ae(kc);var If=Ni[0+(127&Z(kc))];ue(kc,kc.u+If.g);var Cc=If.value;if(16>Cc)Xd[ju++]=Cc,Cc!=0&&(bb=Cc);else{var wb=Cc==16,b0=Cc-16,_i=vN[b0],Rl=q(kc,cb[b0])+_i;if(ju+Rl>Cp)break n;for(var w0=wb?bb:0;0<Rl--;)Xd[ju++]=w0}}Pp=1;break n}Pp||(wr.a=3),Ap=Pp}(Ap=Ap&&!Ac.h)&&(Yd=O(gb,xb,8,Kd,g0)),Ap&&Yd!=0?Zd=Yd:(Gd.a=3,Zd=0)}if(Zd==0)break r;if(Dl&&Ms[ir]==1&&(Dl=ji[qr].g==0),wu+=ji[qr].g,qr+=Zd,3>=ir){var Qd,Jd=ni[0];for(Qd=1;Qd<Wn;++Qd)ni[Qd]>Jd&&(Jd=ni[Qd]);Ys+=Jd}}if(vn.nd=Dl,vn.Qb=0,Dl&&(vn.qb=(si[3][go[3]+0].value<<24|si[1][go[1]+0].value<<16|si[2][go[2]+0].value)>>>0,wu==0&&256>si[0][go[0]+0].value&&(vn.Qb=1,vn.qb+=si[0][go[0]+0].value<<8)),vn.jc=!vn.Qb&&6>Ys,vn.jc){var Mf,xo=vn;for(Mf=0;Mf<Ko;++Mf){var Fl=Mf,Qo=xo.pd[Fl],eh=xo.G[0][xo.H[0]+Fl];256<=eh.value?(Qo.g=eh.g+256,Qo.value=eh.value):(Qo.g=0,Qo.value=0,Fl>>=Ks(eh,8,Qo),Fl>>=Ks(xo.G[1][xo.H[1]+Fl],16,Qo),Fl>>=Ks(xo.G[2][xo.H[2]+Fl],0,Qo),Ks(xo.G[3][xo.H[3]+Fl],24,Qo))}}}ns.vc=Nr,ns.Wb=dn,ns.Ya=fa,ns.yc=ri,ht=1;break t}ht=0}if(!(oe=ht)){H.a=3;break e}if(0<$e){if(ve.ua=1<<$e,!Q(ve.Wa,$e)){H.a=1,oe=0;break e}}else ve.ua=0;var Jo=H,jb=le,Pc=fe,Ep=Jo.s,Tp=Ep.xc;if(Jo.c=jb,Jo.i=Pc,Ep.md=Ve(jb,Tp),Ep.wc=Tp==0?-1:(1<<Tp)-1,$){H.xb=NN;break e}if((Te=i(le*fe))==null){H.a=1,oe=0;break e}oe=(oe=$i(H,Te,0,le,fe,fe,null))&&!ge.h;break e}return oe?(ee!=null?ee[0]=Te:(t(Te==null),t($)),H.$=0,$||Bi(ve)):Bi(ve),oe}function fu(w,P){var $=w.c*w.i,H=$+P+16*P;return t(w.c<=P),w.V=i(H),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+$+P,1)}function md(w,P){var $=w.C,H=P-$,ee=w.V,oe=w.Ba+w.c*$;for(t(P<=w.l.o);0<H;){var le=16<H?16:H,fe=w.l.ma,ge=w.l.width,ve=ge*le,Te=fe.ca,$e=fe.tb+ge*$,be=w.Ta,Oe=w.Ua;du(w,le,ee,oe),ib(be,Oe,Te,$e,ve),Wo(fe,$,$+le,Te,$e,ge),H-=le,ee+=le*w.c,$+=le}t($==P),w.C=w.Ma=P}function pd(){this.ub=this.yd=this.td=this.Rb=0}function Nl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qx(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pc(){this.Yb=function(){var w=[];return function P($,H,ee){for(var oe=ee[H],le=0;le<oe&&($.push(ee.length>H+1?[]:0),!(ee.length<H+1));le++)P($[le],H+1,ee)}(w,0,[3,11]),w}()}function up(){this.jb=i(3),this.Wc=l([4,8],pc),this.Xc=l([4,17],pc)}function dp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zi(){this.ld=this.La=this.dd=this.tc=0}function gd(){this.Na=this.la=0}function cf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hp(){this.uc=this.M=this.Nb=0,this.wa=Array(new zi),this.Y=0,this.ya=Array(new xd),this.aa=0,this.l=new yd}function fp(){this.y=i(16),this.f=i(8),this.ea=i(8)}function mp(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new pd,this.Kc=new Nl,this.ed=new dp,this.Qa=new Qx,this.Ic=this.$c=this.Aa=0,this.D=new hp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,R),this.ia=0,this.pb=o(4,cf),this.Pa=new up,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fp),this.Hd=0,this.rb=Array(new gd),this.sb=0,this.wa=Array(new zi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xd),this.L=this.aa=0,this.gd=l([4,2],zi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pp(){var w=new mp;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Ll||(Ll=_l)),w}function hs(w,P,$){return w.a==0&&(w.a=P,w.sc=$,w.cb=0),0}function uf(w,P,$){return 3<=$&&w[P+0]==157&&w[P+1]==1&&w[P+2]==42}function vd(w,P){if(w==null)return 0;if(w.a=0,w.sc="OK",P==null)return hs(w,2,"null VP8Io passed to VP8GetHeaders()");var $=P.data,H=P.w,ee=P.ha;if(4>ee)return hs(w,7,"Truncated header.");var oe=$[H+0]|$[H+1]<<8|$[H+2]<<16,le=w.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return hs(w,3,"Incorrect keyframe parameters.");if(!le.yd)return hs(w,4,"Frame not displayable.");H+=3,ee-=3;var fe=w.Kc;if(le.Rb){if(7>ee)return hs(w,7,"cannot parse picture header");if(!uf($,H,ee))return hs(w,3,"Bad code word");fe.c=16383&($[H+4]<<8|$[H+3]),fe.Td=$[H+4]>>6,fe.i=16383&($[H+6]<<8|$[H+5]),fe.Ud=$[H+6]>>6,H+=7,ee-=7,w.za=fe.c+15>>4,w.Ub=fe.i+15>>4,P.width=fe.c,P.height=fe.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,a((oe=w.Pa).jb,0,255,oe.jb.length),t((oe=w.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(le.ub>ee)return hs(w,7,"bad partition length");z(oe=w.m,$,H,le.ub),H+=le.ub,ee-=le.ub,le.Rb&&(fe.Ld=X(oe),fe.Kd=X(oe)),fe=w.Qa;var ge,ve=w.Pa;if(t(oe!=null),t(fe!=null),fe.Cb=X(oe),fe.Cb){if(fe.Bb=X(oe),X(oe)){for(fe.Fb=X(oe),ge=0;4>ge;++ge)fe.Zb[ge]=X(oe)?V(oe,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=X(oe)?V(oe,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)ve.jb[ge]=X(oe)?G(oe,8):255}else fe.Bb=0;if(oe.Ka)return hs(w,3,"cannot parse segment header");if((fe=w.ed).zd=X(oe),fe.Tb=G(oe,6),fe.wb=G(oe,3),fe.Pc=X(oe),fe.Pc&&X(oe)){for(ve=0;4>ve;++ve)X(oe)&&(fe.vd[ve]=V(oe,6));for(ve=0;4>ve;++ve)X(oe)&&(fe.od[ve]=V(oe,6))}if(w.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return hs(w,3,"cannot parse filter header");var Te=ee;if(ee=ge=H,H=ge+Te,fe=Te,w.Xb=(1<<G(w.m,2))-1,Te<3*(ve=w.Xb))$=7;else{for(ge+=3*ve,fe-=3*ve,Te=0;Te<ve;++Te){var $e=$[ee+0]|$[ee+1]<<8|$[ee+2]<<16;$e>fe&&($e=fe),z(w.Jc[+Te],$,ge,$e),ge+=$e,fe-=$e,ee+=3}z(w.Jc[+ve],$,ge,fe),$=ge<H?0:5}if($!=0)return hs(w,$,"cannot parse partitions");for($=G(ge=w.m,7),ee=X(ge)?V(ge,4):0,H=X(ge)?V(ge,4):0,fe=X(ge)?V(ge,4):0,ve=X(ge)?V(ge,4):0,ge=X(ge)?V(ge,4):0,Te=w.Qa,$e=0;4>$e;++$e){if(Te.Cb){var be=Te.Zb[$e];Te.Fb||(be+=$)}else{if(0<$e){w.pb[$e]=w.pb[0];continue}be=$}var Oe=w.pb[$e];Oe.Sc[0]=f0[nn(be+ee,127)],Oe.Sc[1]=Pf[nn(be+0,127)],Oe.Eb[0]=2*f0[nn(be+H,127)],Oe.Eb[1]=101581*Pf[nn(be+fe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=f0[nn(be+ve,117)],Oe.Qc[1]=Pf[nn(be+ge,127)],Oe.lc=be+ge}if(!le.Rb)return hs(w,4,"Not a key frame.");for(X(oe),le=w.Pa,$=0;4>$;++$){for(ee=0;8>ee;++ee)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)ve=me(oe,Vd[$][ee][H][fe])?G(oe,8):Ef[$][ee][H][fe],le.Wc[$][ee].Yb[H][fe]=ve;for(ee=0;17>ee;++ee)le.Xc[$][ee]=le.Wc[$][jN[ee]]}return w.kc=X(oe),w.kc&&(w.Bd=G(oe,8)),w.cb=1}function _l(w,P,$,H,ee,oe,le){var fe=P[ee].Yb[$];for($=0;16>ee;++ee){if(!me(w,fe[$+0]))return ee;for(;!me(w,fe[$+1]);)if(fe=P[++ee].Yb[0],$=0,ee==16)return 16;var ge=P[ee+1].Yb;if(me(w,fe[$+2])){var ve=w,Te=0;if(me(ve,(be=fe)[($e=$)+3]))if(me(ve,be[$e+6])){for(fe=0,$e=2*(Te=me(ve,be[$e+8]))+(be=me(ve,be[$e+9+Te])),Te=0,be=m0[$e];be[fe];++fe)Te+=Te+me(ve,be[fe]);Te+=3+(8<<$e)}else me(ve,be[$e+7])?(Te=7+2*me(ve,165),Te+=me(ve,145)):Te=5+me(ve,159);else Te=me(ve,be[$e+4])?3+me(ve,be[$e+5]):2;fe=ge[2]}else Te=1,fe=ge[1];ge=le+Ud[ee],0>(ve=w).b&&xe(ve);var $e,be=ve.b,Oe=($e=ve.Ca>>1)-(ve.I>>be)>>31;--ve.b,ve.Ca+=Oe,ve.Ca|=1,ve.I-=($e+1&Oe)<<be,oe[ge]=((Te^Oe)-Oe)*H[(0<ee)+0]}return 16}function gc(w){var P=w.rb[w.sb-1];P.la=0,P.Na=0,a(w.zc,0,0,w.zc.length),w.ja=0}function Za(w,P,$,H,ee){ee=w[P+$+32*H]+(ee>>3),w[P+$+32*H]=-256&ee?0>ee?0:255:ee}function xc(w,P,$,H,ee,oe){Za(w,P,0,$,H+ee),Za(w,P,1,$,H+oe),Za(w,P,2,$,H-oe),Za(w,P,3,$,H-ee)}function fs(w){return(20091*w>>16)+w}function bd(w,P,$,H){var ee,oe=0,le=i(16);for(ee=0;4>ee;++ee){var fe=w[P+0]+w[P+8],ge=w[P+0]-w[P+8],ve=(35468*w[P+4]>>16)-fs(w[P+12]),Te=fs(w[P+4])+(35468*w[P+12]>>16);le[oe+0]=fe+Te,le[oe+1]=ge+ve,le[oe+2]=ge-ve,le[oe+3]=fe-Te,oe+=4,P++}for(ee=oe=0;4>ee;++ee)fe=(w=le[oe+0]+4)+le[oe+8],ge=w-le[oe+8],ve=(35468*le[oe+4]>>16)-fs(le[oe+12]),Za($,H,0,0,fe+(Te=fs(le[oe+4])+(35468*le[oe+12]>>16))),Za($,H,1,0,ge+ve),Za($,H,2,0,ge-ve),Za($,H,3,0,fe-Te),oe++,H+=32}function gp(w,P,$,H){var ee=w[P+0]+4,oe=35468*w[P+4]>>16,le=fs(w[P+4]),fe=35468*w[P+1]>>16;xc($,H,0,ee+le,w=fs(w[P+1]),fe),xc($,H,1,ee+oe,w,fe),xc($,H,2,ee-oe,w,fe),xc($,H,3,ee-le,w,fe)}function df(w,P,$,H,ee){bd(w,P,$,H),ee&&bd(w,P+16,$,H+4)}function Jx(w,P,$,H){We(w,P+0,$,H,1),We(w,P+32,$,H+128,1)}function io(w,P,$,H){var ee;for(w=w[P+0]+4,ee=0;4>ee;++ee)for(P=0;4>P;++P)Za($,H,P,ee,w)}function wd(w,P,$,H){w[P+0]&&zt(w,P+0,$,H),w[P+16]&&zt(w,P+16,$,H+4),w[P+32]&&zt(w,P+32,$,H+128),w[P+48]&&zt(w,P+48,$,H+128+4)}function jd(w,P,$,H){var ee,oe=i(16);for(ee=0;4>ee;++ee){var le=w[P+0+ee]+w[P+12+ee],fe=w[P+4+ee]+w[P+8+ee],ge=w[P+4+ee]-w[P+8+ee],ve=w[P+0+ee]-w[P+12+ee];oe[0+ee]=le+fe,oe[8+ee]=le-fe,oe[4+ee]=ve+ge,oe[12+ee]=ve-ge}for(ee=0;4>ee;++ee)le=(w=oe[0+4*ee]+3)+oe[3+4*ee],fe=oe[1+4*ee]+oe[2+4*ee],ge=oe[1+4*ee]-oe[2+4*ee],ve=w-oe[3+4*ee],$[H+0]=le+fe>>3,$[H+16]=ve+ge>>3,$[H+32]=le-fe>>3,$[H+48]=ve-ge>>3,H+=64}function mi(w,P,$){var H,ee=P-32,oe=ti,le=255-w[ee-1];for(H=0;H<$;++H){var fe,ge=oe,ve=le+w[P-1];for(fe=0;fe<$;++fe)w[P+fe]=ge[ve+w[ee+fe]];P+=32}}function Nd(w,P){mi(w,P,4)}function xp(w,P){mi(w,P,8)}function e0(w,P){mi(w,P,16)}function yp(w,P){var $;for($=0;16>$;++$)s(w,P+32*$,w,P-32,16)}function _d(w,P){var $;for($=16;0<$;--$)a(w,P,w[P-1],16),P+=32}function yc(w,P,$){var H;for(H=0;16>H;++H)a(P,$+32*H,w,16)}function Sl(w,P){var $,H=16;for($=0;16>$;++$)H+=w[P-1+32*$]+w[P+$-32];yc(H>>5,w,P)}function t0(w,P){var $,H=8;for($=0;16>$;++$)H+=w[P-1+32*$];yc(H>>4,w,P)}function mu(w,P){var $,H=8;for($=0;16>$;++$)H+=w[P+$-32];yc(H>>4,w,P)}function hf(w,P){yc(128,w,P)}function ar(w,P,$){return w+2*P+$+2>>2}function r0(w,P){var $,H=P-32;for(H=new Uint8Array([ar(w[H-1],w[H+0],w[H+1]),ar(w[H+0],w[H+1],w[H+2]),ar(w[H+1],w[H+2],w[H+3]),ar(w[H+2],w[H+3],w[H+4])]),$=0;4>$;++$)s(w,P+32*$,H,0,H.length)}function n0(w,P){var $=w[P-1],H=w[P-1+32],ee=w[P-1+64],oe=w[P-1+96];ne(w,P+0,16843009*ar(w[P-1-32],$,H)),ne(w,P+32,16843009*ar($,H,ee)),ne(w,P+64,16843009*ar(H,ee,oe)),ne(w,P+96,16843009*ar(ee,oe,oe))}function s0(w,P){var $,H=4;for($=0;4>$;++$)H+=w[P+$-32]+w[P-1+32*$];for(H>>=3,$=0;4>$;++$)a(w,P+32*$,H,4)}function a0(w,P){var $=w[P-1+0],H=w[P-1+32],ee=w[P-1+64],oe=w[P-1-32],le=w[P+0-32],fe=w[P+1-32],ge=w[P+2-32],ve=w[P+3-32];w[P+0+96]=ar(H,ee,w[P-1+96]),w[P+1+96]=w[P+0+64]=ar($,H,ee),w[P+2+96]=w[P+1+64]=w[P+0+32]=ar(oe,$,H),w[P+3+96]=w[P+2+64]=w[P+1+32]=w[P+0+0]=ar(le,oe,$),w[P+3+64]=w[P+2+32]=w[P+1+0]=ar(fe,le,oe),w[P+3+32]=w[P+2+0]=ar(ge,fe,le),w[P+3+0]=ar(ve,ge,fe)}function oo(w,P){var $=w[P+1-32],H=w[P+2-32],ee=w[P+3-32],oe=w[P+4-32],le=w[P+5-32],fe=w[P+6-32],ge=w[P+7-32];w[P+0+0]=ar(w[P+0-32],$,H),w[P+1+0]=w[P+0+32]=ar($,H,ee),w[P+2+0]=w[P+1+32]=w[P+0+64]=ar(H,ee,oe),w[P+3+0]=w[P+2+32]=w[P+1+64]=w[P+0+96]=ar(ee,oe,le),w[P+3+32]=w[P+2+64]=w[P+1+96]=ar(oe,le,fe),w[P+3+64]=w[P+2+96]=ar(le,fe,ge),w[P+3+96]=ar(fe,ge,ge)}function Al(w,P){var $=w[P-1+0],H=w[P-1+32],ee=w[P-1+64],oe=w[P-1-32],le=w[P+0-32],fe=w[P+1-32],ge=w[P+2-32],ve=w[P+3-32];w[P+0+0]=w[P+1+64]=oe+le+1>>1,w[P+1+0]=w[P+2+64]=le+fe+1>>1,w[P+2+0]=w[P+3+64]=fe+ge+1>>1,w[P+3+0]=ge+ve+1>>1,w[P+0+96]=ar(ee,H,$),w[P+0+64]=ar(H,$,oe),w[P+0+32]=w[P+1+96]=ar($,oe,le),w[P+1+32]=w[P+2+96]=ar(oe,le,fe),w[P+2+32]=w[P+3+96]=ar(le,fe,ge),w[P+3+32]=ar(fe,ge,ve)}function i0(w,P){var $=w[P+0-32],H=w[P+1-32],ee=w[P+2-32],oe=w[P+3-32],le=w[P+4-32],fe=w[P+5-32],ge=w[P+6-32],ve=w[P+7-32];w[P+0+0]=$+H+1>>1,w[P+1+0]=w[P+0+64]=H+ee+1>>1,w[P+2+0]=w[P+1+64]=ee+oe+1>>1,w[P+3+0]=w[P+2+64]=oe+le+1>>1,w[P+0+32]=ar($,H,ee),w[P+1+32]=w[P+0+96]=ar(H,ee,oe),w[P+2+32]=w[P+1+96]=ar(ee,oe,le),w[P+3+32]=w[P+2+96]=ar(oe,le,fe),w[P+3+64]=ar(le,fe,ge),w[P+3+96]=ar(fe,ge,ve)}function o0(w,P){var $=w[P-1+0],H=w[P-1+32],ee=w[P-1+64],oe=w[P-1+96];w[P+0+0]=$+H+1>>1,w[P+2+0]=w[P+0+32]=H+ee+1>>1,w[P+2+32]=w[P+0+64]=ee+oe+1>>1,w[P+1+0]=ar($,H,ee),w[P+3+0]=w[P+1+32]=ar(H,ee,oe),w[P+3+32]=w[P+1+64]=ar(ee,oe,oe),w[P+3+64]=w[P+2+64]=w[P+0+96]=w[P+1+96]=w[P+2+96]=w[P+3+96]=oe}function Sd(w,P){var $=w[P-1+0],H=w[P-1+32],ee=w[P-1+64],oe=w[P-1+96],le=w[P-1-32],fe=w[P+0-32],ge=w[P+1-32],ve=w[P+2-32];w[P+0+0]=w[P+2+32]=$+le+1>>1,w[P+0+32]=w[P+2+64]=H+$+1>>1,w[P+0+64]=w[P+2+96]=ee+H+1>>1,w[P+0+96]=oe+ee+1>>1,w[P+3+0]=ar(fe,ge,ve),w[P+2+0]=ar(le,fe,ge),w[P+1+0]=w[P+3+32]=ar($,le,fe),w[P+1+32]=w[P+3+64]=ar(H,$,le),w[P+1+64]=w[P+3+96]=ar(ee,H,$),w[P+1+96]=ar(oe,ee,H)}function ff(w,P){var $;for($=0;8>$;++$)s(w,P+32*$,w,P-32,8)}function tn(w,P){var $;for($=0;8>$;++$)a(w,P,w[P-1],8),P+=32}function rn(w,P,$){var H;for(H=0;8>H;++H)a(P,$+32*H,w,8)}function Ad(w,P){var $,H=8;for($=0;8>$;++$)H+=w[P+$-32]+w[P-1+32*$];rn(H>>4,w,P)}function l0(w,P){var $,H=4;for($=0;8>$;++$)H+=w[P+$-32];rn(H>>3,w,P)}function mf(w,P){var $,H=4;for($=0;8>$;++$)H+=w[P-1+32*$];rn(H>>3,w,P)}function pf(w,P){rn(128,w,P)}function pu(w,P,$){var H=w[P-$],ee=w[P+0],oe=3*(ee-H)+Fd[1020+w[P-2*$]-w[P+$]],le=kf[112+(oe+4>>3)];w[P-$]=ti[255+H+kf[112+(oe+3>>3)]],w[P+0]=ti[255+ee-le]}function gu(w,P,$,H){var ee=w[P+0],oe=w[P+$];return Fa[255+w[P-2*$]-w[P-$]]>H||Fa[255+oe-ee]>H}function kd(w,P,$,H){return 4*Fa[255+w[P-$]-w[P+0]]+Fa[255+w[P-2*$]-w[P+$]]<=H}function Cd(w,P,$,H,ee){var oe=w[P-3*$],le=w[P-2*$],fe=w[P-$],ge=w[P+0],ve=w[P+$],Te=w[P+2*$],$e=w[P+3*$];return 4*Fa[255+fe-ge]+Fa[255+le-ve]>H?0:Fa[255+w[P-4*$]-oe]<=ee&&Fa[255+oe-le]<=ee&&Fa[255+le-fe]<=ee&&Fa[255+$e-Te]<=ee&&Fa[255+Te-ve]<=ee&&Fa[255+ve-ge]<=ee}function ms(w,P,$,H){var ee=2*H+1;for(H=0;16>H;++H)kd(w,P+H,$,ee)&&pu(w,P+H,$)}function kl(w,P,$,H){var ee=2*H+1;for(H=0;16>H;++H)kd(w,P+H*$,1,ee)&&pu(w,P+H*$,1)}function lo(w,P,$,H){var ee;for(ee=3;0<ee;--ee)ms(w,P+=4*$,$,H)}function Pd(w,P,$,H){var ee;for(ee=3;0<ee;--ee)kl(w,P+=4,$,H)}function Ra(w,P,$,H,ee,oe,le,fe){for(oe=2*oe+1;0<ee--;){if(Cd(w,P,$,oe,le))if(gu(w,P,$,fe))pu(w,P,$);else{var ge=w,ve=P,Te=$,$e=ge[ve-2*Te],be=ge[ve-Te],Oe=ge[ve+0],Me=ge[ve+Te],Ze=ge[ve+2*Te],Re=27*(et=Fd[1020+3*(Oe-be)+Fd[1020+$e-Me]])+63>>7,Xe=18*et+63>>7,et=9*et+63>>7;ge[ve-3*Te]=ti[255+ge[ve-3*Te]+et],ge[ve-2*Te]=ti[255+$e+Xe],ge[ve-Te]=ti[255+be+Re],ge[ve+0]=ti[255+Oe-Re],ge[ve+Te]=ti[255+Me-Xe],ge[ve+2*Te]=ti[255+Ze-et]}P+=H}}function ps(w,P,$,H,ee,oe,le,fe){for(oe=2*oe+1;0<ee--;){if(Cd(w,P,$,oe,le))if(gu(w,P,$,fe))pu(w,P,$);else{var ge=w,ve=P,Te=$,$e=ge[ve-Te],be=ge[ve+0],Oe=ge[ve+Te],Me=kf[112+(4+(Ze=3*(be-$e))>>3)],Ze=kf[112+(Ze+3>>3)],Re=Me+1>>1;ge[ve-2*Te]=ti[255+ge[ve-2*Te]+Re],ge[ve-Te]=ti[255+$e+Ze],ge[ve+0]=ti[255+be-Me],ge[ve+Te]=ti[255+Oe-Re]}P+=H}}function F(w,P,$,H,ee,oe){Ra(w,P,$,1,16,H,ee,oe)}function re(w,P,$,H,ee,oe){Ra(w,P,1,$,16,H,ee,oe)}function we(w,P,$,H,ee,oe){var le;for(le=3;0<le;--le)ps(w,P+=4*$,$,1,16,H,ee,oe)}function Ae(w,P,$,H,ee,oe){var le;for(le=3;0<le;--le)ps(w,P+=4,1,$,16,H,ee,oe)}function Le(w,P,$,H,ee,oe,le,fe){Ra(w,P,ee,1,8,oe,le,fe),Ra($,H,ee,1,8,oe,le,fe)}function Je(w,P,$,H,ee,oe,le,fe){Ra(w,P,1,ee,8,oe,le,fe),Ra($,H,1,ee,8,oe,le,fe)}function tt(w,P,$,H,ee,oe,le,fe){ps(w,P+4*ee,ee,1,8,oe,le,fe),ps($,H+4*ee,ee,1,8,oe,le,fe)}function At(w,P,$,H,ee,oe,le,fe){ps(w,P+4,1,ee,8,oe,le,fe),ps($,H+4,1,ee,8,oe,le,fe)}function bt(){this.ba=new xn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cr(){this.ua=0,this.Wa=new Ye,this.vb=new Ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new M}function Cn(){this.xb=this.a=0,this.l=new yd,this.ca=new xn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cr,this.ab=0,this.gc=o(4,pr),this.Oc=0}function ts(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(w,P,$,H,ee,oe,le){for(w=w==null?0:w[P+0],P=0;P<le;++P)ee[oe+P]=w+$[H+P]&255,w=ee[oe+P]}function Pn(w,P,$,H,ee,oe,le){var fe;if(w==null)Wt(null,null,$,H,ee,oe,le);else for(fe=0;fe<le;++fe)ee[oe+fe]=w[P+fe]+$[H+fe]&255}function rs(w,P,$,H,ee,oe,le){if(w==null)Wt(null,null,$,H,ee,oe,le);else{var fe,ge=w[P+0],ve=ge,Te=ge;for(fe=0;fe<le;++fe)ve=Te+(ge=w[P+fe])-ve,Te=$[H+fe]+(-256&ve?0>ve?0:255:ve)&255,ve=ge,ee[oe+fe]=Te}}function ia(w,P,$,H){var ee=P.width,oe=P.o;if(t(w!=null&&P!=null),0>$||0>=H||$+H>oe)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new ts,(le=w.ga==null)||(le=P.width*P.o,t(w.Gb.length==0),w.Gb=i(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var fe=w.Fa,ge=w.P,ve=w.qc,Te=w.mb,$e=w.nb,be=ge+1,Oe=ve-1,Me=le.l;if(t(fe!=null&&Te!=null&&P!=null),Ui[0]=null,Ui[1]=Wt,Ui[2]=Pn,Ui[3]=rs,le.ca=Te,le.tb=$e,le.c=P.width,le.i=P.height,t(0<le.c&&0<le.i),1>=ve)P=0;else if(le.$a=3&fe[ge+0],le.Z=fe[ge+0]>>2&3,le.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ge)P=0;else if(Me.put=Kt,Me.ac=Vo,Me.bc=jl,Me.ma=le,Me.width=P.width,Me.height=P.height,Me.Da=P.Da,Me.v=P.v,Me.va=P.va,Me.j=P.j,Me.o=P.o,le.$a)e:{t(le.$a==1),P=hu();t:for(;;){if(P==null){P=0;break e}if(t(le!=null),le.mc=P,P.c=le.c,P.i=le.i,P.l=le.l,P.l.ma=le,P.l.width=le.c,P.l.height=le.i,P.a=0,Y(P.m,fe,be,Oe),!Ho(le.c,le.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&so(P.s)?(le.ic=1,fe=P.c*P.i,P.Ta=null,P.Ua=0,P.V=i(fe),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(le.ic=0,P=fu(P,le.c)),!P))break t;P=1;break e}le.mc=null,P=0}else P=Oe>=le.c*le.i;le=!P}if(le)return null;w.ga.Lc!=1?w.Ga=0:H=oe-$}t(w.ga!=null),t($+H<=oe);e:{if(P=(fe=w.ga).c,oe=fe.l.o,fe.$a==0){if(be=w.rc,Oe=w.Vc,Me=w.Fa,ge=w.P+1+$*P,ve=w.mb,Te=w.nb+$*P,t(ge<=w.P+w.qc),fe.Z!=0)for(t(Ui[fe.Z]!=null),le=0;le<H;++le)Ui[fe.Z](be,Oe,Me,ge,ve,Te,P),be=ve,Oe=Te,Te+=P,ge+=P;else for(le=0;le<H;++le)s(ve,Te,Me,ge,P),be=ve,Oe=Te,Te+=P,ge+=P;w.rc=be,w.Vc=Oe}else{if(t(fe.mc!=null),P=$+H,t((le=fe.mc)!=null),t(P<=le.i),le.C>=P)P=1;else if(fe.ic||bc(),fe.ic){fe=le.V,be=le.Ba,Oe=le.c;var Ze=le.i,Re=(Me=1,ge=le.$/Oe,ve=le.$%Oe,Te=le.m,$e=le.s,le.$),Xe=Oe*Ze,et=Oe*P,it=$e.wc,rt=Re<et?aa($e,ve,ge):null;t(Re<=Xe),t(P<=Ze),t(so($e));t:for(;;){for(;!Te.h&&Re<et;){if(ve&it||(rt=aa($e,ve,ge)),t(rt!=null),ae(Te),256>(Ze=es(rt.G[0],rt.H[0],Te)))fe[be+Re]=Ze,++Re,++ve>=Oe&&(ve=0,++ge<=P&&!(ge%16)&&ao(le,ge));else{if(!(280>Ze)){Me=0;break t}Ze=Fi(Ze-256,Te);var Ot,vt=es(rt.G[4],rt.H[4],Te);if(ae(Te),!(Re>=(vt=Ya(Oe,vt=Fi(vt,Te)))&&Xe-Re>=Ze)){Me=0;break t}for(Ot=0;Ot<Ze;++Ot)fe[be+Re+Ot]=fe[be+Re+Ot-vt];for(Re+=Ze,ve+=Ze;ve>=Oe;)ve-=Oe,++ge<=P&&!(ge%16)&&ao(le,ge);Re<et&&ve&it&&(rt=aa($e,ve,ge))}t(Te.h==se(Te))}ao(le,ge>P?P:ge);break t}!Me||Te.h&&Re<Xe?(Me=0,le.a=Te.h?5:3):le.$=Re,P=Me}else P=$i(le,le.V,le.Ba,le.c,le.i,P,md);if(!P){H=0;break e}}$+H>=oe&&(w.Cc=1),H=1}if(!H)return null;if(w.Cc&&((H=w.ga)!=null&&(H.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+$*ee}function co(w,P,$,H,ee,oe){for(;0<ee--;){var le,fe=w,ge=P+($?1:0),ve=w,Te=P+($?0:3);for(le=0;le<H;++le){var $e=ve[Te+4*le];$e!=255&&($e*=32897,fe[ge+4*le+0]=fe[ge+4*le+0]*$e>>23,fe[ge+4*le+1]=fe[ge+4*le+1]*$e>>23,fe[ge+4*le+2]=fe[ge+4*le+2]*$e>>23)}P+=oe}}function vc(w,P,$,H,ee){for(;0<H--;){var oe;for(oe=0;oe<$;++oe){var le=w[P+2*oe+0],fe=15&(ve=w[P+2*oe+1]),ge=4369*fe,ve=(240&ve|ve>>4)*ge>>16;w[P+2*oe+0]=(240&le|le>>4)*ge>>16&240|(15&le|le<<4)*ge>>16>>4&15,w[P+2*oe+1]=240&ve|fe}P+=ee}}function c0(w,P,$,H,ee,oe,le,fe){var ge,ve,Te=255;for(ve=0;ve<ee;++ve){for(ge=0;ge<H;++ge){var $e=w[P+ge];oe[le+4*ge]=$e,Te&=$e}P+=$,le+=fe}return Te!=255}function vp(w,P,$,H,ee){var oe;for(oe=0;oe<ee;++oe)$[H+oe]=w[P+oe]>>8}function bc(){Rd=co,_f=vc,ab=c0,ib=vp}function Xa(w,P,$){E[w]=function(H,ee,oe,le,fe,ge,ve,Te,$e,be,Oe,Me,Ze,Re,Xe,et,it){var rt,Ot=it-1>>1,vt=fe[ge+0]|ve[Te+0]<<16,qt=$e[be+0]|Oe[Me+0]<<16;t(H!=null);var Tt=3*vt+qt+131074>>2;for(P(H[ee+0],255&Tt,Tt>>16,Ze,Re),oe!=null&&(Tt=3*qt+vt+131074>>2,P(oe[le+0],255&Tt,Tt>>16,Xe,et)),rt=1;rt<=Ot;++rt){var Mr=fe[ge+rt]|ve[Te+rt]<<16,Ss=$e[be+rt]|Oe[Me+rt]<<16,cr=vt+Mr+qt+Ss+524296,jt=cr+2*(Mr+qt)>>3;Tt=jt+vt>>1,vt=(cr=cr+2*(vt+Ss)>>3)+Mr>>1,P(H[ee+2*rt-1],255&Tt,Tt>>16,Ze,Re+(2*rt-1)*$),P(H[ee+2*rt-0],255&vt,vt>>16,Ze,Re+(2*rt-0)*$),oe!=null&&(Tt=cr+qt>>1,vt=jt+Ss>>1,P(oe[le+2*rt-1],255&Tt,Tt>>16,Xe,et+(2*rt-1)*$),P(oe[le+2*rt+0],255&vt,vt>>16,Xe,et+(2*rt+0)*$)),vt=Mr,qt=Ss}1&it||(Tt=3*vt+qt+131074>>2,P(H[ee+it-1],255&Tt,Tt>>16,Ze,Re+(it-1)*$),oe!=null&&(Tt=3*qt+vt+131074>>2,P(oe[le+it-1],255&Tt,Tt>>16,Xe,et+(it-1)*$)))}}function Go(){vi[Cf]=ce,vi[Nc]=Of,vi[_c]=Wd,vi[bu]=bi,vi[jp]=Or,vi[d0]=hb,vi[lb]=_N,vi[$d]=Of,vi[Bd]=bi,vi[zd]=Or,vi[h0]=hb}function Ed(w){return w&~SN?0>w?0:255:w>>fb}function Cl(w,P){return Ed((19077*w>>8)+(26149*P>>8)-14234)}function Is(w,P,$){return Ed((19077*w>>8)-(6419*P>>8)-(13320*$>>8)+8708)}function uo(w,P){return Ed((19077*w>>8)+(33050*P>>8)-17685)}function ho(w,P,$,H,ee){H[ee+0]=Cl(w,$),H[ee+1]=Is(w,P,$),H[ee+2]=uo(w,P)}function xu(w,P,$,H,ee){H[ee+0]=uo(w,P),H[ee+1]=Is(w,P,$),H[ee+2]=Cl(w,$)}function gf(w,P,$,H,ee){var oe=Is(w,P,$);P=oe<<3&224|uo(w,P)>>3,H[ee+0]=248&Cl(w,$)|oe>>5,H[ee+1]=P}function oa(w,P,$,H,ee){var oe=240&uo(w,P)|15;H[ee+0]=240&Cl(w,$)|Is(w,P,$)>>4,H[ee+1]=oe}function Td(w,P,$,H,ee){H[ee+0]=255,ho(w,P,$,H,ee+1)}function Od(w,P,$,H,ee){xu(w,P,$,H,ee),H[ee+3]=255}function xf(w,P,$,H,ee){ho(w,P,$,H,ee),H[ee+3]=255}function nn(w,P){return 0>w?0:w>P?P:w}function Qa(w,P,$){E[w]=function(H,ee,oe,le,fe,ge,ve,Te,$e){for(var be=Te+(-2&$e)*$;Te!=be;)P(H[ee+0],oe[le+0],fe[ge+0],ve,Te),P(H[ee+1],oe[le+0],fe[ge+0],ve,Te+$),ee+=2,++le,++ge,Te+=2*$;1&$e&&P(H[ee+0],oe[le+0],fe[ge+0],ve,Te)}}function Pl(w,P,$){return $==0?w==0?P==0?6:5:P==0?4:0:$}function Ld(w,P,$,H,ee){switch(w>>>30){case 3:We(P,$,H,ee,0);break;case 2:Ue(P,$,H,ee);break;case 1:zt(P,$,H,ee)}}function El(w,P){var $,H,ee=P.M,oe=P.Nb,le=w.oc,fe=w.pc+40,ge=w.oc,ve=w.pc+584,Te=w.oc,$e=w.pc+600;for($=0;16>$;++$)le[fe+32*$-1]=129;for($=0;8>$;++$)ge[ve+32*$-1]=129,Te[$e+32*$-1]=129;for(0<ee?le[fe-1-32]=ge[ve-1-32]=Te[$e-1-32]=129:(a(le,fe-32-1,127,21),a(ge,ve-32-1,127,9),a(Te,$e-32-1,127,9)),H=0;H<w.za;++H){var be=P.ya[P.aa+H];if(0<H){for($=-1;16>$;++$)s(le,fe+32*$-4,le,fe+32*$+12,4);for($=-1;8>$;++$)s(ge,ve+32*$-4,ge,ve+32*$+4,4),s(Te,$e+32*$-4,Te,$e+32*$+4,4)}var Oe=w.Gd,Me=w.Hd+H,Ze=be.ad,Re=be.Hc;if(0<ee&&(s(le,fe-32,Oe[Me].y,0,16),s(ge,ve-32,Oe[Me].f,0,8),s(Te,$e-32,Oe[Me].ea,0,8)),be.Za){var Xe=le,et=fe-32+16;for(0<ee&&(H>=w.za-1?a(Xe,et,Oe[Me].y[15],4):s(Xe,et,Oe[Me+1].y,0,4)),$=0;4>$;$++)Xe[et+128+$]=Xe[et+256+$]=Xe[et+384+$]=Xe[et+0+$];for($=0;16>$;++$,Re<<=2)Xe=le,et=fe+Xo[$],mo[be.Ob[$]](Xe,et),Ld(Re,Ze,16*+$,Xe,et)}else if(Xe=Pl(H,ee,be.Ob[0]),Sc[Xe](le,fe),Re!=0)for($=0;16>$;++$,Re<<=2)Ld(Re,Ze,16*+$,le,fe+Xo[$]);for($=be.Gc,Xe=Pl(H,ee,be.Dd),Il[Xe](ge,ve),Il[Xe](Te,$e),Re=Ze,Xe=ge,et=ve,255&(be=0|$)&&(170&be?yt(Re,256,Xe,et):$r(Re,256,Xe,et)),be=Te,Re=$e,255&($>>=8)&&(170&$?yt(Ze,320,be,Re):$r(Ze,320,be,Re)),ee<w.Ub-1&&(s(Oe[Me].y,0,le,fe+480,16),s(Oe[Me].f,0,ge,ve+224,8),s(Oe[Me].ea,0,Te,$e+224,8)),$=8*oe*w.B,Oe=w.sa,Me=w.ta+16*H+16*oe*w.R,Ze=w.qa,be=w.ra+8*H+$,Re=w.Ha,Xe=w.Ia+8*H+$,$=0;16>$;++$)s(Oe,Me+$*w.R,le,fe+32*$,16);for($=0;8>$;++$)s(Ze,be+$*w.B,ge,ve+32*$,8),s(Re,Xe+$*w.B,Te,$e+32*$,8)}}function Id(w,P,$,H,ee,oe,le,fe,ge){var ve=[0],Te=[0],$e=0,be=ge!=null?ge.kd:0,Oe=ge??new rr;if(w==null||12>$)return 7;Oe.data=w,Oe.w=P,Oe.ha=$,P=[P],$=[$],Oe.gb=[Oe.gb];e:{var Me=P,Ze=$,Re=Oe.gb;if(t(w!=null),t(Ze!=null),t(Re!=null),Re[0]=0,12<=Ze[0]&&!r(w,Me[0],"RIFF")){if(r(w,Me[0]+8,"WEBP")){Re=3;break e}var Xe=je(w,Me[0]+4);if(12>Xe||4294967286<Xe){Re=3;break e}if(be&&Xe>Ze[0]-8){Re=7;break e}Re[0]=Xe,Me[0]+=12,Ze[0]-=12}Re=0}if(Re!=0)return Re;for(Xe=0<Oe.gb[0],$=$[0];;){e:{var et=w;Ze=P,Re=$;var it=ve,rt=Te,Ot=Me=[0];if((Tt=$e=[$e])[0]=0,8>Re[0])Re=7;else{if(!r(et,Ze[0],"VP8X")){if(je(et,Ze[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var vt=je(et,Ze[0]+8),qt=1+ke(et,Ze[0]+12);if(2147483648<=qt*(et=1+ke(et,Ze[0]+15))){Re=3;break e}Ot!=null&&(Ot[0]=vt),it!=null&&(it[0]=qt),rt!=null&&(rt[0]=et),Ze[0]+=18,Re[0]-=18,Tt[0]=1}Re=0}}if($e=$e[0],Me=Me[0],Re!=0)return Re;if(Ze=!!(2&Me),!Xe&&$e)return 3;if(oe!=null&&(oe[0]=!!(16&Me)),le!=null&&(le[0]=Ze),fe!=null&&(fe[0]=0),le=ve[0],Me=Te[0],$e&&Ze&&ge==null){Re=0;break}if(4>$){Re=7;break}if(Xe&&$e||!Xe&&!$e&&!r(w,P[0],"ALPH")){$=[$],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{vt=w,Re=P,Xe=$;var Tt=Oe.gb;it=Oe.na,rt=Oe.P,Ot=Oe.Sa,qt=22,t(vt!=null),t(Xe!=null),et=Re[0];var Mr=Xe[0];for(t(it!=null),t(Ot!=null),it[0]=null,rt[0]=null,Ot[0]=0;;){if(Re[0]=et,Xe[0]=Mr,8>Mr){Re=7;break e}var Ss=je(vt,et+4);if(4294967286<Ss){Re=3;break e}var cr=8+Ss+1&-2;if(qt+=cr,0<Tt&&qt>Tt){Re=3;break e}if(!r(vt,et,"VP8 ")||!r(vt,et,"VP8L")){Re=0;break e}if(Mr[0]<cr){Re=7;break e}r(vt,et,"ALPH")||(it[0]=vt,rt[0]=et+8,Ot[0]=Ss),et+=cr,Mr-=cr}}if($=$[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Re!=0)break}$=[$],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Tt=w,Re=P,Xe=$,it=Oe.gb[0],rt=Oe.Ja,Ot=Oe.xa,vt=Re[0],et=!r(Tt,vt,"VP8 "),qt=!r(Tt,vt,"VP8L"),t(Tt!=null),t(Xe!=null),t(rt!=null),t(Ot!=null),8>Xe[0])Re=7;else{if(et||qt){if(Tt=je(Tt,vt+4),12<=it&&Tt>it-12){Re=3;break e}if(be&&Tt>Xe[0]-8){Re=7;break e}rt[0]=Tt,Re[0]+=8,Xe[0]-=8,Ot[0]=qt}else Ot[0]=5<=Xe[0]&&Tt[vt+0]==47&&!(Tt[vt+4]>>5),rt[0]=Xe[0];Re=0}if($=$[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],P=P[0],Re!=0)break;if(4294967286<Oe.Ja)return 3;if(fe==null||Ze||(fe[0]=Oe.xa?2:1),le=[le],Me=[Me],Oe.xa){if(5>$){Re=7;break}fe=le,be=Me,Ze=oe,w==null||5>$?w=0:5<=$&&w[P+0]==47&&!(w[P+4]>>5)?(Xe=[0],Tt=[0],it=[0],Y(rt=new K,w,P,$),no(rt,Xe,Tt,it)?(fe!=null&&(fe[0]=Xe[0]),be!=null&&(be[0]=Tt[0]),Ze!=null&&(Ze[0]=it[0]),w=1):w=0):w=0}else{if(10>$){Re=7;break}fe=Me,w==null||10>$||!uf(w,P+3,$-3)?w=0:(be=w[P+0]|w[P+1]<<8|w[P+2]<<16,Ze=16383&(w[P+7]<<8|w[P+6]),w=16383&(w[P+9]<<8|w[P+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Oe.Ja||!Ze||!w?w=0:(le&&(le[0]=Ze),fe&&(fe[0]=w),w=1))}if(!w||(le=le[0],Me=Me[0],$e&&(ve[0]!=le||Te[0]!=Me)))return 3;ge!=null&&(ge[0]=Oe,ge.offset=P-ge.w,t(4294967286>P-ge.w),t(ge.offset==ge.ha-$));break}return Re==0||Re==7&&$e&&ge==null?(oe!=null&&(oe[0]|=Oe.na!=null&&0<Oe.na.length),H!=null&&(H[0]=le),ee!=null&&(ee[0]=Me),0):Re}function Ja(w,P,$){var H=P.width,ee=P.height,oe=0,le=0,fe=H,ge=ee;if(P.Da=w!=null&&0<w.Da,P.Da&&(fe=w.cd,ge=w.bd,oe=w.v,le=w.j,11>$||(oe&=-2,le&=-2),0>oe||0>le||0>=fe||0>=ge||oe+fe>H||le+ge>ee))return 0;if(P.v=oe,P.j=le,P.va=oe+fe,P.o=le+ge,P.U=fe,P.T=ge,P.da=w!=null&&0<w.da,P.da){if(!Ge(fe,ge,$=[w.ib],oe=[w.hb]))return 0;P.ib=$[0],P.hb=oe[0]}return P.ob=w!=null&&w.ob,P.Kb=w==null||!w.Sd,P.da&&(P.ob=P.ib<3*H/4&&P.hb<3*ee/4,P.Kb=0),1}function ei(w){if(w==null)return 2;if(11>w.S){var P=w.f.RGBA;P.fb+=(w.height-1)*P.A,P.A=-P.A}else P=w.f.kb,w=w.height,P.O+=(w-1)*P.fa,P.fa=-P.fa,P.N+=(w-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(w-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(w-1)*P.lb,P.lb=-P.lb);return 0}function yu(w,P,$,H){if(H==null||0>=w||0>=P)return 2;if($!=null){if($.Da){var ee=$.cd,oe=$.bd,le=-2&$.v,fe=-2&$.j;if(0>le||0>fe||0>=ee||0>=oe||le+ee>w||fe+oe>P)return 2;w=ee,P=oe}if($.da){if(!Ge(w,P,ee=[$.ib],oe=[$.hb]))return 2;w=ee[0],P=oe[0]}}H.width=w,H.height=P;e:{var ge=H.width,ve=H.height;if(w=H.S,0>=ge||0>=ve||!(w>=Cf&&13>w))w=2;else{if(0>=H.Rd&&H.sd==null){le=oe=ee=P=0;var Te=(fe=ge*pb[w])*ve;if(11>w||(oe=(ve+1)/2*(P=(ge+1)/2),w==12&&(le=(ee=ge)*ve)),(ve=i(Te+2*oe+le))==null){w=1;break e}H.sd=ve,11>w?((ge=H.f.RGBA).eb=ve,ge.fb=0,ge.A=fe,ge.size=Te):((ge=H.f.kb).y=ve,ge.O=0,ge.fa=fe,ge.Fd=Te,ge.f=ve,ge.N=0+Te,ge.Ab=P,ge.Cd=oe,ge.ea=ve,ge.W=0+Te+oe,ge.Db=P,ge.Ed=oe,w==12&&(ge.F=ve,ge.J=0+Te+2*oe),ge.Tc=le,ge.lb=ee)}if(P=1,ee=H.S,oe=H.width,le=H.height,ee>=Cf&&13>ee)if(11>ee)w=H.f.RGBA,P&=(fe=Math.abs(w.A))*(le-1)+oe<=w.size,P&=fe>=oe*pb[ee],P&=w.eb!=null;else{w=H.f.kb,fe=(oe+1)/2,Te=(le+1)/2,ge=Math.abs(w.fa),ve=Math.abs(w.Ab);var $e=Math.abs(w.Db),be=Math.abs(w.lb),Oe=be*(le-1)+oe;P&=ge*(le-1)+oe<=w.Fd,P&=ve*(Te-1)+fe<=w.Cd,P=(P&=$e*(Te-1)+fe<=w.Ed)&ge>=oe&ve>=fe&$e>=fe,P&=w.y!=null,P&=w.f!=null,P&=w.ea!=null,ee==12&&(P&=be>=oe,P&=Oe<=w.Tc,P&=w.F!=null)}else P=0;w=P?0:2}}return w!=0||$!=null&&$.fd&&(w=ei(H)),w}var Ko=64,pi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yf=24,wc=32,qn=8,bp=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];de("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(w){return w},E.Predictor2=function(w,P,$){return P[$+0]},E.Predictor3=function(w,P,$){return P[$+1]},E.Predictor4=function(w,P,$){return P[$-1]},E.Predictor5=function(w,P,$){return De(De(w,P[$+1]),P[$+0])},E.Predictor6=function(w,P,$){return De(w,P[$-1])},E.Predictor7=function(w,P,$){return De(w,P[$+0])},E.Predictor8=function(w,P,$){return De(P[$-1],P[$+0])},E.Predictor9=function(w,P,$){return De(P[$+0],P[$+1])},E.Predictor10=function(w,P,$){return De(De(w,P[$-1]),De(P[$+0],P[$+1]))},E.Predictor11=function(w,P,$){var H=P[$+0];return 0>=Ke(H>>24&255,w>>24&255,(P=P[$-1])>>24&255)+Ke(H>>16&255,w>>16&255,P>>16&255)+Ke(H>>8&255,w>>8&255,P>>8&255)+Ke(255&H,255&w,255&P)?H:w},E.Predictor12=function(w,P,$){var H=P[$+0];return(He((w>>24&255)+(H>>24&255)-((P=P[$-1])>>24&255))<<24|He((w>>16&255)+(H>>16&255)-(P>>16&255))<<16|He((w>>8&255)+(H>>8&255)-(P>>8&255))<<8|He((255&w)+(255&H)-(255&P)))>>>0},E.Predictor13=function(w,P,$){var H=P[$-1];return(Fe((w=De(w,P[$+0]))>>24&255,H>>24&255)<<24|Fe(w>>16&255,H>>16&255)<<16|Fe(w>>8&255,H>>8&255)<<8|Fe(255&w,255&H))>>>0};var la=E.PredictorAdd0;E.PredictorAdd1=lt,de("Predictor2","PredictorAdd2"),de("Predictor3","PredictorAdd3"),de("Predictor4","PredictorAdd4"),de("Predictor5","PredictorAdd5"),de("Predictor6","PredictorAdd6"),de("Predictor7","PredictorAdd7"),de("Predictor8","PredictorAdd8"),de("Predictor9","PredictorAdd9"),de("Predictor10","PredictorAdd10"),de("Predictor11","PredictorAdd11"),de("Predictor12","PredictorAdd12"),de("Predictor13","PredictorAdd13");var gi=E.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var Md,vf=E.ColorIndexInverseTransform,Dd=E.MapARGB,fo=E.VP8LColorIndexInverseTransformAlpha,ca=E.MapAlpha,jc=E.VP8LPredictorsAdd=[];jc.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Tl,bf,xi,Yo,En,sn,Ee,We,Ue,yt,zt,$r,_s,yn,wp,rb,yi,wf,nb,vu,jf,Nf,un,sb,Rd,_f,ab,ib,ob=i(511),Sf=i(2041),Ol=i(225),Af=i(767),u0=0,Fd=Sf,kf=Ol,ti=Af,Fa=ob,Cf=0,Nc=1,_c=2,bu=3,jp=4,d0=5,lb=6,$d=7,Bd=8,zd=9,h0=10,cb=[2,3,7],vN=[3,3,11],ub=[280,256,256,256,40],Ms=[0,1,1,1,0],Na=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],db=8,f0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ll=null,m0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ud=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ef=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Np=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Sc=[],mo=[],Il=[],NN=1,Tf=2,Ui=[],vi=[];Xa("UpsampleRgbLinePair",ho,3),Xa("UpsampleBgrLinePair",xu,3),Xa("UpsampleRgbaLinePair",xf,4),Xa("UpsampleBgraLinePair",Od,4),Xa("UpsampleArgbLinePair",Td,4),Xa("UpsampleRgba4444LinePair",oa,2),Xa("UpsampleRgb565LinePair",gf,2);var ce=E.UpsampleRgbLinePair,Wd=E.UpsampleBgrLinePair,Of=E.UpsampleRgbaLinePair,bi=E.UpsampleBgraLinePair,Or=E.UpsampleArgbLinePair,hb=E.UpsampleRgba4444LinePair,_N=E.UpsampleRgb565LinePair,_p=16,Zo=1<<_p-1,Lf=-227,p0=482,fb=6,SN=(256<<fb)-1,mb=0,Ml=i(256),AN=i(256),kN=i(256),CN=i(256),PN=i(p0-Lf),EN=i(p0-Lf);Qa("YuvToRgbRow",ho,3),Qa("YuvToBgrRow",xu,3),Qa("YuvToRgbaRow",xf,4),Qa("YuvToBgraRow",Od,4),Qa("YuvToArgbRow",Td,4),Qa("YuvToRgba4444Row",oa,2),Qa("YuvToRgb565Row",gf,2);var Xo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sp=[0,2,8],TN=[8,7,6,4,4,2,2,2,1,1,1,1],ON=1;this.WebPDecodeRGBA=function(w,P,$,H,ee){var oe=Nc,le=new bt,fe=new xn;le.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,ve=fe.height,Te=new lr;if(Te==null||w==null)var $e=2;else t(Te!=null),$e=Id(w,P,$,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if($e!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),ve!=null&&(ve[0]=Te.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),ee!=null&&(ee[0]=fe.height);e:{if(H=new yd,(ee=new rr).data=w,ee.w=P,ee.ha=$,ee.kd=1,P=[0],t(ee!=null),((w=Id(ee.data,ee.w,ee.ha,null,null,null,P,null,ee))==0||w==7)&&P[0]&&(w=4),(P=w)==0){if(t(le!=null),H.data=ee.data,H.w=ee.w+ee.offset,H.ha=ee.ha-ee.offset,H.put=Kt,H.ac=Vo,H.bc=jl,H.ma=le,ee.xa){if((w=hu())==null){le=1;break e}if(function(be,Oe){var Me=[0],Ze=[0],Re=[0];t:for(;;){if(be==null)return 0;if(Oe==null)return be.a=2,0;if(be.l=Oe,be.a=0,Y(be.m,Oe.data,Oe.w,Oe.ha),!no(be.m,Me,Ze,Re)){be.a=3;break t}if(be.xb=Tf,Oe.width=Me[0],Oe.height=Ze[0],!Ho(Me[0],Ze[0],1,be,null))break t;return 1}return t(be.a!=0),0}(w,H)){if(H=(P=yu(H.width,H.height,le.Oa,le.ba))==0){t:{H=w;r:for(;;){if(H==null){H=0;break t}if(t(H.s.yc!=null),t(H.s.Ya!=null),t(0<H.s.Wb),t(($=H.l)!=null),t((ee=$.ma)!=null),H.xb!=0){if(H.ca=ee.ba,H.tb=ee.tb,t(H.ca!=null),!Ja(ee.Oa,$,bu)){H.a=2;break r}if(!fu(H,$.width)||$.da)break r;if(($.da||mr(H.ca.S))&&bc(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&bc()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Q(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!$i(H,H.V,H.Ba,H.c,H.i,$.o,mc))break r;ee.Dc=H.Ma,H=1;break t}t(H.a!=0),H=0}H=!H}H&&(P=w.a)}else P=w.a}else{if((w=new pp)==null){le=1;break e}if(w.Fa=ee.na,w.P=ee.P,w.qc=ee.Sa,vd(w,H)){if((P=yu(H.width,H.height,le.Oa,le.ba))==0){if(w.Aa=0,$=le.Oa,t((ee=w)!=null),$!=null){if(0<(ge=0>(ge=$.Md)?0:100<ge?255:255*ge/100)){for(ve=Te=0;4>ve;++ve)12>($e=ee.pb[ve]).lc&&($e.ia=ge*TN[0>$e.lc?0:$e.lc]>>3),Te|=$e.ia;Te&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=$.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(be,Oe){if(be==null)return 0;if(Oe==null)return hs(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!vd(be,Oe))return 0;if(t(be.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(be.L=0);var Me=Sp[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Oe.v-Me>>4,be.zb=Oe.j-Me>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Oe.o+15+Me>>4,be.Hb=Oe.va+15+Me>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Ze=be.ed;for(Me=0;4>Me;++Me){var Re;if(be.Qa.Cb){var Xe=be.Qa.Lb[Me];be.Qa.Fb||(Xe+=Ze.Tb)}else Xe=Ze.Tb;for(Re=0;1>=Re;++Re){var et=be.gd[Me][Re],it=Xe;if(Ze.Pc&&(it+=Ze.vd[0],Re&&(it+=Ze.od[0])),0<(it=0>it?0:63<it?63:it)){var rt=it;0<Ze.wb&&(rt=4<Ze.wb?rt>>2:rt>>1)>9-Ze.wb&&(rt=9-Ze.wb),1>rt&&(rt=1),et.dd=rt,et.tc=2*it+rt,et.ld=40<=it?2:15<=it?1:0}else et.tc=0;et.La=Re}}}Me=0}else hs(be,6,"Frame setup failed"),Me=be.a;if(Me=Me==0){if(Me){be.$c=0,0<be.Aa||(be.Ic=ON);t:{Me=be.Ic,Ze=4*(rt=be.za);var Ot=32*rt,vt=rt+1,qt=0<be.L?rt*(0<be.Aa?2:1):0,Tt=(be.Aa==2?2:1)*rt;if((et=Ze+832+(Re=3*(16*Me+Sp[be.L])/2*Ot)+(Xe=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=et)Me=0;else{if(et>be.Vb){if(be.Vb=0,be.Ec=i(et),be.Fc=0,be.Ec==null){Me=hs(be,1,"no memory during frame initialization.");break t}be.Vb=et}et=be.Ec,it=be.Fc,be.Ac=et,be.Bc=it,it+=Ze,be.Gd=o(Ot,fp),be.Hd=0,be.rb=o(vt+1,gd),be.sb=1,be.wa=qt?o(qt,zi):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=rt),t(!0),be.oc=et,be.pc=it,it+=832,be.ya=o(Tt,xd),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=rt),be.R=16*rt,be.B=8*rt,rt=(Ot=Sp[be.L])*be.R,Ot=Ot/2*be.B,be.sa=et,be.ta=it+rt,be.qa=be.sa,be.ra=be.ta+16*Me*be.R+Ot,be.Ha=be.qa,be.Ia=be.ra+8*Me*be.B+Ot,be.$c=0,it+=Re,be.mb=Xe?et:null,be.nb=Xe?it:null,t(it+Xe<=be.Fc+be.Vb),gc(be),a(be.Ac,be.Bc,0,Ze),Me=1}}if(Me){if(Oe.ka=0,Oe.y=be.sa,Oe.O=be.ta,Oe.f=be.qa,Oe.N=be.ra,Oe.ea=be.Ha,Oe.Vd=be.Ia,Oe.fa=be.R,Oe.Rc=be.B,Oe.F=null,Oe.J=0,!u0){for(Me=-255;255>=Me;++Me)ob[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)Sf[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)Ol[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)Af[255+Me]=0>Me?0:255<Me?255:Me;u0=1}Ee=jd,We=df,yt=Jx,zt=io,$r=wd,Ue=gp,_s=F,yn=re,wp=Le,rb=Je,yi=we,wf=Ae,nb=tt,vu=At,jf=ms,Nf=kl,un=lo,sb=Pd,mo[0]=s0,mo[1]=Nd,mo[2]=r0,mo[3]=n0,mo[4]=a0,mo[5]=Al,mo[6]=oo,mo[7]=i0,mo[8]=Sd,mo[9]=o0,Sc[0]=Sl,Sc[1]=e0,Sc[2]=yp,Sc[3]=_d,Sc[4]=t0,Sc[5]=mu,Sc[6]=hf,Il[0]=Ad,Il[1]=xp,Il[2]=ff,Il[3]=tn,Il[4]=mf,Il[5]=l0,Il[6]=pf,Me=1}else Me=0}Me&&(Me=function(Mr,Ss){for(Mr.M=0;Mr.M<Mr.Va;++Mr.M){var cr,jt=Mr.Jc[Mr.M&Mr.Xb],ht=Mr.m,gs=Mr;for(cr=0;cr<gs.za;++cr){var ir=ht,qr=gs,Tn=qr.Ac,Gr=qr.Bc+4*cr,ua=qr.zc,Vn=qr.ya[qr.aa+cr];if(qr.Qa.Bb?Vn.$b=me(ir,qr.Pa.jb[0])?2+me(ir,qr.Pa.jb[2]):me(ir,qr.Pa.jb[1]):Vn.$b=0,qr.kc&&(Vn.Ad=me(ir,qr.Bd)),Vn.Za=!me(ir,145)+0,Vn.Za){var In=Vn.Ob,da=0;for(qr=0;4>qr;++qr){var ns,Nr=ua[0+qr];for(ns=0;4>ns;++ns){Nr=Np[Tn[Gr+ns]][Nr];for(var dn=qd[me(ir,Nr[0])];0<dn;)dn=qd[2*dn+me(ir,Nr[dn])];Nr=-dn,Tn[Gr+ns]=Nr}s(In,da,Tn,Gr,4),da+=4,ua[0+qr]=Nr}}else Nr=me(ir,156)?me(ir,128)?1:3:me(ir,163)?2:0,Vn.Ob[0]=Nr,a(Tn,Gr,Nr,4),a(ua,0,Nr,4);Vn.Dd=me(ir,142)?me(ir,114)?me(ir,183)?1:3:2:0}if(gs.m.Ka)return hs(Mr,7,"Premature end-of-partition0 encountered.");for(;Mr.ja<Mr.za;++Mr.ja){if(gs=jt,ir=(ht=Mr).rb[ht.sb-1],Tn=ht.rb[ht.sb+ht.ja],cr=ht.ya[ht.aa+ht.ja],Gr=ht.kc?cr.Ad:0)ir.la=Tn.la=0,cr.Za||(ir.Na=Tn.Na=0),cr.Hc=0,cr.Gc=0,cr.ia=0;else{var Dr,an;if(ir=Tn,Tn=gs,Gr=ht.Pa.Xc,ua=ht.ya[ht.aa+ht.ja],Vn=ht.pb[ua.$b],qr=ua.ad,In=0,da=ht.rb[ht.sb-1],Nr=ns=0,a(qr,In,0,384),ua.Za)var ha=0,po=Gr[3];else{dn=i(16);var xs=ir.Na+da.Na;if(xs=Ll(Tn,Gr[1],xs,Vn.Eb,0,dn,0),ir.Na=da.Na=(0<xs)+0,1<xs)Ee(dn,0,qr,In);else{var _a=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)qr[In+dn]=_a}ha=1,po=Gr[0]}var jn=15&ir.la,Wn=15&da.la;for(dn=0;4>dn;++dn){var ri=1&Wn;for(_a=an=0;4>_a;++_a)jn=jn>>1|(ri=(xs=Ll(Tn,po,xs=ri+(1&jn),Vn.Sc,ha,qr,In))>ha)<<7,an=an<<2|(3<xs?3:1<xs?2:qr[In+0]!=0),In+=16;jn>>=4,Wn=Wn>>1|ri<<7,ns=(ns<<8|an)>>>0}for(po=jn,ha=Wn>>4,Dr=0;4>Dr;Dr+=2){for(an=0,jn=ir.la>>4+Dr,Wn=da.la>>4+Dr,dn=0;2>dn;++dn){for(ri=1&Wn,_a=0;2>_a;++_a)xs=ri+(1&jn),jn=jn>>1|(ri=0<(xs=Ll(Tn,Gr[2],xs,Vn.Qc,0,qr,In)))<<3,an=an<<2|(3<xs?3:1<xs?2:qr[In+0]!=0),In+=16;jn>>=2,Wn=Wn>>1|ri<<5}Nr|=an<<4*Dr,po|=jn<<4<<Dr,ha|=(240&Wn)<<Dr}ir.la=po,da.la=ha,ua.Hc=ns,ua.Gc=Nr,ua.ia=43690&Nr?0:Vn.ia,Gr=!(ns|Nr)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[cr.$b][cr.Za],ht.wa[ht.Y+ht.ja].La|=!Gr),gs.Ka)return hs(Mr,7,"Premature end-of-file encountered.")}if(gc(Mr),ht=Ss,gs=1,cr=(jt=Mr).D,ir=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(cr.M=jt.M,cr.uc=ir,El(jt,cr),gs=1,cr=(an=jt.D).Nb,ir=(Nr=Sp[jt.L])*jt.R,Tn=Nr/2*jt.B,dn=16*cr*jt.R,_a=8*cr*jt.B,Gr=jt.sa,ua=jt.ta-ir+dn,Vn=jt.qa,qr=jt.ra-Tn+_a,In=jt.Ha,da=jt.Ia-Tn+_a,Wn=(jn=an.M)==0,ns=jn>=jt.Va-1,jt.Aa==2&&El(jt,an),an.uc)for(ri=(xs=jt).D.M,t(xs.D.uc),an=xs.yb;an<xs.Hb;++an){ha=an,po=ri;var $a=(wi=(Ys=xs).D).Nb;Dr=Ys.R;var wi=wi.wa[wi.Y+ha],fa=Ys.sa,ni=Ys.ta+16*$a*Dr+16*ha,ji=wi.dd,vn=wi.tc;if(vn!=0)if(t(3<=vn),Ys.L==1)0<ha&&Nf(fa,ni,Dr,vn+4),wi.La&&sb(fa,ni,Dr,vn),0<po&&jf(fa,ni,Dr,vn+4),wi.La&&un(fa,ni,Dr,vn);else{var si=Ys.B,go=Ys.qa,wu=Ys.ra+8*$a*si+8*ha,Dl=Ys.Ha,Ys=Ys.Ia+8*$a*si+8*ha;$a=wi.ld,0<ha&&(yn(fa,ni,Dr,vn+4,ji,$a),rb(go,wu,Dl,Ys,si,vn+4,ji,$a)),wi.La&&(wf(fa,ni,Dr,vn,ji,$a),vu(go,wu,Dl,Ys,si,vn,ji,$a)),0<po&&(_s(fa,ni,Dr,vn+4,ji,$a),wp(go,wu,Dl,Ys,si,vn+4,ji,$a)),wi.La&&(yi(fa,ni,Dr,vn,ji,$a),nb(go,wu,Dl,Ys,si,vn,ji,$a))}}if(jt.ia&&alert("todo:DitherRow"),ht.put!=null){if(an=16*jn,jn=16*(jn+1),Wn?(ht.y=jt.sa,ht.O=jt.ta+dn,ht.f=jt.qa,ht.N=jt.ra+_a,ht.ea=jt.Ha,ht.W=jt.Ia+_a):(an-=Nr,ht.y=Gr,ht.O=ua,ht.f=Vn,ht.N=qr,ht.ea=In,ht.W=da),ns||(jn-=Nr),jn>ht.o&&(jn=ht.o),ht.F=null,ht.J=null,jt.Fa!=null&&0<jt.Fa.length&&an<jn&&(ht.J=ia(jt,ht,an,jn-an),ht.F=jt.mb,ht.F==null&&ht.F.length==0)){gs=hs(jt,3,"Could not decode alpha data.");break t}an<ht.j&&(Nr=ht.j-an,an=ht.j,t(!(1&Nr)),ht.O+=jt.R*Nr,ht.N+=jt.B*(Nr>>1),ht.W+=jt.B*(Nr>>1),ht.F!=null&&(ht.J+=ht.width*Nr)),an<jn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=an-ht.j,ht.U=ht.va-ht.v,ht.T=jn-an,gs=ht.put(ht))}cr+1!=jt.Ic||ns||(s(jt.sa,jt.ta-ir,Gr,ua+16*jt.R,ir),s(jt.qa,jt.ra-Tn,Vn,qr+8*jt.B,Tn),s(jt.Ha,jt.Ia-Tn,In,da+8*jt.B,Tn))}if(!gs)return hs(Mr,6,"Output aborted.")}return 1}(be,Oe)),Oe.bc!=null&&Oe.bc(Oe),Me&=1}return Me?(be.cb=0,Me):0})(w,H)||(P=w.a)}}else P=w.a}P==0&&le.Oa!=null&&le.Oa.fd&&(P=ei(le.ba))}le=P}oe=le!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var pb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,B){for(var C="",O=0;O<4;O++)C+=String.fromCharCode(E[B++]);return C}function d(E,B){return E[B+0]|E[B+1]<<8}function h(E,B){return(E[B+0]|E[B+1]<<8|E[B+2]<<16)>>>0}function p(E,B){return(E[B+0]|E[B+1]<<8|E[B+2]<<16|E[B+3]<<24)>>>0}new c;var f=[0],x=[0],g=[],v=new c,b=e,j=function(E,B){var C={},O=0,M=!1,D=0,W=0;if(C.frames=[],!function(R,K){for(var Z=0;Z<4;Z++)if(R[K+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(E,B)){for(p(E,B+=4),B+=8;B<E.length;){var z=u(E,B),G=p(E,B+=4);B+=4;var V=G+(1&G);switch(z){case"VP8 ":case"VP8L":C.frames[O]===void 0&&(C.frames[O]={}),(q=C.frames[O]).src_off=M?W:B-8,q.src_size=D+G+8,O++,M&&(M=!1,D=0,W=0);break;case"VP8X":(q=C.header={}).feature_flags=E[B];var Y=B+4;q.canvas_width=1+h(E,Y),Y+=3,q.canvas_height=1+h(E,Y),Y+=3;break;case"ALPH":M=!0,D=V+8,W=B-8;break;case"ANIM":(q=C.header).bgcolor=p(E,B),Y=B+4,q.loop_count=d(E,Y),Y+=2;break;case"ANMF":var ie,q;(q=C.frames[O]={}).offset_x=2*h(E,B),B+=3,q.offset_y=2*h(E,B),B+=3,q.width=1+h(E,B),B+=3,q.height=1+h(E,B),B+=3,q.duration=h(E,B),B+=3,ie=E[B++],q.dispose=1&ie,q.blend=ie>>1&1}z!="ANMF"&&(B+=V)}return C}}(b,0);j.response=b,j.rgbaoutput=!0,j.dataurl=!1;var N=j.header?j.header:null,A=j.frames?j.frames:null;if(N){N.loop_counter=N.loop_count,f=[N.canvas_height],x=[N.canvas_width];for(var S=0;S<A.length&&A[S].blend!=0;S++);}var L=A[0],I=v.WebPDecodeRGBA(b,L.src_off,L.src_size,x,f);L.rgba=I,L.imgwidth=x[0],L.imgheight=f[0];for(var k=0;k<x[0]*f[0]*4;k++)g[k]=I[k];return this.width=x,this.height=f,this.data=g,this}(function(e){var t,r,s,a,i,o,l,c,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=R;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(je){Z=!!je}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(je){se=!!je}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(je){isNaN(je)||(ue=je)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(je){isNaN(je)||(ae=je)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(je){var Q;typeof je=="number"?Q=[je,je,je,je]:((Q=new Array(4))[0]=je[0],Q[1]=je.length>=2?je[1]:Q[0],Q[2]=je.length>=3?je[2]:Q[0],Q[3]=je.length>=4?je[3]:Q[1]),u.margin=Q}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(je){xe=je}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(je){X=je}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(je){me=je}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(je){je instanceof d&&(u=je)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(je){u.path=je}});var ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return ne},set:function(je){ne=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var Q;Q=p(je),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var Q=p(je);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var he=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(je){he=null,ke=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var Q;if(this.ctx.font=je,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var ze=Q[1];Q[2];var Ye=Q[3],Ge=Q[4];Q[5];var Ve=Q[6],J=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(J==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:J==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var de=function(Et){var mt,sr,or=[],_t=Et.trim();if(_t==="")return G_;if(_t in dD)return[dD[_t]];for(;_t!=="";){switch(sr=null,mt=(_t=fD(_t)).charAt(0)){case'"':case"'":sr=n9e(_t.substring(1),mt);break;default:sr=s9e(_t)}if(sr===null||(or.push(sr[0]),(_t=fD(sr[1]))!==""&&_t.charAt(0)!==","))return G_;_t=_t.replace(/^,/,"")}return or}(Ve);if(this.fontFaces){var Se=function(Et,mt){if(he===null){var sr=function(or){var _t=[];return Object.keys(or).forEach(function(tr){or[tr].forEach(function(en){var $t=null;switch(en){case"bold":$t={family:tr,weight:"bold"};break;case"italic":$t={family:tr,style:"italic"};break;case"bolditalic":$t={family:tr,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:tr}}$t!==null&&($t.ref={name:tr,style:en},_t.push($t))})}),_t}(Et.getFontList());he=function(or){for(var _t={},tr=0;tr<or.length;++tr){var en=H_(or[tr]),$t=en.family,kr=en.stretch,mr=en.style,ds=en.weight;_t[$t]=_t[$t]||{},_t[$t][kr]=_t[$t][kr]||{},_t[$t][kr][mr]=_t[$t][kr][mr]||{},_t[$t][kr][mr][ds]=en}return _t}(sr.concat(mt))}return he}(this.pdf,this.fontFaces),De=de.map(function(Et){return{family:Et,stretch:"normal",weight:Ye,style:ze}}),He=function(Et,mt,sr){for(var or=(sr=sr||{}).defaultFontFamily||"times",_t=Object.assign({},r9e,sr.genericFontFamilies||{}),tr=null,en=null,$t=0;$t<mt.length;++$t)if(_t[(tr=H_(mt[$t])).family]&&(tr.family=_t[tr.family]),Et.hasOwnProperty(tr.family)){en=Et[tr.family];break}if(!(en=en||Et[or]))throw new Error("Could not find a font-family for the rule '"+hD(tr)+"' and default family '"+or+"'.");if(en=function(kr,mr){if(mr[kr])return mr[kr];var ds=l6[kr],Ns=ds<=l6.normal?-1:1,xn=uD(mr,vG,ds,Ns);if(!xn)throw new Error("Could not find a matching font-stretch value for "+kr);return xn}(tr.stretch,en),en=function(kr,mr){if(mr[kr])return mr[kr];for(var ds=yG[kr],Ns=0;Ns<ds.length;++Ns)if(mr[ds[Ns]])return mr[ds[Ns]];throw new Error("Could not find a matching font-style for "+kr)}(tr.style,en),!(en=function(kr,mr){if(mr[kr])return mr[kr];if(kr===400&&mr[500])return mr[500];if(kr===500&&mr[400])return mr[400];var ds=t9e[kr],Ns=uD(mr,bG,ds,kr<400?-1:1);if(!Ns)throw new Error("Could not find a matching font-weight for value "+kr);return Ns}(tr.weight,en)))throw new Error("Failed to resolve a font for the rule '"+hD(tr)+"'.");return en}(Se,De);this.pdf.setFont(He.ref.name,He.ref.style)}else{var Fe="";(Ye==="bold"||parseInt(Ye,10)>=700||ze==="bold")&&(Fe="bold"),ze==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Ke="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<de.length;ct++){if(this.pdf.internal.getFont(de[ct],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Ke=de[ct];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(de[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=de[ct],Fe="bold";else if(this.pdf.internal.getFont(de[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=de[ct],Fe="normal";break}}if(Ke===""){for(var ft=0;ft<de.length;ft++)if(lt[de[ft]]){Ke=lt[de[ft]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};h.prototype.setLineDash=function(R){this.lineDash=R},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(R,K)},h.prototype.closePath=function(){var R=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&_n(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){R=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},h.prototype.lineTo=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(R,K,Z,se){if(isNaN(Z)||isNaN(se)||isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Z,se)),ae=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},h.prototype.bezierCurveTo=function(R,K,Z,se,ue,ae){if(isNaN(ue)||isNaN(ae)||isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(ue,ae)),X=this.ctx.transform.applyToPoint(new o(R,K)),me=this.ctx.transform.applyToPoint(new o(Z,se));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:me.x,y2:me.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},h.prototype.arc=function(R,K,Z,se,ue,ae){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se)||isNaN(ue))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(R,K));R=xe.x,K=xe.y;var X=this.ctx.transform.applyToPoint(new o(0,Z)),me=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(X.x-me.x,2)+Math.pow(X.y-me.y,2))}Math.abs(ue-se)>=2*Math.PI&&(se=0,ue=2*Math.PI),this.path.push({type:"arc",x:R,y:K,radius:Z,startAngle:se,endAngle:ue,counterclockwise:ae})},h.prototype.arcTo=function(R,K,Z,se,ue){throw new Error("arcTo not implemented.")},h.prototype.rect=function(R,K,Z,se){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,K),this.lineTo(R+Z,K),this.lineTo(R+Z,K+se),this.lineTo(R,K+se),this.lineTo(R,K),this.lineTo(R+Z,K),this.lineTo(R,K)},h.prototype.fillRect=function(R,K,Z,se){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,K,Z,se),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},h.prototype.strokeRect=function(R,K,Z,se){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(R,K,Z,se),this.stroke())},h.prototype.clearRect=function(R,K,Z,se){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,K,Z,se))},h.prototype.save=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},h.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var K,Z,se,ue;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))K=0,Z=0,se=0,ue=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ae!==null)K=parseInt(ae[1]),Z=parseInt(ae[2]),se=parseInt(ae[3]),ue=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)K=parseInt(ae[1]),Z=parseInt(ae[2]),se=parseInt(ae[3]),ue=parseFloat(ae[4]);else{if(ue=1,typeof R=="string"&&R.charAt(0)!=="#"){var xe=new dG(R);R=xe.ok?xe.toHex():"#000000"}R.length===4?(K=R.substring(1,2),K+=K,Z=R.substring(2,3),Z+=Z,se=R.substring(3,4),se+=se):(K=R.substring(1,3),Z=R.substring(3,5),se=R.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),se=parseInt(se,16)}}return{r:K,g:Z,b:se,a:ue,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(R,K,Z,se){if(isNaN(K)||isNaN(Z)||typeof R!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!f.call(this)){var ue=V(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;O.call(this,{text:R,x:K,y:Z,scale:ae,angle:ue,align:this.textAlign,maxWidth:se})}},h.prototype.strokeText=function(R,K,Z,se){if(isNaN(K)||isNaN(Z)||typeof R!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){se=isNaN(se)?void 0:se;var ue=V(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;O.call(this,{text:R,x:K,y:Z,scale:ae,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:se})}},h.prototype.measureText=function(R){if(typeof R!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),ue=K.getStringUnitWidth(R)*se/K.internal.scaleFactor;return new function(ae){var xe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ue*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(R,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(R){if(isNaN(R))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.translate=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,R,K);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(R,K,Z,se,ue,ae){if(isNaN(R)||isNaN(K)||isNaN(Z)||isNaN(se)||isNaN(ue)||isNaN(ae))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new c(R,K,Z,se,ue,ae);this.ctx.transform=this.ctx.transform.multiply(xe)},h.prototype.setTransform=function(R,K,Z,se,ue,ae){R=isNaN(R)?1:R,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,se=isNaN(se)?1:se,ue=isNaN(ue)?0:ue,ae=isNaN(ae)?0:ae,this.ctx.transform=new c(R,K,Z,se,ue,ae)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(R,K,Z,se,ue,ae,xe,X,me){var ne=this.pdf.getImageProperties(R),he=1,ke=1,je=1,Q=1;se!==void 0&&X!==void 0&&(je=X/se,Q=me/ue,he=ne.width/se*X/se,ke=ne.height/ue*me/ue),ae===void 0&&(ae=K,xe=Z,K=0,Z=0),se!==void 0&&X===void 0&&(X=se,me=ue),se===void 0&&X===void 0&&(X=ne.width,me=ne.height);for(var ze,Ye=this.ctx.transform.decompose(),Ge=V(Ye.rotate.shx),Ve=new c,J=(Ve=(Ve=(Ve=Ve.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale)).applyToRectangle(new l(ae-K*je,xe-Z*Q,se*he,ue*ke)),de=v.call(this,J),Se=[],De=0;De<de.length;De+=1)Se.indexOf(de[De])===-1&&Se.push(de[De]);if(N(Se),this.autoPaging)for(var He=Se[0],Fe=Se[Se.length-1],Ke=He;Ke<Fe+1;Ke++){this.pdf.setPage(Ke);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Ke===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ke===1?0:ft+(Ke-2)*Et;if(this.ctx.clip_path.length!==0){var sr=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ze,this.posX+this.margin[3],-mt+ct+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=sr}var or=JSON.parse(JSON.stringify(J));or=j([or],this.posX+this.margin[3],-mt+ct+this.ctx.prevPageLastElemOffset)[0];var _t=(Ke>He||Ke<Fe)&&g.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Et,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",or.x,or.y,or.w,or.h,null,null,Ge),_t&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",J.x,J.y,J.w,J.h,null,null,Ge)};var v=function(R,K,Z){var se=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":se.push(Math.floor((R.y+ue)/Z)+1);break;case"arc":se.push(Math.floor((R.y+ue-R.radius)/Z)+1),se.push(Math.floor((R.y+ue+R.radius)/Z)+1);break;case"qct":var ae=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);se.push(Math.floor((ae.y+ue)/Z)+1),se.push(Math.floor((ae.y+ae.h+ue)/Z)+1);break;case"bct":var xe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);se.push(Math.floor((xe.y+ue)/Z)+1),se.push(Math.floor((xe.y+xe.h+ue)/Z)+1);break;case"rect":se.push(Math.floor((R.y+ue)/Z)+1),se.push(Math.floor((R.y+R.h+ue)/Z)+1)}for(var X=0;X<se.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<se[X];)b.call(this);return se},b=function(){var R=this.fillStyle,K=this.strokeStyle,Z=this.font,se=this.lineCap,ue=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=K,this.font=Z,this.lineCap=se,this.lineWidth=ue,this.lineJoin=ae},j=function(R,K,Z){for(var se=0;se<R.length;se++)switch(R[se].type){case"bct":R[se].x2+=K,R[se].y2+=Z;case"qct":R[se].x1+=K,R[se].y1+=Z;default:R[se].x+=K,R[se].y+=Z}return R},N=function(R){return R.sort(function(K,Z){return K-Z})},A=function(R,K){for(var Z,se,ue=this.fillStyle,ae=this.strokeStyle,xe=this.lineCap,X=this.lineWidth,me=Math.abs(X*this.ctx.transform.scaleX),ne=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),je=[],Q=0;Q<ke.length;Q++)if(ke[Q].x!==void 0)for(var ze=v.call(this,ke[Q]),Ye=0;Ye<ze.length;Ye+=1)je.indexOf(ze[Ye])===-1&&je.push(ze[Ye]);for(var Ge=0;Ge<je.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<je[Ge];)b.call(this);if(N(je),this.autoPaging)for(var Ve=je[0],J=je[je.length-1],de=Ve;de<J+1;de++){this.pdf.setPage(de),this.fillStyle=ue,this.strokeStyle=ae,this.lineCap=xe,this.lineWidth=me,this.lineJoin=ne;var Se=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=de===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=de===1?0:He+(de-2)*Fe;if(this.ctx.clip_path.length!==0){var lt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Z,this.posX+this.margin[3],-Ke+De+this.ctx.prevPageLastElemOffset),S.call(this,R,!0),this.path=lt}if(se=JSON.parse(JSON.stringify(he)),this.path=j(se,this.posX+this.margin[3],-Ke+De+this.ctx.prevPageLastElemOffset),K===!1||de===0){var ct=(de>Ve||de<J)&&g.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Se,Fe,null).clip().discardPath()),S.call(this,R,K),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=me,S.call(this,R,K),this.lineWidth=X;this.path=he},S=function(R,K){if((R!=="stroke"||K||!x.call(this))&&(R==="stroke"||K||!f.call(this))){for(var Z,se,ue=[],ae=this.path,xe=0;xe<ae.length;xe++){var X=ae[xe];switch(X.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:X,deltas:[],abs:[]});break;case"lt":var me=ue.length;if(ae[xe-1]&&!isNaN(ae[xe-1].x)&&(Z=[X.x-ae[xe-1].x,X.y-ae[xe-1].y],me>0)){for(;me>=0;me--)if(ue[me-1].close!==!0&&ue[me-1].begin!==!0){ue[me-1].deltas.push(Z),ue[me-1].abs.push(X);break}}break;case"bct":Z=[X.x1-ae[xe-1].x,X.y1-ae[xe-1].y,X.x2-ae[xe-1].x,X.y2-ae[xe-1].y,X.x-ae[xe-1].x,X.y-ae[xe-1].y],ue[ue.length-1].deltas.push(Z);break;case"qct":var ne=ae[xe-1].x+2/3*(X.x1-ae[xe-1].x),he=ae[xe-1].y+2/3*(X.y1-ae[xe-1].y),ke=X.x+2/3*(X.x1-X.x),je=X.y+2/3*(X.y1-X.y),Q=X.x,ze=X.y;Z=[ne-ae[xe-1].x,he-ae[xe-1].y,ke-ae[xe-1].x,je-ae[xe-1].y,Q-ae[xe-1].x,ze-ae[xe-1].y],ue[ue.length-1].deltas.push(Z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(X)}}se=K?null:R==="stroke"?"stroke":"fill";for(var Ye=!1,Ge=0;Ge<ue.length;Ge++)if(ue[Ge].arc)for(var Ve=ue[Ge].abs,J=0;J<Ve.length;J++){var de=Ve[J];de.type==="arc"?k.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,K,!Ye):M.call(this,de.x,de.y),Ye=!0}else if(ue[Ge].close===!0)this.pdf.internal.out("h"),Ye=!1;else if(ue[Ge].begin!==!0){var Se=ue[Ge].start.x,De=ue[Ge].start.y;D.call(this,ue[Ge].deltas,Se,De),Ye=!0}se&&E.call(this,se),K&&B.call(this)}},L=function(R){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-Z;case"top":return R+K-Z;case"hanging":return R+K-2*Z;case"middle":return R+K/2-Z;default:return R}},I=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(K,Z){this.colorStops.push([K,Z])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(R,K,Z,se,ue,ae,xe,X,me){for(var ne=z.call(this,Z,se,ue,ae),he=0;he<ne.length;he++){var ke=ne[he];he===0&&(me?C.call(this,ke.x1+R,ke.y1+K):M.call(this,ke.x1+R,ke.y1+K)),W.call(this,R,K,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}X?B.call(this):E.call(this,xe)},E=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(R,K){this.pdf.internal.out(r(R)+" "+s(K)+" m")},O=function(R){var K;switch(R.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Z=this.pdf.getTextDimensions(R.text),se=L.call(this,R.y),ue=I.call(this,se)-Z.h,ae=this.ctx.transform.applyToPoint(new o(R.x,se)),xe=this.ctx.transform.decompose(),X=new c;X=(X=(X=X.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var me,ne,he,ke=this.ctx.transform.applyToRectangle(new l(R.x,se,Z.w,Z.h)),je=X.applyToRectangle(new l(R.x,ue,Z.w,Z.h)),Q=v.call(this,je),ze=[],Ye=0;Ye<Q.length;Ye+=1)ze.indexOf(Q[Ye])===-1&&ze.push(Q[Ye]);if(N(ze),this.autoPaging)for(var Ge=ze[0],Ve=ze[ze.length-1],J=Ge;J<Ve+1;J++){this.pdf.setPage(J);var de=J===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],He=De-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Ke=Fe-this.margin[3],lt=J===1?0:Se+(J-2)*He;if(this.ctx.clip_path.length!==0){var ct=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(me,this.posX+this.margin[3],-1*lt+de),S.call(this,"fill",!0),this.path=ct}var ft=j([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-lt+de+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*R.scale),he=this.lineWidth,this.lineWidth=he*R.scale);var Et=this.autoPaging!=="text";if(Et||ft.y+ft.h<=De){if(Et||ft.y>=de&&ft.x<=Fe){var mt=Et?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Fe-ft.x)[0],sr=j([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-lt+de+this.ctx.prevPageLastElemOffset)[0],or=Et&&(J>Ge||J<Ve)&&g.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,He,null).clip().discardPath()),this.pdf.text(mt,sr.x,sr.y,{angle:R.angle,align:K,renderingMode:R.renderingMode}),or&&this.pdf.restoreGraphicsState()}}else ft.y<De&&(this.ctx.prevPageLastElemOffset+=De-ft.y);R.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=he)}else R.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*R.scale),he=this.lineWidth,this.lineWidth=he*R.scale),this.pdf.text(R.text,ae.x+this.posX,ae.y+this.posY,{angle:R.angle,align:K,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=he)},M=function(R,K,Z,se){Z=Z||0,se=se||0,this.pdf.internal.out(r(R+Z)+" "+s(K+se)+" l")},D=function(R,K,Z){return this.pdf.lines(R,K,Z,null,null)},W=function(R,K,Z,se,ue,ae,xe,X){this.pdf.internal.out([t(a(Z+R)),t(i(se+K)),t(a(ue+R)),t(i(ae+K)),t(a(xe+R)),t(i(X+K)),"c"].join(" "))},z=function(R,K,Z,se){for(var ue=2*Math.PI,ae=Math.PI/2;K>Z;)K-=ue;var xe=Math.abs(Z-K);xe<ue&&se&&(xe=ue-xe);for(var X=[],me=se?-1:1,ne=K;xe>1e-5;){var he=ne+me*Math.min(xe,ae);X.push(G.call(this,R,ne,he)),xe-=Math.abs(he-ne),ne=he}return X},G=function(R,K,Z){var se=(Z-K)/2,ue=R*Math.cos(se),ae=R*Math.sin(se),xe=ue,X=-ae,me=xe*xe+X*X,ne=me+xe*ue+X*ae,he=4/3*(Math.sqrt(2*me*ne)-ne)/(xe*ae-X*ue),ke=xe-he*X,je=X+he*xe,Q=ke,ze=-je,Ye=se+K,Ge=Math.cos(Ye),Ve=Math.sin(Ye);return{x1:R*Math.cos(K),y1:R*Math.sin(K),x2:ke*Ge-je*Ve,y2:ke*Ve+je*Ge,x3:Q*Ge-ze*Ve,y3:Q*Ve+ze*Ge,x4:R*Math.cos(Z),y4:R*Math.sin(Z)}},V=function(R){return 180*R/Math.PI},Y=function(R,K,Z,se,ue,ae){var xe=R+.5*(Z-R),X=K+.5*(se-K),me=ue+.5*(Z-ue),ne=ae+.5*(se-ae),he=Math.min(R,ue,xe,me),ke=Math.max(R,ue,xe,me),je=Math.min(K,ae,X,ne),Q=Math.max(K,ae,X,ne);return new l(he,je,ke-he,Q-je)},ie=function(R,K,Z,se,ue,ae,xe,X){var me,ne,he,ke,je,Q,ze,Ye,Ge,Ve,J,de,Se,De,He=Z-R,Fe=se-K,Ke=ue-Z,lt=ae-se,ct=xe-ue,ft=X-ae;for(ne=0;ne<41;ne++)Ge=(ze=(he=R+(me=ne/40)*He)+me*((je=Z+me*Ke)-he))+me*(je+me*(ue+me*ct-je)-ze),Ve=(Ye=(ke=K+me*Fe)+me*((Q=se+me*lt)-ke))+me*(Q+me*(ae+me*ft-Q)-Ye),ne==0?(J=Ge,de=Ve,Se=Ge,De=Ve):(J=Math.min(J,Ge),de=Math.min(de,Ve),Se=Math.max(Se,Ge),De=Math.max(De,Ve));return new l(Math.round(J),Math.round(de),Math.round(Se-J),Math.round(De-de))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,K,Z=(R=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Bt.API),function(e){var t=function(o){var l,c,u,d,h,p,f,x,g,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(g=h%85))/85)-(x=h%85))/85)-(f=h%85))/85)%85,c.push(p+33,f+33,x+33,g+33,v+33)):c.push(122);return function(b,j){for(var N=j;N>0;N--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,d,h,p=String,f="length",x=255,g="charCodeAt",v="slice",b="replace";for(o[v](-2),o=o[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,h=(o+=l="uuuuu"[v](o[f]%5||5))[f];h>d;d+=5)c=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(j,N){for(var A=N;A>0;A--)j.pop()}(u,l[f]),p.fromCharCode.apply(p,u)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=YA(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=s(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Bt.API),function(e){e.loadFile=function(t,r,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var h=new XMLHttpRequest,p=0,f=function(x){var g=x.length,v=[],b=String.fromCharCode;for(p=0;p<g;p+=1)v.push(b(255&x.charCodeAt(p)));return v.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(a,i,o)}catch{}return l}(t,r,s)},e.loadImageFile=e.loadFile}(Bt.API),function(e){function t(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):j_(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):j_(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=_n(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(s(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var x=d[f],g=x.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,h).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=u.call(h,l,c);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Bt.getPageSize=function(l,c,u){if(_n(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,g=0,v=0;if(f.hasOwnProperty(p))g=f[p][1]/h,v=f[p][0]/h;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>g&&(x=v,v=g,g=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",g>v&&(x=v,v=g,g=x)}return{width:v,height:g,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(H_):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Bt.API),Bt.API.addJS=function(e){return pD=e,this.internal.events.subscribe("postPutResources",function(){N1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){N1!==void 0&&mD!==void 0&&this.internal.out("/Names <</JavaScript "+N1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=r.internal.newObject();d.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<s.children.length;u++)this.renderItems(s.children[u])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(Bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,g={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=f,t.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),g={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}f=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:s,alias:a}}return d}}(Bt.API),Bt.API.processPNG=function(e,t,r,s){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=zFe(e,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,u=i.palette,d=i.depth;a=u&&c===1?function(I){for(var k=I.width,E=I.height,B=I.data,C=I.palette,O=I.depth,M=!1,D=[],W=[],z=void 0,G=!1,V=0,Y=0;Y<C.length;Y++){var ie=cM(C[Y],4),q=ie[0],R=ie[1],K=ie[2],Z=ie[3];D.push(q,R,K),Z!=null&&(Z===0?(V++,W.length<1&&W.push(Y)):Z<255&&(G=!0))}if(G||V>1){M=!0,W=void 0;var se=k*E;z=new Uint8Array(se);for(var ue=new DataView(B.buffer),ae=0;ae<se;ae++){var xe=K_(ue,ae,O),X=cM(C[xe],4)[3];z[ae]=X}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:B,alphaBytes:z,needSMask:M,palette:D,mask:W}}(i):c===2||c===4?function(I){for(var k=I.data,E=I.width,B=I.height,C=I.channels,O=I.depth,M=C===2?"DeviceGray":"DeviceRGB",D=C-1,W=E*B,z=D,G=W*z,V=1*W,Y=Math.ceil(G*O/8),ie=Math.ceil(V*O/8),q=new Uint8Array(Y),R=new Uint8Array(ie),K=new DataView(k.buffer),Z=new DataView(q.buffer),se=new DataView(R.buffer),ue=!1,ae=0;ae<W;ae++){for(var xe=ae*C,X=0;X<z;X++)_D(Z,K_(K,xe+X,O),ae*z+X,O);var me=K_(K,xe+z,O);me<(1<<O)-1&&(ue=!0),_D(se,me,1*ae,O)}return{colorSpace:M,colorsPerPixel:D,colorBytes:q,alphaBytes:R,needSMask:ue}}(i):function(I){var k=I.data,E=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:E,colorsPerPixel:E==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}}(i);var h,p,f,x=a,g=x.colorSpace,v=x.colorsPerPixel,b=x.colorBytes,j=x.alphaBytes,N=x.needSMask,A=x.palette,S=x.mask,L=null;return s!==Bt.API.image_compression.NONE&&typeof YA=="function"?(L=function(I){var k;switch(I){case Bt.API.image_compression.FAST:k=11;break;case Bt.API.image_compression.MEDIUM:k=13;break;case Bt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(s),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(L," "),e=vD(b,o*v,v,s),N&&(f=vD(j,o,1,s))):(h=void 0,p="",e=b,N&&(f=j)),p+="/Colors ".concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:S,palette:A,sMask:f,predictor:L,width:o,height:l,bitsPerComponent:d,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,s,a){var i=new l9e(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new Y_(100).encode(u,100);return e.processJPEG.call(this,d,r,s,a)},e.processGIF87A=e.processGIF89A}(Bt.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Dn.log("bit decode error:"+r)}},Ul.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ul.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=s*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ul.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Ul.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},Ul.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,a){var i=new Ul(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Y_(100).encode(c,100);return e.processJPEG.call(this,u,r,s,a)}}(Bt.API),AD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,a){var i=new AD(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Y_(100).encode(c,100);return e.processJPEG.call(this,u,r,s,a)}}(Bt.API),Bt.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=s[u],h=s[u+1],p=s[u+2],f=s[u+3];i[l++]=d,i[l++]=h,i[l++]=p,o[c++]=f}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xp=Bt.API,_1=Xp.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,f=e.length,x=0,g=l[0]||c,v=[];for(r=0;r<f;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(p=h&&_n(u[s])==="object"&&!isNaN(parseInt(u[s][x],10))?u[s][x]/d:0,v.push((l[s]||g)/c+p)),x=s;return v},gD=Xp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Xp.processArabic&&(e=Xp.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:_1.apply(this,arguments).reduce(function(i,o){return i+o},0)},xD=function(e,t,r,s){for(var a=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;a.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>s&&(a.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},yD=function(e,t,r){r||(r={});var s,a,i,o,l,c,u,d=[],h=[d],p=r.textIndent||0,f=0,x=0,g=e.split(" "),v=_1.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),j=[];g.map(function(A){(A=A.split(/\s*\n/)).length>1?j=j.concat(A.map(function(S,L){return(L&&S.length?`
`:"")+S})):j.push(A[0])}),g=j,c=gD.apply(this,[b,r])}for(i=0,o=g.length;i<o;i++){var N=0;if(s=g[i],c&&s[0]==`
`&&(s=s.substr(1),N=1),p+f+(x=(a=_1.apply(this,[s,r])).reduce(function(A,S){return A+S},0))>t||N){if(x>t){for(l=xD.apply(this,[s,a,t-(p+f),t]),d.push(l.shift()),d=[l.pop()];l.length;)h.push([l.shift()]);x=a.slice(s.length-(d[0]?d[0].length:0)).reduce(function(A,S){return A+S},0)}else d=[s];h.push(d),p=x+c,f=v}else d.push(s),p+=f+x,f=v}return u=c?function(A,S){return(S?b:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(u)},Xp.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=s.length;l<c;l++)u=u.concat(yD.apply(this,[s[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",s={},a={},i=0;i<16;i++)s[r[i]]=t[i],a[t[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var f,x,g,v,b=["{"];for(var j in p){if(f=p[j],isNaN(parseInt(j,10))?x="'"+j+"'":(j=parseInt(j,10),x=(x=o(j).slice(2)).slice(0,-1)+a[x.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),v="-"):(g=o(f).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(_n(f)!=="object")throw new Error("Don't know what to do with value type "+_n(f)+".");g=l(f)}b.push(x+g)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,x,g,v,b={},j=1,N=b,A=[],S="",L="",I=p.length-1,k=1;k<I;k+=1)(v=p[k])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(A.push([N,g]),N={},g=void 0):v=="}"?((x=A.pop())[0][x[1]]=N,g=void 0,N=x[0]):v=="-"?j=-1:g===void 0?s.hasOwnProperty(v)?(S+=s[v],g=parseInt(S,16)*j,j=1,S=""):S+=v:s.hasOwnProperty(v)?(L+=s[v],N[g]=parseInt(L,16)*j,j=1,g=void 0,L=""):L+=v;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode={},f.metadata.Unicode.widths=x.widths,f.metadata.Unicode.kerning=x.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Bt.API),function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(W1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(Bt),Bt.API.addSvgAsImage=function(e,t,r,s,a,i,o,l){if(isNaN(t)||isNaN(r))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(ur.canvg?Promise.resolve(ur.canvg):j_(()=>import("./index.es-CPdF69_d.js"),__vite__mapDeps([0,1,2]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,s,a,o,l)})},Bt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},Bt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,h=0;function p(x,g){var v,b=!1;for(v=0;v<x.length;v+=1)x[v]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(_n(e)==="object"){for(a in e)if(i=e[a],p(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(s=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(s=!1);s===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,g=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?g.push("/"+x+" /"+r[x].value):g.push("/"+x+" "+r[x].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Bt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},s=function(i){var o,l,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(i).sort(function(f,x){return f-x})).length;h<p;h++)o=l[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",x=0;x<p.length;x++)f+=String.fromCharCode(p[x]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var v=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+eg(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var j=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+eg(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+eg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var x=u();d({data:p,addLength1:!0,objectId:x}),c("endobj");var g=u();d({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+eg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+eg(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,x=h.fonts,g=f,v="",b=0,j="",N=x[g].encoding;if(x[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:h};for(j=l,g=f,Array.isArray(l)&&(j=l[0]),b=0;b<j.length;b+=1)x[g].metadata.hasOwnProperty("cmap")&&(o=x[g].metadata.cmap.unicode.codeMap[j[b].charCodeAt(0)]),o||j[b].charCodeAt(0)<256&&x[g].metadata.hasOwnProperty("Unicode")?v+=j[b]:v+="";var A="";return parseInt(g.slice(1))<14||N==="WinAnsiEncoding"?A=p(v,g).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(A=r(v,x[g])),h.isHex=!0,{text:A,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(Bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,l,c,u,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,N=0;this.__bidiEngine__={};var A=function(C){var O=C.charCodeAt(),M=O>>8,D=g[M];return D!==void 0?h[256*D+(255&O)]:M===252||M===253?"AL":b.test(M)?"L":M===8?"R":"N"},S=function(C){for(var O,M=0;M<C.length;M++){if((O=A(C.charAt(M)))==="L")return!1;if(O==="R")return!0}return!1},L=function(C,O,M,D){var W,z,G,V,Y=O[D];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(Y="AN");break;case"AL":j=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":D<1||D+1>=O.length||(W=M[D-1])!=="EN"&&W!=="AN"||(z=O[D+1])!=="EN"&&z!=="AN"?Y="N":j&&(z="AN"),Y=z===W?z:"N";break;case"ES":Y=(W=D>0?M[D-1]:"B")==="EN"&&D+1<O.length&&O[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&M[D-1]==="EN"){Y="EN";break}if(j){Y="N";break}for(G=D+1,V=O.length;G<V&&O[G]==="ET";)G++;Y=G<V&&O[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(V=O.length,G=D+1;G<V&&O[G]==="NSM";)G++;if(G<V){var ie=C[D],q=ie>=1425&&ie<=2303||ie===64286;if(W=O[G],q&&(W==="R"||W==="AL")){Y="R";break}}}Y=D<1||(W=O[D-1])==="B"?"N":M[D-1];break;case"B":j=!1,a=!0,Y=N;break;case"S":i=!0,Y="N"}return Y},I=function(C,O,M){var D=C.split("");return M&&k(D,M,{hiLevel:N}),D.reverse(),O&&O.reverse(),D.join("")},k=function(C,O,M){var D,W,z,G,V,Y=-1,ie=C.length,q=0,R=[],K=N?f:p,Z=[];for(j=!1,a=!1,i=!1,W=0;W<ie;W++)Z[W]=A(C[W]);for(z=0;z<ie;z++){if(V=q,R[z]=L(C,Z,R,z),D=240&(q=K[V][x[R[z]]]),q&=15,O[z]=G=K[q][5],D>0)if(D===16){for(W=Y;W<z;W++)O[W]=1;Y=-1}else Y=-1;if(K[q][6])Y===-1&&(Y=z);else if(Y>-1){for(W=Y;W<z;W++)O[W]=G;Y=-1}Z[z]==="B"&&(O[z]=0),M.hiLevel|=G}i&&function(se,ue,ae){for(var xe=0;xe<ae;xe++)if(se[xe]==="S"){ue[xe]=N;for(var X=xe-1;X>=0&&se[X]==="WS";X--)ue[X]=N}}(Z,O,ie)},E=function(C,O,M,D,W){if(!(W.hiLevel<C)){if(C===1&&N===1&&!a)return O.reverse(),void(M&&M.reverse());for(var z,G,V,Y,ie=O.length,q=0;q<ie;){if(D[q]>=C){for(V=q+1;V<ie&&D[V]>=C;)V++;for(Y=q,G=V-1;Y<G;Y++,G--)z=O[Y],O[Y]=O[G],O[G]=z,M&&(z=M[Y],M[Y]=M[G],M[G]=z);q=V}q++}}},B=function(C,O,M){var D=C.split(""),W={hiLevel:N};return M||(M=[]),k(D,M,W),function(z,G,V){if(V.hiLevel!==0&&d)for(var Y,ie=0;ie<z.length;ie++)G[ie]===1&&(Y=v.indexOf(z[ie]))>=0&&(z[ie]=v[Y+1])}(D,M,W),E(2,D,O,M,W),E(1,D,O,M,W),D.join("")};return this.__bidiEngine__.doBidiReorder=function(C,O,M){if(function(W,z){if(z)for(var G=0;G<W.length;G++)z[G]=G;l===void 0&&(l=S(W)),u===void 0&&(u=S(W))}(C,O),o||!c||u)if(o&&c&&l^u)N=l?1:0,C=I(C,O,M);else if(!o&&c&&u)N=l?1:0,C=B(C,O,M),C=I(C,O);else if(!o||l||c||u){if(o&&!c&&l^u)C=I(C,O),l?(N=0,C=B(C,O,M)):(N=1,C=B(C,O,M),C=I(C,O));else if(o&&l&&!c&&u)N=1,C=B(C,O,M),C=I(C,O);else if(!o&&!c&&l^u){var D=d;l?(N=1,C=B(C,O,M),N=0,d=!1,C=B(C,O,M),d=D):(N=0,C=B(C,O,M),C=I(C,O),N=1,d=!1,C=B(C,O,M),d=D,C=I(C,O))}}else N=0,C=B(C,O,M);else N=l?1:0,C=B(C,O,M);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Bt),Bt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Qh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new N9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new c9e(this.contents),this.head=new d9e(this),this.name=new g9e(this),this.cmap=new jG(this),this.toUnicode={},this.hhea=new h9e(this),this.maxp=new x9e(this),this.hmtx=new y9e(this),this.post=new m9e(this),this.os2=new f9e(this),this.loca=new j9e(this),this.glyf=new v9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var fc,Qh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,l,c;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e}(),c9e=function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,l,c,u,d,h,p,f,x,g;for(g in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),d=16*f-h,(a=new Qh).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(d),i=16*f,u=a.pos+i,l=null,x=[],r)for(p=r[g],a.writeString(g),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),x=x.concat(p),g==="head"&&(l=u),u+=p.length;u%4;)x.push(0),u++;return a.write(x),s=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=NG.call(r);r.length%4;)r.push(0);for(i=new Qh(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),u9e={}.hasOwnProperty,cu=function(e,t){for(var r in t)u9e.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};fc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var d9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Qh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),kD=function(){function e(t,r){var s,a,i,o,l,c,u,d,h,p,f,x,g,v,b,j,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var A,S;for(S=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)S.push(t.readUInt16());return S}(),t.pos+=2,g=function(){var A,S;for(S=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)S.push(t.readUInt16());return S}(),u=function(){var A,S;for(S=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)S.push(t.readUInt16());return S}(),d=function(){var A,S;for(S=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)S.push(t.readUInt16());return S}(),a=(this.length-t.pos+this.offset)/2,l=function(){var A,S;for(S=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)S.push(t.readUInt16());return S}(),c=b=0,N=i.length;b<N;c=++b)for(v=i[c],s=j=x=g[c];x<=v?j<=v:j>=v;s=x<=v?++j:--j)d[c]===0?o=s+u[c]:(o=l[d[c]/2+(s-x)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[s]=65535&o}t.pos=h}return e.encode=function(t,r){var s,a,i,o,l,c,u,d,h,p,f,x,g,v,b,j,N,A,S,L,I,k,E,B,C,O,M,D,W,z,G,V,Y,ie,q,R,K,Z,se,ue,ae,xe,X,me,ne,he;switch(D=new Qh,o=Object.keys(t).sort(function(ke,je){return ke-je}),r){case"macroman":for(g=0,v=function(){var ke=[];for(x=0;x<256;++x)ke.push(0);return ke}(),j={0:0},i={},W=0,Y=o.length;W<Y;W++)j[X=t[a=o[W]]]==null&&(j[X]=++g),i[a]={old:t[a],new:j[t[a]]},v[a]=j[t[a]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(v),{charMap:i,subtable:D.data,maxGlyphID:g+1};case"unicode":for(O=[],h=[],N=0,j={},s={},b=u=null,z=0,ie=o.length;z<ie;z++)j[S=t[a=o[z]]]==null&&(j[S]=++N),s[a]={old:S,new:j[S]},l=j[S]-a,b!=null&&l===u||(b&&h.push(b),O.push(a),u=l),b=a;for(b&&h.push(b),h.push(65535),O.push(65535),B=2*(E=O.length),k=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(k/2)/Math.LN2,I=2*E-k,c=[],L=[],f=[],x=G=0,q=O.length;G<q;x=++G){if(C=O[x],d=h[x],C===65535){c.push(0),L.push(0);break}if(C-(M=s[C].new)>=32768)for(c.push(0),L.push(2*(f.length+E-x)),a=V=C;C<=d?V<=d:V>=d;a=C<=d?++V:--V)f.push(s[a].new);else c.push(M-C),L.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*E+2*f.length),D.writeUInt16(0),D.writeUInt16(B),D.writeUInt16(k),D.writeUInt16(p),D.writeUInt16(I),ae=0,R=h.length;ae<R;ae++)a=h[ae],D.writeUInt16(a);for(D.writeUInt16(0),xe=0,K=O.length;xe<K;xe++)a=O[xe],D.writeUInt16(a);for(me=0,Z=c.length;me<Z;me++)l=c[me],D.writeUInt16(l);for(ne=0,se=L.length;ne<se;ne++)A=L[ne],D.writeUInt16(A);for(he=0,ue=f.length;he<ue;he++)g=f[he],D.writeUInt16(g);return{charMap:s,subtable:D.data,maxGlyphID:N+1}}},e}(),jG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)r=new kD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var s,a;return r==null&&(r="macroman"),s=kD.encode(t,r),(a=new Qh).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},e}(),h9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),f9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(t.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),m9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="post",e.prototype.parse=function(t){var r,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 262144:return this.map=function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(t.readUInt32());return c}.call(this)}},e}(),p9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},g9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="name",e.prototype.parse=function(t){var r,s,a,i,o,l,c,u,d,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),s=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},i=d=0,h=s.length;d<h;i=++d)a=s[i],t.pos=a.offset,u=t.readString(a.length),o=new p9e(u,a),c[p=a.nameID]==null&&(c[p]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),x9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),y9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,s,a,i,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d}(),this.widths=function(){var u,d,h,p;for(p=[],u=0,d=(h=this.metrics).length;u<d;u++)i=h[u],p.push(i.advance);return p}.call(this),s=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(s));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),NG=[].slice,v9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,s,a,i,o,l,c,u,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+s,o=(l=new Qh(r.read(a))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new w9e(l,u,h,c,d):new b9e(l,o,u,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,s){var a,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)a=t[r[l]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},e}(),b9e=function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),w9e=function(){function e(t,r,s,a,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new Qh(NG.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),j9e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return cu(e,fc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,s;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<r.length&&r[i]==o){++i,s[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*s.length),d=0;d<s.length;++d)u[4*d+3]=255&s[d],u[4*d+2]=(65280&s[d])>>8,u[4*d+1]=(16711680&s[d])>>16,u[4*d]=(4278190080&s[d])>>24;return u},e}(),N9e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,l,c,u,d,h,p,f,x,g,v,b;for(a in s=jG.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},b=s.charMap)f[(c=b[a]).old]=c.new;for(x in p=s.maxGlyphID,o)x in f||(f[x]=p++);return d=function(j){var N,A;for(N in A={},j)A[j[N]]=N;return A}(f),h=Object.keys(d).sort(function(j,N){return j-N}),g=function(){var j,N,A;for(A=[],j=0,N=h.length;j<N;j++)l=h[j],A.push(d[l]);return A}(),i=this.font.glyf.encode(o,g,f),u=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Bt.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)s=r[l],u.push(t.convert(s));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();const _9e={async getPriceListItems(){try{const e=await fetch("/api/crm/price-list");if(!e.ok)return[];const t=await e.json();return Array.isArray(t)?t:[]}catch{return[]}},async createPriceListItem(e){try{const{data:t,error:r}=await Dt.from("price_list").insert([e]).select().single();if(r)throw r;return t}catch(t){throw t}},async updatePriceListItem(e,t){try{const{data:r,error:s}=await Dt.from("price_list").update(t).eq("id",e).select().single();if(s)throw s;return r}catch(r){throw r}},async deletePriceListItem(e){try{const{error:t}=await Dt.from("price_list").delete().eq("id",e);if(t)throw t}catch(t){throw t}},async importPriceList(e){try{const{data:t,error:r}=await Dt.from("price_list").insert(e).select();if(r)throw r;return t||[]}catch(t){throw t}}},S9e=({isOpen:e,onClose:t,onSuccess:r,editingInvoice:s})=>{const[a,i]=_.useState(1),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,h]=_.useState(""),[p,f]=_.useState(!1),[x,g]=_.useState(!1),[v,b]=_.useState(null),[j,N]=_.useState(!1),[A,S]=_.useState(""),[L,I]=_.useState([]),k=_.useRef(null),[E,B]=_.useState({client_id:"",due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],payment_terms:"Net 30",currency:"EUR",notes:"",discount_amount:0,items:[{id:"1",description:"",quantity:1,unit_price:0,tax_rate:19}]}),[C,O]=_.useState(!1),[M,D]=_.useState({payment_method:"cash",payment_reference:"",payment_notes:""}),[W,z]=_.useState(null),[G,V]=_.useState(!1),[Y,ie]=_.useState({subject:"",message:"",includeAttachment:!0}),q=[{id:1,title:"Client & Details",icon:Ji},{id:2,title:"Line Items",icon:cs},{id:3,title:"Payment & Terms",icon:Q1},{id:4,title:"Review & Create",icon:Xn}];_.useEffect(()=>{e&&(K(),R(),s&&ae())},[e,s]);const R=async()=>{try{const J=await _9e.getPriceListItems();I(J)}catch{I([])}};_.useEffect(()=>{const J=de=>{k.current&&!k.current.contains(de.target)&&f(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const K=async()=>{try{g(!0),b(null);const J=await fetch("/api/crm/clients");if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const de=await J.json();if(de&&de.length>0){const Se=de.map(De=>{const He=De.first_name||"",Fe=De.last_name||"",lt=`${He} ${Fe}`.trim()||De.email||De.company||"Unnamed Client";return{id:De.id,name:lt,email:De.email||"",address1:De.address,city:De.city,country:De.country}});l(Se),u(Se)}else{const Se=ue();l(Se),u(Se)}}catch{b("Failed to load clients from database");const de=ue();l(de),u(de)}finally{g(!1)}},Z=J=>{if(h(J),!J.trim()){u(o);return}const de=o.filter(Se=>Se.name?.toLowerCase().includes(J.toLowerCase())||Se.email?.toLowerCase().includes(J.toLowerCase())||Se.address1&&Se.address1.toLowerCase().includes(J.toLowerCase())||Se.city&&Se.city.toLowerCase().includes(J.toLowerCase()));u(de)},se=J=>{B(de=>({...de,client_id:J.id})),h(J.name),f(!1)},ue=()=>[{id:"sample-1",name:"John Doe",email:"john.doe@example.com",address1:"123 Main Street",city:"Boston",country:"USA"},{id:"sample-2",name:"Jane Smith",email:"jane.smith@company.com",address1:"456 Oak Avenue",city:"Chicago",country:"USA"},{id:"sample-3",name:"Mike Johnson",email:"mike.johnson@test.com",address1:"789 Pine Street",city:"Miami",country:"USA"},{id:"sample-4",name:"Sarah Wilson",email:"sarah.wilson@demo.com",address1:"321 Elm Drive",city:"Seattle",country:"USA"},{id:"sample-5",name:"Robert Brown",email:"robert.brown@shop.com",address1:"654 Cedar Lane",city:"Portland",country:"USA"}],ae=()=>{},xe=J=>{const de=J.quantity*J.unit_price,Se=de*(J.tax_rate/100);return de+Se},X=()=>{const J=E.items.reduce((He,Fe)=>He+Fe.quantity*Fe.unit_price,0),de=E.items.reduce((He,Fe)=>He+Fe.quantity*Fe.unit_price*Fe.tax_rate/100,0),Se=E.discount_amount,De=J+de-Se;return{subtotal:J,totalTax:de,discount:Se,total:De}},me=()=>{const J={id:Date.now().toString(),description:"",quantity:1,unit_price:0,tax_rate:19};B(de=>({...de,items:[...de.items,J]}))},ne=J=>{E.items.length>1&&B(de=>({...de,items:de.items.filter(Se=>Se.id!==J)}))},he=(J,de)=>{B(Se=>({...Se,items:Se.items.map(De=>De.id===J?{...De,...de}:De)}))},ke=J=>{switch(J){case 1:return E.client_id!==""&&E.due_date!=="";case 2:return E.items.every(de=>de.description.trim()!==""&&de.quantity>0&&de.unit_price>=0);case 3:return E.payment_terms!=="";default:return!0}},je=()=>{ke(a)&&i(J=>Math.min(J+1,4))},Q=()=>{i(J=>Math.max(J-1,1))},ze=async()=>{try{g(!0),b(null);const J=E.items.reduce((Ke,lt)=>Ke+lt.quantity*lt.unit_price,0),de=E.items.reduce((Ke,lt)=>{const ct=lt.quantity*lt.unit_price*(lt.tax_rate/100);return Ke+ct},0),Se=J+de-E.discount_amount,De={clientId:E.client_id,issueDate:new Date().toISOString().split("T")[0],dueDate:E.due_date,subtotal:J.toString(),taxAmount:de.toString(),total:Se.toString(),status:C?"paid":"draft",notes:E.notes,termsAndConditions:E.payment_terms,items:E.items.map(Ke=>({description:Ke.description,quantity:Ke.quantity.toString(),unitPrice:Ke.unit_price.toString(),taxRate:Ke.tax_rate.toString()}))},He=await fetch("/api/crm/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(De)});if(!He.ok){const Ke=await He.json();throw new Error(Ke.error||"Failed to create invoice")}const Fe=await He.json();if(z(Fe),C){const Ke={invoice_id:Fe.id,amount:Se,payment_method:M.payment_method,payment_reference:M.payment_reference,payment_date:new Date().toISOString().split("T")[0],notes:M.payment_notes};(await fetch("/api/crm/invoice-payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)})).ok}r(),t()}catch{b("Failed to create invoice. Please try again.")}finally{g(!1)}},Ye=async()=>{if(W)try{g(!0);const J=await fetch(`/api/crm/invoices/${W.id}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!J.ok)throw new Error(`PDF generation failed: ${J.status}`);const de=await J.blob(),Se=window.URL.createObjectURL(de),De=document.createElement("a");De.style.display="none",De.href=Se,De.download=`Rechnung-${W.invoiceNumber||W.id}.pdf`,document.body.appendChild(De),De.click(),setTimeout(()=>{window.URL.revokeObjectURL(Se),document.body.removeChild(De)},100)}catch{b("PDF download failed. Please try again.")}finally{g(!1)}},Ge=async()=>{if(W)try{g(!0);const J=await fetch(`/api/crm/invoices/${W.id}/email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)});if(!J.ok)throw new Error("Failed to send email");const de=await J.json();V(!1),alert("Invoice successfully sent by email!")}catch{b("Failed to send email. Please try again.")}finally{g(!1)}},Ve=()=>{switch(a){case 1:return n.jsxs("div",{className:"space-y-6",children:["            ",n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Client * ",o.length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:["(",o.length," clients available)"]})]}),n.jsxs("div",{className:"relative",ref:k,children:[n.jsx("input",{type:"text",value:d,onChange:J=>Z(J.target.value),onFocus:()=>f(!0),placeholder:x?"Loading clients...":"Search clients by name, email, or location...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!E.client_id,disabled:x}),p&&c.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:c.map(J=>n.jsxs("button",{type:"button",onClick:()=>se(J),className:"w-full px-3 py-2 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none border-b border-gray-100 last:border-b-0",children:[n.jsx("div",{className:"font-medium text-gray-900",children:J.name}),n.jsx("div",{className:"text-sm text-gray-500",children:J.email}),J.city&&n.jsxs("div",{className:"text-xs text-gray-400",children:[J.city,J.country&&`, ${J.country}`]})]},J.id))}),p&&d&&c.length===0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3",children:n.jsxs("div",{className:"text-gray-500 text-center",children:['No clients found matching "',d,'"']})})]}),"              ",o.length===0&&!x&&n.jsxs("p",{className:"mt-2 text-sm text-amber-600",children:[n.jsx(ln,{className:"inline w-4 h-4 mr-1"}),"No clients found. Using sample clients for demo."]}),n.jsx("div",{className:"mt-2",children:n.jsxs("button",{type:"button",onClick:()=>{alert("Quick client creation feature can be added here. For now, please go to the Clients page to add new clients.")},className:"text-sm text-purple-600 hover:text-purple-800 flex items-center",children:[n.jsx(Ir,{className:"w-4 h-4 mr-1"}),"Add New Client"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date *"}),n.jsx("input",{type:"date",value:E.due_date,onChange:J=>B(de=>({...de,due_date:J.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),n.jsxs("select",{value:E.currency,onChange:J=>B(de=>({...de,currency:J.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"EUR",children:"EUR (€)"}),n.jsx("option",{value:"USD",children:"USD ($)"}),n.jsx("option",{value:"GBP",children:"GBP (£)"})]}),"              "]})]})]});case 2:return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Invoice Items"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>N(!0),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[n.jsx(td,{size:16,className:"mr-1"}),"Price List"]}),n.jsxs("button",{onClick:me,className:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[n.jsx(Ir,{size:16,className:"mr-1"}),"Add Item"]}),"              "]})]}),n.jsx("div",{className:"space-y-3",children:E.items.map(J=>n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-3 items-start",children:[n.jsxs("div",{className:"col-span-5",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),n.jsx("input",{type:"text",value:J.description,onChange:de=>he(J.id,{description:de.target.value}),placeholder:"Item description...",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),n.jsx("input",{type:"number",value:J.quantity,onChange:de=>he(J.id,{quantity:parseFloat(de.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit Price"}),n.jsx("input",{type:"number",value:J.unit_price,onChange:de=>he(J.id,{unit_price:parseFloat(de.target.value)||0}),min:"0",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tax %"}),n.jsx("input",{type:"number",value:J.tax_rate,onChange:de=>he(J.id,{tax_rate:parseFloat(de.target.value)||0}),min:"0",max:"100",step:"0.01",className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500"})]}),n.jsx("div",{className:"col-span-1 flex items-end",children:n.jsx("button",{onClick:()=>ne(J.id),disabled:E.items.length===1,className:"p-2 text-red-600 hover:text-red-800 disabled:text-gray-400 disabled:cursor-not-allowed",title:"Remove item",children:n.jsx(js,{size:16})})})]}),n.jsxs("div",{className:"mt-2 text-right text-sm text-gray-600",children:["Total: ",E.currency," ",(xe(J)||0).toFixed(2)]})]},J.id))}),n.jsx("div",{className:"border-t pt-4",children:n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Subtotal: ",E.currency," ",(X().subtotal||0).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Tax: ",E.currency," ",(X().totalTax||0).toFixed(2)]}),n.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total: ",E.currency," ",(X().total||0).toFixed(2),"                  "]})]})})})]});case 3:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms *"}),n.jsxs("select",{value:E.payment_terms,onChange:J=>B(de=>({...de,payment_terms:J.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:[n.jsx("option",{value:"Net 15",children:"Net 15 (15 days)"}),n.jsx("option",{value:"Net 30",children:"Net 30 (30 days)"}),n.jsx("option",{value:"Net 60",children:"Net 60 (60 days)"}),n.jsx("option",{value:"Due on receipt",children:"Due on receipt"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Amount"}),n.jsx("input",{type:"number",value:E.discount_amount,onChange:J=>B(de=>({...de,discount_amount:parseFloat(J.target.value)||0})),min:"0",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"0.00"})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",id:"markAsPaid",checked:C,onChange:J=>O(J.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),n.jsx("label",{htmlFor:"markAsPaid",className:"ml-2 text-sm font-medium text-green-800",children:"💰 Client paid immediately - Mark invoice as PAID"})]}),C&&n.jsxs("div",{className:"space-y-4 border-t border-green-200 pt-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Method *"}),n.jsxs("select",{value:M.payment_method,onChange:J=>D(de=>({...de,payment_method:J.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"card",children:"Credit/Debit Card"}),n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"paypal",children:"PayPal"}),n.jsx("option",{value:"stripe",children:"Stripe"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Reference (Optional)"}),n.jsx("input",{type:"text",value:M.payment_reference,onChange:J=>D(de=>({...de,payment_reference:J.target.value})),className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Transaction ID, Check #, etc."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-green-700 mb-2",children:"Payment Notes (Optional)"}),n.jsx("textarea",{value:M.payment_notes,onChange:J=>D(de=>({...de,payment_notes:J.target.value})),rows:2,className:"w-full p-3 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Additional payment details..."})]}),n.jsx("div",{className:"bg-green-100 p-3 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-800",children:["✅ This invoice will be marked as ",n.jsx("strong",{children:"PAID"})," and will appear as a completed sale in your dashboard and reports."]})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx("textarea",{value:E.notes,onChange:J=>B(de=>({...de,notes:J.target.value})),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes for this invoice..."})]}),"          "]});case 4:{const J=X(),de=o.find(Se=>Se.id===E.client_id);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Summary"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Details"}),n.jsx("p",{className:"text-gray-600",children:de?.name}),n.jsx("p",{className:"text-gray-600",children:de?.email})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Invoice Details"}),n.jsxs("p",{className:"text-gray-600",children:["Due Date: ",new Date(E.due_date).toLocaleDateString()]}),n.jsxs("p",{className:"text-gray-600",children:["Payment Terms: ",E.payment_terms]}),n.jsxs("p",{className:"text-gray-600",children:["Currency: ",E.currency]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Line Items"}),"                ",n.jsx("div",{className:"space-y-2",children:E.items.map(Se=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{children:[Se.description," (x",Se.quantity,")"]}),n.jsxs("span",{children:[E.currency," ",(xe(Se)||0).toFixed(2)]})]},Se.id))})]}),n.jsx("div",{className:"mt-6 pt-4 border-t",children:n.jsxs("div",{className:"space-y-1 text-right",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{children:[E.currency," ",(J.subtotal||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tax:"}),n.jsxs("span",{children:[E.currency," ",(J.totalTax||0).toFixed(2)]})]}),J.discount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",E.currency," ",(J.discount||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:[E.currency," ",(J.total||0).toFixed(2)]})]})]})})]}),C&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"💰 Payment Details Preview"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Status:"}),n.jsx("span",{className:"font-semibold text-green-800",children:"PAID"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Amount:"}),n.jsxs("span",{className:"font-semibold text-green-800",children:[E.currency," ",(J.total||0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Payment Method:"}),n.jsx("span",{className:"text-green-800 capitalize",children:M.payment_method.replace("_"," ")})]}),M.payment_reference&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-700",children:"Reference:"}),n.jsx("span",{className:"text-green-800",children:M.payment_reference})]}),n.jsx("div",{className:"mt-3 p-2 bg-green-100 rounded text-xs text-green-800",children:"✅ This sale will appear immediately in your dashboard revenue and reports"})]})]}),v&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:v})]}),"          "]})}default:return null}};return e?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[n.jsxs(Yf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s?"Edit Invoice":"Create New Invoice"}),n.jsxs("p",{className:"text-gray-600",children:["Step ",a," of ",q.length]})]}),n.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(bs,{size:24})})]}),n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("div",{className:"flex items-center justify-between",children:q.map((J,de)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`
                  flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                  ${a>=J.id?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}
                `,children:a>J.id?n.jsx(is,{size:16}):n.jsx(J.icon,{size:16})}),n.jsx("span",{className:`ml-2 text-sm font-medium ${a>=J.id?"text-purple-600":"text-gray-500"}`,children:J.title}),de<q.length-1&&n.jsx("div",{className:`w-12 h-px mx-4 ${a>J.id?"bg-purple-600":"bg-gray-300"}`})]},J.id))})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsx(U1,{mode:"wait",children:n.jsx(Yf.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:Ve()},a)})}),n.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[n.jsxs("button",{onClick:Q,disabled:a===1,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 disabled:text-gray-400 disabled:cursor-not-allowed",children:[n.jsx(Iv,{size:16,className:"mr-1"}),"Previous"]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a<4?n.jsxs("button",{onClick:je,disabled:!ke(a),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:["Next",n.jsx(Oh,{size:16,className:"ml-1"})]}):n.jsx("div",{className:"flex space-x-2",children:W?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:Ye,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(Ls,{size:16,className:"mr-2"}),"Download PDF"]}),n.jsxs("button",{onClick:()=>{const J=o.find(de=>de.id===E.client_id);ie({subject:`Rechnung ${W.invoiceNumber} - New Age Fotografie`,message:`Liebe/r ${J?.name},

anbei senden wir Ihnen Ihre Rechnung zu.

Mit freundlichen Grüßen,
New Age Fotografie Team`,includeAttachment:!0}),V(!0)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(Bo,{size:16,className:"mr-2"}),"Send Email"]})]}):n.jsx("button",{onClick:ze,disabled:x,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(is,{size:16,className:"mr-2"}),"Create Invoice"]})})}),"          "]})]})]}),n.jsx(U1,{children:j&&n.jsx(Yf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",onClick:()=>N(!1),children:n.jsxs(Yf.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",onClick:J=>J.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Select from Price List"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:20})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),n.jsxs("select",{value:A,onChange:J=>S(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"DIGITAL",children:"Digital Photos"}),n.jsx("option",{value:"PRINTS",children:"Print Products"}),n.jsx("option",{value:"SESSIONS",children:"Photo Sessions"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.length>0?L.map(J=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:J.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:J.description||"Professional photography service"}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("p",{className:"font-semibold text-purple-600",children:["€",(J.price||0).toFixed(2)]}),n.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:J.category})]}),n.jsx("button",{onClick:()=>{const de={id:Date.now().toString(),description:J.name+(J.description?` - ${J.description}`:""),quantity:1,unit_price:J.price||0,tax_rate:J.tax_rate||19};B(Se=>({...Se,items:[...Se.items,de]})),N(!1)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded text-sm",children:"Add to Invoice"})]},J.id)):n.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"Loading price list..."})})]})})}),n.jsx(U1,{children:G&&n.jsx(Yf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:n.jsx(Yf.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(on,{className:"mr-2",size:20}),"Send Invoice by Email"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:Y.subject,onChange:J=>ie(de=>({...de,subject:J.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),n.jsx("textarea",{value:Y.message,onChange:J=>ie(de=>({...de,message:J.target.value})),rows:4,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"includeAttachment",checked:Y.includeAttachment,onChange:J=>ie(de=>({...de,includeAttachment:J.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"includeAttachment",className:"ml-2 text-sm text-gray-700",children:"Include PDF attachment"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:Ge,disabled:x,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:x?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Bo,{size:16,className:"mr-2"}),"Send Email"]})})]})]})})})})]}):null},A9e=({invoice:e,companyInfo:t={name:"Your Company Name",address:"Your Company Address",email:"info@yourcompany.com",phone:"+49 123 456 789",website:"www.yourcompany.com"}})=>{const r=a=>new Intl.NumberFormat("de-DE",{style:"currency",currency:e.currency}).format(a),s=a=>new Date(a).toLocaleDateString("de-DE");return n.jsxs("div",{className:"invoice-template max-w-4xl mx-auto bg-white p-8 shadow-lg",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),n.jsxs("div",{className:"text-gray-600 space-y-1",children:[n.jsx("p",{children:t.address}),n.jsx("p",{children:t.email}),n.jsx("p",{children:t.phone}),t.website&&n.jsx("p",{children:t.website})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-600 mb-2",children:"INVOICE"}),n.jsxs("div",{className:"text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice #:"})," ",e.invoice_number]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",s(e.created_at)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Due Date:"})," ",s(e.due_date)]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bill To:"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:e.client_name}),n.jsx("p",{className:"text-gray-600",children:e.client_email}),e.client_address&&n.jsx("p",{className:"text-gray-600",children:e.client_address})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"text-left p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Description"}),n.jsx("th",{className:"text-center p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Qty"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Unit Price"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Tax Rate"}),n.jsx("th",{className:"text-right p-3 font-semibold text-gray-900 border-b-2 border-gray-300",children:"Total"})]})}),n.jsx("tbody",{children:e.items.map((a,i)=>n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("td",{className:"p-3 text-gray-900",children:a.description}),n.jsx("td",{className:"p-3 text-center text-gray-900",children:a.quantity}),n.jsx("td",{className:"p-3 text-right text-gray-900",children:r(a.unit_price)}),n.jsxs("td",{className:"p-3 text-right text-gray-900",children:[a.tax_rate,"%"]}),n.jsx("td",{className:"p-3 text-right text-gray-900",children:r(a.line_total)})]},i))})]})}),n.jsx("div",{className:"flex justify-end mb-8",children:n.jsx("div",{className:"w-64",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{children:r(e.subtotal_amount)})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Tax:"}),n.jsx("span",{children:r(e.tax_amount)})]}),e.discount_amount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",r(e.discount_amount)]})]}),n.jsx("div",{className:"border-t pt-2",children:n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900",children:[n.jsx("span",{children:"Total:"}),n.jsx("span",{children:r(e.total_amount)})]})})]})})}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Payment Terms"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{className:"text-gray-700 mb-2",children:[n.jsx("strong",{children:"Payment Terms:"})," ",e.payment_terms]}),n.jsx("p",{className:"text-gray-700",children:"Payment is due within the specified terms. Late payments may be subject to additional charges."})]})]}),e.notes&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Notes"}),n.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:n.jsx("p",{className:"text-gray-700",children:e.notes})})]}),n.jsxs("div",{className:"border-t pt-6 text-center text-gray-500",children:[n.jsx("p",{children:"Thank you for your business!"}),n.jsxs("p",{className:"text-sm mt-2",children:["For questions about this invoice, please contact ",t.email]})]})]})};async function k9e(e){const{data:t,error:r}=await Dt.from("crm_invoices").select(`
      *,
      crm_clients(name, email, address1, city, country),
      crm_invoice_items(*),
      crm_invoice_payments(*)
    `).eq("id",e).single();if(r)throw r;return t}const C9e=({invoiceId:e,isOpen:t,onClose:r})=>{const[s,a]=_.useState(null),[i,o]=_.useState(!0),[l,c]=_.useState(null);_.useEffect(()=>{t&&e&&u()},[t,e]);const u=async()=>{try{o(!0),c(null);const f=await k9e(e),x={invoice_number:f.invoice_number,client_name:f.crm_clients?.name||"Unknown Client",client_email:f.crm_clients?.email||"",client_address:[f.crm_clients?.address1,f.crm_clients?.city,f.crm_clients?.country].filter(Boolean).join(", "),due_date:f.due_date,created_at:f.created_at,currency:f.currency||"EUR",payment_terms:f.payment_terms||"Net 30",notes:f.notes,subtotal_amount:f.subtotal_amount||0,tax_amount:f.tax_amount||0,discount_amount:f.discount_amount||0,total_amount:f.total_amount||0,items:f.crm_invoice_items?.map(g=>({description:g.description,quantity:g.quantity,unit_price:g.unit_price,tax_rate:g.tax_rate,line_total:g.line_total}))||[]};a(x)}catch{c("Failed to load invoice")}finally{o(!1)}},d=()=>{window.print()},h=async()=>{window.print()},p=async()=>{alert("Email functionality would be integrated here")};return t?n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 print:hidden",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Invoice Preview"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[n.jsx(Bo,{size:16,className:"mr-2"}),"Send"]}),n.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[n.jsx(Ls,{size:16,className:"mr-2"}),"PDF"]}),n.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Aee,{size:16,className:"mr-2"}),"Print"]}),n.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(bs,{size:24})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:i?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoice..."})]}):l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-2",children:l}),n.jsx("button",{onClick:u,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retry"})]})}):s?n.jsx(A9e,{invoice:s}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-gray-600",children:"No invoice data available"})})})]}),n.jsx("style",{children:`
        @media print {
          .print\\:hidden {
            display: none !important;
          }
          
          body * {
            visibility: hidden;
          }
          
          .invoice-template, .invoice-template * {
            visibility: visible;
          }
          
          .invoice-template {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
        }
      `})]}):null},P9e=({invoiceId:e,invoiceTotal:t,currency:r,isOpen:s,onClose:a,onPaymentAdded:i})=>{const[o,l]=_.useState([]),[c,u]=_.useState(!0),[d,h]=_.useState(null),[p,f]=_.useState(!1),[x,g]=_.useState({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""});_.useEffect(()=>{s&&v()},[s,e]);const v=async()=>{try{u(!0);const I=await fetch(`/api/crm/invoices/${e}/payments`,{credentials:"include"});if(!I.ok)throw new Error("Failed to fetch payments");const k=await I.json();l(k||[])}catch{h("Failed to load payments")}finally{u(!1)}},b=async()=>{try{if(u(!0),h(null),!(await fetch(`/api/crm/invoices/${e}/payments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)})).ok)throw new Error("Failed to add payment");g({amount:0,payment_method:"bank_transfer",payment_reference:"",payment_date:new Date().toISOString().split("T")[0],notes:""}),f(!1),await v(),i()}catch{h("Failed to add payment")}finally{u(!1)}},j=async I=>{if(confirm("Are you sure you want to delete this payment?"))try{if(u(!0),!(await fetch(`/api/crm/invoices/${e}/payments/${I}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete payment");await v(),i()}catch{h("Failed to delete payment")}finally{u(!1)}},N=o.reduce((I,k)=>I+k.amount,0),A=t-N,S=I=>new Intl.NumberFormat("de-DE",{style:"currency",currency:r}).format(I),L=I=>({bank_transfer:"Bank Transfer",credit_card:"Credit Card",paypal:"PayPal",stripe:"Stripe",cash:"Cash",check:"Check"})[I]||I;return s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Tracker"}),n.jsx("p",{className:"text-gray-600",children:"Track payments for this invoice"})]}),n.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 p-2",children:n.jsx(bs,{size:24})})]}),n.jsx("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(tc,{className:"h-8 w-8 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Invoice Total"}),n.jsx("p",{className:"text-lg font-semibold",children:S(t)})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(tc,{className:"h-8 w-8 text-green-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Paid"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:S(N)})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(tc,{className:"h-8 w-8 text-red-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Remaining"}),n.jsx("p",{className:"text-lg font-semibold text-red-600",children:S(A)})]})]})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Payment History"}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Add Payment"]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:d}),p&&n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[n.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Add New Payment"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),n.jsx("input",{type:"number",value:x.amount,onChange:I=>g(k=>({...k,amount:parseFloat(I.target.value)||0})),step:"0.01",min:"0",max:A,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:`Max: ${S(A)}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),n.jsxs("select",{value:x.payment_method,onChange:I=>g(k=>({...k,payment_method:I.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),n.jsx("option",{value:"credit_card",children:"Credit Card"}),n.jsx("option",{value:"paypal",children:"PayPal"}),n.jsx("option",{value:"stripe",children:"Stripe"}),n.jsx("option",{value:"cash",children:"Cash"}),n.jsx("option",{value:"check",children:"Check"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date *"}),n.jsx("input",{type:"date",value:x.payment_date,onChange:I=>g(k=>({...k,payment_date:I.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference"}),n.jsx("input",{type:"text",value:x.payment_reference,onChange:I=>g(k=>({...k,payment_reference:I.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Transaction ID, Check #, etc."})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{value:x.notes,onChange:I=>g(k=>({...k,notes:I.target.value})),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Additional notes about this payment..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:c||x.amount<=0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400",children:c?"Adding...":"Add Payment"})]})]}),c&&!p?n.jsxs("div",{className:"flex items-center justify-center h-32",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading payments..."})]}):o.length>0?n.jsx("div",{className:"space-y-4",children:o.map(I=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Q1,{className:"h-5 w-5 text-gray-400 mr-2"}),n.jsx("span",{className:"font-medium text-gray-900",children:S(I.amount)})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{className:"h-4 w-4 text-gray-400 mr-1"}),n.jsx("span",{className:"text-sm text-gray-600",children:new Date(I.payment_date).toLocaleDateString()})]}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full",children:L(I.payment_method)})]}),I.payment_reference&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ref: ",I.payment_reference]}),I.notes&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.notes})]}),n.jsx("button",{onClick:()=>j(I.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete payment",children:n.jsx(js,{size:16})})]})},I.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Q1,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"No payments recorded yet"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Add the first payment to get started"})]})]})]})}):null},E9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState("all"),[c,u]=_.useState(!0),[d,h]=_.useState(null),[p,f]=_.useState(!1),[x,g]=_.useState(null),[v,b]=_.useState(null),[j,N]=_.useState(null);_.useEffect(()=>{A()},[]),_.useEffect(()=>{S()},[e,a,o]);const A=async()=>{try{u(!0),h(null);const M=await fetch("/api/crm/invoices",{credentials:"include"});if(!M.ok)throw new Error("Failed to fetch invoices");const W=(await M.json()).map(z=>({id:z.id,invoice_number:z.invoice_number,client_id:z.client_id,client_name:z.client_name||"Unknown Client",amount:parseFloat(z.subtotal||0),tax_amount:parseFloat(z.tax_amount||0),total_amount:parseFloat(z.total||0),status:z.status?.toLowerCase()||"pending",due_date:z.due_date,paid_date:null,notes:z.notes||"",created_at:z.created_at}));t(W||[])}catch{h("Failed to load invoices. Please try again.")}finally{u(!1)}},S=()=>{let M=[...e];a&&e.length>0&&(M=M.filter(D=>(D.invoice_number||"").toLowerCase().includes(a.toLowerCase())||(D.client_name||"").toLowerCase().includes(a.toLowerCase()))),o!=="all"&&(M=M.filter(D=>D.status===o)),s(M)},L=async M=>{try{if(u(!0),!(await fetch(`/api/crm/invoices/${M}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete invoice");t(W=>W.filter(z=>z.id!==M)),N(null)}catch{h("Failed to delete invoice. Please try again.")}finally{u(!1)}},I=async(M,D)=>{try{u(!0);const W={status:D};if(D==="paid"&&(W.paid_date=new Date().toISOString().split("T")[0]),!(await fetch(`/api/crm/invoices/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(W)})).ok)throw new Error("Failed to update invoice status");t(G=>G.map(V=>V.id===M?{...V,status:D,paid_date:D==="paid"?new Date().toISOString().split("T")[0]:V.paid_date}:V))}catch{h("Failed to update invoice status. Please try again.")}finally{u(!1)}},k=M=>{const W={draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},sent:{bg:"bg-blue-100",text:"text-blue-800",label:"Sent"},paid:{bg:"bg-green-100",text:"text-green-800",label:"Paid"},overdue:{bg:"bg-red-100",text:"text-red-800",label:"Overdue"},cancelled:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Cancelled"}}[M]||{bg:"bg-gray-100",text:"text-gray-800",label:M||"Unknown"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W.bg} ${W.text}`,children:W.label})},E=(M,D)=>D!=="paid"&&new Date(M)<new Date,B=async M=>{try{const D=await fetch(`/api/crm/invoices/${M}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!D.ok)throw new Error(`PDF generation failed: ${D.status}`);const W=await D.blob(),z=window.URL.createObjectURL(W),G=document.createElement("a");G.style.display="none",G.href=z,G.download=`Invoice-${M}.pdf`,document.body.appendChild(G),G.click(),setTimeout(()=>{window.URL.revokeObjectURL(z),document.body.removeChild(G)},100)}catch{alert("PDF download failed. Please try again.")}},O=(()=>{if(!r||r.length===0)return{totalAmount:0,paidAmount:0,overdueAmount:0};const M=r.reduce((z,G)=>z+(G.total_amount||0),0),D=r.filter(z=>z.status==="paid").reduce((z,G)=>z+(G.total_amount||0),0),W=r.filter(z=>z.status==="overdue").reduce((z,G)=>z+(G.total_amount||0),0);return{totalAmount:M,paidAmount:D,overdueAmount:W}})();return n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Invoices Management"}),n.jsx("p",{className:"text-gray-600",children:"Create, send, and track client invoices"})]}),"          ",n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),"Create Invoice"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(cs,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoiced"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(O.totalAmount||0).toFixed(2)]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(tc,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Amount"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(O.paidAmount||0).toFixed(2)]})]})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(fn,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Amount"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",(O.overdueAmount||0).toFixed(2)]})]})]})})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:M=>i(M.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:"All Statuses"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"sent",children:"Sent"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"overdue",children:"Overdue"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("button",{className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Jm,{size:20,className:"mr-2"}),"More Filters"]})]})}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:d})]}),n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading invoices..."})]}):r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(M=>n.jsxs("tr",{className:`hover:bg-gray-50 ${E(M.due_date,M.status)?"bg-red-50":""}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.invoice_number}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Created ",new Date(M.created_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.client_name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["€",(M.total_amount||0).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["€",(M.amount||0).toFixed(2)," + €",(M.tax_amount||0).toFixed(2)," tax"]})]}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(M.status)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:`text-sm ${E(M.due_date,M.status)?"text-red-600 font-medium":"text-gray-900"}`,children:new Date(M.due_date).toLocaleDateString()}),M.paid_date&&n.jsxs("div",{className:"text-sm text-green-600",children:["Paid ",new Date(M.paid_date).toLocaleDateString()]})]}),"                      ",n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["                        ",n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g(M.id),className:"text-blue-600 hover:text-blue-900",title:"View",children:n.jsx(Xn,{size:16})}),"                          ",n.jsx("button",{onClick:()=>I(M.id,M.status==="draft"?"sent":M.status==="sent"?"paid":"draft"),className:"text-green-600 hover:text-green-900",title:"Change Status",children:n.jsx(Ha,{size:16})}),n.jsx("button",{onClick:()=>b({id:M.id,total:M.total_amount||0,currency:"EUR"}),className:"text-purple-600 hover:text-purple-900",title:"Track Payments",children:n.jsx(tc,{size:16})}),n.jsx("button",{onClick:()=>B(M.id),className:"text-indigo-600 hover:text-indigo-900",title:"Download PDF",children:n.jsx(Ls,{size:16})}),M.status==="draft"&&n.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Send",children:n.jsx(Bo,{size:16})}),n.jsx("button",{onClick:()=>N(M.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(js,{size:16})})]})]})]},M.id))})]})}):n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No invoices found matching your criteria."})})})]}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>j&&L(j),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})}),"      ",v&&n.jsx(P9e,{invoiceId:v.id,invoiceTotal:v.total,currency:v.currency,isOpen:!!v,onClose:()=>b(null),onPaymentAdded:()=>{A()}}),x&&n.jsx(C9e,{invoiceId:x,isOpen:!!x,onClose:()=>g(null)}),n.jsx(S9e,{isOpen:p,onClose:()=>f(!1),onSuccess:()=>{A(),f(!1)}})]})},CD=()=>{const{t:e}=Jh(),[t,r]=_.useState([]),[s,a]=_.useState([]),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState("created_at"),[h,p]=_.useState("desc"),[f,x]=_.useState("grid"),[g,v]=_.useState(!0),[b,j]=_.useState(null),[N,A]=_.useState(new Set),[S,L]=_.useState(!1),[I,k]=_.useState(!1),[E,B]=_.useState(null),[C,O]=_.useState({}),[M,D]=_.useState(0),[W,z]=_.useState(""),[G,V]=_.useState(null);_.useEffect(()=>{Y()},[]),_.useEffect(()=>{ie()},[t,i,l,u,h]);const Y=async()=>{try{v(!0),j(null);const{data:ne,error:he}=await Dt.from("digital_files").select("*").order("created_at",{ascending:!1});if(he)throw new Error(`Database error: ${he.message}. Please ensure the 'digital_files' table exists.`);r(ne||[])}catch(ne){j(ne.message||"Failed to load files. Please check database setup.")}finally{v(!1)}},ie=_.useCallback(()=>{let ne=[...t];if(i.trim()){const he=i.toLowerCase();ne=ne.filter(ke=>ke.original_filename.toLowerCase().includes(he)||ke.keywords?.some(je=>je.toLowerCase().includes(he))||ke.description?.toLowerCase().includes(he))}l!=="all"&&(ne=ne.filter(he=>he.category===l)),ne.sort((he,ke)=>{let je,Q;switch(u){case"filename":je=he.original_filename.toLowerCase(),Q=ke.original_filename.toLowerCase();break;case"size":je=he.file_size,Q=ke.file_size;break;case"rating":je=he.rating||0,Q=ke.rating||0;break;case"views":je=he.view_count||0,Q=ke.view_count||0;break;default:je=new Date(he.created_at).getTime(),Q=new Date(ke.created_at).getTime()}return h==="asc"?je<Q?-1:je>Q?1:0:je>Q?-1:je<Q?1:0}),a(ne)},[t,i,l,u,h]),q=async ne=>{if(ne.length){if(!W.trim()){j("Please enter a folder name to organize your files.");return}try{D(0);const{data:{user:he},error:ke}=await Dt.auth.getUser();if(ke||!he){j("Authentication required for file upload.");return}const je=ne.length;let Q=0;const ze=W.trim().replace(/[^a-zA-Z0-9\-_\s]/g,"").replace(/\s+/g,"_");for(const Ye of Array.from(ne)){const Ge=`${Date.now()}-${Ye.name}`,Ve=`${ze}/${Ge}`,{data:J,error:de}=await Dt.storage.from("digital-files").upload(Ve,Ye);if(de)throw new Error(`Storage upload failed: ${de.message}. Please ensure the 'digital-files' storage bucket exists.`);const Se=await R(Ye),De={filename:Ge,original_filename:Ye.name,file_size:Ye.size,mime_type:Ye.type,file_path:J.path,category:K(Ye.type),is_public:!1,uploaded_by:he.id,location:ze,...Se},{error:He}=await Dt.from("digital_files").insert(De);if(He)throw new Error(`Database error: ${He.message}. Please ensure the 'digital_files' table exists.`);Q++,D(Q/je*100)}await Y(),L(!1),D(0),z(""),V(null)}catch(he){j(he.message||"Failed to upload files. Please try again.")}}},R=async ne=>ne.type.startsWith("image/")?new Promise(he=>{const ke=new Image;ke.onload=()=>{he({width:ke.width,height:ke.height})},ke.onerror=()=>he({}),ke.src=URL.createObjectURL(ne)}):{},K=ne=>ne.startsWith("image/")?"image":ne.startsWith("video/")?"video":ne.startsWith("audio/")?"audio":ne.includes("pdf")?"document":ne.includes("zip")||ne.includes("rar")?"archive":"other",Z=async(ne,he)=>{try{const{error:ke}=await Dt.from("digital_files").update({description:he.description,keywords:he.keywords,copyright:he.copyright,rating:he.rating}).eq("id",ne);if(ke)throw ke;await Y(),k(!1)}catch{j("Failed to update metadata. Please try again.")}},se=ne=>{const he=new Set(N);he.has(ne)?he.delete(ne):he.add(ne),A(he)},ue=()=>{N.size===s.length?A(new Set):A(new Set(s.map(ne=>ne.id)))},ae=async ne=>{if(N.size!==0)try{const he=Array.from(N);switch(ne){case"delete":for(const ke of he){const je=t.find(Q=>Q.id===ke);je&&(await Dt.storage.from("digital-files").remove([je.file_path]),await Dt.from("digital_files").delete().eq("id",ke))}break;case"favorite":await Dt.from("digital_files").update({is_favorite:!0}).in("id",he);break;case"unfavorite":await Dt.from("digital_files").update({is_favorite:!1}).in("id",he);break;case"public":await Dt.from("digital_files").update({is_public:!0}).in("id",he);break;case"private":await Dt.from("digital_files").update({is_public:!1}).in("id",he);break}await Y(),A(new Set)}catch{j("Failed to perform action. Please try again.")}},xe=(ne,he=20)=>ne.startsWith("image/")?n.jsx(Va,{size:he}):ne.startsWith("video/")?n.jsx(Wee,{size:he}):ne.startsWith("audio/")?n.jsx(wee,{size:he}):ne.includes("pdf")?n.jsx(cs,{size:he}):ne.includes("zip")||ne.includes("rar")?n.jsx(dS,{size:he}):n.jsx(JJ,{size:he}),X=ne=>{if(ne===0)return"0 Bytes";const he=1024,ke=["Bytes","KB","MB","GB"],je=Math.floor(Math.log(ne)/Math.log(he));return parseFloat((ne/Math.pow(he,je)).toFixed(2))+" "+ke[je]},me=(ne=0)=>n.jsx("div",{className:"flex",children:[1,2,3,4,5].map(he=>n.jsx(Do,{size:16,className:`${he<=ne?"text-yellow-400 fill-current":"text-gray-300"}`},he))});return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.digitalFiles")}),n.jsx("p",{className:"text-gray-600",children:"Professional digital asset management with IPTC metadata support"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>L(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),e("file.upload")]}),n.jsx("button",{onClick:()=>x(f==="grid"?"list":"grid"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg flex items-center",children:f==="grid"?n.jsx(pF,{size:20}):n.jsx(hF,{size:20})})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Wa,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",placeholder:e("action.search")+" files...",value:i,onChange:ne=>o(ne.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("select",{value:l,onChange:ne=>c(ne.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsxs("option",{value:"all",children:[e("common.all")," Categories"]}),n.jsx("option",{value:"image",children:"Images"}),n.jsx("option",{value:"video",children:"Videos"}),n.jsx("option",{value:"document",children:"Documents"}),n.jsx("option",{value:"audio",children:"Audio"}),n.jsx("option",{value:"archive",children:"Archives"}),n.jsx("option",{value:"other",children:"Other"})]}),n.jsxs("select",{value:u,onChange:ne=>d(ne.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsx("option",{value:"created_at",children:e("common.date")}),n.jsx("option",{value:"filename",children:"Filename"}),n.jsx("option",{value:"size",children:"File Size"}),n.jsx("option",{value:"rating",children:"Rating"}),n.jsx("option",{value:"views",children:"Views"})]}),n.jsxs("button",{onClick:()=>p(h==="asc"?"desc":"asc"),className:"flex items-center justify-center border border-gray-300 rounded-md px-3 py-2 hover:bg-gray-50",children:[h==="asc"?n.jsx(qJ,{size:16}):n.jsx(zJ,{size:16}),n.jsx("span",{className:"ml-2",children:h==="asc"?"Ascending":"Descending"})]})]})}),N.size>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800 font-medium",children:[N.size," file",N.size!==1?"s":""," selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>ae("favorite"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(Ln,{size:14,className:"mr-1"}),"Favorite"]}),n.jsxs("button",{onClick:()=>ae("public"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(Lh,{size:14,className:"mr-1"}),"Make Public"]}),n.jsxs("button",{onClick:()=>ae("delete"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm flex items-center",children:[n.jsx(js,{size:14,className:"mr-1"}),e("action.delete")]})]})]})}),b&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:b})]}),g?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:e("message.loading")})]}):s.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center mb-4",children:n.jsxs("button",{onClick:ue,className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[N.size===s.length?n.jsx(hS,{size:16,className:"mr-2"}):n.jsx(jP,{size:16,className:"mr-2"}),"Select All (",s.length,")"]})}),f==="grid"?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:s.map(ne=>n.jsx("div",{className:`bg-white rounded-lg shadow-sm border-2 transition-all duration-200 hover:shadow-md ${N.has(ne.id)?"border-purple-500 bg-purple-50":"border-gray-200"}`,children:n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("button",{onClick:()=>se(ne.id),className:"p-1 hover:bg-gray-100 rounded",children:N.has(ne.id)?n.jsx(hS,{size:16,className:"text-purple-600"}):n.jsx(jP,{size:16,className:"text-gray-400"})}),ne.is_favorite&&n.jsx(Ln,{size:16,className:"text-red-500 fill-current"})]}),n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:ne.mime_type.startsWith("image/")?n.jsx("img",{src:`undefined/storage/v1/object/public/digital-files/${ne.file_path}`,alt:ne.original_filename,className:"w-full h-full object-cover",loading:"lazy"}):n.jsx("div",{className:"text-gray-400",children:xe(ne.mime_type,48)})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"text-sm font-medium truncate",title:ne.original_filename,children:ne.original_filename}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsx("span",{children:X(ne.file_size)}),ne.width&&ne.height&&n.jsxs("span",{children:[ne.width,"×",ne.height]})]}),ne.rating&&n.jsx("div",{className:"flex items-center",children:me(ne.rating)}),n.jsxs("div",{className:"flex space-x-1 pt-2",children:[n.jsxs("button",{onClick:()=>{},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs flex items-center justify-center",children:[n.jsx(Xn,{size:12,className:"mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>{B(ne),k(!0)},className:"flex-1 bg-purple-100 hover:bg-purple-200 text-purple-700 px-2 py-1 rounded text-xs flex items-center justify-center",children:[n.jsx(vP,{size:12,className:"mr-1"}),"IPTC"]})]})]})]})},ne.id))}):n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:N.size===s.length,onChange:ue,className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dimensions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Camera"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(ne=>n.jsxs("tr",{className:N.has(ne.id)?"bg-purple-50":"",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:N.has(ne.id),onChange:()=>se(ne.id),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:ne.mime_type.startsWith("image/")?n.jsx("img",{src:`undefined/storage/v1/object/public/digital-files/${ne.file_path}`,alt:ne.original_filename,className:"h-10 w-10 object-cover rounded"}):n.jsx("div",{className:"h-10 w-10 bg-gray-100 rounded flex items-center justify-center",children:xe(ne.mime_type,24)})}),n.jsxs("div",{className:"ml-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900 flex items-center",children:[ne.original_filename,ne.is_favorite&&n.jsx(Ln,{size:14,className:"ml-2 text-red-500 fill-current"})]}),n.jsx("div",{className:"text-sm text-gray-500",children:new Date(ne.created_at).toLocaleDateString()})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X(ne.file_size)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ne.width&&ne.height?`${ne.width}×${ne.height}`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne.rating?me(ne.rating):"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ne.camera_make&&ne.camera_model?`${ne.camera_make} ${ne.camera_model}`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{},className:"text-purple-600 hover:text-purple-900",children:n.jsx(Xn,{size:16})}),n.jsx("button",{onClick:()=>{B(ne),k(!0)},className:"text-blue-600 hover:text-blue-900",children:n.jsx(vP,{size:16})}),n.jsx("button",{onClick:()=>{},className:"text-green-600 hover:text-green-900",children:n.jsx(Ls,{size:16})})]})})]},ne.id))})]})})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx(cs,{size:48})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:e("message.noData")}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your first digital asset to get started."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>L(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Ir,{className:"-ml-1 mr-2 h-5 w-5"}),e("file.upload")]})})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e("file.upload")}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ree,{className:"inline h-4 w-4 mr-1"}),"Folder Name *"]}),n.jsx("input",{type:"text",value:W,onChange:ne=>z(ne.target.value),placeholder:"Enter folder name (e.g., 'Client Photos', 'Wedding 2024')",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 text-sm",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Files will be organized in this folder for better management"})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,onChange:ne=>ne.target.files&&V(ne.target.files),className:"hidden",id:"file-upload",accept:"image/*,video/*,.pdf,.doc,.docx,.txt"}),n.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[n.jsx(Ka,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload or drag and drop"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Images, videos, documents up to 50MB"})]})]}),G&&G.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected files (",G.length,"):"]}),n.jsx("div",{className:"max-h-24 overflow-y-auto text-xs text-gray-600",children:Array.from(G).map((ne,he)=>n.jsxs("div",{className:"py-1",children:[ne.name," (",(ne.size/1024/1024).toFixed(1)," MB)"]},he))})]}),M>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Uploading... ",M.toFixed(0),"%"]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>{L(!1),z(""),V(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),G&&G.length>0&&n.jsxs("button",{onClick:()=>q(G),disabled:!W.trim()||M>0,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center",children:[n.jsx(Ka,{className:"h-4 w-4 mr-1"}),'Upload to "',W.trim(),'"']})]})]})}),I&&E&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["IPTC Metadata - ",E.original_filename]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Basic Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),n.jsx("input",{type:"text",value:C.title||"",onChange:ne=>O({...C,title:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{rows:3,value:C.description||"",onChange:ne=>O({...C,description:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),n.jsx("input",{type:"text",placeholder:"Separate with commas",value:C.keywords?.join(", ")||"",onChange:ne=>O({...C,keywords:ne.target.value.split(",").map(he=>he.trim()).filter(he=>he)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Copyright"}),n.jsx("input",{type:"text",value:C.copyright||"",onChange:ne=>O({...C,copyright:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rating"}),n.jsxs("select",{value:C.rating||0,onChange:ne=>O({...C,rating:parseInt(ne.target.value)}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",children:[n.jsx("option",{value:0,children:"No Rating"}),n.jsx("option",{value:1,children:"1 Star"}),n.jsx("option",{value:2,children:"2 Stars"}),n.jsx("option",{value:3,children:"3 Stars"}),n.jsx("option",{value:4,children:"4 Stars"}),n.jsx("option",{value:5,children:"5 Stars"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Location Information"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),n.jsx("input",{type:"text",value:C.location||"",onChange:ne=>O({...C,location:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),n.jsx("input",{type:"text",value:C.city||"",onChange:ne=>O({...C,city:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State/Province"}),n.jsx("input",{type:"text",value:C.state||"",onChange:ne=>O({...C,state:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),n.jsx("input",{type:"text",value:C.country||"",onChange:ne=>O({...C,country:ne.target.value}),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]})]})]})]}),E.camera_make&&n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Camera Information"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[E.camera_make&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Camera:"}),n.jsxs("div",{className:"font-medium",children:[E.camera_make," ",E.camera_model]})]}),E.lens_model&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Lens:"}),n.jsx("div",{className:"font-medium",children:E.lens_model})]}),E.focal_length&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Focal Length:"}),n.jsx("div",{className:"font-medium",children:E.focal_length})]}),E.aperture&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Aperture:"}),n.jsx("div",{className:"font-medium",children:E.aperture})]}),E.shutter_speed&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Shutter:"}),n.jsx("div",{className:"font-medium",children:E.shutter_speed})]}),E.iso&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"ISO:"}),n.jsx("div",{className:"font-medium",children:E.iso})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),n.jsxs("button",{onClick:()=>Z(E.id,C),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg",children:[e("action.save")," Metadata"]})]})]})})]})})};async function T9e(e){const{data:t,error:r}=await Dt.from("email_campaigns").insert([e]).select().single();if(r)throw r;return t}async function O9e(e,t){const{data:r,error:s}=await Dt.from("email_campaigns").update(t).eq("id",e).select().single();if(s)throw s;return r}async function L9e(e){const{data:t,error:r}=await Dt.from("email_sequences").insert([e]).select().single();if(r)throw r;return t}async function I9e(){const{data:e,error:t}=await Dt.from("email_sequences").select("*, emails:sequence_emails(*)").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function M9e(){const{data:e,error:t}=await Dt.from("email_segments").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function D9e(e){let t=Dt.from("email_templates").select("*");const{data:r,error:s}=await t.order("created_at",{ascending:!1});if(s)throw s;return r||[]}async function R9e(e="month"){const t=await fetch(`/api/email/analytics/overall?period=${e}`);if(!t.ok)throw new Error("Failed to fetch overall analytics");return t.json()}async function F9e(e){const t=await fetch("/api/email/ai/insights");if(!t.ok)throw new Error("Failed to fetch AI insights");return t.json()}async function $9e(e){const t=await fetch("/api/email/ai/recommendations");if(!t.ok)throw new Error("Failed to fetch AI recommendations");return t.json()}async function B9e(e,t){const r=await fetch("/api/email/ai/subject-lines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,audience:t})});if(!r.ok)throw new Error("Failed to generate subject lines");return(await r.json()).suggestions}async function z9e(e){const t=await fetch(`/api/email/ai/predict-engagement/${e}`);if(!t.ok)throw new Error("Failed to predict engagement");return t.json()}const U9e=({campaign:e,onSave:t,onCancel:r})=>{const[s,a]=_.useState("content"),[i,o]=_.useState({name:"",type:"broadcast",subject:"",preview_text:"",content:"",sender_name:"New Age Fotografie",sender_email:"info@newagefotografie.com",reply_to:"info@newagefotografie.com",status:"draft",segments:[],tags_include:[],tags_exclude:[],ab_test:{enabled:!1,test_type:"subject",variants:[],winner_criteria:"open_rate",test_duration_hours:24,traffic_split:50},send_time_optimization:!1,frequency_capping:{enabled:!1,max_emails_per_day:1,max_emails_per_week:3,max_emails_per_month:12,respect_user_preferences:!0},deliverability_settings:{use_dedicated_ip:!1,ip_warming:!1,domain_authentication:{spf:!0,dkim:!0,dmarc:!0},reputation_monitoring:!0,bounce_handling:"automatic",complaint_handling:"automatic"},compliance_settings:{gdpr_compliant:!0,can_spam_compliant:!0,auto_unsubscribe_link:!0,subscription_preferences:!0,data_retention_days:365,consent_tracking:!0},...e}),[l,c]=_.useState([]),[u,d]=_.useState([]),[h,p]=_.useState([]),[f,x]=_.useState(null),[g,v]=_.useState(!1),[b,j]=_.useState(!1);_.useEffect(()=>{N()},[]);const N=async()=>{try{v(!0);const[D,W]=await Promise.all([D9e(),M9e()]);c(D),d(W)}catch{}finally{v(!1)}},A=async()=>{if(i.content)try{const D=await B9e(i.content,"photography clients");p(D)}catch{}},S=async()=>{if(i.id)try{const D=await z9e(i.id);x(D)}catch{}},L=async(D=!1)=>{try{j(!0);const W={...i,status:D?"sending":i.status,updated_at:new Date().toISOString()};let z;e?.id?z=await O9e(e.id,W):z=await T9e({...W,created_at:new Date().toISOString()}),t(z)}catch{}finally{j(!1)}},I=D=>{o(W=>({...W,...D}))},k=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),n.jsx("input",{type:"text",value:i.name,onChange:D=>I({name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter campaign name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Type"}),n.jsxs("select",{value:i.type,onChange:D=>I({type:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"broadcast",children:"Broadcast"}),n.jsx("option",{value:"drip",children:"Drip Campaign"}),n.jsx("option",{value:"trigger",children:"Trigger-based"}),n.jsx("option",{value:"rss",children:"RSS Campaign"}),n.jsx("option",{value:"transactional",children:"Transactional"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subject Line *"}),n.jsxs("button",{onClick:A,className:"flex items-center text-sm text-purple-600 hover:text-purple-700",children:[n.jsx($g,{size:16,className:"mr-1"}),"AI Suggestions"]})]}),n.jsx("input",{type:"text",value:i.subject,onChange:D=>I({subject:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter subject line"}),h.length>0&&n.jsxs("div",{className:"mt-2 p-3 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-purple-800 mb-2",children:"AI Suggestions:"}),n.jsx("div",{className:"space-y-1",children:h.map((D,W)=>n.jsx("button",{onClick:()=>I({subject:D}),className:"block w-full text-left text-sm text-purple-700 hover:text-purple-900 hover:bg-purple-100 px-2 py-1 rounded",children:D},W))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Text"}),n.jsx("input",{type:"text",value:i.preview_text,onChange:D=>I({preview_text:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Text shown in email preview"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Template"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.slice(0,6).map(D=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:border-purple-500 hover:shadow-md transition-all",onClick:()=>I({content:D.html_content,design_template:D.id}),children:[n.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-2 flex items-center justify-center",children:n.jsx(Mo,{size:24,className:"text-gray-400"})}),n.jsx("h4",{className:"font-medium text-sm",children:D.name}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:D.category})]},D.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Content"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(cF,{size:16,className:"mr-1"}),"HTML"]}),n.jsxs("button",{className:"flex items-center text-sm text-gray-600 hover:text-gray-800",children:[n.jsx(Xn,{size:16,className:"mr-1"}),"Preview"]})]})]}),n.jsx("textarea",{value:i.content,onChange:D=>I({content:D.target.value}),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 font-mono text-sm",placeholder:"Enter your email HTML content..."})]})]}),E=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(x6,{size:20,className:"text-blue-600 mr-2"}),n.jsx("h3",{className:"font-medium text-blue-900",children:"Audience Targeting"})]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Define who should receive this campaign. You can combine segments, tags, and custom filters."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Segments"}),n.jsx("div",{className:"space-y-2",children:u.map(D=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:i.segments?.includes(D.id)||!1,onChange:W=>{const z=i.segments||[],G=W.target.checked?[...z,D.id]:z.filter(V=>V!==D.id);I({segments:G})},className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:D.name}),n.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",D.subscriber_count," subscribers)"]}),n.jsx("p",{className:"text-xs text-gray-500",children:D.description})]})]},D.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Include Tags"}),n.jsx("input",{type:"text",placeholder:"Add tags to include (comma-separated)",value:i.tags_include?.join(", ")||"",onChange:D=>I({tags_include:D.target.value.split(",").map(W=>W.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Tags"}),n.jsx("input",{type:"text",placeholder:"Add tags to exclude (comma-separated)",value:i.tags_exclude?.join(", ")||"",onChange:D=>I({tags_exclude:D.target.value.split(",").map(W=>W.trim()).filter(Boolean)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Estimated Audience"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Based on your targeting criteria"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"2,847"}),n.jsx("div",{className:"text-sm text-gray-500",children:"subscribers"})]})]})})]}),B=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sender Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Name"}),n.jsx("input",{type:"text",value:i.sender_name,onChange:D=>I({sender_name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sender Email"}),n.jsx("input",{type:"email",value:i.sender_email,onChange:D=>I({sender_email:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Send Time Optimization"}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:i.send_time_optimization,onChange:D=>I({send_time_optimization:D.target.checked}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Use AI-powered send time optimization"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Automatically send emails at the optimal time for each subscriber"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Frequency Capping"}),n.jsxs("label",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.frequency_capping?.enabled,onChange:D=>I({frequency_capping:{...i.frequency_capping,enabled:D.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsx("span",{className:"font-medium",children:"Enable frequency capping"})]}),i.frequency_capping?.enabled&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 ml-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per day"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_day,onChange:D=>I({frequency_capping:{...i.frequency_capping,max_emails_per_day:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per week"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_week,onChange:D=>I({frequency_capping:{...i.frequency_capping,max_emails_per_week:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max per month"}),n.jsx("input",{type:"number",value:i.frequency_capping.max_emails_per_month,onChange:D=>I({frequency_capping:{...i.frequency_capping,max_emails_per_month:parseInt(D.target.value)}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),C=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"A/B Testing"}),n.jsxs("label",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",checked:i.ab_test?.enabled,onChange:D=>I({ab_test:{...i.ab_test,enabled:D.target.checked}}),className:"mr-3 rounded border-gray-300 focus:ring-purple-500"}),n.jsx("span",{className:"font-medium",children:"Enable A/B testing"})]}),i.ab_test?.enabled&&n.jsx("div",{className:"space-y-4 ml-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Test Type"}),n.jsxs("select",{value:i.ab_test.test_type,onChange:D=>I({ab_test:{...i.ab_test,test_type:D.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"subject",children:"Subject Line"}),n.jsx("option",{value:"content",children:"Email Content"}),n.jsx("option",{value:"send_time",children:"Send Time"}),n.jsx("option",{value:"sender",children:"Sender Name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Winner Criteria"}),n.jsxs("select",{value:i.ab_test.winner_criteria,onChange:D=>I({ab_test:{...i.ab_test,winner_criteria:D.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"open_rate",children:"Open Rate"}),n.jsx("option",{value:"click_rate",children:"Click Rate"}),n.jsx("option",{value:"conversion_rate",children:"Conversion Rate"})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Prediction"}),n.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx($g,{size:16,className:"mr-2"}),"Predict Engagement"]}),f&&n.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"AI Predictions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_open_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Open Rate"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(f.predicted_click_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-purple-700",children:"Predicted Click Rate"})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-purple-600",children:["Confidence: ",(f.confidence*100).toFixed(0),"%"]})]})]})]}),O=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Hr,{size:20,className:"text-green-600 mr-2"}),n.jsx("h3",{className:"font-medium text-green-900",children:"Ready to Send!"})]}),n.jsx("p",{className:"text-sm text-green-700",children:"Your campaign has been configured and is ready to be sent."})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Summary"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Campaign Name:"}),n.jsx("span",{className:"font-medium",children:i.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subject Line:"}),n.jsx("span",{className:"font-medium",children:i.subject})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Campaign Type:"}),n.jsx("span",{className:"font-medium capitalize",children:i.type})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Estimated Recipients:"}),n.jsx("span",{className:"font-medium",children:"2,847 subscribers"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sender:"}),n.jsxs("span",{className:"font-medium",children:[i.sender_name," <",i.sender_email,">"]})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pre-send Checklist"}),n.jsx("div",{className:"space-y-3",children:[{item:"Subject line is compelling and under 50 characters",checked:!0},{item:"Email content includes unsubscribe link",checked:!0},{item:"Images have alt text for accessibility",checked:!1},{item:"Links are working and properly tracked",checked:!0},{item:"Sender information is correct",checked:!0},{item:"Audience targeting is configured",checked:!0}].map((D,W)=>n.jsxs("div",{className:"flex items-center",children:[D.checked?n.jsx(Hr,{size:16,className:"text-green-500 mr-3"}):n.jsx(ln,{size:16,className:"text-yellow-500 mr-3"}),n.jsx("span",{className:D.checked?"text-gray-900":"text-yellow-700",children:D.item})]},W))})]})]}),M=[{id:"content",label:"Content",icon:Mo},{id:"audience",label:"Audience",icon:Qn},{id:"settings",label:"Settings",icon:Ga},{id:"test",label:"Test & Optimize",icon:bF},{id:"review",label:"Review & Send",icon:Bo}];return g?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"})}):n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Campaign":"Create New Campaign"}),n.jsx("p",{className:"text-gray-600",children:"Build and send professional email campaigns with advanced features"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:()=>L(!1),disabled:b,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[b?n.jsx(Xr,{size:16,className:"mr-2 animate-spin"}):n.jsx(pl,{size:16,className:"mr-2"}),"Save Draft"]}),n.jsxs("button",{onClick:()=>L(!0),disabled:b,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[b?n.jsx(Xr,{size:16,className:"mr-2 animate-spin"}):n.jsx(Bo,{size:16,className:"mr-2"}),"Send Campaign"]})]})]}),n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"flex space-x-8",children:M.map(D=>{const W=D.icon;return n.jsxs("button",{onClick:()=>a(D.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${s===D.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(W,{size:16,className:"mr-2"}),D.label]},D.id)})})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s==="content"&&k(),s==="audience"&&E(),s==="settings"&&B(),s==="test"&&C(),s==="review"&&O()]})]})},q9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(!0);_.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await I9e();t(f)}catch{}finally{l(!1)}},u=async f=>{try{const x=await L9e(f);t(g=>[x,...g]),i(!1)}catch{}},d=({sequence:f})=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status}),n.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ga,{size:16})})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.emails.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Emails"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Conversion"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${f.trigger_type==="signup"?"bg-blue-500":f.trigger_type==="purchase"?"bg-green-500":f.trigger_type==="behavior"?"bg-purple-500":"bg-gray-400"}`}),"Trigger: ",f.trigger_type]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>s(f),className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ha,{size:16})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:n.jsx(Ku,{size:16})}),f.status==="active"?n.jsx("button",{className:"text-yellow-600 hover:text-yellow-800",children:n.jsx(Nee,{size:16})}):n.jsx("button",{className:"text-green-600 hover:text-green-800",children:n.jsx(bP,{size:16})})]})]})]}),h=({sequence:f})=>{const[x,g]=_.useState(f.emails||[]),[v,b]=_.useState(!1),[j,N]=_.useState(null),A=()=>{const L={sequence_id:f.id,order:x.length+1,name:`Email ${x.length+1}`,subject:"",content:"",delay_days:x.length===0?0:1,delay_hours:0,status:"active",personalization:{dynamic_content:[],conditional_blocks:[],product_recommendations:!1,behavioral_triggers:[]},open_rate:0,click_rate:0,conversion_rate:0};N(L),b(!0)},S=({email:L,index:I})=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600",children:L.subject})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{N(L),b(!0)},className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ha,{size:14})}),n.jsx("button",{className:"text-red-600 hover:text-red-800",children:n.jsx(js,{size:14})})]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Os,{size:14,className:"mr-1"}),L.delay_days>0?`${L.delay_days} days`:"Immediate",L.delay_hours>0&&` ${L.delay_hours}h`]}),n.jsxs("div",{className:"flex space-x-4 text-xs",children:[n.jsxs("span",{className:"text-blue-600",children:[(L.open_rate*100).toFixed(1),"% opens"]}),n.jsxs("span",{className:"text-green-600",children:[(L.click_rate*100).toFixed(1),"% clicks"]})]})]}),I<x.length-1&&n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(UJ,{size:20,className:"text-gray-400"})})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f.name}),n.jsx("p",{className:"text-gray-600",children:f.description})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[n.jsx(ml,{size:16,className:"mr-2"}),"Analytics"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx($g,{size:16,className:"mr-2"}),"AI Optimize"]})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Emails"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.subscribers_count}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Subscribers"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(f.completion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Completion Rate"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(f.conversion_rate*100).toFixed(1),"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Conversion Rate"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Sequence Flow"}),n.jsxs("button",{onClick:A,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Add Email"]})]}),x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(on,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No emails in sequence"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Start building your email sequence by adding your first email."}),n.jsxs("button",{onClick:A,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Add First Email"]})]}):n.jsx("div",{className:"space-y-4",children:x.map((L,I)=>n.jsx(S,{email:L,index:I},L.id))})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Trigger Settings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"signup",children:"User Signup"}),n.jsx("option",{value:"purchase",children:"Purchase Made"}),n.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),n.jsx("option",{value:"date",children:"Date-based"}),n.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Conditions"}),n.jsx("button",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-left text-gray-500 hover:bg-gray-50",children:"Configure conditions..."})]})]})]})]})},p=()=>{const[f,x]=_.useState({name:"",description:"",trigger_type:"signup",status:"draft"}),g=v=>{v.preventDefault(),u({...f,emails:[],subscribers_count:0,completion_rate:0,conversion_rate:0,tags:[],trigger_conditions:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Email Sequence"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sequence Name *"}),n.jsx("input",{type:"text",value:f.name,onChange:v=>x({...f,name:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Welcome Series",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:f.description,onChange:v=>x({...f,description:v.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe the purpose of this sequence..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trigger Type"}),n.jsxs("select",{value:f.trigger_type,onChange:v=>x({...f,trigger_type:v.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"signup",children:"User Signup"}),n.jsx("option",{value:"purchase",children:"Purchase Made"}),n.jsx("option",{value:"behavior",children:"Behavioral Trigger"}),n.jsx("option",{value:"date",children:"Date-based"}),n.jsx("option",{value:"manual",children:"Manual Enrollment"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Create Sequence"})]})]})]})})};return r?n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-gray-600 hover:text-gray-800 mb-6",children:[n.jsx(Om,{size:16,className:"mr-2 rotate-180"}),"Back to Sequences"]}),n.jsx(h,{sequence:r})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Sequences"}),n.jsx("p",{className:"text-gray-600",children:"Create automated email sequences that nurture leads and drive conversions"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Create Sequence"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Sequences"})]}),n.jsx(Ih,{className:"h-8 w-8 text-purple-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(f=>f.status==="active").length}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Sequences"})]}),n.jsx(bP,{className:"h-8 w-8 text-green-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.reduce((f,x)=>f+x.subscribers_count,0).toLocaleString()}),n.jsx("div",{className:"text-sm text-gray-500",children:"Total Subscribers"})]}),n.jsx(Qn,{className:"h-8 w-8 text-blue-600"})]})}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.length>0?(e.reduce((f,x)=>f+x.conversion_rate,0)/e.length*100).toFixed(1):0,"%"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Conversion"})]}),n.jsx(Fs,{className:"h-8 w-8 text-purple-600"})]})})]}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-white border border-gray-200 rounded-lg",children:[n.jsx(on,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No email sequences yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first automated email sequence to nurture leads and convert customers."}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Create Your First Sequence"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(f=>n.jsx(d,{sequence:f},f.id))}),a&&n.jsx(p,{})]})},V9e=()=>{const[e,t]=_.useState(null),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState("month"),[c,u]=_.useState(!0);_.useEffect(()=>{d()},[o]);const d=async()=>{try{u(!0);const[A,S,L]=await Promise.all([R9e(o),F9e(),$9e()]);t(A),s(S),i(L)}catch{}finally{u(!1)}},h=A=>A>=1e6?`${(A/1e6).toFixed(1)}M`:A>=1e3?`${(A/1e3).toFixed(1)}K`:A.toString(),p=A=>`${(A*100).toFixed(1)}%`,f=A=>A>0?"text-green-600":A<0?"text-red-600":"text-gray-600",x=A=>A>0?n.jsx(Fs,{size:16,className:"text-green-600"}):A<0?n.jsx(wF,{size:16,className:"text-red-600"}):null,g=({title:A,value:S,change:L,icon:I,color:k})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:A}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("p",{className:`text-2xl font-bold ${k}`,children:S}),L!==void 0&&n.jsxs("div",{className:"flex items-center space-x-1",children:[x(L),n.jsxs("span",{className:`text-sm font-medium ${f(L)}`,children:[Math.abs(L).toFixed(1),"%"]})]})]})]}),n.jsx("div",{className:`p-3 rounded-full ${k.replace("text-","bg-").replace("600","100")}`,children:I})]})}),v=({insight:A})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`p-2 rounded-full ${A.impact==="high"?"bg-red-100":A.impact==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:n.jsx($g,{size:16,className:A.impact==="high"?"text-red-600":A.impact==="medium"?"text-yellow-600":"text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:A.title}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.impact==="high"?"bg-red-100 text-red-800":A.impact==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[A.impact," impact"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.description}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:A.type}),n.jsxs("span",{className:"text-xs text-gray-500",children:[(A.confidence*100).toFixed(0),"% confidence"]})]})]})]})}),b=({recommendation:A})=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:n.jsx(yP,{size:16,className:"text-purple-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:A.title}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.effort_level==="low"?"bg-green-100 text-green-800":A.effort_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[A.effort_level," effort"]})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.description}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx("span",{className:"text-xs text-purple-600 font-medium",children:A.expected_improvement}),n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:A.type})]})]})]})});if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(qh,{className:"h-8 w-8 text-purple-600 animate-spin"})});if(!e)return n.jsxs("div",{className:"text-center py-12",children:[n.jsx(on,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No analytics data available"}),n.jsx("p",{className:"text-gray-600",children:"Send some campaigns to see your email marketing analytics."})]});const j=[{name:"Desktop",value:45,color:"#8b5cf6"},{name:"Mobile",value:40,color:"#3b82f6"},{name:"Tablet",value:15,color:"#10b981"}],N=e.metrics.opens.slice(-7).map((A,S)=>({time:new Date(A.date).toLocaleDateString(),opens:A.value,clicks:e.metrics.clicks[S]?.value||0}));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Analytics"}),n.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into your email marketing performance"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"day",children:"Last 7 Days"}),n.jsx("option",{value:"week",children:"Last 4 Weeks"}),n.jsx("option",{value:"month",children:"Last 12 Months"}),n.jsx("option",{value:"quarter",children:"Last 4 Quarters"})]}),n.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[n.jsx(Jm,{size:16,className:"mr-2"}),"Filter"]}),n.jsxs("button",{className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ls,{size:16,className:"mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(g,{title:"Total Sent",value:h(e.metrics.sent.reduce((A,S)=>A+S.value,0)),change:5.2,icon:n.jsx(on,{size:20}),color:"text-blue-600"}),n.jsx(g,{title:"Open Rate",value:p(.24),change:-2.1,icon:n.jsx(Xn,{size:20}),color:"text-green-600"}),n.jsx(g,{title:"Click Rate",value:p(.035),change:8.7,icon:n.jsx(bee,{size:20}),color:"text-purple-600"}),n.jsx(g,{title:"Unsubscribe Rate",value:p(.002),change:-12.5,icon:n.jsx(Vee,{size:20}),color:"text-red-600"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Opens & Clicks Trend"}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Opens"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Clicks"})]})]})]}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(gy,{data:N,children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"time"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Oi,{type:"monotone",dataKey:"opens",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),n.jsx(Oi,{type:"monotone",dataKey:"clicks",stackId:"1",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6})]})})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Breakdown"}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx(Gl,{width:"60%",height:200,children:n.jsxs(T3,{children:[n.jsx(uc,{data:j,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:j.map((A,S)=>n.jsx($x,{fill:A.color},`cell-${S}`))}),n.jsx(ta,{})]})}),n.jsx("div",{className:"space-y-3",children:j.map((A,S)=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A.color}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:A.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[A.value,"% of opens"]})]}),A.name==="Desktop"&&n.jsx(yee,{size:16,className:"text-gray-400"}),A.name==="Mobile"&&n.jsx(g6,{size:16,className:"text-gray-400"}),A.name==="Tablet"&&n.jsx(x6,{size:16,className:"text-gray-400"})]},A.name))})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Industry Comparison"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{metric:"Open Rate",your:"24.2%",industry:"21.8%",better:!0},{metric:"Click Rate",your:"3.5%",industry:"2.9%",better:!0},{metric:"Unsubscribe Rate",your:"0.2%",industry:"0.3%",better:!0}].map(A=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:A.metric}),n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A.your}),n.jsx("div",{className:"text-xs text-gray-500",children:"Your Average"})]}),n.jsx("div",{className:`text-sm font-medium ${A.better?"text-green-600":"text-red-600"}`,children:"vs"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-400",children:A.industry}),n.jsx("div",{className:"text-xs text-gray-500",children:"Industry Avg"})]})]})]},A.metric))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Insights"}),n.jsx($g,{className:"h-5 w-5 text-purple-600"})]}),n.jsx("div",{className:"space-y-4",children:r.slice(0,3).map((A,S)=>n.jsx(v,{insight:A},S))})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AI Recommendations"}),n.jsx(yP,{className:"h-5 w-5 text-purple-600"})]}),n.jsx("div",{className:"space-y-4",children:a.slice(0,3).map((A,S)=>n.jsx(b,{recommendation:A},S))})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Performing Campaigns"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",sent:2847,openRate:32.4,clickRate:5.8,revenue:"€1,240",date:"2024-06-15"},{name:"Wedding Season Announcement",sent:1923,openRate:28.7,clickRate:4.2,revenue:"€890",date:"2024-06-10"},{name:"Family Portrait Promotion",sent:3156,openRate:26.1,clickRate:3.9,revenue:"€1,567",date:"2024-06-05"}].map((A,S)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.sent.toLocaleString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[A.openRate,"%"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[A.clickRate,"%"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:A.revenue}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{size:14,className:"mr-1"}),new Date(A.date).toLocaleDateString()]})})]},S))})]})})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Best Send Times"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((A,S)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:A}),n.jsx("div",{className:"space-y-1",children:Array.from({length:24},(L,I)=>{const k=Math.random()*100;return n.jsx("div",{className:`h-2 w-full rounded ${k>80?"bg-green-500":k>60?"bg-yellow-500":k>40?"bg-orange-500":"bg-red-500"}`,title:`${I}:00 - ${k.toFixed(1)}% engagement`},I)})})]},A))}),n.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"High engagement (80%+)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Good (60-80%)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Average (40-60%)"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),n.jsx("span",{className:"text-gray-600",children:"Low (<40%)"})]})]})]})]})},PD=()=>{const[e,t]=_.useState("overview"),[r,s]=_.useState(!1),[a,i]=_.useState(null),o=()=>{i(null),s(!0)},l=f=>{s(!1)},c=[{id:"overview",label:"Overview",icon:ml},{id:"campaigns",label:"Campaigns",icon:on},{id:"sequences",label:"Sequences",icon:Ih},{id:"analytics",label:"Analytics",icon:Fs},{id:"templates",label:"Templates",icon:pS},{id:"subscribers",label:"Subscribers",icon:Qn}],u=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-8 text-white",children:n.jsxs("div",{className:"max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Advanced Email Marketing Suite"}),n.jsx("p",{className:"text-xl mb-6 text-purple-100",children:"Create, automate, and optimize email campaigns with AI-powered insights that exceed Mailchimp's capabilities."}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("button",{onClick:o,className:"flex items-center px-6 py-3 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium",children:[n.jsx(Ir,{size:20,className:"mr-2"}),"Create Campaign"]}),n.jsxs("button",{onClick:()=>t("sequences"),className:"flex items-center px-6 py-3 border border-white/20 text-white rounded-lg hover:bg-white/10 font-medium",children:[n.jsx(Ih,{size:20,className:"mr-2"}),"Build Sequence"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx($g,{size:24,className:"text-purple-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"AI-Powered Optimization"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Advanced AI analyzes your campaigns and provides actionable insights to improve performance."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Smart subject line generation"}),n.jsx("li",{children:"• Send time optimization"}),n.jsx("li",{children:"• Engagement predictions"}),n.jsx("li",{children:"• Content recommendations"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(x6,{size:24,className:"text-blue-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Advanced Segmentation"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create sophisticated audience segments with behavioral triggers and custom conditions."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Dynamic segment creation"}),n.jsx("li",{children:"• Behavioral targeting"}),n.jsx("li",{children:"• Custom field filtering"}),n.jsx("li",{children:"• Real-time updates"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Ih,{size:24,className:"text-green-600"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 ml-4",children:"Automation Workflows"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Build complex email sequences with conditional logic and multi-path journeys."}),n.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("li",{children:"• Multi-step sequences"}),n.jsx("li",{children:"• Conditional branching"}),n.jsx("li",{children:"• Trigger-based automation"}),n.jsx("li",{children:"• Performance tracking"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"24"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Active Campaigns"})]}),n.jsx(on,{className:"h-8 w-8 text-blue-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+12% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"8.7K"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subscribers"})]}),n.jsx(Qn,{className:"h-8 w-8 text-purple-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+8% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"32.4%"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Avg. Open Rate"})]}),n.jsx(Xn,{className:"h-8 w-8 text-green-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+15% from last month"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"€12.3K"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Revenue Generated"})]}),n.jsx(Fs,{className:"h-8 w-8 text-yellow-600"})]}),n.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[n.jsx(Fs,{size:16,className:"mr-1"}),n.jsx("span",{children:"+23% from last month"})]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Campaigns"}),n.jsx("button",{onClick:()=>t("campaigns"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View all campaigns →"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recipients"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{name:"Summer Photography Special",status:"sent",recipients:2847,openRate:32.4,clickRate:5.8},{name:"Wedding Season Newsletter",status:"sending",recipients:1923,openRate:0,clickRate:0},{name:"Family Portrait Promotion",status:"draft",recipients:0,openRate:0,clickRate:0}].map((f,x)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.status==="sent"?"bg-green-100 text-green-800":f.status==="sending"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:f.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.recipients>0?f.recipients.toLocaleString():"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.openRate>0?`${f.openRate}%`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.clickRate>0?`${f.clickRate}%`:"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(Xn,{size:16})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:n.jsx(Ga,{size:16})})]})})]},x))})]})})]})]}),d=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Campaigns"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage your email marketing campaigns"})]}),n.jsxs("button",{onClick:o,className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Create Campaign"]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[n.jsx(on,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Campaign management interface"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Advanced campaign list with filtering, sorting, and bulk actions."}),n.jsxs("button",{onClick:o,className:"flex items-center mx-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Create Your First Campaign"]})]})]}),h=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Templates"}),n.jsx("p",{className:"text-gray-600",children:"Professional templates for all your email marketing needs"})]}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Create Template"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[{name:"Welcome Series",category:"welcome",preview:"/api/placeholder/300/200"},{name:"Newsletter",category:"newsletter",preview:"/api/placeholder/300/200"},{name:"Promotional",category:"promotional",preview:"/api/placeholder/300/200"},{name:"Event Invitation",category:"event",preview:"/api/placeholder/300/200"},{name:"Follow-up",category:"follow_up",preview:"/api/placeholder/300/200"},{name:"Abandoned Cart",category:"cart",preview:"/api/placeholder/300/200"}].map((f,x)=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",children:[n.jsx("div",{className:"aspect-video bg-gray-100 rounded mb-3 flex items-center justify-center",children:n.jsx(pS,{size:24,className:"text-gray-400"})}),n.jsx("h4",{className:"font-medium text-gray-900",children:f.name}),n.jsx("p",{className:"text-sm text-gray-500 capitalize",children:f.category}),n.jsxs("div",{className:"mt-3 flex space-x-2",children:[n.jsx("button",{className:"flex-1 text-xs py-2 px-3 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Use Template"}),n.jsx("button",{className:"text-xs py-2 px-3 border border-gray-300 rounded hover:bg-gray-50",children:"Preview"})]})]},x))})]}),p=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Subscribers"}),n.jsx("p",{className:"text-gray-600",children:"Manage your email subscribers and segments"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Import Subscribers"}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),"Add Subscriber"]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[n.jsx(Qn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subscriber management interface"}),n.jsx("p",{className:"text-gray-600",children:"Advanced subscriber list with segmentation, tagging, and bulk operations."})]})]});return r?n.jsx(Rr,{children:n.jsx(U9e,{campaign:a||void 0,onSave:l,onCancel:()=>s(!1)})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-8",children:c.map(f=>{const x=f.icon;return n.jsxs("button",{onClick:()=>t(f.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${e===f.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(x,{size:16,className:"mr-2"}),f.label]},f.id)})})}),e==="overview"&&n.jsx(u,{}),e==="campaigns"&&n.jsx(d,{}),e==="sequences"&&n.jsx(q9e,{}),e==="analytics"&&n.jsx(V9e,{}),e==="templates"&&n.jsx(h,{}),e==="subscribers"&&n.jsx(p,{}),"      "]})})},W9e=({isOpen:e,onClose:t,onSave:r,currentSettings:s})=>{const[a,i]=_.useState(s||{provider:"smtp",smtpHost:"smtp.easyname.com",smtpPort:"465",username:"30840mail10",password:"HoveBN41!",useTLS:!0,syncEnabled:!0,syncInterval:5}),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(null),[p,f]=_.useState(!1),x=N=>{const A={gmail:{smtpHost:"smtp.gmail.com",smtpPort:"587"},outlook:{smtpHost:"smtp-mail.outlook.com",smtpPort:"587"},smtp:{smtpHost:"",smtpPort:"587"}};i(S=>({...S,provider:N,...A[N]}))},g=(N,A)=>{i(S=>({...S,[N]:A}))},v=async()=>{l(!0),h(null);try{const N=await fetch("/api/email/test-connection",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({provider:a.provider,smtpHost:a.smtpHost,smtpPort:a.smtpPort,username:a.username,password:a.password,useTLS:a.useTLS})}),A=await N.json();N.ok&&A.success?h({success:!0,message:"Connection successful! Email settings are working correctly."}):h({success:!1,message:A.message||"Connection failed. Please check your credentials and settings."})}catch{h({success:!1,message:"Failed to test connection. Please try again."})}finally{l(!1)}},b=async()=>{f(!0);try{await new Promise(N=>setTimeout(N,1e3)),r(a),t()}catch{}finally{f(!1)}},j=async()=>{u(!0);try{const A=await(await fetch("/api/email/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();A.success?h({success:!0,message:`Successfully imported ${A.count} emails`}):h({success:!1,message:A.message||"Failed to import emails"})}catch{h({success:!1,message:"Failed to import emails: Connection error"})}finally{u(!1)}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ga,{className:"h-6 w-6 text-gray-600"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inbox Settings"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"×"})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Email Provider"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"gmail",label:"Gmail",icon:"📧"},{value:"outlook",label:"Outlook",icon:"📮"},{value:"smtp",label:"Custom SMTP",icon:"⚙️"}].map(N=>n.jsxs("button",{onClick:()=>x(N.value),className:`p-3 border rounded-lg text-center transition-colors ${a.provider===N.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx("div",{className:"text-2xl mb-1",children:N.icon}),n.jsx("div",{className:"text-sm font-medium",children:N.label})]},N.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Tee,{className:"inline h-4 w-4 mr-1"}),"SMTP Host"]}),n.jsx("input",{type:"text",value:a.smtpHost,onChange:N=>g("smtpHost",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),n.jsx("input",{type:"text",value:a.smtpPort,onChange:N=>g("smtpPort",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"587"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[n.jsx(Bg,{className:"h-5 w-5 mr-2"}),"Authentication"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(on,{className:"inline h-4 w-4 mr-1"}),"Email Address"]}),n.jsx("input",{type:"email",value:a.username,onChange:N=>g("username",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your.email@domain.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password/App Password"}),n.jsx("input",{type:"password",value:a.password,onChange:N=>g("password",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Security & Sync"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Use TLS Encryption"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Recommended for secure connections"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.useTLS,onChange:N=>g("useTLS",N.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enable Email Sync"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Automatically sync emails from your inbox"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.syncEnabled,onChange:N=>g("syncEnabled",N.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.syncEnabled&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sync Interval (minutes)"}),n.jsxs("select",{value:a.syncInterval,onChange:N=>g("syncInterval",parseInt(N.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:1,children:"Every 1 minute"}),n.jsx("option",{value:5,children:"Every 5 minutes"}),n.jsx("option",{value:15,children:"Every 15 minutes"}),n.jsx("option",{value:30,children:"Every 30 minutes"}),n.jsx("option",{value:60,children:"Every hour"})]})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4",children:n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Quick Setup Guide"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Business Email (EasyName):"})," Username: 30840mail10, IMAP: imap.easyname.com:993"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"For Gmail:"})," Use your email + App Password (not regular password)"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"For Outlook:"})," Use your Microsoft account email + password"]})]})]})}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:v,disabled:o||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Fee,{className:`h-4 w-4 ${o?"animate-spin":""}`}),n.jsx("span",{children:o?"Testing...":"Test Connection"})]}),n.jsxs("button",{onClick:j,disabled:c||!a.username||!a.smtpHost,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(on,{className:`h-4 w-4 ${c?"animate-spin":""}`}),n.jsx("span",{children:c?"Importing...":"Import Emails"})]})]}),d&&n.jsxs("div",{className:`mt-3 p-3 rounded-lg flex items-start space-x-2 ${d.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[d.success?n.jsx(Hr,{className:"h-5 w-5 mt-0.5"}):n.jsx(ln,{className:"h-5 w-5 mt-0.5"}),n.jsx("span",{className:"text-sm",children:d.message})]})]}),a.provider==="gmail"&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Gmail Setup Instructions"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("p",{children:"1. Enable 2-factor authentication on your Google account"}),n.jsx("p",{children:"2. Generate an App Password for this application"}),n.jsx("p",{children:"3. Use your email address and the App Password above"}),n.jsx("p",{children:"4. Keep TLS encryption enabled"})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:b,disabled:p||!a.username||!a.smtpHost,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saving...":"Save Settings"})]})]})}):null};var zw={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */zw.exports;(function(e,t){(function(){var r,s="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",h=1,p=2,f=4,x=1,g=2,v=1,b=2,j=4,N=8,A=16,S=32,L=64,I=128,k=256,E=512,B=30,C="...",O=800,M=16,D=1,W=2,z=3,G=1/0,V=9007199254740991,Y=17976931348623157e292,ie=NaN,q=4294967295,R=q-1,K=q>>>1,Z=[["ary",I],["bind",v],["bindKey",b],["curry",N],["curryRight",A],["flip",E],["partial",S],["partialRight",L],["rearg",k]],se="[object Arguments]",ue="[object Array]",ae="[object AsyncFunction]",xe="[object Boolean]",X="[object Date]",me="[object DOMException]",ne="[object Error]",he="[object Function]",ke="[object GeneratorFunction]",je="[object Map]",Q="[object Number]",ze="[object Null]",Ye="[object Object]",Ge="[object Promise]",Ve="[object Proxy]",J="[object RegExp]",de="[object Set]",Se="[object String]",De="[object Symbol]",He="[object Undefined]",Fe="[object WeakMap]",Ke="[object WeakSet]",lt="[object ArrayBuffer]",ct="[object DataView]",ft="[object Float32Array]",Et="[object Float64Array]",mt="[object Int8Array]",sr="[object Int16Array]",or="[object Int32Array]",_t="[object Uint8Array]",tr="[object Uint8ClampedArray]",en="[object Uint16Array]",$t="[object Uint32Array]",kr=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ns=/&(?:amp|lt|gt|quot|#39);/g,xn=/[&<>"']/g,lr=RegExp(Ns.source),cn=RegExp(xn.source),uu=/<%-([\s\S]+?)%>/g,ja=/<%([\s\S]+?)%>/g,qo=/<%=([\s\S]+?)%>/g,Vo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kt=/^\w*$/,jl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,no=/[\\^$.*+?()[\]{}|]/g,Fi=RegExp(no.source),Ya=/^\s+/,es=/\s/,Ks=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,aa=/\{\n\/\* \[wrapped with (.+)\] \*/,du=/,? & /,mc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,so=/[()=,{}\[\]\/\s]/,Wo=/\\(\\)?/g,ao=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$i=/\w*$/,Bi=/^[-+]0x[0-9a-f]+$/i,hu=/^0b[01]+$/i,Ho=/^\[object .+?Constructor\]$/,fu=/^0o[0-7]+$/i,md=/^(?:0|[1-9]\d*)$/,pd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nl=/($^)/,Qx=/['\n\r\u2028\u2029\\]/g,pc="\\ud800-\\udfff",up="\\u0300-\\u036f",dp="\\ufe20-\\ufe2f",zi="\\u20d0-\\u20ff",gd=up+dp+zi,cf="\\u2700-\\u27bf",xd="a-z\\xdf-\\xf6\\xf8-\\xff",hp="\\xac\\xb1\\xd7\\xf7",fp="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mp="\\u2000-\\u206f",yd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pp="A-Z\\xc0-\\xd6\\xd8-\\xde",hs="\\ufe0e\\ufe0f",uf=hp+fp+mp+yd,vd="['’]",_l="["+pc+"]",gc="["+uf+"]",Za="["+gd+"]",xc="\\d+",fs="["+cf+"]",bd="["+xd+"]",gp="[^"+pc+uf+xc+cf+xd+pp+"]",df="\\ud83c[\\udffb-\\udfff]",Jx="(?:"+Za+"|"+df+")",io="[^"+pc+"]",wd="(?:\\ud83c[\\udde6-\\uddff]){2}",jd="[\\ud800-\\udbff][\\udc00-\\udfff]",mi="["+pp+"]",Nd="\\u200d",xp="(?:"+bd+"|"+gp+")",e0="(?:"+mi+"|"+gp+")",yp="(?:"+vd+"(?:d|ll|m|re|s|t|ve))?",_d="(?:"+vd+"(?:D|LL|M|RE|S|T|VE))?",yc=Jx+"?",Sl="["+hs+"]?",t0="(?:"+Nd+"(?:"+[io,wd,jd].join("|")+")"+Sl+yc+")*",mu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ar=Sl+yc+t0,r0="(?:"+[fs,wd,jd].join("|")+")"+ar,n0="(?:"+[io+Za+"?",Za,wd,jd,_l].join("|")+")",s0=RegExp(vd,"g"),a0=RegExp(Za,"g"),oo=RegExp(df+"(?="+df+")|"+n0+ar,"g"),Al=RegExp([mi+"?"+bd+"+"+yp+"(?="+[gc,mi,"$"].join("|")+")",e0+"+"+_d+"(?="+[gc,mi+xp,"$"].join("|")+")",mi+"?"+xp+"+"+yp,mi+"+"+_d,hf,mu,xc,r0].join("|"),"g"),i0=RegExp("["+Nd+pc+gd+hs+"]"),o0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ff=-1,tn={};tn[ft]=tn[Et]=tn[mt]=tn[sr]=tn[or]=tn[_t]=tn[tr]=tn[en]=tn[$t]=!0,tn[se]=tn[ue]=tn[lt]=tn[xe]=tn[ct]=tn[X]=tn[ne]=tn[he]=tn[je]=tn[Q]=tn[Ye]=tn[J]=tn[de]=tn[Se]=tn[Fe]=!1;var rn={};rn[se]=rn[ue]=rn[lt]=rn[ct]=rn[xe]=rn[X]=rn[ft]=rn[Et]=rn[mt]=rn[sr]=rn[or]=rn[je]=rn[Q]=rn[Ye]=rn[J]=rn[de]=rn[Se]=rn[De]=rn[_t]=rn[tr]=rn[en]=rn[$t]=!0,rn[ne]=rn[he]=rn[Fe]=!1;var Ad={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},l0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pu=parseFloat,gu=parseInt,kd=typeof ul=="object"&&ul&&ul.Object===Object&&ul,Cd=typeof self=="object"&&self&&self.Object===Object&&self,ms=kd||Cd||Function("return this")(),kl=t&&!t.nodeType&&t,lo=kl&&!0&&e&&!e.nodeType&&e,Pd=lo&&lo.exports===kl,Ra=Pd&&kd.process,ps=function(){try{var Ee=lo&&lo.require&&lo.require("util").types;return Ee||Ra&&Ra.binding&&Ra.binding("util")}catch{}}(),F=ps&&ps.isArrayBuffer,re=ps&&ps.isDate,we=ps&&ps.isMap,Ae=ps&&ps.isRegExp,Le=ps&&ps.isSet,Je=ps&&ps.isTypedArray;function tt(Ee,We,Ue){switch(Ue.length){case 0:return Ee.call(We);case 1:return Ee.call(We,Ue[0]);case 2:return Ee.call(We,Ue[0],Ue[1]);case 3:return Ee.call(We,Ue[0],Ue[1],Ue[2])}return Ee.apply(We,Ue)}function At(Ee,We,Ue,yt){for(var zt=-1,$r=Ee==null?0:Ee.length;++zt<$r;){var _s=Ee[zt];We(yt,_s,Ue(_s),Ee)}return yt}function bt(Ee,We){for(var Ue=-1,yt=Ee==null?0:Ee.length;++Ue<yt&&We(Ee[Ue],Ue,Ee)!==!1;);return Ee}function rr(Ee,We){for(var Ue=Ee==null?0:Ee.length;Ue--&&We(Ee[Ue],Ue,Ee)!==!1;);return Ee}function pr(Ee,We){for(var Ue=-1,yt=Ee==null?0:Ee.length;++Ue<yt;)if(!We(Ee[Ue],Ue,Ee))return!1;return!0}function Cr(Ee,We){for(var Ue=-1,yt=Ee==null?0:Ee.length,zt=0,$r=[];++Ue<yt;){var _s=Ee[Ue];We(_s,Ue,Ee)&&($r[zt++]=_s)}return $r}function Cn(Ee,We){var Ue=Ee==null?0:Ee.length;return!!Ue&&Go(Ee,We,0)>-1}function ts(Ee,We,Ue){for(var yt=-1,zt=Ee==null?0:Ee.length;++yt<zt;)if(Ue(We,Ee[yt]))return!0;return!1}function Wt(Ee,We){for(var Ue=-1,yt=Ee==null?0:Ee.length,zt=Array(yt);++Ue<yt;)zt[Ue]=We(Ee[Ue],Ue,Ee);return zt}function Pn(Ee,We){for(var Ue=-1,yt=We.length,zt=Ee.length;++Ue<yt;)Ee[zt+Ue]=We[Ue];return Ee}function rs(Ee,We,Ue,yt){var zt=-1,$r=Ee==null?0:Ee.length;for(yt&&$r&&(Ue=Ee[++zt]);++zt<$r;)Ue=We(Ue,Ee[zt],zt,Ee);return Ue}function ia(Ee,We,Ue,yt){var zt=Ee==null?0:Ee.length;for(yt&&zt&&(Ue=Ee[--zt]);zt--;)Ue=We(Ue,Ee[zt],zt,Ee);return Ue}function co(Ee,We){for(var Ue=-1,yt=Ee==null?0:Ee.length;++Ue<yt;)if(We(Ee[Ue],Ue,Ee))return!0;return!1}var vc=uo("length");function c0(Ee){return Ee.split("")}function vp(Ee){return Ee.match(mc)||[]}function bc(Ee,We,Ue){var yt;return Ue(Ee,function(zt,$r,_s){if(We(zt,$r,_s))return yt=$r,!1}),yt}function Xa(Ee,We,Ue,yt){for(var zt=Ee.length,$r=Ue+(yt?1:-1);yt?$r--:++$r<zt;)if(We(Ee[$r],$r,Ee))return $r;return-1}function Go(Ee,We,Ue){return We===We?vf(Ee,We,Ue):Xa(Ee,Cl,Ue)}function Ed(Ee,We,Ue,yt){for(var zt=Ue-1,$r=Ee.length;++zt<$r;)if(yt(Ee[zt],We))return zt;return-1}function Cl(Ee){return Ee!==Ee}function Is(Ee,We){var Ue=Ee==null?0:Ee.length;return Ue?oa(Ee,We)/Ue:ie}function uo(Ee){return function(We){return We==null?r:We[Ee]}}function ho(Ee){return function(We){return Ee==null?r:Ee[We]}}function xu(Ee,We,Ue,yt,zt){return zt(Ee,function($r,_s,yn){Ue=yt?(yt=!1,$r):We(Ue,$r,_s,yn)}),Ue}function gf(Ee,We){var Ue=Ee.length;for(Ee.sort(We);Ue--;)Ee[Ue]=Ee[Ue].value;return Ee}function oa(Ee,We){for(var Ue,yt=-1,zt=Ee.length;++yt<zt;){var $r=We(Ee[yt]);$r!==r&&(Ue=Ue===r?$r:Ue+$r)}return Ue}function Td(Ee,We){for(var Ue=-1,yt=Array(Ee);++Ue<Ee;)yt[Ue]=We(Ue);return yt}function Od(Ee,We){return Wt(We,function(Ue){return[Ue,Ee[Ue]]})}function xf(Ee){return Ee&&Ee.slice(0,jc(Ee)+1).replace(Ya,"")}function nn(Ee){return function(We){return Ee(We)}}function Qa(Ee,We){return Wt(We,function(Ue){return Ee[Ue]})}function Pl(Ee,We){return Ee.has(We)}function Ld(Ee,We){for(var Ue=-1,yt=Ee.length;++Ue<yt&&Go(We,Ee[Ue],0)>-1;);return Ue}function El(Ee,We){for(var Ue=Ee.length;Ue--&&Go(We,Ee[Ue],0)>-1;);return Ue}function Id(Ee,We){for(var Ue=Ee.length,yt=0;Ue--;)Ee[Ue]===We&&++yt;return yt}var Ja=ho(Ad),ei=ho(l0);function yu(Ee){return"\\"+pf[Ee]}function Ko(Ee,We){return Ee==null?r:Ee[We]}function pi(Ee){return i0.test(Ee)}function yf(Ee){return o0.test(Ee)}function wc(Ee){for(var We,Ue=[];!(We=Ee.next()).done;)Ue.push(We.value);return Ue}function qn(Ee){var We=-1,Ue=Array(Ee.size);return Ee.forEach(function(yt,zt){Ue[++We]=[zt,yt]}),Ue}function bp(Ee,We){return function(Ue){return Ee(We(Ue))}}function la(Ee,We){for(var Ue=-1,yt=Ee.length,zt=0,$r=[];++Ue<yt;){var _s=Ee[Ue];(_s===We||_s===d)&&(Ee[Ue]=d,$r[zt++]=Ue)}return $r}function gi(Ee){var We=-1,Ue=Array(Ee.size);return Ee.forEach(function(yt){Ue[++We]=yt}),Ue}function Md(Ee){var We=-1,Ue=Array(Ee.size);return Ee.forEach(function(yt){Ue[++We]=[yt,yt]}),Ue}function vf(Ee,We,Ue){for(var yt=Ue-1,zt=Ee.length;++yt<zt;)if(Ee[yt]===We)return yt;return-1}function Dd(Ee,We,Ue){for(var yt=Ue+1;yt--;)if(Ee[yt]===We)return yt;return yt}function fo(Ee){return pi(Ee)?bf(Ee):vc(Ee)}function ca(Ee){return pi(Ee)?xi(Ee):c0(Ee)}function jc(Ee){for(var We=Ee.length;We--&&es.test(Ee.charAt(We)););return We}var Tl=ho(mf);function bf(Ee){for(var We=oo.lastIndex=0;oo.test(Ee);)++We;return We}function xi(Ee){return Ee.match(oo)||[]}function Yo(Ee){return Ee.match(Al)||[]}var En=function Ee(We){We=We==null?ms:sn.defaults(ms.Object(),We,sn.pick(ms,Sd));var Ue=We.Array,yt=We.Date,zt=We.Error,$r=We.Function,_s=We.Math,yn=We.Object,wp=We.RegExp,rb=We.String,yi=We.TypeError,wf=Ue.prototype,nb=$r.prototype,vu=yn.prototype,jf=We["__core-js_shared__"],Nf=nb.toString,un=vu.hasOwnProperty,sb=0,Rd=function(){var m=/[^.]+$/.exec(jf&&jf.keys&&jf.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),_f=vu.toString,ab=Nf.call(yn),ib=ms._,ob=wp("^"+Nf.call(un).replace(no,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sf=Pd?We.Buffer:r,Ol=We.Symbol,Af=We.Uint8Array,u0=Sf?Sf.allocUnsafe:r,Fd=bp(yn.getPrototypeOf,yn),kf=yn.create,ti=vu.propertyIsEnumerable,Fa=wf.splice,Cf=Ol?Ol.isConcatSpreadable:r,Nc=Ol?Ol.iterator:r,_c=Ol?Ol.toStringTag:r,bu=function(){try{var m=Df(yn,"defineProperty");return m({},"",{}),m}catch{}}(),jp=We.clearTimeout!==ms.clearTimeout&&We.clearTimeout,d0=yt&&yt.now!==ms.Date.now&&yt.now,lb=We.setTimeout!==ms.setTimeout&&We.setTimeout,$d=_s.ceil,Bd=_s.floor,zd=yn.getOwnPropertySymbols,h0=Sf?Sf.isBuffer:r,cb=We.isFinite,vN=wf.join,ub=bp(yn.keys,yn),Ms=_s.max,Na=_s.min,bN=yt.now,wN=We.parseInt,db=_s.random,f0=wf.reverse,Pf=Df(We,"DataView"),Ll=Df(We,"Map"),m0=Df(We,"Promise"),Ud=Df(We,"Set"),qd=Df(We,"WeakMap"),Ef=Df(yn,"create"),Np=qd&&new qd,Vd={},jN=Rf(Pf),Sc=Rf(Ll),mo=Rf(m0),Il=Rf(Ud),NN=Rf(qd),Tf=Ol?Ol.prototype:r,Ui=Tf?Tf.valueOf:r,vi=Tf?Tf.toString:r;function ce(m){if(As(m)&&!vr(m)&&!(m instanceof Or)){if(m instanceof bi)return m;if(un.call(m,"__wrapped__"))return SC(m)}return new bi(m)}var Wd=function(){function m(){}return function(y){if(!ys(y))return{};if(kf)return kf(y);m.prototype=y;var T=new m;return m.prototype=r,T}}();function Of(){}function bi(m,y){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=r}ce.templateSettings={escape:uu,evaluate:ja,interpolate:qo,variable:"",imports:{_:ce}},ce.prototype=Of.prototype,ce.prototype.constructor=ce,bi.prototype=Wd(Of.prototype),bi.prototype.constructor=bi;function Or(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function hb(){var m=new Or(this.__wrapped__);return m.__actions__=qi(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=qi(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=qi(this.__views__),m}function _N(){if(this.__filtered__){var m=new Or(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function _p(){var m=this.__wrapped__.value(),y=this.__dir__,T=vr(m),U=y<0,te=T?m.length:0,pe=iK(0,te,this.__views__),_e=pe.start,Pe=pe.end,Ie=Pe-_e,nt=U?Pe:_e-1,st=this.__iteratees__,at=st.length,xt=0,Lt=Na(Ie,this.__takeCount__);if(!T||!U&&te==Ie&&Lt==Ie)return Mf(m,this.__actions__);var Xt=[];e:for(;Ie--&&xt<Lt;){nt+=y;for(var Pr=-1,Qt=m[nt];++Pr<at;){var Br=st[Pr],Kr=Br.iteratee,vo=Br.type,Ai=Kr(Qt);if(vo==W)Qt=Ai;else if(!Ai){if(vo==D)continue e;break e}}Xt[xt++]=Qt}return Xt}Or.prototype=Wd(Of.prototype),Or.prototype.constructor=Or;function Zo(m){var y=-1,T=m==null?0:m.length;for(this.clear();++y<T;){var U=m[y];this.set(U[0],U[1])}}function Lf(){this.__data__=Ef?Ef(null):{},this.size=0}function p0(m){var y=this.has(m)&&delete this.__data__[m];return this.size-=y?1:0,y}function fb(m){var y=this.__data__;if(Ef){var T=y[m];return T===c?r:T}return un.call(y,m)?y[m]:r}function SN(m){var y=this.__data__;return Ef?y[m]!==r:un.call(y,m)}function mb(m,y){var T=this.__data__;return this.size+=this.has(m)?0:1,T[m]=Ef&&y===r?c:y,this}Zo.prototype.clear=Lf,Zo.prototype.delete=p0,Zo.prototype.get=fb,Zo.prototype.has=SN,Zo.prototype.set=mb;function Ml(m){var y=-1,T=m==null?0:m.length;for(this.clear();++y<T;){var U=m[y];this.set(U[0],U[1])}}function AN(){this.__data__=[],this.size=0}function kN(m){var y=this.__data__,T=Re(y,m);if(T<0)return!1;var U=y.length-1;return T==U?y.pop():Fa.call(y,T,1),--this.size,!0}function CN(m){var y=this.__data__,T=Re(y,m);return T<0?r:y[T][1]}function PN(m){return Re(this.__data__,m)>-1}function EN(m,y){var T=this.__data__,U=Re(T,m);return U<0?(++this.size,T.push([m,y])):T[U][1]=y,this}Ml.prototype.clear=AN,Ml.prototype.delete=kN,Ml.prototype.get=CN,Ml.prototype.has=PN,Ml.prototype.set=EN;function Xo(m){var y=-1,T=m==null?0:m.length;for(this.clear();++y<T;){var U=m[y];this.set(U[0],U[1])}}function Sp(){this.size=0,this.__data__={hash:new Zo,map:new(Ll||Ml),string:new Zo}}function TN(m){var y=Pb(this,m).delete(m);return this.size-=y?1:0,y}function ON(m){return Pb(this,m).get(m)}function pb(m){return Pb(this,m).has(m)}function w(m,y){var T=Pb(this,m),U=T.size;return T.set(m,y),this.size+=T.size==U?0:1,this}Xo.prototype.clear=Sp,Xo.prototype.delete=TN,Xo.prototype.get=ON,Xo.prototype.has=pb,Xo.prototype.set=w;function P(m){var y=-1,T=m==null?0:m.length;for(this.__data__=new Xo;++y<T;)this.add(m[y])}function $(m){return this.__data__.set(m,c),this}function H(m){return this.__data__.has(m)}P.prototype.add=P.prototype.push=$,P.prototype.has=H;function ee(m){var y=this.__data__=new Ml(m);this.size=y.size}function oe(){this.__data__=new Ml,this.size=0}function le(m){var y=this.__data__,T=y.delete(m);return this.size=y.size,T}function fe(m){return this.__data__.get(m)}function ge(m){return this.__data__.has(m)}function ve(m,y){var T=this.__data__;if(T instanceof Ml){var U=T.__data__;if(!Ll||U.length<a-1)return U.push([m,y]),this.size=++T.size,this;T=this.__data__=new Xo(U)}return T.set(m,y),this.size=T.size,this}ee.prototype.clear=oe,ee.prototype.delete=le,ee.prototype.get=fe,ee.prototype.has=ge,ee.prototype.set=ve;function Te(m,y){var T=vr(m),U=!T&&Ff(m),te=!T&&!U&&th(m),pe=!T&&!U&&!te&&Mp(m),_e=T||U||te||pe,Pe=_e?Td(m.length,rb):[],Ie=Pe.length;for(var nt in m)(y||un.call(m,nt))&&!(_e&&(nt=="length"||te&&(nt=="offset"||nt=="parent")||pe&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||Su(nt,Ie)))&&Pe.push(nt);return Pe}function $e(m){var y=m.length;return y?m[Zd(0,y-1)]:r}function be(m,y){return Eb(qi(m),vt(y,0,m.length))}function Oe(m){return Eb(qi(m))}function Me(m,y,T){(T!==r&&!$l(m[y],T)||T===r&&!(y in m))&&rt(m,y,T)}function Ze(m,y,T){var U=m[y];(!(un.call(m,y)&&$l(U,T))||T===r&&!(y in m))&&rt(m,y,T)}function Re(m,y){for(var T=m.length;T--;)if($l(m[T][0],y))return T;return-1}function Xe(m,y,T,U){return jt(m,function(te,pe,_e){y(U,te,T(te),_e)}),U}function et(m,y){return m&&Ec(y,Sa(y),m)}function it(m,y){return m&&Ec(y,Wi(y),m)}function rt(m,y,T){y=="__proto__"&&bu?bu(m,y,{configurable:!0,enumerable:!0,value:T,writable:!0}):m[y]=T}function Ot(m,y){for(var T=-1,U=y.length,te=Ue(U),pe=m==null;++T<U;)te[T]=pe?r:e5(m,y[T]);return te}function vt(m,y,T){return m===m&&(T!==r&&(m=m<=T?m:T),y!==r&&(m=m>=y?m:y)),m}function qt(m,y,T,U,te,pe){var _e,Pe=y&h,Ie=y&p,nt=y&f;if(T&&(_e=te?T(m,U,te,pe):T(m)),_e!==r)return _e;if(!ys(m))return m;var st=vr(m);if(st){if(_e=lK(m),!Pe)return qi(m,_e)}else{var at=ai(m),xt=at==he||at==ke;if(th(m))return Tp(m,Pe);if(at==Ye||at==se||xt&&!te){if(_e=Ie||xt?{}:gC(m),!Pe)return Ie?XG(m,it(_e,m)):ZG(m,et(_e,m))}else{if(!rn[at])return te?m:{};_e=cK(m,at,Pe)}}pe||(pe=new ee);var Lt=pe.get(m);if(Lt)return Lt;pe.set(m,_e),WC(m)?m.forEach(function(Qt){_e.add(qt(Qt,y,T,Qt,m,pe))}):qC(m)&&m.forEach(function(Qt,Br){_e.set(Br,qt(Qt,y,T,Br,m,pe))});var Xt=nt?Ie?BN:$N:Ie?Wi:Sa,Pr=st?r:Xt(m);return bt(Pr||m,function(Qt,Br){Pr&&(Br=Qt,Qt=m[Br]),Ze(_e,Br,qt(Qt,y,T,Br,m,pe))}),_e}function Tt(m){var y=Sa(m);return function(T){return Mr(T,m,y)}}function Mr(m,y,T){var U=T.length;if(m==null)return!U;for(m=yn(m);U--;){var te=T[U],pe=y[te],_e=m[te];if(_e===r&&!(te in m)||!pe(_e))return!1}return!0}function Ss(m,y,T){if(typeof m!="function")throw new yi(o);return _0(function(){m.apply(r,T)},y)}function cr(m,y,T,U){var te=-1,pe=Cn,_e=!0,Pe=m.length,Ie=[],nt=y.length;if(!Pe)return Ie;T&&(y=Wt(y,nn(T))),U?(pe=ts,_e=!1):y.length>=a&&(pe=Pl,_e=!1,y=new P(y));e:for(;++te<Pe;){var st=m[te],at=T==null?st:T(st);if(st=U||st!==0?st:0,_e&&at===at){for(var xt=nt;xt--;)if(y[xt]===at)continue e;Ie.push(st)}else pe(y,at,U)||Ie.push(st)}return Ie}var jt=rC(In),ht=rC(da,!0);function gs(m,y){var T=!0;return jt(m,function(U,te,pe){return T=!!y(U,te,pe),T}),T}function ir(m,y,T){for(var U=-1,te=m.length;++U<te;){var pe=m[U],_e=y(pe);if(_e!=null&&(Pe===r?_e===_e&&!yo(_e):T(_e,Pe)))var Pe=_e,Ie=pe}return Ie}function qr(m,y,T,U){var te=m.length;for(T=_r(T),T<0&&(T=-T>te?0:te+T),U=U===r||U>te?te:_r(U),U<0&&(U+=te),U=T>U?0:GC(U);T<U;)m[T++]=y;return m}function Tn(m,y){var T=[];return jt(m,function(U,te,pe){y(U,te,pe)&&T.push(U)}),T}function Gr(m,y,T,U,te){var pe=-1,_e=m.length;for(T||(T=dK),te||(te=[]);++pe<_e;){var Pe=m[pe];y>0&&T(Pe)?y>1?Gr(Pe,y-1,T,U,te):Pn(te,Pe):U||(te[te.length]=Pe)}return te}var ua=nC(),Vn=nC(!0);function In(m,y){return m&&ua(m,y,Sa)}function da(m,y){return m&&Vn(m,y,Sa)}function ns(m,y){return Cr(y,function(T){return Au(m[T])})}function Nr(m,y){y=Jo(y,m);for(var T=0,U=y.length;m!=null&&T<U;)m=m[Tc(y[T++])];return T&&T==U?m:r}function dn(m,y,T){var U=y(m);return vr(m)?U:Pn(U,T(m))}function Dr(m){return m==null?m===r?He:ze:_c&&_c in yn(m)?aK(m):yK(m)}function an(m,y){return m>y}function ha(m,y){return m!=null&&un.call(m,y)}function po(m,y){return m!=null&&y in yn(m)}function xs(m,y,T){return m>=Na(y,T)&&m<Ms(y,T)}function _a(m,y,T){for(var U=T?ts:Cn,te=m[0].length,pe=m.length,_e=pe,Pe=Ue(pe),Ie=1/0,nt=[];_e--;){var st=m[_e];_e&&y&&(st=Wt(st,nn(y))),Ie=Na(st.length,Ie),Pe[_e]=!T&&(y||te>=120&&st.length>=120)?new P(_e&&st):r}st=m[0];var at=-1,xt=Pe[0];e:for(;++at<te&&nt.length<Ie;){var Lt=st[at],Xt=y?y(Lt):Lt;if(Lt=T||Lt!==0?Lt:0,!(xt?Pl(xt,Xt):U(nt,Xt,T))){for(_e=pe;--_e;){var Pr=Pe[_e];if(!(Pr?Pl(Pr,Xt):U(m[_e],Xt,T)))continue e}xt&&xt.push(Xt),nt.push(Lt)}}return nt}function jn(m,y,T,U){return In(m,function(te,pe,_e){y(U,T(te),pe,_e)}),U}function Wn(m,y,T){y=Jo(y,m),m=bC(m,y);var U=m==null?m:m[Tc(el(y))];return U==null?r:tt(U,m,T)}function ri(m){return As(m)&&Dr(m)==se}function $a(m){return As(m)&&Dr(m)==lt}function wi(m){return As(m)&&Dr(m)==X}function fa(m,y,T,U,te){return m===y?!0:m==null||y==null||!As(m)&&!As(y)?m!==m&&y!==y:ni(m,y,T,U,fa,te)}function ni(m,y,T,U,te,pe){var _e=vr(m),Pe=vr(y),Ie=_e?ue:ai(m),nt=Pe?ue:ai(y);Ie=Ie==se?Ye:Ie,nt=nt==se?Ye:nt;var st=Ie==Ye,at=nt==Ye,xt=Ie==nt;if(xt&&th(m)){if(!th(y))return!1;_e=!0,st=!1}if(xt&&!st)return pe||(pe=new ee),_e||Mp(m)?fC(m,y,T,U,te,pe):nK(m,y,Ie,T,U,te,pe);if(!(T&x)){var Lt=st&&un.call(m,"__wrapped__"),Xt=at&&un.call(y,"__wrapped__");if(Lt||Xt){var Pr=Lt?m.value():m,Qt=Xt?y.value():y;return pe||(pe=new ee),te(Pr,Qt,T,U,pe)}}return xt?(pe||(pe=new ee),sK(m,y,T,U,te,pe)):!1}function ji(m){return As(m)&&ai(m)==je}function vn(m,y,T,U){var te=T.length,pe=te,_e=!U;if(m==null)return!pe;for(m=yn(m);te--;){var Pe=T[te];if(_e&&Pe[2]?Pe[1]!==m[Pe[0]]:!(Pe[0]in m))return!1}for(;++te<pe;){Pe=T[te];var Ie=Pe[0],nt=m[Ie],st=Pe[1];if(_e&&Pe[2]){if(nt===r&&!(Ie in m))return!1}else{var at=new ee;if(U)var xt=U(nt,st,Ie,m,y,at);if(!(xt===r?fa(st,nt,x|g,U,at):xt))return!1}}return!0}function si(m){if(!ys(m)||fK(m))return!1;var y=Au(m)?ob:Ho;return y.test(Rf(m))}function go(m){return As(m)&&Dr(m)==J}function wu(m){return As(m)&&ai(m)==de}function Dl(m){return As(m)&&Db(m.length)&&!!tn[Dr(m)]}function Ys(m){return typeof m=="function"?m:m==null?Hi:typeof m=="object"?vr(m)?xb(m[0],m[1]):gb(m):sP(m)}function Hd(m){if(!N0(m))return ub(m);var y=[];for(var T in yn(m))un.call(m,T)&&T!="constructor"&&y.push(T);return y}function g0(m){if(!ys(m))return xK(m);var y=N0(m),T=[];for(var U in m)U=="constructor"&&(y||!un.call(m,U))||T.push(U);return T}function Gd(m,y){return m<y}function Kd(m,y){var T=-1,U=Vi(m)?Ue(m.length):[];return jt(m,function(te,pe,_e){U[++T]=y(te,pe,_e)}),U}function gb(m){var y=UN(m);return y.length==1&&y[0][2]?yC(y[0][0],y[0][1]):function(T){return T===m||vn(T,m,y)}}function xb(m,y){return VN(m)&&xC(y)?yC(Tc(m),y):function(T){var U=e5(T,m);return U===r&&U===y?t5(T,m):fa(y,U,x|g)}}function Yd(m,y,T,U,te){m!==y&&ua(y,function(pe,_e){if(te||(te=new ee),ys(pe))Ac(m,y,_e,T,Yd,U,te);else{var Pe=U?U(HN(m,_e),pe,_e+"",m,y,te):r;Pe===r&&(Pe=pe),Me(m,_e,Pe)}},Wi)}function Ac(m,y,T,U,te,pe,_e){var Pe=HN(m,T),Ie=HN(y,T),nt=_e.get(Ie);if(nt){Me(m,T,nt);return}var st=pe?pe(Pe,Ie,T+"",m,y,_e):r,at=st===r;if(at){var xt=vr(Ie),Lt=!xt&&th(Ie),Xt=!xt&&!Lt&&Mp(Ie);st=Ie,xt||Lt||Xt?vr(Pe)?st=Pe:Ds(Pe)?st=qi(Pe):Lt?(at=!1,st=Tp(Ie,!0)):Xt?(at=!1,st=Qk(Ie,!0)):st=[]:S0(Ie)||Ff(Ie)?(st=Pe,Ff(Pe)?st=KC(Pe):(!ys(Pe)||Au(Pe))&&(st=gC(Ie))):at=!1}at&&(_e.set(Ie,st),te(st,Ie,U,pe,_e),_e.delete(Ie)),Me(m,T,st)}function yb(m,y){var T=m.length;if(T)return y+=y<0?T:0,Su(y,T)?m[y]:r}function vb(m,y,T){y.length?y=Wt(y,function(pe){return vr(pe)?function(_e){return Nr(_e,pe.length===1?pe[0]:pe)}:pe}):y=[Hi];var U=-1;y=Wt(y,nn(Yt()));var te=Kd(m,function(pe,_e,Pe){var Ie=Wt(y,function(nt){return nt(pe)});return{criteria:Ie,index:++U,value:pe}});return gf(te,function(pe,_e){return YG(pe,_e,T)})}function LN(m,y){return x0(m,y,function(T,U){return t5(m,U)})}function x0(m,y,T){for(var U=-1,te=y.length,pe={};++U<te;){var _e=y[U],Pe=Nr(m,_e);T(Pe,_e)&&Xd(pe,Jo(_e,m),Pe)}return pe}function Ap(m){return function(y){return Nr(y,m)}}function kp(m,y,T,U){var te=U?Ed:Go,pe=-1,_e=y.length,Pe=m;for(m===y&&(y=qi(y)),T&&(Pe=Wt(m,nn(T)));++pe<_e;)for(var Ie=0,nt=y[pe],st=T?T(nt):nt;(Ie=te(Pe,st,Ie,U))>-1;)Pe!==m&&Fa.call(Pe,Ie,1),Fa.call(m,Ie,1);return m}function y0(m,y){for(var T=m?y.length:0,U=T-1;T--;){var te=y[T];if(T==U||te!==pe){var pe=te;Su(te)?Fa.call(m,te,1):w0(m,te)}}return m}function Zd(m,y){return m+Bd(db()*(y-m+1))}function v0(m,y,T,U){for(var te=-1,pe=Ms($d((y-m)/(T||1)),0),_e=Ue(pe);pe--;)_e[U?pe:++te]=m,m+=T;return _e}function ju(m,y){var T="";if(!m||y<1||y>V)return T;do y%2&&(T+=m),y=Bd(y/2),y&&(m+=m);while(y);return T}function wr(m,y){return GN(vC(m,y,Hi),m+"")}function IN(m){return $e(Dp(m))}function Cp(m,y){var T=Dp(m);return Eb(T,vt(y,0,T.length))}function Xd(m,y,T,U){if(!ys(m))return m;y=Jo(y,m);for(var te=-1,pe=y.length,_e=pe-1,Pe=m;Pe!=null&&++te<pe;){var Ie=Tc(y[te]),nt=T;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return m;if(te!=_e){var st=Pe[Ie];nt=U?U(st,Ie,Pe):r,nt===r&&(nt=ys(st)?st:Su(y[te+1])?[]:{})}Ze(Pe,Ie,nt),Pe=Pe[Ie]}return m}var Pp=Np?function(m,y){return Np.set(m,y),m}:Hi,kc=bu?function(m,y){return bu(m,"toString",{configurable:!0,enumerable:!1,value:n5(y),writable:!0})}:Hi;function bb(m){return Eb(Dp(m))}function Ni(m,y,T){var U=-1,te=m.length;y<0&&(y=-y>te?0:te+y),T=T>te?te:T,T<0&&(T+=te),te=y>T?0:T-y>>>0,y>>>=0;for(var pe=Ue(te);++U<te;)pe[U]=m[U+y];return pe}function MN(m,y){var T;return jt(m,function(U,te,pe){return T=y(U,te,pe),!T}),!!T}function If(m,y,T){var U=0,te=m==null?U:m.length;if(typeof y=="number"&&y===y&&te<=K){for(;U<te;){var pe=U+te>>>1,_e=m[pe];_e!==null&&!yo(_e)&&(T?_e<=y:_e<y)?U=pe+1:te=pe}return te}return Cc(m,y,Hi,T)}function Cc(m,y,T,U){var te=0,pe=m==null?0:m.length;if(pe===0)return 0;y=T(y);for(var _e=y!==y,Pe=y===null,Ie=yo(y),nt=y===r;te<pe;){var st=Bd((te+pe)/2),at=T(m[st]),xt=at!==r,Lt=at===null,Xt=at===at,Pr=yo(at);if(_e)var Qt=U||Xt;else nt?Qt=Xt&&(U||xt):Pe?Qt=Xt&&xt&&(U||!Lt):Ie?Qt=Xt&&xt&&!Lt&&(U||!Pr):Lt||Pr?Qt=!1:Qt=U?at<=y:at<y;Qt?te=st+1:pe=st}return Na(pe,R)}function wb(m,y){for(var T=-1,U=m.length,te=0,pe=[];++T<U;){var _e=m[T],Pe=y?y(_e):_e;if(!T||!$l(Pe,Ie)){var Ie=Pe;pe[te++]=_e===0?0:_e}}return pe}function b0(m){return typeof m=="number"?m:yo(m)?ie:+m}function _i(m){if(typeof m=="string")return m;if(vr(m))return Wt(m,_i)+"";if(yo(m))return vi?vi.call(m):"";var y=m+"";return y=="0"&&1/m==-G?"-0":y}function Rl(m,y,T){var U=-1,te=Cn,pe=m.length,_e=!0,Pe=[],Ie=Pe;if(T)_e=!1,te=ts;else if(pe>=a){var nt=y?null:tK(m);if(nt)return gi(nt);_e=!1,te=Pl,Ie=new P}else Ie=y?[]:Pe;e:for(;++U<pe;){var st=m[U],at=y?y(st):st;if(st=T||st!==0?st:0,_e&&at===at){for(var xt=Ie.length;xt--;)if(Ie[xt]===at)continue e;y&&Ie.push(at),Pe.push(st)}else te(Ie,at,T)||(Ie!==Pe&&Ie.push(at),Pe.push(st))}return Pe}function w0(m,y){return y=Jo(y,m),m=bC(m,y),m==null||delete m[Tc(el(y))]}function Qd(m,y,T,U){return Xd(m,y,T(Nr(m,y)),U)}function Jd(m,y,T,U){for(var te=m.length,pe=U?te:-1;(U?pe--:++pe<te)&&y(m[pe],pe,m););return T?Ni(m,U?0:pe,U?pe+1:te):Ni(m,U?pe+1:0,U?te:pe)}function Mf(m,y){var T=m;return T instanceof Or&&(T=T.value()),rs(y,function(U,te){return te.func.apply(te.thisArg,Pn([U],te.args))},T)}function xo(m,y,T){var U=m.length;if(U<2)return U?Rl(m[0]):[];for(var te=-1,pe=Ue(U);++te<U;)for(var _e=m[te],Pe=-1;++Pe<U;)Pe!=te&&(pe[te]=cr(pe[te]||_e,m[Pe],y,T));return Rl(Gr(pe,1),y,T)}function Fl(m,y,T){for(var U=-1,te=m.length,pe=y.length,_e={};++U<te;){var Pe=U<pe?y[U]:r;T(_e,m[U],Pe)}return _e}function Qo(m){return Ds(m)?m:[]}function eh(m){return typeof m=="function"?m:Hi}function Jo(m,y){return vr(m)?m:VN(m,y)?[m]:_C(bn(m))}var jb=wr;function Pc(m,y,T){var U=m.length;return T=T===r?U:T,!y&&T>=U?m:Ni(m,y,T)}var Ep=jp||function(m){return ms.clearTimeout(m)};function Tp(m,y){if(y)return m.slice();var T=m.length,U=u0?u0(T):new m.constructor(T);return m.copy(U),U}function DN(m){var y=new m.constructor(m.byteLength);return new Af(y).set(new Af(m)),y}function HG(m,y){var T=y?DN(m.buffer):m.buffer;return new m.constructor(T,m.byteOffset,m.byteLength)}function GG(m){var y=new m.constructor(m.source,$i.exec(m));return y.lastIndex=m.lastIndex,y}function KG(m){return Ui?yn(Ui.call(m)):{}}function Qk(m,y){var T=y?DN(m.buffer):m.buffer;return new m.constructor(T,m.byteOffset,m.length)}function Jk(m,y){if(m!==y){var T=m!==r,U=m===null,te=m===m,pe=yo(m),_e=y!==r,Pe=y===null,Ie=y===y,nt=yo(y);if(!Pe&&!nt&&!pe&&m>y||pe&&_e&&Ie&&!Pe&&!nt||U&&_e&&Ie||!T&&Ie||!te)return 1;if(!U&&!pe&&!nt&&m<y||nt&&T&&te&&!U&&!pe||Pe&&T&&te||!_e&&te||!Ie)return-1}return 0}function YG(m,y,T){for(var U=-1,te=m.criteria,pe=y.criteria,_e=te.length,Pe=T.length;++U<_e;){var Ie=Jk(te[U],pe[U]);if(Ie){if(U>=Pe)return Ie;var nt=T[U];return Ie*(nt=="desc"?-1:1)}}return m.index-y.index}function eC(m,y,T,U){for(var te=-1,pe=m.length,_e=T.length,Pe=-1,Ie=y.length,nt=Ms(pe-_e,0),st=Ue(Ie+nt),at=!U;++Pe<Ie;)st[Pe]=y[Pe];for(;++te<_e;)(at||te<pe)&&(st[T[te]]=m[te]);for(;nt--;)st[Pe++]=m[te++];return st}function tC(m,y,T,U){for(var te=-1,pe=m.length,_e=-1,Pe=T.length,Ie=-1,nt=y.length,st=Ms(pe-Pe,0),at=Ue(st+nt),xt=!U;++te<st;)at[te]=m[te];for(var Lt=te;++Ie<nt;)at[Lt+Ie]=y[Ie];for(;++_e<Pe;)(xt||te<pe)&&(at[Lt+T[_e]]=m[te++]);return at}function qi(m,y){var T=-1,U=m.length;for(y||(y=Ue(U));++T<U;)y[T]=m[T];return y}function Ec(m,y,T,U){var te=!T;T||(T={});for(var pe=-1,_e=y.length;++pe<_e;){var Pe=y[pe],Ie=U?U(T[Pe],m[Pe],Pe,T,m):r;Ie===r&&(Ie=m[Pe]),te?rt(T,Pe,Ie):Ze(T,Pe,Ie)}return T}function ZG(m,y){return Ec(m,qN(m),y)}function XG(m,y){return Ec(m,mC(m),y)}function Nb(m,y){return function(T,U){var te=vr(T)?At:Xe,pe=y?y():{};return te(T,m,Yt(U,2),pe)}}function Op(m){return wr(function(y,T){var U=-1,te=T.length,pe=te>1?T[te-1]:r,_e=te>2?T[2]:r;for(pe=m.length>3&&typeof pe=="function"?(te--,pe):r,_e&&Si(T[0],T[1],_e)&&(pe=te<3?r:pe,te=1),y=yn(y);++U<te;){var Pe=T[U];Pe&&m(y,Pe,U,pe)}return y})}function rC(m,y){return function(T,U){if(T==null)return T;if(!Vi(T))return m(T,U);for(var te=T.length,pe=y?te:-1,_e=yn(T);(y?pe--:++pe<te)&&U(_e[pe],pe,_e)!==!1;);return T}}function nC(m){return function(y,T,U){for(var te=-1,pe=yn(y),_e=U(y),Pe=_e.length;Pe--;){var Ie=_e[m?Pe:++te];if(T(pe[Ie],Ie,pe)===!1)break}return y}}function QG(m,y,T){var U=y&v,te=j0(m);function pe(){var _e=this&&this!==ms&&this instanceof pe?te:m;return _e.apply(U?T:this,arguments)}return pe}function sC(m){return function(y){y=bn(y);var T=pi(y)?ca(y):r,U=T?T[0]:y.charAt(0),te=T?Pc(T,1).join(""):y.slice(1);return U[m]()+te}}function Lp(m){return function(y){return rs(rP(tP(y).replace(s0,"")),m,"")}}function j0(m){return function(){var y=arguments;switch(y.length){case 0:return new m;case 1:return new m(y[0]);case 2:return new m(y[0],y[1]);case 3:return new m(y[0],y[1],y[2]);case 4:return new m(y[0],y[1],y[2],y[3]);case 5:return new m(y[0],y[1],y[2],y[3],y[4]);case 6:return new m(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new m(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var T=Wd(m.prototype),U=m.apply(T,y);return ys(U)?U:T}}function JG(m,y,T){var U=j0(m);function te(){for(var pe=arguments.length,_e=Ue(pe),Pe=pe,Ie=Ip(te);Pe--;)_e[Pe]=arguments[Pe];var nt=pe<3&&_e[0]!==Ie&&_e[pe-1]!==Ie?[]:la(_e,Ie);if(pe-=nt.length,pe<T)return cC(m,y,_b,te.placeholder,r,_e,nt,r,r,T-pe);var st=this&&this!==ms&&this instanceof te?U:m;return tt(st,this,_e)}return te}function aC(m){return function(y,T,U){var te=yn(y);if(!Vi(y)){var pe=Yt(T,3);y=Sa(y),T=function(Pe){return pe(te[Pe],Pe,te)}}var _e=m(y,T,U);return _e>-1?te[pe?y[_e]:_e]:r}}function iC(m){return _u(function(y){var T=y.length,U=T,te=bi.prototype.thru;for(m&&y.reverse();U--;){var pe=y[U];if(typeof pe!="function")throw new yi(o);if(te&&!_e&&Cb(pe)=="wrapper")var _e=new bi([],!0)}for(U=_e?U:T;++U<T;){pe=y[U];var Pe=Cb(pe),Ie=Pe=="wrapper"?zN(pe):r;Ie&&WN(Ie[0])&&Ie[1]==(I|N|S|k)&&!Ie[4].length&&Ie[9]==1?_e=_e[Cb(Ie[0])].apply(_e,Ie[3]):_e=pe.length==1&&WN(pe)?_e[Pe]():_e.thru(pe)}return function(){var nt=arguments,st=nt[0];if(_e&&nt.length==1&&vr(st))return _e.plant(st).value();for(var at=0,xt=T?y[at].apply(this,nt):st;++at<T;)xt=y[at].call(this,xt);return xt}})}function _b(m,y,T,U,te,pe,_e,Pe,Ie,nt){var st=y&I,at=y&v,xt=y&b,Lt=y&(N|A),Xt=y&E,Pr=xt?r:j0(m);function Qt(){for(var Br=arguments.length,Kr=Ue(Br),vo=Br;vo--;)Kr[vo]=arguments[vo];if(Lt)var Ai=Ip(Qt),bo=Id(Kr,Ai);if(U&&(Kr=eC(Kr,U,te,Lt)),pe&&(Kr=tC(Kr,pe,_e,Lt)),Br-=bo,Lt&&Br<nt){var Rs=la(Kr,Ai);return cC(m,y,_b,Qt.placeholder,T,Kr,Rs,Pe,Ie,nt-Br)}var Bl=at?T:this,Cu=xt?Bl[m]:m;return Br=Kr.length,Pe?Kr=vK(Kr,Pe):Xt&&Br>1&&Kr.reverse(),st&&Ie<Br&&(Kr.length=Ie),this&&this!==ms&&this instanceof Qt&&(Cu=Pr||j0(Cu)),Cu.apply(Bl,Kr)}return Qt}function oC(m,y){return function(T,U){return jn(T,m,y(U),{})}}function Sb(m,y){return function(T,U){var te;if(T===r&&U===r)return y;if(T!==r&&(te=T),U!==r){if(te===r)return U;typeof T=="string"||typeof U=="string"?(T=_i(T),U=_i(U)):(T=b0(T),U=b0(U)),te=m(T,U)}return te}}function RN(m){return _u(function(y){return y=Wt(y,nn(Yt())),wr(function(T){var U=this;return m(y,function(te){return tt(te,U,T)})})})}function Ab(m,y){y=y===r?" ":_i(y);var T=y.length;if(T<2)return T?ju(y,m):y;var U=ju(y,$d(m/fo(y)));return pi(y)?Pc(ca(U),0,m).join(""):U.slice(0,m)}function eK(m,y,T,U){var te=y&v,pe=j0(m);function _e(){for(var Pe=-1,Ie=arguments.length,nt=-1,st=U.length,at=Ue(st+Ie),xt=this&&this!==ms&&this instanceof _e?pe:m;++nt<st;)at[nt]=U[nt];for(;Ie--;)at[nt++]=arguments[++Pe];return tt(xt,te?T:this,at)}return _e}function lC(m){return function(y,T,U){return U&&typeof U!="number"&&Si(y,T,U)&&(T=U=r),y=ku(y),T===r?(T=y,y=0):T=ku(T),U=U===r?y<T?1:-1:ku(U),v0(y,T,U,m)}}function kb(m){return function(y,T){return typeof y=="string"&&typeof T=="string"||(y=tl(y),T=tl(T)),m(y,T)}}function cC(m,y,T,U,te,pe,_e,Pe,Ie,nt){var st=y&N,at=st?_e:r,xt=st?r:_e,Lt=st?pe:r,Xt=st?r:pe;y|=st?S:L,y&=~(st?L:S),y&j||(y&=~(v|b));var Pr=[m,y,te,Lt,at,Xt,xt,Pe,Ie,nt],Qt=T.apply(r,Pr);return WN(m)&&wC(Qt,Pr),Qt.placeholder=U,jC(Qt,m,y)}function FN(m){var y=_s[m];return function(T,U){if(T=tl(T),U=U==null?0:Na(_r(U),292),U&&cb(T)){var te=(bn(T)+"e").split("e"),pe=y(te[0]+"e"+(+te[1]+U));return te=(bn(pe)+"e").split("e"),+(te[0]+"e"+(+te[1]-U))}return y(T)}}var tK=Ud&&1/gi(new Ud([,-0]))[1]==G?function(m){return new Ud(m)}:i5;function uC(m){return function(y){var T=ai(y);return T==je?qn(y):T==de?Md(y):Od(y,m(y))}}function Nu(m,y,T,U,te,pe,_e,Pe){var Ie=y&b;if(!Ie&&typeof m!="function")throw new yi(o);var nt=U?U.length:0;if(nt||(y&=~(S|L),U=te=r),_e=_e===r?_e:Ms(_r(_e),0),Pe=Pe===r?Pe:_r(Pe),nt-=te?te.length:0,y&L){var st=U,at=te;U=te=r}var xt=Ie?r:zN(m),Lt=[m,y,T,U,te,st,at,pe,_e,Pe];if(xt&&gK(Lt,xt),m=Lt[0],y=Lt[1],T=Lt[2],U=Lt[3],te=Lt[4],Pe=Lt[9]=Lt[9]===r?Ie?0:m.length:Ms(Lt[9]-nt,0),!Pe&&y&(N|A)&&(y&=~(N|A)),!y||y==v)var Xt=QG(m,y,T);else y==N||y==A?Xt=JG(m,y,Pe):(y==S||y==(v|S))&&!te.length?Xt=eK(m,y,T,U):Xt=_b.apply(r,Lt);var Pr=xt?Pp:wC;return jC(Pr(Xt,Lt),m,y)}function dC(m,y,T,U){return m===r||$l(m,vu[T])&&!un.call(U,T)?y:m}function hC(m,y,T,U,te,pe){return ys(m)&&ys(y)&&(pe.set(y,m),Yd(m,y,r,hC,pe),pe.delete(y)),m}function rK(m){return S0(m)?r:m}function fC(m,y,T,U,te,pe){var _e=T&x,Pe=m.length,Ie=y.length;if(Pe!=Ie&&!(_e&&Ie>Pe))return!1;var nt=pe.get(m),st=pe.get(y);if(nt&&st)return nt==y&&st==m;var at=-1,xt=!0,Lt=T&g?new P:r;for(pe.set(m,y),pe.set(y,m);++at<Pe;){var Xt=m[at],Pr=y[at];if(U)var Qt=_e?U(Pr,Xt,at,y,m,pe):U(Xt,Pr,at,m,y,pe);if(Qt!==r){if(Qt)continue;xt=!1;break}if(Lt){if(!co(y,function(Br,Kr){if(!Pl(Lt,Kr)&&(Xt===Br||te(Xt,Br,T,U,pe)))return Lt.push(Kr)})){xt=!1;break}}else if(!(Xt===Pr||te(Xt,Pr,T,U,pe))){xt=!1;break}}return pe.delete(m),pe.delete(y),xt}function nK(m,y,T,U,te,pe,_e){switch(T){case ct:if(m.byteLength!=y.byteLength||m.byteOffset!=y.byteOffset)return!1;m=m.buffer,y=y.buffer;case lt:return!(m.byteLength!=y.byteLength||!pe(new Af(m),new Af(y)));case xe:case X:case Q:return $l(+m,+y);case ne:return m.name==y.name&&m.message==y.message;case J:case Se:return m==y+"";case je:var Pe=qn;case de:var Ie=U&x;if(Pe||(Pe=gi),m.size!=y.size&&!Ie)return!1;var nt=_e.get(m);if(nt)return nt==y;U|=g,_e.set(m,y);var st=fC(Pe(m),Pe(y),U,te,pe,_e);return _e.delete(m),st;case De:if(Ui)return Ui.call(m)==Ui.call(y)}return!1}function sK(m,y,T,U,te,pe){var _e=T&x,Pe=$N(m),Ie=Pe.length,nt=$N(y),st=nt.length;if(Ie!=st&&!_e)return!1;for(var at=Ie;at--;){var xt=Pe[at];if(!(_e?xt in y:un.call(y,xt)))return!1}var Lt=pe.get(m),Xt=pe.get(y);if(Lt&&Xt)return Lt==y&&Xt==m;var Pr=!0;pe.set(m,y),pe.set(y,m);for(var Qt=_e;++at<Ie;){xt=Pe[at];var Br=m[xt],Kr=y[xt];if(U)var vo=_e?U(Kr,Br,xt,y,m,pe):U(Br,Kr,xt,m,y,pe);if(!(vo===r?Br===Kr||te(Br,Kr,T,U,pe):vo)){Pr=!1;break}Qt||(Qt=xt=="constructor")}if(Pr&&!Qt){var Ai=m.constructor,bo=y.constructor;Ai!=bo&&"constructor"in m&&"constructor"in y&&!(typeof Ai=="function"&&Ai instanceof Ai&&typeof bo=="function"&&bo instanceof bo)&&(Pr=!1)}return pe.delete(m),pe.delete(y),Pr}function _u(m){return GN(vC(m,r,CC),m+"")}function $N(m){return dn(m,Sa,qN)}function BN(m){return dn(m,Wi,mC)}var zN=Np?function(m){return Np.get(m)}:i5;function Cb(m){for(var y=m.name+"",T=Vd[y],U=un.call(Vd,y)?T.length:0;U--;){var te=T[U],pe=te.func;if(pe==null||pe==m)return te.name}return y}function Ip(m){var y=un.call(ce,"placeholder")?ce:m;return y.placeholder}function Yt(){var m=ce.iteratee||s5;return m=m===s5?Ys:m,arguments.length?m(arguments[0],arguments[1]):m}function Pb(m,y){var T=m.__data__;return hK(y)?T[typeof y=="string"?"string":"hash"]:T.map}function UN(m){for(var y=Sa(m),T=y.length;T--;){var U=y[T],te=m[U];y[T]=[U,te,xC(te)]}return y}function Df(m,y){var T=Ko(m,y);return si(T)?T:r}function aK(m){var y=un.call(m,_c),T=m[_c];try{m[_c]=r;var U=!0}catch{}var te=_f.call(m);return U&&(y?m[_c]=T:delete m[_c]),te}var qN=zd?function(m){return m==null?[]:(m=yn(m),Cr(zd(m),function(y){return ti.call(m,y)}))}:o5,mC=zd?function(m){for(var y=[];m;)Pn(y,qN(m)),m=Fd(m);return y}:o5,ai=Dr;(Pf&&ai(new Pf(new ArrayBuffer(1)))!=ct||Ll&&ai(new Ll)!=je||m0&&ai(m0.resolve())!=Ge||Ud&&ai(new Ud)!=de||qd&&ai(new qd)!=Fe)&&(ai=function(m){var y=Dr(m),T=y==Ye?m.constructor:r,U=T?Rf(T):"";if(U)switch(U){case jN:return ct;case Sc:return je;case mo:return Ge;case Il:return de;case NN:return Fe}return y});function iK(m,y,T){for(var U=-1,te=T.length;++U<te;){var pe=T[U],_e=pe.size;switch(pe.type){case"drop":m+=_e;break;case"dropRight":y-=_e;break;case"take":y=Na(y,m+_e);break;case"takeRight":m=Ms(m,y-_e);break}}return{start:m,end:y}}function oK(m){var y=m.match(aa);return y?y[1].split(du):[]}function pC(m,y,T){y=Jo(y,m);for(var U=-1,te=y.length,pe=!1;++U<te;){var _e=Tc(y[U]);if(!(pe=m!=null&&T(m,_e)))break;m=m[_e]}return pe||++U!=te?pe:(te=m==null?0:m.length,!!te&&Db(te)&&Su(_e,te)&&(vr(m)||Ff(m)))}function lK(m){var y=m.length,T=new m.constructor(y);return y&&typeof m[0]=="string"&&un.call(m,"index")&&(T.index=m.index,T.input=m.input),T}function gC(m){return typeof m.constructor=="function"&&!N0(m)?Wd(Fd(m)):{}}function cK(m,y,T){var U=m.constructor;switch(y){case lt:return DN(m);case xe:case X:return new U(+m);case ct:return HG(m,T);case ft:case Et:case mt:case sr:case or:case _t:case tr:case en:case $t:return Qk(m,T);case je:return new U;case Q:case Se:return new U(m);case J:return GG(m);case de:return new U;case De:return KG(m)}}function uK(m,y){var T=y.length;if(!T)return m;var U=T-1;return y[U]=(T>1?"& ":"")+y[U],y=y.join(T>2?", ":" "),m.replace(Ks,`{
/* [wrapped with `+y+`] */
`)}function dK(m){return vr(m)||Ff(m)||!!(Cf&&m&&m[Cf])}function Su(m,y){var T=typeof m;return y=y??V,!!y&&(T=="number"||T!="symbol"&&md.test(m))&&m>-1&&m%1==0&&m<y}function Si(m,y,T){if(!ys(T))return!1;var U=typeof y;return(U=="number"?Vi(T)&&Su(y,T.length):U=="string"&&y in T)?$l(T[y],m):!1}function VN(m,y){if(vr(m))return!1;var T=typeof m;return T=="number"||T=="symbol"||T=="boolean"||m==null||yo(m)?!0:Kt.test(m)||!Vo.test(m)||y!=null&&m in yn(y)}function hK(m){var y=typeof m;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?m!=="__proto__":m===null}function WN(m){var y=Cb(m),T=ce[y];if(typeof T!="function"||!(y in Or.prototype))return!1;if(m===T)return!0;var U=zN(T);return!!U&&m===U[0]}function fK(m){return!!Rd&&Rd in m}var mK=jf?Au:l5;function N0(m){var y=m&&m.constructor,T=typeof y=="function"&&y.prototype||vu;return m===T}function xC(m){return m===m&&!ys(m)}function yC(m,y){return function(T){return T==null?!1:T[m]===y&&(y!==r||m in yn(T))}}function pK(m){var y=Ib(m,function(U){return T.size===u&&T.clear(),U}),T=y.cache;return y}function gK(m,y){var T=m[1],U=y[1],te=T|U,pe=te<(v|b|I),_e=U==I&&T==N||U==I&&T==k&&m[7].length<=y[8]||U==(I|k)&&y[7].length<=y[8]&&T==N;if(!(pe||_e))return m;U&v&&(m[2]=y[2],te|=T&v?0:j);var Pe=y[3];if(Pe){var Ie=m[3];m[3]=Ie?eC(Ie,Pe,y[4]):Pe,m[4]=Ie?la(m[3],d):y[4]}return Pe=y[5],Pe&&(Ie=m[5],m[5]=Ie?tC(Ie,Pe,y[6]):Pe,m[6]=Ie?la(m[5],d):y[6]),Pe=y[7],Pe&&(m[7]=Pe),U&I&&(m[8]=m[8]==null?y[8]:Na(m[8],y[8])),m[9]==null&&(m[9]=y[9]),m[0]=y[0],m[1]=te,m}function xK(m){var y=[];if(m!=null)for(var T in yn(m))y.push(T);return y}function yK(m){return _f.call(m)}function vC(m,y,T){return y=Ms(y===r?m.length-1:y,0),function(){for(var U=arguments,te=-1,pe=Ms(U.length-y,0),_e=Ue(pe);++te<pe;)_e[te]=U[y+te];te=-1;for(var Pe=Ue(y+1);++te<y;)Pe[te]=U[te];return Pe[y]=T(_e),tt(m,this,Pe)}}function bC(m,y){return y.length<2?m:Nr(m,Ni(y,0,-1))}function vK(m,y){for(var T=m.length,U=Na(y.length,T),te=qi(m);U--;){var pe=y[U];m[U]=Su(pe,T)?te[pe]:r}return m}function HN(m,y){if(!(y==="constructor"&&typeof m[y]=="function")&&y!="__proto__")return m[y]}var wC=NC(Pp),_0=lb||function(m,y){return ms.setTimeout(m,y)},GN=NC(kc);function jC(m,y,T){var U=y+"";return GN(m,uK(U,bK(oK(U),T)))}function NC(m){var y=0,T=0;return function(){var U=bN(),te=M-(U-T);if(T=U,te>0){if(++y>=O)return arguments[0]}else y=0;return m.apply(r,arguments)}}function Eb(m,y){var T=-1,U=m.length,te=U-1;for(y=y===r?U:y;++T<y;){var pe=Zd(T,te),_e=m[pe];m[pe]=m[T],m[T]=_e}return m.length=y,m}var _C=pK(function(m){var y=[];return m.charCodeAt(0)===46&&y.push(""),m.replace(jl,function(T,U,te,pe){y.push(te?pe.replace(Wo,"$1"):U||T)}),y});function Tc(m){if(typeof m=="string"||yo(m))return m;var y=m+"";return y=="0"&&1/m==-G?"-0":y}function Rf(m){if(m!=null){try{return Nf.call(m)}catch{}try{return m+""}catch{}}return""}function bK(m,y){return bt(Z,function(T){var U="_."+T[0];y&T[1]&&!Cn(m,U)&&m.push(U)}),m.sort()}function SC(m){if(m instanceof Or)return m.clone();var y=new bi(m.__wrapped__,m.__chain__);return y.__actions__=qi(m.__actions__),y.__index__=m.__index__,y.__values__=m.__values__,y}function wK(m,y,T){(T?Si(m,y,T):y===r)?y=1:y=Ms(_r(y),0);var U=m==null?0:m.length;if(!U||y<1)return[];for(var te=0,pe=0,_e=Ue($d(U/y));te<U;)_e[pe++]=Ni(m,te,te+=y);return _e}function jK(m){for(var y=-1,T=m==null?0:m.length,U=0,te=[];++y<T;){var pe=m[y];pe&&(te[U++]=pe)}return te}function NK(){var m=arguments.length;if(!m)return[];for(var y=Ue(m-1),T=arguments[0],U=m;U--;)y[U-1]=arguments[U];return Pn(vr(T)?qi(T):[T],Gr(y,1))}var _K=wr(function(m,y){return Ds(m)?cr(m,Gr(y,1,Ds,!0)):[]}),SK=wr(function(m,y){var T=el(y);return Ds(T)&&(T=r),Ds(m)?cr(m,Gr(y,1,Ds,!0),Yt(T,2)):[]}),AK=wr(function(m,y){var T=el(y);return Ds(T)&&(T=r),Ds(m)?cr(m,Gr(y,1,Ds,!0),r,T):[]});function kK(m,y,T){var U=m==null?0:m.length;return U?(y=T||y===r?1:_r(y),Ni(m,y<0?0:y,U)):[]}function CK(m,y,T){var U=m==null?0:m.length;return U?(y=T||y===r?1:_r(y),y=U-y,Ni(m,0,y<0?0:y)):[]}function PK(m,y){return m&&m.length?Jd(m,Yt(y,3),!0,!0):[]}function EK(m,y){return m&&m.length?Jd(m,Yt(y,3),!0):[]}function TK(m,y,T,U){var te=m==null?0:m.length;return te?(T&&typeof T!="number"&&Si(m,y,T)&&(T=0,U=te),qr(m,y,T,U)):[]}function AC(m,y,T){var U=m==null?0:m.length;if(!U)return-1;var te=T==null?0:_r(T);return te<0&&(te=Ms(U+te,0)),Xa(m,Yt(y,3),te)}function kC(m,y,T){var U=m==null?0:m.length;if(!U)return-1;var te=U-1;return T!==r&&(te=_r(T),te=T<0?Ms(U+te,0):Na(te,U-1)),Xa(m,Yt(y,3),te,!0)}function CC(m){var y=m==null?0:m.length;return y?Gr(m,1):[]}function OK(m){var y=m==null?0:m.length;return y?Gr(m,G):[]}function LK(m,y){var T=m==null?0:m.length;return T?(y=y===r?1:_r(y),Gr(m,y)):[]}function IK(m){for(var y=-1,T=m==null?0:m.length,U={};++y<T;){var te=m[y];U[te[0]]=te[1]}return U}function PC(m){return m&&m.length?m[0]:r}function MK(m,y,T){var U=m==null?0:m.length;if(!U)return-1;var te=T==null?0:_r(T);return te<0&&(te=Ms(U+te,0)),Go(m,y,te)}function DK(m){var y=m==null?0:m.length;return y?Ni(m,0,-1):[]}var RK=wr(function(m){var y=Wt(m,Qo);return y.length&&y[0]===m[0]?_a(y):[]}),FK=wr(function(m){var y=el(m),T=Wt(m,Qo);return y===el(T)?y=r:T.pop(),T.length&&T[0]===m[0]?_a(T,Yt(y,2)):[]}),$K=wr(function(m){var y=el(m),T=Wt(m,Qo);return y=typeof y=="function"?y:r,y&&T.pop(),T.length&&T[0]===m[0]?_a(T,r,y):[]});function BK(m,y){return m==null?"":vN.call(m,y)}function el(m){var y=m==null?0:m.length;return y?m[y-1]:r}function zK(m,y,T){var U=m==null?0:m.length;if(!U)return-1;var te=U;return T!==r&&(te=_r(T),te=te<0?Ms(U+te,0):Na(te,U-1)),y===y?Dd(m,y,te):Xa(m,Cl,te,!0)}function UK(m,y){return m&&m.length?yb(m,_r(y)):r}var qK=wr(EC);function EC(m,y){return m&&m.length&&y&&y.length?kp(m,y):m}function VK(m,y,T){return m&&m.length&&y&&y.length?kp(m,y,Yt(T,2)):m}function WK(m,y,T){return m&&m.length&&y&&y.length?kp(m,y,r,T):m}var HK=_u(function(m,y){var T=m==null?0:m.length,U=Ot(m,y);return y0(m,Wt(y,function(te){return Su(te,T)?+te:te}).sort(Jk)),U});function GK(m,y){var T=[];if(!(m&&m.length))return T;var U=-1,te=[],pe=m.length;for(y=Yt(y,3);++U<pe;){var _e=m[U];y(_e,U,m)&&(T.push(_e),te.push(U))}return y0(m,te),T}function KN(m){return m==null?m:f0.call(m)}function KK(m,y,T){var U=m==null?0:m.length;return U?(T&&typeof T!="number"&&Si(m,y,T)?(y=0,T=U):(y=y==null?0:_r(y),T=T===r?U:_r(T)),Ni(m,y,T)):[]}function YK(m,y){return If(m,y)}function ZK(m,y,T){return Cc(m,y,Yt(T,2))}function XK(m,y){var T=m==null?0:m.length;if(T){var U=If(m,y);if(U<T&&$l(m[U],y))return U}return-1}function QK(m,y){return If(m,y,!0)}function JK(m,y,T){return Cc(m,y,Yt(T,2),!0)}function eY(m,y){var T=m==null?0:m.length;if(T){var U=If(m,y,!0)-1;if($l(m[U],y))return U}return-1}function tY(m){return m&&m.length?wb(m):[]}function rY(m,y){return m&&m.length?wb(m,Yt(y,2)):[]}function nY(m){var y=m==null?0:m.length;return y?Ni(m,1,y):[]}function sY(m,y,T){return m&&m.length?(y=T||y===r?1:_r(y),Ni(m,0,y<0?0:y)):[]}function aY(m,y,T){var U=m==null?0:m.length;return U?(y=T||y===r?1:_r(y),y=U-y,Ni(m,y<0?0:y,U)):[]}function iY(m,y){return m&&m.length?Jd(m,Yt(y,3),!1,!0):[]}function oY(m,y){return m&&m.length?Jd(m,Yt(y,3)):[]}var lY=wr(function(m){return Rl(Gr(m,1,Ds,!0))}),cY=wr(function(m){var y=el(m);return Ds(y)&&(y=r),Rl(Gr(m,1,Ds,!0),Yt(y,2))}),uY=wr(function(m){var y=el(m);return y=typeof y=="function"?y:r,Rl(Gr(m,1,Ds,!0),r,y)});function dY(m){return m&&m.length?Rl(m):[]}function hY(m,y){return m&&m.length?Rl(m,Yt(y,2)):[]}function fY(m,y){return y=typeof y=="function"?y:r,m&&m.length?Rl(m,r,y):[]}function YN(m){if(!(m&&m.length))return[];var y=0;return m=Cr(m,function(T){if(Ds(T))return y=Ms(T.length,y),!0}),Td(y,function(T){return Wt(m,uo(T))})}function TC(m,y){if(!(m&&m.length))return[];var T=YN(m);return y==null?T:Wt(T,function(U){return tt(y,r,U)})}var mY=wr(function(m,y){return Ds(m)?cr(m,y):[]}),pY=wr(function(m){return xo(Cr(m,Ds))}),gY=wr(function(m){var y=el(m);return Ds(y)&&(y=r),xo(Cr(m,Ds),Yt(y,2))}),xY=wr(function(m){var y=el(m);return y=typeof y=="function"?y:r,xo(Cr(m,Ds),r,y)}),yY=wr(YN);function vY(m,y){return Fl(m||[],y||[],Ze)}function bY(m,y){return Fl(m||[],y||[],Xd)}var wY=wr(function(m){var y=m.length,T=y>1?m[y-1]:r;return T=typeof T=="function"?(m.pop(),T):r,TC(m,T)});function OC(m){var y=ce(m);return y.__chain__=!0,y}function jY(m,y){return y(m),m}function Tb(m,y){return y(m)}var NY=_u(function(m){var y=m.length,T=y?m[0]:0,U=this.__wrapped__,te=function(pe){return Ot(pe,m)};return y>1||this.__actions__.length||!(U instanceof Or)||!Su(T)?this.thru(te):(U=U.slice(T,+T+(y?1:0)),U.__actions__.push({func:Tb,args:[te],thisArg:r}),new bi(U,this.__chain__).thru(function(pe){return y&&!pe.length&&pe.push(r),pe}))});function _Y(){return OC(this)}function SY(){return new bi(this.value(),this.__chain__)}function AY(){this.__values__===r&&(this.__values__=HC(this.value()));var m=this.__index__>=this.__values__.length,y=m?r:this.__values__[this.__index__++];return{done:m,value:y}}function kY(){return this}function CY(m){for(var y,T=this;T instanceof Of;){var U=SC(T);U.__index__=0,U.__values__=r,y?te.__wrapped__=U:y=U;var te=U;T=T.__wrapped__}return te.__wrapped__=m,y}function PY(){var m=this.__wrapped__;if(m instanceof Or){var y=m;return this.__actions__.length&&(y=new Or(this)),y=y.reverse(),y.__actions__.push({func:Tb,args:[KN],thisArg:r}),new bi(y,this.__chain__)}return this.thru(KN)}function EY(){return Mf(this.__wrapped__,this.__actions__)}var TY=Nb(function(m,y,T){un.call(m,T)?++m[T]:rt(m,T,1)});function OY(m,y,T){var U=vr(m)?pr:gs;return T&&Si(m,y,T)&&(y=r),U(m,Yt(y,3))}function LY(m,y){var T=vr(m)?Cr:Tn;return T(m,Yt(y,3))}var IY=aC(AC),MY=aC(kC);function DY(m,y){return Gr(Ob(m,y),1)}function RY(m,y){return Gr(Ob(m,y),G)}function FY(m,y,T){return T=T===r?1:_r(T),Gr(Ob(m,y),T)}function LC(m,y){var T=vr(m)?bt:jt;return T(m,Yt(y,3))}function IC(m,y){var T=vr(m)?rr:ht;return T(m,Yt(y,3))}var $Y=Nb(function(m,y,T){un.call(m,T)?m[T].push(y):rt(m,T,[y])});function BY(m,y,T,U){m=Vi(m)?m:Dp(m),T=T&&!U?_r(T):0;var te=m.length;return T<0&&(T=Ms(te+T,0)),Rb(m)?T<=te&&m.indexOf(y,T)>-1:!!te&&Go(m,y,T)>-1}var zY=wr(function(m,y,T){var U=-1,te=typeof y=="function",pe=Vi(m)?Ue(m.length):[];return jt(m,function(_e){pe[++U]=te?tt(y,_e,T):Wn(_e,y,T)}),pe}),UY=Nb(function(m,y,T){rt(m,T,y)});function Ob(m,y){var T=vr(m)?Wt:Kd;return T(m,Yt(y,3))}function qY(m,y,T,U){return m==null?[]:(vr(y)||(y=y==null?[]:[y]),T=U?r:T,vr(T)||(T=T==null?[]:[T]),vb(m,y,T))}var VY=Nb(function(m,y,T){m[T?0:1].push(y)},function(){return[[],[]]});function WY(m,y,T){var U=vr(m)?rs:xu,te=arguments.length<3;return U(m,Yt(y,4),T,te,jt)}function HY(m,y,T){var U=vr(m)?ia:xu,te=arguments.length<3;return U(m,Yt(y,4),T,te,ht)}function GY(m,y){var T=vr(m)?Cr:Tn;return T(m,Mb(Yt(y,3)))}function KY(m){var y=vr(m)?$e:IN;return y(m)}function YY(m,y,T){(T?Si(m,y,T):y===r)?y=1:y=_r(y);var U=vr(m)?be:Cp;return U(m,y)}function ZY(m){var y=vr(m)?Oe:bb;return y(m)}function XY(m){if(m==null)return 0;if(Vi(m))return Rb(m)?fo(m):m.length;var y=ai(m);return y==je||y==de?m.size:Hd(m).length}function QY(m,y,T){var U=vr(m)?co:MN;return T&&Si(m,y,T)&&(y=r),U(m,Yt(y,3))}var JY=wr(function(m,y){if(m==null)return[];var T=y.length;return T>1&&Si(m,y[0],y[1])?y=[]:T>2&&Si(y[0],y[1],y[2])&&(y=[y[0]]),vb(m,Gr(y,1),[])}),Lb=d0||function(){return ms.Date.now()};function eZ(m,y){if(typeof y!="function")throw new yi(o);return m=_r(m),function(){if(--m<1)return y.apply(this,arguments)}}function MC(m,y,T){return y=T?r:y,y=m&&y==null?m.length:y,Nu(m,I,r,r,r,r,y)}function DC(m,y){var T;if(typeof y!="function")throw new yi(o);return m=_r(m),function(){return--m>0&&(T=y.apply(this,arguments)),m<=1&&(y=r),T}}var ZN=wr(function(m,y,T){var U=v;if(T.length){var te=la(T,Ip(ZN));U|=S}return Nu(m,U,y,T,te)}),RC=wr(function(m,y,T){var U=v|b;if(T.length){var te=la(T,Ip(RC));U|=S}return Nu(y,U,m,T,te)});function FC(m,y,T){y=T?r:y;var U=Nu(m,N,r,r,r,r,r,y);return U.placeholder=FC.placeholder,U}function $C(m,y,T){y=T?r:y;var U=Nu(m,A,r,r,r,r,r,y);return U.placeholder=$C.placeholder,U}function BC(m,y,T){var U,te,pe,_e,Pe,Ie,nt=0,st=!1,at=!1,xt=!0;if(typeof m!="function")throw new yi(o);y=tl(y)||0,ys(T)&&(st=!!T.leading,at="maxWait"in T,pe=at?Ms(tl(T.maxWait)||0,y):pe,xt="trailing"in T?!!T.trailing:xt);function Lt(Rs){var Bl=U,Cu=te;return U=te=r,nt=Rs,_e=m.apply(Cu,Bl),_e}function Xt(Rs){return nt=Rs,Pe=_0(Br,y),st?Lt(Rs):_e}function Pr(Rs){var Bl=Rs-Ie,Cu=Rs-nt,aP=y-Bl;return at?Na(aP,pe-Cu):aP}function Qt(Rs){var Bl=Rs-Ie,Cu=Rs-nt;return Ie===r||Bl>=y||Bl<0||at&&Cu>=pe}function Br(){var Rs=Lb();if(Qt(Rs))return Kr(Rs);Pe=_0(Br,Pr(Rs))}function Kr(Rs){return Pe=r,xt&&U?Lt(Rs):(U=te=r,_e)}function vo(){Pe!==r&&Ep(Pe),nt=0,U=Ie=te=Pe=r}function Ai(){return Pe===r?_e:Kr(Lb())}function bo(){var Rs=Lb(),Bl=Qt(Rs);if(U=arguments,te=this,Ie=Rs,Bl){if(Pe===r)return Xt(Ie);if(at)return Ep(Pe),Pe=_0(Br,y),Lt(Ie)}return Pe===r&&(Pe=_0(Br,y)),_e}return bo.cancel=vo,bo.flush=Ai,bo}var tZ=wr(function(m,y){return Ss(m,1,y)}),rZ=wr(function(m,y,T){return Ss(m,tl(y)||0,T)});function nZ(m){return Nu(m,E)}function Ib(m,y){if(typeof m!="function"||y!=null&&typeof y!="function")throw new yi(o);var T=function(){var U=arguments,te=y?y.apply(this,U):U[0],pe=T.cache;if(pe.has(te))return pe.get(te);var _e=m.apply(this,U);return T.cache=pe.set(te,_e)||pe,_e};return T.cache=new(Ib.Cache||Xo),T}Ib.Cache=Xo;function Mb(m){if(typeof m!="function")throw new yi(o);return function(){var y=arguments;switch(y.length){case 0:return!m.call(this);case 1:return!m.call(this,y[0]);case 2:return!m.call(this,y[0],y[1]);case 3:return!m.call(this,y[0],y[1],y[2])}return!m.apply(this,y)}}function sZ(m){return DC(2,m)}var aZ=jb(function(m,y){y=y.length==1&&vr(y[0])?Wt(y[0],nn(Yt())):Wt(Gr(y,1),nn(Yt()));var T=y.length;return wr(function(U){for(var te=-1,pe=Na(U.length,T);++te<pe;)U[te]=y[te].call(this,U[te]);return tt(m,this,U)})}),XN=wr(function(m,y){var T=la(y,Ip(XN));return Nu(m,S,r,y,T)}),zC=wr(function(m,y){var T=la(y,Ip(zC));return Nu(m,L,r,y,T)}),iZ=_u(function(m,y){return Nu(m,k,r,r,r,y)});function oZ(m,y){if(typeof m!="function")throw new yi(o);return y=y===r?y:_r(y),wr(m,y)}function lZ(m,y){if(typeof m!="function")throw new yi(o);return y=y==null?0:Ms(_r(y),0),wr(function(T){var U=T[y],te=Pc(T,0,y);return U&&Pn(te,U),tt(m,this,te)})}function cZ(m,y,T){var U=!0,te=!0;if(typeof m!="function")throw new yi(o);return ys(T)&&(U="leading"in T?!!T.leading:U,te="trailing"in T?!!T.trailing:te),BC(m,y,{leading:U,maxWait:y,trailing:te})}function uZ(m){return MC(m,1)}function dZ(m,y){return XN(eh(y),m)}function hZ(){if(!arguments.length)return[];var m=arguments[0];return vr(m)?m:[m]}function fZ(m){return qt(m,f)}function mZ(m,y){return y=typeof y=="function"?y:r,qt(m,f,y)}function pZ(m){return qt(m,h|f)}function gZ(m,y){return y=typeof y=="function"?y:r,qt(m,h|f,y)}function xZ(m,y){return y==null||Mr(m,y,Sa(y))}function $l(m,y){return m===y||m!==m&&y!==y}var yZ=kb(an),vZ=kb(function(m,y){return m>=y}),Ff=ri(function(){return arguments}())?ri:function(m){return As(m)&&un.call(m,"callee")&&!ti.call(m,"callee")},vr=Ue.isArray,bZ=F?nn(F):$a;function Vi(m){return m!=null&&Db(m.length)&&!Au(m)}function Ds(m){return As(m)&&Vi(m)}function wZ(m){return m===!0||m===!1||As(m)&&Dr(m)==xe}var th=h0||l5,jZ=re?nn(re):wi;function NZ(m){return As(m)&&m.nodeType===1&&!S0(m)}function _Z(m){if(m==null)return!0;if(Vi(m)&&(vr(m)||typeof m=="string"||typeof m.splice=="function"||th(m)||Mp(m)||Ff(m)))return!m.length;var y=ai(m);if(y==je||y==de)return!m.size;if(N0(m))return!Hd(m).length;for(var T in m)if(un.call(m,T))return!1;return!0}function SZ(m,y){return fa(m,y)}function AZ(m,y,T){T=typeof T=="function"?T:r;var U=T?T(m,y):r;return U===r?fa(m,y,r,T):!!U}function QN(m){if(!As(m))return!1;var y=Dr(m);return y==ne||y==me||typeof m.message=="string"&&typeof m.name=="string"&&!S0(m)}function kZ(m){return typeof m=="number"&&cb(m)}function Au(m){if(!ys(m))return!1;var y=Dr(m);return y==he||y==ke||y==ae||y==Ve}function UC(m){return typeof m=="number"&&m==_r(m)}function Db(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=V}function ys(m){var y=typeof m;return m!=null&&(y=="object"||y=="function")}function As(m){return m!=null&&typeof m=="object"}var qC=we?nn(we):ji;function CZ(m,y){return m===y||vn(m,y,UN(y))}function PZ(m,y,T){return T=typeof T=="function"?T:r,vn(m,y,UN(y),T)}function EZ(m){return VC(m)&&m!=+m}function TZ(m){if(mK(m))throw new zt(i);return si(m)}function OZ(m){return m===null}function LZ(m){return m==null}function VC(m){return typeof m=="number"||As(m)&&Dr(m)==Q}function S0(m){if(!As(m)||Dr(m)!=Ye)return!1;var y=Fd(m);if(y===null)return!0;var T=un.call(y,"constructor")&&y.constructor;return typeof T=="function"&&T instanceof T&&Nf.call(T)==ab}var JN=Ae?nn(Ae):go;function IZ(m){return UC(m)&&m>=-V&&m<=V}var WC=Le?nn(Le):wu;function Rb(m){return typeof m=="string"||!vr(m)&&As(m)&&Dr(m)==Se}function yo(m){return typeof m=="symbol"||As(m)&&Dr(m)==De}var Mp=Je?nn(Je):Dl;function MZ(m){return m===r}function DZ(m){return As(m)&&ai(m)==Fe}function RZ(m){return As(m)&&Dr(m)==Ke}var FZ=kb(Gd),$Z=kb(function(m,y){return m<=y});function HC(m){if(!m)return[];if(Vi(m))return Rb(m)?ca(m):qi(m);if(Nc&&m[Nc])return wc(m[Nc]());var y=ai(m),T=y==je?qn:y==de?gi:Dp;return T(m)}function ku(m){if(!m)return m===0?m:0;if(m=tl(m),m===G||m===-G){var y=m<0?-1:1;return y*Y}return m===m?m:0}function _r(m){var y=ku(m),T=y%1;return y===y?T?y-T:y:0}function GC(m){return m?vt(_r(m),0,q):0}function tl(m){if(typeof m=="number")return m;if(yo(m))return ie;if(ys(m)){var y=typeof m.valueOf=="function"?m.valueOf():m;m=ys(y)?y+"":y}if(typeof m!="string")return m===0?m:+m;m=xf(m);var T=hu.test(m);return T||fu.test(m)?gu(m.slice(2),T?2:8):Bi.test(m)?ie:+m}function KC(m){return Ec(m,Wi(m))}function BZ(m){return m?vt(_r(m),-V,V):m===0?m:0}function bn(m){return m==null?"":_i(m)}var zZ=Op(function(m,y){if(N0(y)||Vi(y)){Ec(y,Sa(y),m);return}for(var T in y)un.call(y,T)&&Ze(m,T,y[T])}),YC=Op(function(m,y){Ec(y,Wi(y),m)}),Fb=Op(function(m,y,T,U){Ec(y,Wi(y),m,U)}),UZ=Op(function(m,y,T,U){Ec(y,Sa(y),m,U)}),qZ=_u(Ot);function VZ(m,y){var T=Wd(m);return y==null?T:et(T,y)}var WZ=wr(function(m,y){m=yn(m);var T=-1,U=y.length,te=U>2?y[2]:r;for(te&&Si(y[0],y[1],te)&&(U=1);++T<U;)for(var pe=y[T],_e=Wi(pe),Pe=-1,Ie=_e.length;++Pe<Ie;){var nt=_e[Pe],st=m[nt];(st===r||$l(st,vu[nt])&&!un.call(m,nt))&&(m[nt]=pe[nt])}return m}),HZ=wr(function(m){return m.push(r,hC),tt(ZC,r,m)});function GZ(m,y){return bc(m,Yt(y,3),In)}function KZ(m,y){return bc(m,Yt(y,3),da)}function YZ(m,y){return m==null?m:ua(m,Yt(y,3),Wi)}function ZZ(m,y){return m==null?m:Vn(m,Yt(y,3),Wi)}function XZ(m,y){return m&&In(m,Yt(y,3))}function QZ(m,y){return m&&da(m,Yt(y,3))}function JZ(m){return m==null?[]:ns(m,Sa(m))}function eX(m){return m==null?[]:ns(m,Wi(m))}function e5(m,y,T){var U=m==null?r:Nr(m,y);return U===r?T:U}function tX(m,y){return m!=null&&pC(m,y,ha)}function t5(m,y){return m!=null&&pC(m,y,po)}var rX=oC(function(m,y,T){y!=null&&typeof y.toString!="function"&&(y=_f.call(y)),m[y]=T},n5(Hi)),nX=oC(function(m,y,T){y!=null&&typeof y.toString!="function"&&(y=_f.call(y)),un.call(m,y)?m[y].push(T):m[y]=[T]},Yt),sX=wr(Wn);function Sa(m){return Vi(m)?Te(m):Hd(m)}function Wi(m){return Vi(m)?Te(m,!0):g0(m)}function aX(m,y){var T={};return y=Yt(y,3),In(m,function(U,te,pe){rt(T,y(U,te,pe),U)}),T}function iX(m,y){var T={};return y=Yt(y,3),In(m,function(U,te,pe){rt(T,te,y(U,te,pe))}),T}var oX=Op(function(m,y,T){Yd(m,y,T)}),ZC=Op(function(m,y,T,U){Yd(m,y,T,U)}),lX=_u(function(m,y){var T={};if(m==null)return T;var U=!1;y=Wt(y,function(pe){return pe=Jo(pe,m),U||(U=pe.length>1),pe}),Ec(m,BN(m),T),U&&(T=qt(T,h|p|f,rK));for(var te=y.length;te--;)w0(T,y[te]);return T});function cX(m,y){return XC(m,Mb(Yt(y)))}var uX=_u(function(m,y){return m==null?{}:LN(m,y)});function XC(m,y){if(m==null)return{};var T=Wt(BN(m),function(U){return[U]});return y=Yt(y),x0(m,T,function(U,te){return y(U,te[0])})}function dX(m,y,T){y=Jo(y,m);var U=-1,te=y.length;for(te||(te=1,m=r);++U<te;){var pe=m==null?r:m[Tc(y[U])];pe===r&&(U=te,pe=T),m=Au(pe)?pe.call(m):pe}return m}function hX(m,y,T){return m==null?m:Xd(m,y,T)}function fX(m,y,T,U){return U=typeof U=="function"?U:r,m==null?m:Xd(m,y,T,U)}var QC=uC(Sa),JC=uC(Wi);function mX(m,y,T){var U=vr(m),te=U||th(m)||Mp(m);if(y=Yt(y,4),T==null){var pe=m&&m.constructor;te?T=U?new pe:[]:ys(m)?T=Au(pe)?Wd(Fd(m)):{}:T={}}return(te?bt:In)(m,function(_e,Pe,Ie){return y(T,_e,Pe,Ie)}),T}function pX(m,y){return m==null?!0:w0(m,y)}function gX(m,y,T){return m==null?m:Qd(m,y,eh(T))}function xX(m,y,T,U){return U=typeof U=="function"?U:r,m==null?m:Qd(m,y,eh(T),U)}function Dp(m){return m==null?[]:Qa(m,Sa(m))}function yX(m){return m==null?[]:Qa(m,Wi(m))}function vX(m,y,T){return T===r&&(T=y,y=r),T!==r&&(T=tl(T),T=T===T?T:0),y!==r&&(y=tl(y),y=y===y?y:0),vt(tl(m),y,T)}function bX(m,y,T){return y=ku(y),T===r?(T=y,y=0):T=ku(T),m=tl(m),xs(m,y,T)}function wX(m,y,T){if(T&&typeof T!="boolean"&&Si(m,y,T)&&(y=T=r),T===r&&(typeof y=="boolean"?(T=y,y=r):typeof m=="boolean"&&(T=m,m=r)),m===r&&y===r?(m=0,y=1):(m=ku(m),y===r?(y=m,m=0):y=ku(y)),m>y){var U=m;m=y,y=U}if(T||m%1||y%1){var te=db();return Na(m+te*(y-m+pu("1e-"+((te+"").length-1))),y)}return Zd(m,y)}var jX=Lp(function(m,y,T){return y=y.toLowerCase(),m+(T?eP(y):y)});function eP(m){return r5(bn(m).toLowerCase())}function tP(m){return m=bn(m),m&&m.replace(pd,Ja).replace(a0,"")}function NX(m,y,T){m=bn(m),y=_i(y);var U=m.length;T=T===r?U:vt(_r(T),0,U);var te=T;return T-=y.length,T>=0&&m.slice(T,te)==y}function _X(m){return m=bn(m),m&&cn.test(m)?m.replace(xn,ei):m}function SX(m){return m=bn(m),m&&Fi.test(m)?m.replace(no,"\\$&"):m}var AX=Lp(function(m,y,T){return m+(T?"-":"")+y.toLowerCase()}),kX=Lp(function(m,y,T){return m+(T?" ":"")+y.toLowerCase()}),CX=sC("toLowerCase");function PX(m,y,T){m=bn(m),y=_r(y);var U=y?fo(m):0;if(!y||U>=y)return m;var te=(y-U)/2;return Ab(Bd(te),T)+m+Ab($d(te),T)}function EX(m,y,T){m=bn(m),y=_r(y);var U=y?fo(m):0;return y&&U<y?m+Ab(y-U,T):m}function TX(m,y,T){m=bn(m),y=_r(y);var U=y?fo(m):0;return y&&U<y?Ab(y-U,T)+m:m}function OX(m,y,T){return T||y==null?y=0:y&&(y=+y),wN(bn(m).replace(Ya,""),y||0)}function LX(m,y,T){return(T?Si(m,y,T):y===r)?y=1:y=_r(y),ju(bn(m),y)}function IX(){var m=arguments,y=bn(m[0]);return m.length<3?y:y.replace(m[1],m[2])}var MX=Lp(function(m,y,T){return m+(T?"_":"")+y.toLowerCase()});function DX(m,y,T){return T&&typeof T!="number"&&Si(m,y,T)&&(y=T=r),T=T===r?q:T>>>0,T?(m=bn(m),m&&(typeof y=="string"||y!=null&&!JN(y))&&(y=_i(y),!y&&pi(m))?Pc(ca(m),0,T):m.split(y,T)):[]}var RX=Lp(function(m,y,T){return m+(T?" ":"")+r5(y)});function FX(m,y,T){return m=bn(m),T=T==null?0:vt(_r(T),0,m.length),y=_i(y),m.slice(T,T+y.length)==y}function $X(m,y,T){var U=ce.templateSettings;T&&Si(m,y,T)&&(y=r),m=bn(m),y=Fb({},y,U,dC);var te=Fb({},y.imports,U.imports,dC),pe=Sa(te),_e=Qa(te,pe),Pe,Ie,nt=0,st=y.interpolate||Nl,at="__p += '",xt=wp((y.escape||Nl).source+"|"+st.source+"|"+(st===qo?ao:Nl).source+"|"+(y.evaluate||Nl).source+"|$","g"),Lt="//# sourceURL="+(un.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ff+"]")+`
`;m.replace(xt,function(Qt,Br,Kr,vo,Ai,bo){return Kr||(Kr=vo),at+=m.slice(nt,bo).replace(Qx,yu),Br&&(Pe=!0,at+=`' +
__e(`+Br+`) +
'`),Ai&&(Ie=!0,at+=`';
`+Ai+`;
__p += '`),Kr&&(at+=`' +
((__t = (`+Kr+`)) == null ? '' : __t) +
'`),nt=bo+Qt.length,Qt}),at+=`';
`;var Xt=un.call(y,"variable")&&y.variable;if(!Xt)at=`with (obj) {
`+at+`
}
`;else if(so.test(Xt))throw new zt(l);at=(Ie?at.replace(kr,""):at).replace(mr,"$1").replace(ds,"$1;"),at="function("+(Xt||"obj")+`) {
`+(Xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+at+`return __p
}`;var Pr=nP(function(){return $r(pe,Lt+"return "+at).apply(r,_e)});if(Pr.source=at,QN(Pr))throw Pr;return Pr}function BX(m){return bn(m).toLowerCase()}function zX(m){return bn(m).toUpperCase()}function UX(m,y,T){if(m=bn(m),m&&(T||y===r))return xf(m);if(!m||!(y=_i(y)))return m;var U=ca(m),te=ca(y),pe=Ld(U,te),_e=El(U,te)+1;return Pc(U,pe,_e).join("")}function qX(m,y,T){if(m=bn(m),m&&(T||y===r))return m.slice(0,jc(m)+1);if(!m||!(y=_i(y)))return m;var U=ca(m),te=El(U,ca(y))+1;return Pc(U,0,te).join("")}function VX(m,y,T){if(m=bn(m),m&&(T||y===r))return m.replace(Ya,"");if(!m||!(y=_i(y)))return m;var U=ca(m),te=Ld(U,ca(y));return Pc(U,te).join("")}function WX(m,y){var T=B,U=C;if(ys(y)){var te="separator"in y?y.separator:te;T="length"in y?_r(y.length):T,U="omission"in y?_i(y.omission):U}m=bn(m);var pe=m.length;if(pi(m)){var _e=ca(m);pe=_e.length}if(T>=pe)return m;var Pe=T-fo(U);if(Pe<1)return U;var Ie=_e?Pc(_e,0,Pe).join(""):m.slice(0,Pe);if(te===r)return Ie+U;if(_e&&(Pe+=Ie.length-Pe),JN(te)){if(m.slice(Pe).search(te)){var nt,st=Ie;for(te.global||(te=wp(te.source,bn($i.exec(te))+"g")),te.lastIndex=0;nt=te.exec(st);)var at=nt.index;Ie=Ie.slice(0,at===r?Pe:at)}}else if(m.indexOf(_i(te),Pe)!=Pe){var xt=Ie.lastIndexOf(te);xt>-1&&(Ie=Ie.slice(0,xt))}return Ie+U}function HX(m){return m=bn(m),m&&lr.test(m)?m.replace(Ns,Tl):m}var GX=Lp(function(m,y,T){return m+(T?" ":"")+y.toUpperCase()}),r5=sC("toUpperCase");function rP(m,y,T){return m=bn(m),y=T?r:y,y===r?yf(m)?Yo(m):vp(m):m.match(y)||[]}var nP=wr(function(m,y){try{return tt(m,r,y)}catch(T){return QN(T)?T:new zt(T)}}),KX=_u(function(m,y){return bt(y,function(T){T=Tc(T),rt(m,T,ZN(m[T],m))}),m});function YX(m){var y=m==null?0:m.length,T=Yt();return m=y?Wt(m,function(U){if(typeof U[1]!="function")throw new yi(o);return[T(U[0]),U[1]]}):[],wr(function(U){for(var te=-1;++te<y;){var pe=m[te];if(tt(pe[0],this,U))return tt(pe[1],this,U)}})}function ZX(m){return Tt(qt(m,h))}function n5(m){return function(){return m}}function XX(m,y){return m==null||m!==m?y:m}var QX=iC(),JX=iC(!0);function Hi(m){return m}function s5(m){return Ys(typeof m=="function"?m:qt(m,h))}function eQ(m){return gb(qt(m,h))}function tQ(m,y){return xb(m,qt(y,h))}var rQ=wr(function(m,y){return function(T){return Wn(T,m,y)}}),nQ=wr(function(m,y){return function(T){return Wn(m,T,y)}});function a5(m,y,T){var U=Sa(y),te=ns(y,U);T==null&&!(ys(y)&&(te.length||!U.length))&&(T=y,y=m,m=this,te=ns(y,Sa(y)));var pe=!(ys(T)&&"chain"in T)||!!T.chain,_e=Au(m);return bt(te,function(Pe){var Ie=y[Pe];m[Pe]=Ie,_e&&(m.prototype[Pe]=function(){var nt=this.__chain__;if(pe||nt){var st=m(this.__wrapped__),at=st.__actions__=qi(this.__actions__);return at.push({func:Ie,args:arguments,thisArg:m}),st.__chain__=nt,st}return Ie.apply(m,Pn([this.value()],arguments))})}),m}function sQ(){return ms._===this&&(ms._=ib),this}function i5(){}function aQ(m){return m=_r(m),wr(function(y){return yb(y,m)})}var iQ=RN(Wt),oQ=RN(pr),lQ=RN(co);function sP(m){return VN(m)?uo(Tc(m)):Ap(m)}function cQ(m){return function(y){return m==null?r:Nr(m,y)}}var uQ=lC(),dQ=lC(!0);function o5(){return[]}function l5(){return!1}function hQ(){return{}}function fQ(){return""}function mQ(){return!0}function pQ(m,y){if(m=_r(m),m<1||m>V)return[];var T=q,U=Na(m,q);y=Yt(y),m-=q;for(var te=Td(U,y);++T<m;)y(T);return te}function gQ(m){return vr(m)?Wt(m,Tc):yo(m)?[m]:qi(_C(bn(m)))}function xQ(m){var y=++sb;return bn(m)+y}var yQ=Sb(function(m,y){return m+y},0),vQ=FN("ceil"),bQ=Sb(function(m,y){return m/y},1),wQ=FN("floor");function jQ(m){return m&&m.length?ir(m,Hi,an):r}function NQ(m,y){return m&&m.length?ir(m,Yt(y,2),an):r}function _Q(m){return Is(m,Hi)}function SQ(m,y){return Is(m,Yt(y,2))}function AQ(m){return m&&m.length?ir(m,Hi,Gd):r}function kQ(m,y){return m&&m.length?ir(m,Yt(y,2),Gd):r}var CQ=Sb(function(m,y){return m*y},1),PQ=FN("round"),EQ=Sb(function(m,y){return m-y},0);function TQ(m){return m&&m.length?oa(m,Hi):0}function OQ(m,y){return m&&m.length?oa(m,Yt(y,2)):0}return ce.after=eZ,ce.ary=MC,ce.assign=zZ,ce.assignIn=YC,ce.assignInWith=Fb,ce.assignWith=UZ,ce.at=qZ,ce.before=DC,ce.bind=ZN,ce.bindAll=KX,ce.bindKey=RC,ce.castArray=hZ,ce.chain=OC,ce.chunk=wK,ce.compact=jK,ce.concat=NK,ce.cond=YX,ce.conforms=ZX,ce.constant=n5,ce.countBy=TY,ce.create=VZ,ce.curry=FC,ce.curryRight=$C,ce.debounce=BC,ce.defaults=WZ,ce.defaultsDeep=HZ,ce.defer=tZ,ce.delay=rZ,ce.difference=_K,ce.differenceBy=SK,ce.differenceWith=AK,ce.drop=kK,ce.dropRight=CK,ce.dropRightWhile=PK,ce.dropWhile=EK,ce.fill=TK,ce.filter=LY,ce.flatMap=DY,ce.flatMapDeep=RY,ce.flatMapDepth=FY,ce.flatten=CC,ce.flattenDeep=OK,ce.flattenDepth=LK,ce.flip=nZ,ce.flow=QX,ce.flowRight=JX,ce.fromPairs=IK,ce.functions=JZ,ce.functionsIn=eX,ce.groupBy=$Y,ce.initial=DK,ce.intersection=RK,ce.intersectionBy=FK,ce.intersectionWith=$K,ce.invert=rX,ce.invertBy=nX,ce.invokeMap=zY,ce.iteratee=s5,ce.keyBy=UY,ce.keys=Sa,ce.keysIn=Wi,ce.map=Ob,ce.mapKeys=aX,ce.mapValues=iX,ce.matches=eQ,ce.matchesProperty=tQ,ce.memoize=Ib,ce.merge=oX,ce.mergeWith=ZC,ce.method=rQ,ce.methodOf=nQ,ce.mixin=a5,ce.negate=Mb,ce.nthArg=aQ,ce.omit=lX,ce.omitBy=cX,ce.once=sZ,ce.orderBy=qY,ce.over=iQ,ce.overArgs=aZ,ce.overEvery=oQ,ce.overSome=lQ,ce.partial=XN,ce.partialRight=zC,ce.partition=VY,ce.pick=uX,ce.pickBy=XC,ce.property=sP,ce.propertyOf=cQ,ce.pull=qK,ce.pullAll=EC,ce.pullAllBy=VK,ce.pullAllWith=WK,ce.pullAt=HK,ce.range=uQ,ce.rangeRight=dQ,ce.rearg=iZ,ce.reject=GY,ce.remove=GK,ce.rest=oZ,ce.reverse=KN,ce.sampleSize=YY,ce.set=hX,ce.setWith=fX,ce.shuffle=ZY,ce.slice=KK,ce.sortBy=JY,ce.sortedUniq=tY,ce.sortedUniqBy=rY,ce.split=DX,ce.spread=lZ,ce.tail=nY,ce.take=sY,ce.takeRight=aY,ce.takeRightWhile=iY,ce.takeWhile=oY,ce.tap=jY,ce.throttle=cZ,ce.thru=Tb,ce.toArray=HC,ce.toPairs=QC,ce.toPairsIn=JC,ce.toPath=gQ,ce.toPlainObject=KC,ce.transform=mX,ce.unary=uZ,ce.union=lY,ce.unionBy=cY,ce.unionWith=uY,ce.uniq=dY,ce.uniqBy=hY,ce.uniqWith=fY,ce.unset=pX,ce.unzip=YN,ce.unzipWith=TC,ce.update=gX,ce.updateWith=xX,ce.values=Dp,ce.valuesIn=yX,ce.without=mY,ce.words=rP,ce.wrap=dZ,ce.xor=pY,ce.xorBy=gY,ce.xorWith=xY,ce.zip=yY,ce.zipObject=vY,ce.zipObjectDeep=bY,ce.zipWith=wY,ce.entries=QC,ce.entriesIn=JC,ce.extend=YC,ce.extendWith=Fb,a5(ce,ce),ce.add=yQ,ce.attempt=nP,ce.camelCase=jX,ce.capitalize=eP,ce.ceil=vQ,ce.clamp=vX,ce.clone=fZ,ce.cloneDeep=pZ,ce.cloneDeepWith=gZ,ce.cloneWith=mZ,ce.conformsTo=xZ,ce.deburr=tP,ce.defaultTo=XX,ce.divide=bQ,ce.endsWith=NX,ce.eq=$l,ce.escape=_X,ce.escapeRegExp=SX,ce.every=OY,ce.find=IY,ce.findIndex=AC,ce.findKey=GZ,ce.findLast=MY,ce.findLastIndex=kC,ce.findLastKey=KZ,ce.floor=wQ,ce.forEach=LC,ce.forEachRight=IC,ce.forIn=YZ,ce.forInRight=ZZ,ce.forOwn=XZ,ce.forOwnRight=QZ,ce.get=e5,ce.gt=yZ,ce.gte=vZ,ce.has=tX,ce.hasIn=t5,ce.head=PC,ce.identity=Hi,ce.includes=BY,ce.indexOf=MK,ce.inRange=bX,ce.invoke=sX,ce.isArguments=Ff,ce.isArray=vr,ce.isArrayBuffer=bZ,ce.isArrayLike=Vi,ce.isArrayLikeObject=Ds,ce.isBoolean=wZ,ce.isBuffer=th,ce.isDate=jZ,ce.isElement=NZ,ce.isEmpty=_Z,ce.isEqual=SZ,ce.isEqualWith=AZ,ce.isError=QN,ce.isFinite=kZ,ce.isFunction=Au,ce.isInteger=UC,ce.isLength=Db,ce.isMap=qC,ce.isMatch=CZ,ce.isMatchWith=PZ,ce.isNaN=EZ,ce.isNative=TZ,ce.isNil=LZ,ce.isNull=OZ,ce.isNumber=VC,ce.isObject=ys,ce.isObjectLike=As,ce.isPlainObject=S0,ce.isRegExp=JN,ce.isSafeInteger=IZ,ce.isSet=WC,ce.isString=Rb,ce.isSymbol=yo,ce.isTypedArray=Mp,ce.isUndefined=MZ,ce.isWeakMap=DZ,ce.isWeakSet=RZ,ce.join=BK,ce.kebabCase=AX,ce.last=el,ce.lastIndexOf=zK,ce.lowerCase=kX,ce.lowerFirst=CX,ce.lt=FZ,ce.lte=$Z,ce.max=jQ,ce.maxBy=NQ,ce.mean=_Q,ce.meanBy=SQ,ce.min=AQ,ce.minBy=kQ,ce.stubArray=o5,ce.stubFalse=l5,ce.stubObject=hQ,ce.stubString=fQ,ce.stubTrue=mQ,ce.multiply=CQ,ce.nth=UK,ce.noConflict=sQ,ce.noop=i5,ce.now=Lb,ce.pad=PX,ce.padEnd=EX,ce.padStart=TX,ce.parseInt=OX,ce.random=wX,ce.reduce=WY,ce.reduceRight=HY,ce.repeat=LX,ce.replace=IX,ce.result=dX,ce.round=PQ,ce.runInContext=Ee,ce.sample=KY,ce.size=XY,ce.snakeCase=MX,ce.some=QY,ce.sortedIndex=YK,ce.sortedIndexBy=ZK,ce.sortedIndexOf=XK,ce.sortedLastIndex=QK,ce.sortedLastIndexBy=JK,ce.sortedLastIndexOf=eY,ce.startCase=RX,ce.startsWith=FX,ce.subtract=EQ,ce.sum=TQ,ce.sumBy=OQ,ce.template=$X,ce.times=pQ,ce.toFinite=ku,ce.toInteger=_r,ce.toLength=GC,ce.toLower=BX,ce.toNumber=tl,ce.toSafeInteger=BZ,ce.toString=bn,ce.toUpper=zX,ce.trim=UX,ce.trimEnd=qX,ce.trimStart=VX,ce.truncate=WX,ce.unescape=HX,ce.uniqueId=xQ,ce.upperCase=GX,ce.upperFirst=r5,ce.each=LC,ce.eachRight=IC,ce.first=PC,a5(ce,function(){var m={};return In(ce,function(y,T){un.call(ce.prototype,T)||(m[T]=y)}),m}(),{chain:!1}),ce.VERSION=s,bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){ce[m].placeholder=ce}),bt(["drop","take"],function(m,y){Or.prototype[m]=function(T){T=T===r?1:Ms(_r(T),0);var U=this.__filtered__&&!y?new Or(this):this.clone();return U.__filtered__?U.__takeCount__=Na(T,U.__takeCount__):U.__views__.push({size:Na(T,q),type:m+(U.__dir__<0?"Right":"")}),U},Or.prototype[m+"Right"]=function(T){return this.reverse()[m](T).reverse()}}),bt(["filter","map","takeWhile"],function(m,y){var T=y+1,U=T==D||T==z;Or.prototype[m]=function(te){var pe=this.clone();return pe.__iteratees__.push({iteratee:Yt(te,3),type:T}),pe.__filtered__=pe.__filtered__||U,pe}}),bt(["head","last"],function(m,y){var T="take"+(y?"Right":"");Or.prototype[m]=function(){return this[T](1).value()[0]}}),bt(["initial","tail"],function(m,y){var T="drop"+(y?"":"Right");Or.prototype[m]=function(){return this.__filtered__?new Or(this):this[T](1)}}),Or.prototype.compact=function(){return this.filter(Hi)},Or.prototype.find=function(m){return this.filter(m).head()},Or.prototype.findLast=function(m){return this.reverse().find(m)},Or.prototype.invokeMap=wr(function(m,y){return typeof m=="function"?new Or(this):this.map(function(T){return Wn(T,m,y)})}),Or.prototype.reject=function(m){return this.filter(Mb(Yt(m)))},Or.prototype.slice=function(m,y){m=_r(m);var T=this;return T.__filtered__&&(m>0||y<0)?new Or(T):(m<0?T=T.takeRight(-m):m&&(T=T.drop(m)),y!==r&&(y=_r(y),T=y<0?T.dropRight(-y):T.take(y-m)),T)},Or.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Or.prototype.toArray=function(){return this.take(q)},In(Or.prototype,function(m,y){var T=/^(?:filter|find|map|reject)|While$/.test(y),U=/^(?:head|last)$/.test(y),te=ce[U?"take"+(y=="last"?"Right":""):y],pe=U||/^find/.test(y);te&&(ce.prototype[y]=function(){var _e=this.__wrapped__,Pe=U?[1]:arguments,Ie=_e instanceof Or,nt=Pe[0],st=Ie||vr(_e),at=function(Br){var Kr=te.apply(ce,Pn([Br],Pe));return U&&xt?Kr[0]:Kr};st&&T&&typeof nt=="function"&&nt.length!=1&&(Ie=st=!1);var xt=this.__chain__,Lt=!!this.__actions__.length,Xt=pe&&!xt,Pr=Ie&&!Lt;if(!pe&&st){_e=Pr?_e:new Or(this);var Qt=m.apply(_e,Pe);return Qt.__actions__.push({func:Tb,args:[at],thisArg:r}),new bi(Qt,xt)}return Xt&&Pr?m.apply(this,Pe):(Qt=this.thru(at),Xt?U?Qt.value()[0]:Qt.value():Qt)})}),bt(["pop","push","shift","sort","splice","unshift"],function(m){var y=wf[m],T=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",U=/^(?:pop|shift)$/.test(m);ce.prototype[m]=function(){var te=arguments;if(U&&!this.__chain__){var pe=this.value();return y.apply(vr(pe)?pe:[],te)}return this[T](function(_e){return y.apply(vr(_e)?_e:[],te)})}}),In(Or.prototype,function(m,y){var T=ce[y];if(T){var U=T.name+"";un.call(Vd,U)||(Vd[U]=[]),Vd[U].push({name:y,func:T})}}),Vd[_b(r,b).name]=[{name:"wrapper",func:r}],Or.prototype.clone=hb,Or.prototype.reverse=_N,Or.prototype.value=_p,ce.prototype.at=NY,ce.prototype.chain=_Y,ce.prototype.commit=SY,ce.prototype.next=AY,ce.prototype.plant=CY,ce.prototype.reverse=PY,ce.prototype.toJSON=ce.prototype.valueOf=ce.prototype.value=EY,ce.prototype.first=ce.prototype.head,Nc&&(ce.prototype[Nc]=kY),ce},sn=En();lo?((lo.exports=sn)._=sn,kl._=sn):ms._=sn}).call(ul)})(zw,zw.exports);var H9e=zw.exports;const G9e=({key:e,data:t,enabled:r=!0,debounceMs:s=500})=>{const a=_.useCallback(H9e.debounce(l=>{if(r)try{localStorage.setItem(e,JSON.stringify(l)),console.log(`Draft auto-saved: ${e}`)}catch(c){console.warn("Failed to save draft:",c)}},s),[e,r,s]);_.useEffect(()=>(t&&r&&a(t),()=>{a.cancel()}),[t,a,r]);const i=_.useCallback(()=>{if(!r)return null;try{const l=localStorage.getItem(e);return l?JSON.parse(l):null}catch(l){return console.warn("Failed to restore draft:",l),null}},[e,r]),o=_.useCallback(()=>{localStorage.removeItem(e),console.log(`Draft cleared: ${e}`)},[e]);return{restoreDraft:i,clearDraft:o}},K9e=(e,t,r)=>{const s=`email-draft-${e}-${t}`;return G9e({key:s,data:r,enabled:!0,debounceMs:1e3})},Y9e=({isOpen:e,onClose:t,onSent:r})=>{const[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState([]),h=_.useRef(null),p="studio-1",f="admin",x={to:s,subject:i,body:l},{restoreDraft:g,clearDraft:v}=K9e(p,f,x);if(_.useEffect(()=>{if(e){const S=g();S&&(a(S.to||""),o(S.subject||""),c(S.body||""),console.log("Draft restored successfully"))}},[e,g]),!e)return null;const b=async()=>{try{const S=u.map(async E=>new Promise(B=>{const C=new FileReader;C.onload=()=>{const O=C.result?.toString().split(",")[1];B({filename:E.name,content:O,contentType:E.type,encoding:"base64"})},C.readAsDataURL(E)})),L=await Promise.all(S),k=await(await fetch("/api/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:s,subject:i,body:l,attachments:L})})).json();k.success?(r?.({to:s,subject:i,body:l,attachments:u,messageId:k.messageId}),v(),t(),a(""),o(""),c(""),d([])):alert("Failed to send email: "+k.error)}catch{alert("Error sending email. Please try again.")}},j=S=>{const L=Array.from(S.target.files||[]);d(I=>[...I,...L])},N=S=>{d(L=>L.filter((I,k)=>k!==S))},A=S=>{if(S===0)return"0 Bytes";const L=1024,I=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(S)/Math.log(L));return parseFloat((S/Math.pow(L,k)).toFixed(2))+" "+I[k]};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-5/6 flex flex-col overflow-hidden",dir:"ltr",style:{direction:"ltr",textAlign:"left"},children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Compose Email"}),n.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(bs,{size:16})})]}),n.jsxs("div",{className:"p-4 space-y-4 flex-1",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To:"}),n.jsx("input",{type:"email",value:s,onChange:S=>a(S.target.value),placeholder:"recipient@example.com",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr !important",textAlign:"left !important",unicodeBidi:"embed"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject:"}),n.jsx("input",{type:"text",value:i,onChange:S=>o(S.target.value),placeholder:"Email subject",className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr !important",textAlign:"left !important",unicodeBidi:"embed"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message:"}),n.jsx("textarea",{value:l,onChange:S=>c(S.target.value),placeholder:"Write your message here...",rows:8,className:"w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",dir:"ltr",style:{direction:"ltr !important",textAlign:"left !important",unicodeBidi:"embed",writingMode:"horizontal-tb"}})]}),u.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attachments:"}),n.jsx("div",{className:"space-y-2",children:u.map((S,L)=>n.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[S.type.startsWith("image/")?n.jsx(Va,{size:16,className:"text-blue-500"}):n.jsx(cs,{size:16,className:"text-gray-500"}),n.jsx("span",{className:"text-sm text-gray-700",children:S.name}),n.jsxs("span",{className:"text-xs text-gray-500",children:["(",A(S.size),")"]})]}),n.jsx("button",{onClick:()=>N(L),className:"text-red-500 hover:text-red-700",children:n.jsx(bs,{size:16})})]},L))})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{type:"button",onClick:()=>h.current?.click(),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[n.jsx(mS,{size:16}),n.jsx("span",{children:"Attach File"})]}),n.jsxs("button",{type:"button",onClick:()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.multiple=!0,S.onchange=L=>{const I=Array.from(L.target.files||[]);d(k=>[...k,...I])},S.click()},className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:[n.jsx(Va,{size:16}),n.jsx("span",{children:"Add Images"})]})]}),n.jsx("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:j})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Simple Email Composer",(!s.trim()||!i.trim())&&n.jsxs("div",{className:"text-xs text-red-500 mt-1",children:[!s.trim()&&"Please enter recipient email",!s.trim()&&!i.trim()&&" • ",!i.trim()&&"Please enter subject"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:b,disabled:!s.trim()||!i.trim(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",title:s.trim()?i.trim()?"Send email":"Please enter subject":"Please enter recipient email",children:[n.jsx(Bo,{size:16}),n.jsx("span",{children:"Send"})]})]})]})]})})},Z9e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(null),[o,l]=_.useState("inbox"),[c,u]=_.useState(""),[d,h]=_.useState(!1),[p,f]=_.useState(!1),[x,g]=_.useState(!1),[v,b]=_.useState(null),[j,N]=_.useState(null);_.useState(!1),_.useEffect(()=>{A()},[]);const A=async()=>{try{g(!0),N(null);const z=await fetch("/api/inbox/emails?"+Date.now(),{headers:{"Content-Type":"application/json","Cache-Control":"no-cache"}});if(!z.ok)throw new Error("Failed to fetch messages");const V=(await z.json()).map(Y=>({id:Y.id,from:Y.senderEmail,fromName:Y.senderName,to:"hallo@newagefotografie.com",subject:Y.subject,body:Y.content,timestamp:Y.createdAt,isRead:Y.status==="read"||Y.status==="archived",isStarred:!1,isImportant:Y.status==="unread",hasAttachments:!1,labels:[],folder:"inbox",threadId:Y.id}));t(V)}catch{N("Failed to load messages. Please try again.")}finally{g(!1)}},S=[{id:"inbox",name:"Inbox",count:e.filter(z=>!z.subject.startsWith("[SENT]")).length,icon:n.jsx(on,{size:16})},{id:"sent",name:"Sent",count:e.filter(z=>z.subject.startsWith("[SENT]")).length,icon:n.jsx(Bo,{size:16})},{id:"archive",name:"Archive",count:0,icon:n.jsx(dS,{size:16})},{id:"trash",name:"Trash",count:0,icon:n.jsx(js,{size:16})}],L=e.filter(z=>{let G=!1;switch(o){case"inbox":G=!z.subject.startsWith("[SENT]");break;case"sent":G=z.subject.startsWith("[SENT]");break;default:G=z.folder===o}const V=c===""||z.subject.toLowerCase().includes(c.toLowerCase())||z.fromName.toLowerCase().includes(c.toLowerCase())||z.body.toLowerCase().includes(c.toLowerCase());return G&&V}),I=z=>{s(G=>G.includes(z)?G.filter(V=>V!==z):[...G,z])},k=()=>{r.length===L.length?s([]):s(L.map(z=>z.id))},E=(z,G)=>{t(V=>V.map(Y=>z.includes(Y.id)?{...Y,isRead:G}:Y))},B=(z,G)=>{t(V=>V.map(Y=>z.includes(Y.id)?{...Y,isStarred:G}:Y))},C=z=>{t(G=>G.map(V=>z.includes(V.id)?{...V,folder:"archive"}:V)),s([])},O=z=>{t(G=>G.map(V=>z.includes(V.id)?{...V,folder:"trash"}:V)),s([])},M=z=>{const G=new Date(z),Y=(new Date().getTime()-G.getTime())/(1e3*60*60);return Y<24?G.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):Y<48?"Yesterday":G.toLocaleDateString("en-US",{month:"short",day:"numeric"})},D=()=>n.jsxs("div",{className:"flex-1 bg-white rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"checkbox",checked:r.length===L.length&&L.length>0,onChange:k,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:[o," (",L.length,")"]})]}),r.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>E(r,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Mark as read",children:n.jsx(fee,{size:16})}),n.jsx("button",{onClick:()=>B(r,!0),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Star",children:n.jsx(Do,{size:16})}),n.jsx("button",{onClick:()=>C(r),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Archive",children:n.jsx(dS,{size:16})}),n.jsx("button",{onClick:()=>O(r),className:"p-2 text-red-600 hover:bg-red-100 rounded-md",title:"Delete",children:n.jsx(js,{size:16})})]})]})}),n.jsx("div",{className:"divide-y divide-gray-200 max-h-[600px] overflow-y-auto",children:L.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(on,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No messages"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c?"No messages match your search.":"Your inbox is empty."})]}):L.map(z=>n.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer ${r.includes(z.id)?"bg-blue-50":""} ${z.isRead?"":"bg-blue-25"}`,onClick:()=>i(z),children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:r.includes(z.id),onChange:()=>I(z.id),onClick:G=>G.stopPropagation(),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("button",{onClick:G=>{G.stopPropagation(),B([z.id],!z.isStarred)},className:`${z.isStarred?"text-yellow-400":"text-gray-300 hover:text-yellow-400"}`,children:n.jsx(Do,{size:16,fill:z.isStarred?"currentColor":"none"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`text-sm ${z.isRead?"text-gray-700":"font-semibold text-gray-900"}`,children:z.fromName}),z.isImportant&&n.jsx(eee,{size:12,className:"text-red-500"}),z.hasAttachments&&n.jsx(mS,{size:12,className:"text-gray-400"})]}),n.jsx("span",{className:"text-xs text-gray-500",children:M(z.timestamp)})]}),n.jsx("div",{className:`text-sm ${z.isRead?"text-gray-600":"font-semibold text-gray-900"} truncate`,children:z.subject}),n.jsx("div",{className:"text-sm text-gray-500 mt-1 line-clamp-2 max-w-lg",children:z.body}),z.labels.length>0&&n.jsx("div",{className:"flex items-center space-x-1 mt-2",children:z.labels.map(G=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:G},G))})]})]})},z.id))})]}),W=()=>a?n.jsxs("div",{className:"w-1/2 bg-white rounded-lg shadow ml-6",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-md",children:n.jsx(bs,{size:16})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>{b("reply"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Reply",children:n.jsx(Pee,{size:16})}),n.jsx("button",{onClick:()=>{b("forward"),h(!0)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"Forward",children:n.jsx(nee,{size:16})}),n.jsx("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-md",title:"More actions",children:n.jsx(vee,{size:16})})]})]})}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.subject}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:a.fromName}),n.jsx("div",{children:a.from})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{children:new Date(a.timestamp).toLocaleDateString()}),n.jsx("div",{children:new Date(a.timestamp).toLocaleTimeString()})]})]})]}),n.jsx("div",{className:"prose max-w-full overflow-hidden",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-wrap break-words max-w-full overflow-x-auto",children:a.body})}),a.hasAttachments&&n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Attachments"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mS,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600",children:"attachment.pdf"}),n.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:n.jsx(Ls,{size:14})})]})]})]})]}):null;return n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Inbox"}),n.jsx("p",{className:"text-gray-600",children:"Manage client messages and inquiries"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[n.jsx(qh,{size:16}),n.jsx("span",{children:"Sync"})]}),"            ",n.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[n.jsx(Ga,{size:16}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Ir,{size:16}),n.jsx("span",{children:"Compose"})]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search messages...",value:c,onChange:z=>u(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsxs("div",{className:"w-64 bg-white rounded-lg shadow p-4",children:[n.jsx("nav",{className:"space-y-2",children:S.map(z=>n.jsxs("button",{onClick:()=>l(z.id),className:`w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md ${o===z.id?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[z.icon,n.jsx("span",{children:z.name})]}),n.jsx("span",{className:"text-xs text-gray-500",children:z.count})]},z.id))}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Stats"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Unread"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>!z.isRead&&z.folder==="inbox").length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Starred"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>z.isStarred).length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Important"}),n.jsx("span",{className:"font-medium",children:e.filter(z=>z.isImportant).length})]})]})]})]}),n.jsxs("div",{className:"flex-1 flex",children:[D(),a&&W()]}),"        "]})]}),n.jsx(W9e,{isOpen:p,onClose:()=>f(!1),onSave:z=>{}}),d&&n.jsx(Y9e,{isOpen:d,onClose:()=>{h(!1),b(null)},onSent:z=>{h(!1),b(null),A()}})]})},S1=[{type:"text",label:"Text",icon:n.jsx(e2,{size:16}),description:"Single line text input",category:"basic"},{type:"multiple_choice",label:"Multiple Choice",icon:n.jsx(KJ,{size:16}),description:"Choose one option",category:"basic"},{type:"checkboxes",label:"Checkboxes",icon:n.jsx(hS,{size:16}),description:"Choose multiple options",category:"basic"},{type:"dropdown",label:"Dropdown",icon:n.jsx(Lv,{size:16}),description:"Select from dropdown",category:"basic"},{type:"email",label:"Email",icon:n.jsx(on,{size:16}),description:"Email address input",category:"basic"},{type:"phone",label:"Phone",icon:n.jsx(ep,{size:16}),description:"Phone number input",category:"basic"},{type:"number",label:"Number",icon:n.jsx(see,{size:16}),description:"Numeric input",category:"basic"},{type:"date",label:"Date",icon:n.jsx(fn,{size:16}),description:"Date picker",category:"basic"},{type:"time",label:"Time",icon:n.jsx(Os,{size:16}),description:"Time picker",category:"basic"},{type:"rating",label:"Rating",icon:n.jsx(Do,{size:16}),description:"Star rating",category:"advanced"},{type:"scale",label:"Scale",icon:n.jsx(Eee,{size:16}),description:"Numeric scale",category:"advanced"},{type:"ranking",label:"Ranking",icon:n.jsx(mF,{size:16}),description:"Rank items in order",category:"advanced"},{type:"matrix",label:"Matrix",icon:n.jsx(hF,{size:16}),description:"Matrix of questions",category:"advanced"},{type:"slider",label:"Slider",icon:n.jsx(Lee,{size:16}),description:"Slider input",category:"advanced"},{type:"image_choice",label:"Image Choice",icon:n.jsx(Va,{size:16}),description:"Choose from images",category:"advanced"},{type:"file_upload",label:"File Upload",icon:n.jsx(Ka,{size:16}),description:"Upload files",category:"advanced"},{type:"net_promoter_score",label:"NPS",icon:n.jsx(Fs,{size:16}),description:"Net Promoter Score",category:"specialized"},{type:"contact_info",label:"Contact Info",icon:n.jsx(Ji,{size:16}),description:"Contact information form",category:"specialized"},{type:"address",label:"Address",icon:n.jsx(ef,{size:16}),description:"Address input",category:"specialized"}],X9e=({survey:e,onSave:t,onCancel:r,isLoading:s=!1})=>{const[a,i]=_.useState({title:e?.title||"",description:e?.description||"",status:e?.status||"draft",settings:e?.settings||{allowAnonymous:!0,progressBar:!0},pages:e?.pages||[{id:"page_1",title:"Page 1",order:0,questions:[]}]}),[o,l]=_.useState(null),[c,u]=_.useState(!1),[d,h]=_.useState("questions"),p=0,f=a.pages?.[p],x=f?.questions||[],g=_.useCallback(C=>{if(!f)return;const O={id:`q_${Date.now()}`,type:C,title:`New ${S1.find(M=>M.type===C)?.label||"Question"}`,description:"",required:!1,order:x.length,options:["multiple_choice","checkboxes","dropdown","rating","scale"].includes(C)?[{id:"opt_1",text:"Option 1"},{id:"opt_2",text:"Option 2"}]:void 0};i(M=>({...M,pages:M.pages?.map((D,W)=>W===p?{...D,questions:[...D.questions,O]}:D)||[]})),l(O.id),u(!1)},[f,x.length,p]),v=_.useCallback((C,O)=>{i(M=>({...M,pages:M.pages?.map((D,W)=>W===p?{...D,questions:D.questions.map(z=>z.id===C?{...z,...O}:z)}:D)||[]}))},[p]),b=_.useCallback(C=>{i(O=>({...O,pages:O.pages?.map((M,D)=>D===p?{...M,questions:M.questions.filter(W=>W.id!==C)}:M)||[]})),l(null)},[p]),j=_.useCallback(C=>{const O=x.find(M=>M.id===C);if(O){const M={...O,id:`q_${Date.now()}`,title:`${O.title} (Copy)`,order:x.length};i(D=>({...D,pages:D.pages?.map((W,z)=>z===p?{...W,questions:[...W.questions,M]}:W)||[]}))}},[x,p]),N=_.useCallback((C,O)=>{const M=[...x],D=M.findIndex(z=>z.id===C);if(D===-1)return;const W=O==="up"?D-1:D+1;W>=0&&W<M.length&&([M[D],M[W]]=[M[W],M[D]],M.forEach((z,G)=>{z.order=G}),i(z=>({...z,pages:z.pages?.map((G,V)=>V===p?{...G,questions:M}:G)||[]})))},[x,p]),A=_.useCallback(C=>{const O=x.find(M=>M.id===C);if(O&&O.options){const M={id:`opt_${Date.now()}`,text:`Option ${O.options.length+1}`};v(C,{options:[...O.options,M]})}},[x,v]),S=_.useCallback((C,O,M)=>{const D=x.find(W=>W.id===C);if(D&&D.options){const W=D.options.map(z=>z.id===O?{...z,text:M}:z);v(C,{options:W})}},[x,v]),L=_.useCallback((C,O)=>{const M=x.find(D=>D.id===C);if(M&&M.options&&M.options.length>1){const D=M.options.filter(W=>W.id!==O);v(C,{options:D})}},[x,v]),I=_.useCallback(()=>{t(a)},[a,t]),k=o?x.find(C=>C.id===o):null,E=()=>k?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Title *"}),n.jsx("input",{type:"text",value:k.title,onChange:C=>v(k.id,{title:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your question..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:k.description||"",onChange:C=>v(k.id,{description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Add additional context or instructions..."})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",id:"required",checked:k.required,onChange:C=>v(k.id,{required:C.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"required",className:"ml-2 block text-sm text-gray-900",children:"Required question"})]}),["multiple_choice","checkboxes","dropdown"].includes(k.type)&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),n.jsxs("div",{className:"space-y-2",children:[k.options?.map((C,O)=>n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500 w-8",children:[O+1,"."]}),n.jsx("input",{type:"text",value:C.text,onChange:M=>S(k.id,C.id,M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Option ${O+1}`}),k.options&&k.options.length>1&&n.jsx("button",{onClick:()=>L(k.id,C.id),className:"text-red-600 hover:text-red-800",children:n.jsx(bs,{size:16})})]},C.id)),n.jsxs("button",{onClick:()=>A(k.id),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800",children:[n.jsx(Ir,{size:16}),n.jsx("span",{children:"Add Option"})]})]})]}),k.type==="rating"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating Scale"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min Value"}),n.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max Value"}),n.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(cs,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"Select a question to edit"})]})}),B=C=>{const O="p-4 border rounded-lg bg-white",M=o===C.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300";return n.jsx("div",{className:`${O} ${M} cursor-pointer`,onClick:()=>l(C.id),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[S1.find(D=>D.type===C.type)?.icon,n.jsx("span",{className:"text-sm font-medium text-gray-700",children:S1.find(D=>D.type===C.type)?.label})]}),C.required&&n.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Required"})]}),n.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:C.title}),C.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),n.jsxs("div",{className:"mt-3",children:[C.type==="text"&&n.jsx("input",{type:"text",placeholder:"Text input...",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0}),C.type==="multiple_choice"&&n.jsx("div",{className:"space-y-2",children:C.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:`preview_${C.id}`,disabled:!0}),n.jsx("span",{className:"text-sm",children:D.text})]},D.id))}),C.type==="checkboxes"&&n.jsx("div",{className:"space-y-2",children:C.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",disabled:!0}),n.jsx("span",{className:"text-sm",children:D.text})]},D.id))}),C.type==="dropdown"&&n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0,children:[n.jsx("option",{children:"Select an option..."}),C.options?.map(D=>n.jsx("option",{children:D.text},D.id))]}),C.type==="rating"&&n.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(D=>n.jsx(Do,{size:20,className:"text-gray-300"},D))}),C.type==="email"&&n.jsx("input",{type:"email",placeholder:"email@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0}),C.type==="date"&&n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",disabled:!0})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("button",{onClick:D=>{D.stopPropagation(),N(C.id,"up")},disabled:C.order===0,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:n.jsx(lF,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),N(C.id,"down")},disabled:C.order===x.length-1,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:n.jsx(Lv,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),j(C.id)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(Ku,{size:16})}),n.jsx("button",{onClick:D=>{D.stopPropagation(),b(C.id)},className:"text-red-400 hover:text-red-600",children:n.jsx(js,{size:16})})]})]})},C.id)};return n.jsxs("div",{className:"h-full flex flex-col",children:[n.jsxs("div",{className:"border-b border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("input",{type:"text",value:a.title,onChange:C=>i(O=>({...O,title:C.target.value})),className:"text-2xl font-bold text-gray-900 border-none focus:outline-none focus:ring-0 p-0",placeholder:"Untitled Survey"}),n.jsx("textarea",{value:a.description||"",onChange:C=>i(O=>({...O,description:C.target.value})),className:"mt-2 text-gray-600 border-none focus:outline-none focus:ring-0 p-0 resize-none",placeholder:"Add a description...",rows:2})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:I,disabled:s||!a.title,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[s&&n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx(pl,{size:16}),n.jsx("span",{children:"Save Survey"})]})]})]}),n.jsxs("div",{className:"flex space-x-6 mt-6",children:[n.jsxs("button",{onClick:()=>h("questions"),className:`pb-2 border-b-2 font-medium text-sm ${d==="questions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Questions (",x.length,")"]}),n.jsx("button",{onClick:()=>h("settings"),className:`pb-2 border-b-2 font-medium text-sm ${d==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Settings"}),n.jsx("button",{onClick:()=>h("preview"),className:`pb-2 border-b-2 font-medium text-sm ${d==="preview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Preview"})]})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d==="questions"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-1/2 border-r border-gray-200 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Questions"}),n.jsxs("button",{onClick:()=>u(!c),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Ir,{size:16}),n.jsx("span",{children:"Add Question"})]})]}),c&&n.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Choose Question Type"}),n.jsx("div",{className:"space-y-4",children:["basic","advanced","specialized"].map(C=>n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2 capitalize",children:[C," Questions"]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:S1.filter(O=>O.category===C).map(O=>n.jsxs("button",{onClick:()=>g(O.type),className:"flex items-center space-x-3 p-3 text-left bg-white border border-gray-200 rounded-md hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[n.jsx("div",{className:"text-blue-600",children:O.icon}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:O.label}),n.jsx("div",{className:"text-xs text-gray-500",children:O.description})]})]},O.type))})]},C))}),n.jsx("button",{onClick:()=>u(!1),className:"mt-4 text-sm text-gray-500 hover:text-gray-700",children:"Cancel"})]}),n.jsx("div",{className:"space-y-4",children:x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(cs,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"No questions yet"}),n.jsx("button",{onClick:()=>u(!0),className:"text-blue-600 hover:text-blue-800",children:"Add your first question"})]}):x.map(C=>B(C))})]})}),n.jsx("div",{className:"w-1/2 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Question Editor"}),E()]})})]}),d==="settings"&&n.jsx("div",{className:"w-full overflow-y-auto",children:n.jsxs("div",{className:"p-6 max-w-2xl",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Survey Settings"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Access & Permissions"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:a.settings?.allowAnonymous,onChange:C=>i(O=>({...O,settings:{...O.settings,allowAnonymous:C.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Allow anonymous responses"})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Display Options"}),n.jsx("div",{className:"space-y-3",children:n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:a.settings?.progressBar,onChange:C=>i(O=>({...O,settings:{...O.settings,progressBar:C.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"ml-2 text-sm text-gray-900",children:"Show progress bar"})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thank You Message"}),n.jsx("textarea",{value:a.thankYouMessage||"",onChange:C=>i(O=>({...O,thankYouMessage:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Thank you for your response!"})]})]})]})}),d==="preview"&&n.jsx("div",{className:"w-full overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Survey Preview"}),n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.title||"Untitled Survey"}),a.description&&n.jsx("p",{className:"text-gray-600",children:a.description})]}),a.settings?.progressBar&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:["1 of ",x.length||0]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.length?1/x.length*100:0}%`}})})]}),n.jsx("div",{className:"space-y-8",children:x.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(cs,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-gray-500",children:"No questions to preview"})]}):x.slice(0,1).map((C,O)=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[O+1,". ",C.title,C.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),C.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:C.description})]}),C.type==="text"&&n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."}),C.type==="multiple_choice"&&n.jsx("div",{className:"space-y-3",children:C.options?.map(M=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"radio",name:`question_${C.id}`,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("span",{className:"text-gray-900",children:M.text})]},M.id))}),C.type==="checkboxes"&&n.jsx("div",{className:"space-y-3",children:C.options?.map(M=>n.jsxs("label",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-gray-900",children:M.text})]},M.id))}),C.type==="dropdown"&&n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select an option..."}),C.options?.map(M=>n.jsx("option",{value:M.id,children:M.text},M.id))]}),C.type==="rating"&&n.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(M=>n.jsx(Do,{size:24,className:"text-gray-300 hover:text-yellow-400 cursor-pointer"},M))}),C.type==="email"&&n.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"}),C.type==="date"&&n.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},C.id))}),x.length>0&&n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gray-300 text-gray-500 rounded-md cursor-not-allowed",children:"Previous"}),n.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:x.length===1?"Submit":"Next"})]})]})})]})})]})]})},kv=e=>{if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(kv);const t={};for(const[r,s]of Object.entries(e)){const a=r.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`);t[a]=kv(s)}return t},Eh=e=>{if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Eh);const t={};for(const[r,s]of Object.entries(e)){const a=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());t[a]=Eh(s)}return t},tg={async getSurveys(e=1,t=10,r,s){let a=Dt.from("surveys").select("*",{count:"exact"}).order("created_at",{ascending:!1});r&&r!=="all"&&(a=a.eq("status",r)),s&&(a=a.or(`title.ilike.%${s}%,description.ilike.%${s}%`));const i=(e-1)*t,o=i+t-1,{data:l,error:c,count:u}=await a.range(i,o);if(c)throw c;return{surveys:(l||[]).map(Eh),total:u||0,page:e,limit:t}},async getSurvey(e){const{data:t,error:r}=await Dt.from("surveys").select("*").eq("id",e).single();if(r)throw r;return Eh(t)},async createSurvey(e){const t=kv(e),r={...t,pages:t.pages||[],settings:t.settings||{allowAnonymous:!0,progressBar:!0},branding:t.branding||{},analytics:t.analytics||{totalViews:0,totalStarts:0,totalCompletes:0,completionRate:0,averageTime:0},created_by:t.created_by||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:s,error:a}=await Dt.from("surveys").insert([r]).select().single();if(a)throw a;return Eh(s)},async updateSurvey(e,t){const r=kv(t);r.updated_at=new Date().toISOString();const{data:s,error:a}=await Dt.from("surveys").update(r).eq("id",e).select().single();if(a)throw a;return Eh(s)},async deleteSurvey(e){const{error:t}=await Dt.from("surveys").delete().eq("id",e);if(t)throw t},async duplicateSurvey(e,t){try{const r=await this.getSurvey(e),s={...r,title:t||`${r.title} (Copy)`,status:"draft",analytics:{totalViews:0,totalStarts:0,totalCompletes:0,completionRate:0,averageTime:0}};return delete s.id,delete s.createdAt,delete s.updatedAt,delete s.publishedAt,delete s.closedAt,await this.createSurvey(s)}catch(r){throw r}},async publishSurvey(e){return this.updateSurvey(e,{status:"active",publishedAt:new Date().toISOString()})},async pauseSurvey(e){return this.updateSurvey(e,{status:"paused"})},async closeSurvey(e){return this.updateSurvey(e,{status:"closed",closedAt:new Date().toISOString()})}},Q9e={async getResponses(e,t=1,r=50){const s=(t-1)*r,a=s+r-1,{data:i,error:o,count:l}=await Dt.from("survey_responses").select("*",{count:"exact"}).eq("survey_id",e).order("started_at",{ascending:!1}).range(s,a);if(o)throw o;return{responses:(i||[]).map(Eh),total:l||0}},async submitResponse(e){const t=kv(e);t.started_at=new Date().toISOString();const{data:r,error:s}=await Dt.from("survey_responses").insert([t]).select().single();if(s)throw s;return Eh(r)}},J9e=()=>{const{t:e}=Jh(),[t,r]=_.useState([]),[s,a]=_.useState([]),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState(!0),[h,p]=_.useState(null),[f,x]=_.useState(!1),[g,v]=_.useState(void 0),[b,j]=_.useState(null),[N,A]=_.useState(!1);_.useEffect(()=>{S()},[]),_.useEffect(()=>{L()},[t,i,l]);const S=async()=>{try{d(!0),p(null);const G=await tg.getSurveys(1,50,l==="all"?void 0:l,i);r(G.surveys)}catch{p("Failed to load surveys. Please try again.")}finally{d(!1)}},L=()=>{let G=[...t];i&&(G=G.filter(V=>V.title.toLowerCase().includes(i.toLowerCase())||V.description&&V.description.toLowerCase().includes(i.toLowerCase()))),l!=="all"&&(G=G.filter(V=>V.status===l)),a(G)},I=async G=>{try{d(!0),await tg.deleteSurvey(G),r(V=>V.filter(Y=>Y.id!==G)),j(null)}catch{p("Failed to delete survey. Please try again.")}finally{d(!1)}},k=async G=>{try{d(!0);const V=await tg.duplicateSurvey(G.id);r(Y=>[V,...Y])}catch{p("Failed to duplicate survey. Please try again.")}finally{d(!1)}},E=()=>{v(void 0),x(!0)},B=G=>{v(G),x(!0)},C=async G=>{try{if(A(!0),g){const V=await tg.updateSurvey(g.id,G);r(Y=>Y.map(ie=>ie.id===g.id?V:ie))}else{const V={...G,status:G.status||"draft",title:G.title||"Untitled Survey",pages:G.pages||[],settings:G.settings||{allowAnonymous:!0,progressBar:!0},createdBy:"current-user-id"},Y=await tg.createSurvey(V);r(ie=>[Y,...ie])}x(!1),v(void 0)}catch{p("Failed to save survey. Please try again.")}finally{A(!1)}},O=()=>{x(!1),v(void 0)},M=G=>{const Y={draft:{bg:"bg-gray-100",text:"text-gray-800",label:"Draft"},active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},paused:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Paused"},closed:{bg:"bg-red-100",text:"text-red-800",label:"Closed"},archived:{bg:"bg-gray-100",text:"text-gray-600",label:"Archived"}}[G];return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.bg} ${Y.text}`,children:Y.label})},D=G=>{const V=`${window.location.origin}/survey/${G}`;navigator.clipboard.writeText(V),alert("Share link copied to clipboard!")},W=G=>G.pages.reduce((V,Y)=>V+Y.questions.length,0),z=G=>G.analytics?.totalCompletes||0;return f?n.jsx(Rr,{children:n.jsx("div",{className:"h-full",children:n.jsx(X9e,{survey:g,onSave:C,onCancel:O,isLoading:N})})}):n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:["        ",n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.surveys")}),n.jsxs("p",{className:"text-gray-600",children:[e("survey.create")," and manage surveys and questionnaires"]})]}),n.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx(Ir,{size:20}),n.jsx("span",{children:e("survey.create")})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"            ",n.jsx("input",{type:"text",placeholder:e("action.search")+" surveys...",value:i,onChange:G=>o(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Jm,{size:20,className:"text-gray-400"}),n.jsxs("select",{value:l,onChange:G=>c(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"closed",children:"Closed"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),h&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("p",{children:h})})]})]})}),u&&n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Xr,{className:"h-8 w-8 animate-spin text-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading surveys..."})]}),!u&&n.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(fg,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No surveys"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||l!=="all"?"No surveys match your current filters.":"Get started by creating your first survey."}),!i&&l==="all"&&n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[n.jsx(Ir,{className:"-ml-1 mr-2 h-5 w-5"}),"Create Survey"]})})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Survey Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Questions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Responses"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),n.jsx("th",{className:"relative px-6 py-3",children:n.jsx("span",{className:"sr-only",children:"Actions"})})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(G=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.title}),G.description&&n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:G.description})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M(G.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(fg,{size:16,className:"mr-1"}),W(G)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(Qn,{size:16,className:"mr-1"}),z(G)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{size:16,className:"mr-1"}),new Date(G.updatedAt).toLocaleDateString()]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[G.status==="active"&&n.jsx("button",{onClick:()=>D(G.id),className:"text-blue-600 hover:text-blue-900",title:"Copy share link",children:n.jsx(fF,{size:16})}),n.jsx("button",{onClick:()=>B(G),className:"text-indigo-600 hover:text-indigo-900",title:"Edit survey",children:n.jsx(Ha,{size:16})}),n.jsx("button",{onClick:()=>k(G),className:"text-green-600 hover:text-green-900",title:"Duplicate survey",children:n.jsx(Ku,{size:16})}),z(G)>0&&n.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"View analytics",children:n.jsx(ml,{size:16})}),n.jsx("button",{onClick:()=>j(G.id),className:"text-red-600 hover:text-red-900",title:"Delete survey",children:n.jsx(js,{size:16})})]})})]},G.id))})]})})})]}),b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Are you sure you want to delete this survey? This action cannot be undone and will also delete all associated responses."}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{onClick:()=>b&&I(b),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})},ED=["#8b5cf6","#06b6d4","#10b981","#f59e0b","#ef4444","#8b5a2b","#6366f1"],e$e=()=>{const[e,t]=_.useState(null),[r,s]=_.useState(!0),[a,i]=_.useState(null),[o,l]=_.useState("12months"),[c,u]=_.useState("overview");_.useEffect(()=>{d()},[o]);const d=async()=>{try{s(!0),i(null);const V=new Date,Y=new Date;switch(o){case"3months":Y.setMonth(V.getMonth()-3);break;case"6months":Y.setMonth(V.getMonth()-6);break;case"12months":Y.setMonth(V.getMonth()-12);break;case"24months":Y.setMonth(V.getMonth()-24);break}const[ie,q,R,K,Z,se,ue]=await Promise.allSettled([Dt.from("crm_invoices").select("*").gte("created_at",Y.toISOString()),Dt.from("crm_clients").select("*"),Dt.from("leads").select("*").gte("created_at",Y.toISOString()),Dt.from("crm_bookings").select("*").gte("created_at",Y.toISOString()),Dt.from("voucher_sales").select("*").gte("created_at",Y.toISOString()),Dt.from("blog_posts").select("*"),Dt.from("email_campaigns").select("*")]),ae=ie.status==="fulfilled"?ie.value.data||[]:[],xe=q.status==="fulfilled"?q.value.data||[]:[],X=R.status==="fulfilled"?R.value.data||[]:[],me=K.status==="fulfilled"?K.value.data||[]:[],ne=Z.status==="fulfilled"?Z.value.data||[]:[],he=se.status==="fulfilled"?se.value.data||[]:[],ke=ue.status==="fulfilled"?ue.value.data||[]:[],je={revenueByMonth:h(ae),revenueByService:p(ae),profitability:f(ae),clientsBySource:x(xe),clientRetention:v(xe,ae),topClients:g(xe,ae),leadConversion:b(X),leadsBySource:j(X),bookingsByType:N(me),bookingsByMonth:A(me),seasonalTrends:S(me),emailCampaigns:ke.map(Q=>({name:Q.name||"Untitled",sent:Q.sent_count||0,opened:Q.open_count||0,clicked:Q.click_count||0,revenue:Q.revenue_generated||0})),blogMetrics:he.map(Q=>({title:Q.title||"Untitled",views:Q.view_count||0,engagement:Q.engagement_score||0,leads:Q.leads_generated||0})),averageOrderValue:k(ae),customerLifetimeValue:E(xe,ae),averageProjectDuration:B(me),clientSatisfactionScore:4.8,galleryViews:[{gallery:"Wedding Portfolio",views:1250,inquiries:45},{gallery:"Portrait Gallery",views:890,inquiries:32},{gallery:"Family Photos",views:650,inquiries:28}],portfolioMetrics:[{category:"Weddings",views:2100,downloads:85},{category:"Portraits",views:1800,downloads:65},{category:"Events",views:950,downloads:35}],voucherSales:L(ne),voucherTypes:I(ne)};t(je)}catch{i("Failed to load reports. Please try again.")}finally{s(!1)}},h=V=>{const Y=new Map;return V.forEach(ie=>{const q=new Date(ie.created_at),R=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,K=Y.get(R)||{month:R,revenue:0,invoices:0};K.revenue+=ie.total_amount||0,K.invoices+=1,Y.set(R,K)}),Array.from(Y.values()).sort((ie,q)=>ie.month.localeCompare(q.month))},p=V=>{const Y=new Map;let ie=0;return V.forEach(q=>{const R=q.service_type||"Other",K=q.total_amount||0;ie+=K,Y.set(R,(Y.get(R)||0)+K)}),Array.from(Y.entries()).map(([q,R])=>({service:q,revenue:R,percentage:ie>0?R/ie*100:0}))},f=V=>{const Y=new Map;return V.forEach(ie=>{const q=new Date(ie.created_at),R=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,K=Y.get(R)||{month:R,revenue:0,expenses:0,profit:0},Z=ie.total_amount||0,se=Z*.3;K.revenue+=Z,K.expenses+=se,K.profit=K.revenue-K.expenses,Y.set(R,K)}),Array.from(Y.values()).sort((ie,q)=>ie.month.localeCompare(q.month))},x=V=>{const Y=new Map;let ie=V.length;return V.forEach(q=>{const R=q.lead_source||"Direct";Y.set(R,(Y.get(R)||0)+1)}),Array.from(Y.entries()).map(([q,R])=>({source:q,count:R,percentage:ie>0?R/ie*100:0}))},g=(V,Y)=>{const ie=new Map,q=new Map,R=new Map;return Y.forEach(K=>{const Z=K.client_id,se=V.find(ue=>ue.id===Z);if(se){const ue=ie.get(se.name)||0;ie.set(se.name,ue+(K.total_amount||0)),q.set(se.name,(q.get(se.name)||0)+1),R.set(se.name,K.created_at)}}),Array.from(ie.entries()).map(([K,Z])=>({name:K,revenue:Z,bookings:q.get(K)||0,lastBooking:R.get(K)||""})).sort((K,Z)=>Z.revenue-K.revenue).slice(0,10)},v=(V,Y)=>{const ie=[];for(let q=11;q>=0;q--){const R=new Date;R.setMonth(R.getMonth()-q);const K=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;ie.push({month:K,new:Math.floor(Math.random()*20)+5,returning:Math.floor(Math.random()*15)+3,churn:Math.floor(Math.random()*5)+1})}return ie},b=V=>{const Y=new Map;return V.forEach(ie=>{const q=new Date(ie.created_at),R=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,K=Y.get(R)||{month:R,leads:0,converted:0,rate:0};K.leads+=1,ie.status==="CONVERTED"&&(K.converted+=1),K.rate=K.leads>0?K.converted/K.leads*100:0,Y.set(R,K)}),Array.from(Y.values()).sort((ie,q)=>ie.month.localeCompare(q.month))},j=V=>{const Y=new Map;return V.forEach(ie=>{const q=ie.form_source||"Unknown",R=Y.get(q)||{source:q,leads:0,converted:0,rate:0};R.leads+=1,ie.status==="CONVERTED"&&(R.converted+=1),R.rate=R.leads>0?R.converted/R.leads*100:0,Y.set(q,R)}),Array.from(Y.values())},N=V=>{const Y=new Map;return V.forEach(ie=>{const q=ie.service_type||"Other",R=Y.get(q)||{type:q,count:0,revenue:0};R.count+=1,R.revenue+=ie.total_amount||0,Y.set(q,R)}),Array.from(Y.values())},A=V=>{const Y=new Map;return V.forEach(ie=>{const q=new Date(ie.created_at),R=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,K=Y.get(R)||{month:R,bookings:0,revenue:0};K.bookings+=1,K.revenue+=ie.total_amount||0,Y.set(R,K)}),Array.from(Y.values()).sort((ie,q)=>ie.month.localeCompare(q.month))},S=V=>A(V).map(Y=>({...Y,avgValue:Y.bookings>0?Y.revenue/Y.bookings:0})),L=V=>{const Y=new Map;return V.forEach(ie=>{const q=new Date(ie.created_at),R=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,K=Y.get(R)||{month:R,sales:0,revenue:0,redeemed:0};K.sales+=1,K.revenue+=ie.amount||0,ie.redeemed&&(K.redeemed+=1),Y.set(R,K)}),Array.from(Y.values()).sort((ie,q)=>ie.month.localeCompare(q.month))},I=V=>{const Y=new Map;return V.forEach(ie=>{const q=ie.voucher_type||"Standard",R=Y.get(q)||{type:q,sold:0,revenue:0,redeemed:0,redemptionRate:0};R.sold+=1,R.revenue+=ie.amount||0,ie.redeemed&&(R.redeemed+=1),R.redemptionRate=R.sold>0?R.redeemed/R.sold*100:0,Y.set(q,R)}),Array.from(Y.values())},k=V=>V.length===0?0:V.reduce((ie,q)=>ie+(q.total_amount||0),0)/V.length,E=(V,Y)=>V.length===0?0:Y.reduce((q,R)=>q+(R.total_amount||0),0)/V.length,B=V=>14,C=()=>{if(!e)return;let V="data:text/csv;charset=utf-8,";V+="Photography Business Comprehensive Report\\n\\n",V+="Revenue by Month\\n",V+="Month,Revenue,Invoice Count\\n",e.revenueByMonth.forEach(q=>{V+=`${q.month},${q.revenue},${q.invoices}\\n`}),V+="\\nRevenue by Service\\n",V+="Service,Revenue,Percentage\\n",e.revenueByService.forEach(q=>{V+=`${q.service},${q.revenue},${q.percentage.toFixed(2)}%\\n`}),V+="\\nTop Clients\\n",V+="Name,Revenue,Bookings,Last Booking\\n",e.topClients.forEach(q=>{V+=`${q.name},${q.revenue},${q.bookings},${q.lastBooking}\\n`});const Y=encodeURI(V),ie=document.createElement("a");ie.setAttribute("href",Y),ie.setAttribute("download",`comprehensive-photography-report-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)},O=()=>n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(tc,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.averageOrderValue.toFixed(0)]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Qn,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer LTV"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["€",e?.customerLifetimeValue.toFixed(0)]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(fn,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Project Duration"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.averageProjectDuration," days"]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:n.jsx(Do,{className:"h-6 w-6 text-yellow-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Client Satisfaction"}),n.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[e?.clientSatisfactionScore,"/5"]})]})]})})]}),M=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Month"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(gy,{data:e?.revenueByMonth||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{formatter:V=>[`€${V}`,"Revenue"]}),n.jsx(Oi,{type:"monotone",dataKey:"revenue",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Service"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(T3,{children:[n.jsx(uc,{data:e?.revenueByService||[],cx:"50%",cy:"50%",labelLine:!1,label:({service:V,percentage:Y})=>`${V} (${Y.toFixed(1)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:(e?.revenueByService||[]).map((V,Y)=>n.jsx($x,{fill:ED[Y%ED.length]},`cell-${Y}`))}),n.jsx(ta,{formatter:V=>[`€${V}`,"Revenue"]})]})})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profitability Analysis"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(V6e,{data:e?.profitability||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{formatter:V=>[`€${V}`]}),n.jsx(Dh,{}),n.jsx(_m,{type:"monotone",dataKey:"revenue",stroke:"#10b981",name:"Revenue"}),n.jsx(_m,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",name:"Expenses"}),n.jsx(_m,{type:"monotone",dataKey:"profit",stroke:"#8b5cf6",name:"Profit",strokeWidth:3})]})})]})]}),D=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clients by Source"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(H8,{data:e?.clientsBySource||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"source"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Xu,{dataKey:"count",fill:"#06b6d4"})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Client Retention"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(gy,{data:e?.clientRetention||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Oi,{type:"monotone",dataKey:"new",stackId:"1",stroke:"#10b981",fill:"#10b981"}),n.jsx(Oi,{type:"monotone",dataKey:"returning",stackId:"1",stroke:"#06b6d4",fill:"#06b6d4"}),n.jsx(Oi,{type:"monotone",dataKey:"churn",stackId:"1",stroke:"#ef4444",fill:"#ef4444"})]})})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Clients"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bookings"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Booking"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.topClients||[]).map((V,Y)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",V.revenue.toFixed(2)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.bookings}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.lastBooking?new Date(V.lastBooking).toLocaleDateString():"N/A"})]},Y))})]})})]})]}),W=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lead Conversion"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(H8,{data:e?.leadConversion||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Dh,{}),n.jsx(Xu,{dataKey:"leads",fill:"#94a3b8",name:"Total Leads"}),n.jsx(Xu,{dataKey:"converted",fill:"#8b5cf6",name:"Converted"})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Gallery Performance"}),n.jsx("div",{className:"space-y-4",children:(e?.galleryViews||[]).map((V,Y)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:V.gallery}),n.jsxs("p",{className:"text-sm text-gray-600",children:[V.views," views"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-purple-600",children:[V.inquiries," inquiries"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(V.inquiries/V.views*100).toFixed(1),"% conversion"]})]})]},Y))})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Campaign Performance"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opened"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clicked"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(e?.emailCampaigns||[]).map((V,Y)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:V.sent}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[V.opened," (",V.sent>0?(V.opened/V.sent*100).toFixed(1):0,"%)"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[V.clicked," (",V.opened>0?(V.clicked/V.opened*100).toFixed(1):0,"%)"]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["€",V.revenue.toFixed(2)]})]},Y))})]})})]})]}),z=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Sales Trend"}),n.jsx(Gl,{width:"100%",height:300,children:n.jsxs(gy,{data:e?.voucherSales||[],children:[n.jsx(Ru,{strokeDasharray:"3 3"}),n.jsx(ko,{dataKey:"month"}),n.jsx(Co,{}),n.jsx(ta,{}),n.jsx(Oi,{type:"monotone",dataKey:"revenue",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3})]})})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Voucher Types Performance"}),n.jsx("div",{className:"space-y-4",children:(e?.voucherTypes||[]).map((V,Y)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:V.type}),n.jsxs("p",{className:"text-sm text-gray-600",children:[V.sold," sold"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["€",V.revenue.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[V.redemptionRate.toFixed(1),"% redeemed"]})]})]},Y))})]})]})}),G=()=>{if(r)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(Xr,{className:"h-8 w-8 animate-spin text-purple-600"})});if(a)return n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ln,{className:"h-5 w-5 mr-2"}),a]})});if(!e)return n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No report data available."})});switch(c){case"financial":return M();case"clients":return D();case"marketing":return W();case"vouchers":return z();default:return n.jsxs("div",{className:"space-y-8",children:[O(),M()]})}};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Comprehensive Business Reports"}),n.jsx("p",{className:"text-gray-600",children:"Complete analytics and insights for your photography business"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:d,className:"bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg flex items-center",children:[n.jsx(qh,{size:18,className:"mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:C,disabled:!e,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center disabled:opacity-50",children:[n.jsx(Ls,{size:18,className:"mr-2"}),"Export CSV"]})]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range"}),n.jsxs("select",{value:o,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"3months",children:"Last 3 Months"}),n.jsx("option",{value:"6months",children:"Last 6 Months"}),n.jsx("option",{value:"12months",children:"Last 12 Months"}),n.jsx("option",{value:"24months",children:"Last 24 Months"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Category"}),n.jsxs("select",{value:c,onChange:V=>u(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"overview",children:"Overview"}),n.jsx("option",{value:"financial",children:"Financial"}),n.jsx("option",{value:"clients",children:"Clients"}),n.jsx("option",{value:"marketing",children:"Marketing"}),n.jsx("option",{value:"vouchers",children:"Vouchers"})]})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"flex space-x-2 w-full",children:[n.jsx("button",{onClick:()=>u("overview"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="overview"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Overview"}),n.jsx("button",{onClick:()=>u("financial"),className:`flex-1 px-3 py-2 rounded-md text-sm ${c==="financial"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Financial"})]})})]})}),G()]})})},t$e=()=>{const[e,t]=_.useState("theme"),[r,s]=_.useState({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"}),[a,i]=_.useState({senderName:"TogNinja",senderEmail:"info@togninja.com",emailSignature:"<p>Best regards,<br>The TogNinja Team</p>",emailLogo:"/frontend-logo.jpg"}),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(null),p="asst_customization_helper_v1",f=N=>{N.theme&&s(A=>({...A,...N.theme})),N.email&&i(A=>({...A,...N.email})),N.activeTab&&["theme","email"].includes(N.activeTab)&&t(N.activeTab),u(!0),setTimeout(()=>u(!1),3e3)},x=N=>{const{name:A,value:S}=N.target;s(L=>({...L,[A]:S}))},g=N=>{const{name:A,value:S}=N.target;i(L=>({...L,[A]:S}))},v=async()=>{try{l(!0),h(null),await new Promise(N=>setTimeout(N,1e3)),u(!0),setTimeout(()=>u(!1),3e3)}catch{h("Failed to save theme settings. Please try again.")}finally{l(!1)}},b=async()=>{try{l(!0),h(null),await new Promise(N=>setTimeout(N,1e3)),u(!0),setTimeout(()=>u(!1),3e3)}catch{h("Failed to save email settings. Please try again.")}finally{l(!1)}},j=()=>{s({primaryColor:"#8b5cf6",secondaryColor:"#4f46e5",accentColor:"#ec4899",fontFamily:"Poppins",logoUrl:"/frontend-logo.jpg",headerStyle:"light",footerStyle:"dark"})};return n.jsx(Rr,{children:n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Customization"}),n.jsx("p",{className:"text-gray-600",children:"Personalize your website and client communications with AI assistance"})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-3"}),"Customization Assistant"]}),n.jsx(N6,{assistantId:p,onCRMAction:f,height:"600px",title:"Customization Assistant",className:"w-full"})]})}),c&&n.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(is,{className:"h-5 w-5 text-green-400 mt-0.5 mr-2"}),n.jsx("span",{children:"Settings saved successfully!"})]}),d&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:d})]}),n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>t("theme"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="theme"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Mo,{className:"inline-block mr-2 h-5 w-5"}),"Theme Settings"]}),n.jsxs("button",{onClick:()=>t("email"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="email"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(on,{className:"inline-block mr-2 h-5 w-5"}),"Email Settings"]})]})}),e==="theme"&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Mo,{className:"mr-2 h-5 w-5 text-purple-600"}),"Color Scheme"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"primaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"primaryColor",name:"primaryColor",value:r.primaryColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.primaryColor,onChange:x,name:"primaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"secondaryColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"secondaryColor",name:"secondaryColor",value:r.secondaryColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.secondaryColor,onChange:x,name:"secondaryColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"accentColor",className:"block text-sm font-medium text-gray-700 mb-1",children:"Accent Color"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"color",id:"accentColor",name:"accentColor",value:r.accentColor,onChange:x,className:"h-10 w-10 border-0 p-0 mr-2"}),n.jsx("input",{type:"text",value:r.accentColor,onChange:x,name:"accentColor",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(e2,{className:"mr-2 h-5 w-5 text-purple-600"}),"Typography & Branding"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fontFamily",className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Family"}),n.jsxs("select",{id:"fontFamily",name:"fontFamily",value:r.fontFamily,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"Poppins",children:"Poppins"}),n.jsx("option",{value:"Roboto",children:"Roboto"}),n.jsx("option",{value:"Open Sans",children:"Open Sans"}),n.jsx("option",{value:"Montserrat",children:"Montserrat"}),n.jsx("option",{value:"Lato",children:"Lato"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"logoUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),n.jsx("input",{type:"text",id:"logoUrl",name:"logoUrl",value:r.logoUrl,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),r.logoUrl&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:r.logoUrl,alt:"Logo Preview",className:"h-12 object-contain"})})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(fS,{className:"mr-2 h-5 w-5 text-purple-600"}),"Layout Settings"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"headerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Header Style"}),n.jsxs("select",{id:"headerStyle",name:"headerStyle",value:r.headerStyle,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"dark",children:"Dark"}),n.jsx("option",{value:"transparent",children:"Transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"footerStyle",className:"block text-sm font-medium text-gray-700 mb-1",children:"Footer Style"}),n.jsxs("select",{id:"footerStyle",name:"footerStyle",value:r.footerStyle,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"light",children:"Light"}),n.jsx("option",{value:"dark",children:"Dark"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Va,{className:"mr-2 h-5 w-5 text-purple-600"}),"Preview"]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("div",{className:`p-4 ${r.headerStyle==="light"?"bg-white text-gray-900":r.headerStyle==="dark"?"bg-gray-800 text-white":"bg-gradient-to-r from-purple-600 to-pink-500 text-white"}`,style:{fontFamily:r.fontFamily},children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 bg-white rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{style:{color:r.primaryColor},children:"NA"})}),n.jsx("span",{className:"font-bold",children:"New Age Fotografie"})]})}),n.jsxs("div",{className:"p-4 bg-white",style:{fontFamily:r.fontFamily},children:[n.jsx("div",{className:"p-2 rounded-lg text-white text-center font-medium",style:{backgroundColor:r.primaryColor},children:"Primary Button"}),n.jsx("div",{className:"mt-2 text-sm",style:{color:r.secondaryColor},children:"Secondary Text Color"}),n.jsx("div",{className:"mt-2 text-xs",style:{color:r.accentColor},children:"Accent Text Color"})]}),n.jsx("div",{className:`p-4 text-center text-sm ${r.footerStyle==="light"?"bg-gray-100 text-gray-700":"bg-gray-800 text-white"}`,style:{fontFamily:r.fontFamily},children:"© 2025 New Age Fotografie"})]})]})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[n.jsxs("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[n.jsx(qh,{className:"inline-block mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsx("button",{onClick:v,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})]})]}),e==="email"&&n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(on,{className:"mr-2 h-5 w-5 text-purple-600"}),"Sender Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"senderName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Name"}),n.jsx("input",{type:"text",id:"senderName",name:"senderName",value:a.senderName,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"senderEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender Email"}),n.jsx("input",{type:"email",id:"senderEmail",name:"senderEmail",value:a.senderEmail,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Va,{className:"mr-2 h-5 w-5 text-purple-600"}),"Email Branding"]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emailLogo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Logo URL"}),n.jsx("input",{type:"text",id:"emailLogo",name:"emailLogo",value:a.emailLogo,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),a.emailLogo&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:a.emailLogo,alt:"Email Logo Preview",className:"h-12 object-contain"})})]})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Signature"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"emailSignature",className:"block text-sm font-medium text-gray-700 mb-1",children:"HTML Signature"}),n.jsx("textarea",{id:"emailSignature",name:"emailSignature",value:a.emailSignature,onChange:g,rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Signature Preview"}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["From: ",a.senderName," <",a.senderEmail,">"]}),n.jsx("div",{className:"text-sm text-gray-500",children:"To: client@example.com"}),n.jsx("div",{className:"text-sm text-gray-500",children:"Subject: Thank you for your inquiry"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsx("p",{className:"text-gray-700 mb-4",children:"Dear Client,"}),n.jsx("p",{className:"text-gray-700 mb-4",children:"Thank you for your message. This is how your email signature will appear."}),n.jsx("div",{className:"border-t border-gray-200 pt-4 text-gray-700",dangerouslySetInnerHTML:{__html:a.emailSignature}}),a.emailLogo&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:a.emailLogo,alt:"Email Logo",className:"h-12 object-contain"})})]})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx("button",{onClick:b,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"-ml-1 mr-2 h-4 w-4"}),"Save Changes"]})})})]})]})})})},r$e=({currentTemplate:e,onTemplateSelect:t,onPreview:r})=>{const[s,a]=_.useState([]),[i,o]=_.useState("all"),[l,c]=_.useState(!0);_.useEffect(()=>{u()},[]);const u=async()=>{try{a([{id:"template-01-modern-minimal",name:"Modern Minimal",description:"Clean, minimalist design focusing on your photography",category:"minimal",previewImage:"/templates/previews/modern-minimal.jpg",demoUrl:"/demo/modern-minimal",features:["Clean Layout","Fast Loading","Mobile First","SEO Optimized"],colorScheme:{primary:"#1a1a1a",secondary:"#f5f5f5",accent:"#007acc",background:"#ffffff"},isPremium:!1},{id:"template-02-elegant-classic",name:"Elegant Classic",description:"Timeless elegance with sophisticated typography",category:"classic",previewImage:"/templates/previews/elegant-classic.jpg",demoUrl:"/demo/elegant-classic",features:["Elegant Typography","Sophisticated Layout","Gallery Focus","Contact Integration"],colorScheme:{primary:"#2c2c2c",secondary:"#d4af37",accent:"#8b4513",background:"#faf8f5"},isPremium:!1},{id:"template-03-bold-artistic",name:"Bold Artistic",description:"Creative layout for artistic photographers",category:"artistic",previewImage:"/templates/previews/bold-artistic.jpg",demoUrl:"/demo/bold-artistic",features:["Creative Layouts","Animation Effects","Artistic Focus","Portfolio Showcase"],colorScheme:{primary:"#ff6b35",secondary:"#2a2d34",accent:"#ffd23f",background:"#1a1a1a"},isPremium:!0},{id:"template-04-wedding-romance",name:"Wedding Romance",description:"Romantic design perfect for wedding photographers",category:"classic",previewImage:"/templates/previews/wedding-romance.jpg",demoUrl:"/demo/wedding-romance",features:["Romantic Elements","Couple Focus","Elegant Gallery","Booking System"],colorScheme:{primary:"#d4a574",secondary:"#f7f3f0",accent:"#9b5a42",background:"#fff"},isPremium:!0},{id:"template-05-family-warm",name:"Family Warmth",description:"Warm, inviting design for family photographers",category:"modern",previewImage:"/templates/previews/family-warm.jpg",demoUrl:"/demo/family-warm",features:["Family Focused","Warm Colors","Child Friendly","Session Booking"],colorScheme:{primary:"#7c3aed",secondary:"#fbbf24",accent:"#10b981",background:"#fefefe"},isPremium:!1}]),c(!1)}catch{c(!1)}},d=i==="all"?s:s.filter(p=>p.category===i),h=[{id:"all",name:"All Templates",icon:fS},{id:"minimal",name:"Minimal",icon:g6},{id:"classic",name:"Classic",icon:Mo},{id:"modern",name:"Modern",icon:fS},{id:"artistic",name:"Artistic",icon:Mo}];return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading templates..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Template"}),n.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select from 25 professionally designed templates to match your photography style. Each template is fully customizable and optimized for performance."})]}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-200 mb-6",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:h.map(p=>{const f=p.icon;return n.jsxs("button",{onClick:()=>o(p.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${i===p.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(f,{size:16}),p.name]},p.id)})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>n.jsxs(Rt,{className:`relative overflow-hidden transition-all hover:shadow-lg ${e===p.id?"ring-2 ring-purple-500 shadow-lg":"hover:shadow-md"}`,children:[p.isPremium&&n.jsx("div",{className:"absolute top-3 right-3 z-10",children:n.jsxs(Ma,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[n.jsx(J1,{size:12,className:"mr-1"}),"Premium"]})}),e===p.id&&n.jsx("div",{className:"absolute top-3 left-3 z-10",children:n.jsxs(Ma,{className:"bg-green-100 text-green-800",children:[n.jsx(is,{size:12,className:"mr-1"}),"Active"]})}),n.jsx("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsx("img",{src:p.previewImage,alt:p.name,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none",f.currentTarget.parentElement.innerHTML=`
                        <div class="w-full h-full flex items-center justify-center bg-gradient-to-br" style="background: linear-gradient(135deg, ${p.colorScheme.primary}, ${p.colorScheme.secondary})">
                          <div class="text-center text-white">
                            <h3 class="text-lg font-bold">${p.name}</h3>
                            <p class="text-sm opacity-90">${p.category}</p>
                          </div>
                        </div>
                      `}})}),n.jsxs(Ar,{className:"pb-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Lr,{className:"text-lg",children:p.name}),n.jsx("div",{className:"flex gap-1",children:Object.values(p.colorScheme).slice(0,3).map((f,x)=>n.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:f}},x))})]}),n.jsx(Ts,{className:"text-sm",children:p.description})]}),n.jsxs(Ut,{className:"pt-0",children:[n.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:p.features.slice(0,3).map(f=>n.jsx(Ma,{variant:"outline",className:"text-xs",children:f},f))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Vt,{variant:"outline",size:"sm",onClick:()=>r(p.id),className:"flex-1",children:[n.jsx(Xn,{size:14,className:"mr-1"}),"Preview"]}),n.jsx(Vt,{size:"sm",onClick:()=>t(p.id),disabled:e===p.id,className:"flex-1",children:e===p.id?"Active":"Select"})]})]})]},p.id))})]}),d.length===0&&n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-gray-500",children:"No templates found in this category."})})]})},n$e=()=>{const[e,t]=_.useState({studioName:"New Age Fotografie",ownerEmail:"hallo@newagefotografie.com",activeTemplate:"template-01-modern-minimal",primaryColor:"#7C3AED",secondaryColor:"#F59E0B",businessName:"New Age Fotografie",address:"Schönbrunner Str. 25",city:"Wien",phone:"+43 677 933 99210",email:"hallo@newagefotografie.com"});_.useState(!1);const[r,s]=_.useState(!1),[a,i]=_.useState("template");_.useEffect(()=>{document.title="Studio Customization - Template & Design Management";let d=document.querySelector('meta[name="description"]');return d||(d=document.createElement("meta"),d.setAttribute("name","description"),document.head.appendChild(d)),d.setAttribute("content","Customize your photography studio website with professional templates, branding, and business settings."),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]);const o=async d=>{s(!0);try{t(h=>({...h,activeTemplate:d}))}catch{}finally{s(!1)}},l=d=>{const h=`/preview/${d}`;window.open(h,"_blank","width=1200,height=800")},c=async()=>{s(!0);try{}catch{}finally{s(!1)}},u=(d,h)=>{t(p=>({...p,[d]:h}))};return n.jsx(us,{children:n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Studio Customization"}),n.jsx("p",{className:"text-gray-600",children:"Customize your photography studio website template, branding, and business information."})]}),n.jsxs(Rt,{className:"mb-6",children:[n.jsx(Ar,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(ra,{className:"h-5 w-5 text-purple-600"}),"Current Template"]}),n.jsx(Ts,{children:"Your active website design"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Preview Live Site"]}),n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(qh,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),n.jsx(Ut,{children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:n.jsx(ra,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Modern Minimal"}),n.jsx("p",{className:"text-gray-600",children:"Clean, minimalist design focusing on your photography"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(Ma,{variant:"secondary",children:"Active"}),n.jsx(Ma,{variant:"outline",children:"Free Template"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.primaryColor}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.secondaryColor}})]})]})})]}),n.jsxs("div",{className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"-mb-px flex space-x-8",children:[n.jsxs("button",{onClick:()=>i("template"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="template"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Mo,{className:"h-4 w-4 inline mr-2"}),"Templates"]}),n.jsxs("button",{onClick:()=>i("branding"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="branding"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ga,{className:"h-4 w-4 inline mr-2"}),"Branding"]}),n.jsxs("button",{onClick:()=>i("business"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="business"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(sc,{className:"h-4 w-4 inline mr-2"}),"Business Info"]}),n.jsxs("button",{onClick:()=>i("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${a==="settings"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(Ga,{className:"h-4 w-4 inline mr-2"}),"Settings"]})]})}),a==="template"&&n.jsx("div",{className:"mt-6",children:n.jsx(r$e,{currentTemplate:e.activeTemplate,onTemplateSelect:o,onPreview:l})}),a==="branding"&&n.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Brand Colors"}),n.jsx(Ts,{children:"Customize your brand colors to match your style"})]}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.primaryColor,onChange:d=>u("primaryColor",d.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),n.jsx("input",{type:"text",value:e.primaryColor,onChange:d=>u("primaryColor",d.target.value),placeholder:"#7C3AED",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.secondaryColor,onChange:d=>u("secondaryColor",d.target.value),className:"w-20 h-10 border border-gray-300 rounded-md"}),n.jsx("input",{type:"text",value:e.secondaryColor,onChange:d=>u("secondaryColor",d.target.value),placeholder:"#F59E0B",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Logo & Assets"}),n.jsx(Ts,{children:"Upload your studio logo and brand assets"})]}),n.jsx(Ut,{children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Logo"}),n.jsxs("div",{className:"mt-2 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx(ra,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload your logo"}),n.jsx(Vt,{variant:"outline",size:"sm",children:"Choose File"})]})]})})})]})]}),a==="business"&&n.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(sc,{className:"h-5 w-5"}),"Studio Information"]}),n.jsx(Ts,{children:"Basic information about your photography studio"})]}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Studio Name"}),n.jsx("input",{type:"text",value:e.studioName,onChange:d=>u("studioName",d.target.value),placeholder:"Your Studio Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),n.jsx("input",{type:"text",value:e.businessName,onChange:d=>u("businessName",d.target.value),placeholder:"Legal Business Name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(ep,{className:"h-5 w-5"}),"Contact Details"]}),n.jsx(Ts,{children:"How clients can reach you"})]}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:e.email,onChange:d=>u("email",d.target.value),placeholder:"studio@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:e.phone,onChange:d=>u("phone",d.target.value),placeholder:"+43 123 456 789",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",value:e.address,onChange:d=>u("address",d.target.value),placeholder:"Street Address",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),n.jsx("input",{type:"text",value:e.city,onChange:d=>u("city",d.target.value),placeholder:"City, Country",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]})]})]}),a==="settings"&&n.jsx("div",{className:"mt-6",children:n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Advanced Settings"}),n.jsx(Ts,{children:"Additional configuration options for your studio website"})]}),n.jsx(Ut,{children:n.jsx("p",{className:"text-gray-600",children:"Advanced settings coming soon..."})})]})})]}),n.jsx("div",{className:"flex justify-end mt-8",children:n.jsx(Vt,{onClick:c,disabled:r,size:"lg",children:r?n.jsxs(n.Fragment,{children:[n.jsx(qh,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"h-4 w-4 mr-2"}),"Save Configuration"]})})})]})})})},s$e=()=>{const[e,t]=_.useState(1),[r,s]=_.useState(""),[a,i]=_.useState(!1),[o,l]=_.useState(null);_.useState(null),_.useState({});const c=[{id:1,title:"Website URL",icon:sc,description:"Enter your current website URL"},{id:2,title:"Data Analysis",icon:Hc,description:"AI analyzes your content and SEO"},{id:3,title:"Template Selection",icon:cs,description:"Choose your new design template"},{id:4,title:"Content Optimization",icon:cs,description:"Review and approve SEO improvements"},{id:5,title:"Image Integration",icon:Va,description:"Import and organize your photos"},{id:6,title:"Final Setup",icon:Ga,description:"Configure forms and launch"}],u=async()=>{if(r){i(!0);try{const g=await(await fetch("/api/scrape-website",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r})})).json();l(g),t(2)}catch{}finally{i(!1)}}},d=()=>n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center",children:[n.jsx(sc,{className:"mr-2"}),"Enter Your Current Website URL"]}),n.jsx(Ts,{children:"Our AI will analyze your existing website content, images, and SEO to create an optimized photography website"})]}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website URL"}),n.jsx(La,{type:"url",placeholder:"https://your-photography-website.com",value:r,onChange:x=>s(x.target.value),className:"w-full"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What we'll analyze:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Content and copy for SEO optimization"}),n.jsx("li",{children:"• Portfolio images and galleries"}),n.jsx("li",{children:"• Contact information and services"}),n.jsx("li",{children:"• Current SEO performance"}),n.jsx("li",{children:"• Brand colors and styling"})]})]}),n.jsx(Vt,{onClick:u,disabled:!r||a,className:"w-full",children:a?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing Website..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Analyze Website"]})})]})]})}),h=()=>n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center",children:[n.jsx(Hc,{className:"mr-2"}),"Website Analysis Complete"]}),n.jsx(Ts,{children:"Here's what we found on your current website"})]}),n.jsxs(Ut,{children:[n.jsxs(sN,{defaultValue:"content",className:"w-full",children:[n.jsxs(aN,{className:"grid w-full grid-cols-4",children:[n.jsx(To,{value:"content",children:"Content"}),n.jsx(To,{value:"images",children:"Images"}),n.jsx(To,{value:"seo",children:"SEO Analysis"}),n.jsx(To,{value:"contact",children:"Contact Info"})]}),n.jsx(Oo,{value:"content",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Current Title"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.title})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"About Section"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:o?.content.aboutText})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Services Detected"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:o?.content.services.map((x,g)=>n.jsx(Ma,{variant:"secondary",children:x},g))})]})]})}),n.jsx(Oo,{value:"images",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Logo"}),o?.images.logo?n.jsx("img",{src:o.images.logo,alt:"Logo",className:"h-12 w-auto"}):n.jsx("p",{className:"text-sm text-gray-500",children:"No logo detected"})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium mb-2",children:["Gallery Images (",o?.images.gallery.length||0,")"]}),n.jsx("div",{className:"grid grid-cols-6 gap-2",children:o?.images.gallery.slice(0,12).map((x,g)=>n.jsx("img",{src:x,alt:`Gallery ${g+1}`,className:"w-full h-20 object-cover rounded"},g))})]})]})}),n.jsx(Oo,{value:"seo",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:"SEO Score"}),n.jsxs(Ma,{variant:o?.seoAnalysis.score>=80?"default":"secondary",children:[o?.seoAnalysis.score,"/100"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Issues Found"}),n.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.issues.map((x,g)=>n.jsxs("li",{className:"text-sm text-red-600 flex items-center",children:[n.jsx(ln,{className:"mr-2 h-4 w-4"}),x]},g))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2 text-green-600",children:"Recommendations"}),n.jsx("ul",{className:"space-y-1",children:o?.seoAnalysis.recommendations.map((x,g)=>n.jsxs("li",{className:"text-sm text-green-600 flex items-center",children:[n.jsx(Hr,{className:"mr-2 h-4 w-4"}),x]},g))})]})]})}),n.jsx(Oo,{value:"contact",className:"mt-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Contact Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Phone:"})," ",o?.content.contactInfo.phone||"Not found"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Email:"})," ",o?.content.contactInfo.email||"Not found"]}),n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Address:"})," ",o?.content.contactInfo.address||"Not found"]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Social Links"}),n.jsx("div",{className:"space-y-1",children:o?.content.socialLinks.map((x,g)=>n.jsxs("a",{href:x,className:"text-sm text-blue-600 hover:underline flex items-center",children:[n.jsx(Lm,{className:"mr-1 h-3 w-3"}),x]},g))})]})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-between",children:[n.jsxs(Vt,{variant:"outline",onClick:()=>t(1),children:[n.jsx(ls,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(Vt,{onClick:()=>t(3),children:["Choose Template",n.jsx(Om,{className:"ml-2 h-4 w-4"})]})]})]})]})}),p=()=>n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Choose Your Template"}),n.jsx(Ts,{children:"Select a template that matches your photography style"})]}),n.jsx(Ut,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})})]})}),f=()=>{switch(e){case 1:return d();case 2:return h();case 3:return p();default:return d()}};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:c.map((x,g)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${e>=x.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e>x.id?n.jsx(Hr,{className:"h-5 w-5"}):n.jsx(x.icon,{className:"h-5 w-5"})}),n.jsx("div",{className:"ml-2 hidden sm:block",children:n.jsx("p",{className:`text-sm font-medium ${e>=x.id?"text-blue-600":"text-gray-500"}`,children:x.title})}),g<c.length-1&&n.jsx("div",{className:`w-12 h-0.5 ml-4 ${e>x.id?"bg-blue-600":"bg-gray-200"}`})]},x.id))}),f()]})})},a$e=({sessions:e,clients:t,onSessionClick:r,onCreateSession:s,onUpdateSession:a,onDeleteSession:i,onDuplicateSession:o,onExportCalendar:l,onImportCalendar:c,onSyncExternalCalendar:u})=>{const[d,h]=_.useState(new Date),[p,f]=_.useState(null),[x,g]=_.useState("month"),[v,b]=_.useState(""),[j,N]=_.useState("all"),[A,S]=_.useState("");_.useState([]);const[L,I]=_.useState(null),[k,E]=_.useState(!1),B=e.filter(ae=>{if(v){const xe=v.toLowerCase();if(!(ae.title.toLowerCase().includes(xe)||ae.clientName?.toLowerCase().includes(xe)||ae.locationName?.toLowerCase().includes(xe)||ae.sessionType.toLowerCase().includes(xe)))return!1}if(j!=="all"&&A)switch(j){case"sessionType":if(ae.sessionType!==A)return!1;break;case"status":if(ae.status!==A)return!1;break;case"client":if(ae.clientName!==A)return!1;break;case"paymentStatus":if(ae.paymentStatus!==A)return!1;break;case"priority":if(ae.priority!==A)return!1;break}return!0}),C=Array.from(new Set(e.map(ae=>ae.sessionType))),O=Array.from(new Set(e.map(ae=>ae.status))),M=Array.from(new Set(e.map(ae=>ae.clientName).filter(Boolean))),D=Array.from(new Set(e.map(ae=>ae.paymentStatus))),W=Array.from(new Set(e.map(ae=>ae.priority))),z=ae=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[ae]||"bg-gray-100 border-gray-300 text-gray-800",G=ae=>{switch(ae){case"completed":return n.jsx(Hr,{className:"w-3 h-3 text-green-600"});case"in-progress":return n.jsx(ra,{className:"w-3 h-3 text-blue-600"});case"scheduled":return n.jsx(Os,{className:"w-3 h-3 text-orange-600"});case"cancelled":return n.jsx(Tm,{className:"w-3 h-3 text-red-600"});default:return n.jsx(Os,{className:"w-3 h-3 text-gray-600"})}},V=ae=>{switch(ae){case"urgent":return n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"});case"high":return n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"});case"medium":return n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"});case"low":return n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"});default:return n.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full"})}},Y=(ae,xe)=>{I(xe),ae.dataTransfer.effectAllowed="move"},ie=ae=>{ae.preventDefault(),ae.dataTransfer.dropEffect="move"},q=(ae,xe)=>{if(ae.preventDefault(),L){const X={...L,startTime:Gn(xe,"yyyy-MM-dd'T'HH:mm:ss"),endTime:Gn(W6e(xe,0),"yyyy-MM-dd'T'HH:mm:ss")};a(X),I(null)}},R=()=>{const ae=Zz(d),xe=Yz(d),X=qm(ae),me=K8(xe),ne=Q4({start:X,end:me});return n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(he=>n.jsx("div",{className:"p-2 text-center font-medium text-gray-700 bg-gray-50",children:he},he)),ne.map(he=>{const ke=B.filter(Ye=>Up(Zs(Ye.startTime),he)),je=Q3e(he,d),Q=Up(he,new Date),ze=p&&Up(he,p);return n.jsxs("div",{className:`min-h-[120px] p-1 border border-gray-200 cursor-pointer transition-colors ${je?"bg-white":"bg-gray-50 text-gray-400"} ${Q?"bg-blue-50":""} ${ze?"bg-blue-100":""} hover:bg-gray-50`,onClick:()=>f(he),onDragOver:ie,onDrop:Ye=>q(Ye,he),onDoubleClick:()=>s(he),children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:`text-sm ${Q?"font-bold text-blue-600":""}`,children:Gn(he,"d")}),ke.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",ke.length-3]})]}),n.jsx("div",{className:"space-y-1",children:ke.slice(0,3).map(Ye=>n.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer ${z(Ye.sessionType)}`,draggable:!0,onDragStart:Ge=>Y(Ge,Ye),onClick:Ge=>{Ge.stopPropagation(),r(Ye)},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"truncate flex-1",children:Ye.title}),n.jsxs("div",{className:"flex items-center space-x-1",children:[V(Ye.priority),G(Ye.status)]})]}),Ye.clientName&&n.jsx("div",{className:"text-xs opacity-75 truncate",children:Ye.clientName})]},Ye.id))})]},he.toISOString())})]})},K=()=>{const ae=qm(d),xe=K8(d),X=Q4({start:ae,end:xe}),me=Array.from({length:24},(ne,he)=>he);return n.jsx("div",{className:"overflow-auto max-h-[600px]",children:n.jsxs("div",{className:"grid grid-cols-8 gap-1 min-w-[800px]",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("div",{className:"h-12 border-b border-gray-200"}),me.map(ne=>n.jsx("div",{className:"h-16 border-b border-gray-100 p-1 text-xs text-gray-500",children:Gn(new Date().setHours(ne,0,0,0),"HH:mm")},ne))]}),X.map(ne=>{const he=B.filter(je=>Up(Zs(je.startTime),ne)),ke=Up(ne,new Date);return n.jsxs("div",{className:"col-span-1",children:[n.jsxs("div",{className:`h-12 border-b border-gray-200 p-2 text-center ${ke?"bg-blue-50":""}`,children:[n.jsx("div",{className:"font-medium",children:Gn(ne,"EEE")}),n.jsx("div",{className:`text-sm ${ke?"text-blue-600 font-bold":""}`,children:Gn(ne,"d")})]}),n.jsxs("div",{className:"relative",children:[me.map(je=>n.jsx("div",{className:"h-16 border-b border-gray-100 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const Q=new Date(ne);Q.setHours(je,0,0,0),s(Q)}},je)),he.map(je=>{const Q=Zs(je.startTime),ze=Zs(je.endTime),Ye=Q.getHours()+Q.getMinutes()/60,Ge=(ze.getTime()-Q.getTime())/(1e3*60*60);return n.jsxs("div",{className:`absolute left-1 right-1 rounded p-1 text-xs border cursor-pointer ${z(je.sessionType)}`,style:{top:`${Ye*64}px`,height:`${Math.max(Ge*64,32)}px`},draggable:!0,onDragStart:Ve=>Y(Ve,je),onClick:()=>r(je),children:[n.jsx("div",{className:"font-medium truncate",children:je.title}),n.jsx("div",{className:"opacity-75 truncate",children:je.clientName}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[V(je.priority),G(je.status)]})]},je.id)})]})]},ne.toISOString())})]})})},Z=()=>{const ae=Array.from({length:24},(X,me)=>me),xe=B.filter(X=>Up(Zs(X.startTime),d));return n.jsx("div",{className:"overflow-auto max-h-[600px]",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 min-w-[600px]",children:[n.jsxs("div",{children:[n.jsx("div",{className:"h-12 border-b border-gray-200 p-2 text-center bg-gray-50",children:n.jsx("div",{className:"font-medium",children:Gn(d,"EEEE, MMMM d, yyyy")})}),n.jsxs("div",{className:"relative",children:[ae.map(X=>n.jsx("div",{className:"h-16 border-b border-gray-100 p-2 cursor-pointer hover:bg-gray-50",onDoubleClick:()=>{const me=new Date(d);me.setHours(X,0,0,0),s(me)},children:n.jsx("div",{className:"text-sm text-gray-500",children:Gn(new Date().setHours(X,0,0,0),"HH:mm")})},X)),xe.map(X=>{const me=Zs(X.startTime),ne=Zs(X.endTime),he=me.getHours()+me.getMinutes()/60,ke=(ne.getTime()-me.getTime())/(1e3*60*60);return n.jsxs("div",{className:`absolute left-2 right-2 rounded p-2 border cursor-pointer ${z(X.sessionType)}`,style:{top:`${he*64}px`,height:`${Math.max(ke*64,48)}px`},onClick:()=>r(X),children:[n.jsx("div",{className:"font-medium",children:X.title}),n.jsx("div",{className:"text-sm opacity-75",children:X.clientName}),n.jsxs("div",{className:"text-sm",children:[Gn(me,"HH:mm")," - ",Gn(ne,"HH:mm")]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[V(X.priority),G(X.status)]})]},X.id)})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4",children:[n.jsx("h3",{className:"font-medium mb-4",children:"Sessions Today"}),n.jsx("div",{className:"space-y-3",children:xe.map(X=>n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium",children:X.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[V(X.priority),G(X.status)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("div",{children:X.clientName}),n.jsxs("div",{children:[Gn(Zs(X.startTime),"HH:mm")," - ",Gn(Zs(X.endTime),"HH:mm")]}),X.locationName&&n.jsxs("div",{children:["📍 ",X.locationName]}),X.paymentStatus!=="fully_paid"&&n.jsxs("div",{className:"text-orange-600",children:["💰 Payment: ",X.paymentStatus]})]}),n.jsxs("div",{className:"flex space-x-2 mt-2",children:[n.jsx("button",{onClick:()=>r(X),className:"text-xs text-blue-600 hover:text-blue-800",children:n.jsx(Xn,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>a(X),className:"text-xs text-green-600 hover:text-green-800",children:n.jsx(Ha,{className:"w-3 h-3"})}),n.jsx("button",{onClick:()=>o(X),className:"text-xs text-purple-600 hover:text-purple-800",children:n.jsx(Ku,{className:"w-3 h-3"})})]})]},X.id))})]})]})})},se=()=>{const ae=B.filter(xe=>X3e(Zs(xe.startTime),new Date)).sort((xe,X)=>Zs(xe.startTime).getTime()-Zs(X.startTime).getTime()).slice(0,50);return n.jsxs("div",{className:"space-y-4",children:[ae.map(xe=>{const X=Zs(xe.startTime),me=Zs(xe.endTime);return n.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${z(xe.sessionType)}`,children:xe.sessionType}),n.jsx("h3",{className:"font-medium",children:xe.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[V(xe.priority),G(xe.status)]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>r(xe),className:"p-1 text-blue-600 hover:text-blue-800",children:n.jsx(Xn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(xe),className:"p-1 text-green-600 hover:text-green-800",children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(xe),className:"p-1 text-purple-600 hover:text-purple-800",children:n.jsx(Ku,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>i(xe.id),className:"p-1 text-red-600 hover:text-red-800",children:n.jsx(js,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{children:Gn(X,"MMM d, yyyy")})]}),n.jsxs("div",{className:"ml-6",children:[Gn(X,"HH:mm")," - ",Gn(me,"HH:mm")]})]}),n.jsxs("div",{children:[xe.clientName&&n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(Qn,{className:"w-4 h-4"}),n.jsx("span",{children:xe.clientName})]}),xe.locationName&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ef,{className:"w-4 h-4"}),n.jsx("span",{children:xe.locationName})]})]}),n.jsxs("div",{children:[xe.basePrice&&n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx(tc,{className:"w-4 h-4"}),n.jsxs("span",{children:["$",xe.basePrice," (",xe.paymentStatus,")"]})]}),xe.equipmentList&&xe.equipmentList.length>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ra,{className:"w-4 h-4"}),n.jsxs("span",{children:[xe.equipmentList.length," items"]})]})]})]}),xe.notes&&n.jsx("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm",children:xe.notes}),n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[xe.weatherDependent&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(C1,{className:"w-3 h-3"}),n.jsx("span",{children:"Weather dependent"})]}),xe.goldenHourOptimized&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(P1,{className:"w-3 h-3"}),n.jsx("span",{children:"Golden hour"})]}),xe.portfolioWorthy&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Do,{className:"w-3 h-3"}),n.jsx("span",{children:"Portfolio worthy"})]}),xe.externalCalendarSync&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Lm,{className:"w-3 h-3"}),n.jsx("span",{children:"Synced"})]})]}),xe.conflictDetected&&n.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[n.jsx(Tm,{className:"w-3 h-3"}),n.jsx("span",{children:"Conflict detected"})]})]})]},xe.id)}),ae.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(fn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No upcoming sessions found"})]})]})},ue=()=>{const ae=B.reduce((X,me)=>{const ne=Gn(Zs(me.startTime),"yyyy-MM-dd");return X[ne]||(X[ne]=[]),X[ne].push(me),X},{}),xe=Object.keys(ae).sort();return n.jsx("div",{className:"space-y-6",children:xe.map(X=>n.jsxs("div",{className:"bg-white border rounded-lg",children:[n.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:n.jsx("h3",{className:"font-medium",children:Gn(Zs(X),"EEEE, MMMM d, yyyy")})}),n.jsx("div",{className:"divide-y",children:ae[X].map(me=>n.jsx("div",{className:"p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${z(me.sessionType)}`,children:me.sessionType}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:me.title}),n.jsx("div",{className:"text-sm text-gray-600",children:me.clientName})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Gn(Zs(me.startTime),"HH:mm")," - ",Gn(Zs(me.endTime),"HH:mm")]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[V(me.priority),G(me.status)]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>r(me),className:"p-1 text-blue-600 hover:text-blue-800",children:n.jsx(Xn,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>a(me),className:"p-1 text-green-600 hover:text-green-800",children:n.jsx(Ha,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>o(me),className:"p-1 text-purple-600 hover:text-purple-800",children:n.jsx(Ku,{className:"w-4 h-4"})})]})]})]})},me.id))})]},X))})};return n.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[n.jsxs("div",{className:"border-b p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Photography Calendar"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>h(mke(d,1)),className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(Iv,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>h(new Date),className:"px-3 py-1 text-sm hover:bg-gray-100 rounded font-medium",children:"Today"}),n.jsx("button",{onClick:()=>h(Vz(d,1)),className:"p-2 hover:bg-gray-100 rounded",children:n.jsx(Oh,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"text-lg font-medium",children:Gn(d,"MMMM yyyy")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Sync with external calendars",children:[n.jsx(qh,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Sync"})]}),n.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50",title:"Export calendar",children:[n.jsx(Ls,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Export"})]}),n.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 border rounded hover:bg-gray-50 cursor-pointer",children:[n.jsx(Ka,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Import"}),n.jsx("input",{type:"file",accept:".ics,.csv",className:"hidden",onChange:ae=>ae.target.files?.[0]&&c(ae.target.files[0])})]}),n.jsxs("button",{onClick:()=>s(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[n.jsx(Ir,{className:"w-4 h-4"}),n.jsx("span",{children:"New Session"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex border rounded",children:["month","week","day","agenda","list"].map(ae=>n.jsx("button",{onClick:()=>g(ae),className:`px-3 py-1 text-sm capitalize ${x===ae?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:ae},ae))}),n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search sessions...",value:v,onChange:ae=>b(ae.target.value),className:"pl-9 pr-3 py-2 border rounded-md w-64 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("button",{onClick:()=>E(!k),className:`flex items-center space-x-2 px-3 py-2 border rounded ${k?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,children:[n.jsx(Jm,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Filters"})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[B.length," of ",e.length," sessions"]})]}),k&&n.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded border",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by"}),n.jsxs("select",{value:j,onChange:ae=>{N(ae.target.value),S("")},className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"sessionType",children:"Session Type"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"client",children:"Client"}),n.jsx("option",{value:"paymentStatus",children:"Payment Status"}),n.jsx("option",{value:"priority",children:"Priority"})]})]}),j!=="all"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value"}),n.jsxs("select",{value:A,onChange:ae=>S(ae.target.value),className:"w-full px-3 py-2 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select..."}),j==="sessionType"&&C.map(ae=>n.jsx("option",{value:ae,children:ae},ae)),j==="status"&&O.map(ae=>n.jsx("option",{value:ae,children:ae},ae)),j==="client"&&M.map(ae=>n.jsx("option",{value:ae,children:ae},ae)),j==="paymentStatus"&&D.map(ae=>n.jsx("option",{value:ae,children:ae},ae)),j==="priority"&&W.map(ae=>n.jsx("option",{value:ae,children:ae},ae))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{N("all"),S(""),b("")},className:"px-3 py-2 border rounded text-sm hover:bg-gray-100",children:"Clear Filters"})})]})})]}),n.jsxs("div",{className:"p-4",children:[x==="month"&&R(),x==="week"&&K(),x==="day"&&Z(),x==="agenda"&&se(),x==="list"&&ue()]})]})},i$e=({onImportComplete:e})=>{const[t,r]=_.useState(!1),[s,a]=_.useState(null),[i,o]=_.useState(""),l=_.useRef(null),c=async p=>{if(!p.name.endsWith(".ics")){a({success:!1,error:"Please select a valid .ics calendar file"});return}r(!0),a(null);try{const f=await p.text(),x=await fetch("/api/calendar/import/ics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsContent:f,fileName:p.name})});if(!x.ok)throw new Error("Import failed");const g=await x.json();a({success:!0,count:g.imported}),e(g.imported)}catch{a({success:!1,error:"Failed to import calendar file. Please check the file format."})}finally{r(!1)}},u=async()=>{if(!i.trim()){a({success:!1,error:"Please enter a valid .ics URL"});return}r(!0),a(null);try{const p=await fetch("/api/calendar/import/ics-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({icsUrl:i.trim()})});if(!p.ok)throw new Error("Import failed");const f=await p.json();a({success:!0,count:f.imported}),e(f.imported)}catch{a({success:!1,error:"Failed to import from URL. Please check the URL is accessible."})}finally{r(!1)}},d=()=>{l.current?.click()},h=p=>{const f=p.target.files?.[0];f&&c(f)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Import Existing Calendar Events"}),n.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Import your existing Google Calendar bookings into the photography CRM system."}),n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Import from .ics URL"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Paste your Google Calendar .ics URL:"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"url",placeholder:"https://calendar.google.com/calendar/ical/...",value:i,onChange:p=>o(p.target.value),className:"flex-1 p-2 border border-gray-300 rounded text-sm"}),n.jsx("button",{onClick:u,disabled:t||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:t?"Importing...":"Import"})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded border",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Upload .ics File"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Or upload a downloaded .ics calendar file:"}),n.jsx("input",{ref:l,type:"file",accept:".ics",onChange:h,className:"hidden"}),n.jsxs("button",{onClick:d,disabled:t,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[n.jsx(Ka,{size:16}),n.jsx("span",{children:"Choose .ics File"})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"How to get your .ics URL from Google Calendar:"}),n.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 list-decimal list-inside",children:[n.jsx("li",{children:"Open Google Calendar"}),n.jsx("li",{children:"Click the gear icon → Settings"}),n.jsx("li",{children:"Select your calendar from the left sidebar"}),n.jsx("li",{children:'Scroll to "Integrate calendar"'}),n.jsx("li",{children:'Copy the "Secret address in iCal format" URL'}),n.jsx("li",{children:"Paste it above and click Import"})]})]})]}),s&&n.jsxs("div",{className:`p-4 rounded-lg ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[s.success?n.jsx(is,{className:"h-5 w-5 text-green-600"}):n.jsx(ln,{className:"h-5 w-5 text-red-600"}),n.jsx("span",{className:`font-medium ${s.success?"text-green-900":"text-red-900"}`,children:s.success?`Successfully imported ${s.count} events!`:"Import failed"})]}),s.error&&n.jsx("p",{className:"text-sm text-red-800 mt-2",children:s.error})]}),n.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Alternative: Manual Entry"}),n.jsx("p",{className:"text-sm text-amber-800",children:"You can also manually create photography sessions in the CRM for your existing bookings. This gives you full control over client details, pricing, and session information."})]})]})},o$e=({isOpen:e,onClose:t,onConnectionSuccess:r})=>{const[s,a]=_.useState("ical"),i=l=>{navigator.clipboard.writeText(l),alert("Copied to clipboard!")},o=()=>{window.open(`${window.location.origin}/api/calendar/photography-sessions.ics`,"_blank")};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fn,{className:"h-6 w-6 text-blue-600 mr-3"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Google Calendar Integration"})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[n.jsx("button",{onClick:()=>a("ical"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="ical"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"iCal Subscription"}),n.jsx("button",{onClick:()=>a("import"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="import"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Import Existing Events"}),n.jsx("button",{onClick:()=>a("oauth"),className:`px-4 py-2 text-sm font-medium border-b-2 ${s==="oauth"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"OAuth Integration"})]}),s==="ical"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("h4",{className:"font-medium text-green-900 mb-3",children:"✨ Simple Google Calendar Integration"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("p",{className:"text-sm text-green-800",children:"Subscribe to your photography sessions calendar directly in Google Calendar using iCal feed."}),n.jsxs("div",{className:"bg-white p-3 rounded border",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Photography Calendar iCal URL:"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",value:`${window.location.origin}/api/calendar/photography-sessions.ics`,readOnly:!0,className:"flex-1 p-2 border border-gray-300 rounded bg-gray-50 text-sm"}),n.jsxs("button",{onClick:()=>i(`${window.location.origin}/api/calendar/photography-sessions.ics`),className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[n.jsx(Ku,{size:14}),n.jsx("span",{children:"Copy"})]})]})]}),n.jsxs("div",{className:"text-sm text-green-800",children:[n.jsx("p",{children:n.jsx("strong",{children:"How to add to Google Calendar:"})}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4 mt-2",children:[n.jsx("li",{children:"Open Google Calendar on your computer"}),n.jsx("li",{children:'On the left side, click "+" next to "Other calendars"'}),n.jsx("li",{children:'Select "From URL"'}),n.jsx("li",{children:"Paste the iCal URL above"}),n.jsx("li",{children:'Click "Add calendar"'})]}),n.jsxs("p",{className:"mt-2 text-green-700",children:[n.jsx("strong",{children:"✓ Your photography sessions will automatically appear in Google Calendar"}),n.jsx("br",{}),n.jsx("strong",{children:"✓ Updates sync every few hours"}),n.jsx("br",{}),n.jsx("strong",{children:"✓ No complex OAuth setup required"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-3",children:[n.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:[n.jsx(Ls,{size:16}),n.jsx("span",{children:"Download .ics File"})]}),n.jsxs("button",{onClick:()=>window.open("https://calendar.google.com","_blank"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[n.jsx(Lm,{size:16}),n.jsx("span",{children:"Open Google Calendar"})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"What's Included in Your Calendar Feed"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Photography session titles and descriptions"}),n.jsx("li",{children:"• Client names and session types"}),n.jsx("li",{children:"• Location details for each session"}),n.jsx("li",{children:"• Session status (confirmed, tentative, cancelled)"}),n.jsx("li",{children:"• Priority levels for important sessions"}),n.jsx("li",{children:"• Automatic updates when you modify sessions"})]})]})]}),s==="import"&&n.jsx("div",{className:"space-y-6",children:n.jsx(i$e,{onImportComplete:l=>{alert(`Successfully imported ${l} events!`)}})}),s==="oauth"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Advanced Integration (OAuth 2.0)"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[n.jsx("p",{children:"For two-way sync and advanced features, OAuth integration is available:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Two-way synchronization (Google Calendar ↔ Photography CRM)"}),n.jsx("li",{children:"Real-time updates"}),n.jsx("li",{children:"Create sessions directly from Google Calendar"}),n.jsx("li",{children:"Automatic conflict detection"}),n.jsx("li",{children:"Multiple calendar support"})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Requires:"})," Google Cloud Console setup with OAuth credentials"]}),n.jsxs("p",{className:"mt-2",children:["See ",n.jsx("code",{children:"docs/google-calendar-setup.md"})," for OAuth setup instructions."]})]})]}),n.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200",children:[n.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"OAuth Setup Required"}),n.jsxs("div",{className:"text-sm text-amber-800 space-y-2",children:[n.jsx("p",{children:"To enable OAuth integration, you need to:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Create a Google Cloud Console project"}),n.jsx("li",{children:"Enable the Google Calendar API"}),n.jsx("li",{children:"Create OAuth 2.0 credentials"}),n.jsx("li",{children:"Configure redirect URIs for your domain"}),n.jsx("li",{children:"Add credentials to environment variables"})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Environment variables needed:"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_ID"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_CLIENT_SECRET"}),n.jsx("br",{}),n.jsx("code",{className:"bg-amber-100 px-1 rounded",children:"GOOGLE_REDIRECT_URI"})]})]})]})]})]}),n.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:n.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Close"})})]})}):null},TD=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(!0),[c,u]=_.useState(new Date),[d,h]=_.useState(8);_.useState(null),_.useState("calendar");const[p,f]=_.useState(!1),[x,g]=_.useState({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientName:"",clientEmail:"",locationName:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),v={totalSessions:45,upcomingSessions:12,completedSessions:33,totalRevenue:18750,pendingDeposits:3,equipmentConflicts:1};_.useEffect(()=>{j(),b()},[]);const b=async()=>{try{const M=await fetch("/api/crm/leads");if(M.ok){const D=await M.json();h(D.length)}}catch{}},j=async()=>{try{l(!0);const M=await fetch("/api/photography/sessions");if(M.ok){const D=await M.json();t(D)}else t([])}catch{t([])}finally{l(!1)}},N=Zz(c),A=Yz(c);Q4({start:N,end:A});const S=M=>({wedding:"bg-pink-100 border-pink-300 text-pink-800",portrait:"bg-blue-100 border-blue-300 text-blue-800",commercial:"bg-green-100 border-green-300 text-green-800",event:"bg-purple-100 border-purple-300 text-purple-800",family:"bg-orange-100 border-orange-300 text-orange-800",fashion:"bg-indigo-100 border-indigo-300 text-indigo-800"})[M]||"bg-gray-100 border-gray-300 text-gray-800",L=M=>{switch(M){case"completed":return n.jsx(Hr,{className:"w-3 h-3 text-green-600"});case"in-progress":return n.jsx(ra,{className:"w-3 h-3 text-blue-600"});case"scheduled":return n.jsx(Os,{className:"w-3 h-3 text-orange-600"});case"cancelled":return n.jsx(Tm,{className:"w-3 h-3 text-red-600"});default:return n.jsx(Os,{className:"w-3 h-3 text-gray-600"})}},I=()=>{f(!0)},k=async M=>{M.preventDefault();try{const D={...x,basePrice:x.basePrice?parseFloat(x.basePrice):void 0,depositAmount:x.depositAmount?parseFloat(x.depositAmount):void 0,equipmentList:x.equipmentList.filter(z=>z.trim()!==""),startTime:x.startTime?new Date(x.startTime).toISOString():void 0,endTime:x.endTime?new Date(x.endTime).toISOString():void 0};(await fetch("/api/photography/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)})).ok?(f(!1),g({title:"",description:"",sessionType:"portrait",status:"scheduled",startTime:"",endTime:"",clientName:"",clientEmail:"",locationName:"",basePrice:"",depositAmount:"",equipmentList:[],weatherDependent:!1,goldenHourOptimized:!1,portfolioWorthy:!1}),j()):alert("Failed to create session. Please try again.")}catch{alert("Error creating session. Please try again.")}},E=(M,D)=>{g(W=>({...W,[M]:D}))},B=()=>{const M=prompt("Enter equipment item:");M&&g(D=>({...D,equipmentList:[...D.equipmentList,M]}))},C=M=>{g(D=>({...D,equipmentList:D.equipmentList.filter((W,z)=>z!==M)}))},O=M=>{i(M)};return n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Photography Calendar"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced photography session management system with equipment tracking and client workflow tools"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[n.jsx(Ga,{size:18}),n.jsx("span",{children:"Calendar Sync"})]}),n.jsxs("button",{onClick:I,className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700",children:[n.jsx(ra,{className:"w-4 h-4"}),n.jsx("span",{children:"New Session"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Key Business Metrics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),n.jsx(tc,{className:"h-5 w-5 text-purple-500"})]}),n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["€",v.totalRevenue.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 8.2%"}),"vs last month"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-blue-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"New Leads"}),n.jsx(Fs,{className:"h-5 w-5 text-blue-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 12.5%"}),"this week"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-green-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming Bookings"}),n.jsx(fn,{className:"h-5 w-5 text-green-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.upcomingSessions}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-blue-600 mr-1",children:"→ 0"}),"next 30 days"]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 border-orange-500",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),n.jsx(Hr,{className:"h-5 w-5 text-orange-500"})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"87.5%"}),n.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[n.jsx("span",{className:"text-green-600 mr-1",children:"↗ 3.2%"}),"vs last month"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Sessions"}),n.jsx(fn,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:v.totalSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"All time"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),n.jsx(Os,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:v.upcomingSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"Next 30 days"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Completed"}),n.jsx(Hr,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:v.completedSessions}),n.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Revenue"}),n.jsx(tc,{className:"h-4 w-4 text-gray-400"})]}),n.jsxs("div",{className:"text-2xl font-bold",children:["$",v.totalRevenue.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pending Deposits"}),n.jsx(Fs,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:v.pendingDeposits}),n.jsx("p",{className:"text-xs text-gray-500",children:"Need attention"})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Equipment Conflicts"}),n.jsx(Tm,{className:"h-4 w-4 text-gray-400"})]}),n.jsx("div",{className:"text-2xl font-bold",children:v.equipmentConflicts}),n.jsx("p",{className:"text-xs text-gray-500",children:"Needs resolution"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:I,className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(ra,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Schedule Session"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(ef,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Location Scouting"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(Hr,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Equipment Check"})]}),n.jsxs("button",{className:"flex flex-col items-center space-y-2 p-4 border rounded-lg hover:bg-gray-50",children:[n.jsx(Fs,{className:"w-6 h-6"}),n.jsx("span",{className:"text-sm",children:"Revenue Report"})]})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"New Photography Calendar Features"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(P1,{className:"w-5 h-5 text-yellow-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Golden Hour Optimization"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Automatically suggests optimal shooting times based on location and season"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(C1,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Weather Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Real-time weather monitoring with automatic backup planning"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(ra,{className:"w-5 h-5 text-purple-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Equipment Management"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Smart conflict detection and rental coordination"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Do,{className:"w-5 h-5 text-orange-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Portfolio Tracking"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Identify portfolio gaps and high-value sessions"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Fs,{className:"w-5 h-5 text-green-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"AI-Powered Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Booking patterns and revenue forecasting insights"})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Hr,{className:"w-5 h-5 text-blue-600 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Workflow Automation"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Post-shoot pipeline with editing and delivery tracking"})]})]})]})]}),n.jsx(a$e,{sessions:e,clients:[],onSessionClick:O,onCreateSession:I,onUpdateSession:()=>{},onDeleteSession:()=>{},onDuplicateSession:()=>{},onExportCalendar:()=>{},onImportCalendar:()=>{},onSyncExternalCalendar:()=>{}}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Session Types & Indicators"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-pink-200 rounded border border-pink-300"}),n.jsx("span",{children:"Wedding"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-200 rounded border border-blue-300"}),n.jsx("span",{children:"Portrait"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-200 rounded border border-green-300"}),n.jsx("span",{children:"Commercial"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-200 rounded border border-purple-300"}),n.jsx("span",{children:"Event"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(P1,{className:"w-3 h-3 text-yellow-600"}),n.jsx("span",{children:"Golden Hour"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(C1,{className:"w-3 h-3 text-blue-600"}),n.jsx("span",{children:"Weather Dependent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Do,{className:"w-3 h-3 text-purple-600"}),n.jsx("span",{children:"Portfolio Worthy"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hr,{className:"w-3 h-3 text-green-600"}),n.jsx("span",{children:"Completed"})]})]})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Create New Photography Session"}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Title"}),n.jsx("input",{type:"text",value:x.title,onChange:M=>E("title",M.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:x.description,onChange:M=>E("description",M.target.value),className:"w-full border rounded px-3 py-2",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Session Type"}),n.jsxs("select",{value:x.sessionType,onChange:M=>E("sessionType",M.target.value),className:"w-full border rounded px-3 py-2",children:[n.jsx("option",{value:"portrait",children:"Portrait"}),n.jsx("option",{value:"wedding",children:"Wedding"}),n.jsx("option",{value:"commercial",children:"Commercial"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"family",children:"Family"}),n.jsx("option",{value:"fashion",children:"Fashion"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),n.jsx("input",{type:"datetime-local",value:x.startTime,onChange:M=>E("startTime",M.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),n.jsx("input",{type:"datetime-local",value:x.endTime,onChange:M=>E("endTime",M.target.value),className:"w-full border rounded px-3 py-2",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Client Name"}),n.jsx("input",{type:"text",value:x.clientName,onChange:M=>E("clientName",M.target.value),className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),n.jsx("input",{type:"text",value:x.locationName,onChange:M=>E("locationName",M.target.value),className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Base Price ($)"}),n.jsx("input",{type:"number",step:"0.01",value:x.basePrice,onChange:M=>E("basePrice",M.target.value),className:"w-full border rounded px-3 py-2"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deposit ($)"}),n.jsx("input",{type:"number",step:"0.01",value:x.depositAmount,onChange:M=>E("depositAmount",M.target.value),className:"w-full border rounded px-3 py-2"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium",children:"Equipment List"}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:x.equipmentList.map((M,D)=>n.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center",children:[M,n.jsx("button",{type:"button",onClick:()=>C(D),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},D))}),n.jsx("button",{type:"button",onClick:B,className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add Equipment"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:x.weatherDependent,onChange:M=>E("weatherDependent",M.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Weather Dependent"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:x.goldenHourOptimized,onChange:M=>E("goldenHourOptimized",M.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Golden Hour Optimized"})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",checked:x.portfolioWorthy,onChange:M=>E("portfolioWorthy",M.target.checked),className:"mr-2"}),n.jsx("span",{className:"text-sm",children:"Portfolio Worthy"})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Create Session"}),n.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400",children:"Cancel"})]})]})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:a.title}),n.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Session Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Type:"}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${S(a.sessionType)}`,children:a.sessionType})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[L(a.status),n.jsx("span",{children:a.status})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start:"}),n.jsx("span",{children:Gn(Zs(a.startTime),"MMM d, yyyy h:mm a")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End:"}),n.jsx("span",{children:Gn(Zs(a.endTime),"MMM d, yyyy h:mm a")})]}),a.clientName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Client:"}),n.jsx("span",{children:a.clientName})]}),a.clientEmail&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{children:a.clientEmail})]}),a.locationName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsx("span",{children:a.locationName})]})]})]}),a.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),n.jsxs("div",{className:"space-y-4",children:[(a.basePrice||a.depositAmount)&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Pricing"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[a.basePrice&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Base Price:"}),n.jsxs("span",{children:["$",a.basePrice]})]}),a.depositAmount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Deposit:"}),n.jsxs("span",{children:["$",a.depositAmount]})]})]})]}),a.equipmentList&&a.equipmentList.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Equipment List"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:a.equipmentList.map((M,D)=>n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:M},D))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Special Features"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[a.goldenHourOptimized&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(P1,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{children:"Golden Hour Optimized"})]}),a.weatherDependent&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(C1,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Weather Dependent"})]}),a.portfolioWorthy&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Do,{className:"w-4 h-4 text-purple-600"}),n.jsx("span",{children:"Portfolio Worthy"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t",children:[n.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Close"}),n.jsx("button",{onClick:()=>{},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Edit Session"})]})]})}),n.jsx(o$e,{isOpen:r,onClose:()=>s(!1),onConnectionSuccess:()=>{j()}})]})})},l$e=()=>{const e=[{icon:n.jsx(fg,{className:"h-8 w-8 text-blue-600"}),title:"Advanced Survey Builder",description:"Drag-and-drop interface with 20+ question types, real-time preview, and multi-page support."},{icon:n.jsx(Qn,{className:"h-8 w-8 text-green-600"}),title:"Response Management",description:"Collect, analyze, and export responses with advanced filtering and real-time tracking."},{icon:n.jsx(ml,{className:"h-8 w-8 text-purple-600"}),title:"Analytics & Insights",description:"Comprehensive analytics with completion rates, drop-off points, and visual reporting."},{icon:n.jsx(Ga,{className:"h-8 w-8 text-orange-600"}),title:"Flexible Configuration",description:"Custom settings, access controls, time limits, and branded survey experiences."},{icon:n.jsx(Ih,{className:"h-8 w-8 text-yellow-600"}),title:"Smart Logic",description:"Skip logic, branching, and conditional questions for dynamic survey flows."},{icon:n.jsx(Oee,{className:"h-8 w-8 text-red-600"}),title:"Security & Privacy",description:"Anonymous responses, data encryption, and GDPR-compliant data handling."}],t=["Text Input","Multiple Choice","Checkboxes","Dropdown","Email","Phone","Date & Time","Rating","Scale","Ranking","Matrix","Slider","Image Choice","File Upload","NPS","Contact Info","Address","Net Promoter Score"];return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Survey Monkey-Style",n.jsx("br",{}),n.jsx("span",{className:"text-blue-200",children:"Questionnaire System"})]}),n.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"Create powerful surveys with advanced question types, real-time analytics, and enterprise-grade features built right into your admin panel."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(Gt,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(fg,{className:"mr-2 h-5 w-5"}),"Start Building Surveys",n.jsx(Om,{className:"ml-2 h-5 w-5"})]}),n.jsxs("button",{className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[n.jsx(sc,{className:"mr-2 h-5 w-5"}),"View Demo Survey"]})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need for Professional Surveys"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From simple feedback forms to complex research studies, our system provides all the tools you need to create, distribute, and analyze surveys effectively."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((r,s)=>n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-shadow",children:[n.jsx("div",{className:"mb-4",children:r.icon}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.title}),n.jsx("p",{className:"text-gray-600",children:r.description})]},s))})]}),n.jsx("div",{className:"bg-gray-100",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"20+ Question Types"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From basic text inputs to advanced matrix questions, we support all the question types you need for comprehensive data collection."})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:t.map((r,s)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Hr,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:r})]},s))})]})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Powerful Builder Interface"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Intuitive drag-and-drop survey builder with real-time preview and advanced customization options."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Survey Builder Features"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Drag-and-drop question reordering"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Real-time preview as you build"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Question categorization and search"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Conditional logic and branching"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Custom styling and branding"})]}),n.jsxs("li",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsx("span",{children:"Mobile-responsive design"})]})]})]}),n.jsxs("div",{className:"bg-gray-200 rounded-lg p-8 text-center",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-4",children:[n.jsx("div",{className:"h-4 bg-blue-200 rounded mb-3"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-8 bg-gray-100 rounded"}),n.jsx("div",{className:"h-8 bg-gray-100 rounded"}),n.jsx("div",{className:"h-8 bg-gray-100 rounded"})]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Survey Builder Interface Preview"})]})]})]}),n.jsx("div",{className:"bg-gray-900 text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Advanced Analytics & Reporting"}),n.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Get deep insights into your survey performance with comprehensive analytics, real-time reporting, and data export capabilities."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-blue-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(ml,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Real-Time Analytics"}),n.jsx("p",{className:"text-gray-300",children:"Monitor responses as they come in with live dashboards and instant notifications."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-green-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(Qn,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Response Tracking"}),n.jsx("p",{className:"text-gray-300",children:"Track completion rates, drop-off points, and user behavior patterns."})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-purple-600 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:n.jsx(g6,{className:"h-8 w-8"})}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Device Analytics"}),n.jsx("p",{className:"text-gray-300",children:"Understand how users interact with your surveys across different devices."})]})]})]})}),n.jsx("div",{className:"bg-blue-600 text-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Start Creating Surveys?"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of organizations using our survey system to collect valuable feedback and insights from their audience."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsxs(Gt,{to:"/admin/questionnaires",className:"inline-flex items-center px-8 py-3 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(fg,{className:"mr-2 h-5 w-5"}),"Access Survey Builder",n.jsx(Om,{className:"ml-2 h-5 w-5"})]}),n.jsxs(Gt,{to:"/survey/demo",className:"inline-flex items-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-colors",children:[n.jsx(sc,{className:"mr-2 h-5 w-5"}),"Try Demo Survey"]})]})]})})}),n.jsx("div",{className:"bg-gray-800 text-gray-300",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{children:"© 2024 NEWAGEFrntEUI Survey System. Built with React, TypeScript, and Supabase."})})})})]})},c$e=()=>{const{surveyId:e}=yl(),t=Jn(),[r,s]=_.useState(null),[a,i]=_.useState(!0),[o,l]=_.useState(null),[c,u]=_.useState(0),[d,h]=_.useState({}),[p,f]=_.useState(!1),[x,g]=_.useState(!1);_.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{if(i(!0),l(null),!e)throw new Error("Survey ID is required");const O=await tg.getSurvey(e);if(O.status!=="active")throw new Error("This survey is not currently active");s(O)}catch(O){l(O instanceof Error?O.message:"Failed to load survey")}finally{i(!1)}},b=(O,M)=>{h(D=>({...D,[O]:M}))},j=()=>{if(!r)return!1;const M=r.pages[c].questions.filter(D=>D.required);for(const D of M){const W=d[D.id];if(!W||Array.isArray(W)&&W.length===0||W==="")return!1}return!0},N=()=>{if(r){if(!j()){alert("Please answer all required questions before continuing.");return}c<r.pages.length-1&&u(O=>O+1)}},A=()=>{c>0&&u(O=>O-1)},S=async()=>{if(!(!r||!e)){if(!j()){alert("Please answer all required questions before submitting.");return}try{f(!0);const O={surveyId:e,respondentId:void 0,status:"completed",completedAt:new Date().toISOString(),ipAddress:void 0,userAgent:navigator.userAgent,answers:Object.entries(d).map(([M,D])=>({questionId:M,value:D})),metadata:{timeSpent:0,device:"desktop",browser:"unknown",os:"unknown"}};await Q9e.submitResponse(O),g(!0)}catch{l("Failed to submit response. Please try again.")}finally{f(!1)}}},L=O=>{const M=d[O.id];switch(O.type){case"text":return n.jsx("input",{type:"text",value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."});case"email":return n.jsx("input",{type:"email",value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"email@example.com"});case"number":return n.jsx("input",{type:"number",value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter a number..."});case"date":return n.jsx("input",{type:"date",value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"});case"multiple_choice":return n.jsx("div",{className:"space-y-3",children:O.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"radio",name:`question_${O.id}`,value:D.id,checked:M===D.id,onChange:W=>b(O.id,W.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),n.jsx("span",{className:"text-gray-900",children:D.text})]},D.id))});case"checkboxes":return n.jsx("div",{className:"space-y-3",children:O.options?.map(D=>n.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",value:D.id,checked:Array.isArray(M)&&M.includes(D.id),onChange:W=>{const z=Array.isArray(M)?M:[];W.target.checked?b(O.id,[...z,D.id]):b(O.id,z.filter(G=>G!==D.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("span",{className:"text-gray-900",children:D.text})]},D.id))});case"dropdown":return n.jsxs("select",{value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select an option..."}),O.options?.map(D=>n.jsx("option",{value:D.id,children:D.text},D.id))]});case"rating":return n.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(D=>n.jsx("button",{type:"button",onClick:()=>b(O.id,D),className:`${M>=D?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:n.jsx(Do,{size:24,fill:"currentColor"})},D))});default:return n.jsx("input",{type:"text",value:M||"",onChange:D=>b(O.id,D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your answer..."})}};if(a)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Xr,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading survey..."})]})});if(o)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[n.jsx(ln,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Unable to Load Survey"}),n.jsx("p",{className:"text-gray-600 mb-4",children:o}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(x)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[n.jsx(Hr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Thank You!"}),n.jsx("p",{className:"text-gray-600 mb-4",children:r?.thankYouMessage||"Your response has been submitted successfully."}),n.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Go Home"})]})})});if(!r)return null;const I=r.pages[c],k=c===r.pages.length-1,E=r.pages.reduce((O,M)=>O+M.questions.length,0),B=Object.keys(d).length,C=E>0?B/E*100:0;return n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-2xl mx-auto py-8 px-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),r.description&&n.jsx("p",{className:"text-gray-600",children:r.description}),r.settings.progressBar&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[Math.round(C),"% Complete"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${C}%`}})})]})]}),n.jsx("div",{className:"px-6 py-6",children:n.jsx("div",{className:"space-y-8",children:I.questions.map((O,M)=>n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[M+1,". ",O.title,O.required&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),O.description&&n.jsx("p",{className:"text-gray-600 mb-4",children:O.description})]}),L(O)]},O.id))})}),n.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("button",{onClick:A,disabled:c===0,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Iv,{size:16}),n.jsx("span",{children:"Previous"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",c+1," of ",r.pages.length]}),k?n.jsxs("button",{onClick:S,disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[p?n.jsx(Xr,{size:16,className:"animate-spin"}):n.jsx(Bo,{size:16}),n.jsx("span",{children:p?"Submitting...":"Submit"})]}):n.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[n.jsx("span",{children:"Next"}),n.jsx(Oh,{size:16})]})]})})]})})})},OD=()=>{const{t:e}=Jh(),[t,r]=_.useState([]),[s,a]=_.useState(""),[i,o]=_.useState("all"),[l,c]=_.useState(!0),[u,d]=_.useState(null),[h,p]=_.useState(null),[f,x]=_.useState(0),[g,v]=_.useState(1),[b,j]=_.useState(1),N=_.useCallback(async()=>{try{c(!0),d(null);const k=new URLSearchParams;i!=="all"&&(i==="published"?k.append("published","true"):i==="draft"&&k.append("published","false"));const E=await fetch(`/api/blog/posts?${k.toString()}`,{credentials:"include"});if(!E.ok)throw new Error("Failed to fetch blog posts");const C=(await E.json()).posts.map(M=>({id:M.id,title:M.title,slug:M.slug,excerpt:M.excerpt,content_html:M.contentHtml||M.content,cover_image:M.imageUrl,status:M.published?"PUBLISHED":"DRAFT",published:M.published,author_id:M.authorId,published_at:M.publishedAt,created_at:M.createdAt,updated_at:M.updatedAt,seo_title:M.seoTitle,meta_description:M.metaDescription,tags:M.tags||[]})),O=s?C.filter(M=>M.title.toLowerCase().includes(s.toLowerCase())||M.content_html.toLowerCase().includes(s.toLowerCase())||M.excerpt&&M.excerpt.toLowerCase().includes(s.toLowerCase())):C;r(O),x(O.length),j(Math.ceil(O.length/10))}catch{d("Failed to load blog posts. Please try again.")}finally{c(!1)}},[i,g,s]);_.useEffect(()=>{N()},[N]);const A=()=>{v(1),N()},S=async k=>{try{if(c(!0),!(await fetch(`/api/blog/posts/${k}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete post");N(),p(null)}catch{d("Failed to delete post. Please try again."),c(!1)}},L=async k=>{try{c(!0);const E=!k.published;if(!(await fetch(`/api/blog/posts/${k.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({published:E,publishedAt:E?new Date().toISOString():null})})).ok)throw new Error("Failed to update post status");N()}catch{d("Failed to update post status. Please try again."),N()}},I=k=>{switch(k.status){case"PUBLISHED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx(Hr,{size:12,className:"mr-1"})," ",e("status.published")]});case"SCHEDULED":return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[n.jsx(Os,{size:12,className:"mr-1"})," ",e("status.scheduled")]});default:return n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx(Os,{size:12,className:"mr-1"})," ",e("status.draft")]})}};return n.jsxs(Rr,{children:[n.jsxs("div",{className:"space-y-6",children:["        ",n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:e("admin.blog")}),n.jsx("p",{className:"text-gray-600",children:e("blog.manage_content")})]}),n.jsxs(Gt,{to:"/admin/blog/new",className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[n.jsx(Ir,{size:20,className:"mr-2"}),e("blog.create")]})]}),u&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:u})]}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),"              ",n.jsx("input",{type:"text",placeholder:e("blog.search_posts"),value:s,onChange:k=>a(k.target.value),onKeyDown:k=>k.key==="Enter"&&A(),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),n.jsxs("select",{value:i,onChange:k=>o(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"all",children:e("filter.all_statuses")}),n.jsx("option",{value:"published",children:e("status.published")}),n.jsx("option",{value:"draft",children:e("status.draft")}),n.jsx("option",{value:"scheduled",children:e("status.scheduled")})]}),n.jsxs("button",{onClick:A,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[n.jsx(Jm,{size:20,className:"mr-2"}),e("action.filter")]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:["          ",l?n.jsxs("div",{className:"p-6 text-center",children:[n.jsx(Xr,{className:"animate-spin h-8 w-8 text-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:e("message.loading")})]}):t.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("blog.post")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.status")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("form.date")}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("table.actions")})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:["                        ",n.jsxs("div",{className:"flex items-center",children:[k.cover_image?n.jsx("img",{src:k.cover_image,alt:k.title,className:"h-10 w-10 rounded-md object-cover mr-3"}):n.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-200 mr-3 flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 text-xs",children:e("blog.no_image")})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.title}),n.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:k.excerpt||e("blog.no_excerpt")})]})]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(k)}),"                      ",n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k.status==="PUBLISHED"&&k.published_at?new Date(k.published_at).toLocaleDateString():k.status==="SCHEDULED"&&k.scheduled_for?`${e("status.scheduled")}: ${new Date(k.scheduled_for).toLocaleDateString()}`:new Date(k.created_at).toLocaleDateString()+` (${e("status.draft")})`}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(Gt,{to:`/admin/blog/edit/${k.id}`,className:"text-indigo-600 hover:text-indigo-900",title:e("action.edit"),children:n.jsx(Ha,{size:16})}),n.jsx("a",{href:`/blog/${k.slug}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900",title:e("action.view"),children:n.jsx(Xn,{size:16})}),n.jsx("button",{onClick:()=>L(k),className:`${k.status==="PUBLISHED"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:k.status==="PUBLISHED"?e("blog.unpublish"):e("blog.publish"),children:k.status==="PUBLISHED"?n.jsx(Os,{size:16}):n.jsx(Hr,{size:16})}),n.jsx("button",{onClick:()=>p(k.id),className:"text-red-600 hover:text-red-900",title:e("action.delete"),children:n.jsx(js,{size:16})})]})})]},k.id))})]})}):n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("p",{className:"text-gray-500",children:e("blog.no_posts_found")}),n.jsxs(Gt,{to:"/admin/blog/new",className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(Ir,{size:16,className:"mr-2"}),e("blog.create_first_post")]})]})]}),"        ",b>1&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:[e("pagination.showing")," ",n.jsx("span",{className:"font-medium",children:t.length})," ",e("pagination.of")," ",n.jsx("span",{className:"font-medium",children:f})," ",e("pagination.results")]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>v(k=>Math.max(k-1,1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.previous")}),Array.from({length:b},(k,E)=>E+1).map(k=>n.jsx("button",{onClick:()=>v(k),className:`px-3 py-1 border rounded-md text-sm ${g===k?"bg-purple-600 text-white border-purple-600":"border-gray-300 text-gray-700"}`,children:k},k)),n.jsx("button",{onClick:()=>v(k=>Math.min(k+1,b)),disabled:g===b,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50",children:e("action.next")})]})]})]}),"      ",h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:e("modal.confirm_deletion")}),n.jsx("p",{className:"text-gray-500 mb-6",children:e("modal.delete_post_warning")}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>p(null),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:e("action.cancel")}),n.jsx("button",{onClick:()=>h&&S(h),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:e("action.delete")})]})]})})]})},u$e=({value:e,onChange:t,placeholder:r="Start writing your blog post content..."})=>{const s=_.useRef(null),[a,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(!1),[d,h]=_.useState(!1),[p,f]=_.useState(!1),[x,g]=_.useState(!1),[v,b]=_.useState(!1),[j,N]=_.useState(!1),[A,S]=_.useState(""),[L,I]=_.useState(""),[k,E]=_.useState(!1),[B,C]=_.useState(!1),[O,M]=_.useState(!1),[D,W]=_.useState(""),[z,G]=_.useState([e]),[V,Y]=_.useState(0),ie=["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF","#980000","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF","#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#741B47","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"],q=[{name:"Default",value:""},{name:"Arial",value:"Arial, sans-serif"},{name:"Helvetica",value:"Helvetica, sans-serif"},{name:"Georgia",value:"Georgia, serif"},{name:"Times New Roman",value:'"Times New Roman", serif'},{name:"Courier New",value:'"Courier New", monospace'},{name:"Verdana",value:"Verdana, sans-serif"},{name:"Trebuchet MS",value:'"Trebuchet MS", sans-serif'},{name:"Comic Sans MS",value:'"Comic Sans MS", cursive'},{name:"Impact",value:"Impact, sans-serif"},{name:"Palatino",value:"Palatino, serif"},{name:"Tahoma",value:"Tahoma, sans-serif"},{name:"Century Gothic",value:'"Century Gothic", sans-serif'},{name:"Lucida Console",value:'"Lucida Console", monospace'},{name:"Book Antiqua",value:'"Book Antiqua", serif'},{name:"Calibri",value:"Calibri, sans-serif"},{name:"Cambria",value:"Cambria, serif"},{name:"Garamond",value:"Garamond, serif"}],R=[{label:"8px",value:"1"},{label:"10px",value:"2"},{label:"12px",value:"3"},{label:"14px",value:"4"},{label:"18px",value:"5"},{label:"24px",value:"6"},{label:"36px",value:"7"}],K=[{label:"Normal Text",value:"div"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Paragraph",value:"p"},{label:"Preformatted",value:"pre"}];_.useEffect(()=>{O&&W(e)},[e,O]),_.useEffect(()=>{s.current&&!O&&!B&&(s.current.innerHTML=e||`<p>${r}</p>`)},[e,O,B,r]);const Z=_.useCallback(Q=>{const ze=z.slice(0,V+1);ze.push(Q),G(ze),Y(ze.length-1)},[z,V]),se=_.useCallback((Q,ze)=>{if(document.execCommand(Q,!1,ze),s.current?.focus(),s.current){const Ye=s.current.innerHTML;t(Ye),Z(Ye)}},[t,Z]),ue=_.useCallback(()=>{if(V>0){const Q=V-1,ze=z[Q];Y(Q),t(ze),s.current&&(s.current.value=ze)}},[z,V,t]),ae=_.useCallback(()=>{if(V<z.length-1){const Q=V+1,ze=z[Q];Y(Q),t(ze),s.current&&(s.current.value=ze)}},[z,V,t]),xe=async Q=>{try{E(!0);const ze=Q.name.split(".").pop(),Ye=`blog/content/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${ze}`,{error:Ge}=await Dt.storage.from("images").upload(Ye,Q);if(Ge)throw Ge;const{data:{publicUrl:Ve}}=Dt.storage.from("images").getPublicUrl(Ye),J=`<img src="${Ve}" alt="${Q.name}" style="max-width: 100%; height: auto; margin: 15px auto; display: block; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" />`;if(document.execCommand("insertHTML",!1,J),s.current){const de=s.current.innerHTML;t(de),Z(de)}g(!1)}catch{alert("Failed to upload image. Please try again.")}finally{E(!1)}},X=()=>{if(A&&L){const Q=`<a href="${A}" target="_blank" rel="noopener noreferrer" style="color: #3B82F6; text-decoration: underline;">${L}</a>`;if(document.execCommand("insertHTML",!1,Q),s.current){const ze=s.current.innerHTML;t(ze),Z(ze)}S(""),I(""),b(!1)}},me=(Q,ze)=>{let Ye='<table style="border-collapse: collapse; width: 100%; margin: 15px 0;">';for(let Ge=0;Ge<Q;Ge++){Ye+="<tr>";for(let Ve=0;Ve<ze;Ve++)Ye+=`<td style="border: 1px solid #ddd; padding: 12px; ${Ge===0?"background-color: #f8f9fa; font-weight: bold;":""}">${Ge===0?`Header ${Ve+1}`:"Cell content"}</td>`;Ye+="</tr>"}if(Ye+="</table>",document.execCommand("insertHTML",!1,Ye),s.current){const Ge=s.current.innerHTML;t(Ge),Z(Ge)}N(!1)},ne=()=>{C(!B),M(!1)},he=()=>{O?(t(D),s.current&&(s.current.innerHTML=D)):W(e),M(!O),C(!1)},ke=({onClick:Q,active:ze,children:Ye,title:Ge,disabled:Ve=!1})=>n.jsx("button",{type:"button",onClick:Q,title:Ge,disabled:Ve,className:`p-2 rounded transition-colors ${Ve?"text-gray-400 cursor-not-allowed":ze?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:Ye}),je=({children:Q,title:ze,isOpen:Ye,onClick:Ge})=>n.jsxs("button",{type:"button",onClick:Ge,title:ze,className:`p-2 rounded transition-colors flex items-center ${Ye?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[Q,n.jsx(Lv,{size:12,className:"ml-1"})]});return n.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",style:{direction:"ltr"},children:[n.jsx("div",{className:"bg-gray-50 border-b border-gray-300 p-2",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:ue,title:"Undo",disabled:V<=0,children:n.jsx(Uee,{size:16})}),n.jsx(ke,{onClick:ae,title:"Redo",disabled:V>=z.length-1,children:n.jsx(Cee,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:ne,title:"Toggle Preview",active:B,children:B?n.jsx(ZJ,{size:16}):n.jsx(Xn,{size:16})}),n.jsx(ke,{onClick:he,title:"HTML Source",active:O,children:n.jsx(QJ,{size:16})})]}),!B&&!O&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(je,{onClick:()=>u(!c),title:"Font Family",isOpen:c,children:n.jsx(e2,{size:16})}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-48 max-h-64 overflow-y-auto",children:q.map(Q=>n.jsx("button",{type:"button",onClick:()=>{se("fontName",Q.value),u(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontFamily:Q.value},children:Q.name},Q.value))})]}),n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(je,{onClick:()=>f(!p),title:"Heading",isOpen:p,children:n.jsx("span",{className:"text-sm font-medium",children:"H"})}),p&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-40",children:K.map(Q=>n.jsx("button",{type:"button",onClick:()=>{se("formatBlock",Q.value),f(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",children:Q.value.startsWith("h")?n.jsx("span",{className:`font-bold ${Q.value==="h1"?"text-2xl":Q.value==="h2"?"text-xl":Q.value==="h3"?"text-lg":Q.value==="h4"?"text-base":Q.value==="h5"?"text-sm":"text-xs"}`,children:Q.label}):n.jsx("span",{children:Q.label})},Q.value))})]}),n.jsxs("div",{className:"relative border-r border-gray-300 pr-2 mr-2",children:[n.jsx(je,{onClick:()=>h(!d),title:"Font Size",isOpen:d,children:n.jsx("span",{className:"text-xs",children:"Aa"})}),d&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 min-w-24",children:R.map(Q=>n.jsx("button",{type:"button",onClick:()=>{se("fontSize",Q.value),h(!1)},className:"w-full text-left px-3 py-2 hover:bg-gray-100 first:rounded-t-lg last:rounded-b-lg",style:{fontSize:Q.label},children:Q.label},Q.value))})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>se("bold"),title:"Bold",children:n.jsx(WJ,{size:16})}),n.jsx(ke,{onClick:()=>se("italic"),title:"Italic",children:n.jsx(uee,{size:16})}),n.jsx(ke,{onClick:()=>se("underline"),title:"Underline",children:n.jsx(zee,{size:16})}),n.jsx(ke,{onClick:()=>se("strikeThrough"),title:"Strikethrough",children:n.jsx(Iee,{size:16})}),n.jsx(ke,{onClick:()=>se("superscript"),title:"Superscript",children:n.jsx(Dee,{size:16})}),n.jsx(ke,{onClick:()=>se("subscript"),title:"Subscript",children:n.jsx(Mee,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ke,{onClick:()=>i(!a),title:"Text Color",children:n.jsxs("div",{className:"relative",children:[n.jsx(e2,{size:16}),n.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-red-500 rounded"})]})}),a&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:n.jsx("div",{className:"grid grid-cols-10 gap-1",children:ie.map(Q=>n.jsx("button",{type:"button",onClick:()=>{se("foreColor",Q),i(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:Q},title:Q},Q))})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ke,{onClick:()=>l(!o),title:"Background Color",children:n.jsxs("div",{className:"relative",children:[n.jsx(Mo,{size:16}),n.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-yellow-400 rounded"})]})}),o&&n.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-10",children:n.jsx("div",{className:"grid grid-cols-10 gap-1",children:ie.map(Q=>n.jsx("button",{type:"button",onClick:()=>{se("backColor",Q),l(!1)},className:"w-5 h-5 rounded border border-gray-300 hover:scale-110 transition-transform",style:{backgroundColor:Q},title:Q},Q))})})]})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>se("justifyLeft"),title:"Align Left",children:n.jsx($J,{size:16})}),n.jsx(ke,{onClick:()=>se("justifyCenter"),title:"Align Center",children:n.jsx(RJ,{size:16})}),n.jsx(ke,{onClick:()=>se("justifyRight"),title:"Align Right",children:n.jsx(BJ,{size:16})}),n.jsx(ke,{onClick:()=>se("justifyFull"),title:"Justify",children:n.jsx(FJ,{size:16})})]}),n.jsxs("div",{className:"flex items-center border-r border-gray-300 pr-2 mr-2",children:[n.jsx(ke,{onClick:()=>se("insertUnorderedList"),title:"Bullet List",children:n.jsx(pF,{size:16})}),n.jsx(ke,{onClick:()=>se("insertOrderedList"),title:"Numbered List",children:n.jsx(mF,{size:16})}),n.jsx(ke,{onClick:()=>se("outdent"),title:"Decrease Indent",children:n.jsx(jee,{size:16})}),n.jsx(ke,{onClick:()=>se("indent"),title:"Increase Indent",children:n.jsx(oee,{size:16})})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ke,{onClick:()=>b(!0),title:"Insert Link",children:n.jsx(fF,{size:16})}),n.jsx(ke,{onClick:()=>g(!0),title:"Insert Image",children:n.jsx(Va,{size:16})}),n.jsx(ke,{onClick:()=>N(!0),title:"Insert Table",children:n.jsx(Ree,{size:16})}),n.jsx(ke,{onClick:()=>se("formatBlock","blockquote"),title:"Quote",children:n.jsx(kee,{size:16})}),n.jsx(ke,{onClick:()=>se("formatBlock","pre"),title:"Code Block",children:n.jsx(cF,{size:16})})]})]})]})}),n.jsx("div",{className:"relative",children:B?n.jsx("div",{className:"min-h-96 p-6 prose max-w-none",dangerouslySetInnerHTML:{__html:e}}):O?n.jsx("textarea",{value:D,onChange:Q=>W(Q.target.value),className:"w-full min-h-96 p-4 font-mono text-sm border-0 outline-none resize-none",style:{direction:"ltr",textAlign:"left"},placeholder:"Edit HTML source..."}):n.jsx("div",{ref:s,contentEditable:!0,suppressContentEditableWarning:!0,onInput:Q=>{const ze=Q.currentTarget.innerHTML;t(ze),Z(ze)},onKeyDown:Q=>{(Q.ctrlKey||Q.metaKey)&&(Q.key==="z"&&!Q.shiftKey?(Q.preventDefault(),ue()):(Q.key==="z"&&Q.shiftKey||Q.key==="y")&&(Q.preventDefault(),ae()))},className:"min-h-96 p-6 outline-none w-full border-0 focus:ring-0 prose max-w-none",style:{lineHeight:"1.7",fontSize:"16px",direction:"ltr",textAlign:"left",unicodeBidi:"embed",writingMode:"horizontal-tb",fontFamily:"inherit"},dangerouslySetInnerHTML:{__html:e||`<p>${r}</p>`}})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Link"}),n.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link Text"}),n.jsx("input",{type:"text",value:L,onChange:Q=>I(Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter link text"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),n.jsx("input",{type:"url",value:A,onChange:Q=>S(Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),n.jsx("button",{onClick:X,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Insert Link"})]})]})]})}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Image"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:20})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image"}),n.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{const ze=Q.target.files?.[0];ze&&xe(ze)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",disabled:k}),k&&n.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[n.jsx(Ka,{className:"animate-pulse mr-2",size:16}),"Uploading image..."]})]})})]})}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 max-w-90vw",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Insert Table"}),n.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Click to select table size:"}),n.jsx("div",{className:"grid grid-cols-8 gap-1 p-2 border border-gray-300 rounded",children:Array.from({length:64},(Q,ze)=>{const Ye=Math.floor(ze/8)+1,Ge=ze%8+1;return n.jsx("button",{onClick:()=>me(Ye,Ge),className:"w-6 h-6 border border-gray-300 hover:bg-purple-100 transition-colors",title:`${Ye} x ${Ge}`},ze)})})]})]})})]})},_G=({post:e,isEditing:t=!1})=>{const r=Jn(),[s,a]=_.useState("content"),[i,o]=_.useState({title:"",slug:"",excerpt:"",content_html:"",status:"DRAFT",seo_title:"",meta_description:"",tags:[],scheduled_for:"",cover_image:""}),[l,c]=_.useState([]),[u,d]=_.useState([]),[h,p]=_.useState(""),[f,x]=_.useState(!1),[g,v]=_.useState(null),[b,j]=_.useState(!1),[N,A]=_.useState(null),S=[{id:"content",label:"Content",icon:cs,description:"Write your blog post content"},{id:"media",label:"Media",icon:Va,description:"Add cover image and media"},{id:"meta",label:"Meta",icon:Ga,description:"SEO and publishing settings"},{id:"preview",label:"Preview",icon:Xn,description:"Review and publish"}];_.useEffect(()=>{if(L(),e&&t){const se={title:e.title||"",slug:e.slug||"",excerpt:e.excerpt||"",content_html:e.content_html||"",status:e.status||"DRAFT",seo_title:e.seo_title||"",meta_description:e.meta_description||"",tags:e.tags||[],scheduled_for:e.scheduled_for||"",cover_image:e.cover_image||"",id:e.id,author_id:e.author_id,published_at:e.published_at,created_at:e.created_at,updated_at:e.updated_at};o(se),d(e.tags||[])}},[e,t]);const L=async()=>{try{const{data:se,error:ue}=await Dt.from("blog_tags").select("id, name").order("name");if(ue)throw ue;c(se||[])}catch{}},I=se=>se.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").substring(0,60),k=(se,ue)=>{o(ae=>({...ae,[se]:ue}))},E=async se=>{const ue=se.target.files?.[0];if(ue)try{j(!0),v(null);const ae=ue.name.split(".").pop(),xe=`blog/covers/${Date.now()}-${Math.random().toString(36).substring(2,15)}.${ae}`,{error:X}=await Dt.storage.from("images").upload(xe,ue);if(X)throw X;const{data:{publicUrl:me}}=Dt.storage.from("images").getPublicUrl(xe);k("cover_image",me)}catch{v("Failed to upload image. Please try again.")}finally{j(!1)}},B=()=>{if(h?.trim()&&!u.includes(h.trim())){const se=[...u,h.trim()];d(se),k("tags",se),p("")}},C=se=>{const ue=u.filter(ae=>ae!==se);d(ue),k("tags",ue)},O=se=>{if(!u.includes(se)){const ue=[...u,se];d(ue),k("tags",ue)}},M=se=>{switch(se){case"content":return!!(i.title?.trim()&&i.content_html?.trim());case"media":return!0;case"meta":return!!i.excerpt?.trim();case"preview":return!0;default:return!1}},D=()=>M(s),W=se=>S.findIndex(ue=>ue.id===se),z=()=>{const se=W(s);se<S.length-1&&D()&&a(S[se+1].id)},G=()=>{const se=W(s);se>0&&a(S[se-1].id)},V=async(se=!1)=>{x(!0),v(null);try{const ue={title:i.title||"",slug:i.slug||I(i.title||""),excerpt:i.excerpt||"",content:i.content_html||"",contentHtml:i.content_html||"",imageUrl:i.cover_image||"",published:se||i.status==="PUBLISHED",metaDescription:i.meta_description||"",seoTitle:i.seo_title||"",tags:i.tags||[]};(se||i.status==="PUBLISHED")&&(ue.publishedAt=new Date().toISOString());const ae=await fetch(t&&e?.id?`/api/blog/posts/${e.id}`:"/api/blog/posts",{method:t&&e?.id?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ue)});if(!ae.ok){const xe=await ae.json();throw new Error(xe.error||"Failed to save post")}A(t?"Post updated successfully!":"Post created successfully!"),setTimeout(()=>{r("/admin/blog")},1500)}catch(ue){v(ue instanceof Error?ue.message:"An error occurred while saving the post")}finally{x(!1)}},Y=()=>n.jsx("div",{className:"flex items-center justify-between mb-8",children:S.map((se,ue)=>{const ae=se.id===s,xe=M(se.id)&&W(s)>ue,X=se.icon;return n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:`
                w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors
                ${ae?"bg-purple-600 border-purple-600 text-white":xe?"bg-green-600 border-green-600 text-white":"bg-gray-100 border-gray-300 text-gray-500"}
              `,children:xe?n.jsx(is,{size:20}):n.jsx(X,{size:20})}),n.jsxs("div",{className:"mt-2 text-center",children:[n.jsx("div",{className:`text-sm font-medium ${ae?"text-purple-600":"text-gray-600"}`,children:se.label}),n.jsx("div",{className:"text-xs text-gray-500 max-w-24",children:se.description})]})]}),ue<S.length-1&&n.jsx("div",{className:`w-16 h-0.5 mx-4 ${xe?"bg-green-600":"bg-gray-300"}`})]},se.id)})}),ie=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Post Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:i.title,onChange:se=>{k("title",se.target.value),(!i.slug||i.slug===I(i.title||""))&&k("slug",I(se.target.value))},className:"w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter your post title..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL Slug ",n.jsx("span",{className:"text-red-500",children:"*"}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"(Used in the post URL)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-500 px-3 py-3 bg-gray-50 border border-gray-300 rounded-l-lg",children:"/blog/"}),n.jsx("input",{type:"text",value:i.slug||"",onChange:se=>k("slug",se.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-")),className:"flex-1 px-4 py-3 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"post-url-slug"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only lowercase letters, numbers, and hyphens allowed. Auto-generated from title if left empty."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Content ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(u$e,{value:i.content_html,onChange:se=>k("content_html",se),placeholder:"Start writing your blog post content..."})]})]}),q=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),i.cover_image?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:i.cover_image,alt:"Cover preview",className:"w-full h-64 object-cover rounded-lg"}),n.jsx("button",{onClick:()=>k("cover_image",""),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700",children:n.jsx(bs,{size:16})})]}):n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ka,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("span",{className:"text-purple-600 hover:text-purple-700 font-medium",children:"Upload a cover image"}),n.jsx("span",{className:"text-gray-600",children:" or drag and drop"}),n.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"sr-only",disabled:b})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, GIF up to 10MB"}),b&&n.jsxs("div",{className:"mt-4 flex items-center justify-center text-purple-600",children:[n.jsx(Xr,{className:"animate-spin mr-2",size:20}),"Uploading..."]})]})})]})}),R=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Excerpt ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:i.excerpt,onChange:se=>k("excerpt",se.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Brief summary of your post (recommended: 280 characters)"}),n.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.excerpt.length,"/280 characters"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"text",value:h,onChange:se=>p(se.target.value),onKeyPress:se=>se.key==="Enter"&&(se.preventDefault(),B()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a tag..."}),n.jsxs("button",{type:"button",onClick:B,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center",children:[n.jsx(Ir,{size:16,className:"mr-1"}),"Add"]})]}),u.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(se=>n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[se,n.jsx("button",{type:"button",onClick:()=>C(se),className:"ml-2 text-purple-600 hover:text-purple-800",children:n.jsx(bs,{size:14})})]},se))}),l.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Or select from existing tags:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:l.filter(se=>!u.includes(se.name)).slice(0,10).map(se=>n.jsx("button",{type:"button",onClick:()=>O(se.name),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50",children:se.name},se.id))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publishing Status"}),n.jsxs("select",{value:i.status,onChange:se=>k("status",se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[n.jsx("option",{value:"DRAFT",children:"Draft"}),n.jsx("option",{value:"PUBLISHED",children:"Published"}),n.jsx("option",{value:"SCHEDULED",children:"Scheduled"})]})]}),i.status==="SCHEDULED"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Publish Date"}),n.jsx("input",{type:"datetime-local",value:i.scheduled_for?new Date(i.scheduled_for).toISOString().slice(0,16):"",onChange:se=>k("scheduled_for",se.target.value?new Date(se.target.value).toISOString():""),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SEO Title"}),n.jsx("input",{type:"text",value:i.seo_title||"",onChange:se=>k("seo_title",se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO optimized title (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),n.jsx("textarea",{value:i.meta_description||"",onChange:se=>k("meta_description",se.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"SEO meta description (optional)"})]})]}),K=()=>n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Preview"}),i.cover_image&&n.jsx("img",{src:i.cover_image,alt:"Cover",className:"w-full h-64 object-cover rounded-lg mb-6"}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),i.excerpt&&n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:i.excerpt}),u.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:u.map(se=>n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:se},se))}),n.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:i.content_html}})]})}),Z=()=>{switch(s){case"content":return ie();case"media":return q();case"meta":return R();case"preview":return K();default:return ie()}};return n.jsxs("div",{className:"max-w-4xl mx-auto",children:[g&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-6",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:g})]}),N&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:N}),Y(),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[Z(),n.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[n.jsxs("button",{type:"button",onClick:G,disabled:W(s)===0,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ls,{size:16,className:"mr-2"}),"Previous"]}),n.jsx("div",{className:"flex space-x-3",children:s==="preview"?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",onClick:()=>V(!1),disabled:f,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:f?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin mr-2 h-4 w-4"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pl,{className:"mr-2 h-4 w-4"}),"Save Draft"]})}),n.jsx("button",{type:"button",onClick:()=>V(!0),disabled:f,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:f?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin mr-2 h-4 w-4"}),"Publishing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Bo,{className:"mr-2 h-4 w-4"}),"Publish Post"]})})]}):n.jsxs("button",{type:"button",onClick:z,disabled:!D(),className:"flex items-center px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",n.jsx(Om,{size:16,className:"ml-2"})]})})]})]})]})},d$e=()=>n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Gt,{to:"/admin/blog",className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ls,{size:20})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-gray-600",children:"Create and publish a new blog article with our advanced editor"})]})]})}),n.jsx(_G,{})]})}),h$e=()=>{const{id:e}=yl(),[t,r]=_.useState(null),[s,a]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{e&&l(e)},[e]);const l=async c=>{try{a(!0);const u=await fetch(`/api/blog/posts/${c}`);if(!u.ok)throw new Error("Failed to fetch post");const d=await u.json(),h={id:d.id,title:d.title||"",slug:d.slug||"",excerpt:d.excerpt||"",content_html:d.contentHtml||d.content_html||d.content||"",cover_image:d.imageUrl||d.cover_image||"",tags:d.tags||[],status:d.published?"PUBLISHED":"DRAFT",seo_title:d.seoTitle||d.seo_title||"",meta_description:d.metaDescription||d.meta_description||"",author_id:d.authorId||d.author_id||"",published_at:d.publishedAt||d.published_at||"",scheduled_for:d.scheduled_for||"",created_at:d.createdAt||d.created_at||"",updated_at:d.updatedAt||d.updated_at||""};r(h)}catch(u){console.error("Error fetching post:",u),o("Failed to load blog post. Please try again.")}finally{a(!1)}};return s?n.jsx(Rr,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"animate-spin h-8 w-8 text-purple-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading post..."})]})}):!t&&!s?n.jsx(Rr,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ln,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Post Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The blog post you're looking for doesn't exist or has been removed."}),n.jsxs(Gt,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(ls,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):i?n.jsx(Rr,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ln,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Error Loading Post"}),n.jsx("p",{className:"text-gray-600 mb-6",children:i}),n.jsxs(Gt,{to:"/admin/blog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[n.jsx(ls,{className:"mr-2 h-4 w-4"}),"Back to Blog Posts"]})]})}):n.jsx(Rr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsxs(Gt,{to:"/admin/blog",className:"flex items-center text-gray-600 hover:text-gray-900 mb-2",children:[n.jsx(ls,{size:16,className:"mr-1"})," Back to posts"]}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Edit Blog Post"}),n.jsx("p",{className:"text-gray-600",children:"Update your blog post with the advanced editor"})]})}),"        ",t&&n.jsx(_G,{post:t,isEditing:!0})]})})},f$e=()=>{const[e,t]=_.useState("knowledge"),[r,s]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState(""),[c,u]=_.useState("all"),[d,h]=_.useState(!1),[p,f]=_.useState(!1),[x,g]=_.useState(null);_.useState(null);const[v,b]=_.useState(!1),[j,N]=_.useState(null),[A,S]=_.useState({title:"",content:"",category:"",tags:""}),[L,I]=_.useState({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),k=["General FAQ","Booking Process","Pricing & Packages","Photography Services","Technical Support","Policies & Terms","Equipment & Setup","Post-Processing","Gallery Access","Payment & Invoicing"];_.useEffect(()=>{E(),B()},[]);const E=async()=>{try{b(!0);const R=await fetch("/api/knowledge-base",{credentials:"include"});if(R.ok){const K=await R.json();s(K)}}catch{s([{id:"1",title:"How to book a photo session?",content:"To book a photo session, clients can visit our booking page, select their preferred package, choose available dates, and complete the booking form with their contact details.",category:"Booking Process",tags:["booking","session","calendar"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"},{id:"2",title:"What are your photography packages?",content:"We offer several packages: Family Session (€299), Newborn Session (€399), Maternity Session (€349), and Business Headshots (€199). All packages include professional editing and digital gallery access.",category:"Pricing & Packages",tags:["pricing","packages","family","newborn"],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),createdBy:"admin"}])}finally{b(!1)}},B=async()=>{try{const R=await fetch("/api/openai/assistants",{credentials:"include"});if(R.ok){const K=await R.json();i(K)}}catch{i([{id:"asst_support_chat_v1",name:"Support Chat Assistant",description:"Handles customer support inquiries using knowledge base",model:"gpt-4o",instructions:"You are a helpful photography studio assistant. Use the knowledge base to answer questions about booking, pricing, and services.",isActive:!0,knowledgeBaseIds:["1","2"],createdAt:new Date().toISOString()}])}},C=async()=>{if(!A.title||!A.content){N("Title and content are required");return}try{b(!0);const R=await fetch("/api/knowledge-base",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:A.title,content:A.content,category:A.category||"General FAQ",tags:A.tags.split(",").map(K=>K.trim()).filter(Boolean),isActive:!0})});if(R.ok){const K=await R.json();s([...r,K]),h(!1),D()}else N("Failed to create knowledge base entry")}catch{N("Failed to create knowledge base entry")}finally{b(!1)}},O=async()=>{if(!x||!A.title||!A.content){N("Title and content are required");return}try{b(!0);const R=await fetch(`/api/knowledge-base/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:A.title,content:A.content,category:A.category||x.category,tags:A.tags.split(",").map(K=>K.trim()).filter(Boolean),isActive:!0})});if(R.ok){const K=await R.json(),Z=r.map(se=>se.id===x.id?K:se);s(Z),g(null),D()}else N("Failed to update knowledge base entry")}catch{N("Failed to update knowledge base entry")}finally{b(!1)}},M=async R=>{if(confirm("Are you sure you want to delete this knowledge base entry?"))try{(await fetch(`/api/knowledge-base/${R}`,{method:"DELETE",credentials:"include"})).ok?s(r.filter(Z=>Z.id!==R)):N("Failed to delete knowledge base entry")}catch{N("Failed to delete knowledge base entry")}},D=()=>{S({title:"",content:"",category:"",tags:""}),N(null)},W=()=>{I({name:"",description:"",model:"gpt-4o",instructions:"",knowledgeBaseIds:[]}),N(null)},z=async()=>{if(!L.name||!L.instructions){N("Name and instructions are required");return}try{b(!0);const R=await fetch("/api/openai/assistants",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:L.name,description:L.description,model:L.model,instructions:L.instructions,knowledgeBaseIds:L.knowledgeBaseIds,isActive:!0})});if(R.ok){const K=await R.json();i([...a,K]),f(!1),W()}else N("Failed to create assistant")}catch{N("Failed to create assistant")}finally{b(!1)}},G=async R=>{if(confirm("Are you sure you want to delete this assistant?"))try{(await fetch(`/api/openai/assistants/${R}`,{method:"DELETE",credentials:"include"})).ok?i(a.filter(Z=>Z.id!==R)):N("Failed to delete assistant")}catch{N("Failed to delete assistant")}},V=R=>{g(R),S({title:R.title,content:R.content,category:R.category,tags:R.tags.join(", ")}),h(!0)},Y=r.filter(R=>{const K=R.title?.toLowerCase()?.includes(o?.toLowerCase()||"")||R.content?.toLowerCase()?.includes(o?.toLowerCase()||""),Z=c==="all"||R.category===c;return K&&Z}),ie=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage support articles and FAQ content for your chat assistant"})]}),n.jsxs("button",{onClick:()=>h(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(Ir,{size:20}),"Add Article"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Wa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:o,onChange:R=>l(R.target.value)})]}),n.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:c,onChange:R=>u(R.target.value),children:[n.jsx("option",{value:"all",children:"All Categories"}),k.map(R=>n.jsx("option",{value:R,children:R},R))]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(cs,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Articles"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active Articles"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r.filter(R=>R.isActive).length})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vh,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Categories"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:new Set(r.map(R=>R.category)).size})]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(ec,{className:"h-8 w-8 text-indigo-600"}),n.jsxs("div",{className:"ml-3",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"AI Assistants"}),n.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.length})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Knowledge Base Articles"})}),v?n.jsx("div",{className:"p-8 text-center",children:"Loading..."}):Y.length===0?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"No articles found. Create your first knowledge base article to get started."}):n.jsx("div",{className:"divide-y divide-gray-200",children:Y.map(R=>n.jsx("div",{className:"p-6 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:R.title}),n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${R.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.isActive?"Active":"Inactive"})]}),n.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:R.content}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Vh,{size:14}),R.category]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Os,{size:14}),new Date(R.updatedAt).toLocaleDateString()]}),n.jsx("div",{className:"flex items-center gap-1",children:R.tags.map(K=>n.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:K},K))})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>V(R),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:n.jsx(Ha,{size:16})}),n.jsx("button",{onClick:()=>M(R.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:n.jsx(js,{size:16})})]})]})},R.id))})]})]}),q=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Assistants"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage OpenAI assistants and their knowledge base connections"})]}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(Ir,{size:20}),"Create Assistant"]})]}),n.jsx("div",{className:"grid gap-6",children:a.map(R=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:n.jsx(ec,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.name}),n.jsx("p",{className:"text-gray-600",children:R.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${R.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.isActive?"Active":"Inactive"}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded",children:n.jsx(Ga,{size:16})}),n.jsx("button",{onClick:()=>G(R.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded",children:n.jsx(js,{size:16})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Model:"}),n.jsx("p",{className:"text-gray-900",children:R.model})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Knowledge Articles:"}),n.jsxs("p",{className:"text-gray-900",children:[R.knowledgeBaseIds.length," connected"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-900",children:new Date(R.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded text-sm",children:[n.jsx("span",{className:"font-medium text-gray-500",children:"Instructions:"}),n.jsx("p",{className:"text-gray-700 mt-1",children:R.instructions})]})]},R.id))})]});return n.jsx(Rr,{children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsx("div",{className:"border-b border-gray-200 mb-8",children:n.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"knowledge",label:"Knowledge Base",icon:iF},{id:"assistants",label:"AI Assistants",icon:ec},{id:"settings",label:"Chat Settings",icon:Ga}].map(R=>{const K=R.icon;return n.jsxs("button",{onClick:()=>t(R.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===R.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[n.jsx(K,{size:16}),R.label]},R.id)})})}),e==="knowledge"&&ie(),e==="assistants"&&q(),e==="settings"&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Chat settings configuration coming soon..."}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:x?"Edit Article":"Create New Article"}),n.jsx("button",{onClick:()=>{h(!1),g(null),D()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:24})})]}),j&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:j}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:A.title,onChange:R=>S({...A,title:R.target.value}),placeholder:"Enter article title..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:A.category,onChange:R=>S({...A,category:R.target.value}),children:[n.jsx("option",{value:"",children:"Select category..."}),k.map(R=>n.jsx("option",{value:R,children:R},R))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:A.tags,onChange:R=>S({...A,tags:R.target.value}),placeholder:"booking, pricing, faq"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),n.jsx("textarea",{rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:A.content,onChange:R=>S({...A,content:R.target.value}),placeholder:"Enter article content..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{h(!1),g(null),D()},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),n.jsxs("button",{onClick:x?O:C,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[n.jsx(pl,{size:16}),x?"Update":"Create"," Article"]})]})]})})}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create AI Assistant"}),n.jsx("button",{onClick:()=>{f(!1),W()},className:"text-gray-400 hover:text-gray-600",children:n.jsx(bs,{size:24})})]}),j&&n.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:j}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assistant Name *"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.name,onChange:R=>I({...L,name:R.target.value}),placeholder:"e.g., Support Chat Assistant"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.description,onChange:R=>I({...L,description:R.target.value}),placeholder:"Brief description of the assistant's purpose"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI Model"}),n.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.model,onChange:R=>I({...L,model:R.target.value}),children:[n.jsx("option",{value:"gpt-4o",children:"GPT-4o (Latest, Recommended)"}),n.jsx("option",{value:"gpt-4",children:"GPT-4"}),n.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"System Instructions *"}),n.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",value:L.instructions,onChange:R=>I({...L,instructions:R.target.value}),placeholder:"Define how the assistant should behave and respond to users..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Knowledge Base Articles"}),n.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-lg p-3 space-y-2",children:r.map(R=>n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:L.knowledgeBaseIds.includes(R.id),onChange:K=>{K.target.checked?I({...L,knowledgeBaseIds:[...L.knowledgeBaseIds,R.id]}):I({...L,knowledgeBaseIds:L.knowledgeBaseIds.filter(Z=>Z!==R.id)})}}),n.jsx("span",{className:"ml-2 text-sm text-gray-700",children:R.title})]},R.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which knowledge base articles this assistant can access"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:z,disabled:v,className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 disabled:opacity-50 flex items-center justify-center gap-2",children:v?"Creating...":n.jsxs(n.Fragment,{children:[n.jsx(pl,{size:16}),"Create Assistant"]})}),n.jsx("button",{onClick:()=>{f(!1),W()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]})})})]})})},m$e=()=>{const[e,t]=_.useState([]),r=i=>{console.log("CRM Action performed:",i),t(o=>[i,...o.slice(0,4)])},s=i=>{switch(i){case"email":return n.jsx(on,{className:"h-4 w-4"});case"booking":case"calendar":return n.jsx(fn,{className:"h-4 w-4"});case"client":return n.jsx(E1,{className:"h-4 w-4"});case"invoice":return n.jsx(cs,{className:"h-4 w-4"});case"data":return n.jsx(ml,{className:"h-4 w-4"});default:return n.jsx(Ih,{className:"h-4 w-4"})}},a=i=>{switch(i){case"email":return"bg-blue-100 text-blue-800";case"booking":case"calendar":return"bg-green-100 text-green-800";case"client":return"bg-purple-100 text-purple-800";case"invoice":return"bg-orange-100 text-orange-800";case"data":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(Gt,{to:"/admin",children:n.jsxs(Vt,{variant:"outline",size:"sm",children:[n.jsx(ls,{className:"h-4 w-4 mr-2"}),"Back to Admin"]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(ec,{className:"h-6 w-6 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"CRM Operations Assistant"}),n.jsx("p",{className:"text-gray-600",children:"AI-powered automation for your photography business"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Rt,{children:n.jsx(Ut,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(on,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Email Automations"}),n.jsx("p",{className:"text-2xl font-bold",children:"Active"})]})]})})}),n.jsx(Rt,{children:n.jsx(Ut,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(fn,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Booking Management"}),n.jsx("p",{className:"text-2xl font-bold",children:"Ready"})]})]})})}),n.jsx(Rt,{children:n.jsx(Ut,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(E1,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Client Management"}),n.jsx("p",{className:"text-2xl font-bold",children:"Online"})]})]})})}),n.jsx(Rt,{children:n.jsx(Ut,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ml,{className:"h-8 w-8 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Analytics"}),n.jsx("p",{className:"text-2xl font-bold",children:"Live"})]})]})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(Rt,{className:"h-[700px]",children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(ec,{className:"h-5 w-5 text-purple-600"}),"AI Assistant Chat"]}),n.jsx(Ts,{children:"Get help with CRM operations, automation, and business management"})]}),n.jsx(Ut,{className:"h-[600px] p-0",children:n.jsx(N6,{assistantId:"asst_CH4vIbZPs7gUD36Lxf7vlfIV",onCRMAction:r,height:"100%",title:"CRM Operations Assistant",className:"border-0 rounded-none"})})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{className:"text-lg",children:"Recent Actions"}),n.jsx(Ts,{children:"Actions performed by the AI assistant"})]}),n.jsx(Ut,{children:e.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No actions performed yet"}):n.jsx("div",{className:"space-y-3",children:e.map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsxs(Ma,{className:a(i.type),children:[s(i.type),n.jsx("span",{className:"ml-1",children:i.type})]}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.action})})]},o))})})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{className:"text-lg",children:"Capabilities"}),n.jsx(Ts,{children:"What the assistant can help you with"})]}),n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(on,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Email Management"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Send confirmations & replies"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(fn,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Schedule Management"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Book & manage appointments"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(E1,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Client Records"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Create & update client data"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(cs,{className:"h-5 w-5 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Invoice Generation"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Create & send invoices"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[n.jsx(ml,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:"Analytics & Reports"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Generate business insights"})]})]})]})})]}),n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsx(Lr,{className:"text-lg",children:"Assistant Info"})}),n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx(Ma,{className:"bg-green-100 text-green-800",children:"Active"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Model:"}),n.jsx("span",{children:"GPT-4"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assistant ID:"}),n.jsx("span",{className:"font-mono text-xs",children:"asst_CH4v...f7vlfIV"})]})]})})]})]})]})]})};var Z_="rovingFocusGroup.onEntryFocus",p$e={bubbles:!1,cancelable:!0},tb="RovingFocusGroup",[c6,SG,g$e]=BU(tb),[x$e,AG]=cd(tb,[g$e]),[y$e,v$e]=x$e(tb),kG=_.forwardRef((e,t)=>n.jsx(c6.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(c6.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(b$e,{...e,ref:t})})}));kG.displayName=tb;var b$e=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=_.useRef(null),f=An(t,p),x=W3(i),[g,v]=Mm({prop:o,defaultProp:l??null,onChange:c,caller:tb}),[b,j]=_.useState(!1),N=Wh(u),A=SG(r),S=_.useRef(!1),[L,I]=_.useState(0);return _.useEffect(()=>{const k=p.current;if(k)return k.addEventListener(Z_,N),()=>k.removeEventListener(Z_,N)},[N]),n.jsx(y$e,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:g,onItemFocus:_.useCallback(k=>v(k),[v]),onItemShiftTab:_.useCallback(()=>j(!0),[]),onFocusableItemAdd:_.useCallback(()=>I(k=>k+1),[]),onFocusableItemRemove:_.useCallback(()=>I(k=>k-1),[]),children:n.jsx(Fr.div,{tabIndex:b||L===0?-1:0,"data-orientation":s,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:zr(e.onMouseDown,()=>{S.current=!0}),onFocus:zr(e.onFocus,k=>{const E=!S.current;if(k.target===k.currentTarget&&E&&!b){const B=new CustomEvent(Z_,p$e);if(k.currentTarget.dispatchEvent(B),!B.defaultPrevented){const C=A().filter(z=>z.focusable),O=C.find(z=>z.active),M=C.find(z=>z.id===g),W=[O,M,...C].filter(Boolean).map(z=>z.ref.current);EG(W,d)}}S.current=!1}),onBlur:zr(e.onBlur,()=>j(!1))})})}),CG="RovingFocusGroupItem",PG=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Sm(),u=i||c,d=v$e(CG,r),h=d.currentTabStopId===u,p=SG(r),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:g}=d;return _.useEffect(()=>{if(s)return f(),()=>x()},[s,f,x]),n.jsx(c6.ItemSlot,{scope:r,id:u,focusable:s,active:a,children:n.jsx(Fr.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:zr(e.onMouseDown,v=>{s?d.onItemFocus(u):v.preventDefault()}),onFocus:zr(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:zr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=N$e(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let N=p().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")N.reverse();else if(b==="prev"||b==="next"){b==="prev"&&N.reverse();const A=N.indexOf(v.currentTarget);N=d.loop?_$e(N,A+1):N.slice(A+1)}setTimeout(()=>EG(N))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});PG.displayName=CG;var w$e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j$e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N$e(e,t,r){const s=j$e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return w$e[s]}function EG(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function _$e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var S$e=kG,A$e=PG,Zk="Radio",[k$e,TG]=cd(Zk),[C$e,P$e]=k$e(Zk),OG=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,p]=_.useState(null),f=An(t,v=>p(v)),x=_.useRef(!1),g=h?u||!!h.closest("form"):!0;return n.jsxs(C$e,{scope:r,checked:a,disabled:o,children:[n.jsx(Fr.button,{type:"button",role:"radio","aria-checked":a,"data-state":DG(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:f,onClick:zr(e.onClick,v=>{a||c?.(),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&n.jsx(MG,{control:h,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});OG.displayName=Zk;var LG="RadioIndicator",IG=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=P$e(LG,r);return n.jsx(Px,{present:s||i.checked,children:n.jsx(Fr.span,{"data-state":DG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});IG.displayName=LG;var E$e="RadioBubbleInput",MG=_.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=_.useRef(null),l=An(o,i),c=Gw(r),u=Kw(t);return _.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const x=new Event("click",{bubbles:s});f.call(d,r),d.dispatchEvent(x)}},[c,r,s]),n.jsx(Fr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});MG.displayName=E$e;function DG(e){return e?"checked":"unchecked"}var T$e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yN="RadioGroup",[O$e,fBe]=cd(yN,[AG,TG]),RG=AG(),FG=TG(),[L$e,I$e]=O$e(yN),$G=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...p}=e,f=RG(r),x=W3(u),[g,v]=Mm({prop:i,defaultProp:a??null,onChange:h,caller:yN});return n.jsx(L$e,{scope:r,name:s,required:o,disabled:l,value:g,onValueChange:v,children:n.jsx(S$e,{asChild:!0,...f,orientation:c,dir:x,loop:d,children:n.jsx(Fr.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...p,ref:t})})})});$G.displayName=yN;var BG="RadioGroupItem",zG=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=I$e(BG,r),o=i.disabled||s,l=RG(r),c=FG(r),u=_.useRef(null),d=An(t,u),h=i.value===a.value,p=_.useRef(!1);return _.useEffect(()=>{const f=g=>{T$e.includes(g.key)&&(p.current=!0)},x=()=>p.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",x)}},[]),n.jsx(A$e,{asChild:!0,...l,focusable:!o,active:h,children:n.jsx(OG,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:zr(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:zr(a.onFocus,()=>{p.current&&u.current?.click()})})})});zG.displayName=BG;var M$e="RadioGroupIndicator",UG=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=FG(r);return n.jsx(IG,{...a,...s,ref:t})});UG.displayName=M$e;var qG=$G,VG=zG,D$e=UG;const Xk=_.forwardRef(({className:e,...t},r)=>n.jsx(qG,{className:Sn("grid gap-2",e),...t,ref:r}));Xk.displayName=qG.displayName;const Cm=_.forwardRef(({className:e,...t},r)=>n.jsx(VG,{ref:r,className:Sn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(D$e,{className:"flex items-center justify-center",children:n.jsx(YJ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Cm.displayName=VG.displayName;const WG=_.forwardRef(({className:e,value:t=0,...r},s)=>n.jsx("div",{ref:s,className:`relative h-4 w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-800 ${e||""}`,...r,children:n.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all duration-300 ease-in-out",style:{transform:`translateX(-${100-(t||0)}%)`}})}));WG.displayName="Progress";function R$e(){console.log("🟢 AutoBlogGenerator component loaded - CACHE REFRESH VERSION 3.0");const[e,t]=_.useState([]),[r,s]=_.useState(""),[a,i]=_.useState("deutsch"),[o,l]=_.useState("https://www.newagefotografie.com"),[c,u]=_.useState(""),[d,h]=_.useState("draft"),[p,f]=_.useState(!1),[x,g]=_.useState(0),[v,b]=_.useState(""),[j,N]=_.useState(null),A=()=>{if(j){const O=j.status==="published"?`/blog/${j.slug}`:`/admin/blog/edit/${j.id}`;window.open(O,"_blank")}},S=_.useRef(null),{toast:L}=j6(),I=async()=>{try{const O=await fetch("/api/blog/posts/fix-formatting",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!O.ok)throw new Error("Failed to fix blog formatting");const M=await O.json();L({title:"Blog Formatting Fixed!",description:`Successfully updated ${M.fixed} blog posts with structured formatting`})}catch(O){console.error("Error fixing blog formatting:",O),L({title:"Error",description:"Failed to fix blog formatting. Please try again.",variant:"destructive"})}},k=O=>{const M=Array.from(O.target.files||[]);if(e.length+M.length>3){L({title:"Too many images",description:"Maximum 3 images allowed",variant:"destructive"});return}M.forEach(D=>{if(D.size>10*1024*1024){L({title:"File too large",description:`${D.name} is larger than 10MB`,variant:"destructive"});return}const W=new FileReader;W.onload=z=>{const G={file:D,preview:z.target?.result,name:D.name};t(V=>[...V,G])},W.readAsDataURL(D)}),S.current&&(S.current.value="")},E=O=>{t(M=>M.filter((D,W)=>W!==O))},B=()=>{t([]),s(""),u(""),h("draft"),N(null),g(0),b("")},C=async()=>{if(console.log("🔵 FIXED Generate button clicked - version 2.0 starting process..."),console.log("📊 Current state:",{uploadedImages:e.length,contentGuidance:r?.length||0,publishingOption:d,contentLanguage:a,websiteUrl:o}),e.length===0){console.log("❌ No images found - showing error toast"),L({title:"No images selected",description:"Please upload at least one image to generate content",variant:"destructive"});return}console.log("✅ Images validated - proceeding with generation"),f(!0),g(0),b("Starting content generation..."),N(null);const O=setInterval(()=>{g(D=>D<90?D+10:D)},3e3),M=(D,W)=>{g(D),b(W)};try{M(10,"Processing images..."),await new Promise(q=>setTimeout(q,1e3));const D=new FormData;e.forEach((q,R)=>{console.log(`📎 Adding image ${R+1}: ${q.name} (${q.file.size} bytes)`),D.append("images",q.file)});const W=r||"Professional photography session in Vienna studio";D.append("userPrompt",W),D.append("publishOption",d),D.append("language",a==="deutsch"?"de":"en"),D.append("websiteUrl",o),c&&D.append("customSlug",c),console.log("🚀 Sending request to AutoBlog API with FormData:"),console.log("  - Images:",e.length),console.log("  - Prompt:",W),console.log("  - Assistant ID: Server will use centralized TOGNINJA config"),console.log("  - Language:",a==="deutsch"?"de":"en");const z=Date.now();console.log("⏰ Request started at:",new Date().toISOString());const G=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:5000/api/autoblog/generate":"/api/autoblog/generate";console.log("🌐 Using API URL:",G),M(30,"Analyzing images with TOGNINJA Assistant...");const V=await fetch(G,{method:"POST",body:D});M(60,"Generating sophisticated content structure..."),clearInterval(O);const Y=Date.now()-z;if(console.log(`⏱️ Request completed in ${Y}ms`),console.log("📡 Response status:",V.status,V.statusText),!V.ok){console.log("❌ Response not OK - reading error data...");const q=await V.text();console.log("🔴 Error response:",q);let R;try{R=JSON.parse(q)}catch{R={error:q}}throw new Error(R.error||`HTTP ${V.status}: ${V.statusText}`)}console.log("✅ Response OK - parsing JSON...");const ie=await V.json();if(console.log("📄 AutoBlog response received:",{success:ie.success,postId:ie.post?.id,aiMethod:ie.ai?.method,dataKeys:Object.keys(ie)}),ie.success&&ie.post)console.log("🎉 Success! Blog post created directly by AutoBlog system"),console.log("📝 Blog post created:",{id:ie.post.id,title:ie.post.title,publishStatus:d}),M(100,"Blog post generated successfully!"),N({id:ie.post.id,title:ie.post.title,slug:ie.post.slug||ie.post.id,status:d==="publish"?"published":"draft"}),console.log("🎊 Generation completed successfully!");else throw console.log("❌ Response missing success/post data:",ie),new Error(ie.error||"Failed to generate structured content - invalid response format")}catch(D){console.error("💥 Generation error caught:",D),console.error("🔍 Error details:",{name:D.name,message:D.message,stack:D.stack}),L({title:"Generation failed",description:D.message||"Failed to generate content. Please try again.",variant:"destructive"})}finally{console.log("🏁 Finally block - resetting isGenerating to false"),clearInterval(O),f(!1)}};return n.jsx(Rr,{children:n.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"AutoBlog Generator"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate professional blog content using TOGNINJA assistant"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✅ Using correct /api/autoblog/generate endpoint"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsx(Lr,{children:"AutoBlog Features"})}),n.jsxs(Ut,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"AI Content Generation"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"SEO + Competitive Intelligence"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Keyword Research & Review Mining"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Streamlined Blog Creation"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t",children:[n.jsxs(Vt,{onClick:I,variant:"outline",size:"sm",className:"text-xs",children:[n.jsx(wP,{className:"h-3 w-3 mr-1"}),"Fix Blog Formatting"]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Convert existing blog posts from wall-of-text to structured format"})]})]})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Generate Blog Post"}),n.jsx(Ts,{children:"Upload up to 3 images from your photography session"})]}),n.jsxs(Ut,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(Wr,{className:"text-base font-medium",children:"Session Images *"}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>S.current?.click(),children:[n.jsx(Ka,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"font-medium",children:"Click to select images"}),n.jsx("br",{}),"Max 3 images, 10MB each"]})]}),n.jsx("input",{type:"file",ref:S,onChange:k,accept:"image/*",multiple:!0,className:"hidden"})]}),e.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:e.map((O,M)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:O.preview,alt:O.name,className:"w-full h-20 object-cover rounded border"}),n.jsx("button",{onClick:()=>E(M),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"×"})]},M))})]}),n.jsxs("div",{children:[n.jsx(Wr,{htmlFor:"guidance",className:"text-base font-medium",children:"Content Guidance (Optional)"}),n.jsx(fx,{id:"guidance",placeholder:"Tell the AI about the session... e.g., This was a family portrait session in Schönbrunn Park during golden hour...",value:r,onChange:O=>s(O.target.value),rows:3,className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Wr,{className:"text-base font-medium",children:"Content Language"}),n.jsxs(tk,{value:a,onValueChange:i,children:[n.jsx(Qj,{className:"mt-2",children:n.jsx(rk,{})}),n.jsxs(Jj,{children:[n.jsx($c,{value:"deutsch",children:"Deutsch (German)"}),n.jsx($c,{value:"english",children:"English"})]})]})]}),n.jsxs("div",{children:[n.jsx(Wr,{htmlFor:"website-url",className:"text-base font-medium",children:"Website URL (for brand voice)"}),n.jsx(La,{id:"website-url",value:o,onChange:O=>l(O.target.value),className:"mt-2"})]}),n.jsxs("div",{children:[n.jsx(Wr,{htmlFor:"custom-slug",className:"text-base font-medium",children:"Custom URL Slug (Optional)"}),n.jsx(La,{id:"custom-slug",placeholder:"e.g. my-custom-blog-post-url",value:c,onChange:O=>u(O.target.value),className:"mt-2"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If specified, this exact URL slug will be used instead of auto-generating one from the title"})]}),n.jsxs("div",{children:[n.jsx(Wr,{className:"text-base font-medium",children:"Publishing Options"}),n.jsxs(Xk,{value:d,onValueChange:h,className:"mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"draft",id:"draft"}),n.jsx(Wr,{htmlFor:"draft",children:"Save as Draft"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"publish",id:"publish"}),n.jsx(Wr,{htmlFor:"publish",children:"Publish Immediately"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"schedule",id:"schedule"}),n.jsx(Wr,{htmlFor:"schedule",children:"Schedule for Later"})]})]})]}),p&&n.jsx("div",{className:"space-y-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hc,{className:"h-8 w-8 mx-auto text-purple-500 animate-spin mb-3"}),n.jsx("p",{className:"font-medium text-lg mb-2",children:v}),n.jsx(WG,{value:x,className:"w-full mb-2"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[x,"% complete"]})]})}),j&&n.jsx("div",{className:"space-y-4 p-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-green-100 rounded-full p-3",children:n.jsx(is,{className:"h-8 w-8 text-green-600"})})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Blog Post Created Successfully!"}),n.jsx("p",{className:"text-sm font-medium",children:j.title}),n.jsx(Ma,{variant:j.status==="published"?"default":"secondary",children:j.status==="published"?"Published":"Draft"})]}),n.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[n.jsxs(Vt,{onClick:A,variant:"outline",className:"flex-1",children:[n.jsx(Lm,{className:"mr-2 h-4 w-4"}),"View Completed Blog"]}),n.jsxs(Vt,{onClick:B,className:"flex-1",children:[n.jsx(wP,{className:"mr-2 h-4 w-4"}),"Create New Blog"]})]})]})}),n.jsx(Vt,{onClick:C,disabled:p||e.length===0||j!==null,className:"w-full",size:"lg",children:p?n.jsxs(n.Fragment,{children:[n.jsx(Hc,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Content..."]}):j?n.jsxs(n.Fragment,{children:[n.jsx(is,{className:"mr-2 h-4 w-4"}),"Blog Created Successfully"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Generate Blog Post"]})})]})]})]})]})})}function A1(){const[e,t]=_.useState([]),[r,s]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState("draft"),[c,u]=_.useState(!1),[d,h]=_.useState(null),[p,f]=_.useState("advanced"),[x,g]=_.useState([]),[v,b]=_.useState(""),[j,N]=_.useState(""),A=_.useRef(null),{toast:S}=j6(),L=C=>{const M=Array.from(C.target.files||[]).slice(0,3).filter(D=>D.size>10*1024*1024?(S({title:"File too large",description:`${D.name} is larger than 10MB`,variant:"destructive"}),!1):!0);t(D=>[...D,...M].slice(0,3))},I=C=>{t(O=>O.filter((M,D)=>D!==C))},k=async()=>{if(e.length===0){S({title:"Images required",description:"Please upload at least one image to generate content.",variant:"destructive"});return}u(!0),console.log("🚀 Starting blog generation with FIXED component...");try{const C=new FormData;e.forEach((z,G)=>{C.append("images",z)}),C.append("contentGuidance",r),C.append("language","de"),C.append("siteUrl","https://www.newagefotografie.com"),C.append("customSlug",a),C.append("publishOption",o),console.log("📤 Sending request to /api/autoblog/generate...");const O=Date.now(),M=await fetch("/api/autoblog/generate",{method:"POST",body:C}),D=Date.now()-O;if(console.log(`⏱️ Request completed in ${D}ms`),console.log("📡 Response status:",M.status,M.statusText),!M.ok){console.log("❌ Response not OK - reading error data...");const z=await M.text();console.log("🔴 Error response:",z);let G;try{G=JSON.parse(z)}catch{G={error:z}}throw new Error(G.error||`HTTP ${M.status}: ${M.statusText}`)}console.log("✅ Response OK - parsing JSON...");const W=await M.json();if(console.log("📄 AutoBlog response received:",{success:W.success,postId:W.post?.id,aiMethod:W.ai?.method,dataKeys:Object.keys(W)}),W.success&&W.post){console.log("🎉 Success! Parsing blog post data...");const z=W.post,G={title:z.title||"Professionelle Familienfotografie in Wien",content:z.content_html||z.content||"",excerpt:z.excerpt||"",metaDescription:z.meta_description||"",slug:z.slug||a||"familienfotografie-wien",tags:z.tags||[]};console.log("📝 Structured content created:",{title:G.title.substring(0,50)+"...",contentLength:G.content.length,tagsCount:G.tags.length}),h(G),S({title:"Content generated successfully! 🎉",description:`Blog post created using TOGNINJA BLOG WRITER Assistant (${W.ai?.method||"Assistant API"})`}),console.log("🎊 Generation completed successfully!")}else throw console.log("❌ Response missing success/post data:",W),new Error(W.error||"Failed to generate structured content - invalid response format")}catch(C){console.error("💥 Generation error caught:",C),console.error("🔍 Error details:",{name:C.name,message:C.message,stack:C.stack}),S({title:"Generation failed",description:C.message||"Failed to generate content. Please try again.",variant:"destructive"})}finally{console.log("🏁 Finally block - resetting isGenerating to false"),u(!1)}},E=async()=>{if(d)try{console.log("📝 Publishing blog post with status:",o);const C=await fetch("/api/blog/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:d.title,slug:d.slug,content:d.content,content_html:d.content,excerpt:d.excerpt,meta_description:d.metaDescription,tags:d.tags,status:o==="draft"?"DRAFT":o==="publish"?"PUBLISHED":"SCHEDULED",published_at:o==="publish"?new Date().toISOString():null})});if(!C.ok){const M=await C.json();throw new Error(M.error||"Failed to create blog post")}const O=await C.json();console.log("✅ Blog post created:",O),S({title:"Success!",description:`Blog post ${o==="draft"?"saved as draft":o==="publish"?"published successfully":"scheduled for publication"}`}),h(null),t([]),s(""),i(""),setTimeout(()=>{window.open("/admin/blog","_blank")},1e3)}catch(C){console.error("❌ Publishing error:",C),S({title:"Publishing failed",description:C.message||"Failed to publish content. Please try again.",variant:"destructive"})}},B=async()=>{if(!v.trim())return;const C=v;b(""),g(O=>[...O,{role:"user",content:C}]);try{const O=await fetch("/api/autoblog/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C,threadId:j,assistantId:"asst_nlyO3yRav2oWtyTvkq0cHZaU"})});if(!O.ok)throw new Error("Failed to send message");const M=await O.json();N(M.threadId),g(D=>[...D,{role:"assistant",content:M.response}])}catch(O){console.error("Chat error:",O),S({title:"Chat failed",description:"Failed to send message. Please try again.",variant:"destructive"})}};return n.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"🚀 AutoBlog Generator FIXED v4.0"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate professional blog content using TOGNINJA assistant - COMPLETELY FIXED VERSION"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"✅ Using correct /api/autoblog/generate endpoint | ✅ Fixed HTML rendering | ✅ Working publish functionality"})]}),n.jsxs(sN,{value:p,onValueChange:f,className:"w-full",children:[n.jsxs(aN,{className:"grid w-fit grid-cols-2 mb-6",children:[n.jsx(To,{value:"chat",children:"Direct Chat Interface"}),n.jsx(To,{value:"advanced",children:"Advanced Generation"})]}),n.jsx(Oo,{value:"chat",className:"space-y-4",children:n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Hc,{className:"h-5 w-5"}),"TOGNINJA Assistant Chat"]}),n.jsx(Ts,{children:"Direct conversation with your trained content writing assistant"})]}),n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"border rounded-lg p-4 h-96 overflow-y-auto bg-gray-50 dark:bg-gray-900",children:x.length===0?n.jsx("p",{className:"text-gray-500 text-center",children:"Start a conversation with TOGNINJA assistant..."}):n.jsx("div",{className:"space-y-3",children:x.map((C,O)=>n.jsxs("div",{className:`p-3 rounded-lg ${C.role==="user"?"bg-blue-100 dark:bg-blue-900 ml-12":"bg-white dark:bg-gray-800 mr-12"}`,children:[n.jsx("div",{className:"font-semibold text-sm mb-1",children:C.role==="user"?"You":"TOGNINJA Assistant"}),n.jsx("div",{className:"text-sm",children:C.content})]},O))})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(fx,{placeholder:"Type your message to TOGNINJA assistant...",value:v,onChange:C=>b(C.target.value),onKeyPress:C=>C.key==="Enter"&&!C.shiftKey&&B(),rows:2}),n.jsx(Vt,{onClick:B,disabled:!v.trim(),children:"Send"})]})]})})]})}),n.jsxs(Oo,{value:"advanced",className:"space-y-6",children:[n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsx(Lr,{children:"AutoBlog Features"})}),n.jsx(Ut,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"AI Content Generation"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"SEO Optimization"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Multi-language Support"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(is,{className:"h-4 w-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Direct Chat Interface"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Generate Blog Post"}),n.jsx(Ts,{children:"Upload up to 3 images from your photography session"})]}),n.jsxs(Ut,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(Wr,{className:"text-base font-medium",children:"Session Images *"}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>A.current?.click(),children:[n.jsx(Ka,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"font-medium",children:"Click to select images"}),n.jsx("br",{}),"Max 3 images, 10MB each"]})]}),n.jsx("input",{type:"file",ref:A,onChange:L,accept:"image/*",multiple:!0,className:"hidden"})]}),e.length>0&&n.jsx("div",{className:"mt-4 grid grid-cols-3 gap-4",children:e.map((C,O)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(C),alt:`Upload ${O+1}`,className:"w-full h-24 object-cover rounded-lg border"}),n.jsx("button",{onClick:()=>I(O),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:n.jsx(bs,{className:"h-3 w-3"})}),n.jsx("div",{className:"mt-1 text-xs text-gray-500 truncate",children:C.name})]},O))})]}),n.jsxs("div",{children:[n.jsx(Wr,{htmlFor:"content-guidance",className:"text-base font-medium",children:"Content Guidance (Optional)"}),n.jsx(fx,{id:"content-guidance",placeholder:"Tell the AI assistant about this session, e.g., 'This was a beautiful family portrait session in Schönbrunn Park during golden hour...'",value:r,onChange:C=>s(C.target.value),className:"mt-2",rows:4})]}),n.jsxs("div",{children:[n.jsx(Wr,{htmlFor:"custom-slug",className:"text-base font-medium",children:"Custom URL Slug (Optional)"}),n.jsx(La,{id:"custom-slug",placeholder:"e.g. my-custom-blog-post-url",value:a,onChange:C=>i(C.target.value),className:"mt-2"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If specified, this exact URL slug will be used instead of auto-generating one from the title"})]}),n.jsxs("div",{children:[n.jsx(Wr,{className:"text-base font-medium",children:"Publishing Options"}),n.jsxs(Xk,{value:o,onValueChange:l,className:"mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"draft",id:"draft"}),n.jsx(Wr,{htmlFor:"draft",children:"Save as Draft"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"publish",id:"publish"}),n.jsx(Wr,{htmlFor:"publish",children:"Publish Immediately"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cm,{value:"schedule",id:"schedule"}),n.jsx(Wr,{htmlFor:"schedule",children:"Schedule for Later"})]})]})]}),n.jsx(Vt,{onClick:k,disabled:c||e.length===0,className:"w-full",size:"lg",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Hc,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Content..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pS,{className:"mr-2 h-4 w-4"}),"Generate Blog Post"]})})]})]}),n.jsxs(Rt,{children:[n.jsxs(Ar,{children:[n.jsx(Lr,{children:"Generated Content Preview"}),n.jsx(Ts,{children:"Preview and review your AI-generated blog post"})]}),n.jsx(Ut,{children:d?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg mb-2",children:d.title}),n.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:d.tags.map((C,O)=>n.jsx(Ma,{variant:"secondary",className:"text-xs",children:C},O))})]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 border-l-4 border-blue-500 pl-3",children:[n.jsx("strong",{children:"Meta Description:"})," ",d.metaDescription]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 border-l-4 border-green-500 pl-3",children:[n.jsx("strong",{children:"Excerpt:"})," ",d.excerpt]}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg max-h-64 overflow-y-auto",children:n.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:d.content}})}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(Vt,{onClick:E,className:"flex-1",children:o==="draft"?"📝 Save Draft":o==="publish"?"🚀 Publish Now":"⏰ Schedule Post"}),n.jsx(Vt,{variant:"outline",onClick:()=>h(null),children:"Clear"})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[n.jsx(cs,{className:"h-16 w-16 mb-4"}),n.jsx("p",{className:"text-center",children:"Your generated content will appear here"})]})})]})]})]})]})]})}const F$e=()=>{const[e,t]=_.useState([]),[r,s]=_.useState(""),[a,i]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState(null),d=_.useRef(null),h=()=>{d.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{h()},[e]);const p=async()=>{if(!r.trim()||a)return;const x={id:Date.now().toString(),content:r.trim(),role:"user",timestamp:new Date};t(g=>[...g,x]),s(""),i(!0);try{console.log("🎯 FRONTEND: Making request to /api/togninja/chat - TOGNINJA BLOG WRITER ONLY"),console.log("Request payload:",{message:r.trim(),threadId:o}),console.log("Target Assistant: asst_nlyO3yRav2oWtyTvkq0cHZaU");const g=await fetch("/api/togninja/chat?"+new Date().getTime(),{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({message:r.trim(),threadId:o})});if(!g.ok)throw new Error("Failed to send message");const v=await g.json();console.log("API Response:",v),console.log("Thread ID received:",v.threadId),console.log("Assistant ID received:",v.assistantId),console.log("Fallback used:",v.fallback),v.threadId&&!o&&l(v.threadId),v.assistantId&&!c&&u(v.assistantId);const b={id:(Date.now()+1).toString(),content:v.response||"Sorry, I encountered an error processing your message.",role:"assistant",timestamp:new Date};t(j=>[...j,b])}catch(g){console.error("Error sending message:",g);const v={id:(Date.now()+1).toString(),content:"Sorry, I encountered an error. Please try again.",role:"assistant",timestamp:new Date};t(b=>[...b,v])}finally{i(!1)}},f=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),p())};return n.jsxs("div",{className:"flex flex-col h-full bg-white",children:[n.jsxs("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"OpenAI Assistant Test"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Testing TOGNINJA BLOG WRITER Assistant (asst_nlyO3yRav2oWtyTvkq0cHZaU)"}),o&&n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Connected to thread: ",o.substring(0,20),"..."]}),c&&n.jsxs("p",{className:"text-xs text-blue-600",children:["Using assistant: ",c]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.length===0?n.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[n.jsx(ec,{size:48,className:"mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-lg",children:"Start a conversation with your OpenAI assistant"}),n.jsx("p",{className:"text-sm mt-2",children:"Type a message below to begin testing"})]}):e.map(x=>n.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:n.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${x.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:n.jsxs("div",{className:"flex items-start space-x-2",children:[x.role==="assistant"&&n.jsx(ec,{size:20,className:"text-gray-600 mt-1 flex-shrink-0"}),x.role==="user"&&n.jsx(Ji,{size:20,className:"text-white mt-1 flex-shrink-0"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"whitespace-pre-wrap",children:x.content}),n.jsx("p",{className:`text-xs mt-1 ${x.role==="user"?"text-blue-200":"text-gray-500"}`,children:x.timestamp.toLocaleTimeString()})]})]})})},x.id)),a&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ec,{size:20,className:"text-gray-600"}),n.jsx(hee,{size:16,className:"animate-spin text-gray-600"}),n.jsx("span",{className:"text-gray-600",children:"Assistant is typing..."})]})})}),n.jsx("div",{ref:d})]}),n.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("textarea",{value:r,onChange:x=>s(x.target.value),onKeyPress:f,placeholder:"Type your message here...",className:"flex-1 resize-none border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,disabled:a}),n.jsxs("button",{onClick:p,disabled:!r.trim()||a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[n.jsx(Bo,{size:20}),n.jsx("span",{children:"Send"})]})]})})]})},$$e=({value:e,className:t})=>n.jsx("div",{className:`w-full bg-gray-200 rounded-full h-2.5 ${t}`,children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${e}%`}})});function B$e(){const[e,t]=_.useState(""),[r,s]=_.useState(!1),[a,i]=_.useState(null),[o,l]=_.useState(0),c=async()=>{if(e){s(!0),l(0);try{const d=setInterval(()=>{l(f=>Math.min(f+10,90))},500),h=await fetch("/api/website-wizard/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});clearInterval(d),l(100);const p=await h.json();p.error?i({status:"error",error:p.error,message:p.message||"Analysis failed"}):p.status==="success"?i({status:"success",url:p.url,timestamp:p.timestamp,lighthouse:p.lighthouse,content:p.content,profile:p.profile,message:"Website analyzed successfully"}):i({status:"error",error:"Unknown response format",message:"Please try again"})}catch(d){i({status:"error",error:"Network error",message:d instanceof Error?d.message:"Unknown error"})}finally{s(!1)}}},u=d=>!d||d.length===0?null:n.jsx("div",{className:"flex flex-wrap gap-2",children:d.slice(0,8).map((h,p)=>n.jsx("div",{className:"w-8 h-8 rounded border-2 border-gray-300 flex items-center justify-center text-xs font-mono",style:{backgroundColor:h},title:h,children:h.length<=4&&n.jsx("span",{className:"text-white mix-blend-difference",children:h})},p))});return n.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Website Wizard"}),n.jsx("p",{className:"text-gray-600",children:"Analyze any website to extract content, images, and SEO data for optimized photography website creation"})]}),n.jsxs(sN,{defaultValue:"analyze",className:"w-full",children:[n.jsxs(aN,{className:"grid w-full grid-cols-4",children:[n.jsxs(To,{value:"analyze",className:"flex items-center gap-2",children:[n.jsx(sc,{className:"w-4 h-4"}),"Website URL"]}),n.jsxs(To,{value:"analysis",className:"flex items-center gap-2",children:[n.jsx(Wa,{className:"w-4 h-4"}),"Data Analysis"]}),n.jsxs(To,{value:"template",className:"flex items-center gap-2",children:[n.jsx(Mo,{className:"w-4 h-4"}),"Template Selection"]}),n.jsxs(To,{value:"optimization",className:"flex items-center gap-2",children:[n.jsx(ml,{className:"w-4 h-4"}),"Content Optimization"]})]}),n.jsxs(Oo,{value:"analyze",className:"space-y-6",children:[n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(sc,{className:"w-5 h-5"}),"Enter Your Current Website URL"]})}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Website URL"}),n.jsx(La,{value:e,onChange:d=>t(d.target.value),placeholder:"https://your-photography-website.com",type:"url"})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"What we'll analyze:"}),n.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("li",{children:"• Content and copy for SEO optimization"}),n.jsx("li",{children:"• Portfolio images and galleries"}),n.jsx("li",{children:"• Contact information and services"}),n.jsx("li",{children:"• Current SEO performance"}),n.jsx("li",{children:"• Brand colors and styling"})]})]}),r&&n.jsxs("div",{className:"space-y-2",children:[n.jsx($$e,{value:o,className:"w-full"}),n.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Analyzing website... ",o,"%"]})]}),n.jsx(Vt,{onClick:c,disabled:!e||r,className:"w-full",size:"lg",children:r?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyze Website"]}):n.jsxs(n.Fragment,{children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Analyze Website"]})})]})]}),a&&n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[a.status==="success"?n.jsx(Hr,{className:"w-5 h-5 text-green-600"}):n.jsx(Tm,{className:"w-5 h-5 text-red-600"}),"Analysis Result"]})}),n.jsx(Ut,{children:a.status==="success"?n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded-lg",children:[n.jsx(Hr,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-green-800 dark:text-green-200",children:a.message})]}):n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950/50 border border-red-200 dark:border-red-800 rounded-lg",children:[n.jsx(Tm,{className:"h-4 w-4 text-red-600"}),n.jsxs("span",{className:"text-red-800 dark:text-red-200",children:[a.error,": ",a.message]})]})})]})]}),n.jsx(Oo,{value:"analysis",className:"space-y-6",children:a?.profile?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"w-5 h-5"}),"Content Analysis"]})}),n.jsxs(Ut,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Page Title"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.title||"No title found"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:a.profile.description||"No description found"})]}),a.profile.keywords&&a.profile.keywords.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium",children:"Keywords"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.profile.keywords.map((d,h)=>n.jsx(Ma,{variant:"secondary",children:d},h))})]})]})]}),n.jsxs(Rt,{children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Mo,{className:"w-5 h-5"}),"Brand Colors"]})}),n.jsxs(Ut,{children:[u(a.profile.colors),(!a.profile.colors||a.profile.colors.length===0)&&n.jsx("p",{className:"text-sm text-gray-500",children:"No brand colors detected"})]})]}),a.profile.images&&a.profile.images.length>0&&n.jsxs(Rt,{className:"md:col-span-2",children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(Va,{className:"w-5 h-5"}),"Images Found (",a.profile.images.length,")"]})}),n.jsx(Ut,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:a.profile.images.slice(0,8).map((d,h)=>n.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded flex items-center justify-center",children:n.jsx(Va,{className:"w-8 h-8 text-gray-400"})},h))})})]})]}):n.jsx(Rt,{children:n.jsxs(Ut,{className:"text-center py-12",children:[n.jsx(Wa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Analyze a website first to see the data analysis"})]})})}),n.jsx(Oo,{value:"template",className:"space-y-6",children:n.jsx(Rt,{children:n.jsxs(Ut,{className:"text-center py-12",children:[n.jsx(Mo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Template selection will be available after analysis"})]})})}),n.jsx(Oo,{value:"optimization",className:"space-y-6",children:n.jsx(Rt,{children:n.jsxs(Ut,{className:"text-center py-12",children:[n.jsx(ml,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Content optimization will be available after analysis"})]})})})]})]})}const z$e=({children:e})=>{const{user:t,isAdmin:r,loading:s}=Vw();return s?n.jsx("div",{children:"Loading..."}):!t||!r?n.jsx(R7,{to:"/admin/login"}):n.jsx(n.Fragment,{children:e})},jr=({children:e,requireAdmin:t=!1})=>{const{user:r,isAdmin:s,loading:a}=TJ();return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-pink-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):r?t&&!s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:n.jsx("div",{className:"max-w-md w-full mx-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L5.636 5.636"})})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access this area."}),n.jsx("button",{onClick:()=>window.location.href="/admin/dashboard",className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})}):n.jsx(n.Fragment,{children:e}):(window.location.href="/admin/login",null)},U$e=()=>{const{items:e,removeItem:t,updateQuantity:r,total:s,clearCart:a}=Ww(),i=Jn(),o=(c,u)=>{u>0&&u<=10&&r(c,u)},l=()=>{i("/checkout")};return e.length===0?n.jsx(us,{children:n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsx(ly,{size:64,className:"text-gray-400 mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Ihr Warenkorb ist leer"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Entdecken Sie unsere Fotografie-Pakete und fügen Sie sie Ihrem Warenkorb hinzu."}),n.jsx("button",{onClick:()=>i("/fotoshootings"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-6 rounded-lg transition-colors",children:"Pakete ansehen"})]})})}):n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("button",{onClick:()=>i(-1),className:"flex items-center text-purple-600 hover:text-purple-700 mb-6",children:[n.jsx(ls,{size:20,className:"mr-2"}),"Zurück"]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-8",children:"Warenkorb"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.map(c=>n.jsxs("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-0",children:[n.jsxs("div",{className:"flex-grow",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.packageType})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>o(c.id,c.quantity-1),className:"text-gray-500 hover:text-gray-700",children:"-"}),n.jsx("input",{type:"number",min:"1",max:"10",value:c.quantity,onChange:u=>o(c.id,parseInt(u.target.value)),className:"w-16 text-center border border-gray-300 rounded-lg"}),n.jsx("button",{onClick:()=>o(c.id,c.quantity+1),className:"text-gray-500 hover:text-gray-700",children:"+"})]}),n.jsxs("div",{className:"text-right min-w-[100px]",children:[n.jsxs("div",{className:"font-semibold text-gray-800",children:["€",(c.price*c.quantity).toFixed(2)]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["€",c.price.toFixed(2)," pro Stück"]})]}),n.jsx("button",{onClick:()=>t(c.id),className:"text-red-500 hover:text-red-700",children:n.jsx(js,{size:20})})]})]},c.id))})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Zusammenfassung"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"Zwischensumme"}),n.jsxs("span",{children:["€",s.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-600",children:[n.jsx("span",{children:"MwSt. (19%)"}),n.jsxs("span",{children:["€",(s*.19).toFixed(2)]})]})]}),n.jsx("div",{className:"border-t border-gray-200 pt-4 mb-6",children:n.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800",children:[n.jsx("span",{children:"Gesamt"}),n.jsxs("span",{children:["€",(s*1.19).toFixed(2)]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("button",{onClick:l,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:"Zur Kasse"}),n.jsx("button",{onClick:a,className:"w-full border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-3 px-6 rounded-lg transition-colors",children:"Warenkorb leeren"})]})]})})]})]})})},Xx=({children:e,title:t,subtitle:r,image:s})=>n.jsxs(us,{children:[n.jsx("section",{className:"relative h-[60vh] bg-cover bg-center",style:{backgroundImage:`url(${s})`},children:n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:t}),n.jsx("p",{className:"text-xl md:text-2xl",children:r})]})})}),n.jsx("section",{className:"py-16",children:n.jsx("div",{className:"container mx-auto px-4",children:e})})]}),q$e=()=>{const{addItem:e}=Ww(),t=Jn(),r=[{title:"Family Basic",subtitle:"Perfect for Small Families",price:95,originalPrice:195,features:["30 Minuten Shooting","1 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"]},{title:"Family Premium",subtitle:"Ideal für größere Familien",price:195,originalPrice:295,features:["45 Minuten Shooting","5 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"],isFeatured:!0},{title:"Family Deluxe",subtitle:"Das komplette Familienerlebnis",price:295,originalPrice:395,features:["60 Minuten Shooting","10 bearbeitete Fotos","Begrüßungsgetränk","Outfit-Wechsel möglich","Alle Kombinationen","Bis zu 12 Erwachsene und 4 Kinder möglich, Haustiere willkommen"]}],s=[{url:"https://i.postimg.cc/qRZCsv3s/00007581.jpg",title:"Familienshooting im Studio",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.postimg.cc/hvdhVbgn/00480020.jpg",title:"Festive Familienshooting",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.imgur.com/puVF0cD.jpg",title:"Generationen Fotoshooting",description:"Besondere Momente mit der ganzen Familie"}],a=[{url:"https://i.postimg.cc/7LZM86Sz/expo-image.jpg",title:"Hobbie shooting",description:"Blühende Landschaften als perfekte Kulisse"},{url:"https://i.postimg.cc/BZK5GRPm/JAGSCHTITZ-A2-L.jpg",title:"Familenshooting",description:"Goldene Stunden im warmen Sonnenlicht"},{url:"https://i.postimg.cc/m2WYZVQB/m9-n1214.jpg",title:"Babyshooting",description:"Warme Farben und gemütliche Atmosphäre"}],i=[{url:"https://i.postimg.cc/6QbV9Xhm/F-HRER-70x50-L.jpg",title:"Geburtstag",description:"Unvergessliche Geburtstagsmomente"},{url:"https://i.postimg.cc/tRwx77yy/00009094.jpg",title:"Familientreffen",description:"Große Familientreffen festhalten"},{url:"https://i.postimg.cc/Y2GRChZf/00508819.jpg",title:"Jubiläen",description:"Besondere Meilensteine feiern"}],o=[{url:"https://i.postimg.cc/3RyXNcSJ/Mechtler-A3-Lein.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Familien Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle}),t("/cart")};return n.jsx(Xx,{title:"Familien Fotoshooting",subtitle:"Unvergessliche Momente für die ganze Familie",image:"https://i.imgur.com/o9HCqp0.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihr Moment, Ihr Zauber! ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Bei New Age Fotografie entstehen keine gestellten Posen – sondern Bilder, die eure Geschichte erzählen. Ob im hellen Studio in Wien oder draußen an eurem Lieblingsort – wir halten fest, was euch als Familie ausmacht: Lachen, Nähe, kleine Gesten."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Entspannte Atmosphäre für natürliche Aufnahmen"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Moderne Studios & ausgewählte Outdoor-Locations"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Flexible Terminvereinbarung, auch am Wochenende"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/GpjM3s5h/4-S8-A8377-2.jpg",alt:"Familie beim Fotoshooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,u)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((d,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(is,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:d})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},u))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Qn,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Für die ganze Familie"}),n.jsx("p",{className:"text-gray-600",children:"Alle Familienmitglieder willkommen"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ra,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),n.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Anlässe"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,u)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},u))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Warum ein Familienportrait mit New Age Fotografie? 📸"}),n.jsx("p",{className:"text-gray-700 mb-6"}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Individuell & persönlich: Jedes Shooting wird auf Ihre Familie zugeschnitten – mit Platz für bis zu 15 Personen und Haustiere."]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Zeitlose Portraits: Hochwertige Bilder, die Ihr Zuhause schmücken und sich ideal als Geschenke oder für Social Media eignen."]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Unvergessliches Erlebnis: Ein entspanntes Fotoshooting, das Spaß macht – mit Erinnerungen, die ein Leben lang halten."]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/L82CcTx0/E70I9183.jpg",alt:"Familie im Stadtpark",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},u))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Shooting-Locations in Wien und Umgebung"}),n.jsx("li",{children:"• Beratung zur Outfit-Wahl inklusive"}),n.jsx("li",{children:"• Alle Preise inkl. MwSt"})]})]})]})})},V$e=()=>{const{addItem:e}=Ww(),t=Jn(),r=[{title:"Basic",subtitle:"Erste Erinnerungen",price:95,originalPrice:195,features:["30min Shooting","1 bearbeitete Fotos","2 Setups","Requisiten inklusive"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["45min Shooting","5 bearbeitete Fotos","Familienfotos inklusive","Requisiten & Outfits inklusive"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:395,features:["1 Stunden Shooting","10 bearbeitete Fotos","Familienfotos inklusive","Alle Requisiten & Outfits"]}],s=[{url:"https://i.postimg.cc/7LWyk5JJ/DX4A3342.jpg",title:"Neugeborenen Studio",description:"Professionelle Aufnahmen in warmer Atmosphäre"},{url:"https://i.postimg.cc/0NQqFYjq/00371608.jpg",title:"Familien Shooting",description:"Die ganze Familie willkommen"},{url:"https://i.postimg.cc/BZ1JJBgS/4-S8-A7739-1024x683.jpg",title:"Geschwister Shooting",description:"Besondere Momente mit Geschwistern"}],a=[{url:"https://i.postimg.cc/mDPBzYWS/0a9a256b76eacc28798f22b9d58219e5.jpg",title:"Baby shooting"},{url:"https://i.postimg.cc/SsHqWnyb/E70I3814.jpg",title:"New born shooting"},{url:"https://i.postimg.cc/Hss3QBhH/00023276.jpg",title:"Kinder Fotosshooting"}],i=[{url:"https://i.postimg.cc/TY70Qgzb/00124146.jpg",title:"Geschwistershooting",description:"Besondere Geschwistermomente"},{url:"https://i.postimg.cc/T1Q9zDhZ/3W5K2689.jpg",title:"Familienshooting",description:"Die ganze Familie vereint"},{url:"https://i.postimg.cc/NMqpmtWP/4S8A2156.jpg",title:"Generationenshooting",description:"Drei Generationen zusammen"}],o=[{url:"https://i.postimg.cc/T2cCLZQC/OPLATEK-70x50-L.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Fotoshooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Familie wirklich kennenlernen. Zusätzlich erhalten Sie hilfreiche Hinweise zur Vorbereitung – inklusive Tipps zur Kleidung und Inspiration, persönliche Gegenstände wie Sportausrüstung oder Musikinstrumente mitzubringen. So entstehen Aufnahmen, die Ihre Persönlichkeit zum Ausdruck bringen."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/cJXfv7MC/classic-living-room-with-an-upholstered-bench-1-480x480.webp",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Neugeborenen Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle}),t("/cart")};return n.jsx(Xx,{title:"Neugeborenen Fotoshooting",subtitle:"Die ersten kostbaren Momente Ihres Babys",image:"https://i.postimg.cc/WzrVSs3F/3-J9-A3679-renamed-3632.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Die ersten Tage für immer festgehalten ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Die ersten Tage mit Ihrem Neugeborenen sind kostbar und einzigartig. In unserem speziell eingerichteten, warmen Studio schaffen wir eine sichere und gemütliche Atmosphäre für zauberhafte Babyfotos."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Spezialisiert auf Neugeborenen-Fotografie"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 5-14 Tage nach der Geburt"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Professionelle Requisiten inklusive"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/7LsqZBd6/IMG-6736.jpg",alt:"Neugeborenen-Shooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,u)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((d,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(is,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:d})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},u))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine nach der Geburt flexibel planbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Ln,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Sanfte Betreuung"}),n.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Neugeborenen-Fotografie"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ra,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Studio-Ausstattung"}),n.jsx("p",{className:"text-gray-600",children:"Professionelle Requisiten und Accessoires"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,u)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},u))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Perfekte Umgebung für Ihr Baby 📸"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Unser speziell eingerichtetes Neugeborenen-Studio bietet die perfekte, sichere Umgebung für die ersten Fotos Ihres Babys. Mit beheizbarem Raum und professioneller Ausstattung schaffen wir optimale Bedingungen für entspannte Aufnahmen."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Beheizbares, sicheres Studio"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Professionelle Baby-Requisiten"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Stillbereich für Mütter"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/GtbKgQ3F/Herbaczek-3-W5-K3552.jpg",alt:"Neugeborenen-Studio",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studios"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},u))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Beheiztes Studio für das Wohlbefinden des Babys"})]})]})]})})},W$e=()=>{const{addItem:e}=Ww(),t=Jn(),r=[{title:"Basic",subtitle:"Schöne Erinnerungen",price:95,originalPrice:195,features:["30 Minuten Shooting","1 bearbeitete Fotos","1 Outfit","Partner-Fotos optional"]},{title:"Premium",subtitle:"Umfangreiche Erinnerungen",price:195,originalPrice:295,features:["45 Minuten Shooting","5 bearbeitete Fotos","2 Outfits","Partner-Fotos inklusive"],isFeatured:!0},{title:"Deluxe",subtitle:"Das komplette Erlebnis",price:295,originalPrice:295,features:["60 Minuten Shooting","10 bearbeitete Fotos","Online Galerie","3 Outfits","Partner- & Familienfotos"]}],s=[{url:"https://i.imgur.com/Vd6xtPg.jpg",title:"Studio Schwangerschaft",description:"Professionelle Aufnahmen in unserem modernen Studio"},{url:"https://i.imgur.com/AMnhw6w.jpg",title:"Partner + Schwangerschaft",description:"Natürliche Momente in schöner Umgebung"},{url:"https://i.postimg.cc/MHLVSbbf/E70-I3383-scaled.jpg",title:"Partner Shooting",description:"Gemeinsame Momente festhalten"}],a=[{url:"https://i.postimg.cc/T3gmzbyh/sw-6408.jpg",title:"Fun shooting",description:"Blühende Kulissen für strahlende Momente"},{url:"https://i.postimg.cc/X7Z9gm4f/E70I4421.jpg",title:"Maternity shooting",description:"Warmes Licht für zauberhafte Bilder"},{url:"https://i.postimg.cc/G2hyTSXs/E70I2880.jpg",title:"Bauch Shooting",description:"Stimmungsvolle Atmosphäre"}],i=[{url:"https://i.postimg.cc/VNwMmNMg/4S8A1454.jpg",title:"Paarshooting",description:"Gemeinsame Vorfreude festhalten"},{url:"https://i.postimg.cc/vTTfkS9d/DX4A9734.jpg",title:"Geschwistershooting",description:"Die wachsende Familie"},{url:"https://i.postimg.cc/jdGP3cSG/R8G5393.jpg",title:"Generationenshooting",description:"Drei Generationen vereint"}],o=[{url:"https://i.postimg.cc/cCvtXtyx/4-S8-A7529-58-2-2048x1365.jpg",title:"Persönliche Vorbereitung für authentische Ergebnisse",description:"Jedes Babybauch-Shooting beginnt bei uns mit einem kurzen Fragebogen und einem persönlichen Vorgespräch, damit wir Ihre Geschichte und Wünsche wirklich verstehen. Sie erhalten hilfreiche Hinweise zur Vorbereitung – von Outfit-Tipps bis hin zu Inspirationen für persönliche Accessoires wie Ultraschallbilder, kleine Babyschuhe oder Erinnerungsstücke. So entstehen Aufnahmen, die Ihre Vorfreude und Ihre Persönlichkeit liebevoll widerspiegeln."},{url:"https://i.postimg.cc/W3x846Tr/220318-das-Create0012-1.jpg",title:"Die große Enthüllung auf der Kinoleinwand",description:"Nach dem Shooting erwartet Sie ein besonderes Erlebnis: die Präsentation Ihrer Familienporträts auf großer Leinwand – ein interaktiver Moment voller Emotionen in entspannter, stilvoller Atmosphäre. Auf Wunsch ist diese Bildauswahl auch noch am selben Tag möglich."},{url:"https://i.postimg.cc/KzWLNZWy/zjezrez.jpg",title:"Handwerklich gefertigte Qualität – mit Liebe geliefert",description:"Jedes Portrait wird bei uns sorgfältig bearbeitet, farboptimiert und qualitätsgeprüft. Ihre fertigen Bilder erhalten Sie als hochwertige Drucke per versichertem Versand – die Lieferung ist für Sie selbstverständlich kostenlos."}],l=c=>{e({title:`Schwangerschafts Fotoshooting - ${c.title}`,price:c.price,quantity:1,packageType:c.subtitle}),t("/cart")};return n.jsx(Xx,{title:"Schwangerschafts Fotoshooting",subtitle:"Magische Momente Ihrer Schwangerschaft",image:"https://i.postimg.cc/xjZzq5Mc/4S8A5701.jpg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Ihre schönsten Momente festgehalten ✨"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Ihre Schwangerschaft ist eine besondere Zeit voller Vorfreude und Emotionen. Wir fangen diese einzigartigen Momente in stilvollen, zeitlosen Bildern ein – ob im Studio oder an Ihrem Wunschort."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Professionelle Betreuung & Styling-Beratung"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Beste Zeit: 32.-36. Schwangerschaftswoche"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Ln,{className:"text-purple-600 mr-3",size:20}),"Partner & Familie können einbezogen werden"]})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/9XgGZC5X/NIEFERGALL-A4-L-683x1024.jpg",alt:"Schwangerschaftsshooting",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.map((c,u)=>n.jsxs("div",{className:`bg-white rounded-lg shadow-lg overflow-hidden ${c.isFeatured?"border-2 border-purple-600":""}`,children:[c.isFeatured&&n.jsx("div",{className:"bg-purple-600 text-white text-center py-2",children:n.jsx("span",{className:"text-sm font-medium",children:"BESTSELLER"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-2",children:c.title}),n.jsx("p",{className:"text-gray-600 mb-4",children:c.subtitle}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["€",c.originalPrice]}),n.jsxs("span",{className:"text-3xl font-bold text-purple-600 ml-2",children:["€",c.price]})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((d,h)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(is,{size:20,className:"text-green-500 mr-2"}),n.jsx("span",{children:d})]},h))}),n.jsx("button",{onClick:()=>l(c),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Jetzt Buchen"})]})]},u))}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Unsere Studio-Erlebnisse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Os,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Flexible Termine"}),n.jsx("p",{className:"text-gray-600",children:"Termine auch am Wochenende verfügbar"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(Ln,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Betreuung"}),n.jsx("p",{className:"text-gray-600",children:"Spezialisiert auf Schwangerschaftsfotografie"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ra,{size:48,className:"text-purple-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Professionelle Ausrüstung"}),n.jsx("p",{className:"text-gray-600",children:"Beste Qualität für bleibende Erinnerungen"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden transform transition-all hover:-translate-y-1 hover:shadow-xl",children:n.jsxs("div",{className:"relative h-64",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:c.title}),n.jsx("p",{className:"text-sm opacity-90",children:c.description})]})})]})},u))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Besondere Momente"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,u)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg shadow-lg",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white p-4",children:[n.jsx("h3",{className:"font-bold text-xl mb-2",children:c.title}),n.jsx("p",{className:"text-sm",children:c.description})]})})]},u))})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-16",children:n.jsxs("div",{className:"md:grid md:grid-cols-2 items-center",children:[n.jsxs("div",{className:"p-8 md:p-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-6",children:"Persönliche Vorbereitung für authentische Ergebnisse 📸"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Individuell & persönlich: Jedes Schwangerschaftsshooting wird liebevoll auf Sie abgestimmt – gern auch mit Partner, Geschwistern oder zukünftigen Großeltern. Zeitlose Erinnerungen: Stilvolle, emotionale Bilder, die diese besondere Zeit festhalten – ideal als Dekoration, Geschenk oder für Ihre Social Media Profile. Einfühlsames Erlebnis: In entspannter Atmosphäre entstehen authentische Aufnahmen, die Ihre Vorfreude und Verbundenheit spürbar machen – ganz ohne Hektik."}),n.jsxs("ul",{className:"space-y-4",children:[n.jsx("li",{className:"flex items-center text-gray-700"}),n.jsx("li",{className:"flex items-center text-gray-700"}),n.jsx("li",{className:"flex items-center text-gray-700"})]})]}),n.jsxs("div",{className:"relative h-96 md:h-full",children:[n.jsx("img",{src:"https://i.postimg.cc/HLtMxC9g/E70I2700.jpg",alt:"Schwangerschaftsshooting Location",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]})]})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-purple-900 mb-8 text-center"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((c,u)=>n.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:c.url,alt:c.title,className:"w-full h-64 object-cover"}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-bold text-lg text-purple-900 mb-1",children:c.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:c.description})]})]})},u))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Wichtige Informationen"}),n.jsxs("ul",{className:"space-y-2 text-gray-700",children:[n.jsx("li",{children:"• Gutscheine sind ab Kaufdatum 1 Jahr gültig"}),n.jsx("li",{children:"• Sonderpreise für begrenzte Zeit"}),n.jsx("li",{children:"• Termine flexibel vereinbar"}),n.jsx("li",{children:"• Styling-Beratung inklusive"})]})]})]})})},H$e=()=>{const e=[{url:"https://i.postimg.cc/RZjf8FsX/Whats-App-Image-2025-05-24-at-2-38-45-PM-1.jpg",title:"Professional Headshots"},{url:"https://i.postimg.cc/tRKspft4/19-L9686-683x1024.jpg",title:"Corporate Portraits"},{url:"https://imgur.com/2EsZmcP.jpg",title:"Team Photos"}],t=[{url:"https://i.postimg.cc/6QqWdLLP/Whats-App-Image-2025-05-24-at-2-38-46-PM.jpg",title:"Executive Portraits"},{url:"https://i.postimg.cc/rFg2QRm2/Whats-App-Image-2025-05-24-at-2-38-45-PM.jpg",title:"Business Casual"},{url:"https://i.postimg.cc/CMGgnQp1/11082260-883838491675315-8361533607387200890-o.jpg",title:"Corporate Events"},{url:"https://imgur.com/OvQtkkB.jpg",title:"Team Building"},{url:"https://imgur.com/XF8OK3q.jpg",title:"Office Culture"},{url:"https://imgur.com/L3gwSlu.jpg",title:"Professional Environment"}];return n.jsx(Xx,{title:"Businessportraits, die Eindruck machen",subtitle:"Professionell. Authentisch. Unvergesslich.",image:"https://i.postimg.cc/6Q2c2gS1/Whats-App-Image-2025-05-24-at-2-38-45-PM-2.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"✅ Starker Auftritt für Sie und Ihre Marke"}),n.jsx("p",{className:"text-gray-700 text-lg",children:"Ob für LinkedIn, Website oder Pitchdeck – Ihre Businessfotos sagen mehr als Worte. In unserem Studio in Wien (und Zürich) setzen wir Sie professionell in Szene: klar, sympathisch und markengerecht."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((r,s)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:n.jsx("img",{src:r.url,alt:r.title,className:"w-full h-full object-cover"})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:r.title})})})]},s))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Was Sie erwartet:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Entspannte Atmosphäre"}),n.jsx("p",{className:"text-gray-600",children:"Kein Stress, keine steifen Posen, einfach Sie in Bestform."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionelles Licht & Posing"}),n.jsx("p",{className:"text-gray-600",children:"Wir zeigen Ihnen, wie Sie authentisch & souverän wirken."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Individuelle Bildsprache"}),n.jsx("p",{className:"text-gray-600",children:"Auf Ihre Branche und Zielgruppe abgestimmt."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schnelle & einfache Buchung"}),n.jsx("p",{className:"text-gray-600",children:"Auch abends oder am Wochenende möglich."})]})]})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-6",children:"❌ Unscharfes Selfie statt souveränem Auftritt?"}),n.jsxs("ul",{className:"space-y-4 text-red-700",children:[n.jsx("li",{children:'• Ihre Website wirkt hochwertig – bis man Ihr „Über uns"-Foto sieht?'}),n.jsx("li",{children:"• Ihr LinkedIn-Profil überzeugt inhaltlich, aber das Bild wirkt wie ein Schnappschuss?"}),n.jsx("li",{children:"• Ihre Mitbewerber wirken präsent – Sie fragen sich, woran's liegt?"})]})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"📸 Professionelle Businessportraits"}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Zeigen auf den ersten Blick, was Sie können. Sie schaffen Nähe, Vertrauen und bleiben im Gedächtnis."}),n.jsx("p",{className:"text-lg font-semibold text-purple-800",children:"Für Selbstständige, Gründer:innen, Teams & Führungskräfte"})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((r,s)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:r.url,alt:r.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx("span",{className:"text-white text-lg font-semibold",children:r.title})})]},s))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für LinkedIn & PR – endlich Fotos, die mich wirklich repräsentieren."'})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Professionell, entspannt & effizient – ein Shooting, das Spaß macht."'})}),n.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder haben sofort Wirkung gezeigt – auf Website, Socials und in Gesprächen."'})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum unsere Kunden wiederkommen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"💼 Starke Bildsprache"}),n.jsx("p",{className:"text-gray-600",children:"Die Vertrauen schafft"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🤝 Locker & professionell"}),n.jsx("p",{className:"text-gray-600",children:"Für Einzelpersonen & große Teams"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"📐 Vorteilhafte Darstellung"}),n.jsx("p",{className:"text-gray-600",children:"Aller Körpertypen"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🎯 Klare Anleitung"}),n.jsx("p",{className:"text-gray-600",children:"Auch wenn Sie sich vor der Kamera unwohl fühlen"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🖼️ Langfristige Nutzung"}),n.jsx("p",{className:"text-gray-600",children:"Bilder für alle Kanäle"})]})]})]}),n.jsxs("div",{className:"bg-purple-600 text-white rounded-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Jetzt Shooting buchen und Eindruck hinterlassen."}),n.jsx("p",{className:"text-lg mb-6",children:"Businessfotos in Wien & Zürich – New Age Fotografie"}),n.jsx("a",{href:"/warteliste",className:"inline-block bg-white text-purple-600 font-bold py-3 px-8 rounded-lg hover:bg-gray-100 transition-colors",children:"Termin vereinbaren"})]})]})})})},G$e=()=>{const e=[{url:"https://i.postimg.cc/907tz7nR/21469528-10155302675513124-226449768-n.jpg",title:"Corporate Event"},{url:"https://i.postimg.cc/QdHN7Jqy/121588004-364470784911600-8688844506532345601-n.jpg",title:"Conference"},{url:"https://i.postimg.cc/vBdGpFwJ/COS-1254.jpg",title:"Team Building"}],t=[{url:"https://i.postimg.cc/wTDQpDNn/IMG-2582.jpg",title:"Business Conference"},{url:"https://i.postimg.cc/bY79WmZQ/K36C7261.jpg",title:"Team Events"},{url:"https://i.postimg.cc/Y9kwd61k/4S8A8486.jpg",title:"Networking Events"},{url:"https://i.postimg.cc/gj2bWGST/IGEPHA-Park-Hyatt-6003.jpg",title:"Corporate Celebrations"},{url:"https://i.postimg.cc/Y9XyQYRd/COS-1203.jpg",title:"Product Presentations"},{url:"https://i.postimg.cc/Tw24yCVy/K36C8454.jpg",title:"Company Milestones"}],r=[{url:"https://i.postimg.cc/QMxS8Vks/Ball-des-Sports-2025-www-newagefotografie-com-5590.jpg",title:"Elegant Moments",description:"Capturing the grace of formal events"},{url:"https://i.postimg.cc/bwP35mZZ/Ball-des-Sports-2025-www-newagefotografie-com-5766.jpg",title:"Social Gatherings",description:"Networking in style"},{url:"https://i.postimg.cc/mrXjtR89/Ball-des-Sports-2025-www-newagefotografie-com-5825.jpg",title:"Event Highlights",description:"Key moments from the evening"},{url:"https://i.postimg.cc/FRYZSqBB/Ball-des-Sports-2025-www-newagefotografie-com-5855.jpg",title:"Candid Interactions",description:"Natural moments between guests"},{url:"https://i.postimg.cc/FFJpsMcf/Ball-des-Sports-2025-www-newagefotografie-com-5878.jpg",title:"Event Atmosphere",description:"The ambiance of the ball"},{url:"https://i.postimg.cc/yd2TyjqY/Ball-des-Sports-2025-www-newagefotografie-com-6331.jpg",title:"Distinguished Guests",description:"VIP moments captured"},{url:"https://i.postimg.cc/8cWmKvDd/Ball-des-Sports-2025-www-newagefotografie-com-6382.jpg",title:"Dance Floor",description:"Celebration in motion"},{url:"https://i.postimg.cc/RV5R3gQg/Ball-des-Sports-2025-www-newagefotografie-com-6459.jpg",title:"Evening Entertainment",description:"Performances and shows"},{url:"https://i.postimg.cc/SN6Gccgk/Ball-des-Sports-2025-www-newagefotografie-com-7025.jpg",title:"Formal Portraits",description:"Professional event photography"},{url:"https://i.postimg.cc/7b8TftF0/Ball-des-Sports-2025-www-newagefotografie-com-7789.jpg",title:"Event Details",description:"The finer points of the evening"},{url:"https://i.postimg.cc/3xZnQ2Gn/Ball-des-Sports-2025-www-newagefotografie-com-7920.jpg",title:"Social Moments",description:"Connections and conversations"},{url:"https://i.postimg.cc/Nfmdb3jh/Ball-des-Sports-2025-www-newagefotografie-com-7978.jpg",title:"Grand Finale",description:"Memorable closing moments"}];return n.jsx(Xx,{title:"Eventfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Authentisch. Professionell. Unvergesslich.",image:"https://i.postimg.cc/rwtMhFtV/Ball-des-Sports-2025-www-newagefotografie-com-5513.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Ihre Veranstaltung. Ihre Emotionen. Perfekt eingefangen."}),n.jsxs("p",{className:"text-gray-700 text-lg",children:["Sie planen ein Event und möchten sich darauf verlassen können, dass alle wichtigen Momente eingefangen werden?",n.jsx("br",{}),"Wir sind auf natürliche, stimmungsvolle Eventfotografie spezialisiert – ohne gestellte Posen, ohne steife Atmosphäre."]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Kunden uns wählen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Unauffällig & präsent"}),n.jsx("p",{className:"text-gray-600",children:"Wir bewegen uns dezent im Hintergrund und fangen echte Emotionen ein."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Authentisch & natürlich"}),n.jsx("p",{className:"text-gray-600",children:"Keine gestellten Bilder. Wir zeigen Sie, wie Sie wirklich sind – entspannt und sympathisch."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Ruhig in jeder Situation"}),n.jsx("p",{className:"text-gray-600",children:"Selbst in stressigen Momenten behalten wir den Überblick und dokumentieren jedes Detail."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Schmeichelhafte Perspektiven"}),n.jsx("p",{className:"text-gray-600",children:"Wir kennen die besten Blickwinkel, damit sich alle auf den Bildern wiedererkennen und mögen."})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Eleganz & Stil"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexibel buchbar – auch an Wochenenden & Feiertagen"}),n.jsx("p",{className:"text-gray-700",children:"Unser einfacher Buchungsprozess ist 7 Tage die Woche verfügbar – so passt sich Ihr Fotograf Ihrem Zeitplan an, nicht umgekehrt."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Perfekt für jedes Event."'}),n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unauffällig, professionell, sympathisch."'})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Fotos, die man wirklich gerne teilt."'}),n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfach zu buchen, zuverlässig und herzlich."'})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"📍 Verfügbar in Wien & Zürich"}),n.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",n.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Termin planen"})]}),n.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},K$e=()=>{const e=[{url:"https://i.postimg.cc/P5Y6qBwf/4S8A7472.jpg",title:"Wedding Ceremony"},{url:"https://i.postimg.cc/3R6QYX2s/00134022.jpg",title:"Wedding Portraits"},{url:"https://i.postimg.cc/zG15yF45/00371059.jpg",title:"Wedding Reception"}],t=[{url:"https://i.postimg.cc/VvWyM3x8/00145408.jpg",title:"Getting Ready"},{url:"https://i.postimg.cc/4Nwk3Rvv/00371294.jpg",title:"First Look"},{url:"https://i.postimg.cc/fyNnVwgC/events1.jpg",title:"Ceremony"},{url:"https://i.postimg.cc/t4T0ZvDK/HOFBAUER-70x50-L.jpg",title:"Bridal Portraits"},{url:"https://i.postimg.cc/YqtBkCFq/IMG-6997.jpg",title:"Reception"},{url:"https://i.postimg.cc/CMGpWqzQ/IMG-7898.jpg",title:"Party"}],r=[{url:"https://i.postimg.cc/85wB64ZY/4-S8-A0596aaa.jpg",title:"Romantic Moments",description:"Capturing intimate moments between newlyweds"},{url:"https://i.postimg.cc/k53c3BVT/COS-0308.jpg",title:"Wedding Details",description:"Beautiful wedding day details"},{url:"https://i.postimg.cc/bvxRzpkp/KULHAVY13032020-194-of-671-ddd.jpg",title:"Candid Moments",description:"Natural and spontaneous celebrations"},{url:"https://i.postimg.cc/4yS68dkb/Pic-9.jpg",title:"Venue Photography",description:"Stunning wedding venues"},{url:"https://i.postimg.cc/pTPJr4J8/TN-Post-wedding-portraits-168.jpg",title:"Portrait Sessions",description:"Professional wedding portraits"},{url:"https://i.postimg.cc/Gt2PJDNm/Villa-Antoinette-Gl-serstra-e-9-2680-Semmering-Kurort-Austria.jpg",title:"Location Shots",description:"Beautiful wedding locations"}];return n.jsx(Xx,{title:"Hochzeitsfotografie in Wien & Zürich",subtitle:"New Age Fotografie – Eure Geschichte. Echt. Berührend. Für immer.",image:"https://i.postimg.cc/vBxS7p6K/DSC-0318-01299.jpg",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-purple-900 mb-4",children:"Eure Liebe, authentisch eingefangen."}),n.jsxs("p",{className:"text-gray-700 text-lg",children:["Euer Hochzeitstag ist einzigartig – ein Tag voller Emotionen, Lachen und bedeutungsvoller Momente.",n.jsx("br",{}),"Wir sorgen dafür, dass ihr ihn nie vergesst. Mit Bildern, die nicht gestellt wirken – sondern echt."]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-12",children:e.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsx("div",{className:"text-white",children:n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title})})})]},a))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Warum Paare uns wählen:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Natürlich & unaufdringlich"}),n.jsx("p",{className:"text-gray-600",children:"Wir halten echte Emotionen fest, ohne zu stören."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Professionell & herzlich"}),n.jsx("p",{className:"text-gray-600",children:"Ihr fühlt euch bei uns wohl, auch wenn ihr keine Kameraprofis seid."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Detailverliebt & kreativ"}),n.jsx("p",{className:"text-gray-600",children:"Vom kleinen Blick bis zur großen Geste – nichts geht verloren."})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"Nachhaltige Erinnerungen"}),n.jsx("p",{className:"text-gray-600",children:"Eure Fotos werden zum visuellen Erbe eurer Liebesgeschichte."})]})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6 text-center",children:"Impressionen unserer Arbeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-8 mb-12",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-4",children:"Flexible Buchung – Auch an Wochenenden und Feiertagen"}),n.jsx("p",{className:"text-gray-700",children:"Ganz nach eurem Zeitplan – wir passen uns euch an, nicht umgekehrt."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Unvergesslich! Matt und sein Team haben jeden Moment eingefangen – kreativ, entspannt und mit einem tollen Gespür für Timing."'}),n.jsx("p",{className:"font-semibold",children:"– Sasha & Marten ⭐⭐⭐⭐⭐"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Einfühlsam, professionell und einfach top. Wir würden sie jederzeit wieder buchen!"'}),n.jsx("p",{className:"font-semibold",children:"– Christina M. ⭐⭐⭐⭐⭐"})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("p",{className:"text-gray-700 italic mb-4",children:'"Die Bilder sind magisch – so viele echte Emotionen. Und der Service war von Anfang bis Ende perfekt."'}),n.jsx("p",{className:"font-semibold",children:"– Tina & Robin ⭐⭐⭐⭐⭐"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-8 text-center",children:"Hochzeitsmomente für die Ewigkeit"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.map((s,a)=>n.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[n.jsx("img",{src:s.url,alt:s.title,className:"w-full h-64 object-cover transform transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end p-6",children:n.jsxs("div",{className:"text-white",children:[n.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),n.jsx("p",{className:"text-sm opacity-90",children:s.description})]})})]},a))})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-purple-900 mb-6",children:"Eure Hochzeit. Euer Moment. Unser Versprechen."}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Ob Standesamt, Gartenhochzeit oder großes Fest – wir begleiten euch mit Erfahrung, Gefühl und einem Blick für das, was wirklich zählt."}),n.jsxs("p",{className:"text-lg mb-4",children:["📅 Jetzt Termin sichern: ",n.jsx("a",{href:"/warteliste",className:"text-purple-600 hover:text-purple-700",children:"Hochzeitsfotografie in Wien & Zürich"})]}),n.jsx("p",{className:"text-lg",children:"📸 New Age Fotografie – Für bleibende Erinnerungen."})]})]})})})},Y$e=({gallerySlug:e,isPasswordProtected:t,onAuthenticated:r})=>{const[s,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(""),[h,p]=_.useState(!1),[f,x]=_.useState(null),g=async v=>{if(v.preventDefault(),!s){x("Email is required");return}if(t&&!u){x("Password is required");return}try{p(!0),x(null);const{token:b}=await HOe(e,{email:s,firstName:i,lastName:l,password:t?u:void 0});localStorage.setItem(`gallery_token_${e}`,b),r(b)}catch(b){x(b instanceof Error?b.message:"Authentication failed. Please try again.")}finally{p(!1)}};return n.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-8",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-purple-100 text-purple-600 rounded-full p-3 inline-block",children:t?n.jsx(Bg,{className:"h-8 w-8"}):n.jsx(on,{className:"h-8 w-8"})}),n.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:t?"Protected Gallery":"Welcome to the Gallery"}),n.jsx("p",{className:"mt-2 text-gray-600",children:t?"Please enter the password to view this gallery":"Please enter your information to continue"})]}),f&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(on,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"email",type:"email",value:s,onChange:v=>a(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"you@example.com",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("input",{id:"firstName",type:"text",value:i,onChange:v=>o(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"First Name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("input",{id:"lastName",type:"text",value:l,onChange:v=>c(v.target.value),className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Last Name"})]})]}),t&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Bg,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{id:"password",type:"password",value:u,onChange:v=>d(v.target.value),className:"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"Enter gallery password",required:!0})]})]}),n.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Xr,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Authenticating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(gF,{className:"-ml-1 mr-2 h-5 w-5"}),"Enter Gallery"]})})]})]})},LD=()=>{const{slug:e}=yl(),[t,r]=_.useState(null),[s,a]=_.useState([]),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState(!1),[h,p]=_.useState(!0),[f,x]=_.useState(null);_.useEffect(()=>{if(e){g(e);const I=localStorage.getItem(`gallery_token_${e}`);I&&(c(I),o(!0))}else p(!1)},[e]),_.useEffect(()=>{document.title="Foto-Galerie Wien - Familienfotos & Porträts | New Age Fotografie";let I=document.querySelector('meta[name="description"]');I||(I=document.createElement("meta"),I.setAttribute("name","description"),document.head.appendChild(I)),I.setAttribute("content","Exklusive Foto-Galerie mit passwortgeschütztem Zugang. Familienfotos, Porträts und Hochzeitsbilder vom Wiener Familienfotograf.");let k=document.querySelector('meta[property="og:title"]');return k||(k=document.createElement("meta"),k.setAttribute("property","og:title"),document.head.appendChild(k)),k.setAttribute("content","Foto-Galerie - New Age Fotografie Wien"),()=>{document.title="New Age Fotografie - Familienfotograf Wien"}},[]),_.useEffect(()=>{i&&e&&l&&v(e,l)},[i,e,l]);const g=async I=>{try{p(!0);const k=await DOe(I);r(k)}catch{x("Failed to load gallery. Please try again.")}finally{p(!1)}},v=async(I,k)=>{try{p(!0);const E=await GOe(I,k);a(E)}catch(E){x("Failed to load gallery images. Please try again."),E instanceof Error&&E.message.includes("Invalid token")&&(localStorage.removeItem(`gallery_token_${I}`),o(!1),c(""))}finally{p(!1)}},b=I=>{c(I),o(!0),j()},j=async I=>{},N=()=>{if(!t||!e||!l)return;if(!t.downloadEnabled){alert("Downloads are disabled for this gallery.");return}const I=document.createElement("a");I.href=`undefined/functions/v1/galleries/public/galleries/${e}/download`,I.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.zip`,fetch(I.href,{headers:{Authorization:`Bearer ${l}`}}).then(k=>k.blob()).then(k=>{const E=window.URL.createObjectURL(k);I.href=E,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(E)}).catch(k=>{alert("Failed to download gallery. Please try again.")})},A=()=>{if(!t||!e)return;const I=`${window.location.origin}/gallery/${e}`;navigator.share?navigator.share({title:t.title,url:I}).catch(k=>{S(I)}):S(I)},S=I=>{navigator.clipboard?navigator.clipboard.writeText(I).then(()=>{alert("Gallery link copied to clipboard!")}).catch(k=>{prompt("Copy this link:",I)}):prompt("Copy this link:",I)},L=u?s.filter(I=>I.isFavorite):s;return e?n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs(Gt,{to:"/galleries",className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6 transition-colors",children:[n.jsx(ls,{size:16,className:"mr-1"}),"Zurück zu allen Galerien"]}),h&&!t?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading gallery..."})]}):f&&!t?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}):t?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),t.description&&n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t.description})]}),i?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 flex flex-wrap items-center justify-between gap-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>d(!u),className:`inline-flex items-center px-4 py-2 border ${u?"border-red-300 bg-red-50 text-red-700 hover:bg-red-100":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"} rounded-lg shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors`,children:[n.jsx(Ln,{size:16,className:`mr-2 ${u?"fill-current":""}`}),u?"Alle anzeigen":"Favoriten anzeigen"]}),t.downloadEnabled&&n.jsxs("button",{onClick:N,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[n.jsx(Ls,{size:16,className:"mr-2"}),"Alle herunterladen"]})]}),n.jsxs("button",{onClick:A,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",children:[n.jsx(Lh,{size:16,className:"mr-2"}),"Galerie teilen"]})]}),h?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading images..."})]}):f?n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:f})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[n.jsx(HV,{images:L,galleryId:t.id,isPublic:!0,authToken:l,downloadEnabled:t.downloadEnabled}),u&&L.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ln,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Noch keine Favoriten"}),n.jsx("p",{className:"text-gray-500",children:"Sie haben noch keine Bilder zu Ihren Favoriten hinzugefügt."}),n.jsx("button",{onClick:()=>d(!1),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Alle Bilder anzeigen"})]})]})]}):n.jsx(Y$e,{gallerySlug:e||"",isPasswordProtected:t.isPasswordProtected||!!t.password,onAuthenticated:b})]}):n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:n.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Gallery not found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"The gallery you're looking for doesn't exist or has been removed."}),n.jsx("div",{className:"mt-6",children:n.jsx(Gt,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:"Return to home"})})]})]})}):n.jsx(R7,{to:"/galleries",replace:!0})},ID=()=>{const[e,t]=_.useState([]),[r,s]=_.useState([]),[a,i]=_.useState(""),[o,l]=_.useState(!0),[c,u]=_.useState(null);_.useEffect(()=>{d()},[]),_.useEffect(()=>{h()},[e,a]);const d=async()=>{try{l(!0);const x=await YOe();t(x)}catch{u("Failed to load galleries. Please try again.")}finally{l(!1)}},h=()=>{if(!a.trim()){s(e);return}const x=a.toLowerCase(),g=e.filter(v=>v.title.toLowerCase().includes(x)||v.description&&v.description.toLowerCase().includes(x)||v.clientEmail&&v.clientEmail.toLowerCase().includes(x));s(g)},p=x=>x.coverImage||"/placeholder-gallery.jpg",f=x=>new Date(x).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return n.jsx(us,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Meine Galerie"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Entdecken Sie unsere professionellen Fotogalerien. Suchen Sie nach Ihrer persönlichen Galerie und erleben Sie Ihre besonderen Momente."})]}),n.jsx("div",{className:"max-w-md mx-auto mb-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(Wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Galerie suchen...",value:a,onChange:x=>i(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),c&&n.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start mb-8",children:[n.jsx(ln,{className:"h-5 w-5 text-red-400 mt-0.5 mr-2"}),n.jsx("span",{children:c})]}),o?n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx(Xr,{className:"h-8 w-8 text-purple-600 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Galerien werden geladen..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-6",children:n.jsxs("p",{className:"text-gray-600",children:[r.length," ",r.length===1?"Galerie":"Galerien"," gefunden",a&&` für "${a}"`]})}),r.length>0?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(x=>n.jsxs("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-purple-300 overflow-hidden",children:[n.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-purple-50 to-pink-50 overflow-hidden",children:[x.coverImage?n.jsx("img",{src:p(x),alt:x.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(ra,{className:"w-8 h-8 text-purple-600"})}),n.jsx("p",{className:"text-sm text-gray-500",children:"Keine Vorschau"})]})}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsxs(Gt,{to:`/gallery/${x.slug}`,className:"bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-800 px-6 py-3 rounded-full font-semibold transition-all duration-200 transform hover:scale-110 flex items-center",children:[n.jsx(Xn,{size:18,className:"mr-2"}),"Galerie ansehen"]})}),n.jsx("div",{className:"absolute bottom-2 right-2 opacity-50",children:n.jsx("img",{src:"/frontend-logo.jpg",alt:"New Age Fotografie",className:"h-8 w-auto opacity-75"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1",children:x.title}),x.description&&n.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:x.description}),n.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[n.jsx(fn,{size:14,className:"mr-2"}),f(x.createdAt)]}),n.jsx(Gt,{to:`/gallery/${x.slug}`,className:"block w-full text-center bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:"Galerie öffnen"})]})]},x.id))}):n.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow",children:[n.jsx("div",{className:"mx-auto h-16 w-16 text-gray-400 mb-6",children:n.jsx(ra,{className:"w-full h-full"})}),n.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:a?"Keine Galerien gefunden":"Keine Galerien verfügbar"}),n.jsx("p",{className:"text-gray-500 mb-6",children:a?`Keine Galerien entsprechen Ihrer Suche nach "${a}".`:"Es sind derzeit keine öffentlichen Galerien verfügbar."}),a&&n.jsx("button",{onClick:()=>i(""),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:"Alle Galerien anzeigen"})]})]}),n.jsxs("div",{className:"mt-16 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ihre Galerie nicht gefunden?"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Falls Sie Ihre persönliche Galerie nicht finden können, kontaktieren Sie uns bitte. Wir helfen Ihnen gerne beim Zugang zu Ihren Fotos."}),n.jsx(Gt,{to:"/kontakt",className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-purple-600 hover:bg-purple-700 transition-colors",children:"Kontakt aufnehmen"})]})]})})},Z$e=()=>{const[e,t]=_.useState(!1),[r,s]=_.useState([{text:`Hallo! Ich bin Alex von New Age Fotografie Wien. 📸

Bevor wir starten, darf ich nach Ihrer WhatsApp Nummer oder E-Mail fragen? So kann ich Sie besser beraten und bei Interesse direkt kontaktieren.`,isUser:!1}]),[a,i]=_.useState(""),[o,l]=_.useState(!1);_.useState(null);const[c,u]=_.useState(!1),[d,h]=_.useState({name:"",email:"",phone:""}),[p,f]=_.useState(!1),x=_.useRef(null),g=()=>{x.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{g()},[r]);const v=async()=>{if(!a.trim()||o)return;const A=a;if(s(S=>[...S,{text:A,isUser:!0}]),i(""),l(!0),!p){const S=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/,L=/(\+43|0043|0)?[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{3,4}[\s\-]?[0-9]{2,4}/;if(S.test(A)){h(I=>({...I,email:A.match(S)?.[0]||""})),f(!0),s(I=>[...I,{text:`Perfekt! Vielen Dank für Ihre E-Mail: ${A.match(S)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}if(L.test(A)){h(I=>({...I,phone:A.match(L)?.[0]||""})),f(!0),s(I=>[...I,{text:`Super! Vielen Dank für Ihre Nummer: ${A.match(L)?.[0]}. Wie kann ich Ihnen bei Ihrem Fotoshooting helfen?`,isUser:!1}]),l(!1);return}}s(S=>[...S,{text:"Alex schreibt...",isUser:!1,loading:!0}]);try{const L=await(await fetch("/api/openai/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:A,threadId:"fallback-mode"})})).json();s(I=>[...I.filter(E=>!E.loading),{text:L.response||"Entschuldigung, ich konnte Ihre Anfrage nicht bearbeiten.",isUser:!1}]),p&&r.filter(I=>I.isUser).length>=2&&setTimeout(()=>{N()},3e3)}catch{s(L=>[...L.filter(k=>!k.loading),{text:"Entschuldigung, es gab ein technisches Problem. Bitte kontaktieren Sie uns direkt unter 0677 633 99210.",isUser:!1}])}finally{l(!1)}},b=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),v())},j=async()=>{try{const A=r.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,message:A?.text||"Chat conversation",conversation:r})})).ok&&(s(L=>[...L,{text:"Vielen Dank! Ihre Kontaktdaten wurden gespeichert. Wir melden uns bald bei Ihnen!",isUser:!1}]),u(!1),h({name:"",email:"",phone:""}))}catch{}},N=async()=>{if(p)try{const A=r.filter(L=>L.isUser).pop();(await fetch("/api/chat/save-lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"Chat Visitor",email:d.email,phone:d.phone,message:A?.text||"Website Chat Interest",conversation:r})})).ok}catch{}};return n.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[n.jsx(U1,{children:e&&n.jsxs(Yf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-16 right-0 w-80 bg-white rounded-lg shadow-xl",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 p-4 rounded-t-lg",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold",children:"Alex - Photo Consultant"}),n.jsx("p",{className:"text-purple-100 text-sm",children:"New Age Fotografie Wien"})]}),n.jsx("button",{onClick:()=>t(!1),className:"text-white hover:text-gray-200 transition-colors",children:n.jsx(bs,{size:20})})]})}),n.jsxs("div",{className:"h-96 flex flex-col",children:[n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[r.map((A,S)=>n.jsx("div",{className:`mb-4 ${A.isUser?"text-right":"text-left"}`,children:n.jsx("div",{className:`inline-block p-3 rounded-lg max-w-[280px] ${A.isUser?"bg-gradient-to-r from-purple-600 to-pink-500 text-white":"bg-gray-100 text-gray-800"}`,children:A.loading?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xr,{size:16,className:"animate-spin"}),A.text]}):A.text})},S)),n.jsx("div",{ref:x})]}),c&&n.jsxs("div",{className:"border-t p-4 bg-purple-50",children:[n.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Kontakt hinterlassen"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("input",{type:"text",placeholder:"Ihr Name",value:d.name,onChange:A=>h(S=>({...S,name:A.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsx("input",{type:"email",placeholder:"E-Mail",value:d.email,onChange:A=>h(S=>({...S,email:A.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsx("input",{type:"tel",placeholder:"Telefon (optional)",value:d.phone,onChange:A=>h(S=>({...S,phone:A.target.value})),className:"w-full p-2 border rounded text-sm"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:j,className:"flex-1 bg-purple-600 text-white p-2 rounded text-sm hover:bg-purple-700",children:"Senden"}),n.jsx("button",{onClick:()=>u(!1),className:"px-4 bg-gray-300 text-gray-700 p-2 rounded text-sm hover:bg-gray-400",children:"Später"})]})]})]}),n.jsx("div",{className:"border-t p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:a,onChange:A=>i(A.target.value),onKeyPress:b,placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),n.jsx("button",{onClick:v,disabled:o,className:"p-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50",children:o?n.jsx(Xr,{size:20,className:"animate-spin"}):n.jsx(Bo,{size:20})})]})})]})]})}),n.jsx("button",{onClick:()=>t(!e),className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white p-4 rounded-full shadow-lg hover:opacity-90 transition-opacity",children:n.jsx(pee,{size:24})})]})};function X$e({galleryId:e,clientId:t,isOpen:r,onClose:s}){const[a,i]=_.useState([]),{toast:o}=j6(),{data:l,isLoading:c}=oy({queryKey:["/api/gallery/print-catalog"],enabled:r}),u=J0({mutationFn:async g=>{const v=await fetch("/api/gallery/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!v.ok)throw new Error("Checkout failed");return v.json()},onSuccess:g=>{g.checkout_url?window.location.href=g.checkout_url:o({title:"Order Created",description:`Order #${g.order_id} created for €${g.total}`})},onError:()=>{o({title:"Checkout Failed",description:"Unable to process your order. Please try again.",variant:"destructive"})}}),d=g=>{const v=a.find(b=>b.product_sku===g.sku);i(v?a.map(b=>b.product_sku===g.sku?{...b,qty:b.qty+1}:b):[...a,{product_sku:g.sku,qty:1,variant:{},product_name:g.name,unit_price:Number(g.base_price)}]),o({title:"Added to Cart",description:`${g.name} added to your cart`})},h=g=>{i(a.filter(v=>v.product_sku!==g))},p=(g,v)=>{v<=0?h(g):i(a.map(b=>b.product_sku===g?{...b,qty:v}:b))},f=()=>a.reduce((g,v)=>g+(v.unit_price||0)*v.qty,0),x=()=>{u.mutate({gallery_id:e,client_id:t,items:a})};return r?n.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),n.jsxs("div",{className:"ml-auto w-96 bg-white shadow-xl flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(td,{className:"h-5 w-5"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Buy Prints"})]}),n.jsx(Vt,{variant:"ghost",size:"sm",onClick:s,children:n.jsx(bs,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:c?n.jsx("div",{className:"text-center py-8",children:"Loading products..."}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Available Products"}),l?.map(g=>n.jsx(Rt,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"font-medium",children:g.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["€",g.base_price]})]}),n.jsx(Vt,{size:"sm",onClick:()=>d(g),className:"ml-2",children:n.jsx(Ir,{className:"h-3 w-3"})})]})},g.sku))]}),a.length>0&&n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium",children:"Your Cart"}),n.jsxs(Ma,{variant:"secondary",children:[a.length," items"]})]}),a.map(g=>n.jsx(Rt,{className:"p-3",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h5",{className:"text-sm font-medium",children:g.product_name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["€",g.unit_price," each"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vt,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty-1),children:n.jsx(xee,{className:"h-3 w-3"})}),n.jsx("span",{className:"text-sm font-medium min-w-[20px] text-center",children:g.qty}),n.jsx(Vt,{size:"sm",variant:"outline",onClick:()=>p(g.product_sku,g.qty+1),children:n.jsx(Ir,{className:"h-3 w-3"})})]})]})},g.product_sku))]})]})}),a.length>0&&n.jsxs("div",{className:"border-t p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["€",f().toFixed(2)]})]}),n.jsx(Vt,{className:"w-full",onClick:x,disabled:u.isPending,children:u.isPending?"Processing...":"Proceed to Checkout"})]})]})]}):null}function Q$e(){const[e,t]=_.useState(!1);return n.jsxs("div",{className:"container mx-auto p-6",children:[n.jsxs(Rt,{className:"max-w-4xl mx-auto",children:[n.jsx(Ar,{children:n.jsxs(Lr,{className:"flex items-center gap-2",children:[n.jsx(td,{className:"h-6 w-6"}),"Gallery Shop Test Page"]})}),n.jsxs(Ut,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(a=>n.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-gray-500",children:["Gallery Image ",a]})},a))}),n.jsxs("div",{className:"text-center",children:[n.jsxs(Vt,{onClick:()=>t(!0),className:"bg-purple-600 hover:bg-purple-700",size:"lg",children:[n.jsx(td,{className:"h-5 w-5 mr-2"}),"Buy Prints"]}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Click to test the Gallery Shop functionality"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Gallery Shop Features:"}),n.jsxs("ul",{className:"text-sm space-y-1 text-gray-700",children:[n.jsx("li",{children:"✅ Print catalog with 7 products"}),n.jsx("li",{children:"✅ Shopping cart functionality"}),n.jsx("li",{children:"✅ Order creation and tracking"}),n.jsx("li",{children:"✅ Stripe checkout integration (ready)"}),n.jsx("li",{children:"✅ CRM agent tool registered (#7)"})]})]})]})]}),n.jsx(X$e,{galleryId:"123e4567-e89b-12d3-a456-426614174000",clientId:"456e7890-e89b-12d3-a456-426614174001",isOpen:e,onClose:()=>t(!1)})]})}const J$e=()=>{const e=[{name:"crm_clients.csv",description:"Complete Client Database (2,153 records)",size:"520KB",icon:n.jsx(Qn,{className:"h-6 w-6"}),priority:"high"},{name:"blog_posts.csv",description:"Published Blog Posts (15 posts)",size:"185KB",icon:n.jsx(cs,{className:"h-6 w-6"}),priority:"medium"},{name:"photography_sessions.csv",description:"Photography Sessions (9 sessions)",size:"6KB",icon:n.jsx(fn,{className:"h-6 w-6"}),priority:"medium"},{name:"knowledge_base.csv",description:"CRM Agent Knowledge (5 entries)",size:"34KB",icon:n.jsx(uF,{className:"h-6 w-6"}),priority:"low"},{name:"crm_leads.csv",description:"Sales Leads (2 prospects)",size:"1KB",icon:n.jsx(vF,{className:"h-6 w-6"}),priority:"medium"},{name:"users.csv",description:"Admin Users (2 accounts)",size:"1KB",icon:n.jsx(Qn,{className:"h-6 w-6"}),priority:"low"}],t=r=>{const s=document.createElement("a");s.href=`/${r}`,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Database Export - CSV Downloads"}),n.jsx("p",{className:"text-gray-600",children:"Download your complete database as CSV files"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Total: 2,186 records across 6 main tables"})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>n.jsxs("div",{className:`bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow ${r.priority==="high"?"ring-2 ring-purple-200 bg-purple-50":""}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${r.priority==="high"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:r.icon}),r.priority==="high"&&n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Priority"})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:r.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r.description}),n.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Size: ",r.size]}),n.jsxs("button",{onClick:()=>t(r.name),className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-md font-medium transition-colors ${r.priority==="high"?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:[n.jsx(Ls,{className:"h-4 w-4"}),"Download"]})]},r.name))}),n.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Download Instructions"}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Most Important:"})," ",n.jsx("code",{children:"crm_clients.csv"})," contains your 2,153 client records - your main business database."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Usage:"})," Open CSV files in Excel, Google Sheets, or import into any database system."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Migration:"})," Use these files to migrate your data to any new system that accepts CSV imports."]})]})]}),n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Alternative Download Methods:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:'• Right-click any CSV file in the Replit Files panel and select "Download"'}),n.jsxs("li",{children:["• Files are also available in the ",n.jsx("code",{children:"public/"})," folder"]}),n.jsxs("li",{children:["• Complete archive available as ",n.jsx("code",{children:"database-csv-export.tar.gz"})]})]})]})]})})};function eBe(){return n.jsx(dJ,{client:NJ,children:n.jsx(PJ,{children:n.jsx(EJ,{children:n.jsx(CJ,{children:n.jsx(OJ,{children:n.jsx(IJ,{children:n.jsxs(RQ,{children:[n.jsxs(FQ,{children:[n.jsx(pt,{path:"/",element:n.jsx(f5,{})}),n.jsx(pt,{path:"/fotoshootings",element:n.jsx(vte,{})}),n.jsx(pt,{path:"/fotoshootings/business",element:n.jsx(H$e,{})}),n.jsx(pt,{path:"/fotoshootings/event",element:n.jsx(G$e,{})}),n.jsx(pt,{path:"/fotoshootings/wedding",element:n.jsx(K$e,{})}),n.jsx(pt,{path:"/gutschein",element:n.jsx(bte,{})}),n.jsx(pt,{path:"/gutschein/family",element:n.jsx(q$e,{})}),n.jsx(pt,{path:"/gutschein/newborn",element:n.jsx(V$e,{})}),n.jsx(pt,{path:"/gutschein/maternity",element:n.jsx(W$e,{})}),n.jsx(pt,{path:"/blog",element:n.jsx(wte,{})}),n.jsx(pt,{path:"/blog/:slug",element:n.jsx(gre,{})}),n.jsx(pt,{path:"/warteliste",element:n.jsx(xre,{})}),n.jsx(pt,{path:"/kontakt",element:n.jsx(yre,{})}),n.jsx(pt,{path:"/vouchers",element:n.jsx(wre,{})}),n.jsx(pt,{path:"/voucher/:slug",element:n.jsx(Nre,{})}),n.jsx(pt,{path:"/vouchers/checkout/:id",element:n.jsx(ese,{})}),n.jsx(pt,{path:"/vouchers/success",element:n.jsx(tse,{})}),n.jsx(pt,{path:"/checkout/:id",element:n.jsx(nse,{})}),n.jsx(pt,{path:"/order-complete/:id",element:n.jsx(sse,{})}),"                ",n.jsx(pt,{path:"/account",element:n.jsx(ise,{})}),n.jsx(pt,{path:"/account/profile",element:n.jsx(ose,{})}),n.jsx(pt,{path:"/cart",element:n.jsx(U$e,{})}),n.jsx(pt,{path:"/galleries",element:n.jsx(ID,{})}),n.jsx(pt,{path:"/galerie",element:n.jsx(ID,{})}),n.jsx(pt,{path:"/gallery/:slug",element:n.jsx(LD,{})}),n.jsx(pt,{path:"/gallery",element:n.jsx(z$e,{children:n.jsx(LD,{})})}),n.jsx(pt,{path:"/survey-demo",element:n.jsx(l$e,{})}),n.jsx(pt,{path:"/survey/:id",element:n.jsx(c$e,{})}),n.jsx(pt,{path:"/download-data",element:n.jsx(J$e,{})}),n.jsx(pt,{path:"/admin/login",element:n.jsx(vke,{})}),n.jsx(pt,{path:"/admin/supabase-login",element:n.jsx(gke,{})}),n.jsx(pt,{path:"/admin/dev",element:n.jsx(pke,{})}),n.jsx(pt,{path:"/admin",element:n.jsx(jr,{children:n.jsx(eL,{})})}),n.jsx(pt,{path:"/admin/dashboard",element:n.jsx(jr,{children:n.jsx(eL,{})})}),n.jsx(pt,{path:"/admin/leads",element:n.jsx(jr,{children:n.jsx(Nke,{})})}),n.jsx(pt,{path:"/admin/voucher-sales",element:n.jsx(jr,{children:n.jsx(wOe,{})})}),n.jsx(pt,{path:"/admin/clients",element:n.jsx(jr,{children:n.jsx(COe,{})})}),n.jsx(pt,{path:"/admin/clients/new",element:n.jsx(jr,{children:n.jsx(o_,{})})}),n.jsx(pt,{path:"/admin/clients/:id",element:n.jsx(jr,{children:n.jsx(POe,{})})}),n.jsx(pt,{path:"/admin/clients/:id/edit",element:n.jsx(jr,{children:n.jsx(o_,{})})}),n.jsx(pt,{path:"/admin/clients/import",element:n.jsx(jr,{children:n.jsx(TOe,{})})}),n.jsx(pt,{path:"/admin/clients/import-logs",element:n.jsx(jr,{children:n.jsx(LOe,{})})}),n.jsx(pt,{path:"/admin/high-value-clients",element:n.jsx(jr,{children:n.jsx(IOe,{})})}),n.jsx(pt,{path:"/admin/galleries",element:n.jsx(jr,{children:n.jsx(MOe,{})})}),n.jsx(pt,{path:"/admin/galleries/new",element:n.jsx(jr,{children:n.jsx(ZOe,{})})}),n.jsx(pt,{path:"/admin/galleries/:id/edit",element:n.jsx(jr,{children:n.jsx(XOe,{})})}),n.jsx(pt,{path:"/admin/galleries/:id",element:n.jsx(jr,{children:n.jsx(a8e,{})})}),n.jsx(pt,{path:"/admin/calendar",element:n.jsx(jr,{children:n.jsx(TD,{})})}),n.jsx(pt,{path:"/admin/invoices",element:n.jsx(jr,{children:n.jsx(E9e,{})})}),n.jsx(pt,{path:"/admin/files",element:n.jsx(jr,{children:n.jsx(CD,{})})}),n.jsx(pt,{path:"/admin/digital-files",element:n.jsx(jr,{children:n.jsx(CD,{})})}),n.jsx(pt,{path:"/admin/campaigns",element:n.jsx(jr,{children:n.jsx(PD,{})})}),n.jsx(pt,{path:"/admin/email-campaigns",element:n.jsx(jr,{children:n.jsx(PD,{})})}),n.jsx(pt,{path:"/admin/inbox",element:n.jsx(jr,{children:n.jsx(Z9e,{})})}),n.jsx(pt,{path:"/admin/questionnaires",element:n.jsx(jr,{children:n.jsx(J9e,{})})}),n.jsx(pt,{path:"/admin/reports",element:n.jsx(jr,{children:n.jsx(e$e,{})})}),n.jsx(pt,{path:"/admin/crm-assistant",element:n.jsx(jr,{children:n.jsx(m$e,{})})}),n.jsx(pt,{path:"/admin/knowledge-base",element:n.jsx(jr,{children:n.jsx(f$e,{})})}),n.jsx(pt,{path:"/admin/test",element:n.jsx(jr,{children:n.jsx(F$e,{})})}),n.jsx(pt,{path:"/admin/customization",element:n.jsx(jr,{children:n.jsx(t$e,{})})}),n.jsx(pt,{path:"/admin/studio-templates",element:n.jsx(jr,{children:n.jsx(n$e,{})})}),n.jsx(pt,{path:"/admin/website-wizard",element:n.jsx(jr,{children:n.jsx(s$e,{})})}),n.jsx(pt,{path:"/admin/website-analyzer",element:n.jsx(jr,{children:n.jsx(B$e,{})})}),n.jsx(pt,{path:"/",element:n.jsx(f5,{})}),n.jsx(pt,{path:"/home",element:n.jsx(f5,{})}),n.jsx(pt,{path:"/admin/calendar",element:n.jsx(jr,{children:n.jsx(TD,{})})}),n.jsx(pt,{path:"/admin/blog",element:n.jsx(jr,{children:n.jsx(OD,{})})}),n.jsx(pt,{path:"/admin/blog/posts",element:n.jsx(jr,{children:n.jsx(OD,{})})}),n.jsx(pt,{path:"/admin/blog/new",element:n.jsx(jr,{children:n.jsx(d$e,{})})}),n.jsx(pt,{path:"/admin/blog/edit/:id",element:n.jsx(jr,{children:n.jsx(h$e,{})})}),n.jsx(pt,{path:"/admin/autoblog",element:n.jsx(jr,{children:n.jsx(A1,{})})}),n.jsx(pt,{path:"/admin/autoblog-generator",element:n.jsx(jr,{children:n.jsx(R$e,{})})}),n.jsx(pt,{path:"/admin/autoblog-generator-fixed",element:n.jsx(jr,{children:n.jsx(A1,{})})}),n.jsx(pt,{path:"/admin/autoblog-v3",element:n.jsx(jr,{children:n.jsx(A1,{})})}),n.jsx(pt,{path:"/admin/autoblog-v4",element:n.jsx(jr,{children:n.jsx(A1,{})})}),n.jsx(pt,{path:"/admin/clients/new",element:n.jsx(jr,{children:n.jsx(o_,{})})}),n.jsx(pt,{path:"/gallery-shop-test",element:n.jsx(Q$e,{})})]}),n.jsx(Z$e,{})]})})})})})})})}{const e=console.error;console.error=(...t)=>{fetch("/api/client-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:t.join(" "),timestamp:new Date().toISOString()})}).catch(()=>{}),e.apply(console,t)}}window.addEventListener("load",()=>{document.body.style.pointerEvents="auto",document.body.style.userSelect="auto",document.body.style.overflow="auto",document.documentElement.style.overflow="auto"});const MD=()=>{try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found");B7(e).render(n.jsx(_.StrictMode,{children:n.jsx(eBe,{})}))}catch(e){console.error("Failed to initialize app:",e);const t=document.getElementById("root");t&&(t.innerHTML=`
        <div style="
          display: flex; 
          align-items: center; 
          justify-content: center; 
          min-height: 100vh; 
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          text-align: center;
          font-family: system-ui, -apple-system, sans-serif;
        ">
          <div style="
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
          ">
            <h1 style="margin: 0 0 20px 0; font-size: 2rem;">NEW AGE FOTOGRAFIE</h1>
            <p style="margin: 0 0 20px 0;">Lade Anwendung...</p>
            <p style="margin: 0; opacity: 0.8;">
              Bei Problemen kontaktieren Sie uns: 
              <a href="mailto:hallo@newagefotografie.com" style="color: #fff;">hallo@newagefotografie.com</a>
            </p>
          </div>
        </div>
      `,setTimeout(()=>window.location.reload(),3e3))}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",MD):MD();export{_n as _};
